function lue(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Z1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e4={exports:{}},J1={};var P8;function cue(){if(P8)return J1;P8=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return J1.Fragment=e,J1.jsx=r,J1.jsxs=r,J1}var O8;function uue(){return O8||(O8=1,e4.exports=cue()),e4.exports}var s=uue(),t4={exports:{}},Gs={};var R8;function due(){if(R8)return Gs;R8=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),m=Symbol.iterator;function p(be){return be===null||typeof be!="object"?null:(be=m&&be[m]||be["@@iterator"],typeof be=="function"?be:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function w(be,he,Ie){this.props=be,this.context=he,this.refs=y,this.updater=Ie||g}w.prototype.isReactComponent={},w.prototype.setState=function(be,he){if(typeof be!="object"&&typeof be!="function"&&be!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,be,he,"setState")},w.prototype.forceUpdate=function(be){this.updater.enqueueForceUpdate(this,be,"forceUpdate")};function E(){}E.prototype=w.prototype;function _(be,he,Ie){this.props=be,this.context=he,this.refs=y,this.updater=Ie||g}var N=_.prototype=new E;N.constructor=_,x(N,w.prototype),N.isPureReactComponent=!0;var C=Array.isArray;function I(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function Y(be,he,Ie){var Oe=Ie.ref;return{$$typeof:t,type:be,key:he,ref:Oe!==void 0?Oe:null,props:Ie}}function X(be,he){return Y(be.type,he,be.props)}function te(be){return typeof be=="object"&&be!==null&&be.$$typeof===t}function de(be){var he={"=":"=0",":":"=2"};return"$"+be.replace(/[=:]/g,function(Ie){return he[Ie]})}var ye=/\/+/g;function we(be,he){return typeof be=="object"&&be!==null&&be.key!=null?de(""+be.key):he.toString(36)}function ve(be){switch(be.status){case"fulfilled":return be.value;case"rejected":throw be.reason;default:switch(typeof be.status=="string"?be.then(I,I):(be.status="pending",be.then(function(he){be.status==="pending"&&(be.status="fulfilled",be.value=he)},function(he){be.status==="pending"&&(be.status="rejected",be.reason=he)})),be.status){case"fulfilled":return be.value;case"rejected":throw be.reason}}throw be}function ne(be,he,Ie,Oe,$e){var De=typeof be;(De==="undefined"||De==="boolean")&&(be=null);var ct=!1;if(be===null)ct=!0;else switch(De){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(be.$$typeof){case t:case e:ct=!0;break;case d:return ct=be._init,ne(ct(be._payload),he,Ie,Oe,$e)}}if(ct)return $e=$e(be),ct=Oe===""?"."+we(be,0):Oe,C($e)?(Ie="",ct!=null&&(Ie=ct.replace(ye,"$&/")+"/"),ne($e,he,Ie,"",function(He){return He})):$e!=null&&(te($e)&&($e=X($e,Ie+($e.key==null||be&&be.key===$e.key?"":(""+$e.key).replace(ye,"$&/")+"/")+ct)),he.push($e)),1;ct=0;var pt=Oe===""?".":Oe+":";if(C(be))for(var Ue=0;Ue<be.length;Ue++)Oe=be[Ue],De=pt+we(Oe,Ue),ct+=ne(Oe,he,Ie,De,$e);else if(Ue=p(be),typeof Ue=="function")for(be=Ue.call(be),Ue=0;!(Oe=be.next()).done;)Oe=Oe.value,De=pt+we(Oe,Ue++),ct+=ne(Oe,he,Ie,De,$e);else if(De==="object"){if(typeof be.then=="function")return ne(ve(be),he,Ie,Oe,$e);throw he=String(be),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(be).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return ct}function ae(be,he,Ie){if(be==null)return be;var Oe=[],$e=0;return ne(be,Oe,"","",function(De){return he.call(Ie,De,$e++)}),Oe}function oe(be){if(be._status===-1){var he=be._result;he=he(),he.then(function(Ie){(be._status===0||be._status===-1)&&(be._status=1,be._result=Ie)},function(Ie){(be._status===0||be._status===-1)&&(be._status=2,be._result=Ie)}),be._status===-1&&(be._status=0,be._result=he)}if(be._status===1)return be._result.default;throw be._result}var Re=typeof reportError=="function"?reportError:function(be){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof be=="object"&&be!==null&&typeof be.message=="string"?String(be.message):String(be),error:be});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",be);return}console.error(be)},Pe={map:ae,forEach:function(be,he,Ie){ae(be,function(){he.apply(this,arguments)},Ie)},count:function(be){var he=0;return ae(be,function(){he++}),he},toArray:function(be){return ae(be,function(he){return he})||[]},only:function(be){if(!te(be))throw Error("React.Children.only expected to receive a single React element child.");return be}};return Gs.Activity=f,Gs.Children=Pe,Gs.Component=w,Gs.Fragment=r,Gs.Profiler=i,Gs.PureComponent=_,Gs.StrictMode=n,Gs.Suspense=u,Gs.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Gs.__COMPILER_RUNTIME={__proto__:null,c:function(be){return D.H.useMemoCache(be)}},Gs.cache=function(be){return function(){return be.apply(null,arguments)}},Gs.cacheSignal=function(){return null},Gs.cloneElement=function(be,he,Ie){if(be==null)throw Error("The argument must be a React element, but you passed "+be+".");var Oe=x({},be.props),$e=be.key;if(he!=null)for(De in he.key!==void 0&&($e=""+he.key),he)!M.call(he,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&he.ref===void 0||(Oe[De]=he[De]);var De=arguments.length-2;if(De===1)Oe.children=Ie;else if(1<De){for(var ct=Array(De),pt=0;pt<De;pt++)ct[pt]=arguments[pt+2];Oe.children=ct}return Y(be.type,$e,Oe)},Gs.createContext=function(be){return be={$$typeof:o,_currentValue:be,_currentValue2:be,_threadCount:0,Provider:null,Consumer:null},be.Provider=be,be.Consumer={$$typeof:a,_context:be},be},Gs.createElement=function(be,he,Ie){var Oe,$e={},De=null;if(he!=null)for(Oe in he.key!==void 0&&(De=""+he.key),he)M.call(he,Oe)&&Oe!=="key"&&Oe!=="__self"&&Oe!=="__source"&&($e[Oe]=he[Oe]);var ct=arguments.length-2;if(ct===1)$e.children=Ie;else if(1<ct){for(var pt=Array(ct),Ue=0;Ue<ct;Ue++)pt[Ue]=arguments[Ue+2];$e.children=pt}if(be&&be.defaultProps)for(Oe in ct=be.defaultProps,ct)$e[Oe]===void 0&&($e[Oe]=ct[Oe]);return Y(be,De,$e)},Gs.createRef=function(){return{current:null}},Gs.forwardRef=function(be){return{$$typeof:c,render:be}},Gs.isValidElement=te,Gs.lazy=function(be){return{$$typeof:d,_payload:{_status:-1,_result:be},_init:oe}},Gs.memo=function(be,he){return{$$typeof:l,type:be,compare:he===void 0?null:he}},Gs.startTransition=function(be){var he=D.T,Ie={};D.T=Ie;try{var Oe=be(),$e=D.S;$e!==null&&$e(Ie,Oe),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"&&Oe.then(I,Re)}catch(De){Re(De)}finally{he!==null&&Ie.types!==null&&(he.types=Ie.types),D.T=he}},Gs.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Gs.use=function(be){return D.H.use(be)},Gs.useActionState=function(be,he,Ie){return D.H.useActionState(be,he,Ie)},Gs.useCallback=function(be,he){return D.H.useCallback(be,he)},Gs.useContext=function(be){return D.H.useContext(be)},Gs.useDebugValue=function(){},Gs.useDeferredValue=function(be,he){return D.H.useDeferredValue(be,he)},Gs.useEffect=function(be,he){return D.H.useEffect(be,he)},Gs.useEffectEvent=function(be){return D.H.useEffectEvent(be)},Gs.useId=function(){return D.H.useId()},Gs.useImperativeHandle=function(be,he,Ie){return D.H.useImperativeHandle(be,he,Ie)},Gs.useInsertionEffect=function(be,he){return D.H.useInsertionEffect(be,he)},Gs.useLayoutEffect=function(be,he){return D.H.useLayoutEffect(be,he)},Gs.useMemo=function(be,he){return D.H.useMemo(be,he)},Gs.useOptimistic=function(be,he){return D.H.useOptimistic(be,he)},Gs.useReducer=function(be,he,Ie){return D.H.useReducer(be,he,Ie)},Gs.useRef=function(be){return D.H.useRef(be)},Gs.useState=function(be){return D.H.useState(be)},Gs.useSyncExternalStore=function(be,he,Ie){return D.H.useSyncExternalStore(be,he,Ie)},Gs.useTransition=function(){return D.H.useTransition()},Gs.version="19.2.4",Gs}var D8;function f1(){return D8||(D8=1,t4.exports=due()),t4.exports}var T=f1();const Ao=Gh(T),hue=lue({__proto__:null,default:Ao},[T]);var r4={exports:{}},ew={},n4={exports:{}},i4={};var M8;function fue(){return M8||(M8=1,(function(t){function e(ne,ae){var oe=ne.length;ne.push(ae);e:for(;0<oe;){var Re=oe-1>>>1,Pe=ne[Re];if(0<i(Pe,ae))ne[Re]=ae,ne[oe]=Pe,oe=Re;else break e}}function r(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ae=ne[0],oe=ne.pop();if(oe!==ae){ne[0]=oe;e:for(var Re=0,Pe=ne.length,be=Pe>>>1;Re<be;){var he=2*(Re+1)-1,Ie=ne[he],Oe=he+1,$e=ne[Oe];if(0>i(Ie,oe))Oe<Pe&&0>i($e,Ie)?(ne[Re]=$e,ne[Oe]=oe,Re=Oe):(ne[Re]=Ie,ne[he]=oe,Re=he);else if(Oe<Pe&&0>i($e,oe))ne[Re]=$e,ne[Oe]=oe,Re=Oe;else break e}}return ae}function i(ne,ae){var oe=ne.sortIndex-ae.sortIndex;return oe!==0?oe:ne.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var u=[],l=[],d=1,f=null,m=3,p=!1,g=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function N(ne){for(var ae=r(l);ae!==null;){if(ae.callback===null)n(l);else if(ae.startTime<=ne)n(l),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=r(l)}}function C(ne){if(x=!1,N(ne),!g)if(r(u)!==null)g=!0,I||(I=!0,de());else{var ae=r(l);ae!==null&&ve(C,ae.startTime-ne)}}var I=!1,D=-1,M=5,Y=-1;function X(){return y?!0:!(t.unstable_now()-Y<M)}function te(){if(y=!1,I){var ne=t.unstable_now();Y=ne;var ae=!0;try{e:{g=!1,x&&(x=!1,E(D),D=-1),p=!0;var oe=m;try{t:{for(N(ne),f=r(u);f!==null&&!(f.expirationTime>ne&&X());){var Re=f.callback;if(typeof Re=="function"){f.callback=null,m=f.priorityLevel;var Pe=Re(f.expirationTime<=ne);if(ne=t.unstable_now(),typeof Pe=="function"){f.callback=Pe,N(ne),ae=!0;break t}f===r(u)&&n(u),N(ne)}else n(u);f=r(u)}if(f!==null)ae=!0;else{var be=r(l);be!==null&&ve(C,be.startTime-ne),ae=!1}}break e}finally{f=null,m=oe,p=!1}ae=void 0}}finally{ae?de():I=!1}}}var de;if(typeof _=="function")de=function(){_(te)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,we=ye.port2;ye.port1.onmessage=te,de=function(){we.postMessage(null)}}else de=function(){w(te,0)};function ve(ne,ae){D=w(function(){ne(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(ne){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var oe=m;m=ae;try{return ne()}finally{m=oe}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(ne,ae){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=m;m=ne;try{return ae()}finally{m=oe}},t.unstable_scheduleCallback=function(ne,ae,oe){var Re=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Re+oe:Re):oe=Re,ne){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=oe+Pe,ne={id:d++,callback:ae,priorityLevel:ne,startTime:oe,expirationTime:Pe,sortIndex:-1},oe>Re?(ne.sortIndex=oe,e(l,ne),r(u)===null&&ne===r(l)&&(x?(E(D),D=-1):x=!0,ve(C,oe-Re))):(ne.sortIndex=Pe,e(u,ne),g||p||(g=!0,I||(I=!0,de()))),ne},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(ne){var ae=m;return function(){var oe=m;m=ae;try{return ne.apply(this,arguments)}finally{m=oe}}}})(i4)),i4}var F8;function mue(){return F8||(F8=1,n4.exports=fue()),n4.exports}var s4={exports:{}},eh={};var U8;function Aue(){if(U8)return eh;U8=1;var t=f1();function e(u){var l="https://react.dev/errors/"+u;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+u+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,l,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:u,containerInfo:l,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,l){if(u==="font")return"";if(typeof l=="string")return l==="use-credentials"?l:""}return eh.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,eh.createPortal=function(u,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return a(u,l,null,d)},eh.flushSync=function(u){var l=o.T,d=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=l,n.p=d,n.d.f()}},eh.preconnect=function(u,l){typeof u=="string"&&(l?(l=l.crossOrigin,l=typeof l=="string"?l==="use-credentials"?l:"":void 0):l=null,n.d.C(u,l))},eh.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},eh.preinit=function(u,l){if(typeof u=="string"&&l&&typeof l.as=="string"){var d=l.as,f=c(d,l.crossOrigin),m=typeof l.integrity=="string"?l.integrity:void 0,p=typeof l.fetchPriority=="string"?l.fetchPriority:void 0;d==="style"?n.d.S(u,typeof l.precedence=="string"?l.precedence:void 0,{crossOrigin:f,integrity:m,fetchPriority:p}):d==="script"&&n.d.X(u,{crossOrigin:f,integrity:m,fetchPriority:p,nonce:typeof l.nonce=="string"?l.nonce:void 0})}},eh.preinitModule=function(u,l){if(typeof u=="string")if(typeof l=="object"&&l!==null){if(l.as==null||l.as==="script"){var d=c(l.as,l.crossOrigin);n.d.M(u,{crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0})}}else l==null&&n.d.M(u)},eh.preload=function(u,l){if(typeof u=="string"&&typeof l=="object"&&l!==null&&typeof l.as=="string"){var d=l.as,f=c(d,l.crossOrigin);n.d.L(u,d,{crossOrigin:f,integrity:typeof l.integrity=="string"?l.integrity:void 0,nonce:typeof l.nonce=="string"?l.nonce:void 0,type:typeof l.type=="string"?l.type:void 0,fetchPriority:typeof l.fetchPriority=="string"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy=="string"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet=="string"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes=="string"?l.imageSizes:void 0,media:typeof l.media=="string"?l.media:void 0})}},eh.preloadModule=function(u,l){if(typeof u=="string")if(l){var d=c(l.as,l.crossOrigin);n.d.m(u,{as:typeof l.as=="string"&&l.as!=="script"?l.as:void 0,crossOrigin:d,integrity:typeof l.integrity=="string"?l.integrity:void 0})}else n.d.m(u)},eh.requestFormReset=function(u){n.d.r(u)},eh.unstable_batchedUpdates=function(u,l){return u(l)},eh.useFormState=function(u,l,d){return o.H.useFormState(u,l,d)},eh.useFormStatus=function(){return o.H.useHostTransitionStatus()},eh.version="19.2.4",eh}var $8;function GY(){if($8)return s4.exports;$8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s4.exports=Aue(),s4.exports}var H8;function pue(){if(H8)return ew;H8=1;var t=mue(),e=f1(),r=GY();function n(h){var A="https://react.dev/errors/"+h;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)A+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+h+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function a(h){var A=h,b=h;if(h.alternate)for(;A.return;)A=A.return;else{h=A;do A=h,(A.flags&4098)!==0&&(b=A.return),h=A.return;while(h)}return A.tag===3?b:null}function o(h){if(h.tag===13){var A=h.memoizedState;if(A===null&&(h=h.alternate,h!==null&&(A=h.memoizedState)),A!==null)return A.dehydrated}return null}function c(h){if(h.tag===31){var A=h.memoizedState;if(A===null&&(h=h.alternate,h!==null&&(A=h.memoizedState)),A!==null)return A.dehydrated}return null}function u(h){if(a(h)!==h)throw Error(n(188))}function l(h){var A=h.alternate;if(!A){if(A=a(h),A===null)throw Error(n(188));return A!==h?null:h}for(var b=h,j=A;;){var W=b.return;if(W===null)break;var J=W.alternate;if(J===null){if(j=W.return,j!==null){b=j;continue}break}if(W.child===J.child){for(J=W.child;J;){if(J===b)return u(W),h;if(J===j)return u(W),A;J=J.sibling}throw Error(n(188))}if(b.return!==j.return)b=W,j=J;else{for(var Ce=!1,tt=W.child;tt;){if(tt===b){Ce=!0,b=W,j=J;break}if(tt===j){Ce=!0,j=W,b=J;break}tt=tt.sibling}if(!Ce){for(tt=J.child;tt;){if(tt===b){Ce=!0,b=J,j=W;break}if(tt===j){Ce=!0,j=J,b=W;break}tt=tt.sibling}if(!Ce)throw Error(n(189))}}if(b.alternate!==j)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?h:A}function d(h){var A=h.tag;if(A===5||A===26||A===27||A===6)return h;for(h=h.child;h!==null;){if(A=d(h),A!==null)return A;h=h.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),_=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function de(h){return h===null||typeof h!="object"?null:(h=te&&h[te]||h["@@iterator"],typeof h=="function"?h:null)}var ye=Symbol.for("react.client.reference");function we(h){if(h==null)return null;if(typeof h=="function")return h.$$typeof===ye?null:h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case x:return"Fragment";case w:return"Profiler";case y:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case Y:return"Activity"}if(typeof h=="object")switch(h.$$typeof){case g:return"Portal";case _:return h.displayName||"Context";case E:return(h._context.displayName||"Context")+".Consumer";case N:var A=h.render;return h=h.displayName,h||(h=A.displayName||A.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case D:return A=h.displayName||null,A!==null?A:we(h.type)||"Memo";case M:A=h._payload,h=h._init;try{return we(h(A))}catch{}}return null}var ve=Array.isArray,ne=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Re=[],Pe=-1;function be(h){return{current:h}}function he(h){0>Pe||(h.current=Re[Pe],Re[Pe]=null,Pe--)}function Ie(h,A){Pe++,Re[Pe]=h.current,h.current=A}var Oe=be(null),$e=be(null),De=be(null),ct=be(null);function pt(h,A){switch(Ie(De,A),Ie($e,h),Ie(Oe,null),A.nodeType){case 9:case 11:h=(h=A.documentElement)&&(h=h.namespaceURI)?n8(h):0;break;default:if(h=A.tagName,A=A.namespaceURI)A=n8(A),h=i8(A,h);else switch(h){case"svg":h=1;break;case"math":h=2;break;default:h=0}}he(Oe),Ie(Oe,h)}function Ue(){he(Oe),he($e),he(De)}function He(h){h.memoizedState!==null&&Ie(ct,h);var A=Oe.current,b=i8(A,h.type);A!==b&&(Ie($e,h),Ie(Oe,b))}function Ye(h){$e.current===h&&(he(Oe),he($e)),ct.current===h&&(he(ct),W1._currentValue=oe)}var Se,mt;function qe(h){if(Se===void 0)try{throw Error()}catch(b){var A=b.stack.trim().match(/\n( *(at )?)/);Se=A&&A[1]||"",mt=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+h+mt}var Tt=!1;function bt(h,A){if(!h||Tt)return"";Tt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(A){var tn=function(){throw Error()};if(Object.defineProperty(tn.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tn,[])}catch(Or){var kr=Or}Reflect.construct(h,[],tn)}else{try{tn.call()}catch(Or){kr=Or}h.call(tn.prototype)}}else{try{throw Error()}catch(Or){kr=Or}(tn=h())&&typeof tn.catch=="function"&&tn.catch(function(){})}}catch(Or){if(Or&&kr&&typeof Or.stack=="string")return[Or.stack,kr.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var W=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");W&&W.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var J=j.DetermineComponentFrameRoot(),Ce=J[0],tt=J[1];if(Ce&&tt){var Pt=Ce.split(`
`),Cr=tt.split(`
`);for(W=j=0;j<Pt.length&&!Pt[j].includes("DetermineComponentFrameRoot");)j++;for(;W<Cr.length&&!Cr[W].includes("DetermineComponentFrameRoot");)W++;if(j===Pt.length||W===Cr.length)for(j=Pt.length-1,W=Cr.length-1;1<=j&&0<=W&&Pt[j]!==Cr[W];)W--;for(;1<=j&&0<=W;j--,W--)if(Pt[j]!==Cr[W]){if(j!==1||W!==1)do if(j--,W--,0>W||Pt[j]!==Cr[W]){var Yr=`
`+Pt[j].replace(" at new "," at ");return h.displayName&&Yr.includes("<anonymous>")&&(Yr=Yr.replace("<anonymous>",h.displayName)),Yr}while(1<=j&&0<=W);break}}}finally{Tt=!1,Error.prepareStackTrace=b}return(b=h?h.displayName||h.name:"")?qe(b):""}function gt(h,A){switch(h.tag){case 26:case 27:case 5:return qe(h.type);case 16:return qe("Lazy");case 13:return h.child!==A&&A!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return bt(h.type,!1);case 11:return bt(h.type.render,!1);case 1:return bt(h.type,!0);case 31:return qe("Activity");default:return""}}function wt(h){try{var A="",b=null;do A+=gt(h,b),b=h,h=h.return;while(h);return A}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}var rr=Object.prototype.hasOwnProperty,Jt=t.unstable_scheduleCallback,ar=t.unstable_cancelCallback,Dr=t.unstable_shouldYield,mn=t.unstable_requestPaint,$r=t.unstable_now,or=t.unstable_getCurrentPriorityLevel,vr=t.unstable_ImmediatePriority,cn=t.unstable_UserBlockingPriority,bn=t.unstable_NormalPriority,Un=t.unstable_LowPriority,st=t.unstable_IdlePriority,Ht=t.log,Lr=t.unstable_setDisableYieldValue,tr=null,Qt=null;function dr(h){if(typeof Ht=="function"&&Lr(h),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(tr,h)}catch{}}var Wr=Math.clz32?Math.clz32:un,Jr=Math.log,kn=Math.LN2;function un(h){return h>>>=0,h===0?32:31-(Jr(h)/kn|0)|0}var Yn=256,on=262144,Vr=4194304;function xn(h){var A=h&42;if(A!==0)return A;switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return h&261888;case 262144:case 524288:case 1048576:case 2097152:return h&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return h&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return h}}function An(h,A,b){var j=h.pendingLanes;if(j===0)return 0;var W=0,J=h.suspendedLanes,Ce=h.pingedLanes;h=h.warmLanes;var tt=j&134217727;return tt!==0?(j=tt&~J,j!==0?W=xn(j):(Ce&=tt,Ce!==0?W=xn(Ce):b||(b=tt&~h,b!==0&&(W=xn(b))))):(tt=j&~J,tt!==0?W=xn(tt):Ce!==0?W=xn(Ce):b||(b=j&~h,b!==0&&(W=xn(b)))),W===0?0:A!==0&&A!==W&&(A&J)===0&&(J=W&-W,b=A&-A,J>=b||J===32&&(b&4194048)!==0)?A:W}function Mn(h,A){return(h.pendingLanes&~(h.suspendedLanes&~h.pingedLanes)&A)===0}function ci(h,A){switch(h){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cs(){var h=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),h}function Ms(h){for(var A=[],b=0;31>b;b++)A.push(h);return A}function Ns(h,A){h.pendingLanes|=A,A!==268435456&&(h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0)}function ti(h,A,b,j,W,J){var Ce=h.pendingLanes;h.pendingLanes=b,h.suspendedLanes=0,h.pingedLanes=0,h.warmLanes=0,h.expiredLanes&=b,h.entangledLanes&=b,h.errorRecoveryDisabledLanes&=b,h.shellSuspendCounter=0;var tt=h.entanglements,Pt=h.expirationTimes,Cr=h.hiddenUpdates;for(b=Ce&~b;0<b;){var Yr=31-Wr(b),tn=1<<Yr;tt[Yr]=0,Pt[Yr]=-1;var kr=Cr[Yr];if(kr!==null)for(Cr[Yr]=null,Yr=0;Yr<kr.length;Yr++){var Or=kr[Yr];Or!==null&&(Or.lane&=-536870913)}b&=~tn}j!==0&&dn(h,j,0),J!==0&&W===0&&h.tag!==0&&(h.suspendedLanes|=J&~(Ce&~A))}function dn(h,A,b){h.pendingLanes|=A,h.suspendedLanes&=~A;var j=31-Wr(A);h.entangledLanes|=A,h.entanglements[j]=h.entanglements[j]|1073741824|b&261930}function as(h,A){var b=h.entangledLanes|=A;for(h=h.entanglements;b;){var j=31-Wr(b),W=1<<j;W&A|h[j]&A&&(h[j]|=A),b&=~W}}function ta(h,A){var b=A&-A;return b=(b&42)!==0?1:Tn(b),(b&(h.suspendedLanes|A))!==0?0:b}function Tn(h){switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=128;break;case 268435456:h=134217728;break;default:h=0}return h}function Ln(h){return h&=-h,2<h?8<h?(h&134217727)!==0?32:268435456:8:2}function Fs(){var h=ae.p;return h!==0?h:(h=window.event,h===void 0?32:T8(h.type))}function Qs(h,A){var b=ae.p;try{return ae.p=h,A()}finally{ae.p=b}}var Us=Math.random().toString(36).slice(2),rs="__reactFiber$"+Us,qs="__reactProps$"+Us,Rs="__reactContainer$"+Us,Qa="__reactEvents$"+Us,hs="__reactListeners$"+Us,_u="__reactHandles$"+Us,ro="__reactResources$"+Us,$l="__reactMarker$"+Us;function su(h){delete h[rs],delete h[qs],delete h[Qa],delete h[hs],delete h[_u]}function pl(h){var A=h[rs];if(A)return A;for(var b=h.parentNode;b;){if(A=b[Rs]||b[rs]){if(b=A.alternate,A.child!==null||b!==null&&b.child!==null)for(h=d8(h);h!==null;){if(b=h[rs])return b;h=d8(h)}return A}h=b,b=h.parentNode}return null}function ra(h){if(h=h[rs]||h[Rs]){var A=h.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return h}return null}function Ya(h){var A=h.tag;if(A===5||A===26||A===27||A===6)return h.stateNode;throw Error(n(33))}function Ws(h){var A=h[ro];return A||(A=h[ro]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function ba(h){h[$l]=!0}var $s=new Set,Il={};function vo(h,A){no(h,A),no(h+"Capture",A)}function no(h,A){for(Il[h]=A,h=0;h<A.length;h++)$s.add(A[h])}var gl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},pc={};function zs(h){return rr.call(pc,h)?!0:rr.call(Hl,h)?!1:gl.test(h)?pc[h]=!0:(Hl[h]=!0,!1)}function ui(h,A,b){if(zs(A))if(b===null)h.removeAttribute(A);else{switch(typeof b){case"undefined":case"function":case"symbol":h.removeAttribute(A);return;case"boolean":var j=A.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){h.removeAttribute(A);return}}h.setAttribute(A,""+b)}}function ks(h,A,b){if(b===null)h.removeAttribute(A);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(A);return}h.setAttribute(A,""+b)}}function ja(h,A,b,j){if(j===null)h.removeAttribute(b);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":h.removeAttribute(b);return}h.setAttributeNS(A,b,""+j)}}function za(h){switch(typeof h){case"bigint":case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function Ta(h){var A=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function vi(h,A,b){var j=Object.getOwnPropertyDescriptor(h.constructor.prototype,A);if(!h.hasOwnProperty(A)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var W=j.get,J=j.set;return Object.defineProperty(h,A,{configurable:!0,get:function(){return W.call(this)},set:function(Ce){b=""+Ce,J.call(this,Ce)}}),Object.defineProperty(h,A,{enumerable:j.enumerable}),{getValue:function(){return b},setValue:function(Ce){b=""+Ce},stopTracking:function(){h._valueTracker=null,delete h[A]}}}}function ei(h){if(!h._valueTracker){var A=Ta(h)?"checked":"value";h._valueTracker=vi(h,A,""+h[A])}}function fs(h){if(!h)return!1;var A=h._valueTracker;if(!A)return!0;var b=A.getValue(),j="";return h&&(j=Ta(h)?h.checked?"true":"false":h.value),h=j,h!==b?(A.setValue(h),!0):!1}function wa(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}var Qo=/[\n"\\]/g;function Hi(h){return h.replace(Qo,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function zo(h,A,b,j,W,J,Ce,tt){h.name="",Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?h.type=Ce:h.removeAttribute("type"),A!=null?Ce==="number"?(A===0&&h.value===""||h.value!=A)&&(h.value=""+za(A)):h.value!==""+za(A)&&(h.value=""+za(A)):Ce!=="submit"&&Ce!=="reset"||h.removeAttribute("value"),A!=null?Xs(h,Ce,za(A)):b!=null?Xs(h,Ce,za(b)):j!=null&&h.removeAttribute("value"),W==null&&J!=null&&(h.defaultChecked=!!J),W!=null&&(h.checked=W&&typeof W!="function"&&typeof W!="symbol"),tt!=null&&typeof tt!="function"&&typeof tt!="symbol"&&typeof tt!="boolean"?h.name=""+za(tt):h.removeAttribute("name")}function Ea(h,A,b,j,W,J,Ce,tt){if(J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(h.type=J),A!=null||b!=null){if(!(J!=="submit"&&J!=="reset"||A!=null)){ei(h);return}b=b!=null?""+za(b):"",A=A!=null?""+za(A):b,tt||A===h.value||(h.value=A),h.defaultValue=A}j=j??W,j=typeof j!="function"&&typeof j!="symbol"&&!!j,h.checked=tt?h.checked:!!j,h.defaultChecked=!!j,Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"&&(h.name=Ce),ei(h)}function Xs(h,A,b){A==="number"&&wa(h.ownerDocument)===h||h.defaultValue===""+b||(h.defaultValue=""+b)}function ms(h,A,b,j){if(h=h.options,A){A={};for(var W=0;W<b.length;W++)A["$"+b[W]]=!0;for(b=0;b<h.length;b++)W=A.hasOwnProperty("$"+h[b].value),h[b].selected!==W&&(h[b].selected=W),W&&j&&(h[b].defaultSelected=!0)}else{for(b=""+za(b),A=null,W=0;W<h.length;W++){if(h[W].value===b){h[W].selected=!0,j&&(h[W].defaultSelected=!0);return}A!==null||h[W].disabled||(A=h[W])}A!==null&&(A.selected=!0)}}function jo(h,A,b){if(A!=null&&(A=""+za(A),A!==h.value&&(h.value=A),b==null)){h.defaultValue!==A&&(h.defaultValue=A);return}h.defaultValue=b!=null?""+za(b):""}function Va(h,A,b,j){if(A==null){if(j!=null){if(b!=null)throw Error(n(92));if(ve(j)){if(1<j.length)throw Error(n(93));j=j[0]}b=j}b==null&&(b=""),A=b}b=za(A),h.defaultValue=b,j=h.textContent,j===b&&j!==""&&j!==null&&(h.value=j),ei(h)}function Vs(h,A){if(A){var b=h.firstChild;if(b&&b===h.lastChild&&b.nodeType===3){b.nodeValue=A;return}}h.textContent=A}var qa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(h,A,b){var j=A.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?j?h.setProperty(A,""):A==="float"?h.cssFloat="":h[A]="":j?h.setProperty(A,b):typeof b!="number"||b===0||qa.has(A)?A==="float"?h.cssFloat=b:h[A]=(""+b).trim():h[A]=b+"px"}function io(h,A,b){if(A!=null&&typeof A!="object")throw Error(n(62));if(h=h.style,b!=null){for(var j in b)!b.hasOwnProperty(j)||A!=null&&A.hasOwnProperty(j)||(j.indexOf("--")===0?h.setProperty(j,""):j==="float"?h.cssFloat="":h[j]="");for(var W in A)j=A[W],A.hasOwnProperty(W)&&b[W]!==j&&xo(h,W,j)}else for(var J in A)A.hasOwnProperty(J)&&xo(h,J,A[J])}function Vo(h){if(h.indexOf("-")===-1)return!1;switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function se(h){return V.test(""+h)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":h}function ce(){}var $=null;function K(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ie=null,me=null;function je(h){var A=ra(h);if(A&&(h=A.stateNode)){var b=h[qs]||null;e:switch(h=A.stateNode,A.type){case"input":if(zo(h,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),A=b.name,b.type==="radio"&&A!=null){for(b=h;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+Hi(""+A)+'"][type="radio"]'),A=0;A<b.length;A++){var j=b[A];if(j!==h&&j.form===h.form){var W=j[qs]||null;if(!W)throw Error(n(90));zo(j,W.value,W.defaultValue,W.defaultValue,W.checked,W.defaultChecked,W.type,W.name)}}for(A=0;A<b.length;A++)j=b[A],j.form===h.form&&fs(j)}break e;case"textarea":jo(h,b.value,b.defaultValue);break e;case"select":A=b.value,A!=null&&ms(h,!!b.multiple,A,!1)}}}var Qe=!1;function ut(h,A,b){if(Qe)return h(A,b);Qe=!0;try{var j=h(A);return j}finally{if(Qe=!1,(ie!==null||me!==null)&&(Pu(),ie&&(A=ie,h=me,me=ie=null,je(A),h)))for(A=0;A<h.length;A++)je(h[A])}}function P(h,A){var b=h.stateNode;if(b===null)return null;var j=b[qs]||null;if(j===null)return null;b=j[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(h=h.type,j=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!j;break e;default:h=!1}if(h)return null;if(b&&typeof b!="function")throw Error(n(231,A,typeof b));return b}var k=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),F=!1;if(k)try{var G={};Object.defineProperty(G,"passive",{get:function(){F=!0}}),window.addEventListener("test",G,G),window.removeEventListener("test",G,G)}catch{F=!1}var Z=null,re=null,xe=null;function fe(){if(xe)return xe;var h,A=re,b=A.length,j,W="value"in Z?Z.value:Z.textContent,J=W.length;for(h=0;h<b&&A[h]===W[h];h++);var Ce=b-h;for(j=1;j<=Ce&&A[b-j]===W[J-j];j++);return xe=W.slice(h,1<j?1-j:void 0)}function Ae(h){var A=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&A===13&&(h=13)):h=A,h===10&&(h=13),32<=h||h===13?h:0}function ke(){return!0}function Ve(){return!1}function Je(h){function A(b,j,W,J,Ce){this._reactName=b,this._targetInst=W,this.type=j,this.nativeEvent=J,this.target=Ce,this.currentTarget=null;for(var tt in h)h.hasOwnProperty(tt)&&(b=h[tt],this[tt]=b?b(J):J[tt]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?ke:Ve,this.isPropagationStopped=Ve,this}return f(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=ke)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=ke)},persist:function(){},isPersistent:ke}),A}var lt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Te=Je(lt),jt=f({},lt,{view:0,detail:0}),ot=Je(jt),Nt,nt,Ot,qt=f({},jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Ot&&(Ot&&h.type==="mousemove"?(Nt=h.screenX-Ot.screenX,nt=h.screenY-Ot.screenY):nt=Nt=0,Ot=h),Nt)},movementY:function(h){return"movementY"in h?h.movementY:nt}}),It=Je(qt),rt=f({},qt,{dataTransfer:0}),Kt=Je(rt),Nr=f({},jt,{relatedTarget:0}),lr=Je(Nr),Mt=f({},lt,{animationName:0,elapsedTime:0,pseudoElement:0}),_r=Je(Mt),at=f({},lt,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),At=Je(at),Rt=f({},lt,{data:0}),Dt=Je(Rt),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ur(h){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(h):(h=Mr[h])?!!A[h]:!1}function Rr(){return ur}var gn=f({},jt,{key:function(h){if(h.key){var A=xr[h.key]||h.key;if(A!=="Unidentified")return A}return h.type==="keypress"?(h=Ae(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Br[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(h){return h.type==="keypress"?Ae(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Ae(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),an=Je(gn),Xe=f({},qt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ct=Je(Xe),Lt=f({},jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),Wt=Je(Lt),Xt=f({},lt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mr=Je(Xt),Pr=f({},qt,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Ir=Je(Pr),Zr=f({},lt,{newState:0,oldState:0}),pn=Je(Zr),jn=[9,13,27,32],Fn=k&&"CompositionEvent"in window,yi=null;k&&"documentMode"in document&&(yi=document.documentMode);var vt=k&&"TextEvent"in window&&!yi,Cn=k&&(!Fn||yi&&8<yi&&11>=yi),Ri=" ",Nn=!1;function ln(h,A){switch(h){case"keyup":return jn.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ni(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Hn=!1;function Vn(h,A){switch(h){case"compositionend":return Ni(A);case"keypress":return A.which!==32?null:(Nn=!0,Ri);case"textInput":return h=A.data,h===Ri&&Nn?null:h;default:return null}}function zn(h,A){if(Hn)return h==="compositionend"||!Fn&&ln(h,A)?(h=fe(),xe=re=Z=null,Hn=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return Cn&&A.locale!=="ko"?null:A.data;default:return null}}var ga={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Di(h){var A=h&&h.nodeName&&h.nodeName.toLowerCase();return A==="input"?!!ga[h.type]:A==="textarea"}function qn(h,A,b,j){ie?me?me.push(j):me=[j]:ie=j,A=I_(A,"onChange"),0<A.length&&(b=new Te("onChange","change",null,b,j),h.push({event:b,listeners:A}))}var ns=null,Si=null;function Qn(h){X6(h,0)}function Li(h){var A=Ya(h);if(fs(A))return h}function Xn(h,A){if(h==="change")return A}var Gi=!1;if(k){var is;if(k){var Zi="oninput"in document;if(!Zi){var xs=document.createElement("div");xs.setAttribute("oninput","return;"),Zi=typeof xs.oninput=="function"}is=Zi}else is=!1;Gi=is&&(!document.documentMode||9<document.documentMode)}function Ca(){ns&&(ns.detachEvent("onpropertychange",bi),Si=ns=null)}function bi(h){if(h.propertyName==="value"&&Li(Si)){var A=[];qn(A,Si,h,K(h)),ut(Qn,A)}}function Ys(h,A,b){h==="focusin"?(Ca(),ns=A,Si=b,ns.attachEvent("onpropertychange",bi)):h==="focusout"&&Ca()}function Qi(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return Li(Si)}function oi(h,A){if(h==="click")return Li(A)}function da(h,A){if(h==="input"||h==="change")return Li(A)}function Ii(h,A){return h===A&&(h!==0||1/h===1/A)||h!==h&&A!==A}var _n=typeof Object.is=="function"?Object.is:Ii;function cs(h,A){if(_n(h,A))return!0;if(typeof h!="object"||h===null||typeof A!="object"||A===null)return!1;var b=Object.keys(h),j=Object.keys(A);if(b.length!==j.length)return!1;for(j=0;j<b.length;j++){var W=b[j];if(!rr.call(A,W)||!_n(h[W],A[W]))return!1}return!0}function Su(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function so(h,A){var b=Su(h);h=0;for(var j;b;){if(b.nodeType===3){if(j=h+b.textContent.length,h<=A&&j>=A)return{node:b,offset:A-h};h=j}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Su(b)}}function Ko(h,A){return h&&A?h===A?!0:h&&h.nodeType===3?!1:A&&A.nodeType===3?Ko(h,A.parentNode):"contains"in h?h.contains(A):h.compareDocumentPosition?!!(h.compareDocumentPosition(A)&16):!1:!1}function rc(h){h=h!=null&&h.ownerDocument!=null&&h.ownerDocument.defaultView!=null?h.ownerDocument.defaultView:window;for(var A=wa(h.document);A instanceof h.HTMLIFrameElement;){try{var b=typeof A.contentWindow.location.href=="string"}catch{b=!1}if(b)h=A.contentWindow;else break;A=wa(h.document)}return A}function wi(h){var A=h&&h.nodeName&&h.nodeName.toLowerCase();return A&&(A==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||A==="textarea"||h.contentEditable==="true")}var Ra=k&&"documentMode"in document&&11>=document.documentMode,Xa=null,Ql=null,zl=null,ha=!1;function yo(h,A,b){var j=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;ha||Xa==null||Xa!==wa(j)||(j=Xa,"selectionStart"in j&&wi(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),zl&&cs(zl,j)||(zl=j,j=I_(Ql,"onSelect"),0<j.length&&(A=new Te("onSelect","select",null,A,b),h.push({event:A,listeners:j}),A.target=Xa)))}function Za(h,A){var b={};return b[h.toLowerCase()]=A.toLowerCase(),b["Webkit"+h]="webkit"+A,b["Moz"+h]="moz"+A,b}var zc={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},To={},gc={};k&&(gc=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function Ka(h){if(To[h])return To[h];if(!zc[h])return h;var A=zc[h],b;for(b in A)if(A.hasOwnProperty(b)&&b in gc)return To[h]=A[b];return h}var Vl=Ka("animationend"),Kl=Ka("animationiteration"),Bl=Ka("animationstart"),Ed=Ka("transitionrun"),nc=Ka("transitionstart"),Gl=Ka("transitioncancel"),vc=Ka("transitionend"),_d=new Map,Wl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wl.push("scrollEnd");function Yl(h,A){_d.set(h,A),vo(A,[h])}var ju=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)},ql=[],Io=0,vl=0;function au(){for(var h=Io,A=vl=Io=0;A<h;){var b=ql[A];ql[A++]=null;var j=ql[A];ql[A++]=null;var W=ql[A];ql[A++]=null;var J=ql[A];if(ql[A++]=null,j!==null&&W!==null){var Ce=j.pending;Ce===null?W.next=W:(W.next=Ce.next,Ce.next=W),j.pending=W}J!==0&&Xu(b,W,J)}}function xc(h,A,b,j){ql[Io++]=h,ql[Io++]=A,ql[Io++]=b,ql[Io++]=j,vl|=j,h.lanes|=j,h=h.alternate,h!==null&&(h.lanes|=j)}function Kd(h,A,b,j){return xc(h,A,b,j),Sd(h)}function ic(h,A){return xc(h,null,null,A),Sd(h)}function Xu(h,A,b){h.lanes|=b;var j=h.alternate;j!==null&&(j.lanes|=b);for(var W=!1,J=h.return;J!==null;)J.childLanes|=b,j=J.alternate,j!==null&&(j.childLanes|=b),J.tag===22&&(h=J.stateNode,h===null||h._visibility&1||(W=!0)),h=J,J=J.return;return h.tag===3?(J=h.stateNode,W&&A!==null&&(W=31-Wr(b),h=J.hiddenUpdates,j=h[W],j===null?h[W]=[A]:j.push(A),A.lane=b|536870912),J):null}function Sd(h){if(50<ua)throw ua=0,xa=null,Error(n(185));for(var A=h.return;A!==null;)h=A,A=h.return;return h.tag===3?h.stateNode:null}var xl={};function ch(h,A,b,j){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(h,A,b,j){return new ch(h,A,b,j)}function Fi(h){return h=h.prototype,!(!h||!h.isReactComponent)}function yc(h,A){var b=h.alternate;return b===null?(b=Pl(h.tag,A,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=A,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&65011712,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,A=h.dependencies,b.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b.refCleanup=h.refCleanup,b}function Vc(h,A){h.flags&=65011714;var b=h.alternate;return b===null?(h.childLanes=0,h.lanes=A,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=b.childLanes,h.lanes=b.lanes,h.child=b.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=b.memoizedProps,h.memoizedState=b.memoizedState,h.updateQueue=b.updateQueue,h.type=b.type,A=b.dependencies,h.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),h}function Kc(h,A,b,j,W,J){var Ce=0;if(j=h,typeof h=="function")Fi(h)&&(Ce=1);else if(typeof h=="string")Ce=qce(h,b,Oe.current)?26:h==="html"||h==="head"||h==="body"?27:5;else e:switch(h){case Y:return h=Pl(31,b,A,W),h.elementType=Y,h.lanes=J,h;case x:return Zu(b.children,W,J,A);case y:Ce=8,W|=24;break;case w:return h=Pl(12,b,A,W|2),h.elementType=w,h.lanes=J,h;case C:return h=Pl(13,b,A,W),h.elementType=C,h.lanes=J,h;case I:return h=Pl(19,b,A,W),h.elementType=I,h.lanes=J,h;default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case _:Ce=10;break e;case E:Ce=9;break e;case N:Ce=11;break e;case D:Ce=14;break e;case M:Ce=16,j=null;break e}Ce=29,b=Error(n(130,h===null?"null":typeof h,"")),j=null}return A=Pl(Ce,b,A,W),A.elementType=h,A.type=j,A.lanes=J,A}function Zu(h,A,b,j){return h=Pl(7,h,j,A),h.lanes=b,h}function bc(h,A,b){return h=Pl(6,h,null,A),h.lanes=b,h}function Bo(h){var A=Pl(18,null,null,0);return A.stateNode=h,A}function ou(h,A,b){return A=Pl(4,h.children!==null?h.children:[],h.key,A),A.lanes=b,A.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},A}var v=new WeakMap;function S(h,A){if(typeof h=="object"&&h!==null){var b=v.get(h);return b!==void 0?b:(A={value:h,source:A,stack:wt(A)},v.set(h,A),A)}return{value:h,source:A,stack:wt(A)}}var Q=[],le=0,Ee=null,Ke=0,kt=[],er=0,Sr=null,qr=1,En="";function di(h,A){Q[le++]=Ke,Q[le++]=Ee,Ee=h,Ke=A}function As(h,A,b){kt[er++]=qr,kt[er++]=En,kt[er++]=Sr,Sr=h;var j=qr;h=En;var W=32-Wr(j)-1;j&=~(1<<W),b+=1;var J=32-Wr(A)+W;if(30<J){var Ce=W-W%5;J=(j&(1<<Ce)-1).toString(32),j>>=Ce,W-=Ce,qr=1<<32-Wr(A)+W|b<<W|j,En=J+h}else qr=1<<J|b<<W|j,En=h}function Da(h){h.return!==null&&(di(h,1),As(h,1,0))}function Co(h){for(;h===Ee;)Ee=Q[--le],Q[le]=null,Ke=Q[--le],Q[le]=null;for(;h===Sr;)Sr=kt[--er],kt[er]=null,En=kt[--er],kt[er]=null,qr=kt[--er],kt[er]=null}function il(h,A){kt[er++]=qr,kt[er++]=En,kt[er++]=Sr,qr=A.id,En=A.overflow,Sr=h}var Zs=null,la=null,In=!1,Ju=null,wc=!1,jd=Error(n(519));function Xl(h){var A=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ec(S(A,h)),jd}function Tu(h){var A=h.stateNode,b=h.type,j=h.memoizedProps;switch(A[rs]=h,A[qs]=j,b){case"dialog":_a("cancel",A),_a("close",A);break;case"iframe":case"object":case"embed":_a("load",A);break;case"video":case"audio":for(b=0;b<Q1.length;b++)_a(Q1[b],A);break;case"source":_a("error",A);break;case"img":case"image":case"link":_a("error",A),_a("load",A);break;case"details":_a("toggle",A);break;case"input":_a("invalid",A),Ea(A,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0);break;case"select":_a("invalid",A);break;case"textarea":_a("invalid",A),Va(A,j.value,j.defaultValue,j.children)}b=j.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||A.textContent===""+b||j.suppressHydrationWarning===!0||t8(A.textContent,b)?(j.popover!=null&&(_a("beforetoggle",A),_a("toggle",A)),j.onScroll!=null&&_a("scroll",A),j.onScrollEnd!=null&&_a("scrollend",A),j.onClick!=null&&(A.onclick=ce),A=!0):A=!1,A||Xl(h,!0)}function ao(h){for(Zs=h.return;Zs;)switch(Zs.tag){case 5:case 31:case 13:wc=!1;return;case 27:case 3:wc=!0;return;default:Zs=Zs.return}}function Cu(h){if(h!==Zs)return!1;if(!In)return ao(h),In=!0,!1;var A=h.tag,b;if((b=A!==3&&A!==27)&&((b=A===5)&&(b=h.type,b=!(b!=="form"&&b!=="button")||F5(h.type,h.memoizedProps)),b=!b),b&&la&&Xl(h),ao(h),A===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));la=u8(h)}else if(A===31){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));la=u8(h)}else A===27?(A=la,Vg(h.type)?(h=z5,z5=null,la=h):la=A):la=Zs?Ff(h.stateNode.nextSibling):null;return!0}function Go(){la=Zs=null,In=!1}function Td(){var h=Ju;return h!==null&&(Ut===null?Ut=h:Ut.push.apply(Ut,h),Ju=null),h}function Ec(h){Ju===null?Ju=[h]:Ju.push(h)}var Gd=be(null),Zl=null,Nu=null;function _c(h,A,b){Ie(Gd,A._currentValue),A._currentValue=b}function Gc(h){h._currentValue=Gd.current,he(Gd)}function Th(h,A,b){for(;h!==null;){var j=h.alternate;if((h.childLanes&A)!==A?(h.childLanes|=A,j!==null&&(j.childLanes|=A)):j!==null&&(j.childLanes&A)!==A&&(j.childLanes|=A),h===b)break;h=h.return}}function lu(h,A,b,j){var W=h.child;for(W!==null&&(W.return=h);W!==null;){var J=W.dependencies;if(J!==null){var Ce=W.child;J=J.firstContext;e:for(;J!==null;){var tt=J;J=W;for(var Pt=0;Pt<A.length;Pt++)if(tt.context===A[Pt]){J.lanes|=b,tt=J.alternate,tt!==null&&(tt.lanes|=b),Th(J.return,b,h),j||(Ce=null);break e}J=tt.next}}else if(W.tag===18){if(Ce=W.return,Ce===null)throw Error(n(341));Ce.lanes|=b,J=Ce.alternate,J!==null&&(J.lanes|=b),Th(Ce,b,h),Ce=null}else Ce=W.child;if(Ce!==null)Ce.return=W;else for(Ce=W;Ce!==null;){if(Ce===h){Ce=null;break}if(W=Ce.sibling,W!==null){W.return=Ce.return,Ce=W;break}Ce=Ce.return}W=Ce}}function Cd(h,A,b,j){h=null;for(var W=A,J=!1;W!==null;){if(!J){if((W.flags&524288)!==0)J=!0;else if((W.flags&262144)!==0)break}if(W.tag===10){var Ce=W.alternate;if(Ce===null)throw Error(n(387));if(Ce=Ce.memoizedProps,Ce!==null){var tt=W.type;_n(W.pendingProps.value,Ce.value)||(h!==null?h.push(tt):h=[tt])}}else if(W===ct.current){if(Ce=W.alternate,Ce===null)throw Error(n(387));Ce.memoizedState.memoizedState!==W.memoizedState.memoizedState&&(h!==null?h.push(W1):h=[W1])}W=W.return}h!==null&&lu(A,h,b,j),A.flags|=262144}function uh(h){for(h=h.firstContext;h!==null;){if(!_n(h.context._currentValue,h.memoizedValue))return!0;h=h.next}return!1}function Wc(h){Zl=h,Nu=null,h=h.dependencies,h!==null&&(h.firstContext=null)}function bo(h){return dm(Zl,h)}function Ch(h,A){return Zl===null&&Wc(h),dm(h,A)}function dm(h,A){var b=A._currentValue;if(A={context:A,memoizedValue:b,next:null},Nu===null){if(h===null)throw Error(n(308));Nu=A,h.dependencies={lanes:0,firstContext:A},h.flags|=524288}else Nu=Nu.next=A;return b}var Wm=typeof AbortController<"u"?AbortController:function(){var h=[],A=this.signal={aborted:!1,addEventListener:function(b,j){h.push(j)}};this.abort=function(){A.aborted=!0,h.forEach(function(b){return b()})}},dh=t.unstable_scheduleCallback,hh=t.unstable_NormalPriority,Po={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new Wm,data:new Map,refCount:0}}function Nh(h){h.refCount--,h.refCount===0&&dh(hh,function(){h.controller.abort()})}var ue=null,Me=0,Et=0,Bt=null;function nr(h,A){if(ue===null){var b=ue=[];Me=0,Et=k5(),Bt={status:"pending",value:void 0,then:function(j){b.push(j)}}}return Me++,A.then(Kr,Kr),A}function Kr(){if(--Me===0&&ue!==null){Bt!==null&&(Bt.status="fulfilled");var h=ue;ue=null,Et=0,Bt=null;for(var A=0;A<h.length;A++)(0,h[A])()}}function rn(h,A){var b=[],j={status:"pending",value:null,reason:null,then:function(W){b.push(W)}};return h.then(function(){j.status="fulfilled",j.value=A;for(var W=0;W<b.length;W++)(0,b[W])(A)},function(W){for(j.status="rejected",j.reason=W,W=0;W<b.length;W++)(0,b[W])(void 0)}),j}var ri=ne.S;ne.S=function(h,A){zr=$r(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&nr(h,A),ri!==null&&ri(h,A)};var ni=be(null);function Yi(){var h=ni.current;return h!==null?h:ma.pooledCache}function os(h,A){A===null?Ie(ni,ni.current):Ie(ni,A.pool)}function na(){var h=Yi();return h===null?null:{parent:Po._currentValue,pool:h}}var Ma=Error(n(460)),Oo=Error(n(474)),Na=Error(n(542)),Wo={then:function(){}};function O(h){return h=h.status,h==="fulfilled"||h==="rejected"}function Be(h,A,b){switch(b=h[b],b===void 0?h.push(A):b!==A&&(A.then(ce,ce),A=b),A.status){case"fulfilled":return A.value;case"rejected":throw h=A.reason,_t(h),h;default:if(typeof A.status=="string")A.then(ce,ce);else{if(h=ma,h!==null&&100<h.shellSuspendCounter)throw Error(n(482));h=A,h.status="pending",h.then(function(j){if(A.status==="pending"){var W=A;W.status="fulfilled",W.value=j}},function(j){if(A.status==="pending"){var W=A;W.status="rejected",W.reason=j}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw h=A.reason,_t(h),h}throw Ze=A,Ma}}function ee(h){try{var A=h._init;return A(h._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(Ze=b,Ma):b}}var Ze=null;function St(){if(Ze===null)throw Error(n(459));var h=Ze;return Ze=null,h}function _t(h){if(h===Ma||h===Na)throw Error(n(483))}var yr=null,Gt=0;function $n(h){var A=Gt;return Gt+=1,yr===null&&(yr=[]),Be(yr,h,A)}function Ft(h,A){A=A.props.ref,h.ref=A!==void 0?A:null}function br(h,A){throw A.$$typeof===m?Error(n(525)):(h=Object.prototype.toString.call(A),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":h)))}function qi(h){function A(cr,Vt){if(h){var Tr=cr.deletions;Tr===null?(cr.deletions=[Vt],cr.flags|=16):Tr.push(Vt)}}function b(cr,Vt){if(!h)return null;for(;Vt!==null;)A(cr,Vt),Vt=Vt.sibling;return null}function j(cr){for(var Vt=new Map;cr!==null;)cr.key!==null?Vt.set(cr.key,cr):Vt.set(cr.index,cr),cr=cr.sibling;return Vt}function W(cr,Vt){return cr=yc(cr,Vt),cr.index=0,cr.sibling=null,cr}function J(cr,Vt,Tr){return cr.index=Tr,h?(Tr=cr.alternate,Tr!==null?(Tr=Tr.index,Tr<Vt?(cr.flags|=67108866,Vt):Tr):(cr.flags|=67108866,Vt)):(cr.flags|=1048576,Vt)}function Ce(cr){return h&&cr.alternate===null&&(cr.flags|=67108866),cr}function tt(cr,Vt,Tr,en){return Vt===null||Vt.tag!==6?(Vt=bc(Tr,cr.mode,en),Vt.return=cr,Vt):(Vt=W(Vt,Tr),Vt.return=cr,Vt)}function Pt(cr,Vt,Tr,en){var Xi=Tr.type;return Xi===x?Yr(cr,Vt,Tr.props.children,en,Tr.key):Vt!==null&&(Vt.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===M&&ee(Xi)===Vt.type)?(Vt=W(Vt,Tr.props),Ft(Vt,Tr),Vt.return=cr,Vt):(Vt=Kc(Tr.type,Tr.key,Tr.props,null,cr.mode,en),Ft(Vt,Tr),Vt.return=cr,Vt)}function Cr(cr,Vt,Tr,en){return Vt===null||Vt.tag!==4||Vt.stateNode.containerInfo!==Tr.containerInfo||Vt.stateNode.implementation!==Tr.implementation?(Vt=ou(Tr,cr.mode,en),Vt.return=cr,Vt):(Vt=W(Vt,Tr.children||[]),Vt.return=cr,Vt)}function Yr(cr,Vt,Tr,en,Xi){return Vt===null||Vt.tag!==7?(Vt=Zu(Tr,cr.mode,en,Xi),Vt.return=cr,Vt):(Vt=W(Vt,Tr),Vt.return=cr,Vt)}function tn(cr,Vt,Tr){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return Vt=bc(""+Vt,cr.mode,Tr),Vt.return=cr,Vt;if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case p:return Tr=Kc(Vt.type,Vt.key,Vt.props,null,cr.mode,Tr),Ft(Tr,Vt),Tr.return=cr,Tr;case g:return Vt=ou(Vt,cr.mode,Tr),Vt.return=cr,Vt;case M:return Vt=ee(Vt),tn(cr,Vt,Tr)}if(ve(Vt)||de(Vt))return Vt=Zu(Vt,cr.mode,Tr,null),Vt.return=cr,Vt;if(typeof Vt.then=="function")return tn(cr,$n(Vt),Tr);if(Vt.$$typeof===_)return tn(cr,Ch(cr,Vt),Tr);br(cr,Vt)}return null}function kr(cr,Vt,Tr,en){var Xi=Vt!==null?Vt.key:null;if(typeof Tr=="string"&&Tr!==""||typeof Tr=="number"||typeof Tr=="bigint")return Xi!==null?null:tt(cr,Vt,""+Tr,en);if(typeof Tr=="object"&&Tr!==null){switch(Tr.$$typeof){case p:return Tr.key===Xi?Pt(cr,Vt,Tr,en):null;case g:return Tr.key===Xi?Cr(cr,Vt,Tr,en):null;case M:return Tr=ee(Tr),kr(cr,Vt,Tr,en)}if(ve(Tr)||de(Tr))return Xi!==null?null:Yr(cr,Vt,Tr,en,null);if(typeof Tr.then=="function")return kr(cr,Vt,$n(Tr),en);if(Tr.$$typeof===_)return kr(cr,Vt,Ch(cr,Tr),en);br(cr,Tr)}return null}function Or(cr,Vt,Tr,en,Xi){if(typeof en=="string"&&en!==""||typeof en=="number"||typeof en=="bigint")return cr=cr.get(Tr)||null,tt(Vt,cr,""+en,Xi);if(typeof en=="object"&&en!==null){switch(en.$$typeof){case p:return cr=cr.get(en.key===null?Tr:en.key)||null,Pt(Vt,cr,en,Xi);case g:return cr=cr.get(en.key===null?Tr:en.key)||null,Cr(Vt,cr,en,Xi);case M:return en=ee(en),Or(cr,Vt,Tr,en,Xi)}if(ve(en)||de(en))return cr=cr.get(Tr)||null,Yr(Vt,cr,en,Xi,null);if(typeof en.then=="function")return Or(cr,Vt,Tr,$n(en),Xi);if(en.$$typeof===_)return Or(cr,Vt,Tr,Ch(Vt,en),Xi);br(Vt,en)}return null}function Ei(cr,Vt,Tr,en){for(var Xi=null,ho=null,Pi=Vt,oa=Vt=0,Ia=null;Pi!==null&&oa<Tr.length;oa++){Pi.index>oa?(Ia=Pi,Pi=null):Ia=Pi.sibling;var fo=kr(cr,Pi,Tr[oa],en);if(fo===null){Pi===null&&(Pi=Ia);break}h&&Pi&&fo.alternate===null&&A(cr,Pi),Vt=J(fo,Vt,oa),ho===null?Xi=fo:ho.sibling=fo,ho=fo,Pi=Ia}if(oa===Tr.length)return b(cr,Pi),In&&di(cr,oa),Xi;if(Pi===null){for(;oa<Tr.length;oa++)Pi=tn(cr,Tr[oa],en),Pi!==null&&(Vt=J(Pi,Vt,oa),ho===null?Xi=Pi:ho.sibling=Pi,ho=Pi);return In&&di(cr,oa),Xi}for(Pi=j(Pi);oa<Tr.length;oa++)Ia=Or(Pi,cr,oa,Tr[oa],en),Ia!==null&&(h&&Ia.alternate!==null&&Pi.delete(Ia.key===null?oa:Ia.key),Vt=J(Ia,Vt,oa),ho===null?Xi=Ia:ho.sibling=Ia,ho=Ia);return h&&Pi.forEach(function(qg){return A(cr,qg)}),In&&di(cr,oa),Xi}function ds(cr,Vt,Tr,en){if(Tr==null)throw Error(n(151));for(var Xi=null,ho=null,Pi=Vt,oa=Vt=0,Ia=null,fo=Tr.next();Pi!==null&&!fo.done;oa++,fo=Tr.next()){Pi.index>oa?(Ia=Pi,Pi=null):Ia=Pi.sibling;var qg=kr(cr,Pi,fo.value,en);if(qg===null){Pi===null&&(Pi=Ia);break}h&&Pi&&qg.alternate===null&&A(cr,Pi),Vt=J(qg,Vt,oa),ho===null?Xi=qg:ho.sibling=qg,ho=qg,Pi=Ia}if(fo.done)return b(cr,Pi),In&&di(cr,oa),Xi;if(Pi===null){for(;!fo.done;oa++,fo=Tr.next())fo=tn(cr,fo.value,en),fo!==null&&(Vt=J(fo,Vt,oa),ho===null?Xi=fo:ho.sibling=fo,ho=fo);return In&&di(cr,oa),Xi}for(Pi=j(Pi);!fo.done;oa++,fo=Tr.next())fo=Or(Pi,cr,oa,fo.value,en),fo!==null&&(h&&fo.alternate!==null&&Pi.delete(fo.key===null?oa:fo.key),Vt=J(fo,Vt,oa),ho===null?Xi=fo:ho.sibling=fo,ho=fo);return h&&Pi.forEach(function(oue){return A(cr,oue)}),In&&di(cr,oa),Xi}function Zo(cr,Vt,Tr,en){if(typeof Tr=="object"&&Tr!==null&&Tr.type===x&&Tr.key===null&&(Tr=Tr.props.children),typeof Tr=="object"&&Tr!==null){switch(Tr.$$typeof){case p:e:{for(var Xi=Tr.key;Vt!==null;){if(Vt.key===Xi){if(Xi=Tr.type,Xi===x){if(Vt.tag===7){b(cr,Vt.sibling),en=W(Vt,Tr.props.children),en.return=cr,cr=en;break e}}else if(Vt.elementType===Xi||typeof Xi=="object"&&Xi!==null&&Xi.$$typeof===M&&ee(Xi)===Vt.type){b(cr,Vt.sibling),en=W(Vt,Tr.props),Ft(en,Tr),en.return=cr,cr=en;break e}b(cr,Vt);break}else A(cr,Vt);Vt=Vt.sibling}Tr.type===x?(en=Zu(Tr.props.children,cr.mode,en,Tr.key),en.return=cr,cr=en):(en=Kc(Tr.type,Tr.key,Tr.props,null,cr.mode,en),Ft(en,Tr),en.return=cr,cr=en)}return Ce(cr);case g:e:{for(Xi=Tr.key;Vt!==null;){if(Vt.key===Xi)if(Vt.tag===4&&Vt.stateNode.containerInfo===Tr.containerInfo&&Vt.stateNode.implementation===Tr.implementation){b(cr,Vt.sibling),en=W(Vt,Tr.children||[]),en.return=cr,cr=en;break e}else{b(cr,Vt);break}else A(cr,Vt);Vt=Vt.sibling}en=ou(Tr,cr.mode,en),en.return=cr,cr=en}return Ce(cr);case M:return Tr=ee(Tr),Zo(cr,Vt,Tr,en)}if(ve(Tr))return Ei(cr,Vt,Tr,en);if(de(Tr)){if(Xi=de(Tr),typeof Xi!="function")throw Error(n(150));return Tr=Xi.call(Tr),ds(cr,Vt,Tr,en)}if(typeof Tr.then=="function")return Zo(cr,Vt,$n(Tr),en);if(Tr.$$typeof===_)return Zo(cr,Vt,Ch(cr,Tr),en);br(cr,Tr)}return typeof Tr=="string"&&Tr!==""||typeof Tr=="number"||typeof Tr=="bigint"?(Tr=""+Tr,Vt!==null&&Vt.tag===6?(b(cr,Vt.sibling),en=W(Vt,Tr),en.return=cr,cr=en):(b(cr,Vt),en=bc(Tr,cr.mode,en),en.return=cr,cr=en),Ce(cr)):b(cr,Vt)}return function(cr,Vt,Tr,en){try{Gt=0;var Xi=Zo(cr,Vt,Tr,en);return yr=null,Xi}catch(Pi){if(Pi===Ma||Pi===Na)throw Pi;var ho=Pl(29,Pi,null,cr.mode);return ho.lanes=en,ho.return=cr,ho}}}var Bn=qi(!0),sn=qi(!1),Ur=!1;function Fa(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wi(h,A){h=h.updateQueue,A.updateQueue===h&&(A.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,callbacks:null})}function ki(h){return{lane:h,tag:0,payload:null,callback:null,next:null}}function zi(h,A,b){var j=h.updateQueue;if(j===null)return null;if(j=j.shared,(va&2)!==0){var W=j.pending;return W===null?A.next=A:(A.next=W.next,W.next=A),j.pending=A,A=Sd(h),Xu(h,null,b),A}return xc(h,j,A,b),Sd(h)}function ys(h,A,b){if(A=A.updateQueue,A!==null&&(A=A.shared,(b&4194048)!==0)){var j=A.lanes;j&=h.pendingLanes,b|=j,A.lanes=b,as(h,b)}}function Sn(h,A){var b=h.updateQueue,j=h.alternate;if(j!==null&&(j=j.updateQueue,b===j)){var W=null,J=null;if(b=b.firstBaseUpdate,b!==null){do{var Ce={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};J===null?W=J=Ce:J=J.next=Ce,b=b.next}while(b!==null);J===null?W=J=A:J=J.next=A}else W=J=A;b={baseState:j.baseState,firstBaseUpdate:W,lastBaseUpdate:J,shared:j.shared,callbacks:j.callbacks},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=A:h.next=A,b.lastBaseUpdate=A}var bs=!1;function Ua(){if(bs){var h=Bt;if(h!==null)throw h}}function ji(h,A,b,j){bs=!1;var W=h.updateQueue;Ur=!1;var J=W.firstBaseUpdate,Ce=W.lastBaseUpdate,tt=W.shared.pending;if(tt!==null){W.shared.pending=null;var Pt=tt,Cr=Pt.next;Pt.next=null,Ce===null?J=Cr:Ce.next=Cr,Ce=Pt;var Yr=h.alternate;Yr!==null&&(Yr=Yr.updateQueue,tt=Yr.lastBaseUpdate,tt!==Ce&&(tt===null?Yr.firstBaseUpdate=Cr:tt.next=Cr,Yr.lastBaseUpdate=Pt))}if(J!==null){var tn=W.baseState;Ce=0,Yr=Cr=Pt=null,tt=J;do{var kr=tt.lane&-536870913,Or=kr!==tt.lane;if(Or?(Ps&kr)===kr:(j&kr)===kr){kr!==0&&kr===Et&&(bs=!0),Yr!==null&&(Yr=Yr.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});e:{var Ei=h,ds=tt;kr=A;var Zo=b;switch(ds.tag){case 1:if(Ei=ds.payload,typeof Ei=="function"){tn=Ei.call(Zo,tn,kr);break e}tn=Ei;break e;case 3:Ei.flags=Ei.flags&-65537|128;case 0:if(Ei=ds.payload,kr=typeof Ei=="function"?Ei.call(Zo,tn,kr):Ei,kr==null)break e;tn=f({},tn,kr);break e;case 2:Ur=!0}}kr=tt.callback,kr!==null&&(h.flags|=64,Or&&(h.flags|=8192),Or=W.callbacks,Or===null?W.callbacks=[kr]:Or.push(kr))}else Or={lane:kr,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Yr===null?(Cr=Yr=Or,Pt=tn):Yr=Yr.next=Or,Ce|=kr;if(tt=tt.next,tt===null){if(tt=W.shared.pending,tt===null)break;Or=tt,tt=Or.next,Or.next=null,W.lastBaseUpdate=Or,W.shared.pending=null}}while(!0);Yr===null&&(Pt=tn),W.baseState=Pt,W.firstBaseUpdate=Cr,W.lastBaseUpdate=Yr,J===null&&(W.shared.lanes=0),H|=Ce,h.lanes=Ce,h.memoizedState=tn}}function ia(h,A){if(typeof h!="function")throw Error(n(191,h));h.call(A)}function Ls(h,A){var b=h.callbacks;if(b!==null)for(h.callbacks=null,h=0;h<b.length;h++)ia(b[h],A)}var ii=be(null),$i=be(0);function sc(h,A){h=B,Ie($i,h),Ie(ii,A),B=h|A.baseLanes}function ed(){Ie($i,B),Ie(ii,ii.current)}function cu(){B=$i.current,he(ii),he($i)}var yl=be(null),ac=null;function oo(h){var A=h.alternate;Ie(Ro,Ro.current&1),Ie(yl,h),ac===null&&(A===null||ii.current!==null||A.memoizedState!==null)&&(ac=h)}function Ym(h){Ie(Ro,Ro.current),Ie(yl,h),ac===null&&(ac=h)}function mh(h){h.tag===22?(Ie(Ro,Ro.current),Ie(yl,h),ac===null&&(ac=h)):Yc()}function Yc(){Ie(Ro,Ro.current),Ie(yl,yl.current)}function qc(h){he(yl),ac===h&&(ac=null),he(Ro)}var Ro=be(0);function Bf(h){for(var A=h;A!==null;){if(A.tag===13){var b=A.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||H5(b)||Q5(b)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var Nd=0,Ji=null,fa=null,wo=null,kh=!1,td=!1,kd=!1,Sc=0,rd=0,sa=null,Ja=0;function Is(){throw Error(n(321))}function bl(h,A){if(A===null)return!1;for(var b=0;b<A.length&&b<h.length;b++)if(!_n(h[b],A[b]))return!1;return!0}function Ah(h,A,b,j,W,J){return Nd=J,Ji=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,ne.H=h===null||h.memoizedState===null?uv:Dg,kd=!1,J=b(j,W),kd=!1,td&&(J=Xh(A,b,j,W)),hm(h),J}function hm(h){ne.H=Ap;var A=fa!==null&&fa.next!==null;if(Nd=0,wo=fa=Ji=null,kh=!1,rd=0,sa=null,A)throw Error(n(300));h===null||Ge||(h=h.dependencies,h!==null&&uh(h)&&(Ge=!0))}function Xh(h,A,b,j){Ji=h;var W=0;do{if(td&&(sa=null),rd=0,td=!1,25<=W)throw Error(n(301));if(W+=1,wo=fa=null,h.updateQueue!=null){var J=h.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}ne.H=Mg,J=A(b,j)}while(td);return J}function qm(){var h=ne.H,A=h.useState()[0];return A=typeof A.then=="function"?Zh(A):A,h=h.useState()[0],(fa!==null?fa.memoizedState:null)!==h&&(Ji.flags|=1024),A}function np(){var h=Sc!==0;return Sc=0,h}function ip(h,A,b){A.updateQueue=h.updateQueue,A.flags&=-2053,h.lanes&=~b}function sp(h){if(kh){for(h=h.memoizedState;h!==null;){var A=h.queue;A!==null&&(A.pending=null),h=h.next}kh=!1}Nd=0,wo=fa=Ji=null,td=!1,rd=Sc=0,sa=null}function Xc(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wo===null?Ji.memoizedState=wo=h:wo=wo.next=h,wo}function Yo(){if(fa===null){var h=Ji.alternate;h=h!==null?h.memoizedState:null}else h=fa.next;var A=wo===null?Ji.memoizedState:wo.next;if(A!==null)wo=A,fa=h;else{if(h===null)throw Ji.alternate===null?Error(n(467)):Error(n(310));fa=h,h={memoizedState:fa.memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},wo===null?Ji.memoizedState=wo=h:wo=wo.next=h}return wo}function ap(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zh(h){var A=rd;return rd+=1,sa===null&&(sa=[]),h=Be(sa,h,A),A=Ji,(wo===null?A.memoizedState:wo.next)===null&&(A=A.alternate,ne.H=A===null||A.memoizedState===null?uv:Dg),h}function op(h){if(h!==null&&typeof h=="object"){if(typeof h.then=="function")return Zh(h);if(h.$$typeof===_)return bo(h)}throw Error(n(438,String(h)))}function ku(h){var A=null,b=Ji.updateQueue;if(b!==null&&(A=b.memoCache),A==null){var j=Ji.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(A={data:j.data.map(function(W){return W.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),b===null&&(b=ap(),Ji.updateQueue=b),b.memoCache=A,b=A.data[A.index],b===void 0)for(b=A.data[A.index]=Array(h),j=0;j<h;j++)b[j]=X;return A.index++,b}function Wd(h,A){return typeof A=="function"?A(h):A}function lp(h){var A=Yo();return Eg(A,fa,h)}function Eg(h,A,b){var j=h.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=b;var W=h.baseQueue,J=j.pending;if(J!==null){if(W!==null){var Ce=W.next;W.next=J.next,J.next=Ce}A.baseQueue=W=J,j.pending=null}if(J=h.baseState,W===null)h.memoizedState=J;else{A=W.next;var tt=Ce=null,Pt=null,Cr=A,Yr=!1;do{var tn=Cr.lane&-536870913;if(tn!==Cr.lane?(Ps&tn)===tn:(Nd&tn)===tn){var kr=Cr.revertLane;if(kr===0)Pt!==null&&(Pt=Pt.next={lane:0,revertLane:0,gesture:null,action:Cr.action,hasEagerState:Cr.hasEagerState,eagerState:Cr.eagerState,next:null}),tn===Et&&(Yr=!0);else if((Nd&kr)===kr){Cr=Cr.next,kr===Et&&(Yr=!0);continue}else tn={lane:0,revertLane:Cr.revertLane,gesture:null,action:Cr.action,hasEagerState:Cr.hasEagerState,eagerState:Cr.eagerState,next:null},Pt===null?(tt=Pt=tn,Ce=J):Pt=Pt.next=tn,Ji.lanes|=kr,H|=kr;tn=Cr.action,kd&&b(J,tn),J=Cr.hasEagerState?Cr.eagerState:b(J,tn)}else kr={lane:tn,revertLane:Cr.revertLane,gesture:Cr.gesture,action:Cr.action,hasEagerState:Cr.hasEagerState,eagerState:Cr.eagerState,next:null},Pt===null?(tt=Pt=kr,Ce=J):Pt=Pt.next=kr,Ji.lanes|=tn,H|=tn;Cr=Cr.next}while(Cr!==null&&Cr!==A);if(Pt===null?Ce=J:Pt.next=tt,!_n(J,h.memoizedState)&&(Ge=!0,Yr&&(b=Bt,b!==null)))throw b;h.memoizedState=J,h.baseState=Ce,h.baseQueue=Pt,j.lastRenderedState=J}return W===null&&(j.lanes=0),[h.memoizedState,j.dispatch]}function _g(h){var A=Yo(),b=A.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=h;var j=b.dispatch,W=b.pending,J=A.memoizedState;if(W!==null){b.pending=null;var Ce=W=W.next;do J=h(J,Ce.action),Ce=Ce.next;while(Ce!==W);_n(J,A.memoizedState)||(Ge=!0),A.memoizedState=J,A.baseQueue===null&&(A.baseState=J),b.lastRenderedState=J}return[J,j]}function nv(h,A,b){var j=Ji,W=Yo(),J=In;if(J){if(b===void 0)throw Error(n(407));b=b()}else b=A();var Ce=!_n((fa||W).memoizedState,b);if(Ce&&(W.memoizedState=b,Ge=!0),W=W.queue,Jm(cp.bind(null,j,W,h),[h]),W.getSnapshot!==A||Ce||wo!==null&&wo.memoizedState.tag&1){if(j.flags|=2048,Zm(9,{destroy:void 0},Sg.bind(null,j,W,b,A),null),ma===null)throw Error(n(349));J||(Nd&127)!==0||iv(j,A,b)}return b}function iv(h,A,b){h.flags|=16384,h={getSnapshot:A,value:b},A=Ji.updateQueue,A===null?(A=ap(),Ji.updateQueue=A,A.stores=[h]):(b=A.stores,b===null?A.stores=[h]:b.push(h))}function Sg(h,A,b,j){A.value=b,A.getSnapshot=j,nd(A)&&Ld(h)}function cp(h,A,b){return b(function(){nd(A)&&Ld(h)})}function nd(h){var A=h.getSnapshot;h=h.value;try{var b=A();return!_n(h,b)}catch{return!0}}function Ld(h){var A=ic(h,2);A!==null&&Do(A,h,2)}function fm(h){var A=Xc();if(typeof h=="function"){var b=h;if(h=b(),kd){dr(!0);try{b()}finally{dr(!1)}}}return A.memoizedState=A.baseState=h,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:h},A}function up(h,A,b,j){return h.baseState=b,Eg(h,fa,typeof j=="function"?j:Wd)}function jg(h,A,b,j,W){if(Ph(h))throw Error(n(485));if(h=A.action,h!==null){var J={payload:W,action:h,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ce){J.listeners.push(Ce)}};ne.T!==null?b(!0):J.isTransition=!1,j(J),b=A.pending,b===null?(J.next=A.pending=J,Xm(A,J)):(J.next=b.next,A.pending=b.next=J)}}function Xm(h,A){var b=A.action,j=A.payload,W=h.state;if(A.isTransition){var J=ne.T,Ce={};ne.T=Ce;try{var tt=b(W,j),Pt=ne.S;Pt!==null&&Pt(Ce,tt),Ol(h,A,tt)}catch(Cr){Tg(h,A,Cr)}finally{J!==null&&Ce.types!==null&&(J.types=Ce.types),ne.T=J}}else try{J=b(W,j),Ol(h,A,J)}catch(Cr){Tg(h,A,Cr)}}function Ol(h,A,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(j){Pf(h,A,j)},function(j){return Tg(h,A,j)}):Pf(h,A,b)}function Pf(h,A,b){A.status="fulfilled",A.value=b,Cg(A),h.state=b,A=h.pending,A!==null&&(b=A.next,b===A?h.pending=null:(b=b.next,A.next=b,Xm(h,b)))}function Tg(h,A,b){var j=h.pending;if(h.pending=null,j!==null){j=j.next;do A.status="rejected",A.reason=b,Cg(A),A=A.next;while(A!==j)}h.action=null}function Cg(h){h=h.listeners;for(var A=0;A<h.length;A++)(0,h[A])()}function dp(h,A){return A}function mm(h,A){if(In){var b=ma.formState;if(b!==null){e:{var j=Ji;if(In){if(la){t:{for(var W=la,J=wc;W.nodeType!==8;){if(!J){W=null;break t}if(W=Ff(W.nextSibling),W===null){W=null;break t}}J=W.data,W=J==="F!"||J==="F"?W:null}if(W){la=Ff(W.nextSibling),j=W.data==="F!";break e}}Xl(j)}j=!1}j&&(A=b[0])}}return b=Xc(),b.memoizedState=b.baseState=A,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:A},b.queue=j,b=Og.bind(null,Ji,j),j.dispatch=b,j=fm(!1),J=Of.bind(null,Ji,!1,j.queue),j=Xc(),W={state:A,dispatch:null,action:h,pending:null},j.queue=W,b=jg.bind(null,Ji,W,J,b),W.dispatch=b,j.memoizedState=h,[A,b,!1]}function Ng(h){var A=Yo();return Hx(A,fa,h)}function Hx(h,A,b){if(A=Eg(h,A,dp)[0],h=lp(Wd)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var j=Zh(A)}catch(Ce){throw Ce===Ma?Na:Ce}else j=A;A=Yo();var W=A.queue,J=W.dispatch;return b!==A.memoizedState&&(Ji.flags|=2048,Zm(9,{destroy:void 0},$1.bind(null,W,b),null)),[j,J,h]}function $1(h,A){h.action=A}function sv(h){var A=Yo(),b=fa;if(b!==null)return Hx(A,b,h);Yo(),A=A.memoizedState,b=Yo();var j=b.queue.dispatch;return b.memoizedState=h,[A,j,!1]}function Zm(h,A,b,j){return h={tag:h,create:b,deps:j,inst:A,next:null},A=Ji.updateQueue,A===null&&(A=ap(),Ji.updateQueue=A),b=A.lastEffect,b===null?A.lastEffect=h.next=h:(j=b.next,b.next=h,h.next=j,A.lastEffect=h),h}function Qx(){return Yo().memoizedState}function kg(h,A,b,j){var W=Xc();Ji.flags|=h,W.memoizedState=Zm(1|A,{destroy:void 0},b,j===void 0?null:j)}function Lg(h,A,b,j){var W=Yo();j=j===void 0?null:j;var J=W.memoizedState.inst;fa!==null&&j!==null&&bl(j,fa.memoizedState.deps)?W.memoizedState=Zm(A,J,b,j):(Ji.flags|=h,W.memoizedState=Zm(1|A,J,b,j))}function av(h,A){kg(8390656,8,h,A)}function Jm(h,A){Lg(2048,8,h,A)}function Ig(h){Ji.flags|=4;var A=Ji.updateQueue;if(A===null)A=ap(),Ji.updateQueue=A,A.events=[h];else{var b=A.events;b===null?A.events=[h]:b.push(h)}}function Am(h){var A=Yo().memoizedState;return Ig({ref:A,nextImpl:h}),function(){if((va&2)!==0)throw Error(n(440));return A.impl.apply(void 0,arguments)}}function Bg(h,A){return Lg(4,2,h,A)}function zx(h,A){return Lg(4,4,h,A)}function ov(h,A){if(typeof A=="function"){h=h();var b=A(h);return function(){typeof b=="function"?b():A(null)}}if(A!=null)return h=h(),A.current=h,function(){A.current=null}}function Vx(h,A,b){b=b!=null?b.concat([h]):null,Lg(4,4,ov.bind(null,A,h),b)}function lv(){}function hp(h,A){var b=Yo();A=A===void 0?null:A;var j=b.memoizedState;return A!==null&&bl(A,j[1])?j[0]:(b.memoizedState=[h,A],h)}function fp(h,A){var b=Yo();A=A===void 0?null:A;var j=b.memoizedState;if(A!==null&&bl(A,j[1]))return j[0];if(j=h(),kd){dr(!0);try{h()}finally{dr(!1)}}return b.memoizedState=[j,A],j}function Lh(h,A,b){return b===void 0||(Nd&1073741824)!==0&&(Ps&261930)===0?h.memoizedState=A:(h.memoizedState=b,h=cc(),Ji.lanes|=h,H|=h,b)}function Id(h,A,b,j){return _n(b,A)?b:ii.current!==null?(h=Lh(h,b,j),_n(h,A)||(Ge=!0),h):(Nd&42)===0||(Nd&1073741824)!==0&&(Ps&261930)===0?(Ge=!0,h.memoizedState=b):(h=cc(),Ji.lanes|=h,H|=h,A)}function Yd(h,A,b,j,W){var J=ae.p;ae.p=J!==0&&8>J?J:8;var Ce=ne.T,tt={};ne.T=tt,Of(h,!1,A,b);try{var Pt=W(),Cr=ne.S;if(Cr!==null&&Cr(tt,Pt),Pt!==null&&typeof Pt=="object"&&typeof Pt.then=="function"){var Yr=rn(Pt,j);Bh(h,A,Yr,Mi(h))}else Bh(h,A,j,Mi(h))}catch(tn){Bh(h,A,{then:function(){},status:"rejected",reason:tn},Mi())}finally{ae.p=J,Ce!==null&&tt.types!==null&&(Ce.types=tt.types),ne.T=Ce}}function Kx(){}function mp(h,A,b,j){if(h.tag!==5)throw Error(n(476));var W=Ih(h).queue;Yd(h,W,A,oe,b===null?Kx:function(){return Bd(h),b(j)})}function Ih(h){var A=h.memoizedState;if(A!==null)return A;A={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:oe},next:null};var b={};return A.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:b},next:null},h.memoizedState=A,h=h.alternate,h!==null&&(h.memoizedState=A),A}function Bd(h){var A=Ih(h);A.next===null&&(A=h.alternate.memoizedState),Bh(h,A.next.queue,{},Mi())}function eA(){return bo(W1)}function cv(){return Yo().memoizedState}function Pg(){return Yo().memoizedState}function Gx(h){for(var A=h.return;A!==null;){switch(A.tag){case 24:case 3:var b=Mi();h=ki(b);var j=zi(A,h,b);j!==null&&(Do(j,A,b),ys(j,A,b)),A={cache:fh()},h.payload=A;return}A=A.return}}function Wx(h,A,b){var j=Mi();b={lane:j,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Ph(h)?tA(A,b):(b=Kd(h,A,b,j),b!==null&&(Do(b,h,j),Rg(b,A,j)))}function Og(h,A,b){var j=Mi();Bh(h,A,b,j)}function Bh(h,A,b,j){var W={lane:j,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(Ph(h))tA(A,W);else{var J=h.alternate;if(h.lanes===0&&(J===null||J.lanes===0)&&(J=A.lastRenderedReducer,J!==null))try{var Ce=A.lastRenderedState,tt=J(Ce,b);if(W.hasEagerState=!0,W.eagerState=tt,_n(tt,Ce))return xc(h,A,W,0),ma===null&&au(),!1}catch{}if(b=Kd(h,A,W,j),b!==null)return Do(b,h,j),Rg(b,A,j),!0}return!1}function Of(h,A,b,j){if(j={lane:2,revertLane:k5(),gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},Ph(h)){if(A)throw Error(n(479))}else A=Kd(h,b,j,2),A!==null&&Do(A,h,2)}function Ph(h){var A=h.alternate;return h===Ji||A!==null&&A===Ji}function tA(h,A){td=kh=!0;var b=h.pending;b===null?A.next=A:(A.next=b.next,b.next=A),h.pending=A}function Rg(h,A,b){if((b&4194048)!==0){var j=A.lanes;j&=h.pendingLanes,b|=j,A.lanes=b,as(h,b)}}var Ap={readContext:bo,use:op,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useLayoutEffect:Is,useInsertionEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useSyncExternalStore:Is,useId:Is,useHostTransitionStatus:Is,useFormState:Is,useActionState:Is,useOptimistic:Is,useMemoCache:Is,useCacheRefresh:Is};Ap.useEffectEvent=Is;var uv={readContext:bo,use:op,useCallback:function(h,A){return Xc().memoizedState=[h,A===void 0?null:A],h},useContext:bo,useEffect:av,useImperativeHandle:function(h,A,b){b=b!=null?b.concat([h]):null,kg(4194308,4,ov.bind(null,A,h),b)},useLayoutEffect:function(h,A){return kg(4194308,4,h,A)},useInsertionEffect:function(h,A){kg(4,2,h,A)},useMemo:function(h,A){var b=Xc();A=A===void 0?null:A;var j=h();if(kd){dr(!0);try{h()}finally{dr(!1)}}return b.memoizedState=[j,A],j},useReducer:function(h,A,b){var j=Xc();if(b!==void 0){var W=b(A);if(kd){dr(!0);try{b(A)}finally{dr(!1)}}}else W=A;return j.memoizedState=j.baseState=W,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:W},j.queue=h,h=h.dispatch=Wx.bind(null,Ji,h),[j.memoizedState,h]},useRef:function(h){var A=Xc();return h={current:h},A.memoizedState=h},useState:function(h){h=fm(h);var A=h.queue,b=Og.bind(null,Ji,A);return A.dispatch=b,[h.memoizedState,b]},useDebugValue:lv,useDeferredValue:function(h,A){var b=Xc();return Lh(b,h,A)},useTransition:function(){var h=fm(!1);return h=Yd.bind(null,Ji,h.queue,!0,!1),Xc().memoizedState=h,[!1,h]},useSyncExternalStore:function(h,A,b){var j=Ji,W=Xc();if(In){if(b===void 0)throw Error(n(407));b=b()}else{if(b=A(),ma===null)throw Error(n(349));(Ps&127)!==0||iv(j,A,b)}W.memoizedState=b;var J={value:b,getSnapshot:A};return W.queue=J,av(cp.bind(null,j,J,h),[h]),j.flags|=2048,Zm(9,{destroy:void 0},Sg.bind(null,j,J,b,A),null),b},useId:function(){var h=Xc(),A=ma.identifierPrefix;if(In){var b=En,j=qr;b=(j&~(1<<32-Wr(j)-1)).toString(32)+b,A="_"+A+"R_"+b,b=Sc++,0<b&&(A+="H"+b.toString(32)),A+="_"}else b=Ja++,A="_"+A+"r_"+b.toString(32)+"_";return h.memoizedState=A},useHostTransitionStatus:eA,useFormState:mm,useActionState:mm,useOptimistic:function(h){var A=Xc();A.memoizedState=A.baseState=h;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=b,A=Of.bind(null,Ji,!0,b),b.dispatch=A,[h,A]},useMemoCache:ku,useCacheRefresh:function(){return Xc().memoizedState=Gx.bind(null,Ji)},useEffectEvent:function(h){var A=Xc(),b={impl:h};return A.memoizedState=b,function(){if((va&2)!==0)throw Error(n(440));return b.impl.apply(void 0,arguments)}}},Dg={readContext:bo,use:op,useCallback:hp,useContext:bo,useEffect:Jm,useImperativeHandle:Vx,useInsertionEffect:Bg,useLayoutEffect:zx,useMemo:fp,useReducer:lp,useRef:Qx,useState:function(){return lp(Wd)},useDebugValue:lv,useDeferredValue:function(h,A){var b=Yo();return Id(b,fa.memoizedState,h,A)},useTransition:function(){var h=lp(Wd)[0],A=Yo().memoizedState;return[typeof h=="boolean"?h:Zh(h),A]},useSyncExternalStore:nv,useId:cv,useHostTransitionStatus:eA,useFormState:Ng,useActionState:Ng,useOptimistic:function(h,A){var b=Yo();return up(b,fa,h,A)},useMemoCache:ku,useCacheRefresh:Pg};Dg.useEffectEvent=Am;var Mg={readContext:bo,use:op,useCallback:hp,useContext:bo,useEffect:Jm,useImperativeHandle:Vx,useInsertionEffect:Bg,useLayoutEffect:zx,useMemo:fp,useReducer:_g,useRef:Qx,useState:function(){return _g(Wd)},useDebugValue:lv,useDeferredValue:function(h,A){var b=Yo();return fa===null?Lh(b,h,A):Id(b,fa.memoizedState,h,A)},useTransition:function(){var h=_g(Wd)[0],A=Yo().memoizedState;return[typeof h=="boolean"?h:Zh(h),A]},useSyncExternalStore:nv,useId:cv,useHostTransitionStatus:eA,useFormState:sv,useActionState:sv,useOptimistic:function(h,A){var b=Yo();return fa!==null?up(b,fa,h,A):(b.baseState=h,[h,b.queue.dispatch])},useMemoCache:ku,useCacheRefresh:Pg};Mg.useEffectEvent=Am;function Fg(h,A,b,j){A=h.memoizedState,b=b(j,A),b=b==null?A:f({},A,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Ug={enqueueSetState:function(h,A,b){h=h._reactInternals;var j=Mi(),W=ki(j);W.payload=A,b!=null&&(W.callback=b),A=zi(h,W,j),A!==null&&(Do(A,h,j),ys(A,h,j))},enqueueReplaceState:function(h,A,b){h=h._reactInternals;var j=Mi(),W=ki(j);W.tag=1,W.payload=A,b!=null&&(W.callback=b),A=zi(h,W,j),A!==null&&(Do(A,h,j),ys(A,h,j))},enqueueForceUpdate:function(h,A){h=h._reactInternals;var b=Mi(),j=ki(b);j.tag=2,A!=null&&(j.callback=A),A=zi(h,j,b),A!==null&&(Do(A,h,b),ys(A,h,b))}};function $g(h,A,b,j,W,J,Ce){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(j,J,Ce):A.prototype&&A.prototype.isPureReactComponent?!cs(b,j)||!cs(W,J):!0}function dv(h,A,b,j){h=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(b,j),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(b,j),A.state!==h&&Ug.enqueueReplaceState(A,A.state,null)}function Jh(h,A){var b=A;if("ref"in A){b={};for(var j in A)j!=="ref"&&(b[j]=A[j])}if(h=h.defaultProps){b===A&&(b=f({},b));for(var W in h)b[W]===void 0&&(b[W]=h[W])}return b}function pp(h){ju(h)}function gp(h){console.error(h)}function vp(h){ju(h)}function rA(h,A){try{var b=h.onUncaughtError;b(A.value,{componentStack:A.stack})}catch(j){setTimeout(function(){throw j})}}function R(h,A,b){try{var j=h.onCaughtError;j(b.value,{componentStack:b.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(W){setTimeout(function(){throw W})}}function q(h,A,b){return b=ki(b),b.tag=3,b.payload={element:null},b.callback=function(){rA(h,A)},b}function pe(h){return h=ki(h),h.tag=3,h}function _e(h,A,b,j){var W=b.type.getDerivedStateFromError;if(typeof W=="function"){var J=j.value;h.payload=function(){return W(J)},h.callback=function(){R(A,b,j)}}var Ce=b.stateNode;Ce!==null&&typeof Ce.componentDidCatch=="function"&&(h.callback=function(){R(A,b,j),typeof W!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var tt=j.stack;this.componentDidCatch(j.value,{componentStack:tt!==null?tt:""})})}function Fe(h,A,b,j,W){if(b.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(A=b.alternate,A!==null&&Cd(A,b,W,!0),b=yl.current,b!==null){switch(b.tag){case 31:case 13:return ac===null?Rh():b.alternate===null&&z===0&&(z=3),b.flags&=-257,b.flags|=65536,b.lanes=W,j===Wo?b.flags|=16384:(A=b.updateQueue,A===null?b.updateQueue=new Set([j]):A.add(j),T5(h,j,W)),!1;case 22:return b.flags|=65536,j===Wo?b.flags|=16384:(A=b.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([j])},b.updateQueue=A):(b=A.retryQueue,b===null?A.retryQueue=new Set([j]):b.add(j)),T5(h,j,W)),!1}throw Error(n(435,b.tag))}return T5(h,j,W),Rh(),!1}if(In)return A=yl.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=W,j!==jd&&(h=Error(n(422),{cause:j}),Ec(S(h,b)))):(j!==jd&&(A=Error(n(423),{cause:j}),Ec(S(A,b))),h=h.current.alternate,h.flags|=65536,W&=-W,h.lanes|=W,j=S(j,b),W=q(h.stateNode,j,W),Sn(h,W),z!==4&&(z=2)),!1;var J=Error(n(520),{cause:j});if(J=S(J,b),ht===null?ht=[J]:ht.push(J),z!==4&&(z=2),A===null)return!0;j=S(j,b),b=A;do{switch(b.tag){case 3:return b.flags|=65536,h=W&-W,b.lanes|=h,h=q(b.stateNode,j,h),Sn(b,h),!1;case 1:if(A=b.type,J=b.stateNode,(b.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Dn===null||!Dn.has(J))))return b.flags|=65536,W&=-W,b.lanes|=W,W=pe(W),_e(W,h,b,j),Sn(b,W),!1}b=b.return}while(b!==null);return!1}var We=Error(n(461)),Ge=!1;function et(h,A,b,j){A.child=h===null?sn(A,null,b,j):Bn(A,h.child,b,j)}function it(h,A,b,j,W){b=b.render;var J=A.ref;if("ref"in j){var Ce={};for(var tt in j)tt!=="ref"&&(Ce[tt]=j[tt])}else Ce=j;return Wc(A),j=Ah(h,A,b,Ce,J,W),tt=np(),h!==null&&!Ge?(ip(h,A,W),Ds(h,A,W)):(In&&tt&&Da(A),A.flags|=1,et(h,A,j,W),A.child)}function yt(h,A,b,j,W){if(h===null){var J=b.type;return typeof J=="function"&&!Fi(J)&&J.defaultProps===void 0&&b.compare===null?(A.tag=15,A.type=J,$t(h,A,J,j,W)):(h=Kc(b.type,null,j,A,A.mode,W),h.ref=A.ref,h.return=A,A.child=h)}if(J=h.child,!Eo(h,W)){var Ce=J.memoizedProps;if(b=b.compare,b=b!==null?b:cs,b(Ce,j)&&h.ref===A.ref)return Ds(h,A,W)}return A.flags|=1,h=yc(J,j),h.ref=A.ref,h.return=A,A.child=h}function $t(h,A,b,j,W){if(h!==null){var J=h.memoizedProps;if(cs(J,j)&&h.ref===A.ref)if(Ge=!1,A.pendingProps=j=J,Eo(h,W))(h.flags&131072)!==0&&(Ge=!0);else return A.lanes=h.lanes,Ds(h,A,W)}return Gr(h,A,b,j,W)}function pr(h,A,b,j){var W=j.children,J=h!==null?h.memoizedState:null;if(h===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),j.mode==="hidden"){if((A.flags&128)!==0){if(J=J!==null?J.baseLanes|b:b,h!==null){for(j=A.child=h.child,W=0;j!==null;)W=W|j.lanes|j.childLanes,j=j.sibling;j=W&~J}else j=0,A.child=null;return Yt(h,A,J,b,j)}if((b&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},h!==null&&os(A,J!==null?J.cachePool:null),J!==null?sc(A,J):ed(),mh(A);else return j=A.lanes=536870912,Yt(h,A,J!==null?J.baseLanes|b:b,b,j)}else J!==null?(os(A,J.cachePool),sc(A,J),Yc(),A.memoizedState=null):(h!==null&&os(A,null),ed(),Yc());return et(h,A,W,b),A.child}function xt(h,A){return h!==null&&h.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function Yt(h,A,b,j,W){var J=Yi();return J=J===null?null:{parent:Po._currentValue,pool:J},A.memoizedState={baseLanes:b,cachePool:J},h!==null&&os(A,null),ed(),mh(A),h!==null&&Cd(h,A,j,!0),A.childLanes=W,null}function ir(h,A){return A=_s({mode:A.mode,children:A.children},h.mode),A.ref=h.ref,h.child=A,A.return=h,A}function Hr(h,A,b){return Bn(A,h.child,null,b),h=ir(A,A.pendingProps),h.flags|=2,qc(A),A.memoizedState=null,h}function Er(h,A,b){var j=A.pendingProps,W=(A.flags&128)!==0;if(A.flags&=-129,h===null){if(In){if(j.mode==="hidden")return h=ir(A,j),A.lanes=536870912,xt(null,h);if(Ym(A),(h=la)?(h=c8(h,wc),h=h!==null&&h.data==="&"?h:null,h!==null&&(A.memoizedState={dehydrated:h,treeContext:Sr!==null?{id:qr,overflow:En}:null,retryLane:536870912,hydrationErrors:null},b=Bo(h),b.return=A,A.child=b,Zs=A,la=null)):h=null,h===null)throw Xl(A);return A.lanes=536870912,null}return ir(A,j)}var J=h.memoizedState;if(J!==null){var Ce=J.dehydrated;if(Ym(A),W)if(A.flags&256)A.flags&=-257,A=Hr(h,A,b);else if(A.memoizedState!==null)A.child=h.child,A.flags|=128,A=null;else throw Error(n(558));else if(Ge||Cd(h,A,b,!1),W=(b&h.childLanes)!==0,Ge||W){if(j=ma,j!==null&&(Ce=ta(j,b),Ce!==0&&Ce!==J.retryLane))throw J.retryLane=Ce,ic(h,Ce),Do(j,h,Ce),We;Rh(),A=Hr(h,A,b)}else h=J.treeContext,la=Ff(Ce.nextSibling),Zs=A,In=!0,Ju=null,wc=!1,h!==null&&il(A,h),A=ir(A,j),A.flags|=4096;return A}return h=yc(h.child,{mode:j.mode,children:j.children}),h.ref=A.ref,A.child=h,h.return=A,h}function Qr(h,A){var b=A.ref;if(b===null)h!==null&&h.ref!==null&&(A.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(n(284));(h===null||h.ref!==b)&&(A.flags|=4194816)}}function Gr(h,A,b,j,W){return Wc(A),b=Ah(h,A,b,j,void 0,W),j=np(),h!==null&&!Ge?(ip(h,A,W),Ds(h,A,W)):(In&&j&&Da(A),A.flags|=1,et(h,A,b,W),A.child)}function hn(h,A,b,j,W,J){return Wc(A),A.updateQueue=null,b=Xh(A,j,b,W),hm(h),j=np(),h!==null&&!Ge?(ip(h,A,J),Ds(h,A,J)):(In&&j&&Da(A),A.flags|=1,et(h,A,b,J),A.child)}function nn(h,A,b,j,W){if(Wc(A),A.stateNode===null){var J=xl,Ce=b.contextType;typeof Ce=="object"&&Ce!==null&&(J=bo(Ce)),J=new b(j,J),A.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=Ug,A.stateNode=J,J._reactInternals=A,J=A.stateNode,J.props=j,J.state=A.memoizedState,J.refs={},Fa(A),Ce=b.contextType,J.context=typeof Ce=="object"&&Ce!==null?bo(Ce):xl,J.state=A.memoizedState,Ce=b.getDerivedStateFromProps,typeof Ce=="function"&&(Fg(A,b,Ce,j),J.state=A.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof J.getSnapshotBeforeUpdate=="function"||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(Ce=J.state,typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount(),Ce!==J.state&&Ug.enqueueReplaceState(J,J.state,null),ji(A,j,J,W),Ua(),J.state=A.memoizedState),typeof J.componentDidMount=="function"&&(A.flags|=4194308),j=!0}else if(h===null){J=A.stateNode;var tt=A.memoizedProps,Pt=Jh(b,tt);J.props=Pt;var Cr=J.context,Yr=b.contextType;Ce=xl,typeof Yr=="object"&&Yr!==null&&(Ce=bo(Yr));var tn=b.getDerivedStateFromProps;Yr=typeof tn=="function"||typeof J.getSnapshotBeforeUpdate=="function",tt=A.pendingProps!==tt,Yr||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(tt||Cr!==Ce)&&dv(A,J,j,Ce),Ur=!1;var kr=A.memoizedState;J.state=kr,ji(A,j,J,W),Ua(),Cr=A.memoizedState,tt||kr!==Cr||Ur?(typeof tn=="function"&&(Fg(A,b,tn,j),Cr=A.memoizedState),(Pt=Ur||$g(A,b,Pt,j,kr,Cr,Ce))?(Yr||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(A.flags|=4194308)):(typeof J.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=j,A.memoizedState=Cr),J.props=j,J.state=Cr,J.context=Ce,j=Pt):(typeof J.componentDidMount=="function"&&(A.flags|=4194308),j=!1)}else{J=A.stateNode,Wi(h,A),Ce=A.memoizedProps,Yr=Jh(b,Ce),J.props=Yr,tn=A.pendingProps,kr=J.context,Cr=b.contextType,Pt=xl,typeof Cr=="object"&&Cr!==null&&(Pt=bo(Cr)),tt=b.getDerivedStateFromProps,(Cr=typeof tt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(Ce!==tn||kr!==Pt)&&dv(A,J,j,Pt),Ur=!1,kr=A.memoizedState,J.state=kr,ji(A,j,J,W),Ua();var Or=A.memoizedState;Ce!==tn||kr!==Or||Ur||h!==null&&h.dependencies!==null&&uh(h.dependencies)?(typeof tt=="function"&&(Fg(A,b,tt,j),Or=A.memoizedState),(Yr=Ur||$g(A,b,Yr,j,kr,Or,Pt)||h!==null&&h.dependencies!==null&&uh(h.dependencies))?(Cr||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(j,Or,Pt),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(j,Or,Pt)),typeof J.componentDidUpdate=="function"&&(A.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof J.componentDidUpdate!="function"||Ce===h.memoizedProps&&kr===h.memoizedState||(A.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||Ce===h.memoizedProps&&kr===h.memoizedState||(A.flags|=1024),A.memoizedProps=j,A.memoizedState=Or),J.props=j,J.state=Or,J.context=Pt,j=Yr):(typeof J.componentDidUpdate!="function"||Ce===h.memoizedProps&&kr===h.memoizedState||(A.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||Ce===h.memoizedProps&&kr===h.memoizedState||(A.flags|=1024),j=!1)}return J=j,Qr(h,A),j=(A.flags&128)!==0,J||j?(J=A.stateNode,b=j&&typeof b.getDerivedStateFromError!="function"?null:J.render(),A.flags|=1,h!==null&&j?(A.child=Bn(A,h.child,null,W),A.child=Bn(A,null,b,W)):et(h,A,b,W),A.memoizedState=J.state,h=A.child):h=Ds(h,A,W),h}function Ti(h,A,b,j){return Go(),A.flags|=256,et(h,A,b,j),A.child}var Kn={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(h){return{baseLanes:h,cachePool:na()}}function gi(h,A,b){return h=h!==null?h.childLanes&~b:0,A&&(h|=ze),h}function ca(h,A,b){var j=A.pendingProps,W=!1,J=(A.flags&128)!==0,Ce;if((Ce=J)||(Ce=h!==null&&h.memoizedState===null?!1:(Ro.current&2)!==0),Ce&&(W=!0,A.flags&=-129),Ce=(A.flags&32)!==0,A.flags&=-33,h===null){if(In){if(W?oo(A):Yc(),(h=la)?(h=c8(h,wc),h=h!==null&&h.data!=="&"?h:null,h!==null&&(A.memoizedState={dehydrated:h,treeContext:Sr!==null?{id:qr,overflow:En}:null,retryLane:536870912,hydrationErrors:null},b=Bo(h),b.return=A,A.child=b,Zs=A,la=null)):h=null,h===null)throw Xl(A);return Q5(h)?A.lanes=32:A.lanes=536870912,null}var tt=j.children;return j=j.fallback,W?(Yc(),W=A.mode,tt=_s({mode:"hidden",children:tt},W),j=Zu(j,W,b,null),tt.return=A,j.return=A,tt.sibling=j,A.child=tt,j=A.child,j.memoizedState=Bs(b),j.childLanes=gi(h,Ce,b),A.memoizedState=Kn,xt(null,j)):(oo(A),Rl(A,tt))}var Pt=h.memoizedState;if(Pt!==null&&(tt=Pt.dehydrated,tt!==null)){if(J)A.flags&256?(oo(A),A.flags&=-257,A=fi(h,A,b)):A.memoizedState!==null?(Yc(),A.child=h.child,A.flags|=128,A=null):(Yc(),tt=j.fallback,W=A.mode,j=_s({mode:"visible",children:j.children},W),tt=Zu(tt,W,b,null),tt.flags|=2,j.return=A,tt.return=A,j.sibling=tt,A.child=j,Bn(A,h.child,null,b),j=A.child,j.memoizedState=Bs(b),j.childLanes=gi(h,Ce,b),A.memoizedState=Kn,A=xt(null,j));else if(oo(A),Q5(tt)){if(Ce=tt.nextSibling&&tt.nextSibling.dataset,Ce)var Cr=Ce.dgst;Ce=Cr,j=Error(n(419)),j.stack="",j.digest=Ce,Ec({value:j,source:null,stack:null}),A=fi(h,A,b)}else if(Ge||Cd(h,A,b,!1),Ce=(b&h.childLanes)!==0,Ge||Ce){if(Ce=ma,Ce!==null&&(j=ta(Ce,b),j!==0&&j!==Pt.retryLane))throw Pt.retryLane=j,ic(h,j),Do(Ce,h,j),We;H5(tt)||Rh(),A=fi(h,A,b)}else H5(tt)?(A.flags|=192,A.child=h.child,A=null):(h=Pt.treeContext,la=Ff(tt.nextSibling),Zs=A,In=!0,Ju=null,wc=!1,h!==null&&il(A,h),A=Rl(A,j.children),A.flags|=4096);return A}return W?(Yc(),tt=j.fallback,W=A.mode,Pt=h.child,Cr=Pt.sibling,j=yc(Pt,{mode:"hidden",children:j.children}),j.subtreeFlags=Pt.subtreeFlags&65011712,Cr!==null?tt=yc(Cr,tt):(tt=Zu(tt,W,b,null),tt.flags|=2),tt.return=A,j.return=A,j.sibling=tt,A.child=j,xt(null,j),j=A.child,tt=h.child.memoizedState,tt===null?tt=Bs(b):(W=tt.cachePool,W!==null?(Pt=Po._currentValue,W=W.parent!==Pt?{parent:Pt,pool:Pt}:W):W=na(),tt={baseLanes:tt.baseLanes|b,cachePool:W}),j.memoizedState=tt,j.childLanes=gi(h,Ce,b),A.memoizedState=Kn,xt(h.child,j)):(oo(A),b=h.child,h=b.sibling,b=yc(b,{mode:"visible",children:j.children}),b.return=A,b.sibling=null,h!==null&&(Ce=A.deletions,Ce===null?(A.deletions=[h],A.flags|=16):Ce.push(h)),A.child=b,A.memoizedState=null,b)}function Rl(h,A){return A=_s({mode:"visible",children:A},h.mode),A.return=h,h.child=A}function _s(h,A){return h=Pl(22,h,null,A),h.lanes=0,h}function fi(h,A,b){return Bn(A,h.child,null,b),h=Rl(A,A.pendingProps.children),h.flags|=2,A.memoizedState=null,h}function Rn(h,A,b){h.lanes|=A;var j=h.alternate;j!==null&&(j.lanes|=A),Th(h.return,A,b)}function sl(h,A,b,j,W,J){var Ce=h.memoizedState;Ce===null?h.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:j,tail:b,tailMode:W,treeForkCount:J}:(Ce.isBackwards=A,Ce.rendering=null,Ce.renderingStartTime=0,Ce.last=j,Ce.tail=b,Ce.tailMode=W,Ce.treeForkCount=J)}function Ss(h,A,b){var j=A.pendingProps,W=j.revealOrder,J=j.tail;j=j.children;var Ce=Ro.current,tt=(Ce&2)!==0;if(tt?(Ce=Ce&1|2,A.flags|=128):Ce&=1,Ie(Ro,Ce),et(h,A,j,b),j=In?Ke:0,!tt&&h!==null&&(h.flags&128)!==0)e:for(h=A.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&Rn(h,b,A);else if(h.tag===19)Rn(h,b,A);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break e;for(;h.sibling===null;){if(h.return===null||h.return===A)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}switch(W){case"forwards":for(b=A.child,W=null;b!==null;)h=b.alternate,h!==null&&Bf(h)===null&&(W=b),b=b.sibling;b=W,b===null?(W=A.child,A.child=null):(W=b.sibling,b.sibling=null),sl(A,!1,W,b,J,j);break;case"backwards":case"unstable_legacy-backwards":for(b=null,W=A.child,A.child=null;W!==null;){if(h=W.alternate,h!==null&&Bf(h)===null){A.child=W;break}h=W.sibling,W.sibling=b,b=W,W=h}sl(A,!0,b,null,J,j);break;case"together":sl(A,!1,null,null,void 0,j);break;default:A.memoizedState=null}return A.child}function Ds(h,A,b){if(h!==null&&(A.dependencies=h.dependencies),H|=A.lanes,(b&A.childLanes)===0)if(h!==null){if(Cd(h,A,b,!1),(b&A.childLanes)===0)return null}else return null;if(h!==null&&A.child!==h.child)throw Error(n(153));if(A.child!==null){for(h=A.child,b=yc(h,h.pendingProps),A.child=b,b.return=A;h.sibling!==null;)h=h.sibling,b=b.sibling=yc(h,h.pendingProps),b.return=A;b.sibling=null}return A.child}function Eo(h,A){return(h.lanes&A)!==0?!0:(h=h.dependencies,!!(h!==null&&uh(h)))}function oc(h,A,b){switch(A.tag){case 3:pt(A,A.stateNode.containerInfo),_c(A,Po,h.memoizedState.cache),Go();break;case 27:case 5:He(A);break;case 4:pt(A,A.stateNode.containerInfo);break;case 10:_c(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,Ym(A),null;break;case 13:var j=A.memoizedState;if(j!==null)return j.dehydrated!==null?(oo(A),A.flags|=128,null):(b&A.child.childLanes)!==0?ca(h,A,b):(oo(A),h=Ds(h,A,b),h!==null?h.sibling:null);oo(A);break;case 19:var W=(h.flags&128)!==0;if(j=(b&A.childLanes)!==0,j||(Cd(h,A,b,!1),j=(b&A.childLanes)!==0),W){if(j)return Ss(h,A,b);A.flags|=128}if(W=A.memoizedState,W!==null&&(W.rendering=null,W.tail=null,W.lastEffect=null),Ie(Ro,Ro.current),j)break;return null;case 22:return A.lanes=0,pr(h,A,b,A.pendingProps);case 24:_c(A,Po,h.memoizedState.cache)}return Ds(h,A,b)}function jc(h,A,b){if(h!==null)if(h.memoizedProps!==A.pendingProps)Ge=!0;else{if(!Eo(h,b)&&(A.flags&128)===0)return Ge=!1,oc(h,A,b);Ge=(h.flags&131072)!==0}else Ge=!1,In&&(A.flags&1048576)!==0&&As(A,Ke,A.index);switch(A.lanes=0,A.tag){case 16:e:{var j=A.pendingProps;if(h=ee(A.elementType),A.type=h,typeof h=="function")Fi(h)?(j=Jh(h,j),A.tag=1,A=nn(null,A,h,j,b)):(A.tag=0,A=Gr(null,A,h,j,b));else{if(h!=null){var W=h.$$typeof;if(W===N){A.tag=11,A=it(null,A,h,j,b);break e}else if(W===D){A.tag=14,A=yt(null,A,h,j,b);break e}}throw A=we(h)||h,Error(n(306,A,""))}}return A;case 0:return Gr(h,A,A.type,A.pendingProps,b);case 1:return j=A.type,W=Jh(j,A.pendingProps),nn(h,A,j,W,b);case 3:e:{if(pt(A,A.stateNode.containerInfo),h===null)throw Error(n(387));j=A.pendingProps;var J=A.memoizedState;W=J.element,Wi(h,A),ji(A,j,null,b);var Ce=A.memoizedState;if(j=Ce.cache,_c(A,Po,j),j!==J.cache&&lu(A,[Po],b,!0),Ua(),j=Ce.element,J.isDehydrated)if(J={element:j,isDehydrated:!1,cache:Ce.cache},A.updateQueue.baseState=J,A.memoizedState=J,A.flags&256){A=Ti(h,A,j,b);break e}else if(j!==W){W=S(Error(n(424)),A),Ec(W),A=Ti(h,A,j,b);break e}else for(h=A.stateNode.containerInfo,h.nodeType===9?h=h.body:h=h.nodeName==="HTML"?h.ownerDocument.body:h,la=Ff(h.firstChild),Zs=A,In=!0,Ju=null,wc=!0,b=sn(A,null,j,b),A.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Go(),j===W){A=Ds(h,A,b);break e}et(h,A,j,b)}A=A.child}return A;case 26:return Qr(h,A),h===null?(b=A8(A.type,null,A.pendingProps,null))?A.memoizedState=b:In||(b=A.type,h=A.pendingProps,j=B_(De.current).createElement(b),j[rs]=A,j[qs]=h,Od(j,b,h),ba(j),A.stateNode=j):A.memoizedState=A8(A.type,h.memoizedProps,A.pendingProps,h.memoizedState),null;case 27:return He(A),h===null&&In&&(j=A.stateNode=h8(A.type,A.pendingProps,De.current),Zs=A,wc=!0,W=la,Vg(A.type)?(z5=W,la=Ff(j.firstChild)):la=W),et(h,A,A.pendingProps.children,b),Qr(h,A),h===null&&(A.flags|=4194304),A.child;case 5:return h===null&&In&&((W=j=la)&&(j=Dce(j,A.type,A.pendingProps,wc),j!==null?(A.stateNode=j,Zs=A,la=Ff(j.firstChild),wc=!1,W=!0):W=!1),W||Xl(A)),He(A),W=A.type,J=A.pendingProps,Ce=h!==null?h.memoizedProps:null,j=J.children,F5(W,J)?j=null:Ce!==null&&F5(W,Ce)&&(A.flags|=32),A.memoizedState!==null&&(W=Ah(h,A,qm,null,null,b),W1._currentValue=W),Qr(h,A),et(h,A,j,b),A.child;case 6:return h===null&&In&&((h=b=la)&&(b=Mce(b,A.pendingProps,wc),b!==null?(A.stateNode=b,Zs=A,la=null,h=!0):h=!1),h||Xl(A)),null;case 13:return ca(h,A,b);case 4:return pt(A,A.stateNode.containerInfo),j=A.pendingProps,h===null?A.child=Bn(A,null,j,b):et(h,A,j,b),A.child;case 11:return it(h,A,A.type,A.pendingProps,b);case 7:return et(h,A,A.pendingProps,b),A.child;case 8:return et(h,A,A.pendingProps.children,b),A.child;case 12:return et(h,A,A.pendingProps.children,b),A.child;case 10:return j=A.pendingProps,_c(A,A.type,j.value),et(h,A,j.children,b),A.child;case 9:return W=A.type._context,j=A.pendingProps.children,Wc(A),W=bo(W),j=j(W),A.flags|=1,et(h,A,j,b),A.child;case 14:return yt(h,A,A.type,A.pendingProps,b);case 15:return $t(h,A,A.type,A.pendingProps,b);case 19:return Ss(h,A,b);case 31:return Er(h,A,b);case 22:return pr(h,A,b,A.pendingProps);case 24:return Wc(A),j=bo(Po),h===null?(W=Yi(),W===null&&(W=ma,J=fh(),W.pooledCache=J,J.refCount++,J!==null&&(W.pooledCacheLanes|=b),W=J),A.memoizedState={parent:j,cache:W},Fa(A),_c(A,Po,W)):((h.lanes&b)!==0&&(Wi(h,A),ji(A,null,null,b),Ua()),W=h.memoizedState,J=A.memoizedState,W.parent!==j?(W={parent:j,cache:j},A.memoizedState=W,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=W),_c(A,Po,j)):(j=J.cache,_c(A,Po,j),j!==W.cache&&lu(A,[Po],b,!0))),et(h,A,A.pendingProps.children,b),A.child;case 29:throw A.pendingProps}throw Error(n(156,A.tag))}function $a(h){h.flags|=4}function Tc(h,A,b,j,W){if((A=(h.mode&32)!==0)&&(A=!1),A){if(h.flags|=16777216,(W&335544128)===W)if(h.stateNode.complete)h.flags|=8192;else if(vm())h.flags|=8192;else throw Ze=Wo,Oo}else h.flags&=-16777217}function uu(h,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)h.flags&=-16777217;else if(h.flags|=16777216,!y8(A))if(vm())h.flags|=8192;else throw Ze=Wo,Oo}function al(h,A){A!==null&&(h.flags|=4),h.flags&16384&&(A=h.tag!==22?Cs():536870912,h.lanes|=A,dt|=A)}function aa(h,A){if(!In)switch(h.tailMode){case"hidden":A=h.tail;for(var b=null;A!==null;)A.alternate!==null&&(b=A),A=A.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var j=null;b!==null;)b.alternate!==null&&(j=b),b=b.sibling;j===null?A||h.tail===null?h.tail=null:h.tail.sibling=null:j.sibling=null}}function Vi(h){var A=h.alternate!==null&&h.alternate.child===h.child,b=0,j=0;if(A)for(var W=h.child;W!==null;)b|=W.lanes|W.childLanes,j|=W.subtreeFlags&65011712,j|=W.flags&65011712,W.return=h,W=W.sibling;else for(W=h.child;W!==null;)b|=W.lanes|W.childLanes,j|=W.subtreeFlags,j|=W.flags,W.return=h,W=W.sibling;return h.subtreeFlags|=j,h.childLanes=b,A}function wl(h,A,b){var j=A.pendingProps;switch(Co(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(A),null;case 1:return Vi(A),null;case 3:return b=A.stateNode,j=null,h!==null&&(j=h.memoizedState.cache),A.memoizedState.cache!==j&&(A.flags|=2048),Gc(Po),Ue(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(h===null||h.child===null)&&(Cu(A)?$a(A):h===null||h.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,Td())),Vi(A),null;case 26:var W=A.type,J=A.memoizedState;return h===null?($a(A),J!==null?(Vi(A),uu(A,J)):(Vi(A),Tc(A,W,null,j,b))):J?J!==h.memoizedState?($a(A),Vi(A),uu(A,J)):(Vi(A),A.flags&=-16777217):(h=h.memoizedProps,h!==j&&$a(A),Vi(A),Tc(A,W,h,j,b)),null;case 27:if(Ye(A),b=De.current,W=A.type,h!==null&&A.stateNode!=null)h.memoizedProps!==j&&$a(A);else{if(!j){if(A.stateNode===null)throw Error(n(166));return Vi(A),null}h=Oe.current,Cu(A)?Tu(A):(h=h8(W,j,b),A.stateNode=h,$a(A))}return Vi(A),null;case 5:if(Ye(A),W=A.type,h!==null&&A.stateNode!=null)h.memoizedProps!==j&&$a(A);else{if(!j){if(A.stateNode===null)throw Error(n(166));return Vi(A),null}if(J=Oe.current,Cu(A))Tu(A);else{var Ce=B_(De.current);switch(J){case 1:J=Ce.createElementNS("http://www.w3.org/2000/svg",W);break;case 2:J=Ce.createElementNS("http://www.w3.org/1998/Math/MathML",W);break;default:switch(W){case"svg":J=Ce.createElementNS("http://www.w3.org/2000/svg",W);break;case"math":J=Ce.createElementNS("http://www.w3.org/1998/Math/MathML",W);break;case"script":J=Ce.createElement("div"),J.innerHTML="<script><\/script>",J=J.removeChild(J.firstChild);break;case"select":J=typeof j.is=="string"?Ce.createElement("select",{is:j.is}):Ce.createElement("select"),j.multiple?J.multiple=!0:j.size&&(J.size=j.size);break;default:J=typeof j.is=="string"?Ce.createElement(W,{is:j.is}):Ce.createElement(W)}}J[rs]=A,J[qs]=j;e:for(Ce=A.child;Ce!==null;){if(Ce.tag===5||Ce.tag===6)J.appendChild(Ce.stateNode);else if(Ce.tag!==4&&Ce.tag!==27&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===A)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===A)break e;Ce=Ce.return}Ce.sibling.return=Ce.return,Ce=Ce.sibling}A.stateNode=J;e:switch(Od(J,W,j),W){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}j&&$a(A)}}return Vi(A),Tc(A,A.type,h===null?null:h.memoizedProps,A.pendingProps,b),null;case 6:if(h&&A.stateNode!=null)h.memoizedProps!==j&&$a(A);else{if(typeof j!="string"&&A.stateNode===null)throw Error(n(166));if(h=De.current,Cu(A)){if(h=A.stateNode,b=A.memoizedProps,j=null,W=Zs,W!==null)switch(W.tag){case 27:case 5:j=W.memoizedProps}h[rs]=A,h=!!(h.nodeValue===b||j!==null&&j.suppressHydrationWarning===!0||t8(h.nodeValue,b)),h||Xl(A,!0)}else h=B_(h).createTextNode(j),h[rs]=A,A.stateNode=h}return Vi(A),null;case 31:if(b=A.memoizedState,h===null||h.memoizedState!==null){if(j=Cu(A),b!==null){if(h===null){if(!j)throw Error(n(318));if(h=A.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(557));h[rs]=A}else Go(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Vi(A),h=!1}else b=Td(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=b),h=!0;if(!h)return A.flags&256?(qc(A),A):(qc(A),null);if((A.flags&128)!==0)throw Error(n(558))}return Vi(A),null;case 13:if(j=A.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(W=Cu(A),j!==null&&j.dehydrated!==null){if(h===null){if(!W)throw Error(n(318));if(W=A.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error(n(317));W[rs]=A}else Go(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Vi(A),W=!1}else W=Td(),h!==null&&h.memoizedState!==null&&(h.memoizedState.hydrationErrors=W),W=!0;if(!W)return A.flags&256?(qc(A),A):(qc(A),null)}return qc(A),(A.flags&128)!==0?(A.lanes=b,A):(b=j!==null,h=h!==null&&h.memoizedState!==null,b&&(j=A.child,W=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(W=j.alternate.memoizedState.cachePool.pool),J=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(J=j.memoizedState.cachePool.pool),J!==W&&(j.flags|=2048)),b!==h&&b&&(A.child.flags|=8192),al(A,A.updateQueue),Vi(A),null);case 4:return Ue(),h===null&&P5(A.stateNode.containerInfo),Vi(A),null;case 10:return Gc(A.type),Vi(A),null;case 19:if(he(Ro),j=A.memoizedState,j===null)return Vi(A),null;if(W=(A.flags&128)!==0,J=j.rendering,J===null)if(W)aa(j,!1);else{if(z!==0||h!==null&&(h.flags&128)!==0)for(h=A.child;h!==null;){if(J=Bf(h),J!==null){for(A.flags|=128,aa(j,!1),h=J.updateQueue,A.updateQueue=h,al(A,h),A.subtreeFlags=0,h=b,b=A.child;b!==null;)Vc(b,h),b=b.sibling;return Ie(Ro,Ro.current&1|2),In&&di(A,j.treeForkCount),A.child}h=h.sibling}j.tail!==null&&$r()>Gn&&(A.flags|=128,W=!0,aa(j,!1),A.lanes=4194304)}else{if(!W)if(h=Bf(J),h!==null){if(A.flags|=128,W=!0,h=h.updateQueue,A.updateQueue=h,al(A,h),aa(j,!0),j.tail===null&&j.tailMode==="hidden"&&!J.alternate&&!In)return Vi(A),null}else 2*$r()-j.renderingStartTime>Gn&&b!==536870912&&(A.flags|=128,W=!0,aa(j,!1),A.lanes=4194304);j.isBackwards?(J.sibling=A.child,A.child=J):(h=j.last,h!==null?h.sibling=J:A.child=J,j.last=J)}return j.tail!==null?(h=j.tail,j.rendering=h,j.tail=h.sibling,j.renderingStartTime=$r(),h.sibling=null,b=Ro.current,Ie(Ro,W?b&1|2:b&1),In&&di(A,j.treeForkCount),h):(Vi(A),null);case 22:case 23:return qc(A),cu(),j=A.memoizedState!==null,h!==null?h.memoizedState!==null!==j&&(A.flags|=8192):j&&(A.flags|=8192),j?(b&536870912)!==0&&(A.flags&128)===0&&(Vi(A),A.subtreeFlags&6&&(A.flags|=8192)):Vi(A),b=A.updateQueue,b!==null&&al(A,b.retryQueue),b=null,h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),j=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(j=A.memoizedState.cachePool.pool),j!==b&&(A.flags|=2048),h!==null&&he(ni),null;case 24:return b=null,h!==null&&(b=h.memoizedState.cache),A.memoizedState.cache!==b&&(A.flags|=2048),Gc(Po),Vi(A),null;case 25:return null;case 30:return null}throw Error(n(156,A.tag))}function eo(h,A){switch(Co(A),A.tag){case 1:return h=A.flags,h&65536?(A.flags=h&-65537|128,A):null;case 3:return Gc(Po),Ue(),h=A.flags,(h&65536)!==0&&(h&128)===0?(A.flags=h&-65537|128,A):null;case 26:case 27:case 5:return Ye(A),null;case 31:if(A.memoizedState!==null){if(qc(A),A.alternate===null)throw Error(n(340));Go()}return h=A.flags,h&65536?(A.flags=h&-65537|128,A):null;case 13:if(qc(A),h=A.memoizedState,h!==null&&h.dehydrated!==null){if(A.alternate===null)throw Error(n(340));Go()}return h=A.flags,h&65536?(A.flags=h&-65537|128,A):null;case 19:return he(Ro),null;case 4:return Ue(),null;case 10:return Gc(A.type),null;case 22:case 23:return qc(A),cu(),h!==null&&he(ni),h=A.flags,h&65536?(A.flags=h&-65537|128,A):null;case 24:return Gc(Po),null;case 25:return null;default:return null}}function Cc(h,A){switch(Co(A),A.tag){case 3:Gc(Po),Ue();break;case 26:case 27:case 5:Ye(A);break;case 4:Ue();break;case 31:A.memoizedState!==null&&qc(A);break;case 13:qc(A);break;case 19:he(Ro);break;case 10:Gc(A.type);break;case 22:case 23:qc(A),cu(),h!==null&&he(ni);break;case 24:Gc(Po)}}function Zc(h,A){try{var b=A.updateQueue,j=b!==null?b.lastEffect:null;if(j!==null){var W=j.next;b=W;do{if((b.tag&h)===h){j=void 0;var J=b.create,Ce=b.inst;j=J(),Ce.destroy=j}b=b.next}while(b!==W)}}catch(tt){Mo(A,A.return,tt)}}function lo(h,A,b){try{var j=A.updateQueue,W=j!==null?j.lastEffect:null;if(W!==null){var J=W.next;j=J;do{if((j.tag&h)===h){var Ce=j.inst,tt=Ce.destroy;if(tt!==void 0){Ce.destroy=void 0,W=A;var Pt=b,Cr=tt;try{Cr()}catch(Yr){Mo(W,Pt,Yr)}}}j=j.next}while(j!==J)}}catch(Yr){Mo(A,A.return,Yr)}}function Jc(h){var A=h.updateQueue;if(A!==null){var b=h.stateNode;try{Ls(A,b)}catch(j){Mo(h,h.return,j)}}}function co(h,A,b){b.props=Jh(h.type,h.memoizedProps),b.state=h.memoizedState;try{b.componentWillUnmount()}catch(j){Mo(h,A,j)}}function vn(h,A){try{var b=h.ref;if(b!==null){switch(h.tag){case 26:case 27:case 5:var j=h.stateNode;break;case 30:j=h.stateNode;break;default:j=h.stateNode}typeof b=="function"?h.refCleanup=b(j):b.current=j}}catch(W){Mo(h,A,W)}}function _o(h,A){var b=h.ref,j=h.refCleanup;if(b!==null)if(typeof j=="function")try{j()}catch(W){Mo(h,A,W)}finally{h.refCleanup=null,h=h.alternate,h!=null&&(h.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(W){Mo(h,A,W)}else b.current=null}function lc(h){var A=h.type,b=h.memoizedProps,j=h.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":b.autoFocus&&j.focus();break e;case"img":b.src?j.src=b.src:b.srcSet&&(j.srcset=b.srcSet)}}catch(W){Mo(h,h.return,W)}}function No(h,A,b){try{var j=h.stateNode;Lce(j,h.type,b,A),j[qs]=A}catch(W){Mo(h,h.return,W)}}function id(h){return h.tag===5||h.tag===3||h.tag===26||h.tag===27&&Vg(h.type)||h.tag===4}function ws(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||id(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.tag===27&&Vg(h.type)||h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function Js(h,A,b){var j=h.tag;if(j===5||j===6)h=h.stateNode,A?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(h,A):(A=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,A.appendChild(h),b=b._reactRootContainer,b!=null||A.onclick!==null||(A.onclick=ce));else if(j!==4&&(j===27&&Vg(h.type)&&(b=h.stateNode,A=null),h=h.child,h!==null))for(Js(h,A,b),h=h.sibling;h!==null;)Js(h,A,b),h=h.sibling}function ka(h,A,b){var j=h.tag;if(j===5||j===6)h=h.stateNode,A?b.insertBefore(h,A):b.appendChild(h);else if(j!==4&&(j===27&&Vg(h.type)&&(b=h.stateNode),h=h.child,h!==null))for(ka(h,A,b),h=h.sibling;h!==null;)ka(h,A,b),h=h.sibling}function sd(h){var A=h.stateNode,b=h.memoizedProps;try{for(var j=h.type,W=A.attributes;W.length;)A.removeAttributeNode(W[0]);Od(A,j,b),A[rs]=h,A[qs]=b}catch(J){Mo(h,h.return,J)}}var El=!1,ko=!1,ad=!1,Nc=typeof WeakSet=="function"?WeakSet:Set,Dl=null;function Hg(h,A){if(h=h.containerInfo,D5=U_,h=rc(h),wi(h)){if("selectionStart"in h)var b={start:h.selectionStart,end:h.selectionEnd};else e:{b=(b=h.ownerDocument)&&b.defaultView||window;var j=b.getSelection&&b.getSelection();if(j&&j.rangeCount!==0){b=j.anchorNode;var W=j.anchorOffset,J=j.focusNode;j=j.focusOffset;try{b.nodeType,J.nodeType}catch{b=null;break e}var Ce=0,tt=-1,Pt=-1,Cr=0,Yr=0,tn=h,kr=null;t:for(;;){for(var Or;tn!==b||W!==0&&tn.nodeType!==3||(tt=Ce+W),tn!==J||j!==0&&tn.nodeType!==3||(Pt=Ce+j),tn.nodeType===3&&(Ce+=tn.nodeValue.length),(Or=tn.firstChild)!==null;)kr=tn,tn=Or;for(;;){if(tn===h)break t;if(kr===b&&++Cr===W&&(tt=Ce),kr===J&&++Yr===j&&(Pt=Ce),(Or=tn.nextSibling)!==null)break;tn=kr,kr=tn.parentNode}tn=Or}b=tt===-1||Pt===-1?null:{start:tt,end:Pt}}else b=null}b=b||{start:0,end:0}}else b=null;for(M5={focusedElem:h,selectionRange:b},U_=!1,Dl=A;Dl!==null;)if(A=Dl,h=A.child,(A.subtreeFlags&1028)!==0&&h!==null)h.return=A,Dl=h;else for(;Dl!==null;){switch(A=Dl,J=A.alternate,h=A.flags,A.tag){case 0:if((h&4)!==0&&(h=A.updateQueue,h=h!==null?h.events:null,h!==null))for(b=0;b<h.length;b++)W=h[b],W.ref.impl=W.nextImpl;break;case 11:case 15:break;case 1:if((h&1024)!==0&&J!==null){h=void 0,b=A,W=J.memoizedProps,J=J.memoizedState,j=b.stateNode;try{var Ei=Jh(b.type,W);h=j.getSnapshotBeforeUpdate(Ei,J),j.__reactInternalSnapshotBeforeUpdate=h}catch(ds){Mo(b,b.return,ds)}}break;case 3:if((h&1024)!==0){if(h=A.stateNode.containerInfo,b=h.nodeType,b===9)$5(h);else if(b===1)switch(h.nodeName){case"HEAD":case"HTML":case"BODY":$5(h);break;default:h.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error(n(163))}if(h=A.sibling,h!==null){h.return=A.return,Dl=h;break}Dl=A.return}}function xp(h,A,b){var j=b.flags;switch(b.tag){case 0:case 11:case 15:du(h,b),j&4&&Zc(5,b);break;case 1:if(du(h,b),j&4)if(h=b.stateNode,A===null)try{h.componentDidMount()}catch(Ce){Mo(b,b.return,Ce)}else{var W=Jh(b.type,A.memoizedProps);A=A.memoizedState;try{h.componentDidUpdate(W,A,h.__reactInternalSnapshotBeforeUpdate)}catch(Ce){Mo(b,b.return,Ce)}}j&64&&Jc(b),j&512&&vn(b,b.return);break;case 3:if(du(h,b),j&64&&(h=b.updateQueue,h!==null)){if(A=null,b.child!==null)switch(b.child.tag){case 27:case 5:A=b.child.stateNode;break;case 1:A=b.child.stateNode}try{Ls(h,A)}catch(Ce){Mo(b,b.return,Ce)}}break;case 27:A===null&&j&4&&sd(b);case 26:case 5:du(h,b),A===null&&j&4&&lc(b),j&512&&vn(b,b.return);break;case 12:du(h,b);break;case 31:du(h,b),j&4&&hv(h,b);break;case 13:du(h,b),j&4&&Yx(h,b),j&64&&(h=b.memoizedState,h!==null&&(h=h.dehydrated,h!==null&&(b=xce.bind(null,b),Fce(h,b))));break;case 22:if(j=b.memoizedState!==null||El,!j){A=A!==null&&A.memoizedState!==null||ko,W=El;var J=ko;El=j,(ko=A)&&!J?ef(h,b,(b.subtreeFlags&8772)!==0):du(h,b),El=W,ko=J}break;case 30:break;default:du(h,b)}}function pm(h){var A=h.alternate;A!==null&&(h.alternate=null,pm(A)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(A=h.stateNode,A!==null&&su(A)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}var qo=null,Lu=!1;function qd(h,A,b){for(b=b.child;b!==null;)ph(h,A,b),b=b.sibling}function ph(h,A,b){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(tr,b)}catch{}switch(b.tag){case 26:ko||_o(b,A),qd(h,A,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:ko||_o(b,A);var j=qo,W=Lu;Vg(b.type)&&(qo=b.stateNode,Lu=!1),qd(h,A,b),V1(b.stateNode),qo=j,Lu=W;break;case 5:ko||_o(b,A);case 6:if(j=qo,W=Lu,qo=null,qd(h,A,b),qo=j,Lu=W,qo!==null)if(Lu)try{(qo.nodeType===9?qo.body:qo.nodeName==="HTML"?qo.ownerDocument.body:qo).removeChild(b.stateNode)}catch(J){Mo(b,A,J)}else try{qo.removeChild(b.stateNode)}catch(J){Mo(b,A,J)}break;case 18:qo!==null&&(Lu?(h=qo,o8(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,b.stateNode),iy(h)):o8(qo,b.stateNode));break;case 4:j=qo,W=Lu,qo=b.stateNode.containerInfo,Lu=!0,qd(h,A,b),qo=j,Lu=W;break;case 0:case 11:case 14:case 15:lo(2,b,A),ko||lo(4,b,A),qd(h,A,b);break;case 1:ko||(_o(b,A),j=b.stateNode,typeof j.componentWillUnmount=="function"&&co(b,A,j)),qd(h,A,b);break;case 21:qd(h,A,b);break;case 22:ko=(j=ko)||b.memoizedState!==null,qd(h,A,b),ko=j;break;default:qd(h,A,b)}}function hv(h,A){if(A.memoizedState===null&&(h=A.alternate,h!==null&&(h=h.memoizedState,h!==null))){h=h.dehydrated;try{iy(h)}catch(b){Mo(A,A.return,b)}}}function Yx(h,A){if(A.memoizedState===null&&(h=A.alternate,h!==null&&(h=h.memoizedState,h!==null&&(h=h.dehydrated,h!==null))))try{iy(h)}catch(b){Mo(A,A.return,b)}}function qx(h){switch(h.tag){case 31:case 13:case 19:var A=h.stateNode;return A===null&&(A=h.stateNode=new Nc),A;case 22:return h=h.stateNode,A=h._retryCache,A===null&&(A=h._retryCache=new Nc),A;default:throw Error(n(435,h.tag))}}function yp(h,A){var b=qx(h);A.forEach(function(j){if(!b.has(j)){b.add(j);var W=yce.bind(null,h,j);j.then(W,W)}})}function eu(h,A){var b=A.deletions;if(b!==null)for(var j=0;j<b.length;j++){var W=b[j],J=h,Ce=A,tt=Ce;e:for(;tt!==null;){switch(tt.tag){case 27:if(Vg(tt.type)){qo=tt.stateNode,Lu=!1;break e}break;case 5:qo=tt.stateNode,Lu=!1;break e;case 3:case 4:qo=tt.stateNode.containerInfo,Lu=!0;break e}tt=tt.return}if(qo===null)throw Error(n(160));ph(J,Ce,W),qo=null,Lu=!1,J=W.alternate,J!==null&&(J.return=null),W.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)nA(A,h),A=A.sibling}var Xd=null;function nA(h,A){var b=h.alternate,j=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:eu(A,h),uo(h),j&4&&(lo(3,h,h.return),Zc(3,h),lo(5,h,h.return));break;case 1:eu(A,h),uo(h),j&512&&(ko||b===null||_o(b,b.return)),j&64&&El&&(h=h.updateQueue,h!==null&&(j=h.callbacks,j!==null&&(b=h.shared.hiddenCallbacks,h.shared.hiddenCallbacks=b===null?j:b.concat(j))));break;case 26:var W=Xd;if(eu(A,h),uo(h),j&512&&(ko||b===null||_o(b,b.return)),j&4){var J=b!==null?b.memoizedState:null;if(j=h.memoizedState,b===null)if(j===null)if(h.stateNode===null){e:{j=h.type,b=h.memoizedProps,W=W.ownerDocument||W;t:switch(j){case"title":J=W.getElementsByTagName("title")[0],(!J||J[$l]||J[rs]||J.namespaceURI==="http://www.w3.org/2000/svg"||J.hasAttribute("itemprop"))&&(J=W.createElement(j),W.head.insertBefore(J,W.querySelector("head > title"))),Od(J,j,b),J[rs]=h,ba(J),j=J;break e;case"link":var Ce=v8("link","href",W).get(j+(b.href||""));if(Ce){for(var tt=0;tt<Ce.length;tt++)if(J=Ce[tt],J.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&J.getAttribute("rel")===(b.rel==null?null:b.rel)&&J.getAttribute("title")===(b.title==null?null:b.title)&&J.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){Ce.splice(tt,1);break t}}J=W.createElement(j),Od(J,j,b),W.head.appendChild(J);break;case"meta":if(Ce=v8("meta","content",W).get(j+(b.content||""))){for(tt=0;tt<Ce.length;tt++)if(J=Ce[tt],J.getAttribute("content")===(b.content==null?null:""+b.content)&&J.getAttribute("name")===(b.name==null?null:b.name)&&J.getAttribute("property")===(b.property==null?null:b.property)&&J.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&J.getAttribute("charset")===(b.charSet==null?null:b.charSet)){Ce.splice(tt,1);break t}}J=W.createElement(j),Od(J,j,b),W.head.appendChild(J);break;default:throw Error(n(468,j))}J[rs]=h,ba(J),j=J}h.stateNode=j}else x8(W,h.type,h.stateNode);else h.stateNode=g8(W,j,h.memoizedProps);else J!==j?(J===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):J.count--,j===null?x8(W,h.type,h.stateNode):g8(W,j,h.memoizedProps)):j===null&&h.stateNode!==null&&No(h,h.memoizedProps,b.memoizedProps)}break;case 27:eu(A,h),uo(h),j&512&&(ko||b===null||_o(b,b.return)),b!==null&&j&4&&No(h,h.memoizedProps,b.memoizedProps);break;case 5:if(eu(A,h),uo(h),j&512&&(ko||b===null||_o(b,b.return)),h.flags&32){W=h.stateNode;try{Vs(W,"")}catch(Ei){Mo(h,h.return,Ei)}}j&4&&h.stateNode!=null&&(W=h.memoizedProps,No(h,W,b!==null?b.memoizedProps:W)),j&1024&&(ad=!0);break;case 6:if(eu(A,h),uo(h),j&4){if(h.stateNode===null)throw Error(n(162));j=h.memoizedProps,b=h.stateNode;try{b.nodeValue=j}catch(Ei){Mo(h,h.return,Ei)}}break;case 3:if(R_=null,W=Xd,Xd=P_(A.containerInfo),eu(A,h),Xd=W,uo(h),j&4&&b!==null&&b.memoizedState.isDehydrated)try{iy(A.containerInfo)}catch(Ei){Mo(h,h.return,Ei)}ad&&(ad=!1,bp(h));break;case 4:j=Xd,Xd=P_(h.stateNode.containerInfo),eu(A,h),uo(h),Xd=j;break;case 12:eu(A,h),uo(h);break;case 31:eu(A,h),uo(h),j&4&&(j=h.updateQueue,j!==null&&(h.updateQueue=null,yp(h,j)));break;case 13:eu(A,h),uo(h),h.child.flags&8192&&h.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(fr=$r()),j&4&&(j=h.updateQueue,j!==null&&(h.updateQueue=null,yp(h,j)));break;case 22:W=h.memoizedState!==null;var Pt=b!==null&&b.memoizedState!==null,Cr=El,Yr=ko;if(El=Cr||W,ko=Yr||Pt,eu(A,h),ko=Yr,El=Cr,uo(h),j&8192)e:for(A=h.stateNode,A._visibility=W?A._visibility&-2:A._visibility|1,W&&(b===null||Pt||El||ko||Rf(h)),b=null,A=h;;){if(A.tag===5||A.tag===26){if(b===null){Pt=b=A;try{if(J=Pt.stateNode,W)Ce=J.style,typeof Ce.setProperty=="function"?Ce.setProperty("display","none","important"):Ce.display="none";else{tt=Pt.stateNode;var tn=Pt.memoizedProps.style,kr=tn!=null&&tn.hasOwnProperty("display")?tn.display:null;tt.style.display=kr==null||typeof kr=="boolean"?"":(""+kr).trim()}}catch(Ei){Mo(Pt,Pt.return,Ei)}}}else if(A.tag===6){if(b===null){Pt=A;try{Pt.stateNode.nodeValue=W?"":Pt.memoizedProps}catch(Ei){Mo(Pt,Pt.return,Ei)}}}else if(A.tag===18){if(b===null){Pt=A;try{var Or=Pt.stateNode;W?l8(Or,!0):l8(Pt.stateNode,!1)}catch(Ei){Mo(Pt,Pt.return,Ei)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===h)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;b===A&&(b=null),A=A.return}b===A&&(b=null),A.sibling.return=A.return,A=A.sibling}j&4&&(j=h.updateQueue,j!==null&&(b=j.retryQueue,b!==null&&(j.retryQueue=null,yp(h,b))));break;case 19:eu(A,h),uo(h),j&4&&(j=h.updateQueue,j!==null&&(h.updateQueue=null,yp(h,j)));break;case 30:break;case 21:break;default:eu(A,h),uo(h)}}function uo(h){var A=h.flags;if(A&2){try{for(var b,j=h.return;j!==null;){if(id(j)){b=j;break}j=j.return}if(b==null)throw Error(n(160));switch(b.tag){case 27:var W=b.stateNode,J=ws(h);ka(h,J,W);break;case 5:var Ce=b.stateNode;b.flags&32&&(Vs(Ce,""),b.flags&=-33);var tt=ws(h);ka(h,tt,Ce);break;case 3:case 4:var Pt=b.stateNode.containerInfo,Cr=ws(h);Js(h,Cr,Pt);break;default:throw Error(n(161))}}catch(Yr){Mo(h,h.return,Yr)}h.flags&=-3}A&4096&&(h.flags&=-4097)}function bp(h){if(h.subtreeFlags&1024)for(h=h.child;h!==null;){var A=h;bp(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),h=h.sibling}}function du(h,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)xp(h,A.alternate,A),A=A.sibling}function Rf(h){for(h=h.child;h!==null;){var A=h;switch(A.tag){case 0:case 11:case 14:case 15:lo(4,A,A.return),Rf(A);break;case 1:_o(A,A.return);var b=A.stateNode;typeof b.componentWillUnmount=="function"&&co(A,A.return,b),Rf(A);break;case 27:V1(A.stateNode);case 26:case 5:_o(A,A.return),Rf(A);break;case 22:A.memoizedState===null&&Rf(A);break;case 30:Rf(A);break;default:Rf(A)}h=h.sibling}}function ef(h,A,b){for(b=b&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var j=A.alternate,W=h,J=A,Ce=J.flags;switch(J.tag){case 0:case 11:case 15:ef(W,J,b),Zc(4,J);break;case 1:if(ef(W,J,b),j=J,W=j.stateNode,typeof W.componentDidMount=="function")try{W.componentDidMount()}catch(Cr){Mo(j,j.return,Cr)}if(j=J,W=j.updateQueue,W!==null){var tt=j.stateNode;try{var Pt=W.shared.hiddenCallbacks;if(Pt!==null)for(W.shared.hiddenCallbacks=null,W=0;W<Pt.length;W++)ia(Pt[W],tt)}catch(Cr){Mo(j,j.return,Cr)}}b&&Ce&64&&Jc(J),vn(J,J.return);break;case 27:sd(J);case 26:case 5:ef(W,J,b),b&&j===null&&Ce&4&&lc(J),vn(J,J.return);break;case 12:ef(W,J,b);break;case 31:ef(W,J,b),b&&Ce&4&&hv(W,J);break;case 13:ef(W,J,b),b&&Ce&4&&Yx(W,J);break;case 22:J.memoizedState===null&&ef(W,J,b),vn(J,J.return);break;case 30:break;default:ef(W,J,b)}A=A.sibling}}function Df(h,A){var b=null;h!==null&&h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),h=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(h=A.memoizedState.cachePool.pool),h!==b&&(h!=null&&h.refCount++,b!=null&&Nh(b))}function tf(h,A){h=null,A.alternate!==null&&(h=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==h&&(A.refCount++,h!=null&&Nh(h))}function hu(h,A,b,j){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)rf(h,A,b,j),A=A.sibling}function rf(h,A,b,j){var W=A.flags;switch(A.tag){case 0:case 11:case 15:hu(h,A,b,j),W&2048&&Zc(9,A);break;case 1:hu(h,A,b,j);break;case 3:hu(h,A,b,j),W&2048&&(h=null,A.alternate!==null&&(h=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==h&&(A.refCount++,h!=null&&Nh(h)));break;case 12:if(W&2048){hu(h,A,b,j),h=A.stateNode;try{var J=A.memoizedProps,Ce=J.id,tt=J.onPostCommit;typeof tt=="function"&&tt(Ce,A.alternate===null?"mount":"update",h.passiveEffectDuration,-0)}catch(Pt){Mo(A,A.return,Pt)}}else hu(h,A,b,j);break;case 31:hu(h,A,b,j);break;case 13:hu(h,A,b,j);break;case 23:break;case 22:J=A.stateNode,Ce=A.alternate,A.memoizedState!==null?J._visibility&2?hu(h,A,b,j):iA(h,A):J._visibility&2?hu(h,A,b,j):(J._visibility|=2,Zd(h,A,b,j,(A.subtreeFlags&10256)!==0||!1)),W&2048&&Df(Ce,A);break;case 24:hu(h,A,b,j),W&2048&&tf(A.alternate,A);break;default:hu(h,A,b,j)}}function Zd(h,A,b,j,W){for(W=W&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var J=h,Ce=A,tt=b,Pt=j,Cr=Ce.flags;switch(Ce.tag){case 0:case 11:case 15:Zd(J,Ce,tt,Pt,W),Zc(8,Ce);break;case 23:break;case 22:var Yr=Ce.stateNode;Ce.memoizedState!==null?Yr._visibility&2?Zd(J,Ce,tt,Pt,W):iA(J,Ce):(Yr._visibility|=2,Zd(J,Ce,tt,Pt,W)),W&&Cr&2048&&Df(Ce.alternate,Ce);break;case 24:Zd(J,Ce,tt,Pt,W),W&&Cr&2048&&tf(Ce.alternate,Ce);break;default:Zd(J,Ce,tt,Pt,W)}A=A.sibling}}function iA(h,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var b=h,j=A,W=j.flags;switch(j.tag){case 22:iA(b,j),W&2048&&Df(j.alternate,j);break;case 24:iA(b,j),W&2048&&tf(j.alternate,j);break;default:iA(b,j)}A=A.sibling}}var wp=8192;function Mf(h,A,b){if(h.subtreeFlags&wp)for(h=h.child;h!==null;)gm(h,A,b),h=h.sibling}function gm(h,A,b){switch(h.tag){case 26:Mf(h,A,b),h.flags&wp&&h.memoizedState!==null&&Xce(b,Xd,h.memoizedState,h.memoizedProps);break;case 5:Mf(h,A,b);break;case 3:case 4:var j=Xd;Xd=P_(h.stateNode.containerInfo),Mf(h,A,b),Xd=j;break;case 22:h.memoizedState===null&&(j=h.alternate,j!==null&&j.memoizedState!==null?(j=wp,wp=16777216,Mf(h,A,b),wp=j):Mf(h,A,b));break;default:Mf(h,A,b)}}function fv(h){var A=h.alternate;if(A!==null&&(h=A.child,h!==null)){A.child=null;do A=h.sibling,h.sibling=null,h=A;while(h!==null)}}function sA(h){var A=h.deletions;if((h.flags&16)!==0){if(A!==null)for(var b=0;b<A.length;b++){var j=A[b];Dl=j,Zx(j,h)}fv(h)}if(h.subtreeFlags&10256)for(h=h.child;h!==null;)Xx(h),h=h.sibling}function Xx(h){switch(h.tag){case 0:case 11:case 15:sA(h),h.flags&2048&&lo(9,h,h.return);break;case 3:sA(h);break;case 12:sA(h);break;case 22:var A=h.stateNode;h.memoizedState!==null&&A._visibility&2&&(h.return===null||h.return.tag!==13)?(A._visibility&=-3,Ep(h)):sA(h);break;default:sA(h)}}function Ep(h){var A=h.deletions;if((h.flags&16)!==0){if(A!==null)for(var b=0;b<A.length;b++){var j=A[b];Dl=j,Zx(j,h)}fv(h)}for(h=h.child;h!==null;){switch(A=h,A.tag){case 0:case 11:case 15:lo(8,A,A.return),Ep(A);break;case 22:b=A.stateNode,b._visibility&2&&(b._visibility&=-3,Ep(A));break;default:Ep(A)}h=h.sibling}}function Zx(h,A){for(;Dl!==null;){var b=Dl;switch(b.tag){case 0:case 11:case 15:lo(8,b,A);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var j=b.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Nh(b.memoizedState.cache)}if(j=b.child,j!==null)j.return=b,Dl=j;else e:for(b=h;Dl!==null;){j=Dl;var W=j.sibling,J=j.return;if(pm(j),j===b){Dl=null;break e}if(W!==null){W.return=J,Dl=W;break e}Dl=J}}}var _p={getCacheForType:function(h){var A=bo(Po),b=A.data.get(h);return b===void 0&&(b=h(),A.data.set(h,b)),b},cacheSignal:function(){return bo(Po).controller.signal}},mv=typeof WeakMap=="function"?WeakMap:Map,va=0,ma=null,js=null,Ps=0,La=0,Iu=null,nf=!1,aA=!1,U=!1,B=0,z=0,H=0,ge=0,Ne=0,ze=0,dt=0,ht=null,Ut=null,Zt=!1,fr=0,zr=0,Gn=1/0,wn=null,Dn=null,Bi=0,hi=null,li=null,ea=0,Ks=0,us=null,Zn=null,ua=0,xa=null;function Mi(){return(va&2)!==0&&Ps!==0?Ps&-Ps:ne.T!==null?k5():Fs()}function cc(){if(ze===0)if((Ps&536870912)===0||In){var h=on;on<<=1,(on&3932160)===0&&(on=262144),ze=h}else ze=536870912;return h=yl.current,h!==null&&(h.flags|=32),ze}function Do(h,A,b){(h===ma&&(La===2||La===9)||h.cancelPendingCommit!==null)&&(Oh(h,0),Pd(h,Ps,ze,!1)),Ns(h,b),((va&2)===0||h!==ma)&&(h===ma&&((va&2)===0&&(ge|=b),z===4&&Pd(h,Ps,ze,!1)),cA(h))}function Jd(h,A,b){if((va&6)!==0)throw Error(n(327));var j=!b&&(A&127)===0&&(A&h.expiredLanes)===0||Mn(h,A),W=j?Qg(h,A):xm(h,A,!0),J=j;do{if(W===0){aA&&!j&&Pd(h,A,0,!1);break}else{if(b=h.current.alternate,J&&!Bu(b)){W=xm(h,A,!1),J=!1;continue}if(W===2){if(J=A,h.errorRecoveryDisabledLanes&J)var Ce=0;else Ce=h.pendingLanes&-536870913,Ce=Ce!==0?Ce:Ce&536870912?536870912:0;if(Ce!==0){A=Ce;e:{var tt=h;W=ht;var Pt=tt.current.memoizedState.isDehydrated;if(Pt&&(Oh(tt,Ce).flags|=256),Ce=xm(tt,Ce,!1),Ce!==2){if(U&&!Pt){tt.errorRecoveryDisabledLanes|=J,ge|=J,W=4;break e}J=Ut,Ut=W,J!==null&&(Ut===null?Ut=J:Ut.push.apply(Ut,J))}W=Ce}if(J=!1,W!==2)continue}}if(W===1){Oh(h,0),Pd(h,A,0,!0);break}e:{switch(j=h,J=W,J){case 0:case 1:throw Error(n(345));case 4:if((A&4194048)!==A)break;case 6:Pd(j,A,ze,!nf);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(n(329))}if((A&62914560)===A&&(W=fr+300-$r(),10<W)){if(Pd(j,A,ze,!nf),An(j,0,!0)!==0)break e;ea=A,j.timeoutHandle=s8(So.bind(null,j,b,Ut,wn,Zt,A,ze,ge,dt,nf,J,"Throttled",-0,0),W);break e}So(j,b,Ut,wn,Zt,A,ze,ge,dt,nf,J,null,-0,0)}}break}while(!0);cA(h)}function So(h,A,b,j,W,J,Ce,tt,Pt,Cr,Yr,tn,kr,Or){if(h.timeoutHandle=-1,tn=A.subtreeFlags,tn&8192||(tn&16785408)===16785408){tn={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ce},gm(A,J,tn);var Ei=(J&62914560)===J?fr-$r():(J&4194048)===J?zr-$r():0;if(Ei=Zce(tn,Ei),Ei!==null){ea=J,h.cancelPendingCommit=Ei(D6.bind(null,h,A,J,b,j,W,Ce,tt,Pt,Yr,tn,null,kr,Or)),Pd(h,J,Ce,!Cr);return}}D6(h,A,J,b,j,W,Ce,tt,Pt)}function Bu(h){for(var A=h;;){var b=A.tag;if((b===0||b===11||b===15)&&A.flags&16384&&(b=A.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var j=0;j<b.length;j++){var W=b[j],J=W.getSnapshot;W=W.value;try{if(!_n(J(),W))return!1}catch{return!1}}if(b=A.child,A.subtreeFlags&16384&&b!==null)b.return=A,A=b;else{if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Pd(h,A,b,j){A&=~Ne,A&=~ge,h.suspendedLanes|=A,h.pingedLanes&=~A,j&&(h.warmLanes|=A),j=h.expirationTimes;for(var W=A;0<W;){var J=31-Wr(W),Ce=1<<J;j[J]=-1,W&=~Ce}b!==0&&dn(h,b,A)}function Pu(){return(va&6)===0?(H1(0),!1):!0}function od(){if(js!==null){if(La===0)var h=js.return;else h=js,Nu=Zl=null,sp(h),yr=null,Gt=0,h=js;for(;h!==null;)Cc(h.alternate,h),h=h.return;js=null}}function Oh(h,A){var b=h.timeoutHandle;b!==-1&&(h.timeoutHandle=-1,Pce(b)),b=h.cancelPendingCommit,b!==null&&(h.cancelPendingCommit=null,b()),ea=0,od(),ma=h,js=b=yc(h.current,null),Ps=A,La=0,Iu=null,nf=!1,aA=Mn(h,A),U=!1,dt=ze=Ne=ge=H=z=0,Ut=ht=null,Zt=!1,(A&8)!==0&&(A|=A&32);var j=h.entangledLanes;if(j!==0)for(h=h.entanglements,j&=A;0<j;){var W=31-Wr(j),J=1<<W;A|=h[W],j&=~J}return B=A,au(),b}function sf(h,A){Ji=null,ne.H=Ap,A===Ma||A===Na?(A=St(),La=3):A===Oo?(A=St(),La=4):La=A===We?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,Iu=A,js===null&&(z=1,rA(h,S(A,h.current)))}function vm(){var h=yl.current;return h===null?!0:(Ps&4194048)===Ps?ac===null:(Ps&62914560)===Ps||(Ps&536870912)!==0?h===ac:!1}function oA(){var h=ne.H;return ne.H=Ap,h===null?Ap:h}function lA(){var h=ne.A;return ne.A=_p,h}function Rh(){z=4,nf||(Ps&4194048)!==Ps&&yl.current!==null||(aA=!0),(H&134217727)===0&&(ge&134217727)===0||ma===null||Pd(ma,Ps,ze,!1)}function xm(h,A,b){var j=va;va|=2;var W=oA(),J=lA();(ma!==h||Ps!==A)&&(wn=null,Oh(h,A)),A=!1;var Ce=z;e:do try{if(La!==0&&js!==null){var tt=js,Pt=Iu;switch(La){case 8:od(),Ce=6;break e;case 3:case 2:case 9:case 6:yl.current===null&&(A=!0);var Cr=La;if(La=0,Iu=null,Jx(h,tt,Pt,Cr),b&&aA){Ce=0;break e}break;default:Cr=La,La=0,Iu=null,Jx(h,tt,Pt,Cr)}}ym(),Ce=z;break}catch(Yr){sf(h,Yr)}while(!0);return A&&h.shellSuspendCounter++,Nu=Zl=null,va=j,ne.H=W,ne.A=J,js===null&&(ma=null,Ps=0,au()),Ce}function ym(){for(;js!==null;)P6(js)}function Qg(h,A){var b=va;va|=2;var j=oA(),W=lA();ma!==h||Ps!==A?(wn=null,Gn=$r()+500,Oh(h,A)):aA=Mn(h,A);e:do try{if(La!==0&&js!==null){A=js;var J=Iu;t:switch(La){case 1:La=0,Iu=null,Jx(h,A,J,1);break;case 2:case 9:if(O(J)){La=0,Iu=null,O6(A);break}A=function(){La!==2&&La!==9||ma!==h||(La=7),cA(h)},J.then(A,A);break e;case 3:La=7;break e;case 4:La=5;break e;case 7:O(J)?(La=0,Iu=null,O6(A)):(La=0,Iu=null,Jx(h,A,J,7));break;case 5:var Ce=null;switch(js.tag){case 26:Ce=js.memoizedState;case 5:case 27:var tt=js;if(Ce?y8(Ce):tt.stateNode.complete){La=0,Iu=null;var Pt=tt.sibling;if(Pt!==null)js=Pt;else{var Cr=tt.return;Cr!==null?(js=Cr,T_(Cr)):js=null}break t}}La=0,Iu=null,Jx(h,A,J,5);break;case 6:La=0,Iu=null,Jx(h,A,J,6);break;case 8:od(),z=6;break e;default:throw Error(n(462))}}Av();break}catch(Yr){sf(h,Yr)}while(!0);return Nu=Zl=null,ne.H=j,ne.A=W,va=b,js!==null?0:(ma=null,Ps=0,au(),z)}function Av(){for(;js!==null&&!Dr();)P6(js)}function P6(h){var A=jc(h.alternate,h,B);h.memoizedProps=h.pendingProps,A===null?T_(h):js=A}function O6(h){var A=h,b=A.alternate;switch(A.tag){case 15:case 0:A=hn(b,A,A.pendingProps,A.type,void 0,Ps);break;case 11:A=hn(b,A,A.pendingProps,A.type.render,A.ref,Ps);break;case 5:sp(A);default:Cc(b,A),A=js=Vc(A,B),A=jc(b,A,B)}h.memoizedProps=h.pendingProps,A===null?T_(h):js=A}function Jx(h,A,b,j){Nu=Zl=null,sp(A),yr=null,Gt=0;var W=A.return;try{if(Fe(h,W,A,b,Ps)){z=1,rA(h,S(b,h.current)),js=null;return}}catch(J){if(W!==null)throw js=W,J;z=1,rA(h,S(b,h.current)),js=null;return}A.flags&32768?(In||j===1?h=!0:aA||(Ps&536870912)!==0?h=!1:(nf=h=!0,(j===2||j===9||j===3||j===6)&&(j=yl.current,j!==null&&j.tag===13&&(j.flags|=16384))),R6(A,h)):T_(A)}function T_(h){var A=h;do{if((A.flags&32768)!==0){R6(A,nf);return}h=A.return;var b=wl(A.alternate,A,B);if(b!==null){js=b;return}if(A=A.sibling,A!==null){js=A;return}js=A=h}while(A!==null);z===0&&(z=5)}function R6(h,A){do{var b=eo(h.alternate,h);if(b!==null){b.flags&=32767,js=b;return}if(b=h.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!A&&(h=h.sibling,h!==null)){js=h;return}js=h=b}while(h!==null);z=6,js=null}function D6(h,A,b,j,W,J,Ce,tt,Pt){h.cancelPendingCommit=null;do C_();while(Bi!==0);if((va&6)!==0)throw Error(n(327));if(A!==null){if(A===h.current)throw Error(n(177));if(J=A.lanes|A.childLanes,J|=vl,ti(h,b,J,Ce,tt,Pt),h===ma&&(js=ma=null,Ps=0),li=A,hi=h,ea=b,Ks=J,us=W,Zn=j,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(h.callbackNode=null,h.callbackPriority=0,bce(bn,function(){return H6(),null})):(h.callbackNode=null,h.callbackPriority=0),j=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||j){j=ne.T,ne.T=null,W=ae.p,ae.p=2,Ce=va,va|=4;try{Hg(h,A,b)}finally{va=Ce,ae.p=W,ne.T=j}}Bi=1,M6(),F6(),U6()}}function M6(){if(Bi===1){Bi=0;var h=hi,A=li,b=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||b){b=ne.T,ne.T=null;var j=ae.p;ae.p=2;var W=va;va|=4;try{nA(A,h);var J=M5,Ce=rc(h.containerInfo),tt=J.focusedElem,Pt=J.selectionRange;if(Ce!==tt&&tt&&tt.ownerDocument&&Ko(tt.ownerDocument.documentElement,tt)){if(Pt!==null&&wi(tt)){var Cr=Pt.start,Yr=Pt.end;if(Yr===void 0&&(Yr=Cr),"selectionStart"in tt)tt.selectionStart=Cr,tt.selectionEnd=Math.min(Yr,tt.value.length);else{var tn=tt.ownerDocument||document,kr=tn&&tn.defaultView||window;if(kr.getSelection){var Or=kr.getSelection(),Ei=tt.textContent.length,ds=Math.min(Pt.start,Ei),Zo=Pt.end===void 0?ds:Math.min(Pt.end,Ei);!Or.extend&&ds>Zo&&(Ce=Zo,Zo=ds,ds=Ce);var cr=so(tt,ds),Vt=so(tt,Zo);if(cr&&Vt&&(Or.rangeCount!==1||Or.anchorNode!==cr.node||Or.anchorOffset!==cr.offset||Or.focusNode!==Vt.node||Or.focusOffset!==Vt.offset)){var Tr=tn.createRange();Tr.setStart(cr.node,cr.offset),Or.removeAllRanges(),ds>Zo?(Or.addRange(Tr),Or.extend(Vt.node,Vt.offset)):(Tr.setEnd(Vt.node,Vt.offset),Or.addRange(Tr))}}}}for(tn=[],Or=tt;Or=Or.parentNode;)Or.nodeType===1&&tn.push({element:Or,left:Or.scrollLeft,top:Or.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<tn.length;tt++){var en=tn[tt];en.element.scrollLeft=en.left,en.element.scrollTop=en.top}}U_=!!D5,M5=D5=null}finally{va=W,ae.p=j,ne.T=b}}h.current=A,Bi=2}}function F6(){if(Bi===2){Bi=0;var h=hi,A=li,b=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||b){b=ne.T,ne.T=null;var j=ae.p;ae.p=2;var W=va;va|=4;try{xp(h,A.alternate,A)}finally{va=W,ae.p=j,ne.T=b}}Bi=3}}function U6(){if(Bi===4||Bi===3){Bi=0,mn();var h=hi,A=li,b=ea,j=Zn;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?Bi=5:(Bi=0,li=hi=null,$6(h,h.pendingLanes));var W=h.pendingLanes;if(W===0&&(Dn=null),Ln(b),A=A.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(tr,A,void 0,(A.current.flags&128)===128)}catch{}if(j!==null){A=ne.T,W=ae.p,ae.p=2,ne.T=null;try{for(var J=h.onRecoverableError,Ce=0;Ce<j.length;Ce++){var tt=j[Ce];J(tt.value,{componentStack:tt.stack})}}finally{ne.T=A,ae.p=W}}(ea&3)!==0&&C_(),cA(h),W=h.pendingLanes,(b&261930)!==0&&(W&42)!==0?h===xa?ua++:(ua=0,xa=h):ua=0,H1(0)}}function $6(h,A){(h.pooledCacheLanes&=A)===0&&(A=h.pooledCache,A!=null&&(h.pooledCache=null,Nh(A)))}function C_(){return M6(),F6(),U6(),H6()}function H6(){if(Bi!==5)return!1;var h=hi,A=Ks;Ks=0;var b=Ln(ea),j=ne.T,W=ae.p;try{ae.p=32>b?32:b,ne.T=null,b=us,us=null;var J=hi,Ce=ea;if(Bi=0,li=hi=null,ea=0,(va&6)!==0)throw Error(n(331));var tt=va;if(va|=4,Xx(J.current),rf(J,J.current,Ce,b),va=tt,H1(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(tr,J)}catch{}return!0}finally{ae.p=W,ne.T=j,$6(h,A)}}function Q6(h,A,b){A=S(b,A),A=q(h.stateNode,A,2),h=zi(h,A,2),h!==null&&(Ns(h,2),cA(h))}function Mo(h,A,b){if(h.tag===3)Q6(h,h,b);else for(;A!==null;){if(A.tag===3){Q6(A,h,b);break}else if(A.tag===1){var j=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Dn===null||!Dn.has(j))){h=S(b,h),b=pe(2),j=zi(A,b,2),j!==null&&(_e(b,j,A,h),Ns(j,2),cA(j));break}}A=A.return}}function T5(h,A,b){var j=h.pingCache;if(j===null){j=h.pingCache=new mv;var W=new Set;j.set(A,W)}else W=j.get(A),W===void 0&&(W=new Set,j.set(A,W));W.has(b)||(U=!0,W.add(b),h=vce.bind(null,h,A,b),A.then(h,h))}function vce(h,A,b){var j=h.pingCache;j!==null&&j.delete(A),h.pingedLanes|=h.suspendedLanes&b,h.warmLanes&=~b,ma===h&&(Ps&b)===b&&(z===4||z===3&&(Ps&62914560)===Ps&&300>$r()-fr?(va&2)===0&&Oh(h,0):Ne|=b,dt===Ps&&(dt=0)),cA(h)}function z6(h,A){A===0&&(A=Cs()),h=ic(h,A),h!==null&&(Ns(h,A),cA(h))}function xce(h){var A=h.memoizedState,b=0;A!==null&&(b=A.retryLane),z6(h,b)}function yce(h,A){var b=0;switch(h.tag){case 31:case 13:var j=h.stateNode,W=h.memoizedState;W!==null&&(b=W.retryLane);break;case 19:j=h.stateNode;break;case 22:j=h.stateNode._retryCache;break;default:throw Error(n(314))}j!==null&&j.delete(A),z6(h,b)}function bce(h,A){return Jt(h,A)}var N_=null,ey=null,C5=!1,k_=!1,N5=!1,zg=0;function cA(h){h!==ey&&h.next===null&&(ey===null?N_=ey=h:ey=ey.next=h),k_=!0,C5||(C5=!0,Ece())}function H1(h,A){if(!N5&&k_){N5=!0;do for(var b=!1,j=N_;j!==null;){if(h!==0){var W=j.pendingLanes;if(W===0)var J=0;else{var Ce=j.suspendedLanes,tt=j.pingedLanes;J=(1<<31-Wr(42|h)+1)-1,J&=W&~(Ce&~tt),J=J&201326741?J&201326741|1:J?J|2:0}J!==0&&(b=!0,W6(j,J))}else J=Ps,J=An(j,j===ma?J:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(J&3)===0||Mn(j,J)||(b=!0,W6(j,J));j=j.next}while(b);N5=!1}}function wce(){V6()}function V6(){k_=C5=!1;var h=0;zg!==0&&Bce()&&(h=zg);for(var A=$r(),b=null,j=N_;j!==null;){var W=j.next,J=K6(j,A);J===0?(j.next=null,b===null?N_=W:b.next=W,W===null&&(ey=b)):(b=j,(h!==0||(J&3)!==0)&&(k_=!0)),j=W}Bi!==0&&Bi!==5||H1(h),zg!==0&&(zg=0)}function K6(h,A){for(var b=h.suspendedLanes,j=h.pingedLanes,W=h.expirationTimes,J=h.pendingLanes&-62914561;0<J;){var Ce=31-Wr(J),tt=1<<Ce,Pt=W[Ce];Pt===-1?((tt&b)===0||(tt&j)!==0)&&(W[Ce]=ci(tt,A)):Pt<=A&&(h.expiredLanes|=tt),J&=~tt}if(A=ma,b=Ps,b=An(h,h===A?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),j=h.callbackNode,b===0||h===A&&(La===2||La===9)||h.cancelPendingCommit!==null)return j!==null&&j!==null&&ar(j),h.callbackNode=null,h.callbackPriority=0;if((b&3)===0||Mn(h,b)){if(A=b&-b,A===h.callbackPriority)return A;switch(j!==null&&ar(j),Ln(b)){case 2:case 8:b=cn;break;case 32:b=bn;break;case 268435456:b=st;break;default:b=bn}return j=G6.bind(null,h),b=Jt(b,j),h.callbackPriority=A,h.callbackNode=b,A}return j!==null&&j!==null&&ar(j),h.callbackPriority=2,h.callbackNode=null,2}function G6(h,A){if(Bi!==0&&Bi!==5)return h.callbackNode=null,h.callbackPriority=0,null;var b=h.callbackNode;if(C_()&&h.callbackNode!==b)return null;var j=Ps;return j=An(h,h===ma?j:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),j===0?null:(Jd(h,j,A),K6(h,$r()),h.callbackNode!=null&&h.callbackNode===b?G6.bind(null,h):null)}function W6(h,A){if(C_())return null;Jd(h,A,!0)}function Ece(){Oce(function(){(va&6)!==0?Jt(vr,wce):V6()})}function k5(){if(zg===0){var h=Et;h===0&&(h=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),zg=h}return zg}function Y6(h){return h==null||typeof h=="symbol"||typeof h=="boolean"?null:typeof h=="function"?h:se(""+h)}function q6(h,A){var b=A.ownerDocument.createElement("input");return b.name=A.name,b.value=A.value,h.id&&b.setAttribute("form",h.id),A.parentNode.insertBefore(b,A),h=new FormData(h),b.parentNode.removeChild(b),h}function _ce(h,A,b,j,W){if(A==="submit"&&b&&b.stateNode===W){var J=Y6((W[qs]||null).action),Ce=j.submitter;Ce&&(A=(A=Ce[qs]||null)?Y6(A.formAction):Ce.getAttribute("formAction"),A!==null&&(J=A,Ce=null));var tt=new Te("action","action",null,j,W);h.push({event:tt,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(zg!==0){var Pt=Ce?q6(W,Ce):new FormData(W);mp(b,{pending:!0,data:Pt,method:W.method,action:J},null,Pt)}}else typeof J=="function"&&(tt.preventDefault(),Pt=Ce?q6(W,Ce):new FormData(W),mp(b,{pending:!0,data:Pt,method:W.method,action:J},J,Pt))},currentTarget:W}]})}}for(var L5=0;L5<Wl.length;L5++){var I5=Wl[L5],Sce=I5.toLowerCase(),jce=I5[0].toUpperCase()+I5.slice(1);Yl(Sce,"on"+jce)}Yl(Vl,"onAnimationEnd"),Yl(Kl,"onAnimationIteration"),Yl(Bl,"onAnimationStart"),Yl("dblclick","onDoubleClick"),Yl("focusin","onFocus"),Yl("focusout","onBlur"),Yl(Ed,"onTransitionRun"),Yl(nc,"onTransitionStart"),Yl(Gl,"onTransitionCancel"),Yl(vc,"onTransitionEnd"),no("onMouseEnter",["mouseout","mouseover"]),no("onMouseLeave",["mouseout","mouseover"]),no("onPointerEnter",["pointerout","pointerover"]),no("onPointerLeave",["pointerout","pointerover"]),vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vo("onBeforeInput",["compositionend","keypress","textInput","paste"]),vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Q1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tce=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Q1));function X6(h,A){A=(A&4)!==0;for(var b=0;b<h.length;b++){var j=h[b],W=j.event;j=j.listeners;e:{var J=void 0;if(A)for(var Ce=j.length-1;0<=Ce;Ce--){var tt=j[Ce],Pt=tt.instance,Cr=tt.currentTarget;if(tt=tt.listener,Pt!==J&&W.isPropagationStopped())break e;J=tt,W.currentTarget=Cr;try{J(W)}catch(Yr){ju(Yr)}W.currentTarget=null,J=Pt}else for(Ce=0;Ce<j.length;Ce++){if(tt=j[Ce],Pt=tt.instance,Cr=tt.currentTarget,tt=tt.listener,Pt!==J&&W.isPropagationStopped())break e;J=tt,W.currentTarget=Cr;try{J(W)}catch(Yr){ju(Yr)}W.currentTarget=null,J=Pt}}}}function _a(h,A){var b=A[Qa];b===void 0&&(b=A[Qa]=new Set);var j=h+"__bubble";b.has(j)||(Z6(A,h,2,!1),b.add(j))}function B5(h,A,b){var j=0;A&&(j|=4),Z6(b,h,j,A)}var L_="_reactListening"+Math.random().toString(36).slice(2);function P5(h){if(!h[L_]){h[L_]=!0,$s.forEach(function(b){b!=="selectionchange"&&(Tce.has(b)||B5(b,!1,h),B5(b,!0,h))});var A=h.nodeType===9?h:h.ownerDocument;A===null||A[L_]||(A[L_]=!0,B5("selectionchange",!1,A))}}function Z6(h,A,b,j){switch(T8(A)){case 2:var W=tue;break;case 8:W=rue;break;default:W=Y5}b=W.bind(null,A,b,h),W=void 0,!F||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(W=!0),j?W!==void 0?h.addEventListener(A,b,{capture:!0,passive:W}):h.addEventListener(A,b,!0):W!==void 0?h.addEventListener(A,b,{passive:W}):h.addEventListener(A,b,!1)}function O5(h,A,b,j,W){var J=j;if((A&1)===0&&(A&2)===0&&j!==null)e:for(;;){if(j===null)return;var Ce=j.tag;if(Ce===3||Ce===4){var tt=j.stateNode.containerInfo;if(tt===W)break;if(Ce===4)for(Ce=j.return;Ce!==null;){var Pt=Ce.tag;if((Pt===3||Pt===4)&&Ce.stateNode.containerInfo===W)return;Ce=Ce.return}for(;tt!==null;){if(Ce=pl(tt),Ce===null)return;if(Pt=Ce.tag,Pt===5||Pt===6||Pt===26||Pt===27){j=J=Ce;continue e}tt=tt.parentNode}}j=j.return}ut(function(){var Cr=J,Yr=K(b),tn=[];e:{var kr=_d.get(h);if(kr!==void 0){var Or=Te,Ei=h;switch(h){case"keypress":if(Ae(b)===0)break e;case"keydown":case"keyup":Or=an;break;case"focusin":Ei="focus",Or=lr;break;case"focusout":Ei="blur",Or=lr;break;case"beforeblur":case"afterblur":Or=lr;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Or=It;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Or=Kt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Or=Wt;break;case Vl:case Kl:case Bl:Or=_r;break;case vc:Or=mr;break;case"scroll":case"scrollend":Or=ot;break;case"wheel":Or=Ir;break;case"copy":case"cut":case"paste":Or=At;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Or=Ct;break;case"toggle":case"beforetoggle":Or=pn}var ds=(A&4)!==0,Zo=!ds&&(h==="scroll"||h==="scrollend"),cr=ds?kr!==null?kr+"Capture":null:kr;ds=[];for(var Vt=Cr,Tr;Vt!==null;){var en=Vt;if(Tr=en.stateNode,en=en.tag,en!==5&&en!==26&&en!==27||Tr===null||cr===null||(en=P(Vt,cr),en!=null&&ds.push(z1(Vt,en,Tr))),Zo)break;Vt=Vt.return}0<ds.length&&(kr=new Or(kr,Ei,null,b,Yr),tn.push({event:kr,listeners:ds}))}}if((A&7)===0){e:{if(kr=h==="mouseover"||h==="pointerover",Or=h==="mouseout"||h==="pointerout",kr&&b!==$&&(Ei=b.relatedTarget||b.fromElement)&&(pl(Ei)||Ei[Rs]))break e;if((Or||kr)&&(kr=Yr.window===Yr?Yr:(kr=Yr.ownerDocument)?kr.defaultView||kr.parentWindow:window,Or?(Ei=b.relatedTarget||b.toElement,Or=Cr,Ei=Ei?pl(Ei):null,Ei!==null&&(Zo=a(Ei),ds=Ei.tag,Ei!==Zo||ds!==5&&ds!==27&&ds!==6)&&(Ei=null)):(Or=null,Ei=Cr),Or!==Ei)){if(ds=It,en="onMouseLeave",cr="onMouseEnter",Vt="mouse",(h==="pointerout"||h==="pointerover")&&(ds=Ct,en="onPointerLeave",cr="onPointerEnter",Vt="pointer"),Zo=Or==null?kr:Ya(Or),Tr=Ei==null?kr:Ya(Ei),kr=new ds(en,Vt+"leave",Or,b,Yr),kr.target=Zo,kr.relatedTarget=Tr,en=null,pl(Yr)===Cr&&(ds=new ds(cr,Vt+"enter",Ei,b,Yr),ds.target=Tr,ds.relatedTarget=Zo,en=ds),Zo=en,Or&&Ei)t:{for(ds=Cce,cr=Or,Vt=Ei,Tr=0,en=cr;en;en=ds(en))Tr++;en=0;for(var Xi=Vt;Xi;Xi=ds(Xi))en++;for(;0<Tr-en;)cr=ds(cr),Tr--;for(;0<en-Tr;)Vt=ds(Vt),en--;for(;Tr--;){if(cr===Vt||Vt!==null&&cr===Vt.alternate){ds=cr;break t}cr=ds(cr),Vt=ds(Vt)}ds=null}else ds=null;Or!==null&&J6(tn,kr,Or,ds,!1),Ei!==null&&Zo!==null&&J6(tn,Zo,Ei,ds,!0)}}e:{if(kr=Cr?Ya(Cr):window,Or=kr.nodeName&&kr.nodeName.toLowerCase(),Or==="select"||Or==="input"&&kr.type==="file")var ho=Xn;else if(Di(kr))if(Gi)ho=da;else{ho=Qi;var Pi=Ys}else Or=kr.nodeName,!Or||Or.toLowerCase()!=="input"||kr.type!=="checkbox"&&kr.type!=="radio"?Cr&&Vo(Cr.elementType)&&(ho=Xn):ho=oi;if(ho&&(ho=ho(h,Cr))){qn(tn,ho,b,Yr);break e}Pi&&Pi(h,kr,Cr),h==="focusout"&&Cr&&kr.type==="number"&&Cr.memoizedProps.value!=null&&Xs(kr,"number",kr.value)}switch(Pi=Cr?Ya(Cr):window,h){case"focusin":(Di(Pi)||Pi.contentEditable==="true")&&(Xa=Pi,Ql=Cr,zl=null);break;case"focusout":zl=Ql=Xa=null;break;case"mousedown":ha=!0;break;case"contextmenu":case"mouseup":case"dragend":ha=!1,yo(tn,b,Yr);break;case"selectionchange":if(Ra)break;case"keydown":case"keyup":yo(tn,b,Yr)}var oa;if(Fn)e:{switch(h){case"compositionstart":var Ia="onCompositionStart";break e;case"compositionend":Ia="onCompositionEnd";break e;case"compositionupdate":Ia="onCompositionUpdate";break e}Ia=void 0}else Hn?ln(h,b)&&(Ia="onCompositionEnd"):h==="keydown"&&b.keyCode===229&&(Ia="onCompositionStart");Ia&&(Cn&&b.locale!=="ko"&&(Hn||Ia!=="onCompositionStart"?Ia==="onCompositionEnd"&&Hn&&(oa=fe()):(Z=Yr,re="value"in Z?Z.value:Z.textContent,Hn=!0)),Pi=I_(Cr,Ia),0<Pi.length&&(Ia=new Dt(Ia,h,null,b,Yr),tn.push({event:Ia,listeners:Pi}),oa?Ia.data=oa:(oa=Ni(b),oa!==null&&(Ia.data=oa)))),(oa=vt?Vn(h,b):zn(h,b))&&(Ia=I_(Cr,"onBeforeInput"),0<Ia.length&&(Pi=new Dt("onBeforeInput","beforeinput",null,b,Yr),tn.push({event:Pi,listeners:Ia}),Pi.data=oa)),_ce(tn,h,Cr,b,Yr)}X6(tn,A)})}function z1(h,A,b){return{instance:h,listener:A,currentTarget:b}}function I_(h,A){for(var b=A+"Capture",j=[];h!==null;){var W=h,J=W.stateNode;if(W=W.tag,W!==5&&W!==26&&W!==27||J===null||(W=P(h,b),W!=null&&j.unshift(z1(h,W,J)),W=P(h,A),W!=null&&j.push(z1(h,W,J))),h.tag===3)return j;h=h.return}return[]}function Cce(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5&&h.tag!==27);return h||null}function J6(h,A,b,j,W){for(var J=A._reactName,Ce=[];b!==null&&b!==j;){var tt=b,Pt=tt.alternate,Cr=tt.stateNode;if(tt=tt.tag,Pt!==null&&Pt===j)break;tt!==5&&tt!==26&&tt!==27||Cr===null||(Pt=Cr,W?(Cr=P(b,J),Cr!=null&&Ce.unshift(z1(b,Cr,Pt))):W||(Cr=P(b,J),Cr!=null&&Ce.push(z1(b,Cr,Pt)))),b=b.return}Ce.length!==0&&h.push({event:A,listeners:Ce})}var Nce=/\r\n?/g,kce=/\u0000|\uFFFD/g;function e8(h){return(typeof h=="string"?h:""+h).replace(Nce,`
`).replace(kce,"")}function t8(h,A){return A=e8(A),e8(h)===A}function Xo(h,A,b,j,W,J){switch(b){case"children":typeof j=="string"?A==="body"||A==="textarea"&&j===""||Vs(h,j):(typeof j=="number"||typeof j=="bigint")&&A!=="body"&&Vs(h,""+j);break;case"className":ks(h,"class",j);break;case"tabIndex":ks(h,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(h,b,j);break;case"style":io(h,j,J);break;case"data":if(A!=="object"){ks(h,"data",j);break}case"src":case"href":if(j===""&&(A!=="a"||b!=="href")){h.removeAttribute(b);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){h.removeAttribute(b);break}j=se(""+j),h.setAttribute(b,j);break;case"action":case"formAction":if(typeof j=="function"){h.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J=="function"&&(b==="formAction"?(A!=="input"&&Xo(h,A,"name",W.name,W,null),Xo(h,A,"formEncType",W.formEncType,W,null),Xo(h,A,"formMethod",W.formMethod,W,null),Xo(h,A,"formTarget",W.formTarget,W,null)):(Xo(h,A,"encType",W.encType,W,null),Xo(h,A,"method",W.method,W,null),Xo(h,A,"target",W.target,W,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){h.removeAttribute(b);break}j=se(""+j),h.setAttribute(b,j);break;case"onClick":j!=null&&(h.onclick=ce);break;case"onScroll":j!=null&&_a("scroll",h);break;case"onScrollEnd":j!=null&&_a("scrollend",h);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(b=j.__html,b!=null){if(W.children!=null)throw Error(n(60));h.innerHTML=b}}break;case"multiple":h.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":h.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){h.removeAttribute("xlink:href");break}b=se(""+j),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?h.setAttribute(b,""+j):h.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?h.setAttribute(b,""):h.removeAttribute(b);break;case"capture":case"download":j===!0?h.setAttribute(b,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?h.setAttribute(b,j):h.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?h.setAttribute(b,j):h.removeAttribute(b);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?h.removeAttribute(b):h.setAttribute(b,j);break;case"popover":_a("beforetoggle",h),_a("toggle",h),ui(h,"popover",j);break;case"xlinkActuate":ja(h,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":ja(h,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":ja(h,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":ja(h,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":ja(h,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":ja(h,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":ja(h,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":ja(h,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":ja(h,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":ui(h,"is",j);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=zt.get(b)||b,ui(h,b,j))}}function R5(h,A,b,j,W,J){switch(b){case"style":io(h,j,J);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(b=j.__html,b!=null){if(W.children!=null)throw Error(n(60));h.innerHTML=b}}break;case"children":typeof j=="string"?Vs(h,j):(typeof j=="number"||typeof j=="bigint")&&Vs(h,""+j);break;case"onScroll":j!=null&&_a("scroll",h);break;case"onScrollEnd":j!=null&&_a("scrollend",h);break;case"onClick":j!=null&&(h.onclick=ce);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(b))e:{if(b[0]==="o"&&b[1]==="n"&&(W=b.endsWith("Capture"),A=b.slice(2,W?b.length-7:void 0),J=h[qs]||null,J=J!=null?J[b]:null,typeof J=="function"&&h.removeEventListener(A,J,W),typeof j=="function")){typeof J!="function"&&J!==null&&(b in h?h[b]=null:h.hasAttribute(b)&&h.removeAttribute(b)),h.addEventListener(A,j,W);break e}b in h?h[b]=j:j===!0?h.setAttribute(b,""):ui(h,b,j)}}}function Od(h,A,b){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_a("error",h),_a("load",h);var j=!1,W=!1,J;for(J in b)if(b.hasOwnProperty(J)){var Ce=b[J];if(Ce!=null)switch(J){case"src":j=!0;break;case"srcSet":W=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:Xo(h,A,J,Ce,b,null)}}W&&Xo(h,A,"srcSet",b.srcSet,b,null),j&&Xo(h,A,"src",b.src,b,null);return;case"input":_a("invalid",h);var tt=J=Ce=W=null,Pt=null,Cr=null;for(j in b)if(b.hasOwnProperty(j)){var Yr=b[j];if(Yr!=null)switch(j){case"name":W=Yr;break;case"type":Ce=Yr;break;case"checked":Pt=Yr;break;case"defaultChecked":Cr=Yr;break;case"value":J=Yr;break;case"defaultValue":tt=Yr;break;case"children":case"dangerouslySetInnerHTML":if(Yr!=null)throw Error(n(137,A));break;default:Xo(h,A,j,Yr,b,null)}}Ea(h,J,tt,Pt,Cr,Ce,W,!1);return;case"select":_a("invalid",h),j=Ce=J=null;for(W in b)if(b.hasOwnProperty(W)&&(tt=b[W],tt!=null))switch(W){case"value":J=tt;break;case"defaultValue":Ce=tt;break;case"multiple":j=tt;default:Xo(h,A,W,tt,b,null)}A=J,b=Ce,h.multiple=!!j,A!=null?ms(h,!!j,A,!1):b!=null&&ms(h,!!j,b,!0);return;case"textarea":_a("invalid",h),J=W=j=null;for(Ce in b)if(b.hasOwnProperty(Ce)&&(tt=b[Ce],tt!=null))switch(Ce){case"value":j=tt;break;case"defaultValue":W=tt;break;case"children":J=tt;break;case"dangerouslySetInnerHTML":if(tt!=null)throw Error(n(91));break;default:Xo(h,A,Ce,tt,b,null)}Va(h,j,W,J);return;case"option":for(Pt in b)b.hasOwnProperty(Pt)&&(j=b[Pt],j!=null)&&(Pt==="selected"?h.selected=j&&typeof j!="function"&&typeof j!="symbol":Xo(h,A,Pt,j,b,null));return;case"dialog":_a("beforetoggle",h),_a("toggle",h),_a("cancel",h),_a("close",h);break;case"iframe":case"object":_a("load",h);break;case"video":case"audio":for(j=0;j<Q1.length;j++)_a(Q1[j],h);break;case"image":_a("error",h),_a("load",h);break;case"details":_a("toggle",h);break;case"embed":case"source":case"link":_a("error",h),_a("load",h);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Cr in b)if(b.hasOwnProperty(Cr)&&(j=b[Cr],j!=null))switch(Cr){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:Xo(h,A,Cr,j,b,null)}return;default:if(Vo(A)){for(Yr in b)b.hasOwnProperty(Yr)&&(j=b[Yr],j!==void 0&&R5(h,A,Yr,j,b,void 0));return}}for(tt in b)b.hasOwnProperty(tt)&&(j=b[tt],j!=null&&Xo(h,A,tt,j,b,null))}function Lce(h,A,b,j){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var W=null,J=null,Ce=null,tt=null,Pt=null,Cr=null,Yr=null;for(Or in b){var tn=b[Or];if(b.hasOwnProperty(Or)&&tn!=null)switch(Or){case"checked":break;case"value":break;case"defaultValue":Pt=tn;default:j.hasOwnProperty(Or)||Xo(h,A,Or,null,j,tn)}}for(var kr in j){var Or=j[kr];if(tn=b[kr],j.hasOwnProperty(kr)&&(Or!=null||tn!=null))switch(kr){case"type":J=Or;break;case"name":W=Or;break;case"checked":Cr=Or;break;case"defaultChecked":Yr=Or;break;case"value":Ce=Or;break;case"defaultValue":tt=Or;break;case"children":case"dangerouslySetInnerHTML":if(Or!=null)throw Error(n(137,A));break;default:Or!==tn&&Xo(h,A,kr,Or,j,tn)}}zo(h,Ce,tt,Pt,Cr,Yr,J,W);return;case"select":Or=Ce=tt=kr=null;for(J in b)if(Pt=b[J],b.hasOwnProperty(J)&&Pt!=null)switch(J){case"value":break;case"multiple":Or=Pt;default:j.hasOwnProperty(J)||Xo(h,A,J,null,j,Pt)}for(W in j)if(J=j[W],Pt=b[W],j.hasOwnProperty(W)&&(J!=null||Pt!=null))switch(W){case"value":kr=J;break;case"defaultValue":tt=J;break;case"multiple":Ce=J;default:J!==Pt&&Xo(h,A,W,J,j,Pt)}A=tt,b=Ce,j=Or,kr!=null?ms(h,!!b,kr,!1):!!j!=!!b&&(A!=null?ms(h,!!b,A,!0):ms(h,!!b,b?[]:"",!1));return;case"textarea":Or=kr=null;for(tt in b)if(W=b[tt],b.hasOwnProperty(tt)&&W!=null&&!j.hasOwnProperty(tt))switch(tt){case"value":break;case"children":break;default:Xo(h,A,tt,null,j,W)}for(Ce in j)if(W=j[Ce],J=b[Ce],j.hasOwnProperty(Ce)&&(W!=null||J!=null))switch(Ce){case"value":kr=W;break;case"defaultValue":Or=W;break;case"children":break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(91));break;default:W!==J&&Xo(h,A,Ce,W,j,J)}jo(h,kr,Or);return;case"option":for(var Ei in b)kr=b[Ei],b.hasOwnProperty(Ei)&&kr!=null&&!j.hasOwnProperty(Ei)&&(Ei==="selected"?h.selected=!1:Xo(h,A,Ei,null,j,kr));for(Pt in j)kr=j[Pt],Or=b[Pt],j.hasOwnProperty(Pt)&&kr!==Or&&(kr!=null||Or!=null)&&(Pt==="selected"?h.selected=kr&&typeof kr!="function"&&typeof kr!="symbol":Xo(h,A,Pt,kr,j,Or));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ds in b)kr=b[ds],b.hasOwnProperty(ds)&&kr!=null&&!j.hasOwnProperty(ds)&&Xo(h,A,ds,null,j,kr);for(Cr in j)if(kr=j[Cr],Or=b[Cr],j.hasOwnProperty(Cr)&&kr!==Or&&(kr!=null||Or!=null))switch(Cr){case"children":case"dangerouslySetInnerHTML":if(kr!=null)throw Error(n(137,A));break;default:Xo(h,A,Cr,kr,j,Or)}return;default:if(Vo(A)){for(var Zo in b)kr=b[Zo],b.hasOwnProperty(Zo)&&kr!==void 0&&!j.hasOwnProperty(Zo)&&R5(h,A,Zo,void 0,j,kr);for(Yr in j)kr=j[Yr],Or=b[Yr],!j.hasOwnProperty(Yr)||kr===Or||kr===void 0&&Or===void 0||R5(h,A,Yr,kr,j,Or);return}}for(var cr in b)kr=b[cr],b.hasOwnProperty(cr)&&kr!=null&&!j.hasOwnProperty(cr)&&Xo(h,A,cr,null,j,kr);for(tn in j)kr=j[tn],Or=b[tn],!j.hasOwnProperty(tn)||kr===Or||kr==null&&Or==null||Xo(h,A,tn,kr,j,Or)}function r8(h){switch(h){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ice(){if(typeof performance.getEntriesByType=="function"){for(var h=0,A=0,b=performance.getEntriesByType("resource"),j=0;j<b.length;j++){var W=b[j],J=W.transferSize,Ce=W.initiatorType,tt=W.duration;if(J&&tt&&r8(Ce)){for(Ce=0,tt=W.responseEnd,j+=1;j<b.length;j++){var Pt=b[j],Cr=Pt.startTime;if(Cr>tt)break;var Yr=Pt.transferSize,tn=Pt.initiatorType;Yr&&r8(tn)&&(Pt=Pt.responseEnd,Ce+=Yr*(Pt<tt?1:(tt-Cr)/(Pt-Cr)))}if(--j,A+=8*(J+Ce)/(W.duration/1e3),h++,10<h)break}}if(0<h)return A/h/1e6}return navigator.connection&&(h=navigator.connection.downlink,typeof h=="number")?h:5}var D5=null,M5=null;function B_(h){return h.nodeType===9?h:h.ownerDocument}function n8(h){switch(h){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i8(h,A){if(h===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return h===1&&A==="foreignObject"?0:h}function F5(h,A){return h==="textarea"||h==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var U5=null;function Bce(){var h=window.event;return h&&h.type==="popstate"?h===U5?!1:(U5=h,!0):(U5=null,!1)}var s8=typeof setTimeout=="function"?setTimeout:void 0,Pce=typeof clearTimeout=="function"?clearTimeout:void 0,a8=typeof Promise=="function"?Promise:void 0,Oce=typeof queueMicrotask=="function"?queueMicrotask:typeof a8<"u"?function(h){return a8.resolve(null).then(h).catch(Rce)}:s8;function Rce(h){setTimeout(function(){throw h})}function Vg(h){return h==="head"}function o8(h,A){var b=A,j=0;do{var W=b.nextSibling;if(h.removeChild(b),W&&W.nodeType===8)if(b=W.data,b==="/$"||b==="/&"){if(j===0){h.removeChild(W),iy(A);return}j--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")j++;else if(b==="html")V1(h.ownerDocument.documentElement);else if(b==="head"){b=h.ownerDocument.head,V1(b);for(var J=b.firstChild;J;){var Ce=J.nextSibling,tt=J.nodeName;J[$l]||tt==="SCRIPT"||tt==="STYLE"||tt==="LINK"&&J.rel.toLowerCase()==="stylesheet"||b.removeChild(J),J=Ce}}else b==="body"&&V1(h.ownerDocument.body);b=W}while(b);iy(A)}function l8(h,A){var b=h;h=0;do{var j=b.nextSibling;if(b.nodeType===1?A?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(A?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),j&&j.nodeType===8)if(b=j.data,b==="/$"){if(h===0)break;h--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||h++;b=j}while(b)}function $5(h){var A=h.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var b=A;switch(A=A.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":$5(b),su(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}h.removeChild(b)}}function Dce(h,A,b,j){for(;h.nodeType===1;){var W=b;if(h.nodeName.toLowerCase()!==A.toLowerCase()){if(!j&&(h.nodeName!=="INPUT"||h.type!=="hidden"))break}else if(j){if(!h[$l])switch(A){case"meta":if(!h.hasAttribute("itemprop"))break;return h;case"link":if(J=h.getAttribute("rel"),J==="stylesheet"&&h.hasAttribute("data-precedence"))break;if(J!==W.rel||h.getAttribute("href")!==(W.href==null||W.href===""?null:W.href)||h.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin)||h.getAttribute("title")!==(W.title==null?null:W.title))break;return h;case"style":if(h.hasAttribute("data-precedence"))break;return h;case"script":if(J=h.getAttribute("src"),(J!==(W.src==null?null:W.src)||h.getAttribute("type")!==(W.type==null?null:W.type)||h.getAttribute("crossorigin")!==(W.crossOrigin==null?null:W.crossOrigin))&&J&&h.hasAttribute("async")&&!h.hasAttribute("itemprop"))break;return h;default:return h}}else if(A==="input"&&h.type==="hidden"){var J=W.name==null?null:""+W.name;if(W.type==="hidden"&&h.getAttribute("name")===J)return h}else return h;if(h=Ff(h.nextSibling),h===null)break}return null}function Mce(h,A,b){if(A==="")return null;for(;h.nodeType!==3;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!b||(h=Ff(h.nextSibling),h===null))return null;return h}function c8(h,A){for(;h.nodeType!==8;)if((h.nodeType!==1||h.nodeName!=="INPUT"||h.type!=="hidden")&&!A||(h=Ff(h.nextSibling),h===null))return null;return h}function H5(h){return h.data==="$?"||h.data==="$~"}function Q5(h){return h.data==="$!"||h.data==="$?"&&h.ownerDocument.readyState!=="loading"}function Fce(h,A){var b=h.ownerDocument;if(h.data==="$~")h._reactRetry=A;else if(h.data!=="$?"||b.readyState!=="loading")A();else{var j=function(){A(),b.removeEventListener("DOMContentLoaded",j)};b.addEventListener("DOMContentLoaded",j),h._reactRetry=j}}function Ff(h){for(;h!=null;h=h.nextSibling){var A=h.nodeType;if(A===1||A===3)break;if(A===8){if(A=h.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return h}var z5=null;function u8(h){h=h.nextSibling;for(var A=0;h;){if(h.nodeType===8){var b=h.data;if(b==="/$"||b==="/&"){if(A===0)return Ff(h.nextSibling);A--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||A++}h=h.nextSibling}return null}function d8(h){h=h.previousSibling;for(var A=0;h;){if(h.nodeType===8){var b=h.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(A===0)return h;A--}else b!=="/$"&&b!=="/&"||A++}h=h.previousSibling}return null}function h8(h,A,b){switch(A=B_(b),h){case"html":if(h=A.documentElement,!h)throw Error(n(452));return h;case"head":if(h=A.head,!h)throw Error(n(453));return h;case"body":if(h=A.body,!h)throw Error(n(454));return h;default:throw Error(n(451))}}function V1(h){for(var A=h.attributes;A.length;)h.removeAttributeNode(A[0]);su(h)}var Uf=new Map,f8=new Set;function P_(h){return typeof h.getRootNode=="function"?h.getRootNode():h.nodeType===9?h:h.ownerDocument}var Sp=ae.d;ae.d={f:Uce,r:$ce,D:Hce,C:Qce,L:zce,m:Vce,X:Gce,S:Kce,M:Wce};function Uce(){var h=Sp.f(),A=Pu();return h||A}function $ce(h){var A=ra(h);A!==null&&A.tag===5&&A.type==="form"?Bd(A):Sp.r(h)}var ty=typeof document>"u"?null:document;function m8(h,A,b){var j=ty;if(j&&typeof A=="string"&&A){var W=Hi(A);W='link[rel="'+h+'"][href="'+W+'"]',typeof b=="string"&&(W+='[crossorigin="'+b+'"]'),f8.has(W)||(f8.add(W),h={rel:h,crossOrigin:b,href:A},j.querySelector(W)===null&&(A=j.createElement("link"),Od(A,"link",h),ba(A),j.head.appendChild(A)))}}function Hce(h){Sp.D(h),m8("dns-prefetch",h,null)}function Qce(h,A){Sp.C(h,A),m8("preconnect",h,A)}function zce(h,A,b){Sp.L(h,A,b);var j=ty;if(j&&h&&A){var W='link[rel="preload"][as="'+Hi(A)+'"]';A==="image"&&b&&b.imageSrcSet?(W+='[imagesrcset="'+Hi(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(W+='[imagesizes="'+Hi(b.imageSizes)+'"]')):W+='[href="'+Hi(h)+'"]';var J=W;switch(A){case"style":J=ry(h);break;case"script":J=ny(h)}Uf.has(J)||(h=f({rel:"preload",href:A==="image"&&b&&b.imageSrcSet?void 0:h,as:A},b),Uf.set(J,h),j.querySelector(W)!==null||A==="style"&&j.querySelector(K1(J))||A==="script"&&j.querySelector(G1(J))||(A=j.createElement("link"),Od(A,"link",h),ba(A),j.head.appendChild(A)))}}function Vce(h,A){Sp.m(h,A);var b=ty;if(b&&h){var j=A&&typeof A.as=="string"?A.as:"script",W='link[rel="modulepreload"][as="'+Hi(j)+'"][href="'+Hi(h)+'"]',J=W;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=ny(h)}if(!Uf.has(J)&&(h=f({rel:"modulepreload",href:h},A),Uf.set(J,h),b.querySelector(W)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(G1(J)))return}j=b.createElement("link"),Od(j,"link",h),ba(j),b.head.appendChild(j)}}}function Kce(h,A,b){Sp.S(h,A,b);var j=ty;if(j&&h){var W=Ws(j).hoistableStyles,J=ry(h);A=A||"default";var Ce=W.get(J);if(!Ce){var tt={loading:0,preload:null};if(Ce=j.querySelector(K1(J)))tt.loading=5;else{h=f({rel:"stylesheet",href:h,"data-precedence":A},b),(b=Uf.get(J))&&V5(h,b);var Pt=Ce=j.createElement("link");ba(Pt),Od(Pt,"link",h),Pt._p=new Promise(function(Cr,Yr){Pt.onload=Cr,Pt.onerror=Yr}),Pt.addEventListener("load",function(){tt.loading|=1}),Pt.addEventListener("error",function(){tt.loading|=2}),tt.loading|=4,O_(Ce,A,j)}Ce={type:"stylesheet",instance:Ce,count:1,state:tt},W.set(J,Ce)}}}function Gce(h,A){Sp.X(h,A);var b=ty;if(b&&h){var j=Ws(b).hoistableScripts,W=ny(h),J=j.get(W);J||(J=b.querySelector(G1(W)),J||(h=f({src:h,async:!0},A),(A=Uf.get(W))&&K5(h,A),J=b.createElement("script"),ba(J),Od(J,"link",h),b.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},j.set(W,J))}}function Wce(h,A){Sp.M(h,A);var b=ty;if(b&&h){var j=Ws(b).hoistableScripts,W=ny(h),J=j.get(W);J||(J=b.querySelector(G1(W)),J||(h=f({src:h,async:!0,type:"module"},A),(A=Uf.get(W))&&K5(h,A),J=b.createElement("script"),ba(J),Od(J,"link",h),b.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},j.set(W,J))}}function A8(h,A,b,j){var W=(W=De.current)?P_(W):null;if(!W)throw Error(n(446));switch(h){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(A=ry(b.href),b=Ws(W).hoistableStyles,j=b.get(A),j||(j={type:"style",instance:null,count:0,state:null},b.set(A,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){h=ry(b.href);var J=Ws(W).hoistableStyles,Ce=J.get(h);if(Ce||(W=W.ownerDocument||W,Ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},J.set(h,Ce),(J=W.querySelector(K1(h)))&&!J._p&&(Ce.instance=J,Ce.state.loading=5),Uf.has(h)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},Uf.set(h,b),J||Yce(W,h,b,Ce.state))),A&&j===null)throw Error(n(528,""));return Ce}if(A&&j!==null)throw Error(n(529,""));return null;case"script":return A=b.async,b=b.src,typeof b=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=ny(b),b=Ws(W).hoistableScripts,j=b.get(A),j||(j={type:"script",instance:null,count:0,state:null},b.set(A,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,h))}}function ry(h){return'href="'+Hi(h)+'"'}function K1(h){return'link[rel="stylesheet"]['+h+"]"}function p8(h){return f({},h,{"data-precedence":h.precedence,precedence:null})}function Yce(h,A,b,j){h.querySelector('link[rel="preload"][as="style"]['+A+"]")?j.loading=1:(A=h.createElement("link"),j.preload=A,A.addEventListener("load",function(){return j.loading|=1}),A.addEventListener("error",function(){return j.loading|=2}),Od(A,"link",b),ba(A),h.head.appendChild(A))}function ny(h){return'[src="'+Hi(h)+'"]'}function G1(h){return"script[async]"+h}function g8(h,A,b){if(A.count++,A.instance===null)switch(A.type){case"style":var j=h.querySelector('style[data-href~="'+Hi(b.href)+'"]');if(j)return A.instance=j,ba(j),j;var W=f({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return j=(h.ownerDocument||h).createElement("style"),ba(j),Od(j,"style",W),O_(j,b.precedence,h),A.instance=j;case"stylesheet":W=ry(b.href);var J=h.querySelector(K1(W));if(J)return A.state.loading|=4,A.instance=J,ba(J),J;j=p8(b),(W=Uf.get(W))&&V5(j,W),J=(h.ownerDocument||h).createElement("link"),ba(J);var Ce=J;return Ce._p=new Promise(function(tt,Pt){Ce.onload=tt,Ce.onerror=Pt}),Od(J,"link",j),A.state.loading|=4,O_(J,b.precedence,h),A.instance=J;case"script":return J=ny(b.src),(W=h.querySelector(G1(J)))?(A.instance=W,ba(W),W):(j=b,(W=Uf.get(J))&&(j=f({},b),K5(j,W)),h=h.ownerDocument||h,W=h.createElement("script"),ba(W),Od(W,"link",j),h.head.appendChild(W),A.instance=W);case"void":return null;default:throw Error(n(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(j=A.instance,A.state.loading|=4,O_(j,b.precedence,h));return A.instance}function O_(h,A,b){for(var j=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),W=j.length?j[j.length-1]:null,J=W,Ce=0;Ce<j.length;Ce++){var tt=j[Ce];if(tt.dataset.precedence===A)J=tt;else if(J!==W)break}J?J.parentNode.insertBefore(h,J.nextSibling):(A=b.nodeType===9?b.head:b,A.insertBefore(h,A.firstChild))}function V5(h,A){h.crossOrigin==null&&(h.crossOrigin=A.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=A.referrerPolicy),h.title==null&&(h.title=A.title)}function K5(h,A){h.crossOrigin==null&&(h.crossOrigin=A.crossOrigin),h.referrerPolicy==null&&(h.referrerPolicy=A.referrerPolicy),h.integrity==null&&(h.integrity=A.integrity)}var R_=null;function v8(h,A,b){if(R_===null){var j=new Map,W=R_=new Map;W.set(b,j)}else W=R_,j=W.get(b),j||(j=new Map,W.set(b,j));if(j.has(h))return j;for(j.set(h,null),b=b.getElementsByTagName(h),W=0;W<b.length;W++){var J=b[W];if(!(J[$l]||J[rs]||h==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!=="http://www.w3.org/2000/svg"){var Ce=J.getAttribute(A)||"";Ce=h+Ce;var tt=j.get(Ce);tt?tt.push(J):j.set(Ce,[J])}}return j}function x8(h,A,b){h=h.ownerDocument||h,h.head.insertBefore(b,A==="title"?h.querySelector("head > title"):null)}function qce(h,A,b){if(b===1||A.itemProp!=null)return!1;switch(h){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;return A.rel==="stylesheet"?(h=A.disabled,typeof A.precedence=="string"&&h==null):!0;case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function y8(h){return!(h.type==="stylesheet"&&(h.state.loading&3)===0)}function Xce(h,A,b,j){if(b.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var W=ry(j.href),J=A.querySelector(K1(W));if(J){A=J._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(h.count++,h=D_.bind(h),A.then(h,h)),b.state.loading|=4,b.instance=J,ba(J);return}J=A.ownerDocument||A,j=p8(j),(W=Uf.get(W))&&V5(j,W),J=J.createElement("link"),ba(J);var Ce=J;Ce._p=new Promise(function(tt,Pt){Ce.onload=tt,Ce.onerror=Pt}),Od(J,"link",j),b.instance=J}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(b,A),(A=b.state.preload)&&(b.state.loading&3)===0&&(h.count++,b=D_.bind(h),A.addEventListener("load",b),A.addEventListener("error",b))}}var G5=0;function Zce(h,A){return h.stylesheets&&h.count===0&&F_(h,h.stylesheets),0<h.count||0<h.imgCount?function(b){var j=setTimeout(function(){if(h.stylesheets&&F_(h,h.stylesheets),h.unsuspend){var J=h.unsuspend;h.unsuspend=null,J()}},6e4+A);0<h.imgBytes&&G5===0&&(G5=62500*Ice());var W=setTimeout(function(){if(h.waitingForImages=!1,h.count===0&&(h.stylesheets&&F_(h,h.stylesheets),h.unsuspend)){var J=h.unsuspend;h.unsuspend=null,J()}},(h.imgBytes>G5?50:800)+A);return h.unsuspend=b,function(){h.unsuspend=null,clearTimeout(j),clearTimeout(W)}}:null}function D_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)F_(this,this.stylesheets);else if(this.unsuspend){var h=this.unsuspend;this.unsuspend=null,h()}}}var M_=null;function F_(h,A){h.stylesheets=null,h.unsuspend!==null&&(h.count++,M_=new Map,A.forEach(Jce,h),M_=null,D_.call(h))}function Jce(h,A){if(!(A.state.loading&4)){var b=M_.get(h);if(b)var j=b.get(null);else{b=new Map,M_.set(h,b);for(var W=h.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<W.length;J++){var Ce=W[J];(Ce.nodeName==="LINK"||Ce.getAttribute("media")!=="not all")&&(b.set(Ce.dataset.precedence,Ce),j=Ce)}j&&b.set(null,j)}W=A.instance,Ce=W.getAttribute("data-precedence"),J=b.get(Ce)||j,J===j&&b.set(null,W),b.set(Ce,W),this.count++,j=D_.bind(this),W.addEventListener("load",j),W.addEventListener("error",j),J?J.parentNode.insertBefore(W,J.nextSibling):(h=h.nodeType===9?h.head:h,h.insertBefore(W,h.firstChild)),A.state.loading|=4}}var W1={$$typeof:_,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function eue(h,A,b,j,W,J,Ce,tt,Pt){this.tag=1,this.containerInfo=h,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=j,this.onUncaughtError=W,this.onCaughtError=J,this.onRecoverableError=Ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Pt,this.incompleteTransitions=new Map}function b8(h,A,b,j,W,J,Ce,tt,Pt,Cr,Yr,tn){return h=new eue(h,A,b,Ce,Pt,Cr,Yr,tn,tt),A=1,J===!0&&(A|=24),J=Pl(3,null,null,A),h.current=J,J.stateNode=h,A=fh(),A.refCount++,h.pooledCache=A,A.refCount++,J.memoizedState={element:j,isDehydrated:b,cache:A},Fa(J),h}function w8(h){return h?(h=xl,h):xl}function E8(h,A,b,j,W,J){W=w8(W),j.context===null?j.context=W:j.pendingContext=W,j=ki(A),j.payload={element:b},J=J===void 0?null:J,J!==null&&(j.callback=J),b=zi(h,j,A),b!==null&&(Do(b,h,A),ys(b,h,A))}function _8(h,A){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<A?b:A}}function W5(h,A){_8(h,A),(h=h.alternate)&&_8(h,A)}function S8(h){if(h.tag===13||h.tag===31){var A=ic(h,67108864);A!==null&&Do(A,h,67108864),W5(h,67108864)}}function j8(h){if(h.tag===13||h.tag===31){var A=Mi();A=Tn(A);var b=ic(h,A);b!==null&&Do(b,h,A),W5(h,A)}}var U_=!0;function tue(h,A,b,j){var W=ne.T;ne.T=null;var J=ae.p;try{ae.p=2,Y5(h,A,b,j)}finally{ae.p=J,ne.T=W}}function rue(h,A,b,j){var W=ne.T;ne.T=null;var J=ae.p;try{ae.p=8,Y5(h,A,b,j)}finally{ae.p=J,ne.T=W}}function Y5(h,A,b,j){if(U_){var W=q5(j);if(W===null)O5(h,A,j,$_,b),C8(h,j);else if(iue(W,h,A,b,j))j.stopPropagation();else if(C8(h,j),A&4&&-1<nue.indexOf(h)){for(;W!==null;){var J=ra(W);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var Ce=xn(J.pendingLanes);if(Ce!==0){var tt=J;for(tt.pendingLanes|=2,tt.entangledLanes|=2;Ce;){var Pt=1<<31-Wr(Ce);tt.entanglements[1]|=Pt,Ce&=~Pt}cA(J),(va&6)===0&&(Gn=$r()+500,H1(0))}}break;case 31:case 13:tt=ic(J,2),tt!==null&&Do(tt,J,2),Pu(),W5(J,2)}if(J=q5(j),J===null&&O5(h,A,j,$_,b),J===W)break;W=J}W!==null&&j.stopPropagation()}else O5(h,A,j,null,b)}}function q5(h){return h=K(h),X5(h)}var $_=null;function X5(h){if($_=null,h=pl(h),h!==null){var A=a(h);if(A===null)h=null;else{var b=A.tag;if(b===13){if(h=o(A),h!==null)return h;h=null}else if(b===31){if(h=c(A),h!==null)return h;h=null}else if(b===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;h=null}else A!==h&&(h=null)}}return $_=h,null}function T8(h){switch(h){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case vr:return 2;case cn:return 8;case bn:case Un:return 32;case st:return 268435456;default:return 32}default:return 32}}var Z5=!1,Kg=null,Gg=null,Wg=null,Y1=new Map,q1=new Map,Yg=[],nue="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C8(h,A){switch(h){case"focusin":case"focusout":Kg=null;break;case"dragenter":case"dragleave":Gg=null;break;case"mouseover":case"mouseout":Wg=null;break;case"pointerover":case"pointerout":Y1.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":q1.delete(A.pointerId)}}function X1(h,A,b,j,W,J){return h===null||h.nativeEvent!==J?(h={blockedOn:A,domEventName:b,eventSystemFlags:j,nativeEvent:J,targetContainers:[W]},A!==null&&(A=ra(A),A!==null&&S8(A)),h):(h.eventSystemFlags|=j,A=h.targetContainers,W!==null&&A.indexOf(W)===-1&&A.push(W),h)}function iue(h,A,b,j,W){switch(A){case"focusin":return Kg=X1(Kg,h,A,b,j,W),!0;case"dragenter":return Gg=X1(Gg,h,A,b,j,W),!0;case"mouseover":return Wg=X1(Wg,h,A,b,j,W),!0;case"pointerover":var J=W.pointerId;return Y1.set(J,X1(Y1.get(J)||null,h,A,b,j,W)),!0;case"gotpointercapture":return J=W.pointerId,q1.set(J,X1(q1.get(J)||null,h,A,b,j,W)),!0}return!1}function N8(h){var A=pl(h.target);if(A!==null){var b=a(A);if(b!==null){if(A=b.tag,A===13){if(A=o(b),A!==null){h.blockedOn=A,Qs(h.priority,function(){j8(b)});return}}else if(A===31){if(A=c(b),A!==null){h.blockedOn=A,Qs(h.priority,function(){j8(b)});return}}else if(A===3&&b.stateNode.current.memoizedState.isDehydrated){h.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}h.blockedOn=null}function H_(h){if(h.blockedOn!==null)return!1;for(var A=h.targetContainers;0<A.length;){var b=q5(h.nativeEvent);if(b===null){b=h.nativeEvent;var j=new b.constructor(b.type,b);$=j,b.target.dispatchEvent(j),$=null}else return A=ra(b),A!==null&&S8(A),h.blockedOn=b,!1;A.shift()}return!0}function k8(h,A,b){H_(h)&&b.delete(A)}function sue(){Z5=!1,Kg!==null&&H_(Kg)&&(Kg=null),Gg!==null&&H_(Gg)&&(Gg=null),Wg!==null&&H_(Wg)&&(Wg=null),Y1.forEach(k8),q1.forEach(k8)}function Q_(h,A){h.blockedOn===A&&(h.blockedOn=null,Z5||(Z5=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sue)))}var z_=null;function L8(h){z_!==h&&(z_=h,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){z_===h&&(z_=null);for(var A=0;A<h.length;A+=3){var b=h[A],j=h[A+1],W=h[A+2];if(typeof j!="function"){if(X5(j||b)===null)continue;break}var J=ra(b);J!==null&&(h.splice(A,3),A-=3,mp(J,{pending:!0,data:W,method:b.method,action:j},j,W))}}))}function iy(h){function A(Pt){return Q_(Pt,h)}Kg!==null&&Q_(Kg,h),Gg!==null&&Q_(Gg,h),Wg!==null&&Q_(Wg,h),Y1.forEach(A),q1.forEach(A);for(var b=0;b<Yg.length;b++){var j=Yg[b];j.blockedOn===h&&(j.blockedOn=null)}for(;0<Yg.length&&(b=Yg[0],b.blockedOn===null);)N8(b),b.blockedOn===null&&Yg.shift();if(b=(h.ownerDocument||h).$$reactFormReplay,b!=null)for(j=0;j<b.length;j+=3){var W=b[j],J=b[j+1],Ce=W[qs]||null;if(typeof J=="function")Ce||L8(b);else if(Ce){var tt=null;if(J&&J.hasAttribute("formAction")){if(W=J,Ce=J[qs]||null)tt=Ce.formAction;else if(X5(W)!==null)continue}else tt=Ce.action;typeof tt=="function"?b[j+1]=tt:(b.splice(j,3),j-=3),L8(b)}}}function I8(){function h(J){J.canIntercept&&J.info==="react-transition"&&J.intercept({handler:function(){return new Promise(function(Ce){return W=Ce})},focusReset:"manual",scroll:"manual"})}function A(){W!==null&&(W(),W=null),j||setTimeout(b,20)}function b(){if(!j&&!navigation.transition){var J=navigation.currentEntry;J&&J.url!=null&&navigation.navigate(J.url,{state:J.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var j=!1,W=null;return navigation.addEventListener("navigate",h),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(b,100),function(){j=!0,navigation.removeEventListener("navigate",h),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),W!==null&&(W(),W=null)}}}function J5(h){this._internalRoot=h}V_.prototype.render=J5.prototype.render=function(h){var A=this._internalRoot;if(A===null)throw Error(n(409));var b=A.current,j=Mi();E8(b,j,h,A,null,null)},V_.prototype.unmount=J5.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var A=h.containerInfo;E8(h.current,2,null,h,null,null),Pu(),A[Rs]=null}};function V_(h){this._internalRoot=h}V_.prototype.unstable_scheduleHydration=function(h){if(h){var A=Fs();h={blockedOn:null,target:h,priority:A};for(var b=0;b<Yg.length&&A!==0&&A<Yg[b].priority;b++);Yg.splice(b,0,h),b===0&&N8(h)}};var B8=e.version;if(B8!=="19.2.4")throw Error(n(527,B8,"19.2.4"));ae.findDOMNode=function(h){var A=h._reactInternals;if(A===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=l(A),h=h!==null?d(h):null,h=h===null?null:h.stateNode,h};var aue={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K_.isDisabled&&K_.supportsFiber)try{tr=K_.inject(aue),Qt=K_}catch{}}return ew.createRoot=function(h,A){if(!i(h))throw Error(n(299));var b=!1,j="",W=pp,J=gp,Ce=vp;return A!=null&&(A.unstable_strictMode===!0&&(b=!0),A.identifierPrefix!==void 0&&(j=A.identifierPrefix),A.onUncaughtError!==void 0&&(W=A.onUncaughtError),A.onCaughtError!==void 0&&(J=A.onCaughtError),A.onRecoverableError!==void 0&&(Ce=A.onRecoverableError)),A=b8(h,1,!1,null,null,b,j,null,W,J,Ce,I8),h[Rs]=A.current,P5(h),new J5(A)},ew.hydrateRoot=function(h,A,b){if(!i(h))throw Error(n(299));var j=!1,W="",J=pp,Ce=gp,tt=vp,Pt=null;return b!=null&&(b.unstable_strictMode===!0&&(j=!0),b.identifierPrefix!==void 0&&(W=b.identifierPrefix),b.onUncaughtError!==void 0&&(J=b.onUncaughtError),b.onCaughtError!==void 0&&(Ce=b.onCaughtError),b.onRecoverableError!==void 0&&(tt=b.onRecoverableError),b.formState!==void 0&&(Pt=b.formState)),A=b8(h,1,!0,A,b??null,j,W,Pt,J,Ce,tt,I8),A.context=w8(null),b=A.current,j=Mi(),j=Tn(j),W=ki(j),W.callback=null,zi(b,W,j),b=j,A.current.lanes=b,Ns(A,b),cA(A),h[Rs]=A.current,P5(h),new V_(A)},ew.version="19.2.4",ew}var Q8;function gue(){if(Q8)return r4.exports;Q8=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),r4.exports=pue(),r4.exports}var vue=gue();const xue=Gh(vue);var z8="popstate";function yue(t={}){function e(i,a){let{pathname:o="/",search:c="",hash:u=""}=Bx(i.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),kB("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let o=i.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");c=l===-1?u:u.slice(0,l)}return c+"#"+(typeof a=="string"?a:BE(a))}function n(i,a){Sf(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return wue(e,r,n,t)}function tc(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bue(){return Math.random().toString(36).substring(2,10)}function V8(t,e){return{usr:t.state,key:t.key,idx:e}}function kB(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Bx(e):e,state:r,key:e&&e.key||n||bue()}}function BE({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Bx(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function wue(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,c="POP",u=null,l=d();l==null&&(l=0,o.replaceState({...o.state,idx:l},""));function d(){return(o.state||{idx:null}).idx}function f(){c="POP";let y=d(),w=y==null?null:y-l;l=y,u&&u({action:c,location:x.location,delta:w})}function m(y,w){c="PUSH";let E=kB(x.location,y,w);r&&r(E,y),l=d()+1;let _=V8(E,l),N=x.createHref(E);try{o.pushState(_,"",N)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(N)}a&&u&&u({action:c,location:x.location,delta:1})}function p(y,w){c="REPLACE";let E=kB(x.location,y,w);r&&r(E,y),l=d();let _=V8(E,l),N=x.createHref(E);o.replaceState(_,"",N),a&&u&&u({action:c,location:x.location,delta:0})}function g(y){return Eue(y)}let x={get action(){return c},get location(){return t(i,o)},listen(y){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(z8,f),u=y,()=>{i.removeEventListener(z8,f),u=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let w=g(y);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(y){return o.go(y)}};return x}function Eue(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tc(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:BE(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function WY(t,e,r="/"){return _ue(t,e,r,!1)}function _ue(t,e,r,n){let i=typeof e=="string"?Bx(e):e,a=Xp(i.pathname||"/",r);if(a==null)return null;let o=YY(t);Sue(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let l=Rue(a);c=Pue(o[u],l,n)}return c}function YY(t,e=[],r=[],n="",i=!1){let a=(o,c,u=i,l)=>{let d={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;tc(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let f=zp([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(tc(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),YY(o.children,e,m,f,u)),!(o.path==null&&!o.index)&&e.push({path:f,score:Iue(f,o.index),routesMeta:m})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let u of qY(o.path))a(o,c,!0,u)}),e}function qY(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=qY(n.join("/")),c=[];return c.push(...o.map(u=>u===""?a:[a,u].join("/"))),i&&c.push(...o),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function Sue(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Bue(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var jue=/^:[\w-]+$/,Tue=3,Cue=2,Nue=1,kue=10,Lue=-2,K8=t=>t==="*";function Iue(t,e){let r=t.split("/"),n=r.length;return r.some(K8)&&(n+=Lue),e&&(n+=Cue),r.filter(i=>!K8(i)).reduce((i,a)=>i+(jue.test(a)?Tue:a===""?Nue:kue),n)}function Bue(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Pue(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",o=[];for(let c=0;c<n.length;++c){let u=n[c],l=c===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=RT({path:u.relativePath,caseSensitive:u.caseSensitive,end:l},d),m=u.route;if(!f&&l&&r&&!n[n.length-1].route.index&&(f=RT({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:zp([a,f.pathname]),pathnameBase:Uue(zp([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=zp([a,f.pathnameBase]))}return o}function RT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Oue(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((l,{paramName:d,isOptional:f},m)=>{if(d==="*"){let g=c[m]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=c[m];return f&&!p?l[d]=void 0:l[d]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:t}}function Oue(t,e=!1,r=!0){Sf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(n.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Rue(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sf(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var Due=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Mue(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Bx(t):t,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=G8(r.substring(1),"/"):a=G8(r,e)):a=e,{pathname:a,search:$ue(n),hash:Hue(i)}}function G8(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function a4(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fue(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _3(t){let e=Fue(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function S3(t,e,r,n=!1){let i;typeof t=="string"?i=Bx(t):(i={...t},tc(!i.pathname||!i.pathname.includes("?"),a4("?","pathname","search",i)),tc(!i.pathname||!i.pathname.includes("#"),a4("#","pathname","hash",i)),tc(!i.search||!i.search.includes("#"),a4("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}c=f>=0?e[f]:"/"}let u=Mue(i,c),l=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(l||d)&&(u.pathname+="/"),u}var zp=t=>t.join("/").replace(/\/\/+/g,"/"),Uue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$ue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Que=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function zue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Vue(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var XY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZY(t,e){let r=t;if(typeof r!="string"||!Due.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(XY)try{let a=new URL(window.location.href),o=r.startsWith("//")?new URL(a.protocol+r):new URL(r),c=Xp(o.pathname,e);o.origin===a.origin&&c!=null?r=c+o.search+o.hash:i=!0}catch{Sf(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var JY=["POST","PUT","PATCH","DELETE"];new Set(JY);var Kue=["GET",...JY];new Set(Kue);var m1=T.createContext(null);m1.displayName="DataRouter";var WN=T.createContext(null);WN.displayName="DataRouterState";var Gue=T.createContext(!1),eq=T.createContext({isTransitioning:!1});eq.displayName="ViewTransition";var Wue=T.createContext(new Map);Wue.displayName="Fetchers";var Yue=T.createContext(null);Yue.displayName="Await";var Nf=T.createContext(null);Nf.displayName="Navigation";var R2=T.createContext(null);R2.displayName="Location";var Vm=T.createContext({outlet:null,matches:[],isDataRoute:!1});Vm.displayName="Route";var j3=T.createContext(null);j3.displayName="RouteError";var tq="REACT_ROUTER_ERROR",que="REDIRECT",Xue="ROUTE_ERROR_RESPONSE";function Zue(t){if(t.startsWith(`${tq}:${que}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Jue(t){if(t.startsWith(`${tq}:${Xue}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Que(e.status,e.statusText,e.data)}catch{}}function ede(t,{relative:e}={}){tc(A1(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=T.useContext(Nf),{hash:i,pathname:a,search:o}=D2(t,{relative:e}),c=a;return r!=="/"&&(c=a==="/"?r:zp([r,a])),n.createHref({pathname:c,search:o,hash:i})}function A1(){return T.useContext(R2)!=null}function kf(){return tc(A1(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(R2).location}var rq="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nq(t){T.useContext(Nf).static||T.useLayoutEffect(t)}function $c(){let{isDataRoute:t}=T.useContext(Vm);return t?fde():tde()}function tde(){tc(A1(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(m1),{basename:e,navigator:r}=T.useContext(Nf),{matches:n}=T.useContext(Vm),{pathname:i}=kf(),a=JSON.stringify(_3(n)),o=T.useRef(!1);return nq(()=>{o.current=!0}),T.useCallback((u,l={})=>{if(Sf(o.current,rq),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=S3(u,JSON.parse(a),i,l.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zp([e,d.pathname])),(l.replace?r.replace:r.push)(d,l.state,l)},[e,r,a,i,t])}T.createContext(null);function Lf(){let{matches:t}=T.useContext(Vm),e=t[t.length-1];return e?e.params:{}}function D2(t,{relative:e}={}){let{matches:r}=T.useContext(Vm),{pathname:n}=kf(),i=JSON.stringify(_3(r));return T.useMemo(()=>S3(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function rde(t,e){return iq(t,e)}function iq(t,e,r,n,i){tc(A1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Nf),{matches:o}=T.useContext(Vm),c=o[o.length-1],u=c?c.params:{},l=c?c.pathname:"/",d=c?c.pathnameBase:"/",f=c&&c.route;{let E=f&&f.path||"";aq(l,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=kf(),p;if(e){let E=typeof e=="string"?Bx(e):e;tc(d==="/"||E.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),p=E}else p=m;let g=p.pathname||"/",x=g;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(E.length).join("/")}let y=WY(t,{pathname:x});Sf(f||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Sf(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=ode(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:zp([d,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:zp([d,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,r,n,i);return e&&w?T.createElement(R2.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},w):w}function nde(){let t=hde(),e=zue(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,o)}var ide=T.createElement(nde,null),sq=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=Jue(t.digest);r&&(t=r)}let e=t!==void 0?T.createElement(Vm.Provider,{value:this.props.routeContext},T.createElement(j3.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?T.createElement(sde,{error:t},e):e}};sq.contextType=Gue;var o4=new WeakMap;function sde({children:t,error:e}){let{basename:r}=T.useContext(Nf);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=Zue(e.digest);if(n){let i=o4.get(e);if(i)throw i;let a=ZY(n.location,r);if(XY&&!o4.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw o4.set(e,o),o}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function ade({routeContext:t,match:e,children:r}){let n=T.useContext(m1);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Vm.Provider,{value:t},r)}function ode(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r?.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);tc(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let l=r&&n?(d,f)=>{n(d,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Vue(r.matches),errorInfo:f})}:void 0;return a.reduceRight((d,f,m)=>{let p,g=!1,x=null,y=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,x=f.route.errorElement||ide,c&&(u<0&&m===0?(aq("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):u===m&&(g=!0,y=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),E=()=>{let _;return p?_=x:g?_=y:f.route.Component?_=T.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=d,T.createElement(ade,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?T.createElement(sq,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:l}):E()},null)}function T3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lde(t){let e=T.useContext(m1);return tc(e,T3(t)),e}function cde(t){let e=T.useContext(WN);return tc(e,T3(t)),e}function ude(t){let e=T.useContext(Vm);return tc(e,T3(t)),e}function C3(t){let e=ude(t),r=e.matches[e.matches.length-1];return tc(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function dde(){return C3("useRouteId")}function hde(){let t=T.useContext(j3),e=cde("useRouteError"),r=C3("useRouteError");return t!==void 0?t:e.errors?.[r]}function fde(){let{router:t}=lde("useNavigate"),e=C3("useNavigate"),r=T.useRef(!1);return nq(()=>{r.current=!0}),T.useCallback(async(i,a={})=>{Sf(r.current,rq),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var W8={};function aq(t,e,r){!e&&!W8[t]&&(W8[t]=!0,Sf(!1,r))}T.memo(mde);function mde({routes:t,future:e,state:r,onError:n}){return iq(t,void 0,r,n,e)}function oq({to:t,replace:e,state:r,relative:n}){tc(A1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=T.useContext(Nf);Sf(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=T.useContext(Vm),{pathname:o}=kf(),c=$c(),u=S3(t,_3(a),o,n==="path"),l=JSON.stringify(u);return T.useEffect(()=>{c(JSON.parse(l),{replace:e,state:r,relative:n})},[c,l,n,e,r]),null}function ps(t){tc(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ade({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:o}){tc(!A1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[c,i,a,o]);typeof r=="string"&&(r=Bx(r));let{pathname:l="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,g=T.useMemo(()=>{let x=Xp(l,c);return x==null?null:{location:{pathname:x,search:d,hash:f,state:m,key:p},navigationType:n}},[c,l,d,f,m,p,n]);return Sf(g!=null,`<Router basename="${c}"> is not able to match the URL "${l}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:T.createElement(Nf.Provider,{value:u},T.createElement(R2.Provider,{children:e,value:g}))}function pde({children:t,location:e}){return rde(LB(t),e)}function LB(t,e=[]){let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let a=[...e,i];if(n.type===T.Fragment){r.push.apply(r,LB(n.props.children,a));return}tc(n.type===ps,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tc(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=LB(n.props.children,a)),r.push(o)}),r}var sj="get",aj="application/x-www-form-urlencoded";function YN(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gde(t){return YN(t)&&t.tagName.toLowerCase()==="button"}function vde(t){return YN(t)&&t.tagName.toLowerCase()==="form"}function xde(t){return YN(t)&&t.tagName.toLowerCase()==="input"}function yde(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bde(t,e){return t.button===0&&(!e||e==="_self")&&!yde(t)}function IB(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function wde(t,e){let r=IB(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}var G_=null;function Ede(){if(G_===null)try{new FormData(document.createElement("form"),0),G_=!1}catch{G_=!0}return G_}var _de=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l4(t){return t!=null&&!_de.has(t)?(Sf(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${aj}"`),null):t}function Sde(t,e){let r,n,i,a,o;if(vde(t)){let c=t.getAttribute("action");n=c?Xp(c,e):null,r=t.getAttribute("method")||sj,i=l4(t.getAttribute("enctype"))||aj,a=new FormData(t)}else if(gde(t)||xde(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(n=u?Xp(u,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||sj,i=l4(t.getAttribute("formenctype"))||l4(c.getAttribute("enctype"))||aj,a=new FormData(c,t),!Ede()){let{name:l,type:d,value:f}=t;if(d==="image"){let m=l?`${l}.`:"";a.append(`${m}x`,"0"),a.append(`${m}y`,"0")}else l&&a.append(l,f)}}else{if(YN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=sj,n=null,i=aj,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function N3(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jde(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&Xp(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Tde(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cde(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Nde(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await Tde(a,r);return o.links?o.links():[]}return[]}));return Bde(n.flat(1).filter(Cde).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Y8(t,e,r,n,i,a){let o=(u,l)=>r[l]?u.route.id!==r[l].route.id:!0,c=(u,l)=>r[l].pathname!==u.pathname||r[l].route.path?.endsWith("*")&&r[l].params["*"]!==u.params["*"];return a==="assets"?e.filter((u,l)=>o(u,l)||c(u,l)):a==="data"?e.filter((u,l)=>{let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,l)||c(u,l))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function kde(t,e,{includeHydrateFallback:r}={}){return Lde(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function Lde(t){return[...new Set(t)]}function Ide(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Bde(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(Ide(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function lq(){let t=T.useContext(m1);return N3(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Pde(){let t=T.useContext(WN);return N3(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var k3=T.createContext(void 0);k3.displayName="FrameworkContext";function cq(){let t=T.useContext(k3);return N3(t,"You must render this element inside a <HydratedRouter> element"),t}function Ode(t,e){let r=T.useContext(k3),[n,i]=T.useState(!1),[a,o]=T.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:l,onMouseLeave:d,onTouchStart:f}=e,m=T.useRef(null);T.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=w=>{w.forEach(E=>{o(E.isIntersecting)})},y=new IntersectionObserver(x,{threshold:.5});return m.current&&y.observe(m.current),()=>{y.disconnect()}}},[t]),T.useEffect(()=>{if(n){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[n]);let p=()=>{i(!0)},g=()=>{i(!1),o(!1)};return r?t!=="intent"?[a,m,{}]:[a,m,{onFocus:tw(c,p),onBlur:tw(u,g),onMouseEnter:tw(l,p),onMouseLeave:tw(d,g),onTouchStart:tw(f,p)}]:[!1,m,{}]}function tw(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Rde({page:t,...e}){let{router:r}=lq(),n=T.useMemo(()=>WY(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?T.createElement(Mde,{page:t,matches:n,...e}):null}function Dde(t){let{manifest:e,routeModules:r}=cq(),[n,i]=T.useState([]);return T.useEffect(()=>{let a=!1;return Nde(t,e,r).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,r]),n}function Mde({page:t,matches:e,...r}){let n=kf(),{future:i,manifest:a,routeModules:o}=cq(),{basename:c}=lq(),{loaderData:u,matches:l}=Pde(),d=T.useMemo(()=>Y8(t,e,l,a,n,"data"),[t,e,l,a,n]),f=T.useMemo(()=>Y8(t,e,l,a,n,"assets"),[t,e,l,a,n]),m=T.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let x=new Set,y=!1;if(e.forEach(E=>{let _=a.routes[E.route.id];!_||!_.hasLoader||(!d.some(N=>N.route.id===E.route.id)&&E.route.id in u&&o[E.route.id]?.shouldRevalidate||_.hasClientLoader?y=!0:x.add(E.route.id))}),x.size===0)return[];let w=jde(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return y&&x.size>0&&w.searchParams.set("_routes",e.filter(E=>x.has(E.route.id)).map(E=>E.route.id).join(",")),[w.pathname+w.search]},[c,i.unstable_trailingSlashAwareDataRequests,u,n,a,d,e,t,o]),p=T.useMemo(()=>kde(f,a),[f,a]),g=Dde(f);return T.createElement(T.Fragment,null,m.map(x=>T.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...r})),p.map(x=>T.createElement("link",{key:x,rel:"modulepreload",href:x,...r})),g.map(({key:x,link:y})=>T.createElement("link",{key:x,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function Fde(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var Ude=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ude&&(window.__reactRouterVersion="7.13.0")}catch{}function $de({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=T.useRef();i.current==null&&(i.current=yue({window:n,v5Compat:!0}));let a=i.current,[o,c]=T.useState({action:a.action,location:a.location}),u=T.useCallback(l=>{r===!1?c(l):T.startTransition(()=>c(l))},[r]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(Ade,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:r})}var uq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ss=T.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:o,state:c,target:u,to:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:m,...p},g){let{basename:x,unstable_useTransitions:y}=T.useContext(Nf),w=typeof l=="string"&&uq.test(l),E=ZY(l,x);l=E.to;let _=ede(l,{relative:i}),[N,C,I]=Ode(n,p),D=Vde(l,{replace:o,state:c,target:u,preventScrollReset:d,relative:i,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:y});function M(X){e&&e(X),X.defaultPrevented||D(X)}let Y=T.createElement("a",{...p,...I,href:E.absoluteURL||_,onClick:E.isExternal||a?e:M,ref:Fde(g,C),target:u,"data-discover":!w&&r==="render"?"true":void 0});return N&&!w?T.createElement(T.Fragment,null,Y,T.createElement(Rde,{page:_})):Y});ss.displayName="Link";var Hde=T.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:o,viewTransition:c,children:u,...l},d){let f=D2(o,{relative:l.relative}),m=kf(),p=T.useContext(WN),{navigator:g,basename:x}=T.useContext(Nf),y=p!=null&&qde(f)&&c===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,E=m.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(E=E.toLowerCase(),_=_?_.toLowerCase():null,w=w.toLowerCase()),_&&x&&(_=Xp(_,x)||_);const N=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let C=E===w||!i&&E.startsWith(w)&&E.charAt(N)==="/",I=_!=null&&(_===w||!i&&_.startsWith(w)&&_.charAt(w.length)==="/"),D={isActive:C,isPending:I,isTransitioning:y},M=C?e:void 0,Y;typeof n=="function"?Y=n(D):Y=[n,C?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let X=typeof a=="function"?a(D):a;return T.createElement(ss,{...l,"aria-current":M,className:Y,ref:d,style:X,to:o,viewTransition:c},typeof u=="function"?u(D):u)});Hde.displayName="NavLink";var Qde=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:o=sj,action:c,onSubmit:u,relative:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:m,...p},g)=>{let{unstable_useTransitions:x}=T.useContext(Nf),y=Wde(),w=Yde(c,{relative:l}),E=o.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&uq.test(c),N=C=>{if(u&&u(C),C.defaultPrevented)return;C.preventDefault();let I=C.nativeEvent.submitter,D=I?.getAttribute("formmethod")||o,M=()=>y(I||C.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:a,relative:l,preventScrollReset:d,viewTransition:f,unstable_defaultShouldRevalidate:m});x&&r!==!1?T.startTransition(()=>M()):M()};return T.createElement("form",{ref:g,method:E,action:w,onSubmit:n?u:N,...p,"data-discover":!_&&t==="render"?"true":void 0})});Qde.displayName="Form";function zde(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dq(t){let e=T.useContext(m1);return tc(e,zde(t)),e}function Vde(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let l=$c(),d=kf(),f=D2(t,{relative:a});return T.useCallback(m=>{if(bde(m,e)){m.preventDefault();let p=r!==void 0?r:BE(d)===BE(f),g=()=>l(t,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:c});u?T.startTransition(()=>g()):g()}},[d,l,f,r,n,e,t,i,a,o,c,u])}function W0(t){Sf(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(IB(t)),r=T.useRef(!1),n=kf(),i=T.useMemo(()=>wde(n.search,r.current?null:e.current),[n.search]),a=$c(),o=T.useCallback((c,u)=>{const l=IB(typeof c=="function"?c(new URLSearchParams(i)):c);r.current=!0,a("?"+l,u)},[a,i]);return[i,o]}var Kde=0,Gde=()=>`__${String(++Kde)}__`;function Wde(){let{router:t}=dq("useSubmit"),{basename:e}=T.useContext(Nf),r=dde(),n=t.fetch,i=t.navigate;return T.useCallback(async(a,o={})=>{let{action:c,method:u,encType:l,formData:d,body:f}=Sde(a,e);if(o.navigate===!1){let m=o.fetcherKey||Gde();await n(m,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||u,formEncType:o.encType||l,flushSync:o.flushSync})}else await i(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:d,body:f,formMethod:o.method||u,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,i,e,r])}function Yde(t,{relative:e}={}){let{basename:r}=T.useContext(Nf),n=T.useContext(Vm);tc(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...D2(t||".",{relative:e})},o=kf();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),u=c.getAll("index");if(u.some(d=>d==="")){c.delete("index"),u.filter(f=>f).forEach(f=>c.append("index",f));let d=c.toString();a.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:zp([r,a.pathname])),BE(a)}function qde(t,{relative:e}={}){let r=T.useContext(eq);tc(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=dq("useViewTransitionState"),i=D2(t,{relative:e});if(!r.isTransitioning)return!1;let a=Xp(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Xp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return RT(i.pathname,o)!=null||RT(i.pathname,a)!=null}var j0=GY();const hq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const Xde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Zde=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const q8=t=>{const e=Zde(t);return e.charAt(0).toUpperCase()+e.slice(1)};var Jde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ehe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const the=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...c},u)=>T.createElement("svg",{ref:u,...Jde,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:hq("lucide",i),...!a&&!ehe(c)&&{"aria-hidden":"true"},...c},[...o.map(([l,d])=>T.createElement(l,d)),...Array.isArray(a)?a:[a]]));const yn=(t,e)=>{const r=T.forwardRef(({className:n,...i},a)=>T.createElement(the,{ref:a,iconNode:e,className:hq(`lucide-${Xde(q8(t))}`,`lucide-${t}`,n),...i}));return r.displayName=q8(t),r};const rhe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],fq=yn("archive",rhe);const nhe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Y0=yn("arrow-left",nhe);const ihe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],$h=yn("arrow-right",ihe);const she=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qN=yn("award",she);const ahe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ohe=yn("bell",ahe);const lhe=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],mq=yn("building-2",lhe);const che=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],uhe=yn("building",che);const dhe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Aq=yn("calculator",dhe);const hhe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cl=yn("calendar",hhe);const fhe=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],PE=yn("camera",fhe);const mhe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],DT=yn("chart-column",mhe);const Ahe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=yn("check",Ahe);const phe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],px=yn("chevron-down",phe);const ghe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],BB=yn("chevron-left",ghe);const vhe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gx=yn("chevron-right",vhe);const xhe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],MT=yn("chevron-up",xhe);const yhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],M0=yn("circle-alert",yhe);const bhe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oE=yn("circle-check-big",bhe);const whe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wb=yn("circle-check",whe);const Ehe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],_he=yn("circle-plus",Ehe);const She=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jhe=yn("circle-play",She);const The=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],Che=yn("circle-stop",The);const Nhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],X8=yn("circle",Nhe);const khe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jf=yn("clock",khe);const Lhe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$b=yn("copy",Lhe);const Ihe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Bhe=yn("credit-card",Ihe);const Phe=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ohe=yn("crown",Phe);const Rhe=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Wh=yn("dollar-sign",Rhe);const Dhe=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],pq=yn("door-closed",Dhe);const Mhe=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],Fhe=yn("door-open",Mhe);const Uhe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Rm=yn("download",Uhe);const $he=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Hhe=yn("dumbbell",$he);const Qhe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],OE=yn("external-link",Qhe);const zhe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],F0=yn("eye",zhe);const Vhe=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],M2=yn("facebook",Vhe);const Khe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hb=yn("file-text",Khe);const Ghe=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],Z8=yn("file",Ghe);const Whe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Fp=yn("film",Whe);const Yhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L3=yn("funnel",Yhe);const qhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],p1=yn("globe",qhe);const Xhe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],L0=yn("image",Xhe);const Zhe=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],XN=yn("instagram",Zhe);const Jhe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],c4=yn("layers",Jhe);const efe=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tfe=yn("layout-dashboard",efe);const rfe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],nfe=yn("lightbulb",rfe);const ife=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],gq=yn("link",ife);const sfe=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],afe=yn("linkedin",sfe);const ofe=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],vq=yn("loader",ofe);const lfe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qb=yn("lock",lfe);const cfe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],PB=yn("log-out",cfe);const ufe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],nu=yn("mail",ufe);const dfe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pd=yn("map-pin",dfe);const hfe=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],ffe=yn("maximize",hfe);const mfe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xq=yn("menu",mfe);const Afe=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pfe=yn("message-circle",Afe);const gfe=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],vfe=yn("minimize",gfe);const xfe=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],yfe=yn("music",xfe);const bfe=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],wfe=yn("navigation",bfe);const Efe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],T0=yn("package",Efe);const _fe=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sfe=yn("pen-line",_fe);const jfe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],OB=yn("pen",jfe);const Tfe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vx=yn("phone",Tfe);const Cfe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vd=yn("play",Cfe);const Nfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zp=yn("plus",Nfe);const kfe=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zb=yn("radio",kfe);const Lfe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],U0=yn("refresh-cw",Lfe);const Ife=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Bfe=yn("rocket",Ife);const Pfe=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],yq=yn("save",Pfe);const Ofe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],FT=yn("search",Ofe);const Rfe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vb=yn("send",Rfe);const Dfe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Mfe=yn("settings",Dfe);const Ffe=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bq=yn("share-2",Ffe);const Ufe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],I0=yn("shield",Ufe);const $fe=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Hfe=yn("shopping-cart",$fe);const Qfe=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nm=yn("sparkles",Qfe);const zfe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Vfe=yn("square-pen",zfe);const Kfe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xx=yn("star",Kfe);const Gfe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],wq=yn("tag",Gfe);const Wfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Eq=yn("target",Wfe);const Yfe=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],UT=yn("ticket",Yfe);const qfe=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Xfe=yn("toggle-left",qfe);const Zfe=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Jfe=yn("toggle-right",Zfe);const eme=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],g1=yn("trash-2",eme);const tme=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Tf=yn("trending-up",tme);const rme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RB=yn("triangle-alert",rme);const nme=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],_q=yn("trophy",nme);const ime=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],Up=yn("tv",ime);const sme=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],ame=yn("twitter",sme);const ome=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lme=yn("upload",ome);const cme=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Jp=yn("user",cme);const ume=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sh=yn("users",ume);const dme=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Eh=yn("video",dme);const hme=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fme=yn("wifi-off",hme);const mme=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$0=yn("x",mme);const Ame=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Sq=yn("youtube",Ame);const pme=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kb=yn("zap",pme),I3=T.createContext({});function F2(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const jq=typeof window<"u",B3=jq?T.useLayoutEffect:T.useEffect,ZN=T.createContext(null);function P3(t,e){t.indexOf(e)===-1&&t.push(e)}function O3(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const WA=(t,e,r)=>r>e?e:r<t?t:r;let R3=()=>{};const eg={},Tq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Cq(t){return typeof t=="object"&&t!==null}const Nq=t=>/^0[^.\s]+$/u.test(t);function D3(t){let e;return()=>(e===void 0&&(e=t()),e)}const rm=t=>t,gme=(t,e)=>r=>e(t(r)),U2=(...t)=>t.reduce(gme),RE=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class M3{constructor(){this.subscriptions=[]}add(e){return P3(this.subscriptions,e),()=>O3(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vp=t=>t*1e3,em=t=>t/1e3;function kq(t,e){return e?t*(1e3/e):0}const Lq=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,vme=1e-7,xme=12;function yme(t,e,r,n,i){let a,o,c=0;do o=e+(r-e)/2,a=Lq(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>vme&&++c<xme);return o}function $2(t,e,r,n){if(t===e&&r===n)return rm;const i=a=>yme(a,0,1,t,r);return a=>a===0||a===1?a:Lq(i(a),e,n)}const Iq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Bq=t=>e=>1-t(1-e),Pq=$2(.33,1.53,.69,.99),F3=Bq(Pq),Oq=Iq(F3),Rq=t=>(t*=2)<1?.5*F3(t):.5*(2-Math.pow(2,-10*(t-1))),U3=t=>1-Math.sin(Math.acos(t)),Dq=Bq(U3),Mq=Iq(U3),bme=$2(.42,0,1,1),wme=$2(0,0,.58,1),Fq=$2(.42,0,.58,1),Eme=t=>Array.isArray(t)&&typeof t[0]!="number",Uq=t=>Array.isArray(t)&&typeof t[0]=="number",_me={linear:rm,easeIn:bme,easeInOut:Fq,easeOut:wme,circIn:U3,circInOut:Mq,circOut:Dq,backIn:F3,backInOut:Oq,backOut:Pq,anticipate:Rq},Sme=t=>typeof t=="string",J8=t=>{if(Uq(t)){R3(t.length===4);const[e,r,n,i]=t;return $2(e,r,n,i)}else if(Sme(t))return _me[t];return t},W_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jme(t,e){let r=new Set,n=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(d){o.has(d)&&(l.schedule(d),t()),d(c)}const l={schedule:(d,f=!1,m=!1)=>{const g=m&&i?r:n;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{n.delete(d),o.delete(d)},process:d=>{if(c=d,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),r.clear(),i=!1,a&&(a=!1,l.process(d))}};return l}const Tme=40;function $q(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=W_.reduce((_,N)=>(_[N]=jme(a),_),{}),{setup:c,read:u,resolveKeyframes:l,preUpdate:d,update:f,preRender:m,render:p,postRender:g}=o,x=()=>{const _=eg.useManualTiming?i.timestamp:performance.now();r=!1,eg.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(_-i.timestamp,Tme),1)),i.timestamp=_,i.isProcessing=!0,c.process(i),u.process(i),l.process(i),d.process(i),f.process(i),m.process(i),p.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(x))},y=()=>{r=!0,n=!0,i.isProcessing||t(x)};return{schedule:W_.reduce((_,N)=>{const C=o[N];return _[N]=(I,D=!1,M=!1)=>(r||y(),C.schedule(I,D,M)),_},{}),cancel:_=>{for(let N=0;N<W_.length;N++)o[W_[N]].cancel(_)},state:i,steps:o}}const{schedule:dl,cancel:tg,state:Ud,steps:u4}=$q(typeof requestAnimationFrame<"u"?requestAnimationFrame:rm,!0);let oj;function Cme(){oj=void 0}const xh={now:()=>(oj===void 0&&xh.set(Ud.isProcessing||eg.useManualTiming?Ud.timestamp:performance.now()),oj),set:t=>{oj=t,queueMicrotask(Cme)}},Hq=t=>e=>typeof e=="string"&&e.startsWith(t),Qq=Hq("--"),Nme=Hq("var(--"),$3=t=>Nme(t)?kme.test(t.split("/*")[0].trim()):!1,kme=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function e7(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const v1={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},DE={...v1,transform:t=>WA(0,1,t)},Y_={...v1,default:1},lE=t=>Math.round(t*1e5)/1e5,H3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lme(t){return t==null}const Ime=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Q3=(t,e)=>r=>!!(typeof r=="string"&&Ime.test(r)&&r.startsWith(t)||e&&!Lme(r)&&Object.prototype.hasOwnProperty.call(r,e)),zq=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,c]=n.match(H3);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Bme=t=>WA(0,255,t),d4={...v1,transform:t=>Math.round(Bme(t))},Vv={test:Q3("rgb","red"),parse:zq("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+d4.transform(t)+", "+d4.transform(e)+", "+d4.transform(r)+", "+lE(DE.transform(n))+")"};function Pme(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const DB={test:Q3("#"),parse:Pme,transform:Vv.transform},H2=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),i0=H2("deg"),zA=H2("%"),Ci=H2("px"),Ome=H2("vh"),Rme=H2("vw"),t7={...zA,parse:t=>zA.parse(t)/100,transform:t=>zA.transform(t*100)},sb={test:Q3("hsl","hue"),parse:zq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+zA.transform(lE(e))+", "+zA.transform(lE(r))+", "+lE(DE.transform(n))+")"},gu={test:t=>Vv.test(t)||DB.test(t)||sb.test(t),parse:t=>Vv.test(t)?Vv.parse(t):sb.test(t)?sb.parse(t):DB.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vv.transform(t):sb.transform(t),getAnimatableNone:t=>{const e=gu.parse(t);return e.alpha=0,gu.transform(e)}},Dme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Mme(t){return isNaN(t)&&typeof t=="string"&&(t.match(H3)?.length||0)+(t.match(Dme)?.length||0)>0}const Vq="number",Kq="color",Fme="var",Ume="var(",r7="${}",$me=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ME(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace($me,u=>(gu.test(u)?(n.color.push(a),i.push(Kq),r.push(gu.parse(u))):u.startsWith(Ume)?(n.var.push(a),i.push(Fme),r.push(u)):(n.number.push(a),i.push(Vq),r.push(parseFloat(u))),++a,r7)).split(r7);return{values:r,split:c,indexes:n,types:i}}function Gq(t){return ME(t).values}function Wq(t){const{split:e,types:r}=ME(t),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const c=r[o];c===Vq?a+=lE(i[o]):c===Kq?a+=gu.transform(i[o]):a+=i[o]}return a}}const Hme=t=>typeof t=="number"?0:gu.test(t)?gu.getAnimatableNone(t):t;function Qme(t){const e=Gq(t);return Wq(t)(e.map(Hme))}const H0={test:Mme,parse:Gq,createTransformer:Wq,getAnimatableNone:Qme};function h4(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function zme({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,u=2*r-c;i=h4(u,c,t+1/3),a=h4(u,c,t),o=h4(u,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function $T(t,e){return r=>r>0?e:t}const Ac=(t,e,r)=>t+(e-t)*r,f4=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Vme=[DB,Vv,sb],Kme=t=>Vme.find(e=>e.test(t));function n7(t){const e=Kme(t);if(!e)return!1;let r=e.parse(t);return e===sb&&(r=zme(r)),r}const i7=(t,e)=>{const r=n7(t),n=n7(e);if(!r||!n)return $T(t,e);const i={...r};return a=>(i.red=f4(r.red,n.red,a),i.green=f4(r.green,n.green,a),i.blue=f4(r.blue,n.blue,a),i.alpha=Ac(r.alpha,n.alpha,a),Vv.transform(i))},MB=new Set(["none","hidden"]);function Gme(t,e){return MB.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Wme(t,e){return r=>Ac(t,e,r)}function z3(t){return typeof t=="number"?Wme:typeof t=="string"?$3(t)?$T:gu.test(t)?i7:Xme:Array.isArray(t)?Yq:typeof t=="object"?gu.test(t)?i7:Yme:$T}function Yq(t,e){const r=[...t],n=r.length,i=t.map((a,o)=>z3(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function Yme(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=z3(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function qme(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],o=t.indexes[a][n[a]],c=t.values[o]??0;r[i]=c,n[a]++}return r}const Xme=(t,e)=>{const r=H0.createTransformer(e),n=ME(t),i=ME(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?MB.has(t)&&!i.values.length||MB.has(e)&&!n.values.length?Gme(t,e):U2(Yq(qme(n,i),i.values),r):$T(t,e)};function qq(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ac(t,e,r):z3(t)(t,e)}const Zme=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>dl.update(e,r),stop:()=>tg(e),now:()=>Ud.isProcessing?Ud.timestamp:xh.now()}},Xq=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},HT=2e4;function V3(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<HT;)e+=r,n=t.next(e);return e>=HT?1/0:e}function Jme(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(V3(n),HT);return{type:"keyframes",ease:a=>n.next(i*a).value/e,duration:em(i)}}const eAe=5;function Zq(t,e,r){const n=Math.max(e-eAe,0);return kq(r-t(n),e-n)}const Pc={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},m4=.001;function tAe({duration:t=Pc.duration,bounce:e=Pc.bounce,velocity:r=Pc.velocity,mass:n=Pc.mass}){let i,a,o=1-e;o=WA(Pc.minDamping,Pc.maxDamping,o),t=WA(Pc.minDuration,Pc.maxDuration,em(t)),o<1?(i=l=>{const d=l*o,f=d*t,m=d-r,p=FB(l,o),g=Math.exp(-f);return m4-m/p*g},a=l=>{const f=l*o*t,m=f*r+r,p=Math.pow(o,2)*Math.pow(l,2)*t,g=Math.exp(-f),x=FB(Math.pow(l,2),o);return(-i(l)+m4>0?-1:1)*((m-p)*g)/x}):(i=l=>{const d=Math.exp(-l*t),f=(l-r)*t+1;return-m4+d*f},a=l=>{const d=Math.exp(-l*t),f=(r-l)*(t*t);return d*f});const c=5/t,u=nAe(i,a,c);if(t=Vp(t),isNaN(u))return{stiffness:Pc.stiffness,damping:Pc.damping,duration:t};{const l=Math.pow(u,2)*n;return{stiffness:l,damping:o*2*Math.sqrt(n*l),duration:t}}}const rAe=12;function nAe(t,e,r){let n=r;for(let i=1;i<rAe;i++)n=n-t(n)/e(n);return n}function FB(t,e){return t*Math.sqrt(1-e*e)}const iAe=["duration","bounce"],sAe=["stiffness","damping","mass"];function s7(t,e){return e.some(r=>t[r]!==void 0)}function aAe(t){let e={velocity:Pc.velocity,stiffness:Pc.stiffness,damping:Pc.damping,mass:Pc.mass,isResolvedFromDuration:!1,...t};if(!s7(t,sAe)&&s7(t,iAe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*WA(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pc.mass,stiffness:i,damping:a}}else{const r=tAe(t);e={...e,...r,mass:Pc.mass},e.isResolvedFromDuration=!0}return e}function QT(t=Pc.visualDuration,e=Pc.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:a},{stiffness:u,damping:l,mass:d,duration:f,velocity:m,isResolvedFromDuration:p}=aAe({...r,velocity:-em(r.velocity||0)}),g=m||0,x=l/(2*Math.sqrt(u*d)),y=o-a,w=em(Math.sqrt(u/d)),E=Math.abs(y)<5;n||(n=E?Pc.restSpeed.granular:Pc.restSpeed.default),i||(i=E?Pc.restDelta.granular:Pc.restDelta.default);let _;if(x<1){const C=FB(w,x);_=I=>{const D=Math.exp(-x*w*I);return o-D*((g+x*w*y)/C*Math.sin(C*I)+y*Math.cos(C*I))}}else if(x===1)_=C=>o-Math.exp(-w*C)*(y+(g+w*y)*C);else{const C=w*Math.sqrt(x*x-1);_=I=>{const D=Math.exp(-x*w*I),M=Math.min(C*I,300);return o-D*((g+x*w*y)*Math.sinh(M)+C*y*Math.cosh(M))/C}}const N={calculatedDuration:p&&f||null,next:C=>{const I=_(C);if(p)c.done=C>=f;else{let D=C===0?g:0;x<1&&(D=C===0?Vp(g):Zq(_,C,I));const M=Math.abs(D)<=n,Y=Math.abs(o-I)<=i;c.done=M&&Y}return c.value=c.done?o:I,c},toString:()=>{const C=Math.min(V3(N),HT),I=Xq(D=>N.next(C*D).value,C,30);return C+"ms "+I},toTransition:()=>{}};return N}QT.applyToOptions=t=>{const e=Jme(t,100,QT);return t.ease=e.ease,t.duration=Vp(e.duration),t.type="keyframes",t};function UB({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:u,restDelta:l=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},p=M=>c!==void 0&&M<c||u!==void 0&&M>u,g=M=>c===void 0?u:u===void 0||Math.abs(c-M)<Math.abs(u-M)?c:u;let x=r*e;const y=f+x,w=o===void 0?y:o(y);w!==y&&(x=w-f);const E=M=>-x*Math.exp(-M/n),_=M=>w+E(M),N=M=>{const Y=E(M),X=_(M);m.done=Math.abs(Y)<=l,m.value=m.done?w:X};let C,I;const D=M=>{p(m.value)&&(C=M,I=QT({keyframes:[m.value,g(m.value)],velocity:Zq(_,M,m.value),damping:i,stiffness:a,restDelta:l,restSpeed:d}))};return D(0),{calculatedDuration:null,next:M=>{let Y=!1;return!I&&C===void 0&&(Y=!0,N(M),D(M)),C!==void 0&&M>=C?I.next(M-C):(!Y&&N(M),m)}}}function oAe(t,e,r){const n=[],i=r||eg.mix||qq,a=t.length-1;for(let o=0;o<a;o++){let c=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||rm:e;c=U2(u,c)}n.push(c)}return n}function Jq(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(R3(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=oAe(e,n,i),u=c.length,l=d=>{if(o&&d<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const m=RE(t[f],t[f+1],d);return c[f](m)};return r?d=>l(WA(t[0],t[a-1],d)):l}function lAe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=RE(0,e,n);t.push(Ac(r,1,i))}}function cAe(t){const e=[0];return lAe(e,t.length-1),e}function uAe(t,e){return t.map(r=>r*e)}function dAe(t,e){return t.map(()=>e||Fq).splice(0,t.length-1)}function cE({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Eme(n)?n.map(J8):J8(n),a={done:!1,value:e[0]},o=uAe(r&&r.length===e.length?r:cAe(e),t),c=Jq(o,e,{ease:Array.isArray(i)?i:dAe(e,i)});return{calculatedDuration:t,next:u=>(a.value=c(u),a.done=u>=t,a)}}const hAe=t=>t!==null;function K3(t,{repeat:e,repeatType:r="loop"},n,i=1){const a=t.filter(hAe),c=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!c||n===void 0?a[c]:n}const fAe={decay:UB,inertia:UB,tween:cE,keyframes:cE,spring:QT};function eX(t){typeof t.type=="string"&&(t.type=fAe[t.type])}class G3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const mAe=t=>t/100;class JN extends G3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==xh.now()&&this.tick(xh.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eX(e);const{type:r=cE,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=e;let{keyframes:c}=e;const u=r||cE;u!==cE&&typeof c[0]!="number"&&(this.mixKeyframes=U2(mAe,qq(c[0],c[1])),c=[0,100]);const l=u({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=V3(l));const{calculatedDuration:d}=l;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:l=0,keyframes:d,repeat:f,repeatType:m,repeatDelay:p,type:g,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-l*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,N=n;if(f){const M=Math.min(this.currentTime,i)/c;let Y=Math.floor(M),X=M%1;!X&&M>=1&&(X=1),X===1&&Y--,Y=Math.min(Y,f+1),Y%2&&(m==="reverse"?(X=1-X,p&&(X-=p/c)):m==="mirror"&&(N=o)),_=WA(0,1,X)*c}const C=E?{done:!1,value:d[0]}:N.next(_);a&&(C.value=a(C.value));let{done:I}=C;!E&&u!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return D&&g!==UB&&(C.value=K3(d,this.options,y,this.speed)),x&&x(C.value),D&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return em(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+em(e)}get time(){return em(this.currentTime)}set time(e){e=Vp(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xh.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=em(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Zme,startTime:r}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xh.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function AAe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Kv=t=>t*180/Math.PI,$B=t=>{const e=Kv(Math.atan2(t[1],t[0]));return HB(e)},pAe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$B,rotateZ:$B,skewX:t=>Kv(Math.atan(t[1])),skewY:t=>Kv(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},HB=t=>(t=t%360,t<0&&(t+=360),t),a7=$B,o7=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),l7=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gAe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:o7,scaleY:l7,scale:t=>(o7(t)+l7(t))/2,rotateX:t=>HB(Kv(Math.atan2(t[6],t[5]))),rotateY:t=>HB(Kv(Math.atan2(-t[2],t[0]))),rotateZ:a7,rotate:a7,skewX:t=>Kv(Math.atan(t[4])),skewY:t=>Kv(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function QB(t){return t.includes("scale")?1:0}function zB(t,e){if(!t||t==="none")return QB(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=gAe,i=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=pAe,i=c}if(!i)return QB(e);const a=n[e],o=i[1].split(",").map(xAe);return typeof a=="function"?a(o):o[a]}const vAe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return zB(r,e)};function xAe(t){return parseFloat(t.trim())}const x1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],y1=new Set(x1),c7=t=>t===v1||t===Ci,yAe=new Set(["x","y","z"]),bAe=x1.filter(t=>!yAe.has(t));function wAe(t){const e=[];return bAe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const C0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zB(e,"x"),y:(t,{transform:e})=>zB(e,"y")};C0.translateX=C0.x;C0.translateY=C0.y;const ix=new Set;let VB=!1,KB=!1,GB=!1;function tX(){if(KB){const t=Array.from(ix).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=wAe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{n.getValue(a)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}KB=!1,VB=!1,ix.forEach(t=>t.complete(GB)),ix.clear()}function rX(){ix.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(KB=!0)})}function EAe(){GB=!0,rX(),tX(),GB=!1}class W3{constructor(e,r,n,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ix.add(this),VB||(VB=!0,dl.read(rX),dl.resolveKeyframes(tX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const a=i?.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}AAe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ix.delete(this)}cancel(){this.state==="scheduled"&&(ix.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const _Ae=t=>t.startsWith("--");function SAe(t,e,r){_Ae(e)?t.style.setProperty(e,r):t.style[e]=r}const jAe=D3(()=>window.ScrollTimeline!==void 0),TAe={};function CAe(t,e){const r=D3(t);return()=>TAe[e]??r()}const nX=CAe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),kw=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,u7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:kw([0,.65,.55,1]),circOut:kw([.55,0,1,.45]),backIn:kw([.31,.01,.66,-.59]),backOut:kw([.33,1.53,.69,.99])};function iX(t,e){if(t)return typeof t=="function"?nX()?Xq(t,e):"ease-out":Uq(t)?kw(t):Array.isArray(t)?t.map(r=>iX(r,e)||u7.easeOut):u7[t]}function NAe(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:u}={},l=void 0){const d={[e]:r};u&&(d.offset=u);const f=iX(c,i);Array.isArray(f)&&(d.easing=f);const m={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return l&&(m.pseudoElement=l),t.animate(d,m)}function sX(t){return typeof t=="function"&&"applyToOptions"in t}function kAe({type:t,...e}){return sX(t)&&nX()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class LAe extends G3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=e,R3(typeof e.type!="string");const l=kAe(e);this.animation=NAe(r,n,i,l,a),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=K3(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):SAe(r,n,d),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return em(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+em(e)}get time(){return em(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vp(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&jAe()?(this.animation.timeline=e,rm):r(this)}}const aX={anticipate:Rq,backInOut:Oq,circInOut:Mq};function IAe(t){return t in aX}function BAe(t){typeof t.ease=="string"&&IAe(t.ease)&&(t.ease=aX[t.ease])}const A4=10;class PAe extends LAe{constructor(e){BAe(e),eX(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new JN({...o,autoplay:!1}),u=Math.max(A4,xh.now()-this.startTime),l=WA(0,A4,u-A4);r.setWithVelocity(c.sample(Math.max(0,u-l)).value,c.sample(u).value,l),c.stop()}}const d7=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(H0.test(t)||t==="0")&&!t.startsWith("url("));function OAe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function RAe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=d7(i,e),c=d7(a,e);return!o||!c?!1:OAe(t)||(r==="spring"||sX(r))&&n}function WB(t){t.duration=0,t.type="keyframes"}const DAe=new Set(["opacity","clipPath","filter","transform"]),MAe=D3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function FAe(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:a,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=e.owner.getProps();return MAe()&&r&&DAe.has(r)&&(r!=="transform"||!l)&&!u&&!n&&i!=="mirror"&&a!==0&&o!=="inertia"}const UAe=40;class $Ae extends G3{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:u,motionValue:l,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xh.now();const m={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,name:u,motionValue:l,element:d,...f},p=d?.KeyframeResolver||W3;this.keyframeResolver=new p(c,(g,x,y)=>this.onKeyframesResolved(g,x,m,!y),u,l,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:u,isHandoff:l,onUpdate:d}=n;this.resolvedAt=xh.now(),RAe(e,a,o,c)||((eg.instantAnimations||!u)&&d?.(K3(e,n,r)),e[0]=e[e.length-1],WB(n),n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>UAe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!l&&FAe(m),g=m.motionValue?.owner?.current,x=p?new PAe({...m,element:g}):new JN(m);x.finished.then(()=>{this.notifyFinished()}).catch(rm),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),EAe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function oX(t,e,r,n=0,i=1){const a=Array.from(t).sort((l,d)=>l.sortNodePosition(d)).indexOf(e),o=t.size,c=(o-1)*n;return typeof r=="function"?r(a,o):i===1?a*n:c-a*n}const HAe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QAe(t){const e=HAe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function lX(t,e,r=1){const[n,i]=QAe(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return Tq(o)?parseFloat(o):o}return $3(i)?lX(i,e,r+1):i}const zAe={type:"spring",stiffness:500,damping:25,restSpeed:10},VAe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KAe={type:"keyframes",duration:.8},GAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WAe=(t,{keyframes:e})=>e.length>2?KAe:y1.has(t)?t.startsWith("scale")?VAe(e[1]):zAe:GAe,YAe=t=>t!==null;function qAe(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(YAe),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}function Y3(t,e){return t?.[e]??t?.default??t}function XAe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:u,elapsed:l,...d}){return!!Object.keys(d).length}const q3=(t,e,r,n={},i,a)=>o=>{const c=Y3(n,t)||{},u=c.delay||n.delay||0;let{elapsed:l=0}=n;l=l-Vp(u);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-l,onUpdate:m=>{e.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};XAe(c)||Object.assign(d,WAe(t,d)),d.duration&&(d.duration=Vp(d.duration)),d.repeatDelay&&(d.repeatDelay=Vp(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(WB(d),d.delay===0&&(f=!0)),(eg.instantAnimations||eg.skipAnimations)&&(f=!0,WB(d),d.delay=0),d.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const m=qAe(d.keyframes,c);if(m!==void 0){dl.update(()=>{d.onUpdate(m),d.onComplete()});return}}return c.isSync?new JN(d):new $Ae(d)};function h7(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function X3(t,e,r,n){if(typeof e=="function"){const[i,a]=h7(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=h7(n);e=e(r!==void 0?r:t.custom,i,a)}return e}function Eb(t,e,r){const n=t.getProps();return X3(n,e,r!==void 0?r:n.custom,t)}const cX=new Set(["width","height","top","left","right","bottom",...x1]),f7=30,ZAe=t=>!isNaN(parseFloat(t)),uE={current:void 0};class JAe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const i=xh.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=xh.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZAe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new M3);const n=this.events[e].add(r);return e==="change"?()=>{n(),dl.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return uE.current&&uE.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=xh.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>f7)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,f7);return kq(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yx(t,e){return new JAe(t,e)}const YB=t=>Array.isArray(t);function epe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,yx(r))}function tpe(t){return YB(t)?t[t.length-1]||0:t}function rpe(t,e){const r=Eb(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const c=tpe(a[o]);epe(t,o,c)}}const gd=t=>!!(t&&t.getVelocity);function npe(t){return!!(gd(t)&&t.add)}function qB(t,e){const r=t.getValue("willChange");if(npe(r))return r.add(e);if(!r&&eg.WillChange){const n=new eg.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Z3(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const ipe="framerAppearId",uX="data-"+Z3(ipe);function dX(t){return t.props[uX]}function spe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function hX(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:o,...c}=e;const u=a?.reduceMotion;n&&(a=n);const l=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const m=t.getValue(f,t.latestValues[f]??null),p=c[f];if(p===void 0||d&&spe(d,f))continue;const g={delay:r,...Y3(a||{},f)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===x&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const _=dX(t);if(_){const N=window.MotionHandoffAnimation(_,f,dl);N!==null&&(g.startTime=N,y=!0)}}qB(t,f);const w=u??t.shouldReduceMotion;m.start(q3(f,m,p,w&&cX.has(f)?{type:!1}:g,t,y));const E=m.animation;E&&l.push(E)}return o&&Promise.all(l).then(()=>{dl.update(()=>{o&&rpe(t,o)})}),l}function XB(t,e,r={}){const n=Eb(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(hX(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:d,staggerDirection:f}=i;return ape(t,e,u,l,d,f,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,l]=c==="beforeChildren"?[a,o]:[o,a];return u().then(()=>l())}else return Promise.all([a(),o(r.delay)])}function ape(t,e,r=0,n=0,i=0,a=1,o){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(XB(u,e,{...o,delay:r+(typeof n=="function"?0:n)+oX(t.variantChildren,u,n,i,a)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function ope(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>XB(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=XB(t,e,r);else{const i=typeof e=="function"?Eb(t,e,r.custom):e;n=Promise.all(hX(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const lpe={test:t=>t==="auto",parse:t=>t},fX=t=>e=>e.test(t),mX=[v1,Ci,zA,i0,Rme,Ome,lpe],m7=t=>mX.find(fX(t));function cpe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Nq(t):!0}const upe=new Set(["brightness","contrast","saturate","opacity"]);function dpe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(H3)||[];if(!n)return t;const i=r.replace(n,"");let a=upe.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const hpe=/\b([a-z-]*)\(.*?\)/gu,ZB={...H0,getAnimatableNone:t=>{const e=t.match(hpe);return e?e.map(dpe).join(" "):t}},A7={...v1,transform:Math.round},fpe={rotate:i0,rotateX:i0,rotateY:i0,rotateZ:i0,scale:Y_,scaleX:Y_,scaleY:Y_,scaleZ:Y_,skew:i0,skewX:i0,skewY:i0,distance:Ci,translateX:Ci,translateY:Ci,translateZ:Ci,x:Ci,y:Ci,z:Ci,perspective:Ci,transformPerspective:Ci,opacity:DE,originX:t7,originY:t7,originZ:Ci},J3={borderWidth:Ci,borderTopWidth:Ci,borderRightWidth:Ci,borderBottomWidth:Ci,borderLeftWidth:Ci,borderRadius:Ci,borderTopLeftRadius:Ci,borderTopRightRadius:Ci,borderBottomRightRadius:Ci,borderBottomLeftRadius:Ci,width:Ci,maxWidth:Ci,height:Ci,maxHeight:Ci,top:Ci,right:Ci,bottom:Ci,left:Ci,inset:Ci,insetBlock:Ci,insetBlockStart:Ci,insetBlockEnd:Ci,insetInline:Ci,insetInlineStart:Ci,insetInlineEnd:Ci,padding:Ci,paddingTop:Ci,paddingRight:Ci,paddingBottom:Ci,paddingLeft:Ci,paddingBlock:Ci,paddingBlockStart:Ci,paddingBlockEnd:Ci,paddingInline:Ci,paddingInlineStart:Ci,paddingInlineEnd:Ci,margin:Ci,marginTop:Ci,marginRight:Ci,marginBottom:Ci,marginLeft:Ci,marginBlock:Ci,marginBlockStart:Ci,marginBlockEnd:Ci,marginInline:Ci,marginInlineStart:Ci,marginInlineEnd:Ci,fontSize:Ci,backgroundPositionX:Ci,backgroundPositionY:Ci,...fpe,zIndex:A7,fillOpacity:DE,strokeOpacity:DE,numOctaves:A7},mpe={...J3,color:gu,backgroundColor:gu,outlineColor:gu,fill:gu,stroke:gu,borderColor:gu,borderTopColor:gu,borderRightColor:gu,borderBottomColor:gu,borderLeftColor:gu,filter:ZB,WebkitFilter:ZB},AX=t=>mpe[t];function pX(t,e){let r=AX(t);return r!==ZB&&(r=H0),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Ape=new Set(["auto","none","0"]);function ppe(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!Ape.has(a)&&ME(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=pX(r,i)}class gpe extends W3{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),$3(f))){const m=lX(f,r.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!cX.has(n)||e.length!==2)return;const[i,a]=e,o=m7(i),c=m7(a),u=e7(i),l=e7(a);if(u!==l&&C0[n]){this.needsMeasurement=!0;return}if(o!==c)if(c7(o)&&c7(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else C0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||cpe(e[i]))&&n.push(i);n.length&&ppe(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=C0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,o=n[a];n[a]=C0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function vpe(t,e,r){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=r?.[t]??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(n=>n!=null)}const gX=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function JB(t){return Cq(t)&&"offsetHeight"in t}const{schedule:eD}=$q(queueMicrotask,!1),Tm={x:!1,y:!1};function vX(){return Tm.x||Tm.y}function xpe(t){return t==="x"||t==="y"?Tm[t]?null:(Tm[t]=!0,()=>{Tm[t]=!1}):Tm.x||Tm.y?null:(Tm.x=Tm.y=!0,()=>{Tm.x=Tm.y=!1})}function xX(t,e){const r=vpe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function p7(t){return!(t.pointerType==="touch"||vX())}function ype(t,e,r={}){const[n,i,a]=xX(t,r),o=c=>{if(!p7(c))return;const{target:u}=c,l=e(u,c);if(typeof l!="function"||!u)return;const d=f=>{p7(f)&&(l(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return n.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const yX=(t,e)=>e?t===e?!0:yX(t,e.parentElement):!1,tD=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bpe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bX(t){return bpe.has(t.tagName)||t.isContentEditable===!0}const lj=new WeakSet;function g7(t){return e=>{e.key==="Enter"&&t(e)}}function p4(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wpe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=g7(()=>{if(lj.has(r))return;p4(r,"down");const i=g7(()=>{p4(r,"up")}),a=()=>p4(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function v7(t){return tD(t)&&!vX()}function Epe(t,e,r={}){const[n,i,a]=xX(t,r),o=c=>{const u=c.currentTarget;if(!v7(c))return;lj.add(u);const l=e(u,c),d=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),lj.has(u)&&lj.delete(u),v7(p)&&typeof l=="function"&&l(p,{success:g})},f=p=>{d(p,u===window||u===document||r.useGlobalTarget||yX(u,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),JB(c)&&(c.addEventListener("focus",l=>wpe(l,i)),!bX(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function wX(t){return Cq(t)&&"ownerSVGElement"in t}function _pe(t){return wX(t)&&t.tagName==="svg"}function Spe(...t){const e=!Array.isArray(t[0]),r=e?0:-1,n=t[0+r],i=t[1+r],a=t[2+r],o=t[3+r],c=Jq(i,a,o);return e?c(n):c}function jpe(t,e,r={}){const n=t.get();let i=null,a=n,o;const c=typeof n=="string"?n.replace(/[\d.-]/g,""):void 0,u=()=>{i&&(i.stop(),i=null)},l=()=>{u();const d=y7(t.get()),f=y7(a);d!==f&&(i=new JN({keyframes:[d,f],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:o}))};if(t.attach((d,f)=>{a=d,o=m=>f(x7(m,c)),dl.postRender(()=>{l(),t.events.animationStart?.notify(),i?.then(()=>{t.events.animationComplete?.notify()})})},u),gd(e)){const d=e.on("change",m=>t.set(x7(m,c))),f=t.on("destroy",d);return()=>{d(),f()}}return u}function x7(t,e){return e?t+e:t}function y7(t){return typeof t=="number"?t:parseFloat(t)}const Tpe=[...mX,gu,H0],Cpe=t=>Tpe.find(fX(t)),b7=()=>({translate:0,scale:1,origin:0,originPoint:0}),ab=()=>({x:b7(),y:b7()}),w7=()=>({min:0,max:0}),Fu=()=>({x:w7(),y:w7()}),eP={current:null},EX={current:!1},Npe=typeof window<"u";function kpe(){if(EX.current=!0,!!Npe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eP.current=t.matches;t.addEventListener("change",e),e()}else eP.current=!1}const Lpe=new WeakMap;function ek(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function FE(t){return typeof t=="string"||Array.isArray(t)}const rD=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nD=["initial",...rD];function tk(t){return ek(t.animate)||nD.some(e=>FE(t[e]))}function _X(t){return!!(tk(t)||t.variants)}function Ipe(t,e,r){for(const n in e){const i=e[n],a=r[n];if(gd(i))t.addValue(n,i);else if(gd(a))t.addValue(n,yx(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,yx(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const E7=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let zT={};function SX(t){zT=t}function Bpe(){return zT}class Ppe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=xh.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,dl.render(this.render,!1,!0))};const{latestValues:u,renderState:l}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=tk(r),this.isVariantNode=_X(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const p=f[m];u[m]!==void 0&&gd(p)&&p.set(u[m])}}mount(e){this.current=e,Lpe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(EX.current||kpe(),this.shouldReduceMotion=eP.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tg(this.notifyUpdate),tg(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=y1.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&dl.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zT){const r=zT[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fu()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<E7.length;n++){const i=E7[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ipe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=yx(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Tq(n)||Nq(n))?n=parseFloat(n):!Cpe(n)&&H0.test(r)&&(n=pX(e,r)),this.setBaseTarget(e,gd(n)?n.get():n)),gd(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=X3(this.props,r,this.presenceContext?.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!gd(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new M3),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){eD.render(this.render)}}class jX extends Ppe{constructor(){super(...arguments),this.KeyframeResolver=gpe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gd(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class q0{constructor(e){this.isMounted=!1,this.node=e}update(){}}function TX({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Ope({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Rpe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function g4(t){return t===void 0||t===1}function tP({scale:t,scaleX:e,scaleY:r}){return!g4(t)||!g4(e)||!g4(r)}function Sv(t){return tP(t)||CX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function CX(t){return _7(t.x)||_7(t.y)}function _7(t){return t&&t!=="0%"}function VT(t,e,r){const n=t-r,i=e*n;return r+i}function S7(t,e,r,n,i){return i!==void 0&&(t=VT(t,i,n)),VT(t,r,n)+e}function rP(t,e=0,r=1,n,i){t.min=S7(t.min,e,r,n,i),t.max=S7(t.max,e,r,n,i)}function NX(t,{x:e,y:r}){rP(t.x,e.translate,e.scale,e.originPoint),rP(t.y,r.translate,r.scale,r.originPoint)}const j7=.999999999999,T7=1.0000000000001;function Dpe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let c=0;c<i;c++){a=r[c],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&lb(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,NX(t,o)),n&&Sv(a.latestValues)&&lb(t,a.latestValues))}e.x<T7&&e.x>j7&&(e.x=1),e.y<T7&&e.y>j7&&(e.y=1)}function ob(t,e){t.min=t.min+e,t.max=t.max+e}function C7(t,e,r,n,i=.5){const a=Ac(t.min,t.max,i);rP(t,e,r,a,n)}function lb(t,e){C7(t.x,e.x,e.scaleX,e.scale,e.originX),C7(t.y,e.y,e.scaleY,e.scale,e.originY)}function kX(t,e){return TX(Rpe(t.getBoundingClientRect(),e))}function Mpe(t,e,r){const n=kX(t,r),{scroll:i}=e;return i&&(ob(n.x,i.offset.x),ob(n.y,i.offset.y)),n}const Fpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Upe=x1.length;function $pe(t,e,r){let n="",i=!0;for(let a=0;a<Upe;a++){const o=x1[a],c=t[o];if(c===void 0)continue;let u=!0;if(typeof c=="number")u=c===(o.startsWith("scale")?1:0);else{const l=parseFloat(c);u=o.startsWith("scale")?l===1:l===0}if(!u||r){const l=gX(c,J3[o]);if(!u){i=!1;const d=Fpe[o]||o;n+=`${d}(${l}) `}r&&(e[o]=l)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function iD(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let o=!1,c=!1;for(const u in e){const l=e[u];if(y1.has(u)){o=!0;continue}else if(Qq(u)){i[u]=l;continue}else{const d=gX(l,J3[u]);u.startsWith("origin")?(c=!0,a[u]=d):n[u]=d}}if(e.transform||(o||r?n.transform=$pe(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:u="50%",originY:l="50%",originZ:d=0}=a;n.transformOrigin=`${u} ${l} ${d}`}}function LX(t,{style:e,vars:r},n,i){const a=t.style;let o;for(o in e)a[o]=e[o];i?.applyProjectionStyles(a,n);for(o in r)a.setProperty(o,r[o])}function N7(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const rw={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ci.test(t))t=parseFloat(t);else return t;const r=N7(t,e.target.x),n=N7(t,e.target.y);return`${r}% ${n}%`}},Hpe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=H0.parse(t);if(i.length>5)return n;const a=H0.createTransformer(t),o=typeof i[0]!="number"?1:0,c=r.x.scale*e.x,u=r.y.scale*e.y;i[0+o]/=c,i[1+o]/=u;const l=Ac(c,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),a(i)}},nP={borderRadius:{...rw,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rw,borderTopRightRadius:rw,borderBottomLeftRadius:rw,borderBottomRightRadius:rw,boxShadow:Hpe};function IX(t,{layout:e,layoutId:r}){return y1.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!nP[t]||t==="opacity")}function sD(t,e,r){const n=t.style,i=e?.style,a={};if(!n)return a;for(const o in n)(gd(n[o])||i&&gd(i[o])||IX(o,t)||r?.getValue(o)?.liveStyle!==void 0)&&(a[o]=n[o]);return a}function Qpe(t){return window.getComputedStyle(t)}class zpe extends jX{constructor(){super(...arguments),this.type="html",this.renderInstance=LX}readValueFromInstance(e,r){if(y1.has(r))return this.projection?.isProjecting?QB(r):vAe(e,r);{const n=Qpe(e),i=(Qq(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return kX(e,r)}build(e,r,n){iD(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return sD(e,r,n)}}const Vpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kpe={offset:"strokeDashoffset",array:"strokeDasharray"};function Gpe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?Vpe:Kpe;t[a.offset]=`${-n}`,t[a.array]=`${e} ${r}`}const Wpe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function BX(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},u,l,d){if(iD(t,c,l),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m}=t;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete f.transformBox);for(const p of Wpe)f[p]!==void 0&&(m[p]=f[p],delete f[p]);e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&Gpe(f,i,a,o,!1)}const PX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),OX=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Ype(t,e,r,n){LX(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(PX.has(i)?i:Z3(i),e.attrs[i])}function RX(t,e,r){const n=sD(t,e,r);for(const i in t)if(gd(t[i])||gd(e[i])){const a=x1.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}class qpe extends jX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fu}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(y1.has(r)){const n=AX(r);return n&&n.default||0}return r=PX.has(r)?r:Z3(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return RX(e,r,n)}build(e,r,n){BX(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Ype(e,r,n,i)}mount(e){this.isSVGTag=OX(e.tagName),super.mount(e)}}const Xpe=nD.length;function DX(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?DX(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Xpe;r++){const n=nD[r],i=t.props[n];(FE(i)||i===!1)&&(e[n]=i)}return e}function MX(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Zpe=[...rD].reverse(),Jpe=rD.length;function ege(t){return e=>Promise.all(e.map(({animation:r,options:n})=>ope(t,r,n)))}function tge(t){let e=ege(t),r=k7(),n=!0;const i=u=>(l,d)=>{const f=Eb(t,d,u==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:m,transitionEnd:p,...g}=f;l={...l,...g,...p}}return l};function a(u){e=u(t)}function o(u){const{props:l}=t,d=DX(t.parent)||{},f=[],m=new Set;let p={},g=1/0;for(let y=0;y<Jpe;y++){const w=Zpe[y],E=r[w],_=l[w]!==void 0?l[w]:d[w],N=FE(_),C=w===u?E.isActive:null;C===!1&&(g=y);let I=_===d[w]&&_!==l[w]&&N;if(I&&n&&t.manuallyAnimateOnMount&&(I=!1),E.protectedKeys={...p},!E.isActive&&C===null||!_&&!E.prevProp||ek(_)||typeof _=="boolean")continue;const D=rge(E.prevProp,_);let M=D||w===u&&E.isActive&&!I&&N||y>g&&N,Y=!1;const X=Array.isArray(_)?_:[_];let te=X.reduce(i(w),{});C===!1&&(te={});const{prevResolvedValues:de={}}=E,ye={...de,...te},we=ae=>{M=!0,m.has(ae)&&(Y=!0,m.delete(ae)),E.needsAnimating[ae]=!0;const oe=t.getValue(ae);oe&&(oe.liveStyle=!1)};for(const ae in ye){const oe=te[ae],Re=de[ae];if(p.hasOwnProperty(ae))continue;let Pe=!1;YB(oe)&&YB(Re)?Pe=!MX(oe,Re):Pe=oe!==Re,Pe?oe!=null?we(ae):m.add(ae):oe!==void 0&&m.has(ae)?we(ae):E.protectedKeys[ae]=!0}E.prevProp=_,E.prevResolvedValues=te,E.isActive&&(p={...p,...te}),n&&t.blockInitialAnimation&&(M=!1);const ve=I&&D;M&&(!ve||Y)&&f.push(...X.map(ae=>{const oe={type:w};if(typeof ae=="string"&&n&&!ve&&t.manuallyAnimateOnMount&&t.parent){const{parent:Re}=t,Pe=Eb(Re,ae);if(Re.enteringChildren&&Pe){const{delayChildren:be}=Pe.transition||{};oe.delay=oX(Re.enteringChildren,t,be)}}return{animation:ae,options:oe}}))}if(m.size){const y={};if(typeof l.initial!="boolean"){const w=Eb(t,Array.isArray(l.initial)?l.initial[0]:l.initial);w&&w.transition&&(y.transition=w.transition)}m.forEach(w=>{const E=t.getBaseTarget(w),_=t.getValue(w);_&&(_.liveStyle=!0),y[w]=E??null}),f.push({animation:y})}let x=!!f.length;return n&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(f):Promise.resolve()}function c(u,l){if(r[u].isActive===l)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(u,l)),r[u].isActive=l;const d=o(u);for(const f in r)r[f].protectedKeys={};return d}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>r,reset:()=>{r=k7()}}}function rge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MX(e,t):!1}function pv(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k7(){return{animate:pv(!0),whileInView:pv(),whileHover:pv(),whileTap:pv(),whileDrag:pv(),whileFocus:pv(),exit:pv()}}function L7(t,e){t.min=e.min,t.max=e.max}function bm(t,e){L7(t.x,e.x),L7(t.y,e.y)}function I7(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const FX=1e-4,nge=1-FX,ige=1+FX,UX=.01,sge=0-UX,age=0+UX;function yh(t){return t.max-t.min}function oge(t,e,r){return Math.abs(t-e)<=r}function B7(t,e,r,n=.5){t.origin=n,t.originPoint=Ac(e.min,e.max,t.origin),t.scale=yh(r)/yh(e),t.translate=Ac(r.min,r.max,t.origin)-t.originPoint,(t.scale>=nge&&t.scale<=ige||isNaN(t.scale))&&(t.scale=1),(t.translate>=sge&&t.translate<=age||isNaN(t.translate))&&(t.translate=0)}function dE(t,e,r,n){B7(t.x,e.x,r.x,n?n.originX:void 0),B7(t.y,e.y,r.y,n?n.originY:void 0)}function P7(t,e,r){t.min=r.min+e.min,t.max=t.min+yh(e)}function lge(t,e,r){P7(t.x,e.x,r.x),P7(t.y,e.y,r.y)}function O7(t,e,r){t.min=e.min-r.min,t.max=t.min+yh(e)}function KT(t,e,r){O7(t.x,e.x,r.x),O7(t.y,e.y,r.y)}function R7(t,e,r,n,i){return t-=e,t=VT(t,1/r,n),i!==void 0&&(t=VT(t,1/i,n)),t}function cge(t,e=0,r=1,n=.5,i,a=t,o=t){if(zA.test(e)&&(e=parseFloat(e),e=Ac(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Ac(a.min,a.max,n);t===a&&(c-=e),t.min=R7(t.min,e,r,c,i),t.max=R7(t.max,e,r,c,i)}function D7(t,e,[r,n,i],a,o){cge(t,e[r],e[n],e[i],e.scale,a,o)}const uge=["x","scaleX","originX"],dge=["y","scaleY","originY"];function M7(t,e,r,n){D7(t.x,e,uge,r?r.x:void 0,n?n.x:void 0),D7(t.y,e,dge,r?r.y:void 0,n?n.y:void 0)}function F7(t){return t.translate===0&&t.scale===1}function $X(t){return F7(t.x)&&F7(t.y)}function U7(t,e){return t.min===e.min&&t.max===e.max}function hge(t,e){return U7(t.x,e.x)&&U7(t.y,e.y)}function $7(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HX(t,e){return $7(t.x,e.x)&&$7(t.y,e.y)}function H7(t){return yh(t.x)/yh(t.y)}function Q7(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Wf(t){return[t("x"),t("y")]}function fge(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:l,rotate:d,rotateX:f,rotateY:m,skewX:p,skewY:g}=r;l&&(n=`perspective(${l}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),p&&(n+=`skewX(${p}deg) `),g&&(n+=`skewY(${g}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(n+=`scale(${c}, ${u})`),n||"none"}const QX=["TopLeft","TopRight","BottomLeft","BottomRight"],mge=QX.length,z7=t=>typeof t=="string"?parseFloat(t):t,V7=t=>typeof t=="number"||Ci.test(t);function Age(t,e,r,n,i,a){i?(t.opacity=Ac(0,r.opacity??1,pge(n)),t.opacityExit=Ac(e.opacity??1,0,gge(n))):a&&(t.opacity=Ac(e.opacity??1,r.opacity??1,n));for(let o=0;o<mge;o++){const c=`border${QX[o]}Radius`;let u=K7(e,c),l=K7(r,c);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||V7(u)===V7(l)?(t[c]=Math.max(Ac(z7(u),z7(l),n),0),(zA.test(l)||zA.test(u))&&(t[c]+="%")):t[c]=l}(e.rotate||r.rotate)&&(t.rotate=Ac(e.rotate||0,r.rotate||0,n))}function K7(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pge=zX(0,.5,Dq),gge=zX(.5,.95,rm);function zX(t,e,r){return n=>n<t?0:n>e?1:r(RE(t,e,n))}function vge(t,e,r){const n=gd(t)?t:yx(t);return n.start(q3("",n,e,r)),n.animation}function UE(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const xge=(t,e)=>t.depth-e.depth;class yge{constructor(){this.children=[],this.isDirty=!1}add(e){P3(this.children,e),this.isDirty=!0}remove(e){O3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xge),this.isDirty=!1,this.children.forEach(e)}}function bge(t,e){const r=xh.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(tg(n),t(a-e))};return dl.setup(n,!0),()=>tg(n)}function cj(t){return gd(t)?t.get():t}class wge{constructor(){this.members=[]}add(e){P3(this.members,e),e.scheduleRender()}remove(e){if(O3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const i=n.options.layoutDependency,a=e.options.layoutDependency;i!==void 0&&a!==void 0&&i===a||(e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const uj={hasAnimatedSinceResize:!0,hasEverUpdated:!1},v4=["","X","Y","Z"],Ege=1e3;let _ge=0;function x4(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function VX(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=dX(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",dl,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&VX(n)}function KX({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=_ge++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Tge),this.nodes.forEach(Lge),this.nodes.forEach(Ige),this.nodes.forEach(Cge)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new yge)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new M3),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wX(o)&&!_pe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let d,f=0;const m=()=>this.root.updateBlockedByResize=!1;dl.read(()=>{f=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=bge(m,250),uj.hasAnimatedSinceResize&&(uj.hasAnimatedSinceResize=!1,this.nodes.forEach(Y7)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&l&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||l.getDefaultTransition()||Dge,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=l.getProps(),w=!this.targetLayout||!HX(this.targetLayout,p),E=!f&&m;if(this.options.layoutRoot||this.resumeFrom||E||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...Y3(g,"layout"),onPlay:x,onComplete:y};(l.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,E)}else f||Y7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bge),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(G7);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(W7);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kge),this.nodes.forEach(Sge),this.nodes.forEach(jge)):this.nodes.forEach(W7),this.clearAllSnapshots();const c=xh.now();Ud.delta=WA(0,1e3/60,c-Ud.timestamp),Ud.timestamp=c,Ud.isProcessing=!0,u4.update.process(Ud),u4.preRender.process(Ud),u4.render.process(Ud),Ud.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,eD.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nge),this.sharedNodes.forEach(Pge)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dl.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yh(this.snapshot.measuredBox.x)&&!yh(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Fu(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!$X(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&this.instance&&(c||Sv(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),Mge(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Fu();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fge))){const{scroll:l}=this.root;l&&(ob(c.x,l.offset.x),ob(c.y,l.offset.y))}return c}removeElementScroll(o){const c=Fu();if(bm(c,o),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:d,options:f}=l;l!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&bm(c,o),ob(c.x,d.offset.x),ob(c.y,d.offset.y))}return c}applyTransform(o,c=!1){const u=Fu();bm(u,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&lb(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Sv(d.latestValues)&&lb(u,d.latestValues)}return Sv(this.latestValues)&&lb(u,this.latestValues),u}removeTransform(o){const c=Fu();bm(c,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!Sv(l.latestValues))continue;tP(l.latestValues)&&l.updateSnapshot();const d=Fu(),f=l.measurePageBox();bm(d,f),M7(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return Sv(this.latestValues)&&M7(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ud.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=Ud.timestamp;const m=this.getClosestProjectingParent();m&&this.linkedParentVersion!==m.layoutVersion&&!m.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(m&&m.layout?this.createRelativeTarget(m,this.layout.layoutBox,m.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fu(),this.targetWithTransforms=Fu()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bm(this.target,this.layout.layoutBox),NX(this.target,this.targetDelta)):bm(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?this.createRelativeTarget(m,this.target,m.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tP(this.parent.latestValues)||CX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fu(),this.relativeTargetOrigin=Fu(),KT(this.relativeTargetOrigin,c,u),bm(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ud.timestamp&&(u=!1),u)return;const{layout:l,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||d))return;bm(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Dpe(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Fu());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(I7(this.prevProjectionDelta.x,this.projectionDelta.x),I7(this.prevProjectionDelta.y,this.projectionDelta.y)),dE(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!Q7(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q7(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ab(),this.projectionDelta=ab(),this.projectionDeltaWithTransform=ab()}setAnimationOrigin(o,c=!1){const u=this.snapshot,l=u?u.latestValues:{},d={...this.latestValues},f=ab();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=Fu(),p=u?u.source:void 0,g=this.layout?this.layout.source:void 0,x=p!==g,y=this.getStack(),w=!y||y.members.length<=1,E=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(Rge));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const C=N/1e3;q7(f.x,o.x,C),q7(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(KT(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oge(this.relativeTarget,this.relativeTargetOrigin,m,C),_&&hge(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fu()),bm(_,this.relativeTarget)),x&&(this.animationValues=d,Age(d,l,this.latestValues,C,E,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dl.update(()=>{uj.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yx(0)),this.currentAnimation=vge(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ege),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:l,latestValues:d}=o;if(!(!c||!u||!l)){if(this!==o&&this.layout&&l&&GX(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||Fu();const f=yh(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const m=yh(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+m}bm(c,u),lb(c,d),dE(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wge),this.sharedNodes.get(o).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const l={};u.z&&x4("z",o,l,this.animationValues);for(let d=0;d<v4.length;d++)x4(`rotate${v4[d]}`,o,l,this.animationValues),x4(`skew${v4[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=cj(c?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=cj(c?.pointerEvents)||""),this.hasProjected&&!Sv(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=l.animationValues||l.latestValues;this.applyTransformsToTarget();let f=fge(this.projectionDeltaWithTransform,this.treeScale,d);u&&(f=u(d,f)),o.transform=f;const{x:m,y:p}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,l.animationValues?o.opacity=l===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=l===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in nP){if(d[g]===void 0)continue;const{correct:x,applyTo:y,isCSSVariable:w}=nP[g],E=f==="none"?d[g]:x(d[g],l);if(y){const _=y.length;for(let N=0;N<_;N++)o[y[N]]=E}else w?this.options.visualElement.renderState.vars[g]=E:o[g]=E}this.options.layoutId&&(o.pointerEvents=l===this?cj(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(G7),this.root.sharedNodes.clear()}}}function Sge(t){t.updateLayout()}function jge(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Wf(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],m=yh(f);f.min=r[d].min,f.max=f.min+m}):GX(i,e.layoutBox,r)&&Wf(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],m=yh(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const o=ab();dE(o,r,e.layoutBox);const c=ab();a?dE(c,t.applyTransform(n,!0),e.measuredBox):dE(c,r,e.layoutBox);const u=!$X(o);let l=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const p=Fu();KT(p,e.layoutBox,f.layoutBox);const g=Fu();KT(g,r,m.layoutBox),HX(p,g)||(l=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=p,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Tge(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Cge(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nge(t){t.clearSnapshot()}function G7(t){t.clearMeasurements()}function W7(t){t.isLayoutDirty=!1}function kge(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Y7(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lge(t){t.resolveTargetDelta()}function Ige(t){t.calcProjection()}function Bge(t){t.resetSkewAndRotation()}function Pge(t){t.removeLeadSnapshot()}function q7(t,e,r){t.translate=Ac(e.translate,0,r),t.scale=Ac(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function X7(t,e,r,n){t.min=Ac(e.min,r.min,n),t.max=Ac(e.max,r.max,n)}function Oge(t,e,r,n){X7(t.x,e.x,r.x,n),X7(t.y,e.y,r.y,n)}function Rge(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Dge={duration:.45,ease:[.4,0,.1,1]},Z7=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),J7=Z7("applewebkit/")&&!Z7("chrome/")?Math.round:rm;function e$(t){t.min=J7(t.min),t.max=J7(t.max)}function Mge(t){e$(t.x),e$(t.y)}function GX(t,e,r){return t==="position"||t==="preserve-aspect"&&!oge(H7(e),H7(r),.2)}function Fge(t){return t!==t.root&&t.scroll?.wasRoot}const Uge=KX({attachResizeListener:(t,e)=>UE(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),y4={current:void 0},WX=KX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!y4.current){const t=new Uge({});t.mount(window),t.setOptions({layoutScroll:!0}),y4.current=t}return y4.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Q2=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function t$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $ge(...t){return e=>{let r=!1;const n=t.map(i=>{const a=t$(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():t$(t[i],null)}}}}function Hge(...t){return T.useCallback($ge(...t),t)}class Qge extends T.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=JB(n)&&n.offsetWidth||0,a=JB(n)&&n.offsetHeight||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=i-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function zge({children:t,isPresent:e,anchorX:r,anchorY:n,root:i}){const a=T.useId(),o=T.useRef(null),c=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=T.useContext(Q2),l=t.props?.ref??t?.ref,d=Hge(o,l);return T.useInsertionEffect(()=>{const{width:f,height:m,top:p,left:g,right:x,bottom:y}=c.current;if(e||!o.current||!f||!m)return;const w=r==="left"?`left: ${g}`:`right: ${x}`,E=n==="bottom"?`bottom: ${y}`:`top: ${p}`;o.current.dataset.motionPopId=a;const _=document.createElement("style");u&&(_.nonce=u);const N=i??document.head;return N.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${w}px !important;
            ${E}px !important;
          }
        `),()=>{N.contains(_)&&N.removeChild(_)}},[e]),s.jsx(Qge,{isPresent:e,childRef:o,sizeRef:c,children:T.cloneElement(t,{ref:d})})}const Vge=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,anchorY:u,root:l})=>{const d=F2(Kge),f=T.useId();let m=!0,p=T.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:g=>{d.set(g,!0);for(const x of d.values())if(!x)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[r,d,n]);return a&&m&&(p={...p}),T.useMemo(()=>{d.forEach((g,x)=>d.set(x,!1))},[r]),T.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(zge,{isPresent:r,anchorX:c,anchorY:u,root:l,children:t})),s.jsx(ZN.Provider,{value:p,children:t})};function Kge(){return new Map}function YX(t=!0){const e=T.useContext(ZN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=T.useId();T.useEffect(()=>{if(t)return i(a)},[t]);const o=T.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const q_=t=>t.key||"";function r$(t){const e=[];return T.Children.forEach(t,r=>{T.isValidElement(r)&&e.push(r)}),e}const Kp=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",anchorY:u="top",root:l})=>{const[d,f]=YX(o),m=T.useMemo(()=>r$(t),[t]),p=o&&!d?[]:m.map(q_),g=T.useRef(!0),x=T.useRef(m),y=F2(()=>new Map),w=T.useRef(new Set),[E,_]=T.useState(m),[N,C]=T.useState(m);B3(()=>{g.current=!1,x.current=m;for(let M=0;M<N.length;M++){const Y=q_(N[M]);p.includes(Y)?(y.delete(Y),w.current.delete(Y)):y.get(Y)!==!0&&y.set(Y,!1)}},[N,p.length,p.join("-")]);const I=[];if(m!==E){let M=[...m];for(let Y=0;Y<N.length;Y++){const X=N[Y],te=q_(X);p.includes(te)||(M.splice(Y,0,X),I.push(X))}return a==="wait"&&I.length&&(M=I),C(r$(M)),_(m),null}const{forceRender:D}=T.useContext(I3);return s.jsx(s.Fragment,{children:N.map(M=>{const Y=q_(M),X=o&&!d?!1:m===N||p.includes(Y),te=()=>{if(w.current.has(Y))return;if(w.current.add(Y),y.has(Y))y.set(Y,!0);else return;let de=!0;y.forEach(ye=>{ye||(de=!1)}),de&&(D?.(),C(x.current),o&&f?.(),n&&n())};return s.jsx(Vge,{isPresent:X,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:X?void 0:te,anchorX:c,anchorY:u,children:M},Y)})})},qX=T.createContext({strict:!1}),n$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let i$=!1;function Gge(){if(i$)return;const t={};for(const e in n$)t[e]={isEnabled:r=>n$[e].some(n=>!!r[n])};SX(t),i$=!0}function XX(){return Gge(),Bpe()}function Wge(t){const e=XX();for(const r in t)e[r]={...e[r],...t[r]};SX(e)}const Yge=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function GT(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yge.has(t)}let ZX=t=>!GT(t);function qge(t){typeof t=="function"&&(ZX=e=>e.startsWith("on")?!GT(e):t(e))}try{qge(require("@emotion/is-prop-valid").default)}catch{}function Xge(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZX(i)||r===!0&&GT(i)||!e&&!GT(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const rk=T.createContext({});function Zge(t,e){if(tk(t)){const{initial:r,animate:n}=t;return{initial:r===!1||FE(r)?r:void 0,animate:FE(n)?n:void 0}}return t.inherit!==!1?e:{}}function Jge(t){const{initial:e,animate:r}=Zge(t,T.useContext(rk));return T.useMemo(()=>({initial:e,animate:r}),[s$(e),s$(r)])}function s$(t){return Array.isArray(t)?t.join(" "):t}const aD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JX(t,e,r){for(const n in e)!gd(e[n])&&!IX(n,r)&&(t[n]=e[n])}function e0e({transformTemplate:t},e){return T.useMemo(()=>{const r=aD();return iD(r,e,t),Object.assign({},r.vars,r.style)},[e])}function t0e(t,e){const r=t.style||{},n={};return JX(n,r,t),Object.assign(n,e0e(t,e)),n}function r0e(t,e){const r={},n=t0e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const eZ=()=>({...aD(),attrs:{}});function n0e(t,e,r,n){const i=T.useMemo(()=>{const a=eZ();return BX(a,e,OX(n),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};JX(a,t.style,t),i.style={...a,...i.style}}return i}const i0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oD(t){return typeof t!="string"||t.includes("-")?!1:!!(i0e.indexOf(t)>-1||/[A-Z]/u.test(t))}function s0e(t,e,r,{latestValues:n},i,a=!1,o){const u=(o??oD(t)?n0e:r0e)(e,n,i,t),l=Xge(e,typeof t=="string",a),d=t!==T.Fragment?{...l,...u,ref:r}:{},{children:f}=e,m=T.useMemo(()=>gd(f)?f.get():f,[f]);return T.createElement(t,{...d,children:m})}function a0e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:o0e(r,n,i,t),renderState:e()}}function o0e(t,e,r,n){const i={},a=n(t,{});for(const m in a)i[m]=cj(a[m]);let{initial:o,animate:c}=t;const u=tk(t),l=_X(t);e&&l&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?c:o;if(f&&typeof f!="boolean"&&!ek(f)){const m=Array.isArray(f)?f:[f];for(let p=0;p<m.length;p++){const g=X3(t,m[p]);if(g){const{transitionEnd:x,transition:y,...w}=g;for(const E in w){let _=w[E];if(Array.isArray(_)){const N=d?_.length-1:0;_=_[N]}_!==null&&(i[E]=_)}for(const E in x)i[E]=x[E]}}}return i}const tZ=t=>(e,r)=>{const n=T.useContext(rk),i=T.useContext(ZN),a=()=>a0e(t,e,n,i);return r?a():F2(a)},l0e=tZ({scrapeMotionValuesFromProps:sD,createRenderState:aD}),c0e=tZ({scrapeMotionValuesFromProps:RX,createRenderState:eZ}),u0e=Symbol.for("motionComponentSymbol");function d0e(t,e,r){const n=T.useRef(r);T.useInsertionEffect(()=>{n.current=r});const i=T.useRef(null);return T.useCallback(a=>{a&&t.onMount?.(a),e&&(a?e.mount(a):e.unmount());const o=n.current;if(typeof o=="function")if(a){const c=o(a);typeof c=="function"&&(i.current=c)}else i.current?(i.current(),i.current=null):o(a);else o&&(o.current=a)},[e])}const rZ=T.createContext({});function Lw(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function h0e(t,e,r,n,i,a){const{visualElement:o}=T.useContext(rk),c=T.useContext(qX),u=T.useContext(ZN),l=T.useContext(Q2).reducedMotion,d=T.useRef(null),f=T.useRef(!1);n=n||c.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:l,isSVG:a}),f.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const m=d.current,p=T.useContext(rZ);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&f0e(d.current,r,i,p);const g=T.useRef(!1);T.useInsertionEffect(()=>{m&&g.current&&m.update(r,u)});const x=r[uX],y=T.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return B3(()=>{f.current=!0,m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),y.current&&m.animationState&&m.animationState.animateChanges())}),T.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),y.current=!1),m.enteringChildren=void 0)}),m}function f0e(t,e,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:l,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:nZ(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&Lw(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:u,layoutRoot:l})}function nZ(t){if(t)return t.options.allowProjection!==!1?t.projection:nZ(t.parent)}function b4(t,{forwardMotionProps:e=!1,type:r}={},n,i){n&&Wge(n);const a=r?r==="svg":oD(t),o=a?c0e:l0e;function c(l,d){let f;const m={...T.useContext(Q2),...l,layoutId:m0e(l)},{isStatic:p}=m,g=Jge(l),x=o(l,p);if(!p&&jq){A0e();const y=p0e(m);f=y.MeasureLayout,g.visualElement=h0e(t,x,m,i,y.ProjectionNode,a)}return s.jsxs(rk.Provider,{value:g,children:[f&&g.visualElement?s.jsx(f,{visualElement:g.visualElement,...m}):null,s0e(t,l,d0e(x,g.visualElement,d),x,p,e,a)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=T.forwardRef(c);return u[u0e]=t,u}function m0e({layoutId:t}){const e=T.useContext(I3).id;return e&&t!==void 0?e+"-"+t:t}function A0e(t,e){T.useContext(qX).strict}function p0e(t){const e=XX(),{drag:r,layout:n}=e;if(!r&&!n)return{};const i={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function g0e(t,e){if(typeof Proxy>"u")return b4;const r=new Map,n=(a,o)=>b4(a,o,t,e),i=(a,o)=>n(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?n:(r.has(o)||r.set(o,b4(o,void 0,t,e)),r.get(o))})}const v0e=(t,e)=>e.isSVG??oD(t)?new qpe(e):new zpe(e,{allowProjection:t!==T.Fragment});class x0e extends q0{constructor(e){super(e),e.animationState||(e.animationState=tge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ek(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let y0e=0;class b0e extends q0{constructor(){super(...arguments),this.id=y0e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const w0e={animation:{Feature:x0e},exit:{Feature:b0e}};function z2(t){return{point:{x:t.pageX,y:t.pageY}}}const E0e=t=>e=>tD(e)&&t(e,z2(e));function hE(t,e,r,n){return UE(t,e,E0e(r),n)}const iZ=({current:t})=>t?t.ownerDocument.defaultView:null,a$=(t,e)=>Math.abs(t-e);function _0e(t,e){const r=a$(t.x,e.x),n=a$(t.y,e.y);return Math.sqrt(r**2+n**2)}const o$=new Set(["auto","scroll"]);class sZ{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=E4(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=_0e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:y}=p,{timestamp:w}=Ud;this.history.push({...y,timestamp:w});const{onStart:E,onMove:_}=this.handlers;g||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=w4(g,this.transformPagePoint),dl.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:w}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=E4(p.type==="pointercancel"?this.lastMoveEventInfo:w4(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,E),y&&y(p,E)},!tD(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=i||window;const u=z2(e),l=w4(u,this.transformPagePoint),{point:d}=l,{timestamp:f}=Ud;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,E4(l,this.history)),this.removeListeners=U2(hE(this.contextWindow,"pointermove",this.handlePointerMove),hE(this.contextWindow,"pointerup",this.handlePointerUp),hE(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(o$.has(n.overflowX)||o$.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,i=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:i.x-r.x,y:i.y-r.y};a.x===0&&a.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,i),dl.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),tg(this.updatePoint)}}function w4(t,e){return e?{point:e(t.point)}:t}function l$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function E4({point:t},e){return{point:t,delta:l$(t,aZ(e)),offset:l$(t,S0e(e)),velocity:j0e(e,.1)}}function S0e(t){return t[0]}function aZ(t){return t[t.length-1]}function j0e(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=aZ(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Vp(e)));)r--;if(!n)return{x:0,y:0};const a=em(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function T0e(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Ac(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Ac(r,t,n.max):Math.min(t,r)),t}function c$(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function C0e(t,{top:e,left:r,bottom:n,right:i}){return{x:c$(t.x,r,i),y:c$(t.y,e,n)}}function u$(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function N0e(t,e){return{x:u$(t.x,e.x),y:u$(t.y,e.y)}}function k0e(t,e){let r=.5;const n=yh(t),i=yh(e);return i>n?r=RE(e.min,e.max-n,t.min):n>i&&(r=RE(t.min,t.max-i,e.min)),WA(0,1,r)}function L0e(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const iP=.35;function I0e(t=iP){return t===!1?t=0:t===!0&&(t=iP),{x:d$(t,"left","right"),y:d$(t,"top","bottom")}}function d$(t,e,r){return{min:h$(t,e),max:h$(t,r)}}function h$(t,e){return typeof t=="number"?t:t[e]||0}const B0e=new WeakMap;class P0e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fu(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{r?(this.stopAnimation(),this.snapToCursor(z2(f).point)):this.pauseAnimation()},o=(f,m)=>{this.stopAnimation();const{drag:p,dragPropagation:g,onDragStart:x}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xpe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wf(w=>{let E=this.getAxisMotionValue(w).get()||0;if(zA.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[w];N&&(E=yh(N)*(parseFloat(E)/100))}}this.originPoint[w]=E}),x&&dl.postRender(()=>x(f,m)),qB(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},c=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:x,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:w}=m;if(g&&this.currentDirection===null){this.currentDirection=O0e(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),y&&y(f,m)},u=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>Wf(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new sZ(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:iZ(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&dl.postRender(()=>c(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!X_(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=T0e(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Lw(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=C0e(n.layoutBox,e):this.constraints=!1,this.elastic=I0e(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Wf(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=L0e(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Lw(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Mpe(n,i.root,this.visualElement.getTransformPagePoint());let o=N0e(i.layout.layoutBox,a);if(r){const c=r(Ope(o));this.hasMutatedConstraints=!!c,c&&(o=TX(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},l=Wf(d=>{if(!X_(d,r,this.currentDirection))return;let f=u&&u[d]||{};o&&(f={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:n?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(l).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return qB(this.visualElement,e),n.start(q3(e,n,0,r,this.visualElement,!1))}stopAnimation(){Wf(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wf(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Wf(r=>{const{drag:n}=this.getProps();if(!X_(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[r],u=a.get()||0;a.set(e[r]-Ac(o,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Lw(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wf(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();i[o]=k0e({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Wf(o=>{if(!X_(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:l}=this.constraints[o];c.set(Ac(u,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;B0e.set(this.visualElement,this);const e=this.visualElement.current,r=hE(e,"pointerdown",u=>{const{drag:l,dragListener:d=!0}=this.getProps(),f=u.target,m=f!==e&&bX(f);l&&d&&!m&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Lw(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),dl.read(n);const o=UE(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(Wf(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())}));return()=>{o(),r(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=iP,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function X_(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function O0e(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class R0e extends q0{constructor(e){super(e),this.removeGroupControls=rm,this.removeListeners=rm,this.controls=new P0e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rm}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const f$=t=>(e,r)=>{t&&dl.postRender(()=>t(e,r))};class D0e extends q0{constructor(){super(...arguments),this.removePointerDownListener=rm}onPointerDown(e){this.session=new sZ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iZ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:f$(e),onStart:f$(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&dl.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=hE(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _4=!1;class M0e extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),_4&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),uj.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:o}=n;return o&&(o.isPresent=a,e.layoutDependency!==r&&o.setOptions({...o.options,layoutDependency:r}),_4=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||dl.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),eD.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;_4=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oZ(t){const[e,r]=YX(),n=T.useContext(I3);return s.jsx(M0e,{...t,layoutGroup:n,switchLayoutGroup:T.useContext(rZ),isPresent:e,safeToRemove:r})}const F0e={pan:{Feature:D0e},drag:{Feature:R0e,ProjectionNode:WX,MeasureLayout:oZ}};function m$(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&dl.postRender(()=>a(e,z2(e)))}class U0e extends q0{mount(){const{current:e}=this.node;e&&(this.unmount=ype(e,(r,n)=>(m$(this.node,n,"Start"),i=>m$(this.node,i,"End"))))}unmount(){}}class $0e extends q0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=U2(UE(this.node.current,"focus",()=>this.onFocus()),UE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A$(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&dl.postRender(()=>a(e,z2(e)))}class H0e extends q0{mount(){const{current:e}=this.node;e&&(this.unmount=Epe(e,(r,n)=>(A$(this.node,n,"Start"),(i,{success:a})=>A$(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sP=new WeakMap,S4=new WeakMap,Q0e=t=>{const e=sP.get(t.target);e&&e(t)},z0e=t=>{t.forEach(Q0e)};function V0e({root:t,...e}){const r=t||document;S4.has(r)||S4.set(r,{});const n=S4.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(z0e,{root:t,...e})),n[i]}function K0e(t,e,r){const n=V0e(e);return sP.set(t,r),n.observe(t),()=>{sP.delete(t),n.unobserve(t)}}const G0e={some:0,all:1};class W0e extends q0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:G0e[i]},c=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,a&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=l?d:f;m&&m(u)};return K0e(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Y0e(e,r))&&this.startObserver()}unmount(){}}function Y0e({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const q0e={inView:{Feature:W0e},tap:{Feature:H0e},focus:{Feature:$0e},hover:{Feature:U0e}},X0e={layout:{ProjectionNode:WX,MeasureLayout:oZ}},Z0e={...w0e,...q0e,...F0e,...X0e},Fr=g0e(Z0e,v0e);function lZ(t){const e=F2(()=>yx(t)),{isStatic:r}=T.useContext(Q2);if(r){const[,n]=T.useState(t);T.useEffect(()=>e.on("change",n),[])}return e}function cZ(t,e){const r=lZ(e()),n=()=>r.set(e());return n(),B3(()=>{const i=()=>dl.preRender(n,!1,!0),a=t.map(o=>o.on("change",i));return()=>{a.forEach(o=>o()),tg(n)}}),r}function J0e(t){uE.current=[],t();const e=cZ(uE.current,t);return uE.current=void 0,e}function uZ(t,e,r,n){if(typeof t=="function")return J0e(t);const a=typeof e=="function"?e:Spe(e,r,n);return Array.isArray(t)?p$(t,a):p$([t],([o])=>a(o))}function p$(t,e){const r=F2(()=>[]);return cZ(t,()=>{r.length=0;const n=t.length;for(let i=0;i<n;i++)r[i]=t[i].get();return e(r)})}function eve(t,e={}){const{isStatic:r}=T.useContext(Q2),n=()=>gd(t)?t.get():t;if(r)return uZ(n);const i=lZ(n());return T.useInsertionEffect(()=>jpe(i,t,e),[i,JSON.stringify(e)]),i}function tve(t,e={}){return eve(t,{type:"spring",...e})}const g$=[{path:"/",label:"Home"},{path:"/work-with-us",label:"Work With Us"},{path:"/work",label:"Our Work"},{path:"/content",label:"Athlete Content Order"},{path:"/contact",label:"Contact"}],rve=()=>{const[t,e]=T.useState(!1),[r,n]=T.useState(!1),i=kf();return T.useEffect(()=>{const a=()=>n(window.scrollY>20);return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]),T.useEffect(()=>{e(!1)},[i]),s.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${r?"bg-dark-950/95 backdrop-blur-md border-b border-gray-800/50 shadow-lg":"bg-transparent"}`,children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:s.jsxs("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[s.jsx(ss,{to:"/",className:"flex items-center gap-2 group",children:s.jsxs("span",{className:"text-xl sm:text-2xl font-black tracking-wider",children:[s.jsx("span",{className:"text-gradient",children:"FIT FOCUS"})," ",s.jsx("span",{className:"text-white group-hover:text-primary-400 transition-colors",children:"MEDIA"})]})}),s.jsxs("div",{className:"hidden md:flex items-center gap-1",children:[g$.map(a=>s.jsx(ss,{to:a.path,className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${i.pathname===a.path?"text-primary-400 bg-primary-600/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:a.label},a.path)),s.jsx(ss,{to:"/portal",className:"ml-2 px-4 py-2 text-sm font-semibold text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:"Portal"}),s.jsx(ss,{to:"/proposal",className:"ml-1 px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg text-sm transition-all hover:scale-105",children:"Get Started"})]}),s.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-2 text-gray-300 hover:text-white",children:t?s.jsx($0,{className:"w-6 h-6"}):s.jsx(xq,{className:"w-6 h-6"})})]})}),s.jsx(Kp,{children:t&&s.jsx(Fr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-dark-950/98 backdrop-blur-md border-b border-gray-800",children:s.jsxs("div",{className:"px-4 py-4 space-y-1",children:[g$.map(a=>s.jsx(ss,{to:a.path,className:`block px-4 py-3 rounded-lg text-base font-semibold transition-all ${i.pathname===a.path?"text-primary-400 bg-primary-600/10":"text-gray-300 hover:text-white hover:bg-white/5"}`,children:a.label},a.path)),s.jsx(ss,{to:"/portal",className:"block px-4 py-3 rounded-lg text-base font-semibold text-gray-400 hover:text-white hover:bg-white/5 transition-all",children:"Portal"}),s.jsx(ss,{to:"/proposal",className:"block mt-3 px-4 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg text-center transition-all",children:"Get Your Free Analysis"})]})})})]})},nve=()=>s.jsx("footer",{className:"bg-dark-950 border-t border-gray-800",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-16",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 sm:gap-12",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ss,{to:"/",className:"inline-block mb-4",children:s.jsxs("span",{className:"text-2xl font-black tracking-wider",children:[s.jsx("span",{className:"text-gradient",children:"FIT FOCUS"})," ",s.jsx("span",{className:"text-white",children:"MEDIA"})]})}),s.jsx("p",{className:"text-gray-400 text-sm leading-relaxed max-w-md mb-6",children:"Professional live production for combat sports. We produce your events at zero cost and help you unlock new revenue streams through PPV, content, and sponsorship opportunities."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("a",{href:"https://instagram.com/fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:s.jsx(XN,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})}),s.jsx("a",{href:"https://youtube.com/@fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:s.jsx(Sq,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})}),s.jsx("a",{href:"https://facebook.com/FitFocusMedia",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-dark-800 hover:bg-primary-600/20 border border-gray-700 hover:border-primary-600 rounded-lg flex items-center justify-center transition-all",children:s.jsx(M2,{className:"w-5 h-5 text-gray-400 hover:text-primary-400"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold mb-4",children:"Quick Links"}),s.jsx("ul",{className:"space-y-2",children:[{to:"/services",label:"Services"},{to:"/work",label:"Our Work"},{to:"/proposal",label:"Free Analysis"},{to:"/contact",label:"Contact"},{to:"/privacy",label:"Privacy Policy"},{to:"/terms",label:"Terms of Service"}].map(t=>s.jsx("li",{children:s.jsx(ss,{to:t.to,className:"text-gray-400 hover:text-primary-400 text-sm transition-colors",children:t.label})},t.to))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold mb-4",children:"Contact"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au",className:"flex items-center gap-2 text-gray-400 hover:text-primary-400 text-sm transition-colors",children:[s.jsx(nu,{className:"w-4 h-4"}),"info@fitfocusmedia.com.au"]}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Based in Queensland, Australia"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Servicing events Australia-wide + International"})]})]})]}),s.jsxs("div",{className:"mt-12 pt-6 border-t border-gray-800 flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-gray-500 text-xs",children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-gray-600 text-xs",children:"Professional Combat Sports Production"}),s.jsxs("p",{className:"text-gray-700 text-[10px] mt-1",children:["v","260226.1342"]})]})]})]})}),Ts="/",j4=[`${Ts}images/hero/aggression-hero-1.jpg`,`${Ts}images/hero/aggression-hero-2.jpg`,`${Ts}images/hero/aggression-hero-3.jpg`,`${Ts}images/hero/wng1-hero-1.jpg`,`${Ts}images/hero/wng1-hero-2.jpg`],Oc={wng1:[{src:`${Ts}images/events/wng1/wng1-01226.jpg`,alt:"WNG1 Grappling Action",category:"events"},{src:`${Ts}images/events/wng1/wng1-01675.jpg`,alt:"WNG1 Competition",category:"events"},{src:`${Ts}images/events/wng1/wng1-02953.jpg`,alt:"WNG1 Match",category:"events"},{src:`${Ts}images/events/wng1/wng1-05237.jpg`,alt:"WNG1 Event Atmosphere",category:"events"},{src:`${Ts}images/events/wng1/wng1-02527.jpg`,alt:"WNG1 Action Shot",category:"events"},{src:`${Ts}images/events/wng1/wng1-01588.jpg`,alt:"WNG1 Grappling",category:"events"}],wng2:[{src:`${Ts}images/events/wng2/wng2-09820.jpg`,alt:"WNG2 Competition",category:"events"},{src:`${Ts}images/events/wng2/wng2-08613.jpg`,alt:"WNG2 Grappling Action",category:"events"},{src:`${Ts}images/events/wng2/wng2-01906.jpg`,alt:"WNG2 Match",category:"events"},{src:`${Ts}images/events/wng2/wng2-09420.jpg`,alt:"WNG2 Event",category:"events"},{src:`${Ts}images/events/wng2/wng2-07770.jpg`,alt:"WNG2 Action",category:"events"},{src:`${Ts}images/events/wng2/wng2-09170.jpg`,alt:"WNG2 Competition",category:"events"}],aggression:[{src:`${Ts}images/events/aggression/aggression-06388.jpg`,alt:"Aggression Muay Thai Fight",category:"events"},{src:`${Ts}images/events/aggression/aggression-06742.jpg`,alt:"Aggression Ring Action",category:"events"},{src:`${Ts}images/events/aggression/aggression-06140.jpg`,alt:"Aggression Muay Thai",category:"events"},{src:`${Ts}images/events/aggression/aggression-05876.jpg`,alt:"Aggression Fight Night",category:"events"},{src:`${Ts}images/events/aggression/aggression-06843.jpg`,alt:"Aggression MT Event",category:"events"}],athletes:[{src:`${Ts}images/athletes/wng1-promo/athlete-00666.jpg`,alt:"Athlete Promo - WNG1",category:"athletes"},{src:`${Ts}images/athletes/wng1-promo/athlete-00559.jpg`,alt:"Fighter Portrait",category:"athletes"},{src:`${Ts}images/athletes/wng1-promo/athlete-00669.jpg`,alt:"Athlete Promo Shot",category:"athletes"},{src:`${Ts}images/athletes/wng1-promo/athlete-00601.jpg`,alt:"Fighter Promo",category:"athletes"},{src:`${Ts}images/athletes/wng1-promo/athlete-00692.jpg`,alt:"WNG1 Fighter",category:"athletes"},{src:`${Ts}images/athletes/wng1-promo/athlete-00485.jpg`,alt:"Athlete Portrait",category:"athletes"},{src:`${Ts}images/athletes/wng2-promo/athlete-06134.jpg`,alt:"WNG2 Athlete Promo",category:"athletes"},{src:`${Ts}images/athletes/wng2-promo/athlete-06092.jpg`,alt:"WNG2 Fighter Portrait",category:"athletes"},{src:`${Ts}images/athletes/wng2-promo/athlete-05913.jpg`,alt:"WNG2 Promo Shot",category:"athletes"},{src:`${Ts}images/athletes/wng2-promo/athlete-06067.jpg`,alt:"WNG2 Athlete",category:"athletes"},{src:`${Ts}images/athletes/wng2-promo/athlete-06031.jpg`,alt:"Fighter Promo WNG2",category:"athletes"},{src:`${Ts}images/athletes/wng2-promo/athlete-05884.jpg`,alt:"WNG2 Fighter",category:"athletes"},{src:`${Ts}images/athletes/headshots/headshot-00670.jpg`,alt:"Professional Headshot",category:"athletes"},{src:`${Ts}images/athletes/headshots/headshot-00667.jpg`,alt:"Gi Headshot",category:"athletes"},{src:`${Ts}images/athletes/headshots/headshot-00669.jpg`,alt:"Athlete Headshot",category:"athletes"},{src:`${Ts}images/athletes/headshots/headshot-00678.jpg`,alt:"BJJ Headshot",category:"athletes"}],gym:[{src:`${Ts}images/gym/bjj/bjj-08397.jpg`,alt:"One Purpose BJJ Training",category:"promo"},{src:`${Ts}images/gym/bjj/bjj-08410.jpg`,alt:"BJJ Class",category:"promo"},{src:`${Ts}images/gym/bjj/bjj-08478.jpg`,alt:"BJJ Training Environment",category:"promo"},{src:`${Ts}images/gym/bjj/bjj-08390.jpg`,alt:"One Purpose BJJ",category:"promo"},{src:`${Ts}images/gym/bjj/bjj-08467.jpg`,alt:"BJJ Rolling",category:"promo"},{src:`${Ts}images/gym/stuart/stuart-06855.jpg`,alt:"Fight House Industries",category:"promo"},{src:`${Ts}images/gym/stuart/stuart-07156.jpg`,alt:"Fight House Training",category:"promo"},{src:`${Ts}images/gym/stuart/stuart-04954.jpg`,alt:"Gym Environment",category:"promo"},{src:`${Ts}images/gym/stuart/stuart-07504.jpg`,alt:"Class Photos",category:"promo"},{src:`${Ts}images/gym/stuart/stuart-07260.jpg`,alt:"Training Session",category:"promo"}]},v$=[...Oc.wng1,...Oc.wng2,...Oc.aggression,...Oc.athletes,...Oc.gym],ive=[Oc.aggression[0],Oc.wng1[0],Oc.athletes[0],Oc.wng2[0],Oc.gym[0],Oc.wng1[2],Oc.athletes[6],Oc.aggression[3]],sve=[{id:"wng1",name:"Who's Next Grappling",shortName:"WNG1",description:"Professional grappling event coverage with multi-camera production and athlete promo shoots.",images:Oc.wng1,tags:["Event","Grappling","Live Production"]},{id:"wng2",name:"Who's Next Grappling 2",shortName:"WNG2",description:"Second edition of WNG featuring expanded coverage, athlete content packages, and PPV streaming.",images:Oc.wng2,tags:["Event","Grappling","PPV"]},{id:"aggression",name:"Aggression Muay Thai",shortName:"Aggression MT",description:"High-energy Muay Thai fight night with dramatic ring-side photography and broadcast production.",images:Oc.aggression,tags:["Event","Muay Thai","Fight Night"]},{id:"athletes",name:"Athlete Promo Shoots",shortName:"Athletes",description:"Professional athlete portraits and promotional imagery for fighters across multiple events.",images:Oc.athletes,tags:["Athletes","Portraits","Promo"]},{id:"gym",name:"Gym & Training",shortName:"Gym/Training",description:"Training environment photography for gyms including One Purpose BJJ and Fight House Industries.",images:Oc.gym,tags:["Gym","Training","Content"]}],ave=()=>{const[t,e]=T.useState(0);return T.useEffect(()=>{const r=setInterval(()=>{e(n=>(n+1)%j4.length)},5e3);return()=>clearInterval(r)},[]),s.jsxs("div",{children:[s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[j4.map((r,n)=>s.jsx("div",{className:"absolute inset-0 transition-opacity duration-1000",style:{opacity:n===t?1:0},children:s.jsx("img",{src:r,alt:"",className:"w-full h-full object-cover",loading:n===0?"eager":"lazy"})},r)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-dark-950/70 via-dark-950/60 to-dark-950/90"}),s.jsxs("div",{className:"relative z-10 text-center px-4 sm:px-6 max-w-6xl mx-auto py-20",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsxs(Fr.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"text-5xl sm:text-6xl md:text-8xl font-black mb-6 leading-tight",children:[s.jsx("span",{className:"text-gradient",children:"FIT FOCUS"}),s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"MEDIA"})]}),s.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:[s.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-200 mb-4 max-w-3xl mx-auto font-semibold",children:"Professional Live Production for Combat Sports"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 mb-10 max-w-2xl mx-auto",children:"Zero-cost production  You earn revenue from PPV  Professional broadcast quality"})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(ss,{to:"/proposal",className:"group px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow inline-flex items-center justify-center gap-3",children:["Get Your Free Analysis",s.jsx($h,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(ss,{to:"/work",className:"px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold rounded-lg text-lg transition-all border border-white/20 hover:border-white/40 inline-flex items-center justify-center gap-3",children:"View Our Work"}),s.jsx(ss,{to:"/book",className:"px-8 py-4 bg-accent-600 hover:bg-accent-700 text-white font-bold rounded-lg text-lg transition-all inline-flex items-center justify-center gap-3 hover:scale-105",children:" Book a Call"})]})]}),s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:j4.map((r,n)=>s.jsx("button",{onClick:()=>e(n),className:`w-2 h-2 rounded-full transition-all ${n===t?"bg-primary-500 w-6":"bg-white/40 hover:bg-white/60"}`},n))})]})]}),s.jsx("section",{className:"bg-dark-900 border-y border-gray-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 sm:gap-8",children:[{icon:qN,value:"25+",label:"Live Events Covered"},{icon:p1,value:"4",label:"Countries Worldwide"},{icon:sh,value:"50K+",label:"Viewers Reached"},{icon:Tf,value:"100%",label:"Client Satisfaction"}].map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"text-center",children:[s.jsx(r.icon,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-500 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-primary-500",children:r.value}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:r.label})]},n))})})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:s.jsx("span",{className:"text-gradient",children:"What We Do"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"End-to-end media production designed specifically for combat sports promotions"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[{icon:Eh,title:"Live Streaming & PPV",description:"Professional multi-camera broadcast production with PPV platform setup and management. We handle the tech  you focus on the event.",features:["Multi-camera production","PPV platform management","Live graphics & overlays","Instant replay capability"]},{icon:PE,title:"Event Photography",description:"Ring-side action shots, athlete portraits, crowd atmosphere, and winners ceremony  delivered as a complete digital gallery.",features:["Full event coverage","Action photography","Athlete portraits","Same-week delivery"]},{icon:nm,title:"Content Production",description:"Social media highlights, fight recaps, promotional content, and ongoing content strategy to grow your audience between events.",features:["Social media clips","Highlight reels","Fighter promo content","Content strategy"]}].map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.15},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 hover:border-primary-600/50 transition-all hover-lift group",children:[s.jsx("div",{className:"w-14 h-14 bg-primary-600/20 rounded-xl flex items-center justify-center mb-6 group-hover:bg-primary-600/30 transition-colors",children:s.jsx(r.icon,{className:"w-7 h-7 text-primary-500"})}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:r.title}),s.jsx("p",{className:"text-gray-400 text-sm sm:text-base mb-4 leading-relaxed",children:r.description}),s.jsx("ul",{className:"space-y-2",children:r.features.map((i,a)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full"}),i]},a))})]},n))}),s.jsx("div",{className:"text-center mt-10",children:s.jsxs(ss,{to:"/services",className:"inline-flex items-center gap-2 text-primary-400 hover:text-primary-300 font-semibold transition-colors",children:["View All Services ",s.jsx($h,{className:"w-4 h-4"})]})})]})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:s.jsx("span",{className:"text-gradient",children:"Featured Work"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"From ring-side action to athlete promo shoots  see what professional media coverage looks like"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:ive.map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{delay:n*.05},className:`gallery-item rounded-xl overflow-hidden cursor-pointer ${n===0||n===3?"md:row-span-2":""}`,children:[s.jsx("img",{src:r.src,alt:r.alt,className:"w-full h-full object-cover min-h-[200px]",loading:"lazy"}),s.jsx("div",{className:"overlay flex items-end p-4",children:s.jsx("p",{className:"text-white text-sm font-semibold",children:r.alt})})]},n))}),s.jsx("div",{className:"text-center mt-10",children:s.jsxs(ss,{to:"/work",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-105",children:["View Full Portfolio ",s.jsx($h,{className:"w-4 h-4"})]})})]})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:s.jsx("span",{className:"text-gradient",children:"How It Works"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"Professional production at zero cost. Here's our model."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[{step:"01",title:"We Produce Your Event",description:"Full professional multi-camera production, live switching, graphics, and streaming setup  completely handled by our team.",color:"from-primary-600 to-orange-600"},{step:"02",title:"Fans Purchase PPV",description:"Your audience buys PPV access at $20-30. We handle the platform, payment processing, and viewer experience.",color:"from-orange-600 to-amber-600"},{step:"03",title:"You Earn Revenue",description:"You receive a share of every PPV sale. Zero upfront cost, zero risk  just new revenue from viewers you weren't reaching before.",color:"from-amber-600 to-green-600"}].map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.2},className:"text-center",children:[s.jsx("div",{className:`inline-flex items-center justify-center w-20 h-20 rounded-2xl bg-gradient-to-br ${r.color} mb-6`,children:s.jsx("span",{className:"text-3xl font-black text-white",children:r.step})}),s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:r.title}),s.jsx("p",{className:"text-gray-400 text-sm sm:text-base leading-relaxed",children:r.description})]},n))}),s.jsx(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mt-12 sm:mt-16 max-w-3xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-xl p-6 sm:p-8 text-center",children:[s.jsx(Wh,{className:"w-10 h-10 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-3",children:"Your Cost: $0"}),s.jsx("p",{className:"text-gray-300 text-sm sm:text-base leading-relaxed max-w-xl mx-auto",children:"We cover all production costs. You pay nothing upfront. You earn revenue from PPV sales that you weren't making before. It's literally free money + professional coverage."})]})})]})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsx("div",{className:"flex justify-center mb-6",children:[1,2,3,4,5].map(r=>s.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},r))}),s.jsx("blockquote",{className:"text-xl sm:text-2xl md:text-3xl text-gray-200 font-semibold italic mb-6 leading-relaxed",children:'"Professional coverage, quick turnaround on highlights, and our sponsors loved the exposure. The zero-cost model meant we could invest in growing other areas of our event."'}),s.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:" Combat Sports Promoter, QLD"})]})})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-6",children:["Ready to ",s.jsx("span",{className:"text-gradient",children:"Elevate Your Event?"})]}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 mb-8 max-w-2xl mx-auto",children:"Get a free analysis of your organization and see exactly how much revenue professional media coverage could generate. Zero commitment."}),s.jsxs(ss,{to:"/proposal",className:"group inline-flex items-center gap-3 px-10 py-5 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-xl transition-all hover:scale-105 card-glow",children:["Get Your Free Analysis",s.jsx($h,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Takes 2 minutes  No commitment required"})]})})})]})},ove=[{id:"livestream",icon:Eh,title:"Live Stream & PPV Production",tagline:"Broadcast-quality live production at zero cost",description:"We handle everything  from multi-camera setup and live switching to PPV platform management and viewer experience. Your audience gets a professional broadcast; you get revenue.",image:Oc.wng1[0].src,features:["Professional multi-camera production (1-4 cameras)","PTZ cameras for dynamic angles","Live switching and production","Custom broadcast graphics and overlays","Instant replay capability","PPV platform setup and management","Payment processing and viewer analytics","Full show recording for VOD"],highlight:"Zero upfront cost  we earn from production, you earn from PPV revenue share."},{id:"photography",icon:PE,title:"Event Photography & Videography",tagline:"Every moment captured in stunning detail",description:"Dedicated ring-side photographers capturing the intensity of every fight, the emotion of every victory, and the atmosphere of your entire event. Delivered as a complete digital gallery.",image:Oc.aggression[0].src,features:["Full event coverage from doors to finish","Ring-side action photography","Athlete portraits and walk-outs","Winners and awards ceremony","Crowd and atmosphere shots","Behind-the-scenes content","Complete digital gallery delivery","Same-week turnaround"],highlight:"Professional photography that athletes share, sponsors love, and audiences remember."},{id:"content",icon:nm,title:"Content Packages",tagline:"Social media content that grows your audience",description:"From event highlight reels to fighter promo clips, we create content designed for maximum reach. Short-form vertical edits for Reels/TikTok, YouTube-ready highlights, and everything in between.",image:Oc.athletes[0].src,features:["5-10 social media clips per event","Event highlight reel (3-5 minutes)","Short-form vertical edits (Reels/TikTok)","Individual fight/match recordings","Fighter promo content","Custom fight banner graphics","Same-day highlight delivery","YouTube-ready formats"],highlight:"Content that keeps your promotion visible 365 days a year  not just on event night."},{id:"strategy",icon:Eq,title:"Ongoing Content Strategy",tagline:"Build a media empire around your promotion",description:"Monthly content calendars, audience growth strategy, between-event content creation, and analytics-driven optimization. We become your dedicated media team.",image:Oc.gym[5].src,features:["Monthly content calendar","Audience growth strategy","Between-event content creation","Analytics and performance tracking","Platform optimization (IG, YouTube, TikTok)","Dedicated account manager","Sponsor integration strategy","Quarterly performance reviews"],highlight:"From promoter to media brand  we help you build an audience that sells out every event."}],lve=()=>s.jsxs("div",{className:"pt-20 sm:pt-24",children:[s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:s.jsx("span",{className:"text-gradient",children:"Our Services"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"End-to-end media production built specifically for combat sports. From live broadcast to athlete content  we've got every angle covered."}),s.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-900/30 border border-green-600/50 px-5 py-3 rounded-full",children:[s.jsx(Kb,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-green-300 font-semibold text-sm sm:text-base",children:"Live stream production available at zero cost"})]})]})})}),ove.map((t,e)=>s.jsx("section",{className:`py-12 sm:py-20 px-4 sm:px-6 ${e%2===1?"bg-dark-900/50":""}`,children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center ${e%2===1?"lg:flex-row-reverse":""}`,children:[s.jsx(Fr.div,{initial:{opacity:0,x:e%2===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`${e%2===1?"lg:order-2":""}`,children:s.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-700",children:s.jsx("img",{src:t.image,alt:t.title,className:"w-full h-[300px] sm:h-[400px] object-cover",loading:"lazy"})})}),s.jsxs(Fr.div,{initial:{opacity:0,x:e%2===0?30:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:`${e%2===1?"lg:order-1":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-xl flex items-center justify-center",children:s.jsx(t.icon,{className:"w-6 h-6 text-primary-500"})}),s.jsx("span",{className:"text-primary-400 text-sm font-bold uppercase tracking-wider",children:t.tagline})]}),s.jsx("h2",{className:"text-3xl sm:text-4xl font-black text-white mb-4",children:t.title}),s.jsx("p",{className:"text-gray-400 text-base sm:text-lg mb-6 leading-relaxed",children:t.description}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-6",children:t.features.map((r,n)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(to,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-1"}),s.jsx("span",{className:"text-gray-300 text-sm",children:r})]},n))}),s.jsx("div",{className:"p-4 bg-primary-600/10 border border-primary-600/30 rounded-lg mb-6",children:s.jsxs("p",{className:"text-primary-300 text-sm font-semibold",children:[" ",t.highlight]})})]})]})})},t.id)),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6 bg-dark-900/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12 sm:mb-16",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:s.jsx("span",{className:"text-gradient",children:"Tailored Packages"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"Every promotion is different. Our proposal tool analyzes your organization and recommends the perfect package."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 max-w-5xl mx-auto",children:[{name:"Essentials",range:"$1,500 - $2,500",desc:"Core add-ons on top of free production",features:["Free live stream production","Fight recordings","Social media clips","Custom graphics"]},{name:"Professional",range:"$3,000 - $4,000",desc:"Everything you need to level up",features:["Everything in Essentials","Event photography","Premium camera setup","Highlight reels"],popular:!0},{name:"Broadcast",range:"$4,500 - $6,500",desc:"Full media partnership",features:["Everything in Professional","Ongoing content strategy","Dedicated account manager","Priority scheduling"]}].map((t,e)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.15},className:`bg-dark-800 border-2 rounded-xl p-6 sm:p-8 relative ${t.popular?"border-primary-600 card-glow":"border-gray-700"}`,children:[t.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("span",{className:"bg-primary-600 text-white text-xs font-bold px-4 py-1 rounded-full",children:"MOST POPULAR"})}),s.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:t.name}),s.jsx("p",{className:"text-primary-400 font-bold text-lg mb-2",children:t.range}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:t.desc}),s.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((r,n)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-300",children:[s.jsx(to,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),r]},n))})]},e))}),s.jsxs("div",{className:"text-center mt-10",children:[s.jsxs(ss,{to:"/proposal",className:"group inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Custom Package",s.jsx($h,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Our proposal tool will recommend the perfect package for your organization"})]})]})})]}),cve=[{id:"all",label:"All"},{id:"events",label:"Events"},{id:"athletes",label:"Athletes"},{id:"promo",label:"Promo"}],uve=()=>{const[t,e]=T.useState("all"),[r,n]=T.useState(null),[i,a]=T.useState(null),[o,c]=T.useState(0),[u,l]=T.useState([]),d=t==="all"?v$:v$.filter(x=>x.category===t),f=(x,y)=>{l(x),c(y),a(x[y])},m=()=>{a(null),l([])},p=()=>{const x=(o+1)%u.length;c(x),a(u[x])},g=()=>{const x=(o-1+u.length)%u.length;c(x),a(u[x])};return s.jsxs("div",{className:"pt-20 sm:pt-24",children:[s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:s.jsx("span",{className:"text-gradient",children:"Our Work"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto",children:"From grappling events to Muay Thai fight nights, athlete promo shoots to gym content  see how we capture the intensity of combat sports."})]})})}),s.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white mb-8",children:"Projects"}),s.jsx("div",{className:"space-y-6",children:sve.map((x,y)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:y*.1},className:"bg-dark-800 border border-gray-700 rounded-xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>n(r===x.id?null:x.id),className:"w-full flex flex-col sm:flex-row items-start sm:items-center gap-4 p-5 sm:p-6 text-left hover:bg-dark-900/30 transition-colors",children:[s.jsx("div",{className:"w-full sm:w-24 h-32 sm:h-24 rounded-lg overflow-hidden flex-shrink-0",children:s.jsx("img",{src:x.images[0].src,alt:x.name,className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:x.name}),s.jsxs("span",{className:"text-xs bg-primary-600/20 text-primary-400 px-2 py-1 rounded-full font-semibold",children:[x.images.length," photos"]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:x.description}),s.jsx("div",{className:"flex gap-2",children:x.tags.map(w=>s.jsx("span",{className:"text-xs bg-dark-900 text-gray-400 px-2 py-1 rounded border border-gray-700",children:w},w))})]}),s.jsx("div",{className:"text-primary-400",children:s.jsx(Fr.div,{animate:{rotate:r===x.id?90:0},transition:{duration:.2},children:s.jsx($h,{className:"w-5 h-5"})})})]}),s.jsx(Kp,{children:r===x.id&&s.jsx(Fr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:s.jsx("div",{className:"px-5 sm:px-6 pb-6 border-t border-gray-700 pt-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:x.images.map((w,E)=>s.jsxs("div",{onClick:()=>f(x.images,E),className:"gallery-item rounded-lg overflow-hidden cursor-pointer aspect-[4/3]",children:[s.jsx("img",{src:w.src,alt:w.alt,className:"w-full h-full object-cover",loading:"lazy"}),s.jsx("div",{className:"overlay"})]},E))})})})})]},x.id))})]})}),s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-dark-900/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white",children:"Full Gallery"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(L3,{className:"w-4 h-4 text-gray-500"}),cve.map(x=>s.jsx("button",{onClick:()=>e(x.id),className:`px-4 py-2 rounded-lg text-sm font-semibold transition-all ${t===x.id?"bg-primary-600 text-white":"bg-dark-800 text-gray-400 hover:text-white border border-gray-700"}`,children:x.label},x.id))]})]}),s.jsx(Fr.div,{layout:!0,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:s.jsx(Kp,{mode:"popLayout",children:d.map((x,y)=>s.jsxs(Fr.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},onClick:()=>f(d,y),className:"gallery-item rounded-lg overflow-hidden cursor-pointer aspect-[4/3]",children:[s.jsx("img",{src:x.src,alt:x.alt,className:"w-full h-full object-cover",loading:"lazy"}),s.jsx("div",{className:"overlay flex items-end p-3",children:s.jsx("p",{className:"text-white text-xs font-semibold",children:x.alt})})]},x.src))})})]})}),s.jsx("section",{className:"py-16 sm:py-24 px-4 sm:px-6",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsxs("h2",{className:"text-3xl sm:text-4xl font-black mb-4",children:["Want This for ",s.jsx("span",{className:"text-gradient",children:"Your Event?"})]}),s.jsx("p",{className:"text-gray-400 text-lg mb-8",children:"Get professional media coverage at zero cost. See what we can do for your promotion."}),s.jsxs(ss,{to:"/proposal",className:"group inline-flex items-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Free Analysis",s.jsx($h,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})})}),s.jsx(Kp,{children:i&&s.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lightbox-backdrop",onClick:m,children:[s.jsx("button",{onClick:m,className:"absolute top-4 right-4 z-10 p-2 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:s.jsx($0,{className:"w-6 h-6"})}),u.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:x=>{x.stopPropagation(),g()},className:"absolute left-4 z-10 p-3 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:s.jsx(BB,{className:"w-6 h-6"})}),s.jsx("button",{onClick:x=>{x.stopPropagation(),p()},className:"absolute right-4 z-10 p-3 bg-black/50 rounded-full text-white hover:bg-black/80 transition-colors",children:s.jsx(gx,{className:"w-6 h-6"})})]}),s.jsx("img",{src:i.src,alt:i.alt,className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:x=>x.stopPropagation()}),s.jsxs("div",{className:"absolute bottom-4 text-center text-white text-sm",children:[i.alt,"  ",o+1," / ",u.length]})]})})]})},Z_=[{num:1,label:"Welcome"},{num:2,label:"Your Organization"},{num:3,label:"Analysis"},{num:4,label:"Get Proposal"},{num:5,label:"Your Proposal"}],dve=({currentStep:t,totalSteps:e,goToStep:r})=>{const n=i=>i<t;return s.jsx("nav",{className:"sticky top-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-gray-800",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[s.jsxs("div",{className:"md:hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("span",{className:"text-sm font-semibold text-gray-300",children:["Step ",t," of ",e]}),s.jsx("span",{className:"text-xs text-gray-400",children:Z_[Math.min(t-1,Z_.length-1)]?.label})]}),s.jsx("div",{className:"h-2 bg-dark-800 rounded-full overflow-hidden",children:s.jsx(Fr.div,{className:"h-full bg-gradient-to-r from-primary-500 to-orange-500",initial:{width:0},animate:{width:`${t/e*100}%`},transition:{duration:.3}})})]}),s.jsx("div",{className:"hidden md:flex items-center justify-between",children:Z_.map((i,a)=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("button",{onClick:()=>n(i.num)&&r(i.num),disabled:!n(i.num),className:`flex flex-col items-center gap-2 transition-all ${n(i.num)?"cursor-pointer hover:scale-105":"cursor-default"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ${t===i.num?"bg-primary-600 text-white ring-4 ring-primary-600/30":t>i.num?"bg-green-600 text-white":"bg-dark-800 text-gray-500"}`,children:t>i.num?s.jsx(to,{className:"w-5 h-5"}):i.num}),s.jsx("span",{className:`text-xs font-semibold ${t===i.num?"text-primary-400":t>i.num?"text-green-400":"text-gray-500"}`,children:i.label})]}),a<Z_.length-1&&s.jsx("div",{className:"flex-1 h-1 mx-2 bg-dark-800 rounded-full overflow-hidden",children:s.jsx(Fr.div,{className:"h-full bg-gradient-to-r from-green-600 to-primary-600",initial:{width:0},animate:{width:t>i.num?"100%":"0%"},transition:{duration:.3}})})]},i.num))})]})})},hve=({nextStep:t})=>s.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden animated-gradient",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ff0000' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsx("div",{className:"relative z-10 text-center px-4 sm:px-6 max-w-6xl mx-auto py-12",children:s.jsxs(Fr.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"mb-8",children:s.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black mb-6 leading-tight",children:[s.jsx("span",{className:"text-gradient",children:"ELEVATE"}),s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"YOUR EVENT"})]})}),s.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:.8},children:[s.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-gray-300 mb-4 max-w-3xl mx-auto font-semibold",children:"Professional Live Stream Production at Zero Cost to Your Organization"}),s.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-gray-400 mb-12 max-w-2xl mx-auto",children:"We produce your event for free + you earn revenue from PPV that you weren't before"})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"mb-16",children:[s.jsxs("button",{onClick:t,className:"group px-8 sm:px-12 py-4 sm:py-5 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg sm:text-xl transition-all hover:scale-105 card-glow inline-flex items-center gap-3",children:["Get Your Free Analysis",s.jsx($h,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"See what your promotion is worth in 2 minutes  Zero commitment"})]}),s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.2,duration:.6},className:"mb-16 max-w-4xl mx-auto",children:s.jsx("div",{className:"relative rounded-xl overflow-hidden bg-gradient-to-br from-dark-900 via-dark-800 to-dark-900 border-2 border-gray-700 hover:border-primary-600/50 transition-all group cursor-pointer",children:s.jsxs("div",{className:"aspect-video flex items-center justify-center relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-900/30 via-transparent to-orange-900/30"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-primary-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:s.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-white ml-1",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:"See Our Work in Action"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Watch how we transform combat sports events into premium broadcast experiences"})]})]})]})})}),s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4,duration:.8},className:"grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8 max-w-4xl mx-auto",children:[{icon:Eh,title:"Industry Leading Live Production",desc:"Professional multi-camera production that commands respect"},{icon:Tf,title:"3-10x Audience Growth",desc:"Grow Your Audience 3-10x With Professional Content"},{icon:Wh,title:"Unlock Hidden Revenue",desc:"Unlock Revenue Streams You're Currently Leaving on the Table"}].map((e,r)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.6+r*.1,duration:.6},className:"bg-dark-900/60 backdrop-blur-sm border border-gray-800 rounded-xl p-6 hover:border-primary-600/50 transition-all",children:[s.jsx(e.icon,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:e.title}),s.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:e.desc})]},r))}),s.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:2,duration:.8},className:"mt-12 sm:mt-16",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 max-w-4xl mx-auto mb-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"25+"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Live Events Covered"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"4"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Countries Worldwide"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"Australia Wide"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"+ International"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:"100%"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Client Satisfaction"})]})]}),s.jsxs("div",{className:"max-w-2xl mx-auto bg-dark-900/60 backdrop-blur-sm border border-green-700/50 rounded-xl p-5",children:[s.jsx("p",{className:"text-green-400 text-sm sm:text-base font-semibold mb-2",children:" Free Consultation  No Commitment Required"}),s.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"We'll analyze your organization and show you exactly what's possible  even if you're not ready to start yet."})]})]})]})})]}),fve=({formData:t,updateFormData:e,setFormDataBulk:r,setAnalysis:n,nextStep:i,prevStep:a})=>{T.useEffect(()=>{if(t.orgName){const l=o();n(l)}},[t]);const o=()=>{let l="Grassroots",d=0;t.showsPerYear>=12?d+=3:t.showsPerYear>=6?d+=2:t.showsPerYear>=3&&(d+=1),t.avgAttendance>=800?d+=3:t.avgAttendance>=400?d+=2:t.avgAttendance>=150&&(d+=1),t.socialFollowing>=5e4?d+=3:t.socialFollowing>=15e3?d+=2:t.socialFollowing>=3e3&&(d+=1),t.venueCapacity>=1500?d+=2:t.venueCapacity>=500&&(d+=1),t.sponsorshipLevel==="strong"?d+=2:t.sponsorshipLevel==="moderate"&&(d+=1),(t.growthTrajectory==="rapidly-growing"||t.growthTrajectory==="growing")&&(d+=1),d>=10?l="Major":d>=7?l="Established":d>=4&&(l="Regional");let f=[],m="flat";l==="Major"?(f=["Media Partnership","Full Media Buyout"],m="partnership"):l==="Established"?(f=["Broadcast Premium","Media Partnership"],m="hybrid"):l==="Regional"?(f=["Professional Production"],m="flat"):(f=["Essential Coverage"],m="flat");const p=c();return{tier:l,tierScore:d,recommendedPackages:f,pricingModel:m,potentialStreamingRevenue:p}},c=()=>{const l=Math.round(t.avgAttendance*1.5),d=Math.round(l*.4),f=25,m=d*f,p=m*t.showsPerYear,g=t.avgAttendance>=500?2e3:t.avgAttendance>=200?1e3:500,x=g*t.showsPerYear,y=1200,w=y*t.showsPerYear,E=t.showsPerYear*500,_=m+g+y,N=p+x+w;return{perEvent:Math.round(m),annual:Math.round(p),viewerEstimate:l,expectedPurchases:d,ppvPrice:f,sponsorRevenue:{perEvent:g,annual:x},contentValue:{perEvent:y,annual:w},socialGrowth:{followersPerYear:E,valueDescription:`${E.toLocaleString()} new followers/year`},totalROI:{perEvent:Math.round(_),annual:Math.round(N)}}},u=t.orgName.trim().length>0;return s.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[s.jsx(mq,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:s.jsx("span",{className:"text-gradient",children:"Tell Us About Your Organization"})})]}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:"We'll analyze your profile and recommend the perfect media solution"})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Organization Name ",s.jsx("span",{className:"text-primary-500",children:"*"})]}),s.jsx("input",{type:"text",value:t.orgName,onChange:l=>e("orgName",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"Enter organization name..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Shows Per Year: ",s.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.showsPerYear})]}),s.jsx("input",{type:"range",min:"1",max:"24",value:t.showsPerYear,onChange:l=>e("showsPerYear",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"1"}),s.jsx("span",{children:"24"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Average Attendance: ",s.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.avgAttendance})]}),s.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:t.avgAttendance,onChange:l=>e("avgAttendance",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"50"}),s.jsx("span",{children:"2,000"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Venue Capacity: ",s.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.venueCapacity})]}),s.jsx("input",{type:"range",min:"100",max:"3000",step:"100",value:t.venueCapacity,onChange:l=>e("venueCapacity",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"100"}),s.jsx("span",{children:"3,000"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:["Social Media Following: ",s.jsx("span",{className:"text-primary-500 text-lg sm:text-xl font-bold",children:t.socialFollowing.toLocaleString()})]}),s.jsx("input",{type:"range",min:"1000",max:"200000",step:"1000",value:t.socialFollowing,onChange:l=>e("socialFollowing",parseInt(l.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"1k"}),s.jsx("span",{children:"200k"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Current Media Setup"}),s.jsxs("select",{value:t.currentMedia,onChange:l=>e("currentMedia",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[s.jsx("option",{value:"none",children:"No media coverage"}),s.jsx("option",{value:"basic",children:"Basic (smartphone/amateur)"}),s.jsx("option",{value:"semi",children:"Semi-professional"}),s.jsx("option",{value:"pro",children:"Professional production"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Geographic Reach"}),s.jsxs("select",{value:t.geoReach,onChange:l=>e("geoReach",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[s.jsx("option",{value:"local",children:"Local"}),s.jsx("option",{value:"state",children:"State/Regional"}),s.jsx("option",{value:"national",children:"National"}),s.jsx("option",{value:"international",children:"International"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Sponsorship Level"}),s.jsxs("select",{value:t.sponsorshipLevel,onChange:l=>e("sponsorshipLevel",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[s.jsx("option",{value:"none",children:"No sponsors"}),s.jsx("option",{value:"few",children:"Few local sponsors"}),s.jsx("option",{value:"moderate",children:"Moderate sponsorship"}),s.jsx("option",{value:"strong",children:"Strong sponsor portfolio"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:"Growth Trajectory"}),s.jsxs("select",{value:t.growthTrajectory,onChange:l=>e("growthTrajectory",l.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base focus:border-primary-600 focus:outline-none appearance-none cursor-pointer",children:[s.jsx("option",{value:"declining",children:"Declining"}),s.jsx("option",{value:"stable",children:"Stable"}),s.jsx("option",{value:"growing",children:"Growing"}),s.jsx("option",{value:"rapidly-growing",children:"Rapidly Growing"})]})]})]}),s.jsx("div",{className:"mt-8 sm:mt-10",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[s.jsx(Y0,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:i,disabled:!u,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:["Continue to Analysis",s.jsx($h,{className:"w-5 h-5"})]})]})})]})]})})};function dZ(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=dZ(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Sa(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=dZ(t))&&(n&&(n+=" "),n+=e);return n}var mve=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function lD(t){if(typeof t!="string")return!1;var e=mve;return e.includes(t)}var Ave=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pve=new Set(Ave);function hZ(t){return typeof t!="string"?!1:pve.has(t)}function fZ(t){return typeof t=="string"&&t.startsWith("data-")}function wu(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(hZ(r)||fZ(r))&&(e[r]=t[r]);return e}function bx(t){if(t==null)return null;if(T.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return wu(e)}return typeof t=="object"&&!Array.isArray(t)?wu(t):null}function Ku(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(hZ(r)||fZ(r)||lD(r))&&(e[r]=t[r]);return e}function gve(t){return t==null?null:T.isValidElement(t)?Ku(t.props):typeof t=="object"&&!Array.isArray(t)?Ku(t):null}var vve=["children","width","height","viewBox","className","style","title","desc"];function aP(){return aP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aP.apply(null,arguments)}function xve(t,e){if(t==null)return{};var r,n,i=yve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yve(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var cD=T.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:c,title:u,desc:l}=t,d=xve(t,vve),f=a||{width:n,height:i,x:0,y:0},m=Sa("recharts-surface",o);return T.createElement("svg",aP({},Ku(d),{className:m,width:n,height:i,style:c,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),T.createElement("title",null,u),T.createElement("desc",null,l),r)}),bve=["children","className"];function oP(){return oP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oP.apply(null,arguments)}function wve(t,e){if(t==null)return{};var r,n,i=Eve(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Eve(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Uc=T.forwardRef((t,e)=>{var{children:r,className:n}=t,i=wve(t,bve),a=Sa("recharts-layer",n);return T.createElement("g",oP({className:a},Ku(i),{ref:e}),r)}),mZ=T.createContext(null),_ve=()=>T.useContext(mZ);function Sl(t){return function(){return t}}const AZ=Math.cos,WT=Math.sin,Km=Math.sqrt,YT=Math.PI,nk=2*YT,lP=Math.PI,cP=2*lP,jv=1e-6,Sve=cP-jv;function pZ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function jve(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pZ;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Tve{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pZ:jve(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,u=n-e,l=i-r,d=o-e,f=c-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>jv)if(!(Math.abs(f*u-l*d)>jv)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,g=i-c,x=u*u+l*l,y=p*p+g*g,w=Math.sqrt(x),E=Math.sqrt(m),_=a*Math.tan((lP-Math.acos((x+m-y)/(2*w*E)))/2),N=_/E,C=_/w;Math.abs(N-1)>jv&&this._append`L${e+N*d},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*p>d*g)},${this._x1=e+C*u},${this._y1=r+C*l}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),u=n*Math.sin(i),l=e+c,d=r+u,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${l},${d}`:(Math.abs(this._x1-l)>jv||Math.abs(this._y1-d)>jv)&&this._append`L${l},${d}`,n&&(m<0&&(m=m%cP+cP),m>Sve?this._append`A${n},${n},0,1,${f},${e-c},${r-u}A${n},${n},0,1,${f},${this._x1=l},${this._y1=d}`:m>jv&&this._append`A${n},${n},0,${+(m>=lP)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function uD(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Tve(e)}function dD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gZ(t){this._context=t}gZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ik(t){return new gZ(t)}function vZ(t){return t[0]}function xZ(t){return t[1]}function yZ(t,e){var r=Sl(!0),n=null,i=ik,a=null,o=uD(c);t=typeof t=="function"?t:t===void 0?vZ:Sl(t),e=typeof e=="function"?e:e===void 0?xZ:Sl(e);function c(u){var l,d=(u=dD(u)).length,f,m=!1,p;for(n==null&&(a=i(p=o())),l=0;l<=d;++l)!(l<d&&r(f=u[l],l,u))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(f,l,u),+e(f,l,u));if(p)return a=null,p+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Sl(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Sl(+u),c):e},c.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Sl(!!u),c):r},c.curve=function(u){return arguments.length?(i=u,n!=null&&(a=i(n)),c):i},c.context=function(u){return arguments.length?(u==null?n=a=null:a=i(n=u),c):n},c}function J_(t,e,r){var n=null,i=Sl(!0),a=null,o=ik,c=null,u=uD(l);t=typeof t=="function"?t:t===void 0?vZ:Sl(+t),e=typeof e=="function"?e:Sl(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?xZ:Sl(+r);function l(f){var m,p,g,x=(f=dD(f)).length,y,w=!1,E,_=new Array(x),N=new Array(x);for(a==null&&(c=o(E=u())),m=0;m<=x;++m){if(!(m<x&&i(y=f[m],m,f))===w)if(w=!w)p=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=m-1;g>=p;--g)c.point(_[g],N[g]);c.lineEnd(),c.areaEnd()}w&&(_[m]=+t(y,m,f),N[m]=+e(y,m,f),c.point(n?+n(y,m,f):_[m],r?+r(y,m,f):N[m]))}if(E)return c=null,E+""||null}function d(){return yZ().defined(i).curve(o).context(a)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:Sl(+f),n=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Sl(+f),l):t},l.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Sl(+f),l):n},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:Sl(+f),r=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Sl(+f),l):e},l.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Sl(+f),l):r},l.lineX0=l.lineY0=function(){return d().x(t).y(e)},l.lineY1=function(){return d().x(t).y(r)},l.lineX1=function(){return d().x(n).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Sl(!!f),l):i},l.curve=function(f){return arguments.length?(o=f,a!=null&&(c=o(a)),l):o},l.context=function(f){return arguments.length?(f==null?a=c=null:c=o(a=f),l):a},l}class bZ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Cve(t){return new bZ(t,!0)}function Nve(t){return new bZ(t,!1)}const hD={draw(t,e){const r=Km(e/YT);t.moveTo(r,0),t.arc(0,0,r,0,nk)}},kve={draw(t,e){const r=Km(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},wZ=Km(1/3),Lve=wZ*2,Ive={draw(t,e){const r=Km(e/Lve),n=r*wZ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Bve={draw(t,e){const r=Km(e),n=-r/2;t.rect(n,n,r,r)}},Pve=.8908130915292852,EZ=WT(YT/10)/WT(7*YT/10),Ove=WT(nk/10)*EZ,Rve=-AZ(nk/10)*EZ,Dve={draw(t,e){const r=Km(e*Pve),n=Ove*r,i=Rve*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=nk*a/5,c=AZ(o),u=WT(o);t.lineTo(u*r,-c*r),t.lineTo(c*n-u*i,u*n+c*i)}t.closePath()}},T4=Km(3),Mve={draw(t,e){const r=-Km(e/(T4*3));t.moveTo(0,r*2),t.lineTo(-T4*r,-r),t.lineTo(T4*r,-r),t.closePath()}},$f=-.5,Hf=Km(3)/2,uP=1/Km(12),Fve=(uP/2+1)*3,Uve={draw(t,e){const r=Km(e/Fve),n=r/2,i=r*uP,a=n,o=r*uP+r,c=-a,u=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(c,u),t.lineTo($f*n-Hf*i,Hf*n+$f*i),t.lineTo($f*a-Hf*o,Hf*a+$f*o),t.lineTo($f*c-Hf*u,Hf*c+$f*u),t.lineTo($f*n+Hf*i,$f*i-Hf*n),t.lineTo($f*a+Hf*o,$f*o-Hf*a),t.lineTo($f*c+Hf*u,$f*u-Hf*c),t.closePath()}};function $ve(t,e){let r=null,n=uD(i);t=typeof t=="function"?t:Sl(t||hD),e=typeof e=="function"?e:Sl(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Sl(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Sl(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function qT(){}function XT(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function _Z(t){this._context=t}_Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:XT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:XT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hve(t){return new _Z(t)}function SZ(t){this._context=t}SZ.prototype={areaStart:qT,areaEnd:qT,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:XT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qve(t){return new SZ(t)}function jZ(t){this._context=t}jZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:XT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zve(t){return new jZ(t)}function TZ(t){this._context=t}TZ.prototype={areaStart:qT,areaEnd:qT,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Vve(t){return new TZ(t)}function x$(t){return t<0?-1:1}function y$(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),c=(a*i+o*n)/(n+i);return(x$(a)+x$(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function b$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function C4(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,o-c*r,a,o)}function ZT(t){this._context=t}ZT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C4(this,this._t0,b$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,C4(this,b$(this,r=y$(this,t,e)),r);break;default:C4(this,this._t0,r=y$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function CZ(t){this._context=new NZ(t)}(CZ.prototype=Object.create(ZT.prototype)).point=function(t,e){ZT.prototype.point.call(this,e,t)};function NZ(t){this._context=t}NZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Kve(t){return new ZT(t)}function Gve(t){return new CZ(t)}function kZ(t){this._context=t}kZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=w$(t),i=w$(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function w$(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Wve(t){return new kZ(t)}function sk(t,e){this._context=t,this._t=e}sk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Yve(t){return new sk(t,.5)}function qve(t){return new sk(t,0)}function Xve(t){return new sk(t,1)}function wx(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,c=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function dP(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Zve(t,e){return t[e]}function Jve(t){const e=[];return e.key=t,e}function exe(){var t=Sl([]),e=dP,r=wx,n=Zve;function i(a){var o=Array.from(t.apply(this,arguments),Jve),c,u=o.length,l=-1,d;for(const f of a)for(c=0,++l;c<u;++c)(o[c][l]=[0,+n(f,o[c].key,l,a)]).data=f;for(c=0,d=dD(e(o));c<u;++c)o[d[c]].index=c;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Sl(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Sl(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?dP:typeof a=="function"?a:Sl(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??wx,i):r},i}function txe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}wx(t,e)}}function rxe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,c=0;o<i;++o)c+=t[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}wx(t,e)}}function nxe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var c=0,u=0,l=0;c<o;++c){for(var d=t[e[c]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,g=0;g<c;++g){var x=t[e[g]],y=x[n][1]||0,w=x[n-1][1]||0;p+=y-w}u+=f,l+=p*f}i[n-1][1]+=i[n-1][0]=r,u&&(r-=l/u)}i[n-1][1]+=i[n-1][0]=r,wx(t,e)}}var N4={},k4={},E$;function ixe(){return E$||(E$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(k4)),k4}var L4={},_$;function LZ(){return _$||(_$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(L4)),L4}var I4={},S$;function fD(){return S$||(S$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(I4)),I4}var B4={},P4={},j$;function sxe(){return j$||(j$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(P4)),P4}var T$;function mD(){return T$||(T$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sxe(),r=fD();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,u="",l="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const f=i[c];l?f==="\\"&&c+1<o?(c++,u+=i[c]):f===l?l="":u+=f:d?f==='"'||f==="'"?l=f:f==="]"?(d=!1,a.push(u),u=""):u+=f:f==="["?(d=!0,u&&(a.push(u),u="")):f==="."?u&&(a.push(u),u=""):u+=f,c++}return u&&a.push(u),a}t.toPath=n})(B4)),B4}var C$;function AD(){return C$||(C$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ixe(),r=LZ(),n=fD(),i=mD();function a(c,u,l){if(c==null)return l;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return l;const d=c[u];return d===void 0?r.isDeepKey(u)?a(c,i.toPath(u),l):l:d}case"number":case"symbol":{typeof u=="number"&&(u=n.toKey(u));const d=c[u];return d===void 0?l:d}default:{if(Array.isArray(u))return o(c,u,l);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return l;const d=c[u];return d===void 0?l:d}}}function o(c,u,l){if(u.length===0)return l;let d=c;for(let f=0;f<u.length;f++){if(d==null||e.isUnsafeProperty(u[f]))return l;d=d[u[f]]}return d===void 0?l:d}t.get=a})(N4)),N4}var O4,N$;function axe(){return N$||(N$=1,O4=AD().get),O4}var oxe=axe();const Ex=Gh(oxe);var lxe=4;function N0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lxe,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function hc(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,a,o)=>{var c=r[o-1];return typeof c=="string"?i+c+a:c!==void 0?i+N0(c)+a:i+a},"")}var vd=t=>t===0?0:t>0?1:-1,YA=t=>typeof t=="number"&&t!=+t,_x=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,_i=t=>(typeof t=="number"||t instanceof Number)&&!YA(t),qA=t=>_i(t)||typeof t=="string",cxe=0,$E=t=>{var e=++cxe;return"".concat(t||"").concat(e)},ah=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_i(e)&&typeof e!="string")return n;var a;if(_x(e)){if(r==null)return n;var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return YA(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},IZ=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function fc(t,e,r){return _i(t)&&_i(e)?N0(t+r*(e-t)):e}function uxe(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Ex(n,e))===r)}var iu=t=>t===null||typeof t>"u",V2=t=>iu(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Hh(t){return t!=null}function X0(){}var dxe=["type","size","sizeType"];function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hP.apply(null,arguments)}function k$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k$(Object(r),!0).forEach(function(n){hxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hxe(t,e,r){return(e=fxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fxe(t){var e=mxe(t,"string");return typeof e=="symbol"?e:e+""}function mxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Axe(t,e){if(t==null)return{};var r,n,i=pxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pxe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var BZ={symbolCircle:hD,symbolCross:kve,symbolDiamond:Ive,symbolSquare:Bve,symbolStar:Dve,symbolTriangle:Mve,symbolWye:Uve},gxe=Math.PI/180,vxe=t=>{var e="symbol".concat(V2(t));return BZ[e]||hD},xxe=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*gxe;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yxe=(t,e)=>{BZ["symbol".concat(V2(t))]=e},pD=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=Axe(t,dxe),a=L$(L$({},i),{},{type:e,size:r,sizeType:n}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var m=vxe(o),p=$ve().type(m).size(xxe(r,n,o)),g=p();if(g!==null)return g},{className:u,cx:l,cy:d}=a,f=Ku(a);return _i(l)&&_i(d)&&_i(r)?T.createElement("path",hP({},f,{className:Sa("recharts-symbols",u),transform:"translate(".concat(l,", ").concat(d,")"),d:c()})):null};pD.registerSymbol=yxe;var PZ=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,gD=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{lD(i)&&(n[i]=(a=>r[i](r,a)))}),n},bxe=(t,e,r)=>n=>(t(e,r,n),null),b1=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];lD(i)&&typeof a=="function"&&(n||(n={}),n[i]=bxe(a,e,r))}),n};function I$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(r),!0).forEach(function(n){Exe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Exe(t,e,r){return(e=_xe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _xe(t){var e=Sxe(t,"string");return typeof e=="symbol"?e:e+""}function Sxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hc(t,e){var r=wxe({},t),n=e,i=Object.keys(e),a=i.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return a}function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JT.apply(null,arguments)}function B$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jxe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B$(Object(r),!0).forEach(function(n){Txe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Txe(t,e,r){return(e=Cxe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cxe(t){var e=Nxe(t,"string");return typeof e=="symbol"?e:e+""}function Nxe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yf=32,kxe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Lxe(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Yf/2,a=Yf/6,o=Yf/3,c=e.inactive?n:e.color,u=r??e.type;if(u==="none")return null;if(u==="plainline"){var l;return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:(l=e.payload)===null||l===void 0?void 0:l.strokeDasharray,x1:0,y1:i,x2:Yf,y2:i,className:"recharts-legend-icon"})}if(u==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Yf,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Yf/8,"h").concat(Yf,"v").concat(Yf*3/4,"h").concat(-Yf,"z"),className:"recharts-legend-icon"});if(T.isValidElement(e.legendIcon)){var d=jxe({},e);return delete d.legendIcon,T.cloneElement(e.legendIcon,d)}return T.createElement(pD,{fill:c,cx:i,cy:i,size:Yf,sizeType:"diameter",type:u})}function Ixe(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=t,c={x:0,y:0,width:Yf,height:Yf},u={display:n==="horizontal"?"inline-block":"block",marginRight:10},l={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var m=d.formatter||i,p=Sa({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?a:d.color,x=m?m(d.value,d,f):d.value;return T.createElement("li",JT({className:p,style:u,key:"legend-item-".concat(f)},b1(t,d,f)),T.createElement(cD,{width:r,height:r,viewBox:c,style:l,"aria-label":"".concat(x," legend icon")},T.createElement(Lxe,{data:d,iconType:o,inactiveColor:a})),T.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},x))})}var Bxe=t=>{var e=Hc(t,kxe),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},T.createElement(Ixe,JT({},e,{payload:r})))},R4={},D4={},P$;function Pxe(){return P$||(P$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],c=n(o,a,r);i.has(c)||i.set(c,o)}return Array.from(i.values())}t.uniqBy=e})(D4)),D4}var M4={},O$;function Oxe(){return O$||(O$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(M4)),M4}var F4={},R$;function OZ(){return R$||(R$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(F4)),F4}var U4={},$4={},H4={},D$;function Rxe(){return D$||(D$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(H4)),H4}var M$;function vD(){return M$||(M$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rxe();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})($4)),$4}var Q4={},F$;function Dxe(){return F$||(F$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Q4)),Q4}var U$;function Mxe(){return U$||(U$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vD(),r=Dxe();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(U4)),U4}var z4={},V4={},$$;function Fxe(){return $$||($$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AD();function r(n){return function(i){return e.get(i,n)}}t.property=r})(V4)),V4}var K4={},G4={},W4={},Y4={},H$;function RZ(){return H$||(H$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Y4)),Y4}var q4={},Q$;function DZ(){return Q$||(Q$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(q4)),q4}var X4={},z$;function MZ(){return z$||(z$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(X4)),X4}var V$;function Uxe(){return V$||(V$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RZ(),r=DZ(),n=MZ();function i(d,f,m){return typeof m!="function"?i(d,f,()=>{}):a(d,f,function p(g,x,y,w,E,_){const N=m(g,x,y,w,E,_);return N!==void 0?!!N:a(g,x,p,_)},new Map)}function a(d,f,m,p){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,m,p);case"function":return Object.keys(f).length>0?a(d,{...f},m,p):n.isEqualsSameValueZero(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,m,p){if(f==null)return!0;if(Array.isArray(f))return u(d,f,m,p);if(f instanceof Map)return c(d,f,m,p);if(f instanceof Set)return l(d,f,m,p);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(p?.has(f))return p.get(f)===d;p?.set(f,d);try{for(let x=0;x<g.length;x++){const y=g[x];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!m(d[y],f[y],y,d,f,p))return!1}return!0}finally{p?.delete(f)}}function c(d,f,m,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,x]of f.entries()){const y=d.get(g);if(m(y,x,g,d,f,p)===!1)return!1}return!0}function u(d,f,m,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let x=0;x<f.length;x++){const y=f[x];let w=!1;for(let E=0;E<d.length;E++){if(g.has(E))continue;const _=d[E];let N=!1;if(m(_,y,x,d,f,p)&&(N=!0),N){g.add(E),w=!0;break}}if(!w)return!1}return!0}function l(d,f,m,p){return f.size===0?!0:d instanceof Set?u([...d],[...f],m,p):!1}t.isMatchWith=i,t.isSetMatch=l})(W4)),W4}var K$;function FZ(){return K$||(K$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uxe();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(G4)),G4}var Z4={},J4={},eL={},G$;function $xe(){return G$||(G$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(eL)),eL}var tL={},W$;function xD(){return W$||(W$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(tL)),tL}var rL={},Y$;function UZ(){return Y$||(Y$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",l="[object Set]",d="[object Array]",f="[object Function]",m="[object ArrayBuffer]",p="[object Object]",g="[object Error]",x="[object DataView]",y="[object Uint8Array]",w="[object Uint8ClampedArray]",E="[object Uint16Array]",_="[object Uint32Array]",N="[object BigUint64Array]",C="[object Int8Array]",I="[object Int16Array]",D="[object Int32Array]",M="[object BigInt64Array]",Y="[object Float32Array]",X="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=m,t.arrayTag=d,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=N,t.booleanTag=i,t.dataViewTag=x,t.dateTag=c,t.errorTag=g,t.float32ArrayTag=Y,t.float64ArrayTag=X,t.functionTag=f,t.int16ArrayTag=I,t.int32ArrayTag=D,t.int8ArrayTag=C,t.mapTag=u,t.numberTag=n,t.objectTag=p,t.regexpTag=e,t.setTag=l,t.stringTag=r,t.symbolTag=o,t.uint16ArrayTag=E,t.uint32ArrayTag=_,t.uint8ArrayTag=y,t.uint8ClampedArrayTag=w})(rL)),rL}var nL={},q$;function Hxe(){return q$||(q$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(nL)),nL}var X$;function $Z(){return X$||(X$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$xe(),r=xD(),n=UZ(),i=DZ(),a=Hxe();function o(d,f){return c(d,void 0,d,new Map,f)}function c(d,f,m,p=new Map,g=void 0){const x=g?.(d,f,m,p);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let w=0;w<d.length;w++)y[w]=c(d[w],w,m,p,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[w,E]of d)y.set(w,c(E,w,m,p,g));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const w of d)y.add(c(w,void 0,m,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let w=0;w<d.length;w++)y[w]=c(d[w],w,m,p,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),u(y,d,m,p,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),u(y,d,m,p,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),u(y,d,m,p,g),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,u(y,d,m,p,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return p.set(d,y),u(y,d,m,p,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return p.set(d,y),u(y,d,m,p,g),y}if(d instanceof String){const y=new String(d.valueOf());return p.set(d,y),u(y,d,m,p,g),y}if(typeof d=="object"&&l(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),u(y,d,m,p,g),y}return d}function u(d,f,m=d,p,g){const x=[...Object.keys(f),...e.getSymbols(f)];for(let y=0;y<x.length;y++){const w=x[y],E=Object.getOwnPropertyDescriptor(d,w);(E==null||E.writable)&&(d[w]=c(f[w],w,m,p,g))}}function l(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=u})(J4)),J4}var Z$;function Qxe(){return Z$||(Z$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Z();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(Z4)),Z4}var J$;function zxe(){return J$||(J$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FZ(),r=Qxe();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(K4)),K4}var iL={},sL={},aL={},e9;function Vxe(){return e9||(e9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Z(),r=xD(),n=UZ();function i(a,o){return e.cloneDeepWith(a,(c,u,l,d)=>{const f=o?.(c,u,l,d);if(f!==void 0)return f;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const m={};return d.set(a,m),e.copyProperties(m,a,l,d),m}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new a.constructor(a?.valueOf());return e.copyProperties(m,a),m}case n.argumentsTag:{const m={};return e.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}}})}t.cloneDeepWith=i})(aL)),aL}var t9;function Kxe(){return t9||(t9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vxe();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(sL)),sL}var oL={},lL={},r9;function HZ(){return r9||(r9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(lL)),lL}var cL={},n9;function Gxe(){return n9||(n9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xD();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(cL)),cL}var i9;function Wxe(){return i9||(i9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LZ(),r=HZ(),n=Gxe(),i=mD();function a(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&e.isDeepKey(c)&&o?.[c]==null?u=i.toPath(c):u=[c],u.length===0)return!1;let l=o;for(let d=0;d<u.length;d++){const f=u[d];if((l==null||!Object.hasOwn(l,f))&&!((Array.isArray(l)||n.isArguments(l))&&r.isIndex(f)&&f<l.length))return!1;l=l[f]}return!0}t.has=a})(oL)),oL}var s9;function Yxe(){return s9||(s9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FZ(),r=fD(),n=Kxe(),i=AD(),a=Wxe();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return u=n.cloneDeep(u),function(l){const d=i.get(l,c);return d===void 0?a.has(l,c):u===void 0?d===void 0:e.isMatch(d,u)}}t.matchesProperty=o})(iL)),iL}var a9;function qxe(){return a9||(a9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OZ(),r=Fxe(),n=zxe(),i=Yxe();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}t.iteratee=a})(z4)),z4}var o9;function Xxe(){return o9||(o9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pxe(),r=Oxe(),n=OZ(),i=Mxe(),a=qxe();function o(c,u=n.identity){return i.isArrayLikeObject(c)?e.uniqBy(Array.from(c),r.ary(a.iteratee(u),1)):[]}t.uniqBy=o})(R4)),R4}var uL,l9;function Zxe(){return l9||(l9=1,uL=Xxe().uniqBy),uL}var Jxe=Zxe();const c9=Gh(Jxe);function QZ(t,e,r){return e===!0?c9(t,r):typeof e=="function"?c9(t,e):t}var dL={exports:{}},hL={},fL={exports:{}},mL={};var u9;function eye(){if(u9)return mL;u9=1;var t=f1();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(f,m){var p=m(),g=n({inst:{value:p,getSnapshot:m}}),x=g[0].inst,y=g[1];return a(function(){x.value=p,x.getSnapshot=m,u(x)&&y({inst:x})},[f,p,m]),i(function(){return u(x)&&y({inst:x}),f(function(){u(x)&&y({inst:x})})},[f]),o(p),p}function u(f){var m=f.getSnapshot;f=f.value;try{var p=m();return!r(f,p)}catch{return!0}}function l(f,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:c;return mL.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,mL}var d9;function tye(){return d9||(d9=1,fL.exports=eye()),fL.exports}var h9;function rye(){if(h9)return hL;h9=1;var t=f1(),e=tye();function r(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,u=t.useDebugValue;return hL.useSyncExternalStoreWithSelector=function(l,d,f,m,p){var g=a(null);if(g.current===null){var x={hasValue:!1,value:null};g.current=x}else x=g.current;g=c(function(){function w(I){if(!E){if(E=!0,_=I,I=m(I),p!==void 0&&x.hasValue){var D=x.value;if(p(D,I))return N=D}return N=I}if(D=N,n(_,I))return D;var M=m(I);return p!==void 0&&p(D,M)?(_=I,D):(_=I,N=M)}var E=!1,_,N,C=f===void 0?null:f;return[function(){return w(d())},C===null?void 0:function(){return w(C())}]},[d,f,m,p]);var y=i(l,g[0],g[1]);return o(function(){x.hasValue=!0,x.value=y},[y]),u(y),y},hL}var f9;function nye(){return f9||(f9=1,dL.exports=rye()),dL.exports}var iye=nye(),yD=T.createContext(null),sye=t=>t,Al=()=>{var t=T.useContext(yD);return t?t.store.dispatch:sye},dj=()=>{},aye=()=>dj,oye=(t,e)=>t===e;function ai(t){var e=T.useContext(yD),r=T.useMemo(()=>e?n=>{if(n!=null)return t(n)}:dj,[e,t]);return iye.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:aye,e?e.store.getState:dj,e?e.store.getState:dj,r,oye)}function lye(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function cye(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function uye(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var m9=t=>Array.isArray(t)?t:[t];function dye(t){const e=Array.isArray(t[0])?t[0]:t;return uye(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function hye(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var fye=class{constructor(t){this.value=t}deref(){return this.value}},mye=typeof WeakRef<"u"?WeakRef:fye,Aye=0,A9=1;function eS(){return{s:Aye,v:void 0,o:null,p:null}}function zZ(t,e={}){let r=eS();const{resultEqualityCheck:n}=e;let i,a=0;function o(){let c=r;const{length:u}=arguments;for(let f=0,m=u;f<m;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=c.o;g===null&&(c.o=g=new WeakMap);const x=g.get(p);x===void 0?(c=eS(),g.set(p,c)):c=x}else{let g=c.p;g===null&&(c.p=g=new Map);const x=g.get(p);x===void 0?(c=eS(),g.set(p,c)):c=x}}const l=c;let d;if(c.s===A9)d=c.v;else if(d=t.apply(null,arguments),a++,n){const f=i?.deref?.()??i;f!=null&&n(f,d)&&(d=f,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new mye(d):d}return l.s=A9,l.v=d,d}return o.clearCache=()=>{r=eS(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function pye(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,o=0,c,u={},l=i.pop();typeof l=="object"&&(u=l,l=i.pop()),lye(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const d={...r,...u},{memoize:f,memoizeOptions:m=[],argsMemoize:p=zZ,argsMemoizeOptions:g=[]}=d,x=m9(m),y=m9(g),w=dye(i),E=f(function(){return a++,l.apply(null,arguments)},...x),_=p(function(){o++;const C=hye(w,arguments);return c=E.apply(null,C),c},...y);return Object.assign(_,{resultFunc:l,memoizedResultFunc:E,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var hr=pye(zZ),gye=Object.assign((t,e=hr)=>{cye(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((o,c,u)=>(o[r[u]]=c,o),{}))},{withTypes:()=>gye}),AL={},pL={},gL={},p9;function vye(){return p9||(p9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=e(n),c=e(i);if(o===c&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};t.compareValues=r})(gL)),gL}var vL={},xL={},g9;function VZ(){return g9||(g9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(xL)),xL}var v9;function xye(){return v9||(v9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VZ(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(vL)),vL}var x9;function yye(){return x9||(x9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vye(),r=xye(),n=mD();function i(a,o,c,u){if(a==null)return[];c=u?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(p=>String(p));const l=(p,g)=>{let x=p;for(let y=0;y<g.length&&x!=null;++y)x=x[g[y]];return x},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:l(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?l(g,p):typeof g=="object"?g[p]:g,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:f.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let x=0;x<f.length;x++){const y=e.compareValues(p.criteria[x],g.criteria[x],c[x]);if(y!==0)return y}return 0}).map(p=>p.original)}t.orderBy=i})(pL)),pL}var yL={},y9;function bye(){return y9||(y9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),o=(c,u)=>{for(let l=0;l<c.length;l++){const d=c[l];Array.isArray(d)&&u<a?o(d,u+1):i.push(d)}};return o(r,0),i}t.flatten=e})(yL)),yL}var bL={},b9;function KZ(){return b9||(b9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HZ(),r=vD(),n=RZ(),i=MZ();function a(o,c,u){return n.isObject(u)&&(typeof c=="number"&&r.isArrayLike(u)&&e.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.isEqualsSameValueZero(u[c],o):!1}t.isIterateeCall=a})(bL)),bL}var w9;function wye(){return w9||(w9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yye(),r=bye(),n=KZ();function i(a,...o){const c=o.length;return c>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,r.flatten(o),["asc"])}t.sortBy=i})(AL)),AL}var wL,E9;function Eye(){return E9||(E9=1,wL=wye().sortBy),wL}var _ye=Eye();const ak=Gh(_ye);var GZ=t=>t.legend.settings,Sye=t=>t.legend.size,jye=t=>t.legend.payload,Tye=hr([jye,GZ],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?ak(n,r):n});function Cye(){return ai(Tye)}var tS=1;function WZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>tS||Math.abs(o.left-e.left)>tS||Math.abs(o.top-e.top)>tS||Math.abs(o.width-e.width)>tS)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Fd(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nye=typeof Symbol=="function"&&Symbol.observable||"@@observable",_9=Nye,EL=()=>Math.random().toString(36).substring(7).split("").join("."),kye={INIT:`@@redux/INIT${EL()}`,REPLACE:`@@redux/REPLACE${EL()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${EL()}`},eC=kye;function bD(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function YZ(t,e,r){if(typeof t!="function")throw new Error(Fd(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Fd(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Fd(1));return r(YZ)(t,e)}let n=t,i=e,a=new Map,o=a,c=0,u=!1;function l(){o===a&&(o=new Map,a.forEach((y,w)=>{o.set(w,y)}))}function d(){if(u)throw new Error(Fd(3));return i}function f(y){if(typeof y!="function")throw new Error(Fd(4));if(u)throw new Error(Fd(5));let w=!0;l();const E=c++;return o.set(E,y),function(){if(w){if(u)throw new Error(Fd(6));w=!1,l(),o.delete(E),a=null}}}function m(y){if(!bD(y))throw new Error(Fd(7));if(typeof y.type>"u")throw new Error(Fd(8));if(typeof y.type!="string")throw new Error(Fd(17));if(u)throw new Error(Fd(9));try{u=!0,i=n(i,y)}finally{u=!1}return(a=o).forEach(E=>{E()}),y}function p(y){if(typeof y!="function")throw new Error(Fd(10));n=y,m({type:eC.REPLACE})}function g(){const y=f;return{subscribe(w){if(typeof w!="object"||w===null)throw new Error(Fd(11));function E(){const N=w;N.next&&N.next(d())}return E(),{unsubscribe:y(E)}},[_9](){return this}}}return m({type:eC.INIT}),{dispatch:m,subscribe:f,getState:d,replaceReducer:p,[_9]:g}}function Lye(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:eC.INIT})>"u")throw new Error(Fd(12));if(typeof r(void 0,{type:eC.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Fd(13))})}function qZ(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{Lye(r)}catch(a){i=a}return function(o={},c){if(i)throw i;let u=!1;const l={};for(let d=0;d<n.length;d++){const f=n[d],m=r[f],p=o[f],g=m(p,c);if(typeof g>"u")throw c&&c.type,new Error(Fd(14));l[f]=g,u=u||g!==p}return u=u||n.length!==Object.keys(o).length,u?l:o}}function tC(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Iye(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Fd(15))};const o={getState:i.getState,dispatch:(u,...l)=>a(u,...l)},c=t.map(u=>u(o));return a=tC(...c)(i.dispatch),{...i,dispatch:a}}}function XZ(t){return bD(t)&&"type"in t&&typeof t.type=="string"}var ZZ=Symbol.for("immer-nothing"),S9=Symbol.for("immer-draftable"),_h=Symbol.for("immer-state");function Dm(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wf=Object,Gb=wf.getPrototypeOf,rC="constructor",ok="prototype",fP="configurable",nC="enumerable",hj="writable",HE="value",rg=t=>!!t&&!!t[_h];function Qm(t){return t?JZ(t)||ck(t)||!!t[S9]||!!t[rC]?.[S9]||uk(t)||dk(t):!1}var Bye=wf[ok][rC].toString(),j9=new WeakMap;function JZ(t){if(!t||!wD(t))return!1;const e=Gb(t);if(e===null||e===wf[ok])return!0;const r=wf.hasOwnProperty.call(e,rC)&&e[rC];if(r===Object)return!0;if(!Ny(r))return!1;let n=j9.get(r);return n===void 0&&(n=Function.toString.call(r),j9.set(r,n)),n===Bye}function lk(t,e,r=!0){K2(t)===0?(r?Reflect.ownKeys(t):wf.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function K2(t){const e=t[_h];return e?e.type_:ck(t)?1:uk(t)?2:dk(t)?3:0}var T9=(t,e,r=K2(t))=>r===2?t.has(e):wf[ok].hasOwnProperty.call(t,e),mP=(t,e,r=K2(t))=>r===2?t.get(e):t[e],iC=(t,e,r,n=K2(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function Pye(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ck=Array.isArray,uk=t=>t instanceof Map,dk=t=>t instanceof Set,wD=t=>typeof t=="object",Ny=t=>typeof t=="function",_L=t=>typeof t=="boolean";function Oye(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Rp=t=>t.copy_||t.base_,ED=t=>t.modified_?t.copy_:t.base_;function AP(t,e){if(uk(t))return new Map(t);if(dk(t))return new Set(t);if(ck(t))return Array[ok].slice.call(t);const r=JZ(t);if(e===!0||e==="class_only"&&!r){const n=wf.getOwnPropertyDescriptors(t);delete n[_h];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],c=n[o];c[hj]===!1&&(c[hj]=!0,c[fP]=!0),(c.get||c.set)&&(n[o]={[fP]:!0,[hj]:!0,[nC]:c[nC],[HE]:t[o]})}return wf.create(Gb(t),n)}else{const n=Gb(t);if(n!==null&&r)return{...t};const i=wf.create(n);return wf.assign(i,t)}}function _D(t,e=!1){return hk(t)||rg(t)||!Qm(t)||(K2(t)>1&&wf.defineProperties(t,{set:rS,add:rS,clear:rS,delete:rS}),wf.freeze(t),e&&lk(t,(r,n)=>{_D(n,!0)},!1)),t}function Rye(){Dm(2)}var rS={[HE]:Rye};function hk(t){return t===null||!wD(t)?!0:wf.isFrozen(t)}var sC="MapSet",pP="Patches",C9="ArrayMethods",eJ={};function Sx(t){const e=eJ[t];return e||Dm(0,t),e}var N9=t=>!!eJ[t],QE,tJ=()=>QE,Dye=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:N9(sC)?Sx(sC):void 0,arrayMethodsPlugin_:N9(C9)?Sx(C9):void 0});function k9(t,e){e&&(t.patchPlugin_=Sx(pP),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function gP(t){vP(t),t.drafts_.forEach(Mye),t.drafts_=null}function vP(t){t===QE&&(QE=t.parent_)}var L9=t=>QE=Dye(QE,t);function Mye(t){const e=t[_h];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function I9(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[_h].modified_&&(gP(e),Dm(4)),Qm(t)&&(t=B9(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[_h].base_,t,e)}else t=B9(e,r);return Fye(e,t,!0),gP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZZ?t:void 0}function B9(t,e){if(hk(e))return e;const r=e[_h];if(!r)return aC(e,t.handledSet_,t);if(!fk(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);iJ(r,t)}return r.copy_}function Fye(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&_D(e,r)}function rJ(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var fk=(t,e)=>t.scope_===e,Uye=[];function nJ(t,e,r,n){const i=Rp(t),a=t.type_;if(n!==void 0&&mP(i,n,a)===e){iC(i,n,r,a);return}if(!t.draftLocations_){const c=t.draftLocations_=new Map;lk(i,(u,l)=>{if(rg(l)){const d=c.get(l)||[];d.push(u),c.set(l,d)}})}const o=t.draftLocations_.get(e)??Uye;for(const c of o)iC(i,c,r,a)}function $ye(t,e,r){t.callbacks_.push(function(i){const a=e;if(!a||!fk(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const o=ED(a);nJ(t,a.draft_??a,o,r),iJ(a,i)})}function iJ(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(t);i&&n.generatePatches_(t,i,e)}rJ(t)}}function Hye(t,e,r){const{scope_:n}=t;if(rg(r)){const i=r[_h];fk(i,n)&&i.callbacks_.push(function(){fj(t);const o=ED(i);nJ(t,r,o,e)})}else Qm(r)&&t.callbacks_.push(function(){const a=Rp(t);t.type_===3?a.has(r)&&aC(r,n.handledSet_,n):mP(a,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&aC(mP(t.copy_,e,t.type_),n.handledSet_,n)})}function aC(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||rg(t)||e.has(t)||!Qm(t)||hk(t)||(e.add(t),lk(t,(n,i)=>{if(rg(i)){const a=i[_h];if(fk(a,r)){const o=ED(a);iC(t,n,o,t.type_),rJ(a)}}else Qm(i)&&aC(i,e,r)})),t}function Qye(t,e){const r=ck(t),n={type_:r?1:0,scope_:e?e.scope_:tJ(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=oC;r&&(i=[n],a=zE);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=o,[c,n]}var oC={get(t,e){if(e===_h)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r?.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=Rp(t);if(!T9(i,e,t.type_))return zye(t,i,e);const a=i[e];if(t.finalized_||!Qm(a)||n&&t.operationMethod&&r?.isMutatingArrayMethod(t.operationMethod)&&Oye(e))return a;if(a===SL(t.base_,e)){fj(t);const o=t.type_===1?+e:e,c=yP(t.scope_,a,t,o);return t.copy_[o]=c}return a},has(t,e){return e in Rp(t)},ownKeys(t){return Reflect.ownKeys(Rp(t))},set(t,e,r){const n=sJ(Rp(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=SL(Rp(t),e),a=i?.[_h];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(Pye(r,i)&&(r!==void 0||T9(t.base_,e,t.type_)))return!0;fj(t),xP(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),Hye(t,e,r)),!0},deleteProperty(t,e){return fj(t),SL(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),xP(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Rp(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[hj]:!0,[fP]:t.type_!==1||e!=="length",[nC]:n[nC],[HE]:r[e]}},defineProperty(){Dm(11)},getPrototypeOf(t){return Gb(t.base_)},setPrototypeOf(){Dm(12)}},zE={};for(let t in oC){let e=oC[t];zE[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}zE.deleteProperty=function(t,e){return zE.set.call(this,t,e,void 0)};zE.set=function(t,e,r){return oC.set.call(this,t[0],e,r,t[0])};function SL(t,e){const r=t[_h];return(r?Rp(r):t)[e]}function zye(t,e,r){const n=sJ(e,r);return n?HE in n?n[HE]:n.get?.call(t.draft_):void 0}function sJ(t,e){if(!(e in t))return;let r=Gb(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Gb(r)}}function xP(t){t.modified_||(t.modified_=!0,t.parent_&&xP(t.parent_))}function fj(t){t.copy_||(t.assigned_=new Map,t.copy_=AP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Vye=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ny(r)&&!Ny(n)){const o=n;n=r;const c=this;return function(l=o,...d){return c.produce(l,f=>n.call(this,f,...d))}}Ny(n)||Dm(6),i!==void 0&&!Ny(i)&&Dm(7);let a;if(Qm(r)){const o=L9(this),c=yP(o,r,void 0);let u=!0;try{a=n(c),u=!1}finally{u?gP(o):vP(o)}return k9(o,i),I9(a,o)}else if(!r||!wD(r)){if(a=n(r),a===void 0&&(a=r),a===ZZ&&(a=void 0),this.autoFreeze_&&_D(a,!0),i){const o=[],c=[];Sx(pP).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:c}),i(o,c)}return a}else Dm(1,r)},this.produceWithPatches=(r,n)=>{if(Ny(r))return(c,...u)=>this.produceWithPatches(c,l=>r(l,...u));let i,a;return[this.produce(r,n,(c,u)=>{i=c,a=u}),i,a]},_L(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),_L(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),_L(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Qm(e)||Dm(8),rg(e)&&(e=$m(e));const r=L9(this),n=yP(r,e,void 0);return n[_h].isManual_=!0,vP(r),n}finishDraft(e,r){const n=e&&e[_h];(!n||!n.isManual_)&&Dm(9);const{scope_:i}=n;return k9(i,r),I9(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Sx(pP).applyPatches_;return rg(e)?i(e,r):this.produce(e,a=>i(a,r))}};function yP(t,e,r,n){const[i,a]=uk(e)?Sx(sC).proxyMap_(e,r):dk(e)?Sx(sC).proxySet_(e,r):Qye(e,r);return(r?.scope_??tJ()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?$ye(r,a,n):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:l}=u;a.modified_&&l&&l.generatePatches_(a,[],u)}),i}function $m(t){return rg(t)||Dm(10,t),aJ(t)}function aJ(t){if(!Qm(t)||hk(t))return t;const e=t[_h];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=AP(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=AP(t,!0);return lk(r,(i,a)=>{iC(r,i,aJ(a))},n),e&&(e.finalized_=!1),r}var Kye=new Vye,oJ=Kye.produce;function lJ(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var Gye=lJ(),Wye=lJ,Yye=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?tC:tC.apply(null,arguments)};function im(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Ef(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>XZ(n)&&n.type===t,r}var cJ=class Iw extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Iw.prototype)}static get[Symbol.species](){return Iw}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Iw(...e[0].concat(this)):new Iw(...e.concat(this))}};function P9(t){return Qm(t)?oJ(t,()=>{}):t}function nS(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function qye(t){return typeof t=="boolean"}var Xye=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new cJ;return r&&(qye(r)?o.push(Gye):o.push(Wye(r.extraArgument))),o},uJ="RTK_autoBatch",Jl=()=>t=>({payload:t,meta:{[uJ]:!0}}),O9=t=>e=>{setTimeout(e,t)},dJ=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,o=!1;const c=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:O9(10):t.type==="callback"?t.queueNotification:O9(t.timeout),l=()=>{o=!1,a&&(a=!1,c.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),m=n.subscribe(f);return c.add(d),()=>{m(),c.delete(d)}},dispatch(d){try{return i=!d?.meta?.[uJ],a=!i,a&&(o||(o=!0,u(l))),n.dispatch(d)}finally{i=!0}}})},Zye=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new cJ(t);return n&&i.push(dJ(typeof n=="object"?n:void 0)),i};function Jye(t){const e=Xye(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(bD(r))c=qZ(r);else throw new Error(Ef(1));let u;typeof n=="function"?u=n(e):u=e();let l=tC;i&&(l=Yye({trace:!1,...typeof i=="object"&&i}));const d=Iye(...u),f=Zye(d);let m=typeof o=="function"?o(f):f();const p=l(...m);return YZ(c,a,p)}function hJ(t){const e={},r=[];let n;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Ef(28));if(c in e)throw new Error(Ef(29));return e[c]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function ebe(t){return typeof t=="function"}function tbe(t,e){let[r,n,i]=hJ(e),a;if(ebe(t))a=()=>P9(t());else{const c=P9(t);a=()=>c}function o(c=a(),u){let l=[r[u.type],...n.filter(({matcher:d})=>d(u)).map(({reducer:d})=>d)];return l.filter(d=>!!d).length===0&&(l=[i]),l.reduce((d,f)=>{if(f)if(rg(d)){const p=f(d,u);return p===void 0?d:p}else{if(Qm(d))return oJ(d,m=>f(m,u));{const m=f(d,u);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},c)}return o.getInitialState=a,o}var rbe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nbe=(t=21)=>{let e="",r=t;for(;r--;)e+=rbe[Math.random()*64|0];return e},ibe=Symbol.for("rtk-slice-createasyncthunk");function sbe(t,e){return`${t}/${e}`}function abe({creators:t}={}){const e=t?.asyncThunk?.[ibe];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Ef(11));const o=(typeof n.reducers=="function"?n.reducers(lbe()):n.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(_,N){const C=typeof _=="string"?_:_.type;if(!C)throw new Error(Ef(12));if(C in u.sliceCaseReducersByType)throw new Error(Ef(13));return u.sliceCaseReducersByType[C]=N,l},addMatcher(_,N){return u.sliceMatchers.push({matcher:_,reducer:N}),l},exposeAction(_,N){return u.actionCreators[_]=N,l},exposeCaseReducer(_,N){return u.sliceCaseReducersByName[_]=N,l}};c.forEach(_=>{const N=o[_],C={reducerName:_,type:sbe(i,_),createNotation:typeof n.reducers=="function"};ube(N)?hbe(C,N,l,e):cbe(C,N,l)});function d(){const[_={},N=[],C=void 0]=typeof n.extraReducers=="function"?hJ(n.extraReducers):[n.extraReducers],I={..._,...u.sliceCaseReducersByType};return tbe(n.initialState,D=>{for(let M in I)D.addCase(M,I[M]);for(let M of u.sliceMatchers)D.addMatcher(M.matcher,M.reducer);for(let M of N)D.addMatcher(M.matcher,M.reducer);C&&D.addDefaultCase(C)})}const f=_=>_,m=new Map,p=new WeakMap;let g;function x(_,N){return g||(g=d()),g(_,N)}function y(){return g||(g=d()),g.getInitialState()}function w(_,N=!1){function C(D){let M=D[_];return typeof M>"u"&&N&&(M=nS(p,C,y)),M}function I(D=f){const M=nS(m,N,()=>new WeakMap);return nS(M,D,()=>{const Y={};for(const[X,te]of Object.entries(n.selectors??{}))Y[X]=obe(te,D,()=>nS(p,D,y),N);return Y})}return{reducerPath:_,getSelectors:I,get selectors(){return I(C)},selectSlice:C}}const E={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...w(a),injectInto(_,{reducerPath:N,...C}={}){const I=N??a;return _.inject({reducerPath:I,reducer:x},C),{...E,...w(I,!0)}}};return E}}function obe(t,e,r,n){function i(a,...o){let c=e(a);return typeof c>"u"&&n&&(c=r()),t(c,...o)}return i.unwrapped=t,i}var Yh=abe();function lbe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function cbe({type:t,reducerName:e,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!dbe(n))throw new Error(Ef(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?im(t,o):im(t))}function ube(t){return t._reducerDefinitionType==="asyncThunk"}function dbe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function hbe({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Ef(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:u,settled:l,options:d}=r,f=i(t,a,d);n.exposeAction(e,f),o&&n.addCase(f.fulfilled,o),c&&n.addCase(f.pending,c),u&&n.addCase(f.rejected,u),l&&n.addMatcher(f.settled,l),n.exposeCaseReducer(e,{fulfilled:o||iS,pending:c||iS,rejected:u||iS,settled:l||iS})}function iS(){}var fbe="task",fJ="listener",mJ="completed",SD="cancelled",mbe=`task-${SD}`,Abe=`task-${mJ}`,bP=`${fJ}-${SD}`,pbe=`${fJ}-${mJ}`,mk=class{constructor(t){this.code=t,this.message=`${fbe} ${SD} (reason: ${t})`}name="TaskAbortError";message},jD=(t,e)=>{if(typeof t!="function")throw new TypeError(Ef(32))},lC=()=>{},AJ=(t,e=lC)=>(t.catch(e),t),pJ=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),sx=t=>{if(t.aborted)throw new mk(t.reason)};function gJ(t,e){let r=lC;return new Promise((n,i)=>{const a=()=>i(new mk(t.reason));if(t.aborted){a();return}r=pJ(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=lC})}var gbe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof mk?"cancelled":"rejected",error:r}}finally{e?.()}},cC=t=>e=>AJ(gJ(t,e).then(r=>(sx(t),r))),vJ=t=>{const e=cC(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:_b}=Object,R9={},Ak="listenerMiddleware",vbe=(t,e)=>{const r=n=>pJ(t,()=>n.abort(t.reason));return(n,i)=>{jD(n);const a=new AbortController;r(a);const o=gbe(async()=>{sx(t),sx(a.signal);const c=await n({pause:cC(a.signal),delay:vJ(a.signal),signal:a.signal});return sx(a.signal),c},()=>a.abort(Abe));return i?.autoJoin&&e.push(o.catch(lC)),{result:cC(t)(o),cancel(){a.abort(mbe)}}}},xbe=(t,e)=>{const r=async(n,i)=>{sx(e);let a=()=>{};const c=[new Promise((u,l)=>{let d=t({predicate:n,effect:(f,m)=>{m.unsubscribe(),u([f,m.getState(),m.getOriginalState()])}});a=()=>{d(),l()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await gJ(e,Promise.race(c));return sx(e),u}finally{a()}};return(n,i)=>AJ(r(n,i))},xJ=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=im(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Ef(21));return jD(a),{predicate:i,type:e,effect:a}},yJ=_b(t=>{const{type:e,predicate:r,effect:n}=xJ(t);return{id:nbe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ef(22))}}},{withTypes:()=>yJ}),D9=(t,e)=>{const{type:r,effect:n,predicate:i}=xJ(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},wP=t=>{t.pending.forEach(e=>{e.abort(bP)})},ybe=(t,e)=>()=>{for(const r of e.keys())wP(r);t.clear()},M9=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},bJ=_b(im(`${Ak}/add`),{withTypes:()=>bJ}),bbe=im(`${Ak}/removeAll`),wJ=_b(im(`${Ak}/remove`),{withTypes:()=>wJ}),wbe=(...t)=>{console.error(`${Ak}/error`,...t)},G2=(t={})=>{const e=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:a,onError:o=wbe}=t;jD(o);const c=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g?.cancelActive&&wP(p)}),u=p=>{const g=D9(e,p)??yJ(p);return c(g)};_b(u,{withTypes:()=>u});const l=p=>{const g=D9(e,p);return g&&(g.unsubscribe(),p.cancelActive&&wP(g)),!!g};_b(l,{withTypes:()=>l});const d=async(p,g,x,y)=>{const w=new AbortController,E=xbe(u,w.signal),_=[];try{p.pending.add(w),n(p),await Promise.resolve(p.effect(g,_b({},x,{getOriginalState:y,condition:(N,C)=>E(N,C).then(Boolean),take:E,delay:vJ(w.signal),pause:cC(w.signal),extra:a,signal:w.signal,fork:vbe(w.signal,_),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((N,C,I)=>{N!==w&&(N.abort(bP),I.delete(N))})},cancel:()=>{w.abort(bP),p.pending.delete(w)},throwIfCancelled:()=>{sx(w.signal)}})))}catch(N){N instanceof mk||M9(o,N,{raisedBy:"effect"})}finally{await Promise.all(_),w.abort(pbe),i(p),p.pending.delete(w)}},f=ybe(e,r);return{middleware:p=>g=>x=>{if(!XZ(x))return g(x);if(bJ.match(x))return u(x.payload);if(bbe.match(x)){f();return}if(wJ.match(x))return l(x.payload);let y=p.getState();const w=()=>{if(y===R9)throw new Error(Ef(23));return y};let E;try{if(E=g(x),e.size>0){const _=p.getState(),N=Array.from(e.values());for(const C of N){let I=!1;try{I=C.predicate(x,_,y)}catch(D){I=!1,M9(o,D,{raisedBy:"predicate"})}I&&d(C,x,p,w)}}}finally{y=R9}return E},startListening:u,stopListening:l,clearListeners:f}};function Ef(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ebe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},EJ=Yh({name:"chartLayout",initialState:Ebe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:_be,setLayout:Sbe,setChartSize:jbe,setScale:Tbe}=EJ.actions,Cbe=EJ.reducer;function _J(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Ha(t){return Number.isFinite(t)}function XA(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function F9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(r),!0).forEach(function(n){Nbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nbe(t,e,r){return(e=kbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kbe(t){var e=Lbe(t,"string");return typeof e=="symbol"?e:e+""}function Lbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hl(t,e,r){return iu(t)||iu(e)?r:qA(e)?Ex(t,e,r):typeof e=="function"?e(t):r}var Ibe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&_i(t[a]))return cb(cb({},t),{},{[a]:t[a]+(n||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&_i(t[o]))return cb(cb({},t),{},{[o]:t[o]+(i||0)})}return t},hg=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",SJ=(t,e,r,n)=>{if(n)return t.map(c=>c.coordinate);var i,a,o=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===r&&(a=!0),c.coordinate));return i||o.push(e),a||o.push(r),o},jJ=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:l,tickCount:d,ticks:f,niceTicks:m,axisType:p}=t;if(!o)return null;var g=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(x=p==="angleAxis"&&a&&a.length>=2?vd(a[0]-a[1])*2*x:x,f||m){var y=(f||m||[]).map((w,E)=>{var _=n?n.indexOf(w):w,N=o.map(_);return Ha(N)?{coordinate:N+x,value:w,offset:x,index:E}:null}).filter(Hh);return y}return u&&l?l.map((w,E)=>{var _=o.map(w);return Ha(_)?{coordinate:_+x,value:w,index:E,offset:x}:null}).filter(Hh):o.ticks&&d!=null?o.ticks(d).map((w,E)=>{var _=o.map(w);return Ha(_)?{coordinate:_+x,value:w,index:E,offset:x}:null}).filter(Hh):o.domain().map((w,E)=>{var _=o.map(w);return Ha(_)?{coordinate:_+x,value:n?n[w]:w,index:E,offset:x}:null}).filter(Hh)},Bbe=(t,e)=>{if(!e||e.length!==2||!_i(e[0])||!_i(e[1]))return t;var r=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!_i(t[0])||t[0]<r)&&(i[0]=r),(!_i(t[1])||t[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Pbe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,c=0;c<r;++c){var u=t[c],l=u?.[i];if(l!=null){var d=l[1],f=l[0],m=YA(d)?f:d;m>=0?(l[0]=a,a+=m,l[1]=a):(l[0]=o,o+=m,l[1]=o)}}}},Obe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var c=t[o],u=c?.[i];if(u!=null){var l=YA(u[1])?u[0]:u[1];l>=0?(u[0]=a,a+=l,u[1]=a):(u[0]=0,u[1]=0)}}}},Rbe={sign:Pbe,expand:txe,none:wx,silhouette:rxe,wiggle:nxe,positive:Obe},Dbe=(t,e,r)=>{var n,i=(n=Rbe[r])!==null&&n!==void 0?n:wx,a=exe().keys(e).value((c,u)=>Number(hl(c,u,0))).order(dP).offset(i),o=a(t);return o.forEach((c,u)=>{c.forEach((l,d)=>{var f=hl(t[d],e[u],0);Array.isArray(f)&&f.length===2&&_i(f[0])&&_i(f[1])&&(l[0]=f[0],l[1]=f[1])})}),o};function Mbe(t){return t==null?void 0:String(t)}var U9=t=>{var{axis:e,ticks:r,offset:n,bandSize:i,entry:a,index:o}=t;if(e.type==="category")return r[o]?r[o].coordinate+n:null;var c=hl(a,e.dataKey,e.scale.domain()[o]);if(iu(c))return null;var u=e.scale.map(c);return _i(u)?u-i/2+n:null},Fbe=t=>{var{numericAxis:e}=t,r=e.scale.domain();if(e.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Ube=t=>{var e=t.flat(2).filter(_i);return[Math.min(...e),Math.max(...e)]},$be=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Hbe=(t,e,r)=>{if(t!=null)return $be(Object.keys(t).reduce((n,i)=>{var a=t[i];if(!a)return n;var{stackedData:o}=a,c=o.reduce((u,l)=>{var d=_J(l,e,r),f=Ube(d);return!Ha(f[0])||!Ha(f[1])?u:[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},$9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wb=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=ak(e,d=>d.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var u=i[o],l=i[o-1];a=Math.min((u?.coordinate||0)-(l?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Q9(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return cb(cb({},e),{},{dataKey:r,payload:n,value:i,name:a})}function w1(t,e){if(t)return String(t);if(typeof e=="string")return e}var Qbe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},zbe=(t,e)=>e==="centric"?t.angle:t.radius,fg=t=>t.layout.width,mg=t=>t.layout.height,Vbe=t=>t.layout.scale,TJ=t=>t.layout.margin,pk=hr(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),gk=hr(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),CJ="data-recharts-item-index",NJ="data-recharts-item-id",W2=60;function z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z9(Object(r),!0).forEach(function(n){Kbe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kbe(t,e,r){return(e=Gbe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gbe(t){var e=Wbe(t,"string");return typeof e=="symbol"?e:e+""}function Wbe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ybe=t=>t.brush.height;function qbe(t){var e=gk(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:W2;return r+i}return r},0)}function Xbe(t){var e=gk(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:W2;return r+i}return r},0)}function Zbe(t){var e=pk(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Jbe(t){var e=pk(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Wu=hr([fg,mg,TJ,Ybe,qbe,Xbe,Zbe,Jbe,GZ,Sye],(t,e,r,n,i,a,o,c,u,l)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+o,bottom:(r.bottom||0)+c},m=sS(sS({},f),d),p=m.bottom;m.bottom+=n,m=Ibe(m,u,l);var g=t-m.left-m.right,x=e-m.top-m.bottom;return sS(sS({brushBottom:p},m),{},{width:Math.max(g,0),height:Math.max(x,0)})}),e1e=hr(Wu,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),TD=hr(fg,mg,(t,e)=>({x:0,y:0,width:t,height:e})),t1e=T.createContext(null),oh=()=>T.useContext(t1e)!=null,vk=t=>t.brush,xk=hr([vk,Wu,TJ],(t,e,r)=>({height:t.height,x:_i(t.x)?t.x:e.left,y:_i(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:_i(t.width)?t.width:e.width})),jL={},TL={},CL={},V9;function r1e(){return V9||(V9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let o,c=null;const u=a!=null&&a.includes("leading"),l=a==null||a.includes("trailing"),d=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},f=()=>{l&&d(),x()};let m=null;const p=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},n)},g=()=>{m!==null&&(clearTimeout(m),m=null)},x=()=>{g(),o=void 0,c=null},y=()=>{d()},w=function(...E){if(i?.aborted)return;o=this,c=E;const _=m==null;p(),u&&_&&d()};return w.schedule=p,w.cancel=x,w.flush=y,i?.addEventListener("abort",x,{once:!0}),w}t.debounce=e})(CL)),CL}var K9;function n1e(){return K9||(K9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r1e();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:u}=a,l=Array(2);o&&(l[0]="leading"),c&&(l[1]="trailing");let d,f=null;const m=e.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:l}),p=function(...x){return u!=null&&(f===null&&(f=Date.now()),Date.now()-f>=u)?(d=n.apply(this,x),f=Date.now(),m.cancel(),m.schedule(),d):(m.apply(this,x),d)},g=()=>(m.flush(),d);return p.cancel=m.cancel,p.flush=g,p}t.debounce=r})(TL)),TL}var G9;function i1e(){return G9||(G9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n1e();function r(n,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return e.debounce(n,i,{leading:o,maxWait:i,trailing:c})}t.throttle=r})(jL)),jL}var NL,W9;function s1e(){return W9||(W9=1,NL=i1e().throttle),NL}var a1e=s1e();const o1e=Gh(a1e);var uC=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},DA={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},kJ=(t,e,r)=>{var{width:n=DA.width,height:i=DA.height,aspect:a,maxHeight:o}=r,c=_x(n)?t:Number(n),u=_x(i)?e:Number(i);return a&&a>0&&(c?u=c/a:u&&(c=u*a),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},l1e={width:0,height:0,overflow:"visible"},c1e={width:0,overflowX:"visible"},u1e={height:0,overflowY:"visible"},d1e={},h1e=t=>{var{width:e,height:r}=t,n=_x(e),i=_x(r);return n&&i?l1e:n?c1e:i?u1e:d1e};function f1e(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i=DA.width,a=DA.height):i===void 0?i=n&&n>0?void 0:DA.width:a===void 0&&(a=n&&n>0?void 0:DA.height),{width:i,height:a}}function EP(){return EP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EP.apply(null,arguments)}function Y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(r),!0).forEach(function(n){m1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m1e(t,e,r){return(e=A1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A1e(t){var e=p1e(t,"string");return typeof e=="symbol"?e:e+""}function p1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LJ=T.createContext(DA.initialDimension);function g1e(t){return XA(t.width)&&XA(t.height)}function IJ(t){var{children:e,width:r,height:n}=t,i=T.useMemo(()=>({width:r,height:n}),[r,n]);return g1e(i)?T.createElement(LJ.Provider,{value:i},e):null}var CD=()=>T.useContext(LJ),v1e=T.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=DA.initialDimension,width:i,height:a,minWidth:o=DA.minWidth,minHeight:c,maxHeight:u,children:l,debounce:d=DA.debounce,id:f,className:m,onResize:p,style:g={}}=t,x=T.useRef(null),y=T.useRef();y.current=p,T.useImperativeHandle(e,()=>x.current);var[w,E]=T.useState({containerWidth:n.width,containerHeight:n.height}),_=T.useCallback((M,Y)=>{E(X=>{var te=Math.round(M),de=Math.round(Y);return X.containerWidth===te&&X.containerHeight===de?X:{containerWidth:te,containerHeight:de}})},[]);T.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return X0;var M=de=>{var ye,we=de[0];if(we!=null){var{width:ve,height:ne}=we.contentRect;_(ve,ne),(ye=y.current)===null||ye===void 0||ye.call(y,ve,ne)}};d>0&&(M=o1e(M,d,{trailing:!0,leading:!1}));var Y=new ResizeObserver(M),{width:X,height:te}=x.current.getBoundingClientRect();return _(X,te),Y.observe(x.current),()=>{Y.disconnect()}},[_,d]);var{containerWidth:N,containerHeight:C}=w;uC(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:I,calculatedHeight:D}=kJ(N,C,{width:i,height:a,aspect:r,maxHeight:u});return uC(I!=null&&I>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,i,a,o,c,r),T.createElement("div",{id:f?"".concat(f):void 0,className:Sa("recharts-responsive-container",m),style:q9(q9({},g),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:u}),ref:x},T.createElement("div",{style:h1e({width:i,height:a})},T.createElement(IJ,{width:I,height:D},l)))}),dC=T.forwardRef((t,e)=>{var r=CD();if(XA(r.width)&&XA(r.height))return t.children;var{width:n,height:i}=f1e({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:o}=kJ(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return _i(a)&&_i(o)?T.createElement(IJ,{width:a,height:o},t.children):T.createElement(v1e,EP({},t,{width:n,height:i,ref:e}))});function ND(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var yk=()=>{var t,e=oh(),r=ai(e1e),n=ai(xk),i=(t=ai(vk))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},x1e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BJ=()=>{var t;return(t=ai(Wu))!==null&&t!==void 0?t:x1e},kD=()=>ai(fg),LD=()=>ai(mg),y1e=()=>ai(t=>t.layout.margin),Wa=t=>t.layout.layoutType,E1=()=>ai(Wa),PJ=()=>{var t=E1();if(t==="horizontal"||t==="vertical")return t},ID=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},b1e=()=>ai(ID),w1e=()=>{var t=E1();return t!==void 0},Y2=t=>{var e=Al(),r=oh(),{width:n,height:i}=t,a=CD(),o=n,c=i;return a&&(o=a.width>0?a.width:n,c=a.height>0?a.height:i),T.useEffect(()=>{!r&&XA(o)&&XA(c)&&e(jbe({width:o,height:c}))},[e,r,o,c]),null},OJ=Symbol.for("immer-nothing"),X9=Symbol.for("immer-draftable"),Cf=Symbol.for("immer-state");function Mm(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var VE=Object.getPrototypeOf;function Yb(t){return!!t&&!!t[Cf]}function jx(t){return t?RJ(t)||Array.isArray(t)||!!t[X9]||!!t.constructor?.[X9]||q2(t)||wk(t):!1}var E1e=Object.prototype.constructor.toString(),Z9=new WeakMap;function RJ(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Z9.get(r);return n===void 0&&(n=Function.toString.call(r),Z9.set(r,n)),n===E1e}function hC(t,e,r=!0){bk(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function bk(t){const e=t[Cf];return e?e.type_:Array.isArray(t)?1:q2(t)?2:wk(t)?3:0}function _P(t,e){return bk(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function DJ(t,e,r){const n=bk(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function _1e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function q2(t){return t instanceof Map}function wk(t){return t instanceof Set}function Tv(t){return t.copy_||t.base_}function SP(t,e){if(q2(t))return new Map(t);if(wk(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=RJ(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Cf];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(VE(t),n)}else{const n=VE(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function BD(t,e=!1){return Ek(t)||Yb(t)||!jx(t)||(bk(t)>1&&Object.defineProperties(t,{set:aS,add:aS,clear:aS,delete:aS}),Object.freeze(t),e&&Object.values(t).forEach(r=>BD(r,!0))),t}function S1e(){Mm(2)}var aS={value:S1e};function Ek(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var j1e={};function Tx(t){const e=j1e[t];return e||Mm(0,t),e}var KE;function MJ(){return KE}function T1e(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function J9(t,e){e&&(Tx("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jP(t){TP(t),t.drafts_.forEach(C1e),t.drafts_=null}function TP(t){t===KE&&(KE=t.parent_)}function eH(t){return KE=T1e(KE,t)}function C1e(t){const e=t[Cf];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function tH(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Cf].modified_&&(jP(e),Mm(4)),jx(t)&&(t=fC(e,t),e.parent_||mC(e,t)),e.patches_&&Tx("Patches").generateReplacementPatches_(r[Cf].base_,t,e.patches_,e.inversePatches_)):t=fC(e,r,[]),jP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OJ?t:void 0}function fC(t,e,r){if(Ek(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Cf];if(!i)return hC(e,(a,o)=>rH(t,i,e,a,o,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return mC(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,c=!1;i.type_===3&&(o=new Set(a),a.clear(),c=!0),hC(o,(u,l)=>rH(t,i,a,u,l,r,c),n),mC(t,a,!1),r&&t.patches_&&Tx("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function rH(t,e,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const c=Ek(i);if(!(c&&!o)){if(Yb(i)){const u=a&&e&&e.type_!==3&&!_P(e.assigned_,n)?a.concat(n):void 0,l=fC(t,i,u);if(DJ(r,n,l),Yb(l))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(jx(i)&&!c){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&c)return;fC(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(q2(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&mC(t,i)}}}function mC(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BD(e,r)}function N1e(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:MJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=PD;r&&(i=[n],a=GE);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=o,c}var PD={get(t,e){if(e===Cf)return t;const r=Tv(t);if(!_P(r,e))return k1e(t,r,e);const n=r[e];return t.finalized_||!jx(n)?n:n===kL(t.base_,e)?(LL(t),t.copy_[e]=NP(n,t)):n},has(t,e){return e in Tv(t)},ownKeys(t){return Reflect.ownKeys(Tv(t))},set(t,e,r){const n=FJ(Tv(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=kL(Tv(t),e),a=i?.[Cf];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(_1e(r,i)&&(r!==void 0||_P(t.base_,e)))return!0;LL(t),CP(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kL(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,LL(t),CP(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Tv(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Mm(11)},getPrototypeOf(t){return VE(t.base_)},setPrototypeOf(){Mm(12)}},GE={};hC(PD,(t,e)=>{GE[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});GE.deleteProperty=function(t,e){return GE.set.call(this,t,e,void 0)};GE.set=function(t,e,r){return PD.set.call(this,t[0],e,r,t[0])};function kL(t,e){const r=t[Cf];return(r?Tv(r):t)[e]}function k1e(t,e,r){const n=FJ(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function FJ(t,e){if(!(e in t))return;let r=VE(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=VE(r)}}function CP(t){t.modified_||(t.modified_=!0,t.parent_&&CP(t.parent_))}function LL(t){t.copy_||(t.copy_=SP(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var L1e=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const o=this;return function(u=a,...l){return o.produce(u,d=>r.call(this,d,...l))}}typeof r!="function"&&Mm(6),n!==void 0&&typeof n!="function"&&Mm(7);let i;if(jx(e)){const a=eH(this),o=NP(e,void 0);let c=!0;try{i=r(o),c=!1}finally{c?jP(a):TP(a)}return J9(a,n),tH(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===OJ&&(i=void 0),this.autoFreeze_&&BD(i,!0),n){const a=[],o=[];Tx("Patches").generateReplacementPatches_(e,i,a,o),n(a,o)}return i}else Mm(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,u=>e(u,...c));let n,i;return[this.produce(e,r,(o,c)=>{n=o,i=c}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){jx(t)||Mm(8),Yb(t)&&(t=I1e(t));const e=eH(this),r=NP(t,void 0);return r[Cf].isManual_=!0,TP(e),r}finishDraft(t,e){const r=t&&t[Cf];(!r||!r.isManual_)&&Mm(9);const{scope_:n}=r;return J9(n,e),tH(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Tx("Patches").applyPatches_;return Yb(t)?n(t,e):this.produce(t,i=>n(i,e))}};function NP(t,e){const r=q2(t)?Tx("MapSet").proxyMap_(t,e):wk(t)?Tx("MapSet").proxySet_(t,e):N1e(t,e);return(e?e.scope_:MJ()).drafts_.push(r),r}function I1e(t){return Yb(t)||Mm(10,t),UJ(t)}function UJ(t){if(!jx(t)||Ek(t))return t;const e=t[Cf];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=SP(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=SP(t,!0);return hC(r,(i,a)=>{DJ(r,i,UJ(a))},n),e&&(e.finalized_=!1),r}var B1e=new L1e;B1e.produce;var P1e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$J=Yh({name:"legend",initialState:P1e,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Jl()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=$m(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Jl()},removeLegendPayload:{reducer(t,e){var r=$m(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Jl()}}}),{setLegendSize:nH,setLegendSettings:O1e,addLegendPayload:HJ,replaceLegendPayload:QJ,removeLegendPayload:zJ}=$J.actions,R1e=$J.reducer,D1e=["contextPayload"];function kP(){return kP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kP.apply(null,arguments)}function iH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iH(Object(r),!0).forEach(function(n){M1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function M1e(t,e,r){return(e=F1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F1e(t){var e=U1e(t,"string");return typeof e=="symbol"?e:e+""}function U1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1e(t,e){if(t==null)return{};var r,n,i=H1e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function H1e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Q1e(t){return t.value}function z1e(t){var{contextPayload:e}=t,r=$1e(t,D1e),n=QZ(e,t.payloadUniqBy,Q1e),i=qb(qb({},r),{},{payload:n});return T.isValidElement(t.content)?T.cloneElement(t.content,i):typeof t.content=="function"?T.createElement(t.content,i):T.createElement(Bxe,i)}function V1e(t,e,r,n,i,a){var{layout:o,align:c,verticalAlign:u}=e,l,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(c==="center"&&o==="vertical"?l={left:((n||0)-a.width)/2}:l=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?d={top:((i||0)-a.height)/2}:d=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),qb(qb({},l),d)}function K1e(t){var e=Al();return T.useEffect(()=>{e(O1e(t))},[e,t]),null}function G1e(t){var e=Al();return T.useEffect(()=>(e(nH(t)),()=>{e(nH({width:0,height:0}))}),[e,t]),null}function W1e(t,e,r,n){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:r||n}:null}var Y1e={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function VJ(t){var e=Hc(t,Y1e),r=Cye(),n=_ve(),i=y1e(),{width:a,height:o,wrapperStyle:c,portal:u}=e,[l,d]=WZ([r]),f=kD(),m=LD();if(f==null||m==null)return null;var p=f-(i?.left||0)-(i?.right||0),g=W1e(e.layout,o,a,p),x=u?c:qb(qb({position:"absolute",width:g?.width||a||"auto",height:g?.height||o||"auto"},V1e(c,e,i,f,m,l)),c),y=u??n;if(y==null||r==null)return null;var w=T.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},T.createElement(K1e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&T.createElement(G1e,{width:l.width,height:l.height}),T.createElement(z1e,kP({},e,g,{margin:i,chartWidth:f,chartHeight:m,contextPayload:r})));return j0.createPortal(w,y)}VJ.displayName="Legend";function LP(){return LP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LP.apply(null,arguments)}function sH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sH(Object(r),!0).forEach(function(n){q1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q1e(t,e,r){return(e=X1e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X1e(t){var e=Z1e(t,"string");return typeof e=="symbol"?e:e+""}function Z1e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J1e(t){return Array.isArray(t)&&qA(t[0])&&qA(t[1])?t.join(" ~ "):t}var sy={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},ewe=t=>{var{separator:e=sy.separator,contentStyle:r,itemStyle:n,labelStyle:i=sy.labelStyle,payload:a,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:l,label:d,labelFormatter:f,accessibilityLayer:m=sy.accessibilityLayer}=t,p=()=>{if(a&&a.length){var C={padding:0,margin:0},I=(c?ak(a,c):a).map((D,M)=>{if(D.type==="none")return null;var Y=D.formatter||o||J1e,{value:X,name:te}=D,de=X,ye=te;if(Y){var we=Y(X,te,D,M,a);if(Array.isArray(we))[de,ye]=we;else if(we!=null)de=we;else return null}var ve=nw(nw({},sy.itemStyle),{},{color:D.color||sy.itemStyle.color},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ve},qA(ye)?T.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,qA(ye)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},de),T.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:C},I)}return null},g=nw(nw({},sy.contentStyle),r),x=nw({margin:0},i),y=!iu(d),w=y?d:"",E=Sa("recharts-default-tooltip",u),_=Sa("recharts-tooltip-label",l);y&&f&&a!==void 0&&a!==null&&(w=f(d,a));var N=m?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",LP({className:E,style:g},N),T.createElement("p",{className:_,style:x},T.isValidElement(w)?w:"".concat(w)),p())},iw="recharts-tooltip-wrapper",twe={visibility:"hidden"};function rwe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Sa(iw,{["".concat(iw,"-right")]:_i(r)&&e&&_i(e.x)&&r>=e.x,["".concat(iw,"-left")]:_i(r)&&e&&_i(e.x)&&r<e.x,["".concat(iw,"-bottom")]:_i(n)&&e&&_i(e.y)&&n>=e.y,["".concat(iw,"-top")]:_i(n)&&e&&_i(e.y)&&n<e.y})}function aH(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:l}=t;if(a&&_i(a[n]))return a[n];var d=r[n]-c-(i>0?i:0),f=r[n]+i;if(e[n])return o[n]?d:f;var m=u[n];if(m==null)return 0;if(o[n]){var p=d,g=m;return p<g?Math.max(f,m):Math.max(d,m)}if(l==null)return 0;var x=f+c,y=m+l;return x>y?Math.max(d,m):Math.max(f,m)}function nwe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function iwe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:o,tooltipBox:c,useTranslate3d:u,viewBox:l}=t,d,f,m;return c.height>0&&c.width>0&&r?(f=aH({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:a,reverseDirection:o,tooltipDimension:c.width,viewBox:l,viewBoxDimension:l.width}),m=aH({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:a,reverseDirection:o,tooltipDimension:c.height,viewBox:l,viewBoxDimension:l.height}),d=nwe({translateX:f,translateY:m,useTranslate3d:u})):d=twe,{cssProperties:d,cssClasses:rwe({translateX:f,translateY:m,coordinate:r})}}function oH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oH(Object(r),!0).forEach(function(n){IP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IP(t,e,r){return(e=swe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function swe(t){var e=awe(t,"string");return typeof e=="symbol"?e:e+""}function awe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class owe extends T.PureComponent{constructor(){super(...arguments),IP(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),IP(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:u,offset:l,position:d,reverseDirection:f,useTranslate3d:m,viewBox:p,wrapperStyle:g,lastBoundingBox:x,innerRef:y,hasPortalFromProps:w}=this.props,E=typeof l=="number"?l:l.x,_=typeof l=="number"?l:l.y,{cssClasses:N,cssProperties:C}=iwe({allowEscapeViewBox:r,coordinate:o,offsetLeft:E,offsetTop:_,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:m,viewBox:p}),I=w?{}:oS(oS({transition:u&&e?"transform ".concat(n,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),D=oS(oS({},I),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},g);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:D,ref:y},a)}}var KJ=()=>{var t;return(t=ai(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function BP(){return BP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BP.apply(null,arguments)}function lH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lH(Object(r),!0).forEach(function(n){lwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lwe(t,e,r){return(e=cwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cwe(t){var e=uwe(t,"string");return typeof e=="symbol"?e:e+""}function uwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uH={curveBasisClosed:Qve,curveBasisOpen:zve,curveBasis:Hve,curveBumpX:Cve,curveBumpY:Nve,curveLinearClosed:Vve,curveLinear:ik,curveMonotoneX:Kve,curveMonotoneY:Gve,curveNatural:Wve,curveStep:Yve,curveStepAfter:Xve,curveStepBefore:qve},AC=t=>Ha(t.x)&&Ha(t.y),dH=t=>t.base!=null&&AC(t.base)&&AC(t),sw=t=>t.x,aw=t=>t.y,dwe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(V2(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=uH["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return uH[r]||ik},hH={connectNulls:!1,type:"linear"},hwe=t=>{var{type:e=hH.type,points:r=[],baseLine:n,layout:i,connectNulls:a=hH.connectNulls}=t,o=dwe(e,i),c=a?r.filter(AC):r;if(Array.isArray(n)){var u,l=r.map((g,x)=>cH(cH({},g),{},{base:n[x]}));i==="vertical"?u=J_().y(aw).x1(sw).x0(g=>g.base.x):u=J_().x(sw).y1(aw).y0(g=>g.base.y);var d=u.defined(dH).curve(o),f=a?l.filter(dH):l;return d(f)}var m;i==="vertical"&&_i(n)?m=J_().y(aw).x1(sw).x0(n):_i(n)?m=J_().x(sw).y1(aw).y0(n):m=yZ().x(sw).y(aw);var p=m.defined(AC).curve(o);return p(c)},OD=t=>{var{className:e,points:r,path:n,pathRef:i}=t,a=E1();if((!r||!r.length)&&!n)return null;var o={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},c=r&&r.length?hwe(o):n;return T.createElement("path",BP({},wu(t),gD(t),{className:Sa("recharts-curve",e),d:c===null?void 0:c,ref:i}))},fwe=["x","y","top","left","width","height","className"];function PP(){return PP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PP.apply(null,arguments)}function fH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mwe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fH(Object(r),!0).forEach(function(n){Awe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Awe(t,e,r){return(e=pwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pwe(t){var e=gwe(t,"string");return typeof e=="symbol"?e:e+""}function gwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vwe(t,e){if(t==null)return{};var r,n,i=xwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ywe=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),bwe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:c}=t,u=vwe(t,fwe),l=mwe({x:e,y:r,top:n,left:i,width:a,height:o},u);return!_i(e)||!_i(r)||!_i(a)||!_i(o)||!_i(n)||!_i(i)?null:T.createElement("path",PP({},Ku(l),{className:Sa("recharts-cross",c),d:ywe(e,r,a,o,n,i)}))};function wwe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function mH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mH(Object(r),!0).forEach(function(n){Ewe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ewe(t,e,r){return(e=_we(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _we(t){var e=Swe(t,"string");return typeof e=="symbol"?e:e+""}function Swe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jwe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),GJ=(t,e,r)=>t.map(n=>"".concat(jwe(n)," ").concat(e,"ms ").concat(r)).join(","),Twe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),WE=(t,e)=>Object.keys(e).reduce((r,n)=>AH(AH({},r),{},{[n]:t(n,e[n])}),{});function pH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pH(Object(r),!0).forEach(function(n){Cwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cwe(t,e,r){return(e=Nwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nwe(t){var e=kwe(t,"string");return typeof e=="symbol"?e:e+""}function kwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pC=(t,e,r)=>t+(e-t)*r,OP=t=>{var{from:e,to:r}=t;return e!==r},WJ=(t,e,r)=>{var n=WE((i,a)=>{if(OP(a)){var[o,c]=t(a.from,a.to,a.velocity);return $u($u({},a),{},{from:o,velocity:c})}return a},e);return r<1?WE((i,a)=>OP(a)&&n[i]!=null?$u($u({},a),{},{velocity:pC(a.velocity,n[i].velocity,r),from:pC(a.from,n[i].from,r)}):a,e):WJ(t,n,r-1)};function Lwe(t,e,r,n,i,a){var o,c=n.reduce((m,p)=>$u($u({},m),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),u=()=>WE((m,p)=>p.from,c),l=()=>!Object.values(c).filter(OP).length,d=null,f=m=>{o||(o=m);var p=m-o,g=p/r.dt;c=WJ(r,c,g),i($u($u($u({},t),e),u())),o=m,l()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var m;(m=d)===null||m===void 0||m()})}function Iwe(t,e,r,n,i,a,o){var c=null,u=i.reduce((f,m)=>{var p=t[m],g=e[m];return p==null||g==null?f:$u($u({},f),{},{[m]:[p,g]})},{}),l,d=f=>{l||(l=f);var m=(f-l)/n,p=WE((x,y)=>pC(...y,r(m)),u);if(a($u($u($u({},t),e),p)),m<1)c=o.setTimeout(d);else{var g=WE((x,y)=>pC(...y,r(1)),u);a($u($u($u({},t),e),g))}};return()=>(c=o.setTimeout(d),()=>{var f;(f=c)===null||f===void 0||f()})}const Bwe=(t,e,r,n,i,a)=>{var o=Twe(t,e);return r==null?()=>(i($u($u({},t),e)),()=>{}):r.isStepper===!0?Lwe(t,e,r,o,i,a):Iwe(t,e,r,n,o,i,a)};var gC=1e-4,YJ=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],qJ=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),gH=(t,e)=>r=>{var n=YJ(t,e);return qJ(n,r)},Pwe=(t,e)=>r=>{var n=YJ(t,e),i=[...n.map((a,o)=>a*o).slice(1),0];return qJ(i,r)},Owe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},Rwe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Owe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},Dwe=(t,e,r,n)=>{var i=gH(t,r),a=gH(e,n),o=Pwe(t,r),c=l=>l>1?1:l<0?0:l,u=l=>{for(var d=l>1?1:l,f=d,m=0;m<8;++m){var p=i(f)-d,g=o(f);if(Math.abs(p-d)<gC||g<gC)return a(f);f=c(f-p/g)}return a(f)};return u.isStepper=!1,u},vH=function(){return Dwe(...Rwe(...arguments))},Mwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(o,c,u)=>{var l=-(o-c)*r,d=u*n,f=u+(l-d)*i/1e3,m=u*i/1e3+o;return Math.abs(m-c)<gC&&Math.abs(f)<gC?[c,0]:[m,f]};return a.isStepper=!0,a.dt=i,a},Fwe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vH(t);case"spring":return Mwe();default:if(t.split("(")[0]==="cubic-bezier")return vH(t)}return typeof t=="function"?t:null};function Uwe(t){var e,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...l]=c;if(typeof u=="number"){i=t.setTimeout(a.bind(null,l),u);return}a(u),i=t.setTimeout(a.bind(null,l));return}typeof o=="string"&&(e=o,r(e)),typeof o=="object"&&(e=o,r(e)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>t}}class $we{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Hwe(){return Uwe(new $we)}var Qwe=T.createContext(Hwe);function zwe(t,e){var r=T.useContext(Qwe);return T.useMemo(()=>e??r(t),[t,e,r])}var Vwe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_k={isSsr:Vwe()},Kwe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xH={t:0},IL={t:1};function X2(t){var e=Hc(t,Kwe),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:u,children:l}=e,d=r==="auto"?!_k.isSsr:r,f=zwe(e.animationId,e.animationManager),[m,p]=T.useState(d?xH:IL),g=T.useRef(null);return T.useEffect(()=>{d||p(IL)},[d]),T.useEffect(()=>{if(!d||!n)return X0;var x=Bwe(xH,IL,Fwe(a),i,p,f.getTimeoutController()),y=()=>{g.current=x()};return f.start([u,o,y,i,c]),()=>{f.stop(),g.current&&g.current(),c()}},[d,n,i,a,o,u,c,f]),l(m.t)}function Z2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef($E(e)),n=T.useRef(t);return n.current!==t&&(r.current=$E(e),n.current=t),r.current}var Gwe=["radius"],Wwe=["radius"],yH,bH,wH,EH,_H,SH,jH,TH,CH,NH;function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){Ywe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ywe(t,e,r){return(e=qwe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qwe(t){var e=Xwe(t,"string");return typeof e=="symbol"?e:e+""}function Xwe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vC.apply(null,arguments)}function IH(t,e){if(t==null)return{};var r,n,i=Zwe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Zwe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uA(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var BH=(t,e,r,n,i)=>{var a=N0(r),o=N0(n),c=Math.min(Math.abs(a)/2,Math.abs(o)/2),u=o>=0?1:-1,l=a>=0?1:-1,d=o>=0&&a>=0||o<0&&a<0?1:0,f;if(c>0&&Array.isArray(i)){for(var m=[0,0,0,0],p=0,g=4;p<g;p++){var x,y=(x=i[p])!==null&&x!==void 0?x:0;m[p]=y>c?c:y}f=hc(yH||(yH=uA(["M",",",""])),t,e+u*m[0]),m[0]>0&&(f+=hc(bH||(bH=uA(["A ",",",",0,0,",",",",",""])),m[0],m[0],d,t+l*m[0],e)),f+=hc(wH||(wH=uA(["L ",",",""])),t+r-l*m[1],e),m[1]>0&&(f+=hc(EH||(EH=uA(["A ",",",",0,0,",`,
        `,",",""])),m[1],m[1],d,t+r,e+u*m[1])),f+=hc(_H||(_H=uA(["L ",",",""])),t+r,e+n-u*m[2]),m[2]>0&&(f+=hc(SH||(SH=uA(["A ",",",",0,0,",`,
        `,",",""])),m[2],m[2],d,t+r-l*m[2],e+n)),f+=hc(jH||(jH=uA(["L ",",",""])),t+l*m[3],e+n),m[3]>0&&(f+=hc(TH||(TH=uA(["A ",",",",0,0,",`,
        `,",",""])),m[3],m[3],d,t,e+n-u*m[3])),f+="Z"}else if(c>0&&i===+i&&i>0){var w=Math.min(c,i);f=hc(CH||(CH=uA(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*w,w,w,d,t+l*w,e,t+r-l*w,e,w,w,d,t+r,e+u*w,t+r,e+n-u*w,w,w,d,t+r-l*w,e+n,t+l*w,e+n,w,w,d,t,e+n-u*w)}else f=hc(NH||(NH=uA(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return f},PH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XJ=t=>{var e=Hc(t,PH),r=T.useRef(null),[n,i]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ae=r.current.getTotalLength();ae&&i(ae)}catch{}},[]);var{x:a,y:o,width:c,height:u,radius:l,className:d}=e,{animationEasing:f,animationDuration:m,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:x}=e,y=T.useRef(c),w=T.useRef(u),E=T.useRef(a),_=T.useRef(o),N=T.useMemo(()=>({x:a,y:o,width:c,height:u,radius:l}),[a,o,c,u,l]),C=Z2(N,"rectangle-");if(a!==+a||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var I=Sa("recharts-rectangle",d);if(!x){var D=Ku(e),{radius:M}=D,Y=IH(D,Gwe);return T.createElement("path",vC({},Y,{x:N0(a),y:N0(o),width:N0(c),height:N0(u),radius:typeof l=="number"?l:void 0,className:I,d:BH(a,o,c,u,l)}))}var X=y.current,te=w.current,de=E.current,ye=_.current,we="0px ".concat(n===-1?1:n,"px"),ve="".concat(n,"px 0px"),ne=GJ(["strokeDasharray"],m,typeof f=="string"?f:PH.animationEasing);return T.createElement(X2,{animationId:C,key:C,canBegin:n>0,duration:m,easing:f,isActive:x,begin:p},ae=>{var oe=fc(X,c,ae),Re=fc(te,u,ae),Pe=fc(de,a,ae),be=fc(ye,o,ae);r.current&&(y.current=oe,w.current=Re,E.current=Pe,_.current=be);var he;g?ae>0?he={transition:ne,strokeDasharray:ve}:he={strokeDasharray:we}:he={strokeDasharray:ve};var Ie=Ku(e),{radius:Oe}=Ie,$e=IH(Ie,Wwe);return T.createElement("path",vC({},$e,{radius:typeof l=="number"?l:void 0,className:I,d:BH(Pe,be,oe,Re,l),ref:r,style:LH(LH({},he),e.style)}))})};function OH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function RH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OH(Object(r),!0).forEach(function(n){Jwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jwe(t,e,r){return(e=eEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eEe(t){var e=tEe(t,"string");return typeof e=="symbol"?e:e+""}function tEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xC=Math.PI/180,yC=t=>t*Math.PI/180,rEe=t=>t*180/Math.PI,rl=(t,e,r,n)=>({x:t+Math.cos(-xC*n)*r,y:e+Math.sin(-xC*n)*r}),ZJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nEe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},iEe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,o=nEe({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(r-i)/o,u=Math.acos(c);return n>a&&(u=2*Math.PI-u),{radius:o,angle:rEe(u),angleInRadian:u}},sEe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},aEe=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return t+o*360},oEe=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=iEe({x:r,y:n},e),{innerRadius:o,outerRadius:c}=e;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:l}=sEe(e),d=a,f;if(u<=l){for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}else{for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}return f?RH(RH({},e),{},{radius:i,angle:aEe(d,e)}):null};function JJ(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,o=rl(e,r,n,i),c=rl(e,r,n,a);return{points:[o,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}var DH,MH,FH,UH,$H,HH,QH;function RP(){return RP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RP.apply(null,arguments)}function Gv(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var lEe=(t,e)=>{var r=vd(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},lS=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:u}=t,l=c*(o?1:-1)+n,d=Math.asin(c/l)/xC,f=u?i:i+a*d,m=rl(e,r,l,f),p=rl(e,r,n,f),g=u?i-a*d:i,x=rl(e,r,l*Math.cos(d*xC),g);return{center:m,circleTangency:p,lineTangency:x,theta:d}},eee=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=t,c=lEe(a,o),u=a+c,l=rl(e,r,i,a),d=rl(e,r,i,u),f=hc(DH||(DH=Gv(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),l.x,l.y,i,i,+(Math.abs(c)>180),+(a>u),d.x,d.y);if(n>0){var m=rl(e,r,n,a),p=rl(e,r,n,u);f+=hc(MH||(MH=Gv(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(c)>180),+(a<=u),m.x,m.y)}else f+=hc(FH||(FH=Gv(["L ",","," Z"])),e,r);return f},cEe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:l}=t,d=vd(l-u),{circleTangency:f,lineTangency:m,theta:p}=lS({cx:e,cy:r,radius:i,angle:u,sign:d,cornerRadius:a,cornerIsExternal:c}),{circleTangency:g,lineTangency:x,theta:y}=lS({cx:e,cy:r,radius:i,angle:l,sign:-d,cornerRadius:a,cornerIsExternal:c}),w=c?Math.abs(u-l):Math.abs(u-l)-p-y;if(w<0)return o?hc(UH||(UH=Gv(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),m.x,m.y,a,a,a*2,a,a,-a*2):eee({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:u,endAngle:l});var E=hc($H||($H=Gv(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),m.x,m.y,a,a,+(d<0),f.x,f.y,i,i,+(w>180),+(d<0),g.x,g.y,a,a,+(d<0),x.x,x.y);if(n>0){var{circleTangency:_,lineTangency:N,theta:C}=lS({cx:e,cy:r,radius:n,angle:u,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:I,lineTangency:D,theta:M}=lS({cx:e,cy:r,radius:n,angle:l,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),Y=c?Math.abs(u-l):Math.abs(u-l)-C-M;if(Y<0&&a===0)return"".concat(E,"L").concat(e,",").concat(r,"Z");E+=hc(HH||(HH=Gv(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,a,a,+(d<0),I.x,I.y,n,n,+(Y>180),+(d>0),_.x,_.y,a,a,+(d<0),N.x,N.y)}else E+=hc(QH||(QH=Gv(["L",",","Z"])),e,r);return E},uEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tee=t=>{var e=Hc(t,uEe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:l,endAngle:d,className:f}=e;if(a<i||l===d)return null;var m=Sa("recharts-sector",f),p=a-i,g=ah(o,p,0,!0),x;return g>0&&Math.abs(l-d)<360?x=cEe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:l,endAngle:d}):x=eee({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:l,endAngle:d}),T.createElement("path",RP({},Ku(e),{className:m,d:x}))};function dEe(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(PZ(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:c}=e,u=rl(n,i,a,c),l=rl(n,i,o,c);return[{x:u.x,y:u.y},{x:l.x,y:l.y}]}return JJ(e)}}var BL={},PL={},OL={},zH;function hEe(){return zH||(zH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VZ();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(OL)),OL}var VH;function fEe(){return VH||(VH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hEe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(PL)),PL}var KH;function mEe(){return KH||(KH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KZ(),r=fEe();function n(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),u=new Array(c);for(let l=0;l<c;l++)u[l]=i,i+=o;return u}t.range=n})(BL)),BL}var RL,GH;function AEe(){return GH||(GH=1,RL=mEe().range),RL}var pEe=AEe();const ree=Gh(pEe);function B0(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gEe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RD(t){let e,r,n;t.length!==2?(e=B0,r=(c,u)=>B0(t(c),u),n=(c,u)=>t(c)-u):(e=t===B0||t===gEe?t:vEe,r=t,n=t);function i(c,u,l=0,d=c.length){if(l<d){if(e(u,u)!==0)return d;do{const f=l+d>>>1;r(c[f],u)<0?l=f+1:d=f}while(l<d)}return l}function a(c,u,l=0,d=c.length){if(l<d){if(e(u,u)!==0)return d;do{const f=l+d>>>1;r(c[f],u)<=0?l=f+1:d=f}while(l<d)}return l}function o(c,u,l=0,d=c.length){const f=i(c,u,l,d-1);return f>l&&n(c[f-1],u)>-n(c[f],u)?f-1:f}return{left:i,center:o,right:a}}function vEe(){return 0}function nee(t){return t===null?NaN:+t}function*xEe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const yEe=RD(B0),J2=yEe.right;RD(nee).center;class WH extends Map{constructor(e,r=EEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(YH(this,e))}has(e){return super.has(YH(this,e))}set(e,r){return super.set(bEe(this,e),r)}delete(e){return super.delete(wEe(this,e))}}function YH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function bEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function wEe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function EEe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _Ee(t=B0){if(t===B0)return iee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function iee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SEe=Math.sqrt(50),jEe=Math.sqrt(10),TEe=Math.sqrt(2);function bC(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=SEe?10:a>=jEe?5:a>=TEe?2:1;let c,u,l;return i<0?(l=Math.pow(10,-i)/o,c=Math.round(t*l),u=Math.round(e*l),c/l<t&&++c,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*o,c=Math.round(t/l),u=Math.round(e/l),c*l<t&&++c,u*l>e&&--u),u<c&&.5<=r&&r<2?bC(t,e,r*2):[c,u,l]}function DP(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?bC(e,t,r):bC(t,e,r);if(!(a>=i))return[];const c=a-i+1,u=new Array(c);if(n)if(o<0)for(let l=0;l<c;++l)u[l]=(a-l)/-o;else for(let l=0;l<c;++l)u[l]=(a-l)*o;else if(o<0)for(let l=0;l<c;++l)u[l]=(i+l)/-o;else for(let l=0;l<c;++l)u[l]=(i+l)*o;return u}function MP(t,e,r){return e=+e,t=+t,r=+r,bC(t,e,r)[2]}function FP(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?MP(e,t,r):MP(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function qH(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XH(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function see(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?iee:_Ee(i);n>r;){if(n-r>600){const u=n-r+1,l=e-r+1,d=Math.log(u),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(r,Math.floor(e-l*f/u+m)),g=Math.min(n,Math.floor(e+(u-l)*f/u+m));see(t,e,p,g,i)}const a=t[e];let o=r,c=n;for(ow(t,r,e),i(t[n],a)>0&&ow(t,r,n);o<c;){for(ow(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?ow(t,r,c):(++c,ow(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function ow(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function CEe(t,e,r){if(t=Float64Array.from(xEe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return XH(t);if(e>=1)return qH(t);var n,i=(n-1)*e,a=Math.floor(i),o=qH(see(t,a).subarray(0,a+1)),c=XH(t.subarray(a+1));return o+(c-o)*(i-a)}}function NEe(t,e,r=nee){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function kEe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function om(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ag(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const UP=Symbol("implicit");function DD(){var t=new WH,e=[],r=[],n=UP;function i(a){let o=t.get(a);if(o===void 0){if(n!==UP)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new WH;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return DD(e,r).unknown(n)},om.apply(i,arguments),i}function MD(){var t=DD().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,c=!1,u=0,l=0,d=.5;delete t.unknown;function f(){var m=e().length,p=i<n,g=p?i:n,x=p?n:i;a=(x-g)/Math.max(1,m-u+l*2),c&&(a=Math.floor(a)),g+=(x-g-a*(m-u))*d,o=a*(1-u),c&&(g=Math.round(g),o=Math.round(o));var y=kEe(m).map(function(w){return g+a*w});return r(p?y.reverse():y)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,i]=m,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(m){return[n,i]=m,n=+n,i=+i,c=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(c=!!m,f()):c},t.padding=function(m){return arguments.length?(u=Math.min(1,l=+m),f()):u},t.paddingInner=function(m){return arguments.length?(u=Math.min(1,m),f()):u},t.paddingOuter=function(m){return arguments.length?(l=+m,f()):l},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return MD(e(),[n,i]).round(c).paddingInner(u).paddingOuter(l).align(d)},om.apply(f(),arguments)}function aee(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aee(e())},t}function LEe(){return aee(MD.apply(null,arguments).paddingInner(1))}function FD(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function oee(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function e_(){}var YE=.7,wC=1/YE,Sb="\\s*([+-]?\\d+)\\s*",qE="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",VA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IEe=/^#([0-9a-f]{3,8})$/,BEe=new RegExp(`^rgb\\(${Sb},${Sb},${Sb}\\)$`),PEe=new RegExp(`^rgb\\(${VA},${VA},${VA}\\)$`),OEe=new RegExp(`^rgba\\(${Sb},${Sb},${Sb},${qE}\\)$`),REe=new RegExp(`^rgba\\(${VA},${VA},${VA},${qE}\\)$`),DEe=new RegExp(`^hsl\\(${qE},${VA},${VA}\\)$`),MEe=new RegExp(`^hsla\\(${qE},${VA},${VA},${qE}\\)$`),ZH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FD(e_,XE,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:JH,formatHex:JH,formatHex8:FEe,formatHsl:UEe,formatRgb:eQ,toString:eQ});function JH(){return this.rgb().formatHex()}function FEe(){return this.rgb().formatHex8()}function UEe(){return lee(this).formatHsl()}function eQ(){return this.rgb().formatRgb()}function XE(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=IEe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?tQ(e):r===3?new Qh(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?cS(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?cS(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BEe.exec(t))?new Qh(e[1],e[2],e[3],1):(e=PEe.exec(t))?new Qh(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=OEe.exec(t))?cS(e[1],e[2],e[3],e[4]):(e=REe.exec(t))?cS(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=DEe.exec(t))?iQ(e[1],e[2]/100,e[3]/100,1):(e=MEe.exec(t))?iQ(e[1],e[2]/100,e[3]/100,e[4]):ZH.hasOwnProperty(t)?tQ(ZH[t]):t==="transparent"?new Qh(NaN,NaN,NaN,0):null}function tQ(t){return new Qh(t>>16&255,t>>8&255,t&255,1)}function cS(t,e,r,n){return n<=0&&(t=e=r=NaN),new Qh(t,e,r,n)}function $Ee(t){return t instanceof e_||(t=XE(t)),t?(t=t.rgb(),new Qh(t.r,t.g,t.b,t.opacity)):new Qh}function $P(t,e,r,n){return arguments.length===1?$Ee(t):new Qh(t,e,r,n??1)}function Qh(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}FD(Qh,$P,oee(e_,{brighter(t){return t=t==null?wC:Math.pow(wC,t),new Qh(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?YE:Math.pow(YE,t),new Qh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Qh(ax(this.r),ax(this.g),ax(this.b),EC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rQ,formatHex:rQ,formatHex8:HEe,formatRgb:nQ,toString:nQ}));function rQ(){return`#${Wv(this.r)}${Wv(this.g)}${Wv(this.b)}`}function HEe(){return`#${Wv(this.r)}${Wv(this.g)}${Wv(this.b)}${Wv((isNaN(this.opacity)?1:this.opacity)*255)}`}function nQ(){const t=EC(this.opacity);return`${t===1?"rgb(":"rgba("}${ax(this.r)}, ${ax(this.g)}, ${ax(this.b)}${t===1?")":`, ${t})`}`}function EC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ax(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wv(t){return t=ax(t),(t<16?"0":"")+t.toString(16)}function iQ(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Fm(t,e,r,n)}function lee(t){if(t instanceof Fm)return new Fm(t.h,t.s,t.l,t.opacity);if(t instanceof e_||(t=XE(t)),!t)return new Fm;if(t instanceof Fm)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,c=a-i,u=(a+i)/2;return c?(e===a?o=(r-n)/c+(r<n)*6:r===a?o=(n-e)/c+2:o=(e-r)/c+4,c/=u<.5?a+i:2-a-i,o*=60):c=u>0&&u<1?0:o,new Fm(o,c,u,t.opacity)}function QEe(t,e,r,n){return arguments.length===1?lee(t):new Fm(t,e,r,n??1)}function Fm(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}FD(Fm,QEe,oee(e_,{brighter(t){return t=t==null?wC:Math.pow(wC,t),new Fm(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?YE:Math.pow(YE,t),new Fm(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Qh(DL(t>=240?t-240:t+120,i,n),DL(t,i,n),DL(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Fm(sQ(this.h),uS(this.s),uS(this.l),EC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=EC(this.opacity);return`${t===1?"hsl(":"hsla("}${sQ(this.h)}, ${uS(this.s)*100}%, ${uS(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sQ(t){return t=(t||0)%360,t<0?t+360:t}function uS(t){return Math.max(0,Math.min(1,t||0))}function DL(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const UD=t=>()=>t;function zEe(t,e){return function(r){return t+r*e}}function VEe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function KEe(t){return(t=+t)==1?cee:function(e,r){return r-e?VEe(e,r,t):UD(isNaN(e)?r:e)}}function cee(t,e){var r=e-t;return r?zEe(t,r):UD(isNaN(t)?e:t)}const aQ=(function t(e){var r=KEe(e);function n(i,a){var o=r((i=$P(i)).r,(a=$P(a)).r),c=r(i.g,a.g),u=r(i.b,a.b),l=cee(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=c(d),i.b=u(d),i.opacity=l(d),i+""}}return n.gamma=t,n})(1);function GEe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function WEe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function YEe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=_1(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(c){for(o=0;o<n;++o)a[o]=i[o](c);return a}}function qEe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function _C(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function XEe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=_1(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var HP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ML=new RegExp(HP.source,"g");function ZEe(t){return function(){return t}}function JEe(t){return function(e){return t(e)+""}}function e2e(t,e){var r=HP.lastIndex=ML.lastIndex=0,n,i,a,o=-1,c=[],u=[];for(t=t+"",e=e+"";(n=HP.exec(t))&&(i=ML.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[o]?c[o]+=a:c[++o]=a),(n=n[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:_C(n,i)})),r=ML.lastIndex;return r<e.length&&(a=e.slice(r),c[o]?c[o]+=a:c[++o]=a),c.length<2?u[0]?JEe(u[0].x):ZEe(e):(e=u.length,function(l){for(var d=0,f;d<e;++d)c[(f=u[d]).i]=f.x(l);return c.join("")})}function _1(t,e){var r=typeof e,n;return e==null||r==="boolean"?UD(e):(r==="number"?_C:r==="string"?(n=XE(e))?(e=n,aQ):e2e:e instanceof XE?aQ:e instanceof Date?qEe:WEe(e)?GEe:Array.isArray(e)?YEe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?XEe:_C)(t,e)}function $D(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function t2e(t,e){e===void 0&&(e=t,t=_1);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[c](o-c)}}function r2e(t){return function(){return t}}function SC(t){return+t}var oQ=[0,1];function bh(t){return t}function QP(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:r2e(isNaN(e)?NaN:.5)}function n2e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function i2e(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=QP(i,n),a=r(o,a)):(n=QP(n,i),a=r(a,o)),function(c){return a(n(c))}}function s2e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=QP(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(c){var u=J2(t,c,1,n)-1;return a[u](i[u](c))}}function t_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sk(){var t=oQ,e=oQ,r=_1,n,i,a,o=bh,c,u,l;function d(){var m=Math.min(t.length,e.length);return o!==bh&&(o=n2e(t[0],t[m-1])),c=m>2?s2e:i2e,u=l=null,f}function f(m){return m==null||isNaN(m=+m)?a:(u||(u=c(t.map(n),e,r)))(n(o(m)))}return f.invert=function(m){return o(i((l||(l=c(e,t.map(n),_C)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,SC),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=$D,d()},f.clamp=function(m){return arguments.length?(o=m?!0:bh,d()):o!==bh},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,p){return n=m,i=p,d()}}function HD(){return Sk()(bh,bh)}function a2e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jC(t,e){if(!isFinite(t)||t===0)return null;var r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Xb(t){return t=jC(Math.abs(t)),t?t[1]:NaN}function o2e(t,e){return function(r,n){for(var i=r.length,a=[],o=0,c=t[0],u=0;i>0&&c>0&&(u+c+1>n&&(c=Math.max(1,n-u)),a.push(r.substring(i-=c,i+c)),!((u+=c+1)>n));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function l2e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var c2e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ZE(t){if(!(e=c2e.exec(t)))throw new Error("invalid format: "+t);var e;return new QD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ZE.prototype=QD.prototype;function QD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}QD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u2e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var TC;function d2e(t,e){var r=jC(t,e);if(!r)return TC=void 0,t.toPrecision(e);var n=r[0],i=r[1],a=i-(TC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+jC(t,Math.max(0,e+a-1))[0]}function lQ(t,e){var r=jC(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const cQ={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:a2e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lQ(t*100,e),r:lQ,s:d2e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uQ(t){return t}var dQ=Array.prototype.map,hQ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function h2e(t){var e=t.grouping===void 0||t.thousands===void 0?uQ:o2e(dQ.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?uQ:l2e(dQ.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f,m){f=ZE(f);var p=f.fill,g=f.align,x=f.sign,y=f.symbol,w=f.zero,E=f.width,_=f.comma,N=f.precision,C=f.trim,I=f.type;I==="n"?(_=!0,I="g"):cQ[I]||(N===void 0&&(N=12),C=!0,I="g"),(w||p==="0"&&g==="=")&&(w=!0,p="0",g="=");var D=(m&&m.prefix!==void 0?m.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),M=(y==="$"?n:/[%p]/.test(I)?o:"")+(m&&m.suffix!==void 0?m.suffix:""),Y=cQ[I],X=/[defgprs%]/.test(I);N=N===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function te(de){var ye=D,we=M,ve,ne,ae;if(I==="c")we=Y(de)+we,de="";else{de=+de;var oe=de<0||1/de<0;if(de=isNaN(de)?u:Y(Math.abs(de),N),C&&(de=u2e(de)),oe&&+de==0&&x!=="+"&&(oe=!1),ye=(oe?x==="("?x:c:x==="-"||x==="("?"":x)+ye,we=(I==="s"&&!isNaN(de)&&TC!==void 0?hQ[8+TC/3]:"")+we+(oe&&x==="("?")":""),X){for(ve=-1,ne=de.length;++ve<ne;)if(ae=de.charCodeAt(ve),48>ae||ae>57){we=(ae===46?i+de.slice(ve+1):de.slice(ve))+we,de=de.slice(0,ve);break}}}_&&!w&&(de=e(de,1/0));var Re=ye.length+de.length+we.length,Pe=Re<E?new Array(E-Re+1).join(p):"";switch(_&&w&&(de=e(Pe+de,Pe.length?E-we.length:1/0),Pe=""),g){case"<":de=ye+de+we+Pe;break;case"=":de=ye+Pe+de+we;break;case"^":de=Pe.slice(0,Re=Pe.length>>1)+ye+de+we+Pe.slice(Re);break;default:de=Pe+ye+de+we;break}return a(de)}return te.toString=function(){return f+""},te}function d(f,m){var p=Math.max(-8,Math.min(8,Math.floor(Xb(m)/3)))*3,g=Math.pow(10,-p),x=l((f=ZE(f),f.type="f",f),{suffix:hQ[8+p/3]});return function(y){return x(g*y)}}return{format:l,formatPrefix:d}}var dS,zD,uee;f2e({thousands:",",grouping:[3],currency:["$",""]});function f2e(t){return dS=h2e(t),zD=dS.format,uee=dS.formatPrefix,dS}function m2e(t){return Math.max(0,-Xb(Math.abs(t)))}function A2e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Xb(e)/3)))*3-Xb(Math.abs(t)))}function p2e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Xb(e)-Xb(t))+1}function dee(t,e,r,n){var i=FP(t,e,r),a;switch(n=ZE(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=A2e(i,o))&&(n.precision=a),uee(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=p2e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=m2e(i))&&(n.precision=a-(n.type==="%")*2);break}}return zD(n)}function Z0(t){var e=t.domain;return t.ticks=function(r){var n=e();return DP(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return dee(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],c=n[a],u,l,d=10;for(c<o&&(l=o,o=c,c=l,l=i,i=a,a=l);d-- >0;){if(l=MP(o,c,r),l===u)return n[i]=o,n[a]=c,e(n);if(l>0)o=Math.floor(o/l)*l,c=Math.ceil(c/l)*l;else if(l<0)o=Math.ceil(o*l)/l,c=Math.floor(c*l)/l;else break;u=l}return t},t}function hee(){var t=HD();return t.copy=function(){return t_(t,hee())},om.apply(t,arguments),Z0(t)}function fee(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,SC),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return fee(t).unknown(e)},t=arguments.length?Array.from(t,SC):[0,1],Z0(r)}function mee(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function fQ(t){return Math.log(t)}function mQ(t){return Math.exp(t)}function g2e(t){return-Math.log(-t)}function v2e(t){return-Math.exp(-t)}function x2e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function y2e(t){return t===10?x2e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function b2e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AQ(t){return(e,r)=>-t(-e,r)}function VD(t){const e=t(fQ,mQ),r=e.domain;let n=10,i,a;function o(){return i=b2e(n),a=y2e(n),r()[0]<0?(i=AQ(i),a=AQ(a),t(g2e,v2e)):t(fQ,mQ),e}return e.base=function(c){return arguments.length?(n=+c,o()):n},e.domain=function(c){return arguments.length?(r(c),o()):r()},e.ticks=c=>{const u=r();let l=u[0],d=u[u.length-1];const f=d<l;f&&([l,d]=[d,l]);let m=i(l),p=i(d),g,x;const y=c==null?10:+c;let w=[];if(!(n%1)&&p-m<y){if(m=Math.floor(m),p=Math.ceil(p),l>0){for(;m<=p;++m)for(g=1;g<n;++g)if(x=m<0?g/a(-m):g*a(m),!(x<l)){if(x>d)break;w.push(x)}}else for(;m<=p;++m)for(g=n-1;g>=1;--g)if(x=m>0?g/a(-m):g*a(m),!(x<l)){if(x>d)break;w.push(x)}w.length*2<y&&(w=DP(l,d,y))}else w=DP(m,p,Math.min(p-m,y)).map(a);return f?w.reverse():w},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=ZE(u)).precision==null&&(u.trim=!0),u=zD(u)),c===1/0)return u;const l=Math.max(1,n*c/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=l?u(d):""}},e.nice=()=>r(mee(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function Aee(){const t=VD(Sk()).domain([1,10]);return t.copy=()=>t_(t,Aee()).base(t.base()),om.apply(t,arguments),t}function pQ(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function gQ(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function KD(t){var e=1,r=t(pQ(e),gQ(e));return r.constant=function(n){return arguments.length?t(pQ(e=+n),gQ(e)):e},Z0(r)}function pee(){var t=KD(Sk());return t.copy=function(){return t_(t,pee()).constant(t.constant())},om.apply(t,arguments)}function vQ(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function w2e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function E2e(t){return t<0?-t*t:t*t}function GD(t){var e=t(bh,bh),r=1;function n(){return r===1?t(bh,bh):r===.5?t(w2e,E2e):t(vQ(r),vQ(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Z0(e)}function WD(){var t=GD(Sk());return t.copy=function(){return t_(t,WD()).exponent(t.exponent())},om.apply(t,arguments),t}function _2e(){return WD.apply(null,arguments).exponent(.5)}function xQ(t){return Math.sign(t)*t*t}function S2e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function gee(){var t=HD(),e=[0,1],r=!1,n;function i(a){var o=S2e(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(xQ(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,SC)).map(xQ)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return gee(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},om.apply(i,arguments),Z0(i)}function vee(){var t=[],e=[],r=[],n;function i(){var o=0,c=Math.max(1,e.length);for(r=new Array(c-1);++o<c;)r[o-1]=NEe(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?n:e[J2(r,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(B0),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return vee().domain(t).range(e).unknown(n)},om.apply(a,arguments)}function xee(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(u){return u!=null&&u<=u?i[J2(n,u,0,r)]:a}function c(){var u=-1;for(n=new Array(r);++u<r;)n[u]=((u+1)*e-(u-r)*t)/(r+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,c()):[t,e]},o.range=function(u){return arguments.length?(r=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,n[0]]:l>=r?[n[r-1],e]:[n[l-1],n[l]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xee().domain([t,e]).range(i).unknown(a)},om.apply(Z0(o),arguments)}function yee(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[J2(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yee().domain(t).range(e).unknown(r)},om.apply(i,arguments)}const FL=new Date,UL=new Date;function Yu(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const u=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return u;let l;do u.push(l=new Date(+a)),e(a,c),t(a);while(l<a&&a<o);return u},i.filter=a=>Yu(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(FL.setTime(+a),UL.setTime(+o),t(FL),t(UL),Math.floor(r(FL,UL))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const CC=Yu(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);CC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yu(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):CC);CC.range;const $p=1e3,tm=$p*60,Hp=tm*60,ng=Hp*24,YD=ng*7,yQ=ng*30,$L=ng*365,Yv=Yu(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*$p)},(t,e)=>(e-t)/$p,t=>t.getUTCSeconds());Yv.range;const qD=Yu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$p)},(t,e)=>{t.setTime(+t+e*tm)},(t,e)=>(e-t)/tm,t=>t.getMinutes());qD.range;const XD=Yu(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*tm)},(t,e)=>(e-t)/tm,t=>t.getUTCMinutes());XD.range;const ZD=Yu(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$p-t.getMinutes()*tm)},(t,e)=>{t.setTime(+t+e*Hp)},(t,e)=>(e-t)/Hp,t=>t.getHours());ZD.range;const JD=Yu(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Hp)},(t,e)=>(e-t)/Hp,t=>t.getUTCHours());JD.range;const r_=Yu(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*tm)/ng,t=>t.getDate()-1);r_.range;const jk=Yu(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ng,t=>t.getUTCDate()-1);jk.range;const bee=Yu(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ng,t=>Math.floor(t/ng));bee.range;function Px(t){return Yu(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*tm)/YD)}const Tk=Px(0),NC=Px(1),j2e=Px(2),T2e=Px(3),Zb=Px(4),C2e=Px(5),N2e=Px(6);Tk.range;NC.range;j2e.range;T2e.range;Zb.range;C2e.range;N2e.range;function Ox(t){return Yu(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/YD)}const Ck=Ox(0),kC=Ox(1),k2e=Ox(2),L2e=Ox(3),Jb=Ox(4),I2e=Ox(5),B2e=Ox(6);Ck.range;kC.range;k2e.range;L2e.range;Jb.range;I2e.range;B2e.range;const eM=Yu(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eM.range;const tM=Yu(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tM.range;const ig=Yu(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ig.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yu(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ig.range;const sg=Yu(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());sg.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yu(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});sg.range;function wee(t,e,r,n,i,a){const o=[[Yv,1,$p],[Yv,5,5*$p],[Yv,15,15*$p],[Yv,30,30*$p],[a,1,tm],[a,5,5*tm],[a,15,15*tm],[a,30,30*tm],[i,1,Hp],[i,3,3*Hp],[i,6,6*Hp],[i,12,12*Hp],[n,1,ng],[n,2,2*ng],[r,1,YD],[e,1,yQ],[e,3,3*yQ],[t,1,$L]];function c(l,d,f){const m=d<l;m&&([l,d]=[d,l]);const p=f&&typeof f.range=="function"?f:u(l,d,f),g=p?p.range(l,+d+1):[];return m?g.reverse():g}function u(l,d,f){const m=Math.abs(d-l)/f,p=RD(([,,y])=>y).right(o,m);if(p===o.length)return t.every(FP(l/$L,d/$L,f));if(p===0)return CC.every(Math.max(FP(l,d,f),1));const[g,x]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return g.every(x)}return[c,u]}const[P2e,O2e]=wee(sg,tM,Ck,bee,JD,XD),[R2e,D2e]=wee(ig,eM,Tk,r_,ZD,qD);function HL(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QL(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function lw(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function M2e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,u=t.shortMonths,l=cw(i),d=uw(i),f=cw(a),m=uw(a),p=cw(o),g=uw(o),x=cw(c),y=uw(c),w=cw(u),E=uw(u),_={a:ae,A:oe,b:Re,B:Pe,c:null,d:jQ,e:jQ,f:o_e,g:g_e,G:x_e,H:i_e,I:s_e,j:a_e,L:Eee,m:l_e,M:c_e,p:be,q:he,Q:NQ,s:kQ,S:u_e,u:d_e,U:h_e,V:f_e,w:m_e,W:A_e,x:null,X:null,y:p_e,Y:v_e,Z:y_e,"%":CQ},N={a:Ie,A:Oe,b:$e,B:De,c:null,d:TQ,e:TQ,f:__e,g:P_e,G:R_e,H:b_e,I:w_e,j:E_e,L:See,m:S_e,M:j_e,p:ct,q:pt,Q:NQ,s:kQ,S:T_e,u:C_e,U:N_e,V:k_e,w:L_e,W:I_e,x:null,X:null,y:B_e,Y:O_e,Z:D_e,"%":CQ},C={a:X,A:te,b:de,B:ye,c:we,d:_Q,e:_Q,f:e_e,g:EQ,G:wQ,H:SQ,I:SQ,j:q2e,L:J2e,m:Y2e,M:X2e,p:Y,q:W2e,Q:r_e,s:n_e,S:Z2e,u:Q2e,U:z2e,V:V2e,w:H2e,W:K2e,x:ve,X:ne,y:EQ,Y:wQ,Z:G2e,"%":t_e};_.x=I(r,_),_.X=I(n,_),_.c=I(e,_),N.x=I(r,N),N.X=I(n,N),N.c=I(e,N);function I(Ue,He){return function(Ye){var Se=[],mt=-1,qe=0,Tt=Ue.length,bt,gt,wt;for(Ye instanceof Date||(Ye=new Date(+Ye));++mt<Tt;)Ue.charCodeAt(mt)===37&&(Se.push(Ue.slice(qe,mt)),(gt=bQ[bt=Ue.charAt(++mt)])!=null?bt=Ue.charAt(++mt):gt=bt==="e"?" ":"0",(wt=He[bt])&&(bt=wt(Ye,gt)),Se.push(bt),qe=mt+1);return Se.push(Ue.slice(qe,mt)),Se.join("")}}function D(Ue,He){return function(Ye){var Se=lw(1900,void 0,1),mt=M(Se,Ue,Ye+="",0),qe,Tt;if(mt!=Ye.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(He&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(qe=QL(lw(Se.y,0,1)),Tt=qe.getUTCDay(),qe=Tt>4||Tt===0?kC.ceil(qe):kC(qe),qe=jk.offset(qe,(Se.V-1)*7),Se.y=qe.getUTCFullYear(),Se.m=qe.getUTCMonth(),Se.d=qe.getUTCDate()+(Se.w+6)%7):(qe=HL(lw(Se.y,0,1)),Tt=qe.getDay(),qe=Tt>4||Tt===0?NC.ceil(qe):NC(qe),qe=r_.offset(qe,(Se.V-1)*7),Se.y=qe.getFullYear(),Se.m=qe.getMonth(),Se.d=qe.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),Tt="Z"in Se?QL(lw(Se.y,0,1)).getUTCDay():HL(lw(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(Tt+5)%7:Se.w+Se.U*7-(Tt+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,QL(Se)):HL(Se)}}function M(Ue,He,Ye,Se){for(var mt=0,qe=He.length,Tt=Ye.length,bt,gt;mt<qe;){if(Se>=Tt)return-1;if(bt=He.charCodeAt(mt++),bt===37){if(bt=He.charAt(mt++),gt=C[bt in bQ?He.charAt(mt++):bt],!gt||(Se=gt(Ue,Ye,Se))<0)return-1}else if(bt!=Ye.charCodeAt(Se++))return-1}return Se}function Y(Ue,He,Ye){var Se=l.exec(He.slice(Ye));return Se?(Ue.p=d.get(Se[0].toLowerCase()),Ye+Se[0].length):-1}function X(Ue,He,Ye){var Se=p.exec(He.slice(Ye));return Se?(Ue.w=g.get(Se[0].toLowerCase()),Ye+Se[0].length):-1}function te(Ue,He,Ye){var Se=f.exec(He.slice(Ye));return Se?(Ue.w=m.get(Se[0].toLowerCase()),Ye+Se[0].length):-1}function de(Ue,He,Ye){var Se=w.exec(He.slice(Ye));return Se?(Ue.m=E.get(Se[0].toLowerCase()),Ye+Se[0].length):-1}function ye(Ue,He,Ye){var Se=x.exec(He.slice(Ye));return Se?(Ue.m=y.get(Se[0].toLowerCase()),Ye+Se[0].length):-1}function we(Ue,He,Ye){return M(Ue,e,He,Ye)}function ve(Ue,He,Ye){return M(Ue,r,He,Ye)}function ne(Ue,He,Ye){return M(Ue,n,He,Ye)}function ae(Ue){return o[Ue.getDay()]}function oe(Ue){return a[Ue.getDay()]}function Re(Ue){return u[Ue.getMonth()]}function Pe(Ue){return c[Ue.getMonth()]}function be(Ue){return i[+(Ue.getHours()>=12)]}function he(Ue){return 1+~~(Ue.getMonth()/3)}function Ie(Ue){return o[Ue.getUTCDay()]}function Oe(Ue){return a[Ue.getUTCDay()]}function $e(Ue){return u[Ue.getUTCMonth()]}function De(Ue){return c[Ue.getUTCMonth()]}function ct(Ue){return i[+(Ue.getUTCHours()>=12)]}function pt(Ue){return 1+~~(Ue.getUTCMonth()/3)}return{format:function(Ue){var He=I(Ue+="",_);return He.toString=function(){return Ue},He},parse:function(Ue){var He=D(Ue+="",!1);return He.toString=function(){return Ue},He},utcFormat:function(Ue){var He=I(Ue+="",N);return He.toString=function(){return Ue},He},utcParse:function(Ue){var He=D(Ue+="",!0);return He.toString=function(){return Ue},He}}}var bQ={"-":"",_:" ",0:"0"},yd=/^\s*\d+/,F2e=/^%/,U2e=/[\\^$*+?|[\]().{}]/g;function go(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function $2e(t){return t.replace(U2e,"\\$&")}function cw(t){return new RegExp("^(?:"+t.map($2e).join("|")+")","i")}function uw(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function H2e(t,e,r){var n=yd.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Q2e(t,e,r){var n=yd.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function z2e(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function V2e(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function K2e(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function wQ(t,e,r){var n=yd.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function EQ(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function G2e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function W2e(t,e,r){var n=yd.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Y2e(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function _Q(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function q2e(t,e,r){var n=yd.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function SQ(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function X2e(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Z2e(t,e,r){var n=yd.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function J2e(t,e,r){var n=yd.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function e_e(t,e,r){var n=yd.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function t_e(t,e,r){var n=F2e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function r_e(t,e,r){var n=yd.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function n_e(t,e,r){var n=yd.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function jQ(t,e){return go(t.getDate(),e,2)}function i_e(t,e){return go(t.getHours(),e,2)}function s_e(t,e){return go(t.getHours()%12||12,e,2)}function a_e(t,e){return go(1+r_.count(ig(t),t),e,3)}function Eee(t,e){return go(t.getMilliseconds(),e,3)}function o_e(t,e){return Eee(t,e)+"000"}function l_e(t,e){return go(t.getMonth()+1,e,2)}function c_e(t,e){return go(t.getMinutes(),e,2)}function u_e(t,e){return go(t.getSeconds(),e,2)}function d_e(t){var e=t.getDay();return e===0?7:e}function h_e(t,e){return go(Tk.count(ig(t)-1,t),e,2)}function _ee(t){var e=t.getDay();return e>=4||e===0?Zb(t):Zb.ceil(t)}function f_e(t,e){return t=_ee(t),go(Zb.count(ig(t),t)+(ig(t).getDay()===4),e,2)}function m_e(t){return t.getDay()}function A_e(t,e){return go(NC.count(ig(t)-1,t),e,2)}function p_e(t,e){return go(t.getFullYear()%100,e,2)}function g_e(t,e){return t=_ee(t),go(t.getFullYear()%100,e,2)}function v_e(t,e){return go(t.getFullYear()%1e4,e,4)}function x_e(t,e){var r=t.getDay();return t=r>=4||r===0?Zb(t):Zb.ceil(t),go(t.getFullYear()%1e4,e,4)}function y_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+go(e/60|0,"0",2)+go(e%60,"0",2)}function TQ(t,e){return go(t.getUTCDate(),e,2)}function b_e(t,e){return go(t.getUTCHours(),e,2)}function w_e(t,e){return go(t.getUTCHours()%12||12,e,2)}function E_e(t,e){return go(1+jk.count(sg(t),t),e,3)}function See(t,e){return go(t.getUTCMilliseconds(),e,3)}function __e(t,e){return See(t,e)+"000"}function S_e(t,e){return go(t.getUTCMonth()+1,e,2)}function j_e(t,e){return go(t.getUTCMinutes(),e,2)}function T_e(t,e){return go(t.getUTCSeconds(),e,2)}function C_e(t){var e=t.getUTCDay();return e===0?7:e}function N_e(t,e){return go(Ck.count(sg(t)-1,t),e,2)}function jee(t){var e=t.getUTCDay();return e>=4||e===0?Jb(t):Jb.ceil(t)}function k_e(t,e){return t=jee(t),go(Jb.count(sg(t),t)+(sg(t).getUTCDay()===4),e,2)}function L_e(t){return t.getUTCDay()}function I_e(t,e){return go(kC.count(sg(t)-1,t),e,2)}function B_e(t,e){return go(t.getUTCFullYear()%100,e,2)}function P_e(t,e){return t=jee(t),go(t.getUTCFullYear()%100,e,2)}function O_e(t,e){return go(t.getUTCFullYear()%1e4,e,4)}function R_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Jb(t):Jb.ceil(t),go(t.getUTCFullYear()%1e4,e,4)}function D_e(){return"+0000"}function CQ(){return"%"}function NQ(t){return+t}function kQ(t){return Math.floor(+t/1e3)}var ay,Tee,Cee;M_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function M_e(t){return ay=M2e(t),Tee=ay.format,ay.parse,Cee=ay.utcFormat,ay.utcParse,ay}function F_e(t){return new Date(t)}function U_e(t){return t instanceof Date?+t:+new Date(+t)}function rM(t,e,r,n,i,a,o,c,u,l){var d=HD(),f=d.invert,m=d.domain,p=l(".%L"),g=l(":%S"),x=l("%I:%M"),y=l("%I %p"),w=l("%a %d"),E=l("%b %d"),_=l("%B"),N=l("%Y");function C(I){return(u(I)<I?p:c(I)<I?g:o(I)<I?x:a(I)<I?y:n(I)<I?i(I)<I?w:E:r(I)<I?_:N)(I)}return d.invert=function(I){return new Date(f(I))},d.domain=function(I){return arguments.length?m(Array.from(I,U_e)):m().map(F_e)},d.ticks=function(I){var D=m();return t(D[0],D[D.length-1],I??10)},d.tickFormat=function(I,D){return D==null?C:l(D)},d.nice=function(I){var D=m();return(!I||typeof I.range!="function")&&(I=e(D[0],D[D.length-1],I??10)),I?m(mee(D,I)):d},d.copy=function(){return t_(d,rM(t,e,r,n,i,a,o,c,u,l))},d}function $_e(){return om.apply(rM(R2e,D2e,ig,eM,Tk,r_,ZD,qD,Yv,Tee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H_e(){return om.apply(rM(P2e,O2e,sg,tM,Ck,jk,JD,XD,Yv,Cee).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nk(){var t=0,e=1,r,n,i,a,o=bh,c=!1,u;function l(f){return f==null||isNaN(f=+f)?u:o(i===0?.5:(f=(a(f)-r)*i,c?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),l):[t,e]},l.clamp=function(f){return arguments.length?(c=!!f,l):c},l.interpolator=function(f){return arguments.length?(o=f,l):o};function d(f){return function(m){var p,g;return arguments.length?([p,g]=m,o=f(p,g),l):[o(0),o(1)]}}return l.range=d(_1),l.rangeRound=d($D),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),l}}function J0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Nee(){var t=Z0(Nk()(bh));return t.copy=function(){return J0(t,Nee())},Ag.apply(t,arguments)}function kee(){var t=VD(Nk()).domain([1,10]);return t.copy=function(){return J0(t,kee()).base(t.base())},Ag.apply(t,arguments)}function Lee(){var t=KD(Nk());return t.copy=function(){return J0(t,Lee()).constant(t.constant())},Ag.apply(t,arguments)}function nM(){var t=GD(Nk());return t.copy=function(){return J0(t,nM()).exponent(t.exponent())},Ag.apply(t,arguments)}function Q_e(){return nM.apply(null,arguments).exponent(.5)}function Iee(){var t=[],e=bh;function r(n){if(n!=null&&!isNaN(n=+n))return e((J2(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(B0),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>CEe(t,a/n))},r.copy=function(){return Iee(e).domain(t)},Ag.apply(r,arguments)}function kk(){var t=0,e=.5,r=1,n=1,i,a,o,c,u,l=bh,d,f=!1,m;function p(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-a)*(n*x<n*a?c:u),l(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),a=d(e=+e),o=d(r=+r),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,p):[t,e,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(l=x,p):l};function g(x){return function(y){var w,E,_;return arguments.length?([w,E,_]=y,l=t2e(x,[w,E,_]),p):[l(0),l(.5),l(1)]}}return p.range=g(_1),p.rangeRound=g($D),p.unknown=function(x){return arguments.length?(m=x,p):m},function(x){return d=x,i=x(t),a=x(e),o=x(r),c=i===a?0:.5/(a-i),u=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function Bee(){var t=Z0(kk()(bh));return t.copy=function(){return J0(t,Bee())},Ag.apply(t,arguments)}function Pee(){var t=VD(kk()).domain([.1,1,10]);return t.copy=function(){return J0(t,Pee()).base(t.base())},Ag.apply(t,arguments)}function Oee(){var t=KD(kk());return t.copy=function(){return J0(t,Oee()).constant(t.constant())},Ag.apply(t,arguments)}function iM(){var t=GD(kk());return t.copy=function(){return J0(t,iM()).exponent(t.exponent())},Ag.apply(t,arguments)}function z_e(){return iM.apply(null,arguments).exponent(.5)}const Bw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MD,scaleDiverging:Bee,scaleDivergingLog:Pee,scaleDivergingPow:iM,scaleDivergingSqrt:z_e,scaleDivergingSymlog:Oee,scaleIdentity:fee,scaleImplicit:UP,scaleLinear:hee,scaleLog:Aee,scaleOrdinal:DD,scalePoint:LEe,scalePow:WD,scaleQuantile:vee,scaleQuantize:xee,scaleRadial:gee,scaleSequential:Nee,scaleSequentialLog:kee,scaleSequentialPow:nM,scaleSequentialQuantile:Iee,scaleSequentialSqrt:Q_e,scaleSequentialSymlog:Lee,scaleSqrt:_2e,scaleSymlog:pee,scaleThreshold:yee,scaleTime:$_e,scaleUtc:H_e,tickFormat:dee},Symbol.toStringTag,{value:"Module"}));var pg=t=>t.chartData,n_=hr([pg],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Ree=(t,e,r,n)=>n?n_(t):pg(t),V_e=(t,e,r)=>r?n_(t):pg(t);function ag(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Ha(e)&&Ha(r))return!0}return!1}function LQ(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Dee(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(Ha(r))i=r;else if(typeof r=="function")return;if(Ha(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(ag(o))return o}}function K_e(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(ag(n))return LQ(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,c;if(i==="auto")e!=null&&(o=Math.min(...e));else if(_i(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&$9.test(i)){var u=$9.exec(i);if(u==null||u[1]==null||e==null)o=void 0;else{var l=+u[1];o=e[0]-l}}else o=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(_i(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&H9.test(a)){var d=H9.exec(a);if(d==null||d[1]==null||e==null)c=void 0;else{var f=+d[1];c=e[1]+f}}else c=e?.[1];var m=[o,c];if(ag(m))return e==null?m:LQ(m,e,r)}}}var S1=1e9,G_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aM,ec=!0,sm="[DecimalError] ",ox=sm+"Invalid argument: ",sM=sm+"Exponent out of range: ",j1=Math.floor,Cv=Math.pow,W_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yf,md=1e7,Ul=7,Mee=9007199254740991,LC=j1(Mee/Ul),xi={};xi.absoluteValue=xi.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xi.comparedTo=xi.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};xi.decimalPlaces=xi.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ul;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xi.dividedBy=xi.div=function(t){return Gp(this,new this.constructor(t))};xi.dividedToIntegerBy=xi.idiv=function(t){var e=this,r=e.constructor;return fl(Gp(e,new r(t),0,1),r.precision)};xi.equals=xi.eq=function(t){return!this.cmp(t)};xi.exponent=function(){return yu(this)};xi.greaterThan=xi.gt=function(t){return this.cmp(t)>0};xi.greaterThanOrEqualTo=xi.gte=function(t){return this.cmp(t)>=0};xi.isInteger=xi.isint=function(){return this.e>this.d.length-2};xi.isNegative=xi.isneg=function(){return this.s<0};xi.isPositive=xi.ispos=function(){return this.s>0};xi.isZero=function(){return this.s===0};xi.lessThan=xi.lt=function(t){return this.cmp(t)<0};xi.lessThanOrEqualTo=xi.lte=function(t){return this.cmp(t)<1};xi.logarithm=xi.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(yf))throw Error(sm+"NaN");if(r.s<1)throw Error(sm+(r.s?"NaN":"-Infinity"));return r.eq(yf)?new n(0):(ec=!1,e=Gp(JE(r,a),JE(t,a),a),ec=!0,fl(e,i))};xi.minus=xi.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$ee(e,t):Fee(e,(t.s=-t.s,t))};xi.modulo=xi.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(sm+"NaN");return r.s?(ec=!1,e=Gp(r,t,0,1).times(t),ec=!0,r.minus(e)):fl(new n(r),i)};xi.naturalExponential=xi.exp=function(){return Uee(this)};xi.naturalLogarithm=xi.ln=function(){return JE(this)};xi.negated=xi.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xi.plus=xi.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fee(e,t):$ee(e,(t.s=-t.s,t))};xi.precision=xi.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ox+t);if(e=yu(i)+1,n=i.d.length-1,r=n*Ul+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xi.squareRoot=xi.sqrt=function(){var t,e,r,n,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(sm+"NaN")}for(t=yu(c),ec=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=MA(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=j1((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new u(e)):n=new u(i.toString()),r=u.precision,i=o=r+3;;)if(a=n,n=a.plus(Gp(c,a,o+2)).times(.5),MA(a.d).slice(0,o)===(e=MA(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(fl(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;o+=4}return ec=!0,fl(n,r)};xi.times=xi.mul=function(t){var e,r,n,i,a,o,c,u,l,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,u=m.length,l=p.length,u<l&&(a=m,m=p,p=a,o=u,u=l,l=o),a=[],o=u+l,n=o;n--;)a.push(0);for(n=l;--n>=0;){for(e=0,i=u+n;i>n;)c=a[i]+p[n]*m[i-n-1]+e,a[i--]=c%md|0,e=c/md|0;a[i]=(a[i]+e)%md|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ec?fl(t,f.precision):t};xi.toDecimalPlaces=xi.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ZA(t,0,S1),e===void 0?e=n.rounding:ZA(e,0,8),fl(r,t+yu(r)+1,e))};xi.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Cx(n,!0):(ZA(t,0,S1),e===void 0?e=i.rounding:ZA(e,0,8),n=fl(new i(n),t+1,e),r=Cx(n,!0,t+1)),r};xi.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Cx(i):(ZA(t,0,S1),e===void 0?e=a.rounding:ZA(e,0,8),n=fl(new a(i),t+yu(i)+1,e),r=Cx(n.abs(),!1,t+yu(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};xi.toInteger=xi.toint=function(){var t=this,e=t.constructor;return fl(new e(t),yu(t)+1,e.rounding)};xi.toNumber=function(){return+this};xi.toPower=xi.pow=function(t){var e,r,n,i,a,o,c=this,u=c.constructor,l=12,d=+(t=new u(t));if(!t.s)return new u(yf);if(c=new u(c),!c.s){if(t.s<1)throw Error(sm+"Infinity");return c}if(c.eq(yf))return c;if(n=u.precision,t.eq(yf))return fl(c,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=c.s,o){if((r=d<0?-d:d)<=Mee){for(i=new u(yf),e=Math.ceil(n/Ul+4),ec=!1;r%2&&(i=i.times(c),BQ(i.d,e)),r=j1(r/2),r!==0;)c=c.times(c),BQ(c.d,e);return ec=!0,t.s<0?new u(yf).div(i):fl(i,n)}}else if(a<0)throw Error(sm+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,ec=!1,i=t.times(JE(c,n+l)),ec=!0,i=Uee(i),i.s=a,i};xi.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=yu(i),n=Cx(i,r<=a.toExpNeg||r>=a.toExpPos)):(ZA(t,1,S1),e===void 0?e=a.rounding:ZA(e,0,8),i=fl(new a(i),t,e),r=yu(i),n=Cx(i,t<=r||r<=a.toExpNeg,t)),n};xi.toSignificantDigits=xi.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ZA(t,1,S1),e===void 0?e=n.rounding:ZA(e,0,8)),fl(new n(r),t,e)};xi.toString=xi.valueOf=xi.val=xi.toJSON=xi[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yu(t),r=t.constructor;return Cx(t,e<=r.toExpNeg||e>=r.toExpPos)};function Fee(t,e){var r,n,i,a,o,c,u,l,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ec?fl(e,f):e;if(u=t.d,l=e.d,o=t.e,i=e.e,u=u.slice(),a=o-i,a){for(a<0?(n=u,a=-a,c=l.length):(n=l,i=o,c=u.length),o=Math.ceil(f/Ul),c=o>c?o+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=u.length,a=l.length,c-a<0&&(a=c,n=l,l=u,u=n),r=0;a;)r=(u[--a]=u[a]+l[a]+r)/md|0,u[a]%=md;for(r&&(u.unshift(r),++i),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=i,ec?fl(e,f):e}function ZA(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ox+t)}function MA(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Ul-n.length,r&&(a+=m0(r)),a+=n;o=t[e],n=o+"",r=Ul-n.length,r&&(a+=m0(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Gp=(function(){function t(n,i){var a,o=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+o,n[c]=a%md|0,o=a/md|0;return o&&n.unshift(o),n}function e(n,i,a,o){var c,u;if(a!=o)u=a>o?1:-1;else for(c=u=0;c<a;c++)if(n[c]!=i[c]){u=n[c]>i[c]?1:-1;break}return u}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*md+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var c,u,l,d,f,m,p,g,x,y,w,E,_,N,C,I,D,M,Y=n.constructor,X=n.s==i.s?1:-1,te=n.d,de=i.d;if(!n.s)return new Y(n);if(!i.s)throw Error(sm+"Division by zero");for(u=n.e-i.e,D=de.length,C=te.length,p=new Y(X),g=p.d=[],l=0;de[l]==(te[l]||0);)++l;if(de[l]>(te[l]||0)&&--u,a==null?E=a=Y.precision:o?E=a+(yu(n)-yu(i))+1:E=a,E<0)return new Y(0);if(E=E/Ul+2|0,l=0,D==1)for(d=0,de=de[0],E++;(l<C||d)&&E--;l++)_=d*md+(te[l]||0),g[l]=_/de|0,d=_%de|0;else{for(d=md/(de[0]+1)|0,d>1&&(de=t(de,d),te=t(te,d),D=de.length,C=te.length),N=D,x=te.slice(0,D),y=x.length;y<D;)x[y++]=0;M=de.slice(),M.unshift(0),I=de[0],de[1]>=md/2&&++I;do d=0,c=e(de,x,D,y),c<0?(w=x[0],D!=y&&(w=w*md+(x[1]||0)),d=w/I|0,d>1?(d>=md&&(d=md-1),f=t(de,d),m=f.length,y=x.length,c=e(f,x,m,y),c==1&&(d--,r(f,D<m?M:de,m))):(d==0&&(c=d=1),f=de.slice()),m=f.length,m<y&&f.unshift(0),r(x,f,y),c==-1&&(y=x.length,c=e(de,x,D,y),c<1&&(d++,r(x,D<y?M:de,y))),y=x.length):c===0&&(d++,x=[0]),g[l++]=d,c&&x[0]?x[y++]=te[N]||0:(x=[te[N]],y=1);while((N++<C||x[0]!==void 0)&&E--)}return g[0]||g.shift(),p.e=u,fl(p,o?a+yu(p)+1:a)}})();function Uee(t,e){var r,n,i,a,o,c,u=0,l=0,d=t.constructor,f=d.precision;if(yu(t)>16)throw Error(sM+yu(t));if(!t.s)return new d(yf);for(ec=!1,c=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),l+=5;for(n=Math.log(Cv(2,l))/Math.LN10*2+5|0,c+=n,r=i=a=new d(yf),d.precision=c;;){if(i=fl(i.times(t),c),r=r.times(++u),o=a.plus(Gp(i,r,c)),MA(o.d).slice(0,c)===MA(a.d).slice(0,c)){for(;l--;)a=fl(a.times(a),c);return d.precision=f,e==null?(ec=!0,fl(a,f)):a}a=o}}function yu(t){for(var e=t.e*Ul,r=t.d[0];r>=10;r/=10)e++;return e}function zL(t,e,r){if(e>t.LN10.sd())throw ec=!0,r&&(t.precision=r),Error(sm+"LN10 precision limit exceeded");return fl(new t(t.LN10),e)}function m0(t){for(var e="";t--;)e+="0";return e}function JE(t,e){var r,n,i,a,o,c,u,l,d,f=1,m=10,p=t,g=p.d,x=p.constructor,y=x.precision;if(p.s<1)throw Error(sm+(p.s?"NaN":"-Infinity"));if(p.eq(yf))return new x(0);if(e==null?(ec=!1,l=y):l=e,p.eq(10))return e==null&&(ec=!0),zL(x,l);if(l+=m,x.precision=l,r=MA(g),n=r.charAt(0),a=yu(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=MA(p.d),n=r.charAt(0),f++;a=yu(p),n>1?(p=new x("0."+r),a++):p=new x(n+"."+r.slice(1))}else return u=zL(x,l+2,y).times(a+""),p=JE(new x(n+"."+r.slice(1)),l-m).plus(u),x.precision=y,e==null?(ec=!0,fl(p,y)):p;for(c=o=p=Gp(p.minus(yf),p.plus(yf),l),d=fl(p.times(p),l),i=3;;){if(o=fl(o.times(d),l),u=c.plus(Gp(o,new x(i),l)),MA(u.d).slice(0,l)===MA(c.d).slice(0,l))return c=c.times(2),a!==0&&(c=c.plus(zL(x,l+2,y).times(a+""))),c=Gp(c,new x(f),l),x.precision=y,e==null?(ec=!0,fl(c,y)):c;c=u,i+=2}}function IQ(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=j1(r/Ul),t.d=[],n=(r+1)%Ul,r<0&&(n+=Ul),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Ul;n<i;)t.d.push(+e.slice(n,n+=Ul));e=e.slice(n),n=Ul-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ec&&(t.e>LC||t.e<-LC))throw Error(sM+r)}else t.s=0,t.e=0,t.d=[0];return t}function fl(t,e,r){var n,i,a,o,c,u,l,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Ul,i=e,l=f[d=0];else{if(d=Math.ceil((n+1)/Ul),a=f.length,d>=a)return t;for(l=a=f[d],o=1;a>=10;a/=10)o++;n%=Ul,i=n-Ul+o}if(r!==void 0&&(a=Cv(10,o-i-1),c=l/a%10|0,u=e<0||f[d+1]!==void 0||l%a,u=r<4?(c||u)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||u||r==6&&(n>0?i>0?l/Cv(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return u?(a=yu(t),f.length=1,e=e-a-1,f[0]=Cv(10,(Ul-e%Ul)%Ul),t.e=j1(-e/Ul)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Cv(10,Ul-n),f[d]=i>0?(l/Cv(10,o-i)%Cv(10,i)|0)*a:0),u)for(;;)if(d==0){(f[0]+=a)==md&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=md)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ec&&(t.e>LC||t.e<-LC))throw Error(sM+yu(t));return t}function $ee(t,e){var r,n,i,a,o,c,u,l,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ec?fl(e,p):e;if(u=t.d,f=e.d,n=e.e,l=t.e,u=u.slice(),o=l-n,o){for(d=o<0,d?(r=u,o=-o,c=f.length):(r=f,n=l,c=u.length),i=Math.max(Math.ceil(p/Ul),c)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=u.length,c=f.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(u[i]!=f[i]){d=u[i]<f[i];break}o=0}for(d&&(r=u,u=f,f=r,e.s=-e.s),c=u.length,i=f.length-c;i>0;--i)u[c++]=0;for(i=f.length;i>o;){if(u[--i]<f[i]){for(a=i;a&&u[--a]===0;)u[a]=md-1;--u[a],u[i]+=md}u[i]-=f[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(e.d=u,e.e=n,ec?fl(e,p):e):new m(0)}function Cx(t,e,r){var n,i=yu(t),a=MA(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+m0(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+m0(-i-1)+a,r&&(n=r-o)>0&&(a+=m0(n))):i>=o?(a+=m0(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+m0(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=m0(n))),t.s<0?"-"+a:a}function BQ(t,e){if(t.length>e)return t.length=e,!0}function Hee(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(ox+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return IQ(o,a.toString())}else if(typeof a!="string")throw Error(ox+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,W_e.test(a))IQ(o,a);else throw Error(ox+a)}if(i.prototype=xi,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Hee,i.config=i.set=Y_e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Y_e(t){if(!t||typeof t!="object")throw Error(sm+"Object expected");var e,r,n,i=["precision",1,S1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(j1(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ox+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ox+r+": "+n);return this}var aM=Hee(G_e);yf=new aM(1);const $o=aM;function Qee(t){var e;return t===0?e=1:e=Math.floor(new $o(t).abs().log(10).toNumber())+1,e}function zee(t,e,r){for(var n=new $o(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Vee=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},Kee=(t,e,r)=>{if(t.lte(0))return new $o(0);var n=Qee(t.toNumber()),i=new $o(10).pow(n),a=t.div(i),o=n!==1?.05:.1,c=new $o(Math.ceil(a.div(o).toNumber())).add(r).mul(o),u=c.mul(i);return e?new $o(u.toNumber()):new $o(Math.ceil(u.toNumber()))},q_e=(t,e,r)=>{var n=new $o(1),i=new $o(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new $o(10).pow(Qee(t)-1),i=new $o(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new $o(Math.floor(t)))}else t===0?i=new $o(Math.floor((e-1)/2)):r||(i=new $o(Math.floor(t)));for(var o=Math.floor((e-1)/2),c=[],u=0;u<e;u++)c.push(i.add(new $o(u-o).mul(n)).toNumber());return c},Gee=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new $o(0),tickMin:new $o(0),tickMax:new $o(0)};var o=Kee(new $o(r).sub(e).div(n-1),i,a),c;e<=0&&r>=0?c=new $o(0):(c=new $o(e).add(r).div(2),c=c.sub(new $o(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),l=Math.ceil(new $o(r).sub(c).div(o).toNumber()),d=u+l+1;return d>n?Gee(e,r,n,i,a+1):(d<n&&(l=r>0?l+(n-d):l,u=r>0?u:u+(n-d)),{step:o,tickMin:c.sub(new $o(u).mul(o)),tickMax:c.add(new $o(l).mul(o))})},X_e=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=Vee([r,n]);if(c===-1/0||u===1/0){var l=u===1/0?[c,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return r>n?l.reverse():l}if(c===u)return q_e(c,i,a);var{step:d,tickMin:f,tickMax:m}=Gee(c,u,o,a,0),p=zee(f,m.add(new $o(.1).mul(d)),d);return r>n?p.reverse():p},Z_e=function(e,r){var[n,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=Vee([n,i]);if(o===-1/0||c===1/0)return[n,i];if(o===c)return[o];var u=Math.max(r,2),l=Kee(new $o(c).sub(o).div(u-1),a,0),d=[...zee(new $o(o),new $o(c),l),c];return a===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},Wee=t=>t.rootProps.maxBarSize,J_e=t=>t.rootProps.barGap,Yee=t=>t.rootProps.barCategoryGap,eSe=t=>t.rootProps.barSize,i_=t=>t.rootProps.stackOffset,qee=t=>t.rootProps.reverseStackOrder,oM=t=>t.options.chartName,lM=t=>t.rootProps.syncId,Xee=t=>t.rootProps.syncMethod,cM=t=>t.options.eventEmitter,Dc={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},s0={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Dc.axis},dA={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Lk=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function s_(t,e,r){if(r!=="auto")return r;if(t!=null)return hg(t,e)?"category":"number"}function PQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PQ(Object(r),!0).forEach(function(n){tSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tSe(t,e,r){return(e=rSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rSe(t){var e=nSe(t,"string");return typeof e=="symbol"?e:e+""}function nSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OQ={allowDataOverflow:s0.allowDataOverflow,allowDecimals:s0.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:s0.angleAxisId,includeHidden:!1,name:void 0,reversed:s0.reversed,scale:s0.scale,tick:s0.tick,tickCount:void 0,ticks:void 0,type:s0.type,unit:void 0},RQ={allowDataOverflow:dA.allowDataOverflow,allowDecimals:dA.allowDecimals,allowDuplicatedCategory:dA.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dA.radiusAxisId,includeHidden:dA.includeHidden,name:void 0,reversed:dA.reversed,scale:dA.scale,tick:dA.tick,tickCount:dA.tickCount,ticks:void 0,type:dA.type,unit:void 0},iSe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},T1=hr([iSe,ID],(t,e)=>{var r;if(t!=null)return t;var n=(r=s_(e,"angleAxis",OQ.type))!==null&&r!==void 0?r:"category";return IC(IC({},OQ),{},{type:n})}),sSe=(t,e)=>t.polarAxis.radiusAxis[e],a_=hr([sSe,ID],(t,e)=>{var r;if(t!=null)return t;var n=(r=s_(e,"radiusAxis",RQ.type))!==null&&r!==void 0?r:"category";return IC(IC({},RQ),{},{type:n})}),Ik=t=>t.polarOptions,uM=hr([fg,mg,Wu],ZJ),Zee=hr([Ik,uM],(t,e)=>{if(t!=null)return ah(t.innerRadius,e,0)}),Jee=hr([Ik,uM],(t,e)=>{if(t!=null)return ah(t.outerRadius,e,e*.8)}),aSe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},ete=hr([Ik],aSe),oSe=hr([T1,ete],Lk),tte=hr([uM,Zee,Jee],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]}),lSe=hr([a_,tte],Lk),o_=hr([Wa,Ik,Zee,Jee,fg,mg],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:o,cy:c,startAngle:u,endAngle:l}=e;return{cx:ah(o,i,i/2),cy:ah(c,a,a/2),innerRadius:r,outerRadius:n,startAngle:u,endAngle:l,clockWise:!1}}}),Ll=(t,e)=>e,l_=(t,e,r)=>r;function dM(t){return t?.id}function rte(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return t.forEach(c=>{var u,l=(u=c.data)!==null&&u!==void 0?u:n;if(!(l==null||l.length===0)){var d=dM(c);l.forEach((f,m)=>{var p=a==null||i?m:String(hl(f,a,null)),g=hl(f,c.dataKey,0),x;o.has(p)?x=o.get(p):x={},Object.assign(x,{[d]:g}),o.set(p,x)})}}),Array.from(o.values())}function Bk(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Pk=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Ok(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function cSe(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var bd=t=>{var e=Wa(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},C1=t=>t.tooltip.settings.axisId;function uSe(t){if(t in Bw)return Bw[t]();var e="scale".concat(V2(t));if(e in Bw)return Bw[e]()}function DQ(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(a){function o(){return a.apply(this,arguments)}return o.toString=function(){return a.toString()},o})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var o=i[0],c=i[1];return o<=c?a>=o&&a<=c:a>=c&&a<=o},bandwidth:r?()=>r.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,o)=>{var c=t(a);if(c!=null){if(t.bandwidth&&o!==null&&o!==void 0&&o.position){var u=t.bandwidth();switch(o.position){case"middle":c+=u/2;break;case"end":c+=u;break}}return c}}}}function MQ(t,e,r){if(typeof t=="function")return DQ(t.copy().domain(e).range(r));if(t!=null){var n=uSe(t);if(n!=null)return n.domain(e).range(r),DQ(n)}}var nte=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ag(e)){for(var r,n,i=0;i<e.length;i++){var a=e[i];Ha(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function FQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FQ(Object(r),!0).forEach(function(n){dSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dSe(t,e,r){return(e=hSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hSe(t){var e=fSe(t,"string");return typeof e=="symbol"?e:e+""}function fSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zP=[0,"auto"],dd={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ite=(t,e)=>t.cartesianAxis.xAxis[e],gg=(t,e)=>{var r=ite(t,e);return r??dd},hd={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zP,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:W2},ste=(t,e)=>t.cartesianAxis.yAxis[e],vg=(t,e)=>{var r=ste(t,e);return r??hd},mSe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hM=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??mSe},Qc=(t,e,r)=>{switch(e){case"xAxis":return gg(t,r);case"yAxis":return vg(t,r);case"zAxis":return hM(t,r);case"angleAxis":return T1(t,r);case"radiusAxis":return a_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},ASe=(t,e,r)=>{switch(e){case"xAxis":return gg(t,r);case"yAxis":return vg(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Rx=(t,e,r)=>{switch(e){case"xAxis":return gg(t,r);case"yAxis":return vg(t,r);case"angleAxis":return T1(t,r);case"radiusAxis":return a_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},ate=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function fM(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var mM=t=>t.graphicalItems.cartesianItems,pSe=hr([Ll,l_],fM),AM=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),c_=hr([mM,Qc,pSe],AM,{memoizeOptions:{resultEqualityCheck:Ok}}),ote=hr([c_],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Bk)),lte=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gSe=hr([c_],lte),pM=t=>t.map(e=>e.data).filter(Boolean).flat(1),vSe=hr([c_],pM,{memoizeOptions:{resultEqualityCheck:Ok}}),gM=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},vM=hr([vSe,Ree],gM),xM=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:hl(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:hl(i,n)}))):t.map(n=>({value:n})),Rk=hr([vM,Qc,c_],xM);function cte(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function mj(t){if(qA(t)||t instanceof Date){var e=Number(t);if(Ha(e))return e}}function UQ(t){if(Array.isArray(t)){var e=[mj(t[0]),mj(t[1])];return ag(e)?e:void 0}var r=mj(t);if(r!=null)return[r,r]}function og(t){return t.map(mj).filter(Hh)}function xSe(t,e,r){return!r||typeof e!="number"||YA(e)?[]:r.length?og(r.flatMap(n=>{var i=hl(t,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Ha(a)||!Ha(o)))return[e-a,e+o]})):[]}var qu=t=>{var e=bd(t),r=C1(t);return Rx(t,e,r)},u_=hr([qu],t=>t?.dataKey),ySe=hr([ote,Ree,qu],rte),ute=(t,e,r,n)=>{var i={},a=e.reduce((o,c)=>{if(c.stackId==null)return o;var u=o[c.stackId];return u==null&&(u=[]),u.push(c),o[c.stackId]=u,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[c,u]=o,l=n?[...u].reverse():u,d=l.map(dM);return[c,{stackedData:Dbe(t,d,r),graphicalItems:l}]}))},VP=hr([ySe,ote,i_,qee],ute),dte=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var o=Hbe(t,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},bSe=hr([Qc],t=>t.allowDataOverflow),yM=t=>{var e;if(t==null||!("domain"in t))return zP;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=og(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:zP},bM=hr([Qc],yM),wM=hr([bM,bSe],Dee),wSe=hr([VP,pg,Ll,wM],dte,{memoizeOptions:{resultEqualityCheck:Pk}}),Dk=t=>t.errorBars,ESe=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>cte(r,n)),PC=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},EM=(t,e,r,n,i)=>{var a,o;if(r.length>0&&t.forEach(c=>{r.forEach(u=>{var l,d,f=(l=n[u.id])===null||l===void 0?void 0:l.filter(w=>cte(i,w)),m=hl(c,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey),p=xSe(c,m,f);if(p.length>=2){var g=Math.min(...p),x=Math.max(...p);(a==null||g<a)&&(a=g),(o==null||x>o)&&(o=x)}var y=UQ(m);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),e?.dataKey!=null&&t.forEach(c=>{var u=UQ(hl(c,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Ha(a)&&Ha(o))return[a,o]},_Se=hr([vM,Qc,gSe,Dk,Ll],EM,{memoizeOptions:{resultEqualityCheck:Pk}});function SSe(t){var{value:e}=t;if(qA(e)||e instanceof Date)return e}var jSe=(t,e,r)=>{var n=t.map(SSe).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&IZ(n))?ree(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},hte=t=>t.referenceElements.dots,N1=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),TSe=hr([hte,Ll,l_],N1),fte=t=>t.referenceElements.areas,CSe=hr([fte,Ll,l_],N1),mte=t=>t.referenceElements.lines,NSe=hr([mte,Ll,l_],N1),Ate=(t,e)=>{if(t!=null){var r=og(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kSe=hr(TSe,Ll,Ate),pte=(t,e)=>{if(t!=null){var r=og(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},LSe=hr([CSe,Ll],pte);function ISe(t){var e;if(t.x!=null)return og([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:og(r)}function BSe(t){var e;if(t.y!=null)return og([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:og(r)}var gte=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?ISe(n):BSe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},PSe=hr([NSe,Ll],gte),OSe=hr(kSe,PSe,LSe,(t,e,r)=>PC(t,r,e)),_M=(t,e,r,n,i,a,o,c)=>{if(r!=null)return r;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",l=u?PC(n,a,i):PC(a,i);return K_e(e,l,t.allowDataOverflow)},RSe=hr([Qc,bM,wM,wSe,_Se,OSe,Wa,Ll],_M,{memoizeOptions:{resultEqualityCheck:Pk}}),DSe=[0,1],SM=(t,e,r,n,i,a,o)=>{if(!((t==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:u}=t,l=hg(e,a);if(l&&c==null){var d;return ree(0,(d=r?.length)!==null&&d!==void 0?d:0)}return u==="category"?jSe(n,t,l):i==="expand"?DSe:o}},jM=hr([Qc,Wa,vM,Rk,i_,Ll,RSe],SM);function MSe(t){return t in Bw}var vte=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(V2(n));return MSe(a)?a:"point"}}},tp=hr([Qc,ate,oM],vte);function Mk(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?MQ(t.scale,r,n):MQ(e,r,n)}var TM=(t,e,r)=>{var n=yM(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ag(t))return X_e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ag(t))return Z_e(t,e.tickCount,e.allowDecimals)}},CM=hr([jM,Rx,tp],TM),NM=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&ag(e)&&Array.isArray(r)&&r.length>0){var i,a,o=e[0],c=(i=r[0])!==null&&i!==void 0?i:0,u=e[1],l=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(o,c),Math.max(u,l)]}return e},FSe=hr([Qc,jM,CM,Ll],NM),USe=hr(Rk,Qc,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(og(t.map(f=>f.value))).sort((f,m)=>f-m),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var c=0;c<n.length-1;c++){var u=n[c],l=n[c+1];if(!(u==null||l==null)){var d=l-u;r=Math.min(r,d)}}return r/o}}),xte=hr(USe,Wa,Yee,Wu,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!Ha(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=ah(r,t*a),c=t*a/2;return c-o-(c-o)/a*o}return 0}),$Se=(t,e,r)=>{var n=gg(t,e);return n==null||typeof n.padding!="string"?0:xte(t,"xAxis",e,r,n.padding)},HSe=(t,e,r)=>{var n=vg(t,e);return n==null||typeof n.padding!="string"?0:xte(t,"yAxis",e,r,n.padding)},QSe=hr(gg,$Se,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),zSe=hr(vg,HSe,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),VSe=hr([Wu,QSe,xk,vk,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),KSe=hr([Wu,Wa,zSe,xk,vk,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),d_=(t,e,r,n)=>{var i;switch(e){case"xAxis":return VSe(t,r,n);case"yAxis":return KSe(t,r,n);case"zAxis":return(i=hM(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return ete(t);case"radiusAxis":return tte(t,r);default:return}},yte=hr([Qc,d_],Lk),GSe=hr([tp,FSe],nte),Fk=hr([Qc,tp,GSe,yte],Mk);hr([c_,Dk,Ll],ESe);function bte(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Uk=(t,e)=>e,$k=(t,e,r)=>r,WSe=hr(pk,Uk,$k,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(bte)),YSe=hr(gk,Uk,$k,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(bte)),wte=(t,e)=>({width:t.width,height:e.height}),qSe=(t,e)=>{var r=typeof e.width=="number"?e.width:W2;return{width:r,height:t.height}},Ete=hr(Wu,gg,wte),XSe=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},ZSe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},JSe=hr(mg,Wu,WSe,Uk,$k,(t,e,r,n,i)=>{var a={},o;return r.forEach(c=>{var u=wte(e,c);o==null&&(o=XSe(e,n,t));var l=n==="top"&&!i||n==="bottom"&&i;a[c.id]=o-Number(l)*u.height,o+=(l?-1:1)*u.height}),a}),eje=hr(fg,Wu,YSe,Uk,$k,(t,e,r,n,i)=>{var a={},o;return r.forEach(c=>{var u=qSe(e,c);o==null&&(o=ZSe(e,n,t));var l=n==="left"&&!i||n==="right"&&i;a[c.id]=o-Number(l)*u.width,o+=(l?-1:1)*u.width}),a}),tje=(t,e)=>{var r=gg(t,e);if(r!=null)return JSe(t,r.orientation,r.mirror)},rje=hr([Wu,gg,tje,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),nje=(t,e)=>{var r=vg(t,e);if(r!=null)return eje(t,r.orientation,r.mirror)},ije=hr([Wu,vg,nje,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),_te=hr(Wu,vg,(t,e)=>{var r=typeof e.width=="number"?e.width:W2;return{width:r,height:t.height}}),$Q=(t,e,r)=>{switch(e){case"xAxis":return Ete(t,r).width;case"yAxis":return _te(t,r).height;default:return}},Ste=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,c=hg(t,n),u=e.map(l=>l.value);if(o&&c&&a==="category"&&i&&IZ(u))return u}},h_=hr([Wa,Rk,Qc,Ll],Ste),kM=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=hg(t,n);if(o&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},LM=hr([Wa,Rk,Rx,Ll],kM),HQ=hr([Wa,ASe,tp,Fk,h_,LM,d_,CM,Ll],(t,e,r,n,i,a,o,c,u)=>{if(e!=null){var l=hg(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:l,niceTicks:c,range:o,realScaleType:r,scale:n}}}),jte=(t,e,r,n,i,a,o,c,u)=>{if(!(e==null||n==null)){var l=hg(t,u),{type:d,ticks:f,tickCount:m}=e,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=u==="angleAxis"&&a!=null&&a.length>=2?vd(a[0]-a[1])*2*g:g;var x=f||i;return x?x.map((y,w)=>{var E=o?o.indexOf(y):y,_=n.map(E);return Ha(_)?{index:w,coordinate:_+g,value:y,offset:g}:null}).filter(Hh):l&&c?c.map((y,w)=>{var E=n.map(y);return Ha(E)?{coordinate:E+g,value:y,index:w,offset:g}:null}).filter(Hh):n.ticks?n.ticks(m).map((y,w)=>{var E=n.map(y);return Ha(E)?{coordinate:E+g,value:y,index:w,offset:g}:null}).filter(Hh):n.domain().map((y,w)=>{var E=n.map(y);return Ha(E)?{coordinate:E+g,value:o?o[y]:y,index:w,offset:g}:null}).filter(Hh)}},Tte=hr([Wa,Rx,tp,Fk,CM,d_,h_,LM,Ll],jte),Cte=(t,e,r,n,i,a,o)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var c=hg(t,o),{tickCount:u}=e,l=0;return l=o==="angleAxis"&&n?.length>=2?vd(n[0]-n[1])*2*l:l,c&&a?a.map((d,f)=>{var m=r.map(d);return Ha(m)?{coordinate:m+l,value:d,index:f,offset:l}:null}).filter(Hh):r.ticks?r.ticks(u).map((d,f)=>{var m=r.map(d);return Ha(m)?{coordinate:m+l,value:d,index:f,offset:l}:null}).filter(Hh):r.domain().map((d,f)=>{var m=r.map(d);return Ha(m)?{coordinate:m+l,value:i?i[d]:d,index:f,offset:l}:null}).filter(Hh)}},e1=hr([Wa,Rx,Fk,d_,h_,LM,Ll],Cte),t1=hr(Qc,Fk,(t,e)=>{if(!(t==null||e==null))return BC(BC({},t),{},{scale:e})}),sje=hr([Qc,tp,jM,yte],Mk);hr((t,e,r)=>hM(t,r),sje,(t,e)=>{if(!(t==null||e==null))return BC(BC({},t),{},{scale:e})});var aje=hr([Wa,pk,gk],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Nte=t=>t.options.defaultTooltipEventType,kte=t=>t.options.validateTooltipEventTypes;function Lte(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function IM(t,e){var r=Nte(t),n=kte(t);return Lte(e,r,n)}function oje(t){return ai(e=>IM(e,t))}var Ite=(t,e)=>{var r,n=Number(e);if(!(YA(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},lje=t=>t.tooltip.settings,b0={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cje={itemInteraction:{click:b0,hover:b0},axisInteraction:{click:b0,hover:b0},keyboardInteraction:b0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Bte=Yh({name:"tooltip",initialState:cje,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Jl()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=$m(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Jl()},removeTooltipEntrySettings:{reducer(t,e){var r=$m(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Jl()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:uje,replaceTooltipEntrySettings:dje,removeTooltipEntrySettings:hje,setTooltipSettingsState:fje,setActiveMouseOverItemIndex:Pte,mouseLeaveItem:mje,mouseLeaveChart:Ote,setActiveClickItemIndex:Aje,setMouseOverAxisIndex:Rte,setMouseClickAxisIndex:pje,setSyncInteraction:KP,setKeyboardInteraction:GP}=Bte.actions,gje=Bte.reducer;function QQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QQ(Object(r),!0).forEach(function(n){vje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vje(t,e,r){return(e=xje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xje(t){var e=yje(t,"string");return typeof e=="symbol"?e:e+""}function yje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bje(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function wje(t){return t.index!=null}var Dte=(t,e,r,n)=>{if(e==null)return b0;var i=bje(t,e,r);if(i==null)return b0;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(wje(i)){if(a)return hS(hS({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return hS(hS({},b0),{},{coordinate:i.coordinate})};function Eje(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function _je(t,e){var r=Eje(t),n=e[0],i=e[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function Sje(t,e,r){if(r==null||e==null)return!0;var n=hl(t,e);return n==null||!ag(r)?!0:_je(n,r)}var BM=(t,e,r,n)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Ha(a))return i;var o=0,c=1/0;e.length>0&&(c=e.length-1);var u=Math.max(o,Math.min(a,c)),l=e[u];return l==null||Sje(l,r,n)?String(u):null},Mte=(t,e,r,n,i,a,o)=>{if(a!=null){var c=o[0],u=c?.getPosition(a);if(u!=null)return u;var l=i?.[Number(a)];if(l)return r==="horizontal"?{x:l.coordinate,y:(n.top+e)/2}:{x:(n.left+t)/2,y:l.coordinate}}},Fte=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===i})},Ute=t=>t.options.tooltipPayloadSearcher,k1=t=>t.tooltip;function zQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zQ(Object(r),!0).forEach(function(n){jje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jje(t,e,r){return(e=Tje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tje(t){var e=Cje(t,"string");return typeof e=="symbol"?e:e+""}function Cje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nje(t,e){return t??e}var $te=(t,e,r,n,i,a,o)=>{if(!(e==null||a==null)){var{chartData:c,computedData:u,dataStartIndex:l,dataEndIndex:d}=r,f=[];return t.reduce((m,p)=>{var g,{dataDefinedOnItem:x,settings:y}=p,w=Nje(x,c),E=Array.isArray(w)?_J(w,l,d):w,_=(g=y?.dataKey)!==null&&g!==void 0?g:n,N=y?.nameKey,C;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?C=uxe(E,n,i):C=a(E,e,u,N),Array.isArray(C))C.forEach(D=>{var M=VQ(VQ({},y),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});m.push(Q9({tooltipEntrySettings:M,dataKey:D.dataKey,payload:D.payload,value:hl(D.payload,D.dataKey),name:D.name}))});else{var I;m.push(Q9({tooltipEntrySettings:y,dataKey:_,payload:C,value:hl(C,_),name:(I=hl(C,N))!==null&&I!==void 0?I:y?.name}))}return m},f)}},PM=hr([qu,ate,oM],vte),kje=hr([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Lje=hr([bd,C1],fM),L1=hr([kje,qu,Lje],AM,{memoizeOptions:{resultEqualityCheck:Ok}}),Ije=hr([L1],t=>t.filter(Bk)),Bje=hr([L1],pM,{memoizeOptions:{resultEqualityCheck:Ok}}),I1=hr([Bje,pg],gM),Pje=hr([Ije,pg,qu],rte),OM=hr([I1,qu,L1],xM),Hte=hr([qu],yM),Oje=hr([qu],t=>t.allowDataOverflow),Qte=hr([Hte,Oje],Dee),Rje=hr([L1],t=>t.filter(Bk)),Dje=hr([Pje,Rje,i_,qee],ute),Mje=hr([Dje,pg,bd,Qte],dte),Fje=hr([L1],lte),Uje=hr([I1,qu,Fje,Dk,bd],EM,{memoizeOptions:{resultEqualityCheck:Pk}}),$je=hr([hte,bd,C1],N1),Hje=hr([$je,bd],Ate),Qje=hr([fte,bd,C1],N1),zje=hr([Qje,bd],pte),Vje=hr([mte,bd,C1],N1),Kje=hr([Vje,bd],gte),Gje=hr([Hje,Kje,zje],PC),Wje=hr([qu,Hte,Qte,Mje,Uje,Gje,Wa,bd],_M),f_=hr([qu,Wa,I1,OM,i_,bd,Wje],SM),Yje=hr([f_,qu,PM],TM),qje=hr([qu,f_,Yje,bd],NM),zte=t=>{var e=bd(t),r=C1(t),n=!1;return d_(t,e,r,n)},Vte=hr([qu,zte],Lk),Kte=hr([qu,PM,qje,Vte],Mk),Xje=hr([Wa,OM,qu,bd],Ste),Zje=hr([Wa,OM,qu,bd],kM),Jje=(t,e,r,n,i,a,o,c)=>{if(e){var{type:u}=e,l=hg(t,c);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=u==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=c==="angleAxis"&&i!=null&&i?.length>=2?vd(i[0]-i[1])*2*f:f,l&&o?o.map((m,p)=>{var g=n.map(m);return Ha(g)?{coordinate:g+f,value:m,index:p,offset:f}:null}).filter(Hh):n.domain().map((m,p)=>{var g=n.map(m);return Ha(g)?{coordinate:g+f,value:a?a[m]:m,index:p,offset:f}:null}).filter(Hh)}}},xg=hr([Wa,qu,PM,Kte,zte,Xje,Zje,bd],Jje),RM=hr([Nte,kte,lje],(t,e,r)=>Lte(r.shared,t,e)),Gte=t=>t.tooltip.settings.trigger,DM=t=>t.tooltip.settings.defaultIndex,m_=hr([k1,RM,Gte,DM],Dte),Q0=hr([m_,I1,u_,f_],BM),Wte=hr([xg,Q0],Ite),MM=hr([m_],t=>{if(t)return t.dataKey}),eTe=hr([m_],t=>{if(t)return t.graphicalItemId}),Yte=hr([k1,RM,Gte,DM],Fte),tTe=hr([fg,mg,Wa,Wu,xg,DM,Yte],Mte),rTe=hr([m_,tTe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),nTe=hr([m_],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),iTe=hr([Yte,Q0,pg,u_,Wte,Ute,RM],$te),sTe=hr([iTe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function KQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KQ(Object(r),!0).forEach(function(n){aTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aTe(t,e,r){return(e=oTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oTe(t){var e=lTe(t,"string");return typeof e=="symbol"?e:e+""}function lTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cTe=()=>ai(qu),uTe=()=>{var t=cTe(),e=ai(xg),r=ai(Kte);return Wb(!t||!r?void 0:GQ(GQ({},t),{},{scale:r}),e)};function WQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WQ(Object(r),!0).forEach(function(n){dTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dTe(t,e,r){return(e=hTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hTe(t){var e=fTe(t,"string");return typeof e=="symbol"?e:e+""}function fTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mTe=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},ATe=(t,e,r,n)=>{var i=e.find(l=>l&&l.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:o}=n;return oy(oy(oy({},n),rl(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:u}=n;return oy(oy(oy({},n),rl(n.cx,n.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function pTe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var qte=(t,e,r,n,i)=>{var a,o=(a=e?.length)!==null&&a!==void 0?a:0;if(o<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<o;c++){var u,l,d,f,m,p=c>0?(u=r[c-1])===null||u===void 0?void 0:u.coordinate:(l=r[o-1])===null||l===void 0?void 0:l.coordinate,g=(d=r[c])===null||d===void 0?void 0:d.coordinate,x=c>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(m=r[c+1])===null||m===void 0?void 0:m.coordinate,y=void 0;if(!(p==null||g==null||x==null))if(vd(g-p)!==vd(x-g)){var w=[];if(vd(x-g)===vd(i[1]-i[0])){y=x;var E=g+i[1]-i[0];w[0]=Math.min(E,(E+p)/2),w[1]=Math.max(E,(E+p)/2)}else{y=p;var _=x+i[1]-i[0];w[0]=Math.min(g,(_+g)/2),w[1]=Math.max(g,(_+g)/2)}var N=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(t>N[0]&&t<=N[1]||t>=w[0]&&t<=w[1]){var C;return(C=r[c])===null||C===void 0?void 0:C.index}}else{var I=Math.min(p,x),D=Math.max(p,x);if(t>(I+g)/2&&t<=(D+g)/2){var M;return(M=r[c])===null||M===void 0?void 0:M.index}}}else if(e)for(var Y=0;Y<o;Y++){var X=e[Y];if(X!=null){var te=e[Y+1],de=e[Y-1];if(Y===0&&te!=null&&t<=(X.coordinate+te.coordinate)/2||Y===o-1&&de!=null&&t>(X.coordinate+de.coordinate)/2||Y>0&&Y<o-1&&de!=null&&te!=null&&t>(X.coordinate+de.coordinate)/2&&t<=(X.coordinate+te.coordinate)/2)return X.index}}return-1},gTe=()=>ai(oM),FM=(t,e)=>e,Xte=(t,e,r)=>r,UM=(t,e,r,n)=>n,vTe=hr(xg,t=>ak(t,e=>e.coordinate)),$M=hr([k1,FM,Xte,UM],Dte),HM=hr([$M,I1,u_,f_],BM),xTe=(t,e,r)=>{if(e!=null){var n=k1(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Zte=hr([k1,FM,Xte,UM],Fte),OC=hr([fg,mg,Wa,Wu,xg,UM,Zte],Mte),yTe=hr([$M,OC],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),Jte=hr([xg,HM],Ite),bTe=hr([Zte,HM,pg,u_,Jte,Ute,FM],$te),wTe=hr([$M,HM],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),ETe=(t,e,r,n,i,a,o)=>{if(!(!t||!r||!n||!i)&&pTe(t,o)){var c=Qbe(t,e),u=qte(c,a,i,r,n),l=mTe(e,i,u,t);return{activeIndex:String(u),activeCoordinate:l}}},_Te=(t,e,r,n,i,a,o)=>{if(!(!t||!n||!i||!a||!r)){var c=oEe(t,r);if(c){var u=zbe(c,e),l=qte(u,o,a,n,i),d=ATe(e,a,l,c);return{activeIndex:String(l),activeCoordinate:d}}}},STe=(t,e,r,n,i,a,o,c)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?ETe(t,e,n,i,a,o,c):_Te(t,e,r,n,i,a,o)},jTe=hr(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),TTe=hr(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(Dc)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:cSe}});function YQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YQ(Object(r),!0).forEach(function(n){CTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CTe(t,e,r){return(e=NTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NTe(t){var e=kTe(t,"string");return typeof e=="symbol"?e:e+""}function kTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LTe={},ITe={zIndexMap:Object.values(Dc).reduce((t,e)=>qQ(qQ({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),LTe)},BTe=new Set(Object.values(Dc));function PTe(t){return BTe.has(t)}var ere=Yh({name:"zIndex",initialState:ITe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Jl()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!PTe(r)&&delete t.zIndexMap[r])},prepare:Jl()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Jl()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Jl()}}}),{registerZIndexPortal:OTe,unregisterZIndexPortal:RTe,registerZIndexPortalElement:DTe,unregisterZIndexPortalElement:MTe}=ere.actions,FTe=ere.reducer;function lh(t){var{zIndex:e,children:r}=t,n=w1e(),i=n&&e!==void 0&&e!==0,a=oh(),o=Al();T.useLayoutEffect(()=>i?(o(OTe({zIndex:e})),()=>{o(RTe({zIndex:e}))}):X0,[o,e,i]);var c=ai(u=>jTe(u,e,a));return i?c?j0.createPortal(r,c):null:r}function WP(){return WP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WP.apply(null,arguments)}function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(n){UTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UTe(t,e,r){return(e=$Te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Te(t){var e=HTe(t,"string");return typeof e=="symbol"?e:e+""}function HTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QTe(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return T.isValidElement(e)?T.cloneElement(e,n):T.createElement(r,n)}function zTe(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:l,chartName:d}=t,f=r,m=n,p=i;if(!u||!f||d!=="ScatterChart"&&l!=="axis")return null;var g,x,y;if(d==="ScatterChart")g=f,x=bwe,y=Dc.cursorLine;else if(d==="BarChart")g=wwe(c,f,a,o),x=XJ,y=Dc.cursorRectangle;else if(c==="radial"&&PZ(f)){var{cx:w,cy:E,radius:_,startAngle:N,endAngle:C}=JJ(f);g={cx:w,cy:E,startAngle:N,endAngle:C,innerRadius:_,outerRadius:_},x=tee,y=Dc.cursorLine}else g={points:dEe(c,f,a)},x=OD,y=Dc.cursorLine;var I=typeof u=="object"&&"className"in u?u.className:void 0,D=fS(fS(fS(fS({stroke:"#ccc",pointerEvents:"none"},a),g),bx(u)),{},{payload:m,payloadIndex:p,className:Sa("recharts-tooltip-cursor",I)});return T.createElement(lh,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:y},T.createElement(QTe,{cursor:u,cursorComp:x,cursorProps:D}))}function VTe(t){var e=uTe(),r=BJ(),n=E1(),i=gTe();return e==null||r==null||n==null||i==null?null:T.createElement(zTe,WP({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var tre=T.createContext(null),KTe=()=>T.useContext(tre),VL={exports:{}},ZQ;function GTe(){return ZQ||(ZQ=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,d){this.fn=u,this.context=l,this.once=d||!1}function a(u,l,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,m),g=r?r+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)e.call(d,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},c.prototype.listeners=function(l){var d=r?r+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,g=new Array(p);m<p;m++)g[m]=f[m].fn;return g},c.prototype.listenerCount=function(l){var d=r?r+l:l,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(l,d,f,m,p,g){var x=r?r+l:l;if(!this._events[x])return!1;var y=this._events[x],w=arguments.length,E,_;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,p),!0;case 6:return y.fn.call(y.context,d,f,m,p,g),!0}for(_=1,E=new Array(w-1);_<w;_++)E[_-1]=arguments[_];y.fn.apply(y.context,E)}else{var N=y.length,C;for(_=0;_<N;_++)switch(y[_].once&&this.removeListener(l,y[_].fn,void 0,!0),w){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,f);break;case 4:y[_].fn.call(y[_].context,d,f,m);break;default:if(!E)for(C=1,E=new Array(w-1);C<w;C++)E[C-1]=arguments[C];y[_].fn.apply(y[_].context,E)}}return!0},c.prototype.on=function(l,d,f){return a(this,l,d,f,!1)},c.prototype.once=function(l,d,f){return a(this,l,d,f,!0)},c.prototype.removeListener=function(l,d,f,m){var p=r?r+l:l;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var x=0,y=[],w=g.length;x<w;x++)(g[x].fn!==d||m&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},c.prototype.removeAllListeners=function(l){var d;return l?(d=r?r+l:l,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(VL)),VL.exports}var WTe=GTe();const YTe=Gh(WTe);var e2=new YTe,YP="recharts.syncEvent.tooltip",JQ="recharts.syncEvent.brush",QM=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!YA(r))return t[r]}},qTe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},rre=Yh({name:"options",initialState:qTe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XTe=rre.reducer,{createEventEmitter:ZTe}=rre.actions;function JTe(t){return t.tooltip.syncInteraction}var eCe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nre=Yh({name:"chartData",initialState:eCe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:ez,setDataStartEndIndexes:tCe,setComputedData:LJe}=nre.actions,rCe=nre.reducer,nCe=["x","y"];function tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ly(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(r),!0).forEach(function(n){iCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iCe(t,e,r){return(e=sCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sCe(t){var e=aCe(t,"string");return typeof e=="symbol"?e:e+""}function aCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oCe(t,e){if(t==null)return{};var r,n,i=lCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function lCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function cCe(){var t=ai(lM),e=ai(cM),r=Al(),n=ai(Xee),i=ai(xg),a=E1(),o=yk(),c=ai(u=>u.rootProps.className);T.useEffect(()=>{if(t==null)return X0;var u=(l,d,f)=>{if(e!==f&&t===l){if(n==="index"){var m;if(o&&d!==null&&d!==void 0&&(m=d.payload)!==null&&m!==void 0&&m.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y:x}=p,y=oCe(p,nCe),{x:w,y:E,width:_,height:N}=d.payload.sourceViewBox,C=ly(ly({},y),{},{x:o.x+(_?(g-w)/_:0)*o.width,y:o.y+(N?(x-E)/N:0)*o.height});r(ly(ly({},d),{},{payload:ly(ly({},d.payload),{},{coordinate:C})}))}else r(d);return}if(i!=null){var I;if(typeof n=="function"){var D={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},M=n(i,D);I=i[M]}else n==="value"&&(I=i.find(ne=>String(ne.value)===d.payload.label));var{coordinate:Y}=d.payload;if(I==null||d.payload.active===!1||Y==null||o==null){r(KP({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:X,y:te}=Y,de=Math.min(X,o.x+o.width),ye=Math.min(te,o.y+o.height),we={x:a==="horizontal"?I.coordinate:de,y:a==="horizontal"?ye:I.coordinate},ve=KP({active:d.payload.active,coordinate:we,dataKey:d.payload.dataKey,index:String(I.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ve)}}};return e2.on(YP,u),()=>{e2.off(YP,u)}},[c,r,e,t,n,i,a,o])}function uCe(){var t=ai(lM),e=ai(cM),r=Al();T.useEffect(()=>{if(t==null)return X0;var n=(i,a,o)=>{e!==o&&t===i&&r(tCe(a))};return e2.on(JQ,n),()=>{e2.off(JQ,n)}},[r,e,t])}function dCe(){var t=Al();T.useEffect(()=>{t(ZTe())},[t]),cCe(),uCe()}function hCe(t,e,r,n,i,a){var o=ai(p=>xTe(p,t,e)),c=ai(cM),u=ai(lM),l=ai(Xee),d=ai(JTe),f=d?.active,m=yk();T.useEffect(()=>{if(!f&&u!=null&&c!=null){var p=KP({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:m,graphicalItemId:void 0});e2.emit(YP,u,p,c)}},[f,r,o,i,n,c,u,l,a,m])}function rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rz(Object(r),!0).forEach(function(n){fCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fCe(t,e,r){return(e=mCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mCe(t){var e=ACe(t,"string");return typeof e=="symbol"?e:e+""}function ACe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pCe(t){return t.dataKey}function gCe(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(ewe,e)}var iz=[],vCe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xCe(t){var e,r,n=Hc(t,vCe),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:c,content:u,filterNull:l,isAnimationActive:d,offset:f,payloadUniqBy:m,position:p,reverseDirection:g,useTranslate3d:x,wrapperStyle:y,cursor:w,shared:E,trigger:_,defaultIndex:N,portal:C,axisId:I}=n,D=Al(),M=typeof N=="number"?String(N):N;T.useEffect(()=>{D(fje({shared:E,trigger:_,axisId:I,active:i,defaultIndex:M}))},[D,E,_,I,i,M]);var Y=yk(),X=KJ(),te=oje(E),{activeIndex:de,isActive:ye}=(e=ai(ct=>wTe(ct,te,_,M)))!==null&&e!==void 0?e:{},we=ai(ct=>bTe(ct,te,_,M)),ve=ai(ct=>Jte(ct,te,_,M)),ne=ai(ct=>yTe(ct,te,_,M)),ae=we,oe=KTe(),Re=(r=i??ye)!==null&&r!==void 0?r:!1,[Pe,be]=WZ([ae,Re]),he=te==="axis"?ve:void 0;hCe(te,_,ne,he,de,Re);var Ie=C??oe;if(Ie==null||Y==null||te==null)return null;var Oe=ae??iz;Re||(Oe=iz),l&&Oe.length&&(Oe=QZ(Oe.filter(ct=>ct.value!=null&&(ct.hide!==!0||n.includeHidden)),m,pCe));var $e=Oe.length>0,De=T.createElement(owe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:c,isAnimationActive:d,active:Re,coordinate:ne,hasPayload:$e,offset:f,position:p,reverseDirection:g,useTranslate3d:x,viewBox:Y,wrapperStyle:y,lastBoundingBox:Pe,innerRef:be,hasPortalFromProps:!!C},gCe(u,nz(nz({},n),{},{payload:Oe,label:he,active:Re,activeIndex:de,coordinate:ne,accessibilityLayer:X})));return T.createElement(T.Fragment,null,j0.createPortal(De,Ie),Re&&T.createElement(VTe,{cursor:w,tooltipEventType:te,coordinate:ne,payload:Oe,index:de}))}var r1=t=>null;r1.displayName="Cell";function yCe(t,e,r){return(e=bCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bCe(t){var e=wCe(t,"string");return typeof e=="symbol"?e:e+""}function wCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ECe{constructor(e){yCe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _Ce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(r),!0).forEach(function(n){SCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SCe(t,e,r){return(e=jCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jCe(t){var e=TCe(t,"string");return typeof e=="symbol"?e:e+""}function TCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CCe={cacheSize:2e3,enableCache:!0},ire=_Ce({},CCe),az=new ECe(ire.cacheSize),NCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oz="recharts_measurement_span";function kCe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var lz=(t,e)=>{try{var r=document.getElementById(oz);r||(r=document.createElement("span"),r.setAttribute("id",oz),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,NCe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},fE=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_k.isSsr)return{width:0,height:0};if(!ire.enableCache)return lz(e,r);var n=kCe(e,r),i=az.get(n);if(i)return i;var a=lz(e,r);return az.set(n,a),a},sre;function LCe(t,e,r){return(e=ICe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ICe(t){var e=BCe(t,"string");return typeof e=="symbol"?e:e+""}function BCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RCe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},DCe=["cm","mm","pt","pc","in","Q","px"];function MCe(t){return DCe.includes(t)}var ub="NaN";function FCe(t,e){return t*RCe[e]}class $d{static parse(e){var r,[,n,i]=(r=OCe.exec(e))!==null&&r!==void 0?r:[];return n==null?$d.NaN:new $d(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,YA(e)&&(this.unit=""),r!==""&&!PCe.test(r)&&(this.num=NaN,this.unit=""),MCe(r)&&(this.num=FCe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new $d(NaN,""):new $d(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new $d(NaN,""):new $d(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $d(NaN,""):new $d(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new $d(NaN,""):new $d(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return YA(this.num)}}sre=$d;LCe($d,"NaN",new sre(NaN,""));function are(t){if(t==null||t.includes(ub))return ub;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=cz.exec(e))!==null&&r!==void 0?r:[],o=$d.parse(n??""),c=$d.parse(a??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return ub;e=e.replace(cz,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var l,[,d,f,m]=(l=uz.exec(e))!==null&&l!==void 0?l:[],p=$d.parse(d??""),g=$d.parse(m??""),x=f==="+"?p.add(g):p.subtract(g);if(x.isNaN())return ub;e=e.replace(uz,x.toString())}return e}var dz=/\(([^()]*)\)/;function UCe(t){for(var e=t,r;(r=dz.exec(e))!=null;){var[,n]=r;e=e.replace(dz,are(n))}return e}function $Ce(t){var e=t.replace(/\s+/g,"");return e=UCe(e),e=are(e),e}function HCe(t){try{return $Ce(t)}catch{return ub}}function KL(t){var e=HCe(t.slice(5,-1));return e===ub?"":e}var QCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zCe=["dx","dy","angle","className","breakAll"];function qP(){return qP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qP.apply(null,arguments)}function hz(t,e){if(t==null)return{};var r,n,i=VCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function VCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ore=/[ \f\n\r\t\v\u2028\u2029]+/,lre=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];iu(e)||(r?i=e.toString().split(""):i=e.toString().split(ore));var a=i.map(c=>({word:c,width:fE(c,n).width})),o=r?0:fE("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function KCe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var cre=(t,e,r,n)=>t.reduce((i,a)=>{var{word:o,width:c}=a,u=i[i.length-1];if(u&&c!=null&&(e==null||n||u.width+c+r<Number(e)))u.words.push(o),u.width+=c+r;else{var l={words:[o],width:c};i.push(l)}return i},[]),ure=t=>t.reduce((e,r)=>e.width>r.width?e:r),GCe="",fz=(t,e,r,n,i,a,o,c)=>{var u=t.slice(0,e),l=lre({breakAll:r,style:n,children:u+GCe});if(!l)return[!1,[]];var d=cre(l.wordsWithComputedWidth,a,o,c),f=d.length>i||ure(d).width>Number(a);return[f,d]},WCe=(t,e,r,n,i)=>{var{maxLines:a,children:o,style:c,breakAll:u}=t,l=_i(a),d=String(o),f=cre(e,n,r,i);if(!l||i)return f;var m=f.length>a||ure(f).width>Number(n);if(!m)return f;for(var p=0,g=d.length-1,x=0,y;p<=g&&x<=d.length-1;){var w=Math.floor((p+g)/2),E=w-1,[_,N]=fz(d,E,u,c,a,n,r,i),[C]=fz(d,w,u,c,a,n,r,i);if(!_&&!C&&(p=w+1),_&&C&&(g=w-1),!_&&C){y=N;break}x++}return y||f},mz=t=>{var e=iu(t)?[]:t.toString().split(ore);return[{words:e,width:void 0}]},YCe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=t;if((e||r)&&!_k.isSsr){var c,u,l=lre({breakAll:a,children:n,style:i});if(l){var{wordsWithComputedWidth:d,spaceWidth:f}=l;c=d,u=f}else return mz(n);return WCe({breakAll:a,children:n,maxLines:o,style:i},c,u,e,!!r)}return mz(n)},dre="#808080",qCe={angle:0,breakAll:!1,capHeight:"0.71em",fill:dre,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},A_=T.forwardRef((t,e)=>{var r=Hc(t,qCe),{x:n,y:i,lineHeight:a,capHeight:o,fill:c,scaleToFit:u,textAnchor:l,verticalAnchor:d}=r,f=hz(r,QCe),m=T.useMemo(()=>YCe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:u,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,u,f.style,f.width]),{dx:p,dy:g,angle:x,className:y,breakAll:w}=f,E=hz(f,zCe);if(!qA(n)||!qA(i)||m.length===0)return null;var _=Number(n)+(_i(p)?p:0),N=Number(i)+(_i(g)?g:0);if(!Ha(_)||!Ha(N))return null;var C;switch(d){case"start":C=KL("calc(".concat(o,")"));break;case"middle":C=KL("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:C=KL("calc(".concat(m.length-1," * -").concat(a,")"));break}var I=[],D=m[0];if(u&&D!=null){var M=D.width,{width:Y}=f;I.push("scale(".concat(_i(Y)&&_i(M)?Y/M:1,")"))}return x&&I.push("rotate(".concat(x,", ").concat(_,", ").concat(N,")")),I.length&&(E.transform=I.join(" ")),T.createElement("text",qP({},Ku(E),{ref:e,x:_,y:N,className:Sa("recharts-text",y),textAnchor:l,fill:c.includes("url")?dre:c}),m.map((X,te)=>{var de=X.words.join(w?"":" ");return T.createElement("tspan",{x:_,dy:te===0?C:a,key:"".concat(de,"-").concat(te)},de)}))});A_.displayName="Text";function Az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(r),!0).forEach(function(n){XCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XCe(t,e,r){return(e=ZCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZCe(t){var e=JCe(t,"string");return typeof e=="symbol"?e:e+""}function JCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eNe=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:a,y:o,height:c,upperWidth:u,lowerWidth:l}=ND(e),d=a,f=a+(u-l)/2,m=(d+f)/2,p=(u+l)/2,g=d+u/2,x=c>=0?1:-1,y=x*n,w=x>0?"end":"start",E=x>0?"start":"end",_=u>=0?1:-1,N=_*n,C=_>0?"end":"start",I=_>0?"start":"end",D=i;if(r==="top"){var M={x:d+u/2,y:o-y,horizontalAnchor:"middle",verticalAnchor:w};return D&&(M.height=Math.max(o-D.y,0),M.width=u),M}if(r==="bottom"){var Y={x:f+l/2,y:o+c+y,horizontalAnchor:"middle",verticalAnchor:E};return D&&(Y.height=Math.max(D.y+D.height-(o+c),0),Y.width=l),Y}if(r==="left"){var X={x:m-N,y:o+c/2,horizontalAnchor:C,verticalAnchor:"middle"};return D&&(X.width=Math.max(X.x-D.x,0),X.height=c),X}if(r==="right"){var te={x:m+p+N,y:o+c/2,horizontalAnchor:I,verticalAnchor:"middle"};return D&&(te.width=Math.max(D.x+D.width-te.x,0),te.height=c),te}var de=D?{width:p,height:c}:{};return r==="insideLeft"?hA({x:m+N,y:o+c/2,horizontalAnchor:I,verticalAnchor:"middle"},de):r==="insideRight"?hA({x:m+p-N,y:o+c/2,horizontalAnchor:C,verticalAnchor:"middle"},de):r==="insideTop"?hA({x:d+u/2,y:o+y,horizontalAnchor:"middle",verticalAnchor:E},de):r==="insideBottom"?hA({x:f+l/2,y:o+c-y,horizontalAnchor:"middle",verticalAnchor:w},de):r==="insideTopLeft"?hA({x:d+N,y:o+y,horizontalAnchor:I,verticalAnchor:E},de):r==="insideTopRight"?hA({x:d+u-N,y:o+y,horizontalAnchor:C,verticalAnchor:E},de):r==="insideBottomLeft"?hA({x:f+N,y:o+c-y,horizontalAnchor:I,verticalAnchor:w},de):r==="insideBottomRight"?hA({x:f+l-N,y:o+c-y,horizontalAnchor:C,verticalAnchor:w},de):r&&typeof r=="object"&&(_i(r.x)||_x(r.x))&&(_i(r.y)||_x(r.y))?hA({x:a+ah(r.x,p),y:o+ah(r.y,c),horizontalAnchor:"end",verticalAnchor:"end"},de):hA({x:g,y:o+c/2,horizontalAnchor:"middle",verticalAnchor:"middle"},de)},tNe=["labelRef"],rNe=["content"];function pz(t,e){if(t==null)return{};var r,n,i=nNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gz(Object(r),!0).forEach(function(n){iNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iNe(t,e,r){return(e=sNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sNe(t){var e=aNe(t,"string");return typeof e=="symbol"?e:e+""}function aNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mp(){return Mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mp.apply(null,arguments)}var hre=T.createContext(null),oNe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:c}=t,u=T.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[e,r,n,i,a,o]);return T.createElement(hre.Provider,{value:u},c)},fre=()=>{var t=T.useContext(hre),e=yk();return t||(e?ND(e):void 0)},lNe=T.createContext(null),cNe=()=>{var t=T.useContext(lNe),e=ai(o_);return t||e},uNe=t=>{var{value:e,formatter:r}=t,n=iu(t.children)?e:t.children;return typeof r=="function"?r(n):n},zM=t=>t!=null&&typeof t=="function",dNe=(t,e)=>{var r=vd(e-t),n=Math.min(Math.abs(e-t),360);return r*n},hNe=(t,e,r,n,i)=>{var{offset:a,className:o}=t,{cx:c,cy:u,innerRadius:l,outerRadius:d,startAngle:f,endAngle:m,clockWise:p}=i,g=(l+d)/2,x=dNe(f,m),y=x>=0?1:-1,w,E;switch(e){case"insideStart":w=f+y*a,E=p;break;case"insideEnd":w=m-y*a,E=!p;break;case"end":w=m+y*a,E=p;break;default:throw new Error("Unsupported position ".concat(e))}E=x<=0?E:!E;var _=rl(c,u,g,w),N=rl(c,u,g,w+(E?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(E?0:1,`,
    `).concat(N.x,",").concat(N.y),I=iu(t.id)?$E("recharts-radial-line-"):t.id;return T.createElement("text",Mp({},n,{dominantBaseline:"central",className:Sa("recharts-radial-bar-label",o)}),T.createElement("defs",null,T.createElement("path",{id:I,d:C})),T.createElement("textPath",{xlinkHref:"#".concat(I)},r))},fNe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:u}=t,l=(c+u)/2;if(r==="outside"){var{x:d,y:f}=rl(n,i,o+e,l);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(a+o)/2,{x:p,y:g}=rl(n,i,m,l);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Aj=t=>t!=null&&"cx"in t&&_i(t.cx),mNe={angle:0,offset:5,zIndex:Dc.label,position:"middle",textBreakAll:!1};function ANe(t){if(!Aj(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function A0(t){var e=Hc(t,mNe),{viewBox:r,parentViewBox:n,position:i,value:a,children:o,content:c,className:u="",textBreakAll:l,labelRef:d}=e,f=cNe(),m=fre(),p=i==="center"?m:f??m,g,x,y;r==null?g=p:Aj(r)?g=r:g=ND(r);var w=ANe(g);if(!g||iu(a)&&iu(o)&&!T.isValidElement(c)&&typeof c!="function")return null;var E=Pw(Pw({},e),{},{viewBox:g});if(T.isValidElement(c)){var{labelRef:_}=E,N=pz(E,tNe);return T.cloneElement(c,N)}if(typeof c=="function"){var{content:C}=E,I=pz(E,rNe);if(x=T.createElement(c,I),T.isValidElement(x))return x}else x=uNe(e);var D=Ku(e);if(Aj(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return hNe(e,i,x,D,g);y=fNe(g,e.offset,e.position)}else{if(!w)return null;var M=eNe({viewBox:w,position:i,offset:e.offset,parentViewBox:Aj(n)?void 0:n});y=Pw(Pw({x:M.x,y:M.y,textAnchor:M.horizontalAnchor,verticalAnchor:M.verticalAnchor},M.width!==void 0?{width:M.width}:{}),M.height!==void 0?{height:M.height}:{})}return T.createElement(lh,{zIndex:e.zIndex},T.createElement(A_,Mp({ref:d,className:Sa("recharts-label",u)},D,y,{textAnchor:KCe(D.textAnchor)?D.textAnchor:y.textAnchor,breakAll:l}),x))}A0.displayName="Label";var pNe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?T.createElement(A0,Mp({key:"label-implicit"},n)):qA(t)?T.createElement(A0,Mp({key:"label-implicit",value:t},n)):T.isValidElement(t)?t.type===A0?T.cloneElement(t,Pw({key:"label-implicit"},n)):T.createElement(A0,Mp({key:"label-implicit",content:t},n)):zM(t)?T.createElement(A0,Mp({key:"label-implicit",content:t},n)):t&&typeof t=="object"?T.createElement(A0,Mp({},t,{key:"label-implicit"},n)):null};function gNe(t){var{label:e,labelRef:r}=t,n=fre();return pNe(e,n,r)||null}var GL={},WL={},vz;function vNe(){return vz||(vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(WL)),WL}var YL={},xz;function xNe(){return xz||(xz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(YL)),YL}var yz;function yNe(){return yz||(yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vNe(),r=xNe(),n=vD();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(GL)),GL}var qL,bz;function bNe(){return bz||(bz=1,qL=yNe().last),qL}var wNe=bNe();const mre=Gh(wNe);var ENe=["valueAccessor"],_Ne=["dataKey","clockWise","id","textBreakAll","zIndex"];function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RC.apply(null,arguments)}function wz(t,e){if(t==null)return{};var r,n,i=SNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function SNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jNe=t=>Array.isArray(t.value)?mre(t.value):t.value,Are=T.createContext(void 0),pre=Are.Provider,gre=T.createContext(void 0),TNe=gre.Provider;function CNe(){return T.useContext(Are)}function NNe(){return T.useContext(gre)}function pj(t){var{valueAccessor:e=jNe}=t,r=wz(t,ENe),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:c}=r,u=wz(r,_Ne),l=CNe(),d=NNe(),f=l||d;return!f||!f.length?null:T.createElement(lh,{zIndex:c??Dc.label},T.createElement(Uc,{className:"recharts-label-list"},f.map((m,p)=>{var g,x=iu(n)?e(m,p):hl(m.payload,n),y=iu(a)?{}:{id:"".concat(a,"-").concat(p)};return T.createElement(A0,RC({key:"label-".concat(p)},Ku(m),u,y,{fill:(g=r.fill)!==null&&g!==void 0?g:m.fill,parentViewBox:m.parentViewBox,value:x,textBreakAll:o,viewBox:m.viewBox,index:p,zIndex:0}))})))}pj.displayName="LabelList";function VM(t){var{label:e}=t;return e?e===!0?T.createElement(pj,{key:"labelList-implicit"}):T.isValidElement(e)||zM(e)?T.createElement(pj,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(pj,RC({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var kNe=["points","className","baseLinePoints","connectNulls"],Ez;function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(null,arguments)}function LNe(t,e){if(t==null)return{};var r,n,i=INe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function INe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function BNe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _z=t=>t!=null&&t.x===+t.x&&t.y===+t.y,PNe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];e.forEach(o=>{var c=r[r.length-1];_z(o)?c&&c.push(o):c&&c.length>0&&r.push([])});var n=e[0],i=r[r.length-1];_z(n)&&i&&i.push(n);var a=r[r.length-1];return a&&a.length<=0&&(r=r.slice(0,-1)),r},mE=(t,e)=>{var r=PNe(t);e&&(r=[r.reduce((i,a)=>[...i,...a],[])]);var n=r.map(i=>i.reduce((a,o,c)=>hc(Ez||(Ez=BNe(["","","",",",""])),a,c===0?"M":"L",o.x,o.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},ONe=(t,e,r)=>{var n=mE(t,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(mE(Array.from(e).reverse(),r).slice(1))},vre=t=>{var{points:e,className:r,baseLinePoints:n,connectNulls:i}=t,a=LNe(t,kNe);if(!e||!e.length)return null;var o=Sa("recharts-polygon",r);if(n&&n.length){var c=a.stroke&&a.stroke!=="none",u=ONe(e,n,i);return T.createElement("g",{className:o},T.createElement("path",db({},Ku(a),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),c?T.createElement("path",db({},Ku(a),{fill:"none",d:mE(e,i)})):null,c?T.createElement("path",db({},Ku(a),{fill:"none",d:mE(n,i)})):null)}var l=mE(e,i);return T.createElement("path",db({},Ku(a),{fill:l.slice(-1)==="Z"?a.fill:"none",className:o,d:l}))};function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XP.apply(null,arguments)}var KM=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=Sa("recharts-dot",i);return _i(e)&&_i(r)&&_i(n)?T.createElement("circle",XP({},wu(t),gD(t),{className:a,cx:e,cy:r,r:n})):null},GM=t=>t.graphicalItems.polarItems,RNe=hr([Ll,l_],fM),Hk=hr([GM,Qc,RNe],AM),DNe=hr([Hk],pM),Qk=hr([DNe,n_],gM),xre=hr([Qk,Qc,Hk],xM);hr([Qk,Qc,Hk],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var a,o=hl(n,(a=e.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(n=>({value:hl(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var Sz=()=>{},MNe=hr([Qk,Qc,Hk,Dk,Ll],EM),FNe=hr([Qc,bM,wM,Sz,MNe,Sz,Wa,Ll],_M),yre=hr([Qc,Wa,Qk,xre,i_,Ll,FNe],SM),bre=hr([yre,Rx,tp],TM),UNe=hr([Qc,yre,bre,Ll],NM),$Ne=hr([tp,UNe],nte),WM=(t,e,r)=>{switch(e){case"angleAxis":return T1(t,r);case"radiusAxis":return a_(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},YM=(t,e,r)=>{switch(e){case"angleAxis":return oSe(t,r);case"radiusAxis":return lSe(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},p_=hr([WM,tp,$Ne,YM],Mk),wre=hr([Wa,xre,Rx,Ll],kM),g_=hr([Wa,WM,tp,p_,bre,YM,h_,wre,Ll],jte),HNe=hr([g_],t=>{if(t){var e=new Map;return t.forEach(r=>{var n=(r.coordinate+360)%360;e.has(n)||e.set(n,r)}),Array.from(e.values())}});hr([Wa,WM,p_,YM,h_,wre,Ll],Cte);var QNe=(t,e)=>g_(t,"angleAxis",e,!1),zNe=hr([QNe],t=>{if(t)return t.map(e=>e.coordinate)}),VNe=(t,e)=>g_(t,"radiusAxis",e,!1),KNe=hr([VNe],t=>{if(t)return t.map(e=>e.coordinate)}),GNe=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function WNe(t,e){if(t==null)return{};var r,n,i=YNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function YNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Um.apply(null,arguments)}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){qNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qNe(t,e,r){return(e=XNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XNe(t){var e=ZNe(t,"string");return typeof e=="symbol"?e:e+""}function ZNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JNe=(t,e,r,n)=>{var i="";return n.forEach((a,o)=>{var c=rl(e,r,t,a);o?i+="L ".concat(c.x,",").concat(c.y):i+="M ".concat(c.x,",").concat(c.y)}),i+="Z",i},eke=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,polarAngles:a,radialLines:o}=t;if(!a||!a.length||!o)return null;var c=zk({stroke:"#ccc"},wu(t));return T.createElement("g",{className:"recharts-polar-grid-angle"},a.map(u=>{var l=rl(e,r,n,u),d=rl(e,r,i,u);return T.createElement("line",Um({key:"line-".concat(u)},c,{x1:l.x,y1:l.y,x2:d.x,y2:d.y}))}))},Tz=t=>{var{cx:e,cy:r,radius:n}=t,i=zk({stroke:"#ccc",fill:"none"},wu(t));return T.createElement("circle",Um({},i,{className:Sa("recharts-polar-grid-concentric-circle",t.className),cx:e,cy:r,r:n}))},Cz=t=>{var{radius:e}=t,r=zk({stroke:"#ccc",fill:"none"},wu(t));return T.createElement("path",Um({},r,{className:Sa("recharts-polar-grid-concentric-polygon",t.className),d:JNe(e,t.cx,t.cy,t.polarAngles)}))},tke=t=>{var{polarRadius:e,gridType:r}=t;if(!e||!e.length)return null;var n=Math.max(...e),i=t.fill&&t.fill!=="none";return T.createElement("g",{className:"recharts-polar-grid-concentric"},i&&r==="circle"&&T.createElement(Tz,Um({},t,{radius:n})),i&&r!=="circle"&&T.createElement(Cz,Um({},t,{radius:n})),e.map((a,o)=>{var c=o;return r==="circle"?T.createElement(Tz,Um({key:c},t,{fill:"none",radius:a})):T.createElement(Cz,Um({key:c},t,{fill:"none",radius:a}))}))},rke={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:Dc.grid},Ere=t=>{var e,r,n,i,a,o,c,u,l=Hc(t,rke),{gridType:d,radialLines:f,angleAxisId:m,radiusAxisId:p,cx:g,cy:x,innerRadius:y,outerRadius:w,polarAngles:E,polarRadius:_,zIndex:N}=l,C=WNe(l,GNe),I=ai(o_),D=ai(ye=>zNe(ye,m)),M=ai(ye=>KNe(ye,p)),Y=Array.isArray(E)?E:D,X=Array.isArray(_)?_:M;if(Y==null||X==null)return null;var te=zk({cx:(e=(r=I?.cx)!==null&&r!==void 0?r:g)!==null&&e!==void 0?e:0,cy:(n=(i=I?.cy)!==null&&i!==void 0?i:x)!==null&&n!==void 0?n:0,innerRadius:(a=(o=I?.innerRadius)!==null&&o!==void 0?o:y)!==null&&a!==void 0?a:0,outerRadius:(c=(u=I?.outerRadius)!==null&&u!==void 0?u:w)!==null&&c!==void 0?c:0,polarAngles:Y,polarRadius:X,zIndex:N},C),{outerRadius:de}=te;return de<=0?null:T.createElement(lh,{zIndex:te.zIndex},T.createElement("g",{className:"recharts-polar-grid"},T.createElement(tke,Um({gridType:d,radialLines:f},te,{polarAngles:Y,polarRadius:X})),T.createElement(eke,Um({gridType:d,radialLines:f},te,{polarAngles:Y,polarRadius:X}))))};Ere.displayName="PolarGrid";var nke={radiusAxis:{},angleAxis:{}},_re=Yh({name:"polarAxis",initialState:nke,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:IJe,removeRadiusAxis:BJe,addAngleAxis:ike,removeAngleAxis:ske}=_re.actions,ake=_re.reducer;function qM(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var oke=["children","type"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nx.apply(null,arguments)}function Nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(r),!0).forEach(function(n){lke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lke(t,e,r){return(e=cke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cke(t){var e=uke(t,"string");return typeof e=="symbol"?e:e+""}function uke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dke(t,e){if(t==null)return{};var r,n,i=hke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var kz=1e-5,fke=Math.cos(yC(45)),mke="angleAxis";function Ake(t){var e=Al(),r=b1e(),n=T.useMemo(()=>{var{children:o,type:c}=t,u=dke(t,oke),l=s_(r,"angleAxis",c);if(l!=null)return Zf(Zf({},u),{},{type:l})},[t,r]),i=ai(o=>T1(o,n?.id)),a=n===i;return T.useEffect(()=>n==null?X0:(e(ike(n)),()=>{e(ske(n))}),[e,n]),a?t.children:null}var pke=(t,e)=>{var{cx:r,cy:n,radius:i,orientation:a,tickSize:o}=e,c=o||8,u=rl(r,n,i,t.coordinate),l=rl(r,n,i+(a==="inner"?-1:1)*c,t.coordinate);return{x1:u.x,y1:u.y,x2:l.x,y2:l.y}},gke=(t,e)=>{var r=Math.cos(yC(-t.coordinate));return r>kz?e==="outer"?"start":"end":r<-kz?e==="outer"?"end":"start":"middle"},vke=t=>{var e=Math.cos(yC(-t.coordinate)),r=Math.sin(yC(-t.coordinate));return Math.abs(e)<=fke?r>0?"start":"end":"middle"},xke=t=>{var{cx:e,cy:r,radius:n,axisLineType:i,axisLine:a,ticks:o}=t;if(!a)return null;var c=Zf(Zf({},wu(t)),{},{fill:"none"},wu(a));if(i==="circle")return T.createElement(KM,Nx({className:"recharts-polar-angle-axis-line"},c,{cx:e,cy:r,r:n}));var u=o.map(l=>rl(e,r,n,l.coordinate));return T.createElement(vre,Nx({className:"recharts-polar-angle-axis-line"},c,{points:u}))},yke=t=>{var{tick:e,tickProps:r,value:n}=t;return e?T.isValidElement(e)?T.cloneElement(e,r):typeof e=="function"?e(r):T.createElement(A_,Nx({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},bke=t=>{var{tick:e,tickLine:r,tickFormatter:n,stroke:i,ticks:a}=t,o=wu(t),c=bx(e),u=Zf(Zf({},o),{},{fill:"none"},wu(r)),l=a.map((d,f)=>{var m=pke(d,t),p=gke(d,t.orientation),g=vke(d),x=Zf(Zf(Zf({},o),{},{textAnchor:p,verticalAnchor:g,stroke:"none",fill:i},c),{},{index:f,payload:d,x:m.x2,y:m.y2});return T.createElement(Uc,Nx({className:Sa("recharts-polar-angle-axis-tick",qM(e)),key:"tick-".concat(d.coordinate)},b1(t,d,f)),r&&T.createElement("line",Nx({className:"recharts-polar-angle-axis-tick-line"},u,m)),T.createElement(yke,{tick:e,tickProps:x,value:n?n(d.value,f):d.value}))});return T.createElement(Uc,{className:"recharts-polar-angle-axis-ticks"},l)},wke=t=>{var{angleAxisId:e}=t,r=ai(o_),n=ai(c=>p_(c,"angleAxis",e)),i=oh(),a=ai(c=>HNe(c,"angleAxis",e,i));if(r==null||!a||!a.length||n==null)return null;var o=Zf(Zf(Zf({},t),{},{scale:n},r),{},{radius:r.outerRadius,ticks:a});return T.createElement(lh,{zIndex:o.zIndex},T.createElement(Uc,{className:Sa("recharts-polar-angle-axis",mke,o.className)},T.createElement(xke,o),T.createElement(bke,o)))};function Sre(t){var e=Hc(t,s0);return T.createElement(Ake,{id:e.angleAxisId,scale:e.scale,type:e.type,dataKey:e.dataKey,unit:void 0,name:e.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:e.reversed,includeHidden:!1,allowDecimals:e.allowDecimals,tickCount:e.tickCount,ticks:e.ticks,tick:e.tick,domain:e.domain},T.createElement(wke,e))}Sre.displayName="PolarAngleAxis";function Lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(r),!0).forEach(function(n){Eke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Eke(t,e,r){return(e=_ke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ke(t){var e=Ske(t,"string");return typeof e=="symbol"?e:e+""}function Ske(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jke=(t,e)=>e,XM=hr([GM,jke],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),Tke=[],ZM=(t,e,r)=>r?.length===0?Tke:r,jre=hr([n_,XM,ZM],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>Iz(Iz({},e.presentationProps),a.props))),i!=null)return i}}),Cke=hr([jre,XM,ZM],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var a,o=hl(n,e.nameKey,e.name),c;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?c=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=e.fill,{value:w1(o,e.dataKey),color:c,payload:n,type:e.legendType}})}),Nke=hr([jre,XM,ZM,Wu],(t,e,r,n)=>{if(!(e==null||t==null))return L5e({offset:n,pieSettings:e,displayedData:t,cells:r})}),XL={exports:{}},Jo={};var Bz;function kke(){if(Bz)return Jo;Bz=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),p=Symbol.for("react.client.reference");function g(x){if(typeof x=="object"&&x!==null){var y=x.$$typeof;switch(y){case t:switch(x=x.type,x){case r:case i:case n:case u:case l:case m:return x;default:switch(x=x&&x.$$typeof,x){case o:case c:case f:case d:return x;case a:return x;default:return y}}case e:return y}}}return Jo.ContextConsumer=a,Jo.ContextProvider=o,Jo.Element=t,Jo.ForwardRef=c,Jo.Fragment=r,Jo.Lazy=f,Jo.Memo=d,Jo.Portal=e,Jo.Profiler=i,Jo.StrictMode=n,Jo.Suspense=u,Jo.SuspenseList=l,Jo.isContextConsumer=function(x){return g(x)===a},Jo.isContextProvider=function(x){return g(x)===o},Jo.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Jo.isForwardRef=function(x){return g(x)===c},Jo.isFragment=function(x){return g(x)===r},Jo.isLazy=function(x){return g(x)===f},Jo.isMemo=function(x){return g(x)===d},Jo.isPortal=function(x){return g(x)===e},Jo.isProfiler=function(x){return g(x)===i},Jo.isStrictMode=function(x){return g(x)===n},Jo.isSuspense=function(x){return g(x)===u},Jo.isSuspenseList=function(x){return g(x)===l},Jo.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===r||x===i||x===n||x===u||x===l||typeof x=="object"&&x!==null&&(x.$$typeof===f||x.$$typeof===d||x.$$typeof===o||x.$$typeof===a||x.$$typeof===c||x.$$typeof===p||x.getModuleId!==void 0)},Jo.typeOf=g,Jo}var Pz;function Lke(){return Pz||(Pz=1,XL.exports=kke()),XL.exports}var Ike=Lke(),Oz=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",Rz=null,ZL=null,Tre=t=>{if(t===Rz&&Array.isArray(ZL))return ZL;var e=[];return T.Children.forEach(t,r=>{iu(r)||(Ike.isFragment(r)?e=e.concat(Tre(r.props.children)):e.push(r))}),ZL=e,Rz=t,e};function JM(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>Oz(i)):n=[Oz(e)],Tre(t).forEach(i=>{var a=Ex(i,"type.displayName")||Ex(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var Bke=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,JL={},Dz;function Pke(){return Dz||(Dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(JL)),JL}var eI,Mz;function Oke(){return Mz||(Mz=1,eI=Pke().isPlainObject),eI}var Rke=Oke();const Dke=Gh(Rke);var Fz,Uz,$z,Hz,Qz;function zz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zz(Object(r),!0).forEach(function(n){Mke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mke(t,e,r){return(e=Fke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fke(t){var e=Uke(t,"string");return typeof e=="symbol"?e:e+""}function Uke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DC.apply(null,arguments)}function dw(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Kz=(t,e,r,n,i)=>{var a=r-n,o;return o=hc(Fz||(Fz=dw(["M ",",",""])),t,e),o+=hc(Uz||(Uz=dw(["L ",",",""])),t+r,e),o+=hc($z||($z=dw(["L ",",",""])),t+r-a/2,e+i),o+=hc(Hz||(Hz=dw(["L ",",",""])),t+r-a/2-n,e+i),o+=hc(Qz||(Qz=dw(["L ",","," Z"])),t,e),o},$ke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hke=t=>{var e=Hc(t,$ke),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:c}=e,{animationEasing:u,animationDuration:l,animationBegin:d,isUpdateAnimationActive:f}=e,m=T.useRef(null),[p,g]=T.useState(-1),x=T.useRef(i),y=T.useRef(a),w=T.useRef(o),E=T.useRef(r),_=T.useRef(n),N=Z2(t,"trapezoid-");if(T.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var we=m.current.getTotalLength();we&&g(we)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var C=Sa("recharts-trapezoid",c);if(!f)return T.createElement("g",null,T.createElement("path",DC({},Ku(e),{className:C,d:Kz(r,n,i,a,o)})));var I=x.current,D=y.current,M=w.current,Y=E.current,X=_.current,te="0px ".concat(p===-1?1:p,"px"),de="".concat(p,"px 0px"),ye=GJ(["strokeDasharray"],l,u);return T.createElement(X2,{animationId:N,key:N,canBegin:p>0,duration:l,easing:u,isActive:f,begin:d},we=>{var ve=fc(I,i,we),ne=fc(D,a,we),ae=fc(M,o,we),oe=fc(Y,r,we),Re=fc(X,n,we);m.current&&(x.current=ve,y.current=ne,w.current=ae,E.current=oe,_.current=Re);var Pe=we>0?{transition:ye,strokeDasharray:de}:{strokeDasharray:te};return T.createElement("path",DC({},Ku(e),{className:C,d:Kz(oe,Re,ve,ne,ae),ref:m,style:Vz(Vz({},Pe),e.style)}))})},Qke=["option","shapeType","activeClassName"];function zke(t,e){if(t==null)return{};var r,n,i=Vke(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Vke(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(r),!0).forEach(function(n){Kke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kke(t,e,r){return(e=Gke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gke(t){var e=Wke(t,"string");return typeof e=="symbol"?e:e+""}function Wke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yke(t,e){return MC(MC({},e),t)}function qke(t,e){return t==="symbols"}function Wz(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return T.createElement(XJ,r);case"trapezoid":return T.createElement(Hke,r);case"sector":return T.createElement(tee,r);case"symbols":if(qke(e))return T.createElement(pD,r);break;case"curve":return T.createElement(OD,r);default:return null}}function Xke(t){return T.isValidElement(t)?t.props:t}function Cre(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=zke(t,Qke),a;if(T.isValidElement(e))a=T.cloneElement(e,MC(MC({},i),Xke(e)));else if(typeof e=="function")a=e(i,i.index);else if(Dke(e)&&typeof e!="boolean"){var o=Yke(e,i);a=T.createElement(Wz,{shapeType:r,elementProps:o})}else{var c=i;a=T.createElement(Wz,{shapeType:r,elementProps:c})}return i.isActive?T.createElement(Uc,{className:n},a):a}var eF=(t,e,r)=>{var n=Al();return(i,a)=>o=>{t?.(i,a,o),n(Pte({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},tF=t=>{var e=Al();return(r,n)=>i=>{t?.(r,n,i),e(mje())}},rF=(t,e,r)=>{var n=Al();return(i,a)=>o=>{t?.(i,a,o),n(Aje({activeIndex:String(a),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function nF(t){var{tooltipEntrySettings:e}=t,r=Al(),n=oh(),i=T.useRef(null);return T.useLayoutEffect(()=>{n||(i.current===null?r(uje(e)):i.current!==e&&r(dje({prev:i.current,next:e})),i.current=e)},[e,r,n]),T.useLayoutEffect(()=>()=>{i.current&&(r(hje(i.current)),i.current=null)},[r]),null}function Zke(t){var{legendPayload:e}=t,r=Al(),n=oh(),i=T.useRef(null);return T.useLayoutEffect(()=>{n||(i.current===null?r(HJ(e)):i.current!==e&&r(QJ({prev:i.current,next:e})),i.current=e)},[r,n,e]),T.useLayoutEffect(()=>()=>{i.current&&(r(zJ(i.current)),i.current=null)},[r]),null}function Nre(t){var{legendPayload:e}=t,r=Al(),n=ai(Wa),i=T.useRef(null);return T.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(HJ(e)):i.current!==e&&r(QJ({prev:i.current,next:e})),i.current=e)},[r,n,e]),T.useLayoutEffect(()=>()=>{i.current&&(r(zJ(i.current)),i.current=null)},[r]),null}var tI,Jke=()=>{var[t]=T.useState(()=>$E("uid-"));return t},e5e=(tI=hue.useId)!==null&&tI!==void 0?tI:Jke;function t5e(t,e){var r=e5e();return e||(t?"".concat(t,"-").concat(r):r)}var r5e=T.createContext(void 0),iF=t=>{var{id:e,type:r,children:n}=t,i=t5e("recharts-".concat(r),e);return T.createElement(r5e.Provider,{value:i},n(i))},n5e={cartesianItems:[],polarItems:[]},kre=Yh({name:"graphicalItems",initialState:n5e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Jl()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=$m(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Jl()},removeCartesianGraphicalItem:{reducer(t,e){var r=$m(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Jl()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Jl()},removePolarGraphicalItem:{reducer(t,e){var r=$m(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Jl()}}}),{addCartesianGraphicalItem:i5e,replaceCartesianGraphicalItem:s5e,removeCartesianGraphicalItem:a5e,addPolarGraphicalItem:o5e,removePolarGraphicalItem:l5e}=kre.actions,c5e=kre.reducer,u5e=t=>{var e=Al(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?e(i5e(t)):r.current!==t&&e(s5e({prev:r.current,next:t})),r.current=t},[e,t]),T.useLayoutEffect(()=>()=>{r.current&&(e(a5e(r.current)),r.current=null)},[e]),null},d5e=T.memo(u5e);function Lre(t){var e=Al();return T.useLayoutEffect(()=>(e(o5e(t)),()=>{e(l5e(t))}),[e,t]),null}var h5e=["key"],f5e=["onMouseEnter","onClick","onMouseLeave"],m5e=["id"],A5e=["id"];function Yz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yz(Object(r),!0).forEach(function(n){p5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p5e(t,e,r){return(e=g5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5e(t){var e=v5e(t,"string");return typeof e=="symbol"?e:e+""}function v5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(null,arguments)}function Vk(t,e){if(t==null)return{};var r,n,i=x5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function x5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function y5e(t){var e=T.useMemo(()=>JM(t.children,r1),[t.children]),r=ai(n=>Cke(n,t.id,e));return r==null?null:T.createElement(Nre,{legendPayload:r})}var b5e=T.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:c,hide:u,tooltipType:l,id:d}=t,f={dataDefinedOnItem:n.map(m=>m.tooltipPayload),getPosition:m=>{var p;return(p=n[Number(m)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:o,dataKey:e,nameKey:r,name:w1(c,e),hide:u,type:l,color:o,unit:"",graphicalItemId:d}};return T.createElement(nF,{tooltipEntrySettings:f})}),w5e=(t,e)=>t>e?"start":t<e?"end":"middle",E5e=(t,e,r)=>ah(typeof e=="function"?e(t):e,r,r*.8),_5e=(t,e,r)=>{var{top:n,left:i,width:a,height:o}=e,c=ZJ(a,o),u=i+ah(t.cx,a,a/2),l=n+ah(t.cy,o,o/2),d=ah(t.innerRadius,c,0),f=E5e(r,t.outerRadius,c),m=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:l,innerRadius:d,outerRadius:f,maxRadius:m}},S5e=(t,e)=>{var r=vd(e-t),n=Math.min(Math.abs(e-t),360);return r*n},j5e=(t,e)=>{if(T.isValidElement(t))return T.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Sa("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=Vk(e,h5e);return T.createElement(OD,z0({},i,{type:"linear",className:r}))},T5e=(t,e,r)=>{if(T.isValidElement(t))return T.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),T.isValidElement(n)))return n;var i=Sa("recharts-pie-label-text",qM(t));return T.createElement(A_,z0({},e,{alignmentBaseline:"middle",className:i}),n)};function C5e(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!e)return null;var c=wu(r),u=bx(i),l=bx(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((m,p)=>{var g=(m.startAngle+m.endAngle)/2,x=rl(m.cx,m.cy,m.outerRadius+d,g),y=Rc(Rc(Rc(Rc({},c),m),{},{stroke:"none"},u),{},{index:p,textAnchor:w5e(x.x,m.cx)},x),w=Rc(Rc(Rc(Rc({},c),m),{},{fill:"none",stroke:m.fill},l),{},{index:p,points:[rl(m.cx,m.cy,m.outerRadius,g),x],key:"line"});return T.createElement(lh,{zIndex:Dc.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(p)},T.createElement(Uc,null,a&&j5e(a,w),T5e(i,y,hl(m,o))))});return T.createElement(Uc,{className:"recharts-pie-labels"},f)}function N5e(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?T.createElement(VM,{label:i}):T.createElement(C5e,{sectors:e,props:r,showLabels:n})}function k5e(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=t,c=ai(Q0),u=ai(MM),l=ai(eTe),{onMouseEnter:d,onClick:f,onMouseLeave:m}=i,p=Vk(i,f5e),g=eF(d,i.dataKey,o),x=tF(m),y=rF(f,i.dataKey,o);return e==null||e.length===0?null:T.createElement(T.Fragment,null,e.map((w,E)=>{if(w?.startAngle===0&&w?.endAngle===0&&e.length!==1)return null;var _=l==null||l===o,N=String(E)===c&&(u==null||i.dataKey===u)&&_,C=c?n:null,I=r&&N?r:C,D=Rc(Rc({},w),{},{stroke:w.stroke,tabIndex:-1,[CJ]:E,[NJ]:o});return T.createElement(Uc,z0({key:"sector-".concat(w?.startAngle,"-").concat(w?.endAngle,"-").concat(w.midAngle,"-").concat(E),tabIndex:-1,className:"recharts-pie-sector"},b1(p,w,E),{onMouseEnter:g(w,E),onMouseLeave:x(w,E),onClick:y(w,E)}),T.createElement(Cre,z0({option:a??I,index:E,shapeType:"sector",isActive:N},D)))}))}function L5e(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:a}=t,{cornerRadius:o,startAngle:c,endAngle:u,dataKey:l,nameKey:d,tooltipType:f}=r,m=Math.abs(r.minAngle),p=S5e(c,u),g=Math.abs(p),x=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,y=n.filter(I=>hl(I,l,0)!==0).length,w=(g>=360?y:y-1)*x,E=g-y*m-w,_=n.reduce((I,D)=>{var M=hl(D,l,0);return I+(_i(M)?M:0)},0),N;if(_>0){var C;N=n.map((I,D)=>{var M=hl(I,l,0),Y=hl(I,d,D),X=_5e(r,a,I),te=(_i(M)?M:0)/_,de,ye=Rc(Rc({},I),i&&i[D]&&i[D].props);D?de=C.endAngle+vd(p)*x*(M!==0?1:0):de=c;var we=de+vd(p)*((M!==0?m:0)+te*E),ve=(de+we)/2,ne=(X.innerRadius+X.outerRadius)/2,ae=[{name:Y,value:M,payload:ye,dataKey:l,type:f,graphicalItemId:r.id}],oe=rl(X.cx,X.cy,ne,ve);return C=Rc(Rc(Rc(Rc({},r.presentationProps),{},{percent:te,cornerRadius:typeof o=="string"?parseFloat(o):o,name:Y,tooltipPayload:ae,midAngle:ve,middleRadius:ne,tooltipPosition:oe},ye),X),{},{value:M,dataKey:l,startAngle:de,endAngle:we,payload:ye,paddingAngle:vd(p)*x}),C})}return N}function I5e(t){var{showLabels:e,sectors:r,children:n}=t,i=T.useMemo(()=>!e||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,e]);return T.createElement(TNe,{value:e?i:void 0},n)}function B5e(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:u,activeShape:l,inactiveShape:d,onAnimationStart:f,onAnimationEnd:m}=e,p=Z2(e,"recharts-pie-"),g=r.current,[x,y]=T.useState(!1),w=T.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),E=T.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return T.createElement(I5e,{showLabels:!x,sectors:i},T.createElement(X2,{animationId:p,begin:o,duration:c,isActive:a,easing:u,onAnimationStart:E,onAnimationEnd:w,key:p},_=>{var N,C=[],I=i&&i[0],D=(N=I?.startAngle)!==null&&N!==void 0?N:0;return i?.forEach((M,Y)=>{var X=g&&g[Y],te=Y>0?Ex(M,"paddingAngle",0):0;if(X){var de=fc(X.endAngle-X.startAngle,M.endAngle-M.startAngle,_),ye=Rc(Rc({},M),{},{startAngle:D+te,endAngle:D+de+te});C.push(ye),D=ye.endAngle}else{var{endAngle:we,startAngle:ve}=M,ne=fc(0,we-ve,_),ae=Rc(Rc({},M),{},{startAngle:D+te,endAngle:D+ne+te});C.push(ae),D=ae.endAngle}}),r.current=C,T.createElement(Uc,null,T.createElement(k5e,{sectors:C,activeShape:l,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:n}))}),T.createElement(N5e,{showLabels:!x,sectors:i,props:e}),e.children)}var P5e={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Dc.area};function O5e(t){var{id:e}=t,r=Vk(t,m5e),{hide:n,className:i,rootTabIndex:a}=t,o=T.useMemo(()=>JM(t.children,r1),[t.children]),c=ai(d=>Nke(d,e,o)),u=T.useRef(null),l=Sa("recharts-pie",i);return n||c==null?(u.current=null,T.createElement(Uc,{tabIndex:a,className:l})):T.createElement(lh,{zIndex:t.zIndex},T.createElement(b5e,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:c,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),T.createElement(Uc,{tabIndex:a,className:l},T.createElement(B5e,{props:Rc(Rc({},r),{},{sectors:c}),previousSectorsRef:u,id:e})))}function Ire(t){var e=Hc(t,P5e),{id:r}=e,n=Vk(e,A5e),i=wu(n);return T.createElement(iF,{id:r,type:"pie"},a=>T.createElement(T.Fragment,null,T.createElement(Lre,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),T.createElement(y5e,z0({},n,{id:a})),T.createElement(O5e,z0({},n,{id:a}))))}Ire.displayName="Pie";var R5e=["points"];function qz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qz(Object(r),!0).forEach(function(n){D5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D5e(t,e,r){return(e=M5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M5e(t){var e=F5e(t,"string");return typeof e=="symbol"?e:e+""}function F5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FC.apply(null,arguments)}function U5e(t,e){if(t==null)return{};var r,n,i=$5e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function H5e(t){var{option:e,dotProps:r,className:n}=t;if(T.isValidElement(e))return T.cloneElement(e,r);if(typeof e=="function")return e(r);var i=Sa(n,typeof e!="boolean"?e.className:""),a=r??{},{points:o}=a,c=U5e(a,R5e);return T.createElement(KM,FC({},c,{className:i}))}function Q5e(t,e){return t==null?!1:e?!0:t.length===1}function z5e(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:c,clipPathId:u,zIndex:l=Dc.scatter}=t;if(!Q5e(e,r))return null;var d=Bke(r),f=gve(r),m=e.map((g,x)=>{var y,w,E=rI(rI(rI({r:3},o),f),{},{index:x,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(w=g.y)!==null&&w!==void 0?w:void 0,dataKey:a,value:g.value,payload:g.payload,points:e});return T.createElement(H5e,{key:"dot-".concat(x),option:r,dotProps:E,className:i})}),p={};return c&&u!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(u,")")),T.createElement(lh,{zIndex:l},T.createElement(Uc,FC({className:n},p),m))}function Xz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xz(Object(r),!0).forEach(function(n){V5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V5e(t,e,r){return(e=K5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K5e(t){var e=G5e(t,"string");return typeof e=="symbol"?e:e+""}function G5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bre=0,W5e={xAxis:{},yAxis:{},zAxis:{}},Pre=Yh({name:"cartesianAxis",initialState:W5e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Jl()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Jl()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Jl()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Jl()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Jl()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Jl()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Jl()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Jl()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Jl()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a,o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==i.width&&Math.abs(n-((a=o[0])!==null&&a!==void 0?a:0))<=1)return;var c=[...o,n].slice(-3);t.yAxis[r]=Zz(Zz({},i),{},{width:n,widthHistory:c})}}}}),{addXAxis:Y5e,replaceXAxis:q5e,removeXAxis:X5e,addYAxis:Z5e,replaceYAxis:J5e,removeYAxis:e4e,addZAxis:PJe,replaceZAxis:OJe,removeZAxis:RJe,updateYAxisWidth:t4e}=Pre.actions,r4e=Pre.reducer,n4e=hr([Wu],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),i4e=hr([n4e,fg,mg],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),Ore=()=>ai(i4e),s4e=()=>ai(sTe);function Jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jz(Object(r),!0).forEach(function(n){a4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a4e(t,e,r){return(e=o4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o4e(t){var e=l4e(t,"string");return typeof e=="symbol"?e:e+""}function l4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c4e=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=t;if(i===!1||e.x==null||e.y==null)return null;var c={index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=nI(nI(nI({},c),bx(i)),gD(i)),l;return T.isValidElement(i)?l=T.cloneElement(i,u):typeof i=="function"?l=i(u):l=T.createElement(KM,u),T.createElement(Uc,{className:"recharts-active-dot",clipPath:o},l)};function u4e(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=Dc.activeDot}=t,c=ai(Q0),u=s4e();if(e==null||u==null)return null;var l=e.find(d=>u.includes(d.payload));return iu(l)?null:T.createElement(lh,{zIndex:o},T.createElement(c4e,{point:l,childIndex:Number(c),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){d4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d4e(t,e,r){return(e=h4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h4e(t){var e=f4e(t,"string");return typeof e=="symbol"?e:e+""}function f4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rre=(t,e)=>p_(t,"radiusAxis",e),m4e=hr([Rre],t=>{if(t!=null)return{scale:t}}),A4e=hr([a_,Rre],(t,e)=>{if(!(t==null||e==null))return UC(UC({},t),{},{scale:e})}),p4e=(t,e,r,n)=>g_(t,"radiusAxis",e,n),Dre=(t,e,r)=>T1(t,r),Mre=(t,e,r)=>p_(t,"angleAxis",r),g4e=hr([Dre,Mre],(t,e)=>{if(!(t==null||e==null))return UC(UC({},t),{},{scale:e})}),v4e=(t,e,r,n)=>g_(t,"angleAxis",r,n),x4e=hr([Dre,Mre,o_],(t,e,r)=>{if(!(r==null||e==null))return{scale:e,type:t.type,dataKey:t.dataKey,cx:r.cx,cy:r.cy}}),y4e=(t,e,r,n,i)=>i,b4e=hr([Wa,A4e,p4e,g4e,v4e],(t,e,r,n,i)=>hg(t,"radiusAxis")?Wb(e,r,!1):Wb(n,i,!1)),w4e=hr([GM,y4e],(t,e)=>{if(t!=null){var r=t.find(n=>n.type==="radar"&&e===n.id);return r?.dataKey}}),E4e=hr([m4e,x4e,n_,w4e,b4e],(t,e,r,n,i)=>{var{chartData:a,dataStartIndex:o,dataEndIndex:c}=r;if(!(t==null||e==null||a==null||i==null||n==null)){var u=a.slice(o,c+1);return B4e({radiusAxis:t,angleAxis:e,displayedData:u,dataKey:n,bandSize:i})}}),_4e=["id"];function t2(){return t2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t2.apply(null,arguments)}function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(n){S4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S4e(t,e,r){return(e=j4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j4e(t){var e=T4e(t,"string");return typeof e=="symbol"?e:e+""}function T4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C4e(t,e){if(t==null)return{};var r,n,i=N4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function N4e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function sF(t,e){return t&&t!=="none"?t:e}var k4e=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:a,hide:o}=t;return[{inactive:o,dataKey:e,type:a,color:sF(n,i),value:w1(r,e),payload:t}]},L4e=T.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,tooltipType:c,id:u}=t,l={dataDefinedOnItem:void 0,getPosition:X0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:e,name:w1(a,e),hide:o,type:c,color:sF(r,i),unit:"",graphicalItemId:u}};return T.createElement(nF,{tooltipEntrySettings:l})});function I4e(t){var{points:e,props:r}=t,{dot:n,dataKey:i}=r,{id:a}=r,o=C4e(r,_4e),c=wu(o);return T.createElement(z5e,{points:e,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:i,baseProps:c})}function B4e(t){var{radiusAxis:e,angleAxis:r,displayedData:n,dataKey:i,bandSize:a}=t,{cx:o,cy:c}=r,u=!1,l=[],d=r.type!=="number"?a??0:0;n.forEach((m,p)=>{var g,x,y=hl(m,r.dataKey,p),w=hl(m,i),E=((g=r.scale.map(y))!==null&&g!==void 0?g:0)+d,_=Array.isArray(w)?mre(w):w,N=iu(_)?0:(x=e.scale.map(_))!==null&&x!==void 0?x:0;Array.isArray(w)&&w.length>=2&&(u=!0),l.push(zh(zh({},rl(o,c,N,E)),{},{name:y,value:w,cx:o,cy:c,radius:N,angle:E,payload:m}))});var f=[];return u&&l.forEach(m=>{if(Array.isArray(m.value)){var p,g=m.value[0],x=iu(g)?0:(p=e.scale.map(g))!==null&&p!==void 0?p:0;f.push(zh(zh({},m),{},{radius:x},rl(o,c,x,m.angle)))}else f.push(m)}),{points:l,isRange:u,baseLinePoints:f}}function P4e(t){var{showLabels:e,points:r,children:n}=t,i=r.map(a=>{var o,c={x:a.x,y:a.y,width:0,lowerWidth:0,upperWidth:0,height:0};return zh(zh({},c),{},{value:(o=a.value)!==null&&o!==void 0?o:"",payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return T.createElement(pre,{value:e?i:void 0},n)}function O4e(t){var{points:e,baseLinePoints:r,props:n}=t;if(e==null)return null;var{shape:i,isRange:a,connectNulls:o}=n,c=d=>{var{onMouseEnter:f}=n;f&&f(n,d)},u=d=>{var{onMouseLeave:f}=n;f&&f(n,d)},l;return T.isValidElement(i)?l=T.cloneElement(i,zh(zh({},n),{},{points:e})):typeof i=="function"?l=i(zh(zh({},n),{},{points:e})):l=T.createElement(vre,t2({},Ku(n),{onMouseEnter:c,onMouseLeave:u,points:e,baseLinePoints:a?r:void 0,connectNulls:o})),T.createElement(Uc,{className:"recharts-radar-polygon"},l,T.createElement(I4e,{props:n,points:e}))}var rV=(t,e,r)=>(n,i)=>{var a=t&&t[Math.floor(i*e)];return a?zh(zh({},n),{},{x:fc(a.x,n.x,r),y:fc(a.y,n.y,r)}):zh(zh({},n),{},{x:fc(n.cx,n.x,r),y:fc(n.cy,n.y,r)})};function R4e(t){var{props:e,previousPointsRef:r,previousBaseLinePointsRef:n}=t,{points:i,baseLinePoints:a,isAnimationActive:o,animationBegin:c,animationDuration:u,animationEasing:l,onAnimationEnd:d,onAnimationStart:f}=e,m=r.current,p=n.current,g=m?m.length/i.length:1,x=p?p.length/a.length:1,y=Z2(e,"recharts-radar-"),[w,E]=T.useState(!1),_=!w,N=T.useCallback(()=>{typeof d=="function"&&d(),E(!1)},[d]),C=T.useCallback(()=>{typeof f=="function"&&f(),E(!0)},[f]);return T.createElement(P4e,{showLabels:_,points:i},T.createElement(X2,{animationId:y,begin:c,duration:u,isActive:o,easing:l,key:"radar-".concat(y),onAnimationEnd:N,onAnimationStart:C},I=>{var D=I===1?i:i.map(rV(m,g,I)),M=I===1?a:a?.map(rV(p,x,I));return I>0&&(r.current=D,n.current=M),T.createElement(O4e,{points:D,baseLinePoints:M,props:e})}),T.createElement(VM,{label:e.label}),e.children)}function D4e(t){var e=T.useRef(void 0),r=T.useRef(void 0);return T.createElement(R4e,{props:t,previousPointsRef:e,previousBaseLinePointsRef:r})}var M4e={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Dc.area};function F4e(t){var{hide:e,className:r,points:n}=t;if(e)return null;var i=Sa("recharts-radar",r);return T.createElement(lh,{zIndex:t.zIndex},T.createElement(Uc,{className:i},T.createElement(D4e,t)),T.createElement(u4e,{points:n,mainColor:sF(t.stroke,t.fill),itemDataKey:t.dataKey,activeDot:t.activeDot}))}function U4e(t){var e=oh(),r=ai(n=>E4e(n,t.radiusAxisId,t.angleAxisId,e,t.id));return r?.points==null?null:T.createElement(F4e,t2({},t,{points:r?.points,baseLinePoints:r?.baseLinePoints,isRange:r?.isRange}))}function Fre(t){var e=Hc(t,M4e);return T.createElement(iF,{id:e.id,type:"radar"},r=>T.createElement(T.Fragment,null,T.createElement(Lre,{type:"radar",id:r,data:void 0,dataKey:e.dataKey,hide:e.hide,angleAxisId:e.angleAxisId,radiusAxisId:e.radiusAxisId}),T.createElement(Nre,{legendPayload:k4e(e)}),T.createElement(L4e,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:r}),T.createElement(U4e,t2({},e,{id:r}))))}Fre.displayName="Radar";var nV=(t,e,r)=>{var n=r??t;if(!iu(n))return ah(n,e,0)},$4e=(t,e,r)=>{var n={},i=t.filter(Bk),a=t.filter(l=>l.stackId==null),o=i.reduce((l,d)=>{var f=l[d.stackId];return f==null&&(f=[]),f.push(d),l[d.stackId]=f,l},n),c=Object.entries(o).map(l=>{var d,[f,m]=l,p=m.map(x=>x.dataKey),g=nV(e,r,(d=m[0])===null||d===void 0?void 0:d.barSize);return{stackId:f,dataKeys:p,barSize:g}}),u=a.map(l=>{var d=[l.dataKey].filter(m=>m!=null),f=nV(e,r,l.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...c,...u]};function iV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(r),!0).forEach(function(n){H4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H4e(t,e,r){return(e=Q4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q4e(t){var e=z4e(t,"string");return typeof e=="symbol"?e:e+""}function z4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V4e(t,e,r,n,i){var a,o=n.length;if(!(o<1)){var c=ah(t,r,0,!0),u,l=[];if(Ha((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,f=r/o,m=n.reduce((E,_)=>E+(_.barSize||0),0);m+=(o-1)*c,m>=r&&(m-=(o-1)*c,c=0),m>=r&&f>0&&(d=!0,f*=.9,m=o*f);var p=(r-m)/2>>0,g={offset:p-c,size:0};u=n.reduce((E,_)=>{var N,C={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g.offset+g.size+c,size:d?f:(N=_.barSize)!==null&&N!==void 0?N:0}},I=[...E,C];return g=C.position,I},l)}else{var x=ah(e,r,0,!0);r-2*x-(o-1)*c<=0&&(c=0);var y=(r-2*x-(o-1)*c)/o;y>1&&(y>>=0);var w=Ha(i)?Math.min(y,i):y;u=n.reduce((E,_,N)=>[...E,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:x+(y+c)*N+(y-w)/2,size:w}}],l)}return u}}var K4e=(t,e,r,n,i,a,o)=>{var c=iu(o)?e:o,u=V4e(r,n,i!==a?i:a,t,c);return i!==a&&u!=null&&(u=u.map(l=>mS(mS({},l),{},{position:mS(mS({},l.position),{},{offset:l.position.offset-i/2})}))),u},G4e=(t,e)=>{var r=dM(e);if(!(!t||r==null||e==null)){var{stackId:n}=e;if(n!=null){var i=t[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}},W4e=(t,e)=>{if(!(t==null||e==null)){var r=t.find(n=>n.stackId===e.stackId&&e.dataKey!=null&&n.dataKeys.includes(e.dataKey));if(r!=null)return r.position}};function Y4e(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Ha(t.zIndex)?t.zIndex:e}var Ure=t=>{var{chartData:e}=t,r=Al(),n=oh();return T.useEffect(()=>n?()=>{}:(r(ez(e)),()=>{r(ez(void 0))}),[e,r,n]),null},sV={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$re=Yh({name:"brush",initialState:sV,reducers:{setBrushSettings(t,e){return e.payload==null?sV:e.payload}}}),{setBrushSettings:DJe}=$re.actions,q4e=$re.reducer;function X4e(t){return(t%180+180)%180}var Z4e=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=X4e(i),o=a*Math.PI/180,c=Math.atan(n/r),u=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(u)},J4e={dots:[],areas:[],lines:[]},Hre=Yh({name:"referenceElements",initialState:J4e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=$m(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=$m(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=$m(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:MJe,removeDot:FJe,addArea:UJe,removeArea:$Je,addLine:HJe,removeLine:QJe}=Hre.actions,eLe=Hre.reducer,tLe=T.createContext(void 0),rLe=t=>{var{children:e}=t,[r]=T.useState("".concat($E("recharts"),"-clip")),n=Ore();if(n==null)return null;var{x:i,y:a,width:o,height:c}=n;return T.createElement(tLe.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:i,y:a,height:c,width:o}))),e)};function Qre(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function nLe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Z4e(n,r)}function iLe(t,e,r){var n=r==="width",{x:i,y:a,width:o,height:c}=t;return e===1?{start:n?i:a,end:n?i+o:a+c}:{start:n?i+o:a+c,end:n?i:a}}function r2(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function sLe(t,e){return Qre(t,e+1)}function aLe(t,e,r,n,i){for(var a=(n||[]).slice(),{start:o,end:c}=e,u=0,l=1,d=o,f=function(){var g=n?.[u];if(g===void 0)return{v:Qre(n,l)};var x=u,y,w=()=>(y===void 0&&(y=r(g,x)),y),E=g.coordinate,_=u===0||r2(t,E,w,d,c);_||(u=0,d=o,l+=1),_&&(d=E+t*(w()/2+i),u+=l)},m;l<=a.length;)if(m=f(),m)return m.v;return[]}function oLe(t,e,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:c,end:u}=e,l=1;l<=o;l++){for(var d=(o-1)%l,f=c,m=!0,p=function(){var N=n[x];if(N==null)return 0;var C=x,I,D=()=>(I===void 0&&(I=r(N,C)),I),M=N.coordinate,Y=x===d||r2(t,M,D,f,u);if(!Y)return m=!1,1;Y&&(f=M+t*(D()/2+i))},g,x=d;x<o&&(g=p(),!(g!==0&&g===1));x+=l);if(m){for(var y=[],w=d;w<o;w+=l){var E=n[w];E!=null&&y.push(E)}return y}}return[]}function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){lLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lLe(t,e,r){return(e=cLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cLe(t){var e=uLe(t,"string");return typeof e=="symbol"?e:e+""}function uLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dLe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:c}=e,{end:u}=e,l=function(m){var p=a[m];if(p==null)return 1;var g=p,x,y=()=>(x===void 0&&(x=r(p,m)),x);if(m===o-1){var w=t*(g.coordinate+t*y()/2-u);a[m]=g=rh(rh({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else a[m]=g=rh(rh({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var E=r2(t,g.tickCoord,y,c,u);E&&(u=g.tickCoord-t*(y()/2+i),a[m]=rh(rh({},g),{},{isShow:!0}))}},d=o-1;d>=0;d--)l(d);return a}function hLe(t,e,r,n,i,a){var o=(n||[]).slice(),c=o.length,{start:u,end:l}=e;if(a){var d=n[c-1];if(d!=null){var f=r(d,c-1),m=t*(d.coordinate+t*f/2-l);if(o[c-1]=d=rh(rh({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate}),d.tickCoord!=null){var p=r2(t,d.tickCoord,()=>f,u,l);p&&(l=d.tickCoord-t*(f/2+i),o[c-1]=rh(rh({},d),{},{isShow:!0}))}}}for(var g=a?c-1:c,x=function(E){var _=o[E];if(_==null)return 1;var N=_,C,I=()=>(C===void 0&&(C=r(_,E)),C);if(E===0){var D=t*(N.coordinate-t*I()/2-u);o[E]=N=rh(rh({},N),{},{tickCoord:D<0?N.coordinate-D*t:N.coordinate})}else o[E]=N=rh(rh({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var M=r2(t,N.tickCoord,I,u,l);M&&(u=N.tickCoord+t*(I()/2+i),o[E]=rh(rh({},N),{},{isShow:!0}))}},y=0;y<g;y++)x(y);return o}function aF(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:u,tickFormatter:l,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(_i(u)||_k.isSsr){var m;return(m=sLe(i,_i(u)?u:0))!==null&&m!==void 0?m:[]}var p=[],g=c==="top"||c==="bottom"?"width":"height",x=d&&g==="width"?fE(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=(C,I)=>{var D=typeof l=="function"?l(C.value,I):C.value;return g==="width"?nLe(fE(D,{fontSize:e,letterSpacing:r}),x,f):fE(D,{fontSize:e,letterSpacing:r})[g]},w=i[0],E=i[1],_=i.length>=2&&w!=null&&E!=null?vd(E.coordinate-w.coordinate):1,N=iLe(a,_,g);return u==="equidistantPreserveStart"?aLe(_,N,y,i,o):u==="equidistantPreserveEnd"?oLe(_,N,y,i,o):(u==="preserveStart"||u==="preserveStartEnd"?p=hLe(_,N,y,i,o,u==="preserveStartEnd"):p=dLe(_,N,y,i,o),p.filter(C=>C.isShow))}var fLe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var c=r?r.getBoundingClientRect().width:0,u=i+a,l=o+u+c+(r?n:0);return Math.round(l)}return 0},mLe=["axisLine","width","height","className","hide","ticks","axisType"];function ALe(t,e){if(t==null)return{};var r,n,i=pLe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kx.apply(null,arguments)}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){gLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gLe(t,e,r){return(e=vLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vLe(t){var e=xLe(t,"string");return typeof e=="symbol"?e:e+""}function xLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wp={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Dc.axis};function yLe(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:u}=t;if(!c)return null;var l=Lc(Lc(Lc({},u),wu(c)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!o||a==="bottom"&&o);l=Lc(Lc({},l),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var f=+(a==="left"&&!o||a==="right"&&o);l=Lc(Lc({},l),{},{x1:e+f*n,y1:r,x2:e+f*n,y2:r+i})}return T.createElement("line",kx({},l,{className:Sa("recharts-cartesian-axis-line",Ex(c,"className"))}))}function bLe(t,e,r,n,i,a,o,c,u){var l,d,f,m,p,g,x=c?-1:1,y=t.tickSize||o,w=_i(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":l=d=t.coordinate,m=r+ +!c*i,f=m-x*y,g=f-x*u,p=w;break;case"left":f=m=t.coordinate,d=e+ +!c*n,l=d-x*y,p=l-x*u,g=w;break;case"right":f=m=t.coordinate,d=e+ +c*n,l=d+x*y,p=l+x*u,g=w;break;default:l=d=t.coordinate,m=r+ +c*i,f=m+x*y,g=f+x*u,p=w;break}return{line:{x1:l,y1:f,x2:d,y2:m},tick:{x:p,y:g}}}function wLe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function ELe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function _Le(t){var{option:e,tickProps:r,value:n}=t,i,a=Sa(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))i=T.cloneElement(e,Lc(Lc({},r),{},{className:a}));else if(typeof e=="function")i=e(Lc(Lc({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Sa(o,qM(e))),i=T.createElement(A_,kx({},r,{className:o}),n)}return i}var SLe=T.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:c,padding:u,tickTextProps:l,orientation:d,mirror:f,x:m,y:p,width:g,height:x,tickSize:y,tickMargin:w,fontSize:E,letterSpacing:_,getTicksConfig:N,events:C,axisType:I}=t,D=aF(Lc(Lc({},N),{},{ticks:r}),E,_),M=wLe(d,f),Y=ELe(d,f),X=wu(N),te=bx(n),de={};typeof i=="object"&&(de=i);var ye=Lc(Lc({},X),{},{fill:"none"},de),we=D.map(ae=>Lc({entry:ae},bLe(ae,m,p,g,x,d,y,f,w))),ve=we.map(ae=>{var{entry:oe,line:Re}=ae;return T.createElement(Uc,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(oe.value,"-").concat(oe.coordinate,"-").concat(oe.tickCoord)},i&&T.createElement("line",kx({},ye,Re,{className:Sa("recharts-cartesian-axis-tick-line",Ex(i,"className"))})))}),ne=we.map((ae,oe)=>{var Re,Pe,{entry:be,tick:he}=ae,Ie=Lc(Lc(Lc(Lc({verticalAnchor:Y},X),{},{textAnchor:M,stroke:"none",fill:a},he),{},{index:oe,payload:be,visibleTicksCount:D.length,tickFormatter:o,padding:u},l),{},{angle:(Re=(Pe=l?.angle)!==null&&Pe!==void 0?Pe:X.angle)!==null&&Re!==void 0?Re:0}),Oe=Lc(Lc({},Ie),te);return T.createElement(Uc,kx({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},b1(C,be,oe)),n&&T.createElement(_Le,{option:n,tickProps:Oe,value:"".concat(typeof o=="function"?o(be.value,oe):be.value).concat(c||"")}))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},ne.length>0&&T.createElement(lh,{zIndex:Dc.label},T.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:e},ne)),ve.length>0&&T.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},ve))}),jLe=T.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:c,axisType:u}=t,l=ALe(t,mLe),[d,f]=T.useState(""),[m,p]=T.useState(""),g=T.useRef(null);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var y;return fLe({ticks:g.current,label:(y=t.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var x=T.useCallback(y=>{if(y){var w=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=w;var E=w[0];if(E){var _=window.getComputedStyle(E),N=_.fontSize,C=_.letterSpacing;(N!==d||C!==m)&&(f(N),p(C))}}},[d,m]);return o||n!=null&&n<=0||i!=null&&i<=0?null:T.createElement(lh,{zIndex:t.zIndex},T.createElement(Uc,{className:Sa("recharts-cartesian-axis",a)},T.createElement(yLe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:wu(t)}),T.createElement(SLe,{ref:x,axisType:u,events:l,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:c,unit:t.unit,width:t.width,x:t.x,y:t.y}),T.createElement(oNe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},T.createElement(gNe,{label:t.label,labelRef:t.labelRef}),t.children)))}),oF=T.forwardRef((t,e)=>{var r=Hc(t,Wp);return T.createElement(jLe,kx({},r,{ref:e}))});oF.displayName="CartesianAxis";var TLe=["x1","y1","x2","y2","key"],CLe=["offset"],NLe=["xAxisId","yAxisId"],kLe=["xAxisId","yAxisId"];function lV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ih(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lV(Object(r),!0).forEach(function(n){LLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LLe(t,e,r){return(e=ILe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ILe(t){var e=BLe(t,"string");return typeof e=="symbol"?e:e+""}function BLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(null,arguments)}function $C(t,e){if(t==null)return{};var r,n,i=PLe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var OLe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:c}=t;return T.createElement("rect",{x:n,y:i,ry:c,width:a,height:o,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zre(t){var{option:e,lineItemProps:r}=t,n;if(T.isValidElement(e))n=T.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:o,x2:c,y2:u,key:l}=r,d=$C(r,TLe),f=(i=wu(d))!==null&&i!==void 0?i:{},{offset:m}=f,p=$C(f,CLe);n=T.createElement("line",qv({},p,{x1:a,y1:o,x2:c,y2:u,fill:"none",key:l}))}return n}function RLe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=$C(t,NLe),u=i.map((l,d)=>{var f=ih(ih({},c),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(d),index:d});return T.createElement(zre,{key:"line-".concat(d),option:n,lineItemProps:f})});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function DLe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=$C(t,kLe),u=i.map((l,d)=>{var f=ih(ih({},c),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(d),index:d});return T.createElement(zre,{option:n,lineItemProps:f,key:"line-".concat(d)})});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function MLe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:c,horizontal:u=!0}=t;if(!u||!e||!e.length||c==null)return null;var l=c.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==l[0]&&l.unshift(0);var d=l.map((f,m)=>{var p=l[m+1],g=p==null,x=g?i+o-f:p-f;if(x<=0)return null;var y=m%e.length;return T.createElement("rect",{key:"react-".concat(m),y:f,x:n,height:x,width:a,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function FLe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:c,verticalPoints:u}=t;if(!e||!r||!r.length)return null;var l=u.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==l[0]&&l.unshift(0);var d=l.map((f,m)=>{var p=l[m+1],g=p==null,x=g?i+o-f:p-f;if(x<=0)return null;var y=m%r.length;return T.createElement("rect",{key:"react-".concat(m),x:f,y:a,width:x,height:c,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ULe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return SJ(aF(ih(ih(ih({},Wp),r),{},{ticks:jJ(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},$Le=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return SJ(aF(ih(ih(ih({},Wp),r),{},{ticks:jJ(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},HLe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Dc.grid};function Vre(t){var e=kD(),r=LD(),n=BJ(),i=ih(ih({},Hc(t,HLe)),{},{x:_i(t.x)?t.x:n.left,y:_i(t.y)?t.y:n.top,width:_i(t.width)?t.width:n.width,height:_i(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:o,x:c,y:u,width:l,height:d,syncWithTicks:f,horizontalValues:m,verticalValues:p}=i,g=oh(),x=ai(Y=>HQ(Y,"xAxis",a,g)),y=ai(Y=>HQ(Y,"yAxis",o,g));if(!XA(l)||!XA(d)||!_i(c)||!_i(u))return null;var w=i.verticalCoordinatesGenerator||ULe,E=i.horizontalCoordinatesGenerator||$Le,{horizontalPoints:_,verticalPoints:N}=i;if((!_||!_.length)&&typeof E=="function"){var C=m&&m.length,I=E({yAxis:y?ih(ih({},y),{},{ticks:C?m:y.ticks}):void 0,width:e??l,height:r??d,offset:n},C?!0:f);uC(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(_=I)}if((!N||!N.length)&&typeof w=="function"){var D=p&&p.length,M=w({xAxis:x?ih(ih({},x),{},{ticks:D?p:x.ticks}):void 0,width:e??l,height:r??d,offset:n},D?!0:f);uC(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(N=M)}return T.createElement(lh,{zIndex:i.zIndex},T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(OLe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),T.createElement(MLe,qv({},i,{horizontalPoints:_})),T.createElement(FLe,qv({},i,{verticalPoints:N})),T.createElement(RLe,qv({},i,{offset:n,horizontalPoints:_,xAxis:x,yAxis:y})),T.createElement(DLe,qv({},i,{offset:n,verticalPoints:N,xAxis:x,yAxis:y}))))}Vre.displayName="CartesianGrid";var QLe={},Kre=Yh({name:"errorBars",initialState:QLe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:zJe,replaceErrorBar:VJe,removeErrorBar:KJe}=Kre.actions,zLe=Kre.reducer,VLe=["children"];function KLe(t,e){if(t==null)return{};var r,n,i=GLe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function GLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var WLe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},YLe=T.createContext(WLe);function qLe(t){var{children:e}=t,r=KLe(t,VLe);return T.createElement(YLe.Provider,{value:r},e)}function Gre(t,e){var r,n,i=ai(l=>gg(l,t)),a=ai(l=>vg(l,e)),o=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:dd.allowDataOverflow,c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:hd.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function XLe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=Ore(),{needClipX:a,needClipY:o,needClip:c}=Gre(e,r);if(!c||!i)return null;var{x:u,y:l,width:d,height:f}=i;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:a?u:u-d/2,y:o?l:l-f/2,width:a?d:d*2,height:o?f:f*2}))}var iI={exports:{}},sI={};var cV;function ZLe(){if(cV)return sI;cV=1;var t=f1();function e(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return sI.useSyncExternalStoreWithSelector=function(u,l,d,f,m){var p=i(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=o(function(){function y(C){if(!w){if(w=!0,E=C,C=f(C),m!==void 0&&g.hasValue){var I=g.value;if(m(I,C))return _=I}return _=C}if(I=_,r(E,C))return I;var D=f(C);return m!==void 0&&m(I,D)?(E=C,I):(E=C,_=D)}var w=!1,E,_,N=d===void 0?null:d;return[function(){return y(l())},N===null?void 0:function(){return y(N())}]},[l,d,f,m]);var x=n(u,p[0],p[1]);return a(function(){g.hasValue=!0,g.value=x},[x]),c(x),x},sI}var uV;function JLe(){return uV||(uV=1,iI.exports=ZLe()),iI.exports}JLe();function eIe(t){t()}function tIe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){eIe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dV={notify(){},get:()=>[]};function rIe(t,e){let r,n=dV,i=0,a=!1;function o(x){d();const y=n.subscribe(x);let w=!1;return()=>{w||(w=!0,y(),f())}}function c(){n.notify()}function u(){g.onStateChange&&g.onStateChange()}function l(){return a}function d(){i++,r||(r=t.subscribe(u),n=tIe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=dV)}function m(){a||(a=!0,d())}function p(){a&&(a=!1,f())}const g={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:l,trySubscribe:m,tryUnsubscribe:p,getListeners:()=>n};return g}var nIe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iIe=nIe(),sIe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aIe=sIe(),oIe=()=>iIe||aIe?T.useLayoutEffect:T.useEffect,lIe=oIe();function hV(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function cIe(t,e){if(hV(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!hV(t[r[i]],e[r[i]]))return!1;return!0}var uIe=Symbol.for("react-redux-context"),dIe=typeof globalThis<"u"?globalThis:{};function hIe(){if(!T.createContext)return{};const t=dIe[uIe]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var fIe=hIe();function mIe(t){const{children:e,context:r,serverState:n,store:i}=t,a=T.useMemo(()=>{const u=rIe(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=T.useMemo(()=>i.getState(),[i]);lIe(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,o]);const c=r||fIe;return T.createElement(c.Provider,{value:a},e)}var AIe=mIe,pIe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function gIe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function lF(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(pIe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!cIe(t[n],e[n]))return!1}else if(!gIe(t[n],e[n]))return!1;return!0}function Dx(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Bre}function Mx(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Bre}var vIe="Invariant failed";function xIe(t,e){throw new Error(vIe)}function ZP(){return ZP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZP.apply(null,arguments)}function HC(t){return T.createElement(Cre,ZP({shapeType:"rectangle",activeClassName:"recharts-active-bar"},t))}var yIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(_i(e))return e;var a=_i(n)||iu(n);return a?e(n,i):(a||xIe(),r)}},bIe=(t,e,r)=>r,wIe=(t,e)=>e,v_=hr([mM,wIe],(t,e)=>t.filter(r=>r.type==="bar").find(r=>r.id===e)),EIe=hr([v_],t=>t?.maxBarSize),_Ie=(t,e,r,n)=>n,SIe=hr([Wa,mM,Dx,Mx,bIe],(t,e,r,n,i)=>e.filter(a=>t==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),jIe=(t,e,r)=>{var n=Wa(t),i=Dx(t,e),a=Mx(t,e);if(!(i==null||a==null))return n==="horizontal"?VP(t,"yAxis",a,r):VP(t,"xAxis",i,r)},TIe=(t,e)=>{var r=Wa(t),n=Dx(t,e),i=Mx(t,e);if(!(n==null||i==null))return r==="horizontal"?$Q(t,"xAxis",n):$Q(t,"yAxis",i)},CIe=hr([SIe,eSe,TIe],$4e),NIe=(t,e,r)=>{var n,i,a=v_(t,e);if(a==null)return 0;var o=Dx(t,e),c=Mx(t,e);if(o==null||c==null)return 0;var u=Wa(t),l=Wee(t),{maxBarSize:d}=a,f=iu(d)?l:d,m,p;return u==="horizontal"?(m=t1(t,"xAxis",o,r),p=e1(t,"xAxis",o,r)):(m=t1(t,"yAxis",c,r),p=e1(t,"yAxis",c,r)),(n=(i=Wb(m,p,!0))!==null&&i!==void 0?i:f)!==null&&n!==void 0?n:0},Wre=(t,e,r)=>{var n=Wa(t),i=Dx(t,e),a=Mx(t,e);if(!(i==null||a==null)){var o,c;return n==="horizontal"?(o=t1(t,"xAxis",i,r),c=e1(t,"xAxis",i,r)):(o=t1(t,"yAxis",a,r),c=e1(t,"yAxis",a,r)),Wb(o,c)}},kIe=hr([CIe,Wee,J_e,Yee,NIe,Wre,EIe],K4e),LIe=(t,e,r)=>{var n=Dx(t,e);if(n!=null)return t1(t,"xAxis",n,r)},IIe=(t,e,r)=>{var n=Mx(t,e);if(n!=null)return t1(t,"yAxis",n,r)},BIe=(t,e,r)=>{var n=Dx(t,e);if(n!=null)return e1(t,"xAxis",n,r)},PIe=(t,e,r)=>{var n=Mx(t,e);if(n!=null)return e1(t,"yAxis",n,r)},OIe=hr([kIe,v_],W4e),RIe=hr([jIe,v_],G4e),DIe=hr([Wu,TD,LIe,IIe,BIe,PIe,OIe,Wa,V_e,Wre,RIe,v_,_Ie],(t,e,r,n,i,a,o,c,u,l,d,f,m)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:x}=u;if(!(f==null||o==null||e==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||i==null||a==null||l==null)){var{data:y}=f,w;if(y!=null&&y.length>0?w=y:w=p?.slice(g,x+1),w!=null)return dBe({layout:c,barSettings:f,pos:o,parentViewBox:e,bandSize:l,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:w,offset:t,cells:m,dataStartIndex:g})}}),MIe=["index"];function JP(){return JP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JP.apply(null,arguments)}function FIe(t,e){if(t==null)return{};var r,n,i=UIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function UIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Yre=T.createContext(void 0),$Ie=t=>{var e=T.useContext(Yre);if(e!=null)return e.stackId;if(t!=null)return Mbe(t)},HIe=(t,e)=>"recharts-bar-stack-clip-path-".concat(t,"-").concat(e),QIe=t=>{var e=T.useContext(Yre);if(e!=null){var{stackId:r}=e;return"url(#".concat(HIe(r,t),")")}},qre=t=>{var{index:e}=t,r=FIe(t,MIe),n=QIe(e);return T.createElement(Uc,JP({className:"recharts-bar-stack-layer",clipPath:n},r))},zIe=["onMouseEnter","onMouseLeave","onClick"],VIe=["value","background","tooltipPosition"],KIe=["id"],GIe=["onMouseEnter","onClick","onMouseLeave"];function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lg.apply(null,arguments)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){WIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WIe(t,e,r){return(e=YIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YIe(t){var e=qIe(t,"string");return typeof e=="symbol"?e:e+""}function qIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QC(t,e){if(t==null)return{};var r,n,i=XIe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XIe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ZIe=t=>{var{dataKey:e,name:r,fill:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:w1(r,e),payload:t}]},JIe=T.memo(t=>{var{dataKey:e,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:c,tooltipType:u,id:l}=t,d={dataDefinedOnItem:void 0,getPosition:X0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:e,nameKey:void 0,name:w1(a,e),hide:o,type:u,color:i,unit:c,graphicalItemId:l}};return T.createElement(nF,{tooltipEntrySettings:d})});function eBe(t){var e=ai(Q0),{data:r,dataKey:n,background:i,allOtherBarProps:a}=t,{onMouseEnter:o,onMouseLeave:c,onClick:u}=a,l=QC(a,zIe),d=eF(o,n,a.id),f=tF(c),m=rF(u,n,a.id);if(!i||r==null)return null;var p=bx(i);return T.createElement(lh,{zIndex:Y4e(i,Dc.barBackground)},r.map((g,x)=>{var{value:y,background:w,tooltipPosition:E}=g,_=QC(g,VIe);if(!w)return null;var N=d(g,x),C=f(g,x),I=m(g,x),D=vh(vh(vh(vh(vh({option:i,isActive:String(x)===e},_),{},{fill:"#eee"},w),p),b1(l,g,x)),{},{onMouseEnter:N,onMouseLeave:C,onClick:I,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return T.createElement(HC,lg({key:"background-bar-".concat(x)},D))}))}function tBe(t){var{showLabels:e,children:r,rects:n}=t,i=n?.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return vh(vh({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return T.createElement(pre,{value:e?i:void 0},r)}function rBe(t){var{shape:e,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=t,c=ai(Q0),u=ai(MM),l=r&&String(a)===c&&(u==null||o===u),d=l?r:e;return l?T.createElement(lh,{zIndex:Dc.activeBar},T.createElement(qre,{index:a},T.createElement(HC,lg({},n,{name:String(n.name)},i,{isActive:l,option:d,index:a,dataKey:o})))):T.createElement(HC,lg({},n,{name:String(n.name)},i,{isActive:l,option:d,index:a,dataKey:o}))}function nBe(t){var{shape:e,baseProps:r,entry:n,index:i,dataKey:a}=t;return T.createElement(HC,lg({},r,{name:String(r.name)},n,{isActive:!1,option:e,index:i,dataKey:a}))}function iBe(t){var e,{data:r,props:n}=t,i=(e=wu(n))!==null&&e!==void 0?e:{},{id:a}=i,o=QC(i,KIe),{shape:c,dataKey:u,activeBar:l}=n,{onMouseEnter:d,onClick:f,onMouseLeave:m}=n,p=QC(n,GIe),g=eF(d,u,a),x=tF(m),y=rF(f,u,a);return r?T.createElement(T.Fragment,null,r.map((w,E)=>T.createElement(qre,lg({index:E,key:"rectangle-".concat(w?.x,"-").concat(w?.y,"-").concat(w?.value,"-").concat(E),className:"recharts-bar-rectangle"},b1(p,w,E),{onMouseEnter:g(w,E),onMouseLeave:x(w,E),onClick:y(w,E)}),l?T.createElement(rBe,{shape:c,activeBar:l,baseProps:o,entry:w,index:E,dataKey:u}):T.createElement(nBe,{shape:c,baseProps:o,entry:w,index:E,dataKey:u})))):null}function sBe(t){var{props:e,previousRectanglesRef:r}=t,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:l,onAnimationStart:d}=e,f=r.current,m=Z2(e,"recharts-bar-"),[p,g]=T.useState(!1),x=!p,y=T.useCallback(()=>{typeof l=="function"&&l(),g(!1)},[l]),w=T.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return T.createElement(tBe,{showLabels:x,rects:n},T.createElement(X2,{animationId:m,begin:o,duration:c,isActive:a,easing:u,onAnimationEnd:y,onAnimationStart:w,key:m},E=>{var _=E===1?n:n?.map((N,C)=>{var I=f&&f[C];if(I)return vh(vh({},N),{},{x:fc(I.x,N.x,E),y:fc(I.y,N.y,E),width:fc(I.width,N.width,E),height:fc(I.height,N.height,E)});if(i==="horizontal"){var D=fc(0,N.height,E),M=fc(N.stackedBarStart,N.y,E);return vh(vh({},N),{},{y:M,height:D})}var Y=fc(0,N.width,E),X=fc(N.stackedBarStart,N.x,E);return vh(vh({},N),{},{width:Y,x:X})});return E>0&&(r.current=_??null),_==null?null:T.createElement(Uc,null,T.createElement(iBe,{props:e,data:_}))}),T.createElement(VM,{label:e.label}),e.children)}function aBe(t){var e=T.useRef(null);return T.createElement(sBe,{previousRectanglesRef:e,props:t})}var Xre=0,oBe=(t,e)=>{var r=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:r,errorVal:hl(t,e)}};class lBe extends T.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:c,background:u,id:l}=this.props;if(e||r==null)return null;var d=Sa("recharts-bar",i),f=l;return T.createElement(Uc,{className:d,id:l},c&&T.createElement("defs",null,T.createElement(XLe,{clipPathId:f,xAxisId:a,yAxisId:o})),T.createElement(Uc,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(f,")"):void 0},T.createElement(eBe,{data:r,dataKey:n,background:u,allOtherBarProps:this.props}),T.createElement(aBe,this.props)))}}var cBe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Xre,xAxisId:0,yAxisId:0,zIndex:Dc.bar};function uBe(t){var{xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:l,isAnimationActive:d}=t,{needClip:f}=Gre(e,r),m=E1(),p=oh(),g=JM(t.children,r1),x=ai(E=>DIe(E,t.id,p,g));if(m!=="vertical"&&m!=="horizontal")return null;var y,w=x?.[0];return w==null||w.height==null||w.width==null?y=0:y=m==="vertical"?w.height/2:w.width/2,T.createElement(qLe,{xAxisId:e,yAxisId:r,data:x,dataPointFormatter:oBe,errorBarOffset:y},T.createElement(lBe,lg({},t,{layout:m,needClip:f,data:x,xAxisId:e,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:l,isAnimationActive:d})))}function dBe(t){var{layout:e,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:l,stackedData:d,displayedData:f,offset:m,cells:p,parentViewBox:g,dataStartIndex:x}=t,y=e==="horizontal"?c:o,w=d?y.scale.domain():null,E=Fbe({numericAxis:y}),_=y.scale.map(E);return f.map((N,C)=>{var I,D,M,Y,X,te;if(d){var de=d[C+x];if(de==null)return null;I=Bbe(de,w)}else I=hl(N,r),Array.isArray(I)||(I=[E,I]);var ye=yIe(n,Xre)(I[1],C);if(e==="horizontal"){var we,ve=c.scale.map(I[0]),ne=c.scale.map(I[1]);if(ve==null||ne==null)return null;D=U9({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:N,index:C}),M=(we=ne??ve)!==null&&we!==void 0?we:void 0,Y=i.size;var ae=ve-ne;if(X=YA(ae)?0:ae,te={x:D,y:m.top,width:Y,height:m.height},Math.abs(ye)>0&&Math.abs(X)<Math.abs(ye)){var oe=vd(X||ye)*(Math.abs(ye)-Math.abs(X));M-=oe,X+=oe}}else{var Re=o.scale.map(I[0]),Pe=o.scale.map(I[1]);if(Re==null||Pe==null)return null;if(D=Re,M=U9({axis:c,ticks:l,bandSize:a,offset:i.offset,entry:N,index:C}),Y=Pe-Re,X=i.size,te={x:m.left,y:M,width:m.width,height:X},Math.abs(ye)>0&&Math.abs(Y)<Math.abs(ye)){var be=vd(Y||ye)*(Math.abs(ye)-Math.abs(Y));Y+=be}}if(D==null||M==null||Y==null||X==null)return null;var he=vh(vh({},N),{},{stackedBarStart:_,x:D,y:M,width:Y,height:X,value:d?I:I[1],payload:N,background:te,tooltipPosition:{x:D+Y/2,y:M+X/2},parentViewBox:g},p&&p[C]&&p[C].props);return he}).filter(Boolean)}function hBe(t){var e=Hc(t,cBe),r=$Ie(e.stackId),n=oh();return T.createElement(iF,{id:e.id,type:"bar"},i=>T.createElement(T.Fragment,null,T.createElement(Zke,{legendPayload:ZIe(e)}),T.createElement(JIe,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:i}),T.createElement(d5e,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:r,hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),T.createElement(lh,{zIndex:e.zIndex},T.createElement(uBe,lg({},e,{id:i})))))}var hb=T.memo(hBe,lF);hb.displayName="Bar";var fBe=["domain","range"],mBe=["domain","range"];function mV(t,e){if(t==null)return{};var r,n,i=ABe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ABe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function AV(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Zre(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=mV(t,fBe),{domain:a,range:o}=e,c=mV(e,mBe);return!AV(r,a)||!AV(n,o)?!1:lF(i,c)}var pBe=["type"],gBe=["dangerouslySetInnerHTML","ticks","scale"],vBe=["id","scale"];function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eO.apply(null,arguments)}function pV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(r),!0).forEach(function(n){xBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xBe(t,e,r){return(e=yBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yBe(t){var e=bBe(t,"string");return typeof e=="symbol"?e:e+""}function bBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tO(t,e){if(t==null)return{};var r,n,i=wBe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function EBe(t){var e=Al(),r=T.useRef(null),n=PJ(),{type:i}=t,a=tO(t,pBe),o=s_(n,"xAxis",i),c=T.useMemo(()=>{if(o!=null)return gV(gV({},a),{},{type:o})},[a,o]);return T.useLayoutEffect(()=>{c!=null&&(r.current===null?e(Y5e(c)):r.current!==c&&e(q5e({prev:r.current,next:c})),r.current=c)},[c,e]),T.useLayoutEffect(()=>()=>{r.current&&(e(X5e(r.current)),r.current=null)},[e]),null}var _Be=t=>{var{xAxisId:e,className:r}=t,n=ai(TD),i=oh(),a="xAxis",o=ai(w=>Tte(w,a,e,i)),c=ai(w=>Ete(w,e)),u=ai(w=>rje(w,e)),l=ai(w=>ite(w,e));if(c==null||u==null||l==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:m}=t,p=tO(t,gBe),{id:g,scale:x}=l,y=tO(l,vBe);return T.createElement(oF,eO({},p,y,{x:u.x,y:u.y,width:c.width,height:c.height,className:Sa("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},SBe={allowDataOverflow:dd.allowDataOverflow,allowDecimals:dd.allowDecimals,allowDuplicatedCategory:dd.allowDuplicatedCategory,angle:dd.angle,axisLine:Wp.axisLine,height:dd.height,hide:!1,includeHidden:dd.includeHidden,interval:dd.interval,label:!1,minTickGap:dd.minTickGap,mirror:dd.mirror,orientation:dd.orientation,padding:dd.padding,reversed:dd.reversed,scale:dd.scale,tick:dd.tick,tickCount:dd.tickCount,tickLine:Wp.tickLine,tickSize:Wp.tickSize,type:dd.type,xAxisId:0},jBe=t=>{var e=Hc(t,SBe);return T.createElement(T.Fragment,null,T.createElement(EBe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),T.createElement(_Be,e))},cF=T.memo(jBe,Zre);cF.displayName="XAxis";var TBe=["type"],CBe=["dangerouslySetInnerHTML","ticks","scale"],NBe=["id","scale"];function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rO.apply(null,arguments)}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){kBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kBe(t,e,r){return(e=LBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LBe(t){var e=IBe(t,"string");return typeof e=="symbol"?e:e+""}function IBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nO(t,e){if(t==null)return{};var r,n,i=BBe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function BBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function PBe(t){var e=Al(),r=T.useRef(null),n=PJ(),{type:i}=t,a=nO(t,TBe),o=s_(n,"yAxis",i),c=T.useMemo(()=>{if(o!=null)return xV(xV({},a),{},{type:o})},[o,a]);return T.useLayoutEffect(()=>{c!=null&&(r.current===null?e(Z5e(c)):r.current!==c&&e(J5e({prev:r.current,next:c})),r.current=c)},[c,e]),T.useLayoutEffect(()=>()=>{r.current&&(e(e4e(r.current)),r.current=null)},[e]),null}function OBe(t){var{yAxisId:e,className:r,width:n,label:i}=t,a=T.useRef(null),o=T.useRef(null),c=ai(TD),u=oh(),l=Al(),d="yAxis",f=ai(I=>_te(I,e)),m=ai(I=>ije(I,e)),p=ai(I=>Tte(I,d,e,u)),g=ai(I=>ste(I,e));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!f||zM(i)||T.isValidElement(i)||g==null)){var I=a.current;if(I){var D=I.getCalculatedWidth();Math.round(f.width)!==Math.round(D)&&l(t4e({id:e,width:D}))}}},[p,f,l,i,e,n,g]),f==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:y,scale:w}=t,E=nO(t,CBe),{id:_,scale:N}=g,C=nO(g,NBe);return T.createElement(oF,rO({},E,C,{ref:a,labelRef:o,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Sa("recharts-".concat(d," ").concat(d),r),viewBox:c,ticks:p,axisType:d}))}var RBe={allowDataOverflow:hd.allowDataOverflow,allowDecimals:hd.allowDecimals,allowDuplicatedCategory:hd.allowDuplicatedCategory,angle:hd.angle,axisLine:Wp.axisLine,hide:!1,includeHidden:hd.includeHidden,interval:hd.interval,label:!1,minTickGap:hd.minTickGap,mirror:hd.mirror,orientation:hd.orientation,padding:hd.padding,reversed:hd.reversed,scale:hd.scale,tick:hd.tick,tickCount:hd.tickCount,tickLine:Wp.tickLine,tickSize:Wp.tickSize,type:hd.type,width:hd.width,yAxisId:0},DBe=t=>{var e=Hc(t,RBe);return T.createElement(T.Fragment,null,T.createElement(PBe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),T.createElement(OBe,e))},uF=T.memo(DBe,Zre);uF.displayName="YAxis";var MBe=(t,e)=>e,dF=hr([MBe,Wa,o_,bd,Vte,xg,vTe,Wu],STe),hF=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Jre=im("mouseClick"),ene=G2();ene.startListening({actionCreator:Jre,effect:(t,e)=>{var r=t.payload,n=dF(e.getState(),hF(r));n?.activeIndex!=null&&e.dispatch(pje({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var iO=im("mouseMove"),tne=G2(),AS=null;tne.startListening({actionCreator:iO,effect:(t,e)=>{var r=t.payload;AS!==null&&cancelAnimationFrame(AS);var n=hF(r);AS=requestAnimationFrame(()=>{var i=e.getState(),a=IM(i,i.tooltip.settings.shared);if(a==="axis"){var o=dF(i,n);o?.activeIndex!=null?e.dispatch(Rte({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(Ote())}AS=null})}});function FBe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var yV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rne=Yh({name:"rootProps",initialState:yV,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:yV.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),UBe=rne.reducer,{updateOptions:$Be}=rne.actions,HBe=null,QBe={updatePolarOptions:(t,e)=>e.payload},nne=Yh({name:"polarOptions",initialState:HBe,reducers:QBe}),{updatePolarOptions:zBe}=nne.actions,VBe=nne.reducer,ine=im("keyDown"),sne=im("focus"),fF=G2();fF.startListening({actionCreator:ine,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=BM(i,I1(r),u_(r),f_(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=xg(r);if(a==="Enter"){var l=OC(r,"axis","hover",String(i.index));e.dispatch(GP({active:!i.active,activeIndex:i.index,activeCoordinate:l}));return}var d=aje(r),f=d==="left-to-right"?1:-1,m=a==="ArrowRight"?1:-1,p=c+m*f;if(!(u==null||p>=u.length||p<0)){var g=OC(r,"axis","hover",String(p));e.dispatch(GP({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});fF.startListening({actionCreator:sne,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=OC(r,"axis","hover",String(a));e.dispatch(GP({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Kf=im("externalEvent"),ane=G2(),aI=new Map;ane.startListening({actionCreator:Kf,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,a=aI.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var c=e.getState(),u={activeCoordinate:rTe(c),activeDataKey:MM(c),activeIndex:Q0(c),activeLabel:Wte(c),activeTooltipIndex:Q0(c),isTooltipActive:nTe(c)};r(u,n)}finally{aI.delete(i)}});aI.set(i,o)}}});var KBe=hr([k1],t=>t.tooltipItemPayloads),GBe=hr([KBe,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),one=im("touchMove"),lne=G2();lne.startListening({actionCreator:one,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=IM(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=dF(n,hF({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&e.dispatch(Rte({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var c,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var l=document.elementFromPoint(u.clientX,u.clientY);if(!l||!l.getAttribute)return;var d=l.getAttribute(CJ),f=(c=l.getAttribute(NJ))!==null&&c!==void 0?c:void 0,m=L1(n).find(x=>x.id===f);if(d==null||m==null||f==null)return;var{dataKey:p}=m,g=GBe(n,d,f);e.dispatch(Pte({activeDataKey:p,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var WBe=qZ({brush:q4e,cartesianAxis:r4e,chartData:rCe,errorBars:zLe,graphicalItems:c5e,layout:Cbe,legend:R1e,options:XTe,polarAxis:ake,polarOptions:VBe,referenceElements:eLe,rootProps:UBe,tooltip:gje,zIndex:FTe}),YBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Jye({reducer:WBe,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([ene.middleware,tne.middleware,fF.middleware,ane.middleware,lne.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(dJ({type:"raf"}))},devTools:{serialize:{replacer:FBe},name:"recharts-".concat(r)}})};function cne(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=oh(),a=T.useRef(null);if(i)return r;a.current==null&&(a.current=YBe(e,n));var o=yD;return T.createElement(AIe,{context:o,store:a.current},r)}function qBe(t){var{layout:e,margin:r}=t,n=Al(),i=oh();return T.useEffect(()=>{i||(n(Sbe(e)),n(_be(r)))},[n,i,e,r]),null}var une=T.memo(qBe,lF);function dne(t){var e=Al();return T.useEffect(()=>{e($Be(t))},[e,t]),null}function bV(t){var{zIndex:e,isPanorama:r}=t,n=T.useRef(null),i=Al();return T.useLayoutEffect(()=>(n.current&&i(DTe({zIndex:e,element:n.current,isPanorama:r})),()=>{i(MTe({zIndex:e,isPanorama:r}))}),[i,e,r]),T.createElement("g",{tabIndex:-1,ref:n})}function wV(t){var{children:e,isPanorama:r}=t,n=ai(TTe);if(!n||n.length===0)return e;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return T.createElement(T.Fragment,null,i.map(o=>T.createElement(bV,{key:o,zIndex:o,isPanorama:r})),e,a.map(o=>T.createElement(bV,{key:o,zIndex:o,isPanorama:r})))}var XBe=["children"];function ZBe(t,e){if(t==null)return{};var r,n,i=JBe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zC.apply(null,arguments)}var ePe={width:"100%",height:"100%",display:"block"},tPe=T.forwardRef((t,e)=>{var r=kD(),n=LD(),i=KJ();if(!XA(r)||!XA(n))return null;var{children:a,otherAttributes:o,title:c,desc:u}=t,l,d;return o!=null&&(typeof o.tabIndex=="number"?l=o.tabIndex:l=i?0:void 0,typeof o.role=="string"?d=o.role:d=i?"application":void 0),T.createElement(cD,zC({},o,{title:c,desc:u,role:d,tabIndex:l,width:r,height:n,style:ePe,ref:e}),a)}),rPe=t=>{var{children:e}=t,r=ai(xk);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return T.createElement(cD,{width:n,height:i,x:o,y:a},e)},EV=T.forwardRef((t,e)=>{var{children:r}=t,n=ZBe(t,XBe),i=oh();return i?T.createElement(rPe,null,T.createElement(wV,{isPanorama:!0},r)):T.createElement(tPe,zC({ref:e},n),T.createElement(wV,{isPanorama:!1},r))});function nPe(){var t=Al(),[e,r]=T.useState(null),n=ai(Vbe);return T.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ha(a)&&a!==n&&t(Tbe(a))}},[e,t,n]),r}function _V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_V(Object(r),!0).forEach(function(n){sPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_V(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sPe(t,e,r){return(e=aPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aPe(t){var e=oPe(t,"string");return typeof e=="symbol"?e:e+""}function oPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P0.apply(null,arguments)}var lPe=()=>(dCe(),null);function VC(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var cPe=T.forwardRef((t,e)=>{var r,n,i=T.useRef(null),[a,o]=T.useState({containerWidth:VC((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:VC((n=t.style)===null||n===void 0?void 0:n.height)}),c=T.useCallback((l,d)=>{o(f=>{var m=Math.round(l),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),u=T.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=l.getBoundingClientRect();c(d,f);var m=g=>{var x=g[0];if(x!=null){var{width:y,height:w}=x.contentRect;c(y,w)}},p=new ResizeObserver(m);p.observe(l),i.current=p}},[e,c]);return T.useEffect(()=>()=>{var l=i.current;l?.disconnect()},[c]),T.createElement(T.Fragment,null,T.createElement(Y2,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",P0({ref:u},t)))}),uPe=T.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=T.useState({containerWidth:VC(r),containerHeight:VC(n)}),o=T.useCallback((u,l)=>{a(d=>{var f=Math.round(u),m=Math.round(l);return d.containerWidth===f&&d.containerHeight===m?d:{containerWidth:f,containerHeight:m}})},[]),c=T.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:l,height:d}=u.getBoundingClientRect();o(l,d)}},[e,o]);return T.createElement(T.Fragment,null,T.createElement(Y2,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",P0({ref:c},t)))}),dPe=T.forwardRef((t,e)=>{var{width:r,height:n}=t;return T.createElement(T.Fragment,null,T.createElement(Y2,{width:r,height:n}),T.createElement("div",P0({ref:e},t)))}),hPe=T.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?T.createElement(uPe,P0({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?T.createElement(dPe,P0({},t,{width:r,height:n,ref:e})):T.createElement(T.Fragment,null,T.createElement(Y2,{width:r,height:n}),T.createElement("div",P0({ref:e},t)))});function fPe(t){return t?cPe:hPe}var mPe=T.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:l,onMouseLeave:d,onMouseMove:f,onMouseUp:m,onTouchEnd:p,onTouchMove:g,onTouchStart:x,style:y,width:w,responsive:E,dispatchTouchEvents:_=!0}=t,N=T.useRef(null),C=Al(),[I,D]=T.useState(null),[M,Y]=T.useState(null),X=nPe(),te=CD(),de=te?.width>0?te.width:w,ye=te?.height>0?te.height:i,we=T.useCallback(Ue=>{X(Ue),typeof e=="function"&&e(Ue),D(Ue),Y(Ue),Ue!=null&&(N.current=Ue)},[X,e,D,Y]),ve=T.useCallback(Ue=>{C(Jre(Ue)),C(Kf({handler:a,reactEvent:Ue}))},[C,a]),ne=T.useCallback(Ue=>{C(iO(Ue)),C(Kf({handler:l,reactEvent:Ue}))},[C,l]),ae=T.useCallback(Ue=>{C(Ote()),C(Kf({handler:d,reactEvent:Ue}))},[C,d]),oe=T.useCallback(Ue=>{C(iO(Ue)),C(Kf({handler:f,reactEvent:Ue}))},[C,f]),Re=T.useCallback(()=>{C(sne())},[C]),Pe=T.useCallback(Ue=>{C(ine(Ue.key))},[C]),be=T.useCallback(Ue=>{C(Kf({handler:o,reactEvent:Ue}))},[C,o]),he=T.useCallback(Ue=>{C(Kf({handler:c,reactEvent:Ue}))},[C,c]),Ie=T.useCallback(Ue=>{C(Kf({handler:u,reactEvent:Ue}))},[C,u]),Oe=T.useCallback(Ue=>{C(Kf({handler:m,reactEvent:Ue}))},[C,m]),$e=T.useCallback(Ue=>{C(Kf({handler:x,reactEvent:Ue}))},[C,x]),De=T.useCallback(Ue=>{_&&C(one(Ue)),C(Kf({handler:g,reactEvent:Ue}))},[C,_,g]),ct=T.useCallback(Ue=>{C(Kf({handler:p,reactEvent:Ue}))},[C,p]),pt=fPe(E);return T.createElement(tre.Provider,{value:I},T.createElement(mZ.Provider,{value:M},T.createElement(pt,{width:de??y?.width,height:ye??y?.height,className:Sa("recharts-wrapper",n),style:iPe({position:"relative",cursor:"default",width:de,height:ye},y),onClick:ve,onContextMenu:be,onDoubleClick:he,onFocus:Re,onKeyDown:Pe,onMouseDown:Ie,onMouseEnter:ne,onMouseLeave:ae,onMouseMove:oe,onMouseUp:Oe,onTouchEnd:ct,onTouchMove:De,onTouchStart:$e,ref:we},T.createElement(lPe,null),r)))}),APe=["width","height","responsive","children","className","style","compact","title","desc"];function pPe(t,e){if(t==null)return{};var r,n,i=gPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hne=T.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:c,compact:u,title:l,desc:d}=t,f=pPe(t,APe),m=wu(f);return u?T.createElement(T.Fragment,null,T.createElement(Y2,{width:r,height:n}),T.createElement(EV,{otherAttributes:m,title:l,desc:d},a)):T.createElement(mPe,{className:o,style:c,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(EV,{otherAttributes:m,title:l,desc:d,ref:e},T.createElement(rLe,null,a)))});function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sO.apply(null,arguments)}var vPe={top:5,right:5,bottom:5,left:5},xPe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vPe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},yPe=T.forwardRef(function(e,r){var n,i=Hc(e.categoricalChartProps,xPe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:l}=e,d={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return T.createElement(cne,{preloadedState:{options:d},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},T.createElement(Ure,{chartData:l.data}),T.createElement(une,{layout:i.layout,margin:i.margin}),T.createElement(dne,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(hne,sO({},i,{ref:r})))}),bPe=["axis","item"],fne=T.forwardRef((t,e)=>T.createElement(yPe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bPe,tooltipPayloadSearcher:QM,categoricalChartProps:t,ref:e}));function wPe(t){var e=Al();return T.useEffect(()=>{e(zBe(t))},[e,t]),null}var EPe=["layout"];function aO(){return aO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aO.apply(null,arguments)}function _Pe(t,e){if(t==null)return{};var r,n,i=SPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function SPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var jPe={top:5,right:5,bottom:5,left:5},mF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jPe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},mne=T.forwardRef(function(e,r){var n,i=Hc(e.categoricalChartProps,mF),{layout:a}=i,o=_Pe(i,EPe),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:d}=e,f={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:l,tooltipPayloadSearcher:d,eventEmitter:void 0};return T.createElement(cne,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},T.createElement(Ure,{chartData:i.data}),T.createElement(une,{layout:a,margin:i.margin}),T.createElement(dne,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),T.createElement(wPe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),T.createElement(hne,aO({},o,{ref:r})))});function SV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(r),!0).forEach(function(n){TPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TPe(t,e,r){return(e=CPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CPe(t){var e=NPe(t,"string");return typeof e=="symbol"?e:e+""}function NPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kPe=["item"],LPe=jV(jV({},mF),{},{layout:"centric",startAngle:0,endAngle:360}),IPe=T.forwardRef((t,e)=>{var r=Hc(t,LPe);return T.createElement(mne,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kPe,tooltipPayloadSearcher:QM,categoricalChartProps:r,ref:e})});function TV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(r),!0).forEach(function(n){BPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BPe(t,e,r){return(e=PPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PPe(t){var e=OPe(t,"string");return typeof e=="symbol"?e:e+""}function OPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RPe=["axis"],DPe=CV(CV({},mF),{},{layout:"centric",startAngle:90,endAngle:-270}),MPe=T.forwardRef((t,e)=>{var r=Hc(t,DPe);return T.createElement(mne,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RPe,tooltipPayloadSearcher:QM,categoricalChartProps:r,ref:e})});const FPe=[{name:"Custom Fight Banner Graphics",price:"$650",avgPrice:650,icon:L0,description:"Custom graphics for all athletes created day-of from registration photos",features:["Professional athlete intro graphics","Fight card overlays","Social media ready formats","Same-day delivery"]},{name:"Professional Event Photography",price:"$1,000",avgPrice:1e3,icon:PE,description:"Dedicated photographer capturing every moment of your event",features:["Full event coverage","Match action shots","Winners & awards ceremony","Crowd atmosphere shots","Complete digital gallery"]},{name:"Individual Fight/Match Recordings",price:"$750",avgPrice:750,icon:Eh,description:"Every fight delivered as a standalone clip  perfect for athletes, coaches, and social media",features:["Individual recording of every fight/match","Clean cuts with walkout to decision","Athlete-ready format for social sharing","YouTube-ready individual uploads","7-day delivery"]},{name:"Premium Camera Setup",price:"$2,000",avgPrice:2e3,icon:PE,description:"Upgrade to broadcast-grade multi-camera production",features:["3-4 cinema-grade cameras","PTZ cameras for dynamic angles","Professional live switching","Instant replay capability","Broadcast graphics integration"]},{name:"Social Media Content Package",price:"$1,500",avgPrice:1500,icon:nm,description:"Comprehensive content strategy for maximum reach",features:["5-10 social clips","Event highlight reel (3-5 min)","Short-form vertical edits for Reels/TikTok","Same-day highlight delivery"]},{name:"Ongoing Content Strategy",price:"$3,000",avgPrice:3e3,priceDetail:"per month",icon:Eq,description:"Monthly content calendar and audience growth strategy",features:["Monthly content calendar","Audience growth strategy","Between-event content","Analytics & optimization","Dedicated account manager"]}],UPe=t=>t==="Major"?["Professional broadcast production (3-4 cameras with PTZ)","Complete PPV/streaming setup and management","Full show recording","Custom fight banner graphics for all athletes","Professional event photography","3 social media highlight clips","Revenue share: You earn from every PPV sale"]:t==="Established"?["Professional live stream production (2-3 cameras)","Complete PPV/streaming setup and management","Full show recording","Custom fight banner graphics for all athletes","1 social media highlight clip","Revenue share: You earn from every PPV sale"]:["Professional live stream production (1-2 cameras)","Complete PPV/streaming setup and management","Full show recording","1 social media highlight clip","Revenue share: You earn from every PPV sale"],$Pe={Grassroots:[],Regional:[],Established:["Custom Fight Banner Graphics"],Major:["Custom Fight Banner Graphics","Professional Event Photography","Premium Camera Setup"]},NV=t=>t==="Major"?[{name:"Essentials Package",price:"$1,500",features:["Individual Fight/Match Recordings ($750 value)","Social Media Content Package  5-10 clips ($1,500 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package"],bestFor:"Major promotions wanting athlete-ready content",popular:!1},{name:"Professional Package",price:"$3,000",features:["Everything in Essentials","Ongoing Content Strategy  1 month ($3,000 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Ongoing Content Strategy"],bestFor:"Promotions building a year-round content engine",popular:!0},{name:"Broadcast Package",price:"$4,500",features:["Everything in Professional","Priority scheduling","Dedicated account manager","Between-event content creation"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Ongoing Content Strategy"],bestFor:"Elite promotions wanting a full media partnership",popular:!1}]:t==="Established"?[{name:"Essentials Package",price:"$2,000",features:["Individual Fight/Match Recordings ($750 value)","Social Media Content Package  5-10 clips ($1,500 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package"],bestFor:"Established promotions adding content to their toolkit",popular:!1},{name:"Professional Package",price:"$3,500",features:["Everything in Essentials","Professional Event Photography ($1,000 value)","Premium Camera Setup ($2,000 value)"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Professional Event Photography","Premium Camera Setup"],bestFor:"Promotions ready for broadcast-quality production",popular:!0},{name:"Broadcast Package",price:"$5,500",features:["Everything in Professional","Ongoing Content Strategy  1 month ($3,000 value)","Priority scheduling"],addOns:["Individual Fight/Match Recordings","Social Media Content Package","Professional Event Photography","Premium Camera Setup","Ongoing Content Strategy"],bestFor:"Promotions dominating their market with full media support",popular:!1}]:[{name:"Essentials Package",price:"$2,500",features:["Custom Fight Banner Graphics ($650 value)","Individual Fight/Match Recordings ($750 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings"],bestFor:"Grassroots promotions building their brand",popular:!1},{name:"Professional Package",price:"$4,000",features:["Everything in Essentials","Professional Event Photography ($1,000 value)","Social Media Content Package ($1,500 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings","Professional Event Photography","Social Media Content Package"],bestFor:"Growing promotions ready to scale",popular:!0},{name:"Broadcast Package",price:"$6,500",features:["Everything in Professional","Premium Camera Setup ($2,000 value)","Ongoing Content Strategy  1 month ($3,000 value)"],addOns:["Custom Fight Banner Graphics","Individual Fight/Match Recordings","Professional Event Photography","Social Media Content Package","Premium Camera Setup","Ongoing Content Strategy"],bestFor:"Established promotions dominating their market",popular:!1}],HPe=t=>t==="Major"?"All packages build on your premium base offer  which already includes broadcast production, photography, banner graphics, and PPV revenue share at zero cost":t==="Established"?"All packages build on your enhanced base offer  which already includes professional production, banner graphics, and PPV revenue share at zero cost":"All packages include our zero-cost live production + PPV revenue share as the base service",kV=t=>t==="Major"?"Your Major tier includes broadcast production, photography, banner graphics, and PPV revenue share at no extra cost. These packages add even more on top of your premium base offer.":t==="Established"?"Your Established tier includes banner graphics at no extra cost. These packages add even more on top of your enhanced base offer.":null,QPe=({formData:t,analysis:e,nextStep:r,prevStep:n,selectedAddOns:i=[],setSelectedAddOns:a})=>{const[o,c]=T.useState(null),[u,l]=T.useState(!1),[d,f]=T.useState(null),[m,p]=T.useState(t.showsPerYear),g=e?.potentialStreamingRevenue?.expectedPurchases||Math.round((e?.potentialStreamingRevenue?.viewerEstimate||200)*.6),[x,y]=T.useState(g),[w,E]=T.useState(25);if(!e)return s.jsx("section",{className:"min-h-screen py-20 px-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-400",children:"No analysis available. Please complete the profile form."}),s.jsx("button",{onClick:n,className:"mt-6 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all",children:"Go Back"})]})});const _=[{metric:"Event Frequency",value:Math.min(t.showsPerYear/12*100,100)},{metric:"Audience Size",value:Math.min(t.avgAttendance/1e3*100,100)},{metric:"Social Reach",value:Math.min(t.socialFollowing/1e5*100,100)},{metric:"Venue Scale",value:Math.min(t.venueCapacity/2e3*100,100)},{metric:"Growth",value:t.growthTrajectory==="rapidly-growing"?100:t.growthTrajectory==="growing"?85:t.growthTrajectory==="stable"?60:30}],N={Grassroots:"from-green-600 to-emerald-600",Regional:"from-blue-600 to-cyan-600",Established:"from-purple-600 to-pink-600",Major:"from-amber-600 to-red-600"},C={Grassroots:"",Regional:"",Established:"",Major:""},I=Math.round(x*w),D=Math.round(I*.3),M=D*m,Y=te=>{if(i.includes(te)){if(a(i.filter(de=>de!==te)),d){const de=NV(e.tier).find(ye=>ye.name===d);de&&de.addOns.includes(te)&&f(null)}}else a([...i,te])},X=te=>{if(d===te.name)f(null),a(i.filter(de=>!te.addOns.includes(de)));else{f(te.name);const de=[...new Set([...i,...te.addOns])];a(de)}};return s.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[s.jsx(nm,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:s.jsx("span",{className:"text-gradient",children:"Your Analysis"})})]}),s.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:["Tailored recommendations for ",t.orgName]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 mb-6",children:[s.jsxs(Fr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:`bg-gradient-to-br ${N[e.tier]} rounded-xl p-6 sm:p-8 border-2 border-white/20 card-glow`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"text-5xl sm:text-6xl",children:C[e.tier]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white/90 mb-1",children:"Organization Tier"}),s.jsx("p",{className:"text-white/70 text-sm sm:text-base",children:"Your classification"})]})]}),s.jsx("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-white mb-4",children:e.tier}),s.jsxs("p",{className:"text-white/90 text-sm sm:text-base leading-relaxed",children:[e.tier==="Grassroots"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're building your foundation. Professional media coverage will help grow your audience and attract first sponsors.`,e.tier==="Regional"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're running a solid operation. Multi-camera production, live streaming, and sponsor packages will take you to the next level.`,e.tier==="Established"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're an established promotion. Broadcast-quality production with PPV capability and premium sponsor integration is your next move.`,e.tier==="Major"&&`With ${t.showsPerYear} event${t.showsPerYear>1?"s":""}/year and ${t.avgAttendance.toLocaleString()} average attendance, you're a major player. Full media partnerships, dedicated production teams, and broadcast-level media rights management are where the real value is.`]})]}),s.jsxs(Fr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-6 text-white",children:"Your Profile Metrics"}),s.jsx(dC,{width:"100%",height:280,children:s.jsxs(MPe,{data:_,children:[s.jsx(Ere,{stroke:"#374151"}),s.jsx(Sre,{dataKey:"metric",tick:{fill:"#9CA3AF",fontSize:11},className:"text-xs sm:text-sm"}),s.jsx(Fre,{name:"Score",dataKey:"value",stroke:"#F83B3B",fill:"#F83B3B",fillOpacity:.6})]})})]})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-gradient-to-br from-blue-900/20 to-cyan-900/20 border border-blue-700/40 rounded-xl p-6 sm:p-8 mb-8",children:[s.jsxs("button",{onClick:()=>l(!u),className:"w-full flex items-start gap-4 text-left",children:[s.jsx(nfe,{className:"w-8 h-8 sm:w-10 sm:h-10 text-blue-400 flex-shrink-0"}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"Market Intelligence"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"What others at your tier are doing"})]}),u?s.jsx(MT,{className:"w-6 h-6 text-blue-400"}):s.jsx(px,{className:"w-6 h-6 text-blue-400"})]})})]}),u&&s.jsxs("div",{className:"space-y-3 mt-4",children:[e.tier==="Grassroots"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[s.jsx("strong",{className:"text-blue-300",children:"78% of grassroots promotions"})," still rely on phone footage  professional media is your competitive edge"]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Promotions that invest in media coverage see ",s.jsx("strong",{className:"text-blue-300",children:"2-3x faster audience growth"})]})]})]}),e.tier==="Regional"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[s.jsx("strong",{className:"text-blue-300",children:"62% of regional promotions"})," now offer live streaming  audiences expect it"]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Regional promotions with professional media attract ",s.jsx("strong",{className:"text-blue-300",children:"40% more sponsor interest"})]})]})]}),e.tier==="Established"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[s.jsx("strong",{className:"text-blue-300",children:"85% of established promotions"})," have moved to PPV  the question isn't if, but when"]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[s.jsx("strong",{className:"text-blue-300",children:"Top-tier media production is the #1 factor"})," sponsors cite when choosing event partnerships"]})]})]}),e.tier==="Major"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:["Major promotions with dedicated media teams generate ",s.jsx("strong",{className:"text-blue-300",children:"30-50% of revenue from content"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900/40 rounded-lg",children:[s.jsx("div",{className:"text-blue-400 text-xl",children:""}),s.jsxs("p",{className:"text-gray-200 text-sm sm:text-base",children:[s.jsx("strong",{className:"text-blue-300",children:"Broadcast-quality production is no longer a luxury"}),"  it's the baseline expectation"]})]})]})]})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(xx,{className:"w-10 h-10 sm:w-12 sm:h-12 text-amber-400 fill-amber-400"}),s.jsxs("h3",{className:"text-3xl sm:text-4xl font-black text-white",children:["Our Offer to ",t.orgName]})]}),s.jsxs("div",{className:"relative bg-gradient-to-br from-amber-600 via-orange-600 to-red-600 rounded-2xl p-8 sm:p-12 border-4 border-amber-400/50 card-glow overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full mb-6",children:[s.jsx(Kb,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"text-white font-bold text-sm",children:"ZERO-COST PRODUCTION"})]}),s.jsx("h4",{className:"text-4xl sm:text-5xl md:text-6xl font-black text-white mb-4 leading-tight",children:"Zero-Cost Live Stream Production"}),s.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl text-white/90 mb-8 font-bold",children:"We produce your event. You pay nothing. You earn revenue."}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsxs("h5",{className:"text-xl font-black text-white mb-4 flex items-center gap-2",children:[s.jsx(to,{className:"w-6 h-6"}),"What's Included FREE"]}),s.jsx("ul",{className:"space-y-3",children:UPe(e.tier).map((te,de)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(to,{className:"w-5 h-5 text-white flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-white text-sm sm:text-base",children:te})]},de))})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[s.jsx("h5",{className:"text-xl font-black text-white mb-4",children:"How It Works"}),s.jsx("div",{className:"space-y-4",children:[{num:"1",text:e.tier==="Major"?"We produce your event with a full broadcast setup (3-4 cameras, PTZ, photographer)":e.tier==="Established"?"We produce your event with professional multi-camera coverage (2-3 cameras, full setup)":"We produce your live stream (1-2 pro cameras, full setup)"},{num:"2",text:"Fans purchase PPV access ($20-$30 per viewer)"},{num:"3",text:"You earn from all PPV revenue  free money you weren't making before"}].map(te=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-white rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-black text-orange-600",children:te.num})}),s.jsx("p",{className:"text-white text-sm sm:text-base flex-1 mt-1",children:te.text})]},te.num))})]})]}),s.jsxs("div",{className:"bg-green-900/40 backdrop-blur-sm border-2 border-green-400 rounded-xl p-6 text-center",children:[s.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:["Your Production Cost: ",s.jsx("span",{className:"text-green-300",children:"$0"})]}),s.jsx("p",{className:"text-white/90 text-base sm:text-lg",children:"Zero upfront cost. Zero risk. Just professional streaming + revenue sharing."})]})]})]})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Aq,{className:"w-8 h-8 sm:w-10 sm:h-10 text-green-400"}),s.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white",children:"Your Revenue Projection"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg sm:text-xl font-bold text-white",children:"Your Numbers"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["Events Per Year: ",s.jsx("span",{className:"text-primary-500 text-lg font-bold",children:m})]}),s.jsx("input",{type:"range",min:"1",max:"24",value:m,onChange:te=>p(parseInt(te.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"1"}),s.jsx("span",{children:"24"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["Expected PPV Purchases: ",s.jsx("span",{className:"text-primary-500 text-lg font-bold",children:x.toLocaleString()})]}),s.jsx("input",{type:"range",min:"50",max:"2000",step:"25",value:x,onChange:te=>y(parseInt(te.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"50"}),s.jsx("span",{children:"2,000"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Reference: Small shows 100-250 | Medium 300-600 | Large 800-2000+"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold mb-3 text-gray-300",children:["PPV Price: ",s.jsxs("span",{className:"text-primary-500 text-lg font-bold",children:["$",w]})]}),s.jsx("input",{type:"range",min:"10",max:"50",step:"1",value:w,onChange:te=>E(parseInt(te.target.value)),className:"w-full h-3 accent-primary-600"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"$10"}),s.jsx("span",{children:"$50"})]})]}),s.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-600/50 rounded-lg",children:[s.jsx("p",{className:"text-green-300 text-sm font-semibold mb-2",children:" The Zero-Cost Advantage"}),s.jsxs("p",{className:"text-green-200 text-xs leading-relaxed",children:["Without professional streaming: ",s.jsx("strong",{children:"$0 PPV revenue."}),s.jsx("br",{}),"With us: ",s.jsxs("strong",{children:["$",M.toLocaleString(),"/year"]}),"  at zero cost to you."]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h4",{className:"text-lg sm:text-xl font-bold text-white flex items-center gap-3",children:[s.jsx(Wh,{className:"w-6 h-6 text-green-400"}),"Revenue Breakdown"]}),s.jsxs("div",{className:"p-5 bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-300 font-semibold mb-1",children:"Your Production Cost"}),s.jsx("p",{className:"text-4xl sm:text-5xl font-black text-green-400",children:"$0"}),s.jsx("p",{className:"text-xs text-green-300 mt-2",children:" Zero upfront investment required"})]}),s.jsxs("div",{className:"p-5 bg-dark-900 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Your Revenue Per Event"}),s.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-green-400",children:["$",D.toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Revenue from PPV sales  you weren't earning this before"})]}),s.jsxs("div",{className:"p-5 bg-gradient-to-br from-green-900/40 to-emerald-900/40 border-2 border-green-500 rounded-lg",children:[s.jsx("p",{className:"text-sm text-gray-300 font-semibold mb-1",children:"Your Annual Revenue"}),s.jsxs("p",{className:"text-3xl sm:text-4xl font-black text-green-400",children:["$",M.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["$",D.toLocaleString(),"  ",m," events"]})]}),s.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-700/50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-200 leading-relaxed",children:[" ",s.jsx("strong",{children:"100% Pure Profit:"})," Every dollar you earn is revenue you weren't generating before. Zero risk, zero cost, all upside. Plus the sponsor deals, ticket sales, and brand growth that come from professional streaming."]})})]})]})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.58},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(T0,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white",children:"Want Even More?"}),s.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Your free live stream is just the beginning. Upgrade your event with premium services."})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:FPe.filter(te=>!$Pe[e.tier]?.includes(te.name)).map((te,de)=>{const ye=o===te.name,we=i.includes(te.name),ve=te.icon;return s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*de},className:`bg-dark-800 border-2 rounded-xl overflow-hidden transition-all cursor-pointer ${we?"border-primary-600 bg-primary-900/20":"border-gray-700 hover:border-primary-600/50"}`,onClick:()=>Y(te.name),children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center ${we?"bg-primary-600":"bg-primary-600/20"}`,children:s.jsx(ve,{className:`w-6 h-6 ${we?"text-white":"text-primary-400"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("h4",{className:"text-lg font-bold text-white",children:te.name}),we&&s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:s.jsx(to,{className:"w-4 h-4 text-white"})})]}),s.jsx("p",{className:"text-primary-400 font-bold",children:te.price}),te.priceDetail&&s.jsx("p",{className:"text-gray-500 text-xs",children:te.priceDetail})]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:te.description}),s.jsx("div",{className:"space-y-2",children:te.features.slice(0,ye?te.features.length:3).map((ne,ae)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(to,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300 text-xs",children:ne})]},ae))}),te.features.length>3&&s.jsx("button",{onClick:ne=>{ne.stopPropagation(),c(ye?null:te.name)},className:"flex items-center gap-1 text-primary-500 hover:text-primary-400 font-semibold text-xs mt-3 transition-colors",children:ye?s.jsxs(s.Fragment,{children:[s.jsx(MT,{className:"w-4 h-4"}),"Show Less"]}):s.jsxs(s.Fragment,{children:[s.jsx(px,{className:"w-4 h-4"}),"Show All (",te.features.length,")"]})}),s.jsx("button",{onClick:ne=>{ne.stopPropagation(),Y(te.name)},className:`w-full mt-4 py-2 px-4 rounded-lg font-bold transition-colors ${we?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:we?" Selected":"Select"})]})},te.name)})}),kV(e.tier)&&s.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-900/20 to-emerald-900/20 border border-green-600/40 rounded-lg",children:s.jsxs("p",{className:"text-green-300 text-sm sm:text-base font-medium",children:[" ",kV(e.tier)]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:NV(e.tier).map((te,de)=>{const ye=d===te.name;return s.jsxs("div",{onClick:()=>X(te),className:`bg-dark-800 border-2 rounded-xl p-6 sm:p-8 flex flex-col cursor-pointer transition-all relative ${ye?"border-green-500 bg-green-900/20 ring-2 ring-green-500/30":te.popular?"border-primary-600 card-glow hover:border-primary-500":"border-gray-700 hover:border-primary-600/50"}`,children:[ye&&s.jsx("div",{className:"absolute -top-3 right-4",children:s.jsxs("div",{className:"inline-flex items-center gap-1 bg-green-500 px-3 py-1 rounded-full",children:[s.jsx(to,{className:"w-4 h-4 text-white"}),s.jsx("span",{className:"text-white font-bold text-xs",children:"SELECTED"})]})}),te.popular&&!ye&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsxs("div",{className:"inline-flex items-center gap-1 bg-primary-600 px-4 py-1 rounded-full",children:[s.jsx(xx,{className:"w-4 h-4 text-white fill-white"}),s.jsx("span",{className:"text-white font-bold text-xs",children:"MOST POPULAR"})]})}),s.jsxs("div",{className:`mb-6 ${te.popular||ye?"mt-2":""}`,children:[s.jsx("h4",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:te.name}),s.jsxs("div",{className:"flex items-baseline gap-1 mb-3",children:[s.jsx("span",{className:"text-3xl sm:text-4xl font-black text-primary-500",children:te.price}),s.jsx("span",{className:"text-gray-400 text-sm",children:"/event"})]})]}),s.jsx("ul",{className:"space-y-3 mb-6 flex-1",children:te.features.map((we,ve)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(to,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300 text-sm",children:we})]},ve))}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("p",{className:"text-xs text-gray-500 italic mb-4",children:["Best for: ",te.bestFor]}),s.jsx("button",{onClick:we=>{we.stopPropagation(),X(te)},className:`w-full py-3 px-4 rounded-lg font-bold transition-colors ${ye?"bg-green-600 hover:bg-green-700 text-white":"bg-primary-600 hover:bg-primary-700 text-white"}`,children:ye?" Package Selected":"Select Package"})]})]},te.name)})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:HPe(e.tier)})})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.62},className:"bg-gradient-to-br from-orange-900/30 to-red-900/30 border border-orange-700/50 rounded-xl p-6 sm:p-8 mb-8",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx(RB,{className:"w-8 h-8 sm:w-10 sm:h-10 text-orange-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-2",children:"What's It Costing You to NOT Have Professional Streaming?"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Every event without professional media is a missed opportunity"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Sponsor Deals Passing You By"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Brands partner with promotions that have professional content they can share"})]}),s.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"Audience Growth Stalling"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:"Fighters and fans choose events with the best media presence"})]}),s.jsxs("div",{className:"p-4 bg-dark-900/40 rounded-lg border border-orange-700/30",children:[s.jsx("div",{className:"text-3xl mb-2",children:""}),s.jsx("h4",{className:"font-bold text-white mb-2 text-sm sm:text-base",children:"PPV Revenue You're Missing"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-300",children:["$",M.toLocaleString(),"/year in free revenue you could be earning  at zero cost"]})]})]})]}),s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.66},className:"mb-6 p-6 sm:p-8 bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(I0,{className:"w-10 h-10 sm:w-12 sm:h-12 text-green-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-black text-white mb-3",children:"Our Guarantee"}),s.jsxs("p",{className:"text-base sm:text-lg text-gray-200 leading-relaxed",children:["If you're not completely satisfied with your first event's media package,",s.jsx("strong",{className:"text-green-300",children:" we'll re-edit the entire deliverable at no additional cost."})]}),s.jsx("p",{className:"text-sm text-green-400 mt-3 font-semibold",children:"Your success is our reputation. We stand behind our work."})]})]})}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"mb-8 p-5 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-600/50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full animate-pulse"}),s.jsx("p",{className:"text-amber-400 font-bold text-sm sm:text-base",children:"Production Slots Filling Fast"})]}),s.jsxs("p",{className:"text-gray-300 text-sm sm:text-base",children:["We produce 3 weekends per month and book 8-12 weeks ahead. ",s.jsx("strong",{className:"text-amber-300",children:"Q2 2026 currently has 4 available production slots remaining."})]})]}),s.jsxs("div",{className:"flex gap-3 sm:gap-4",children:[s.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[s.jsx(Y0,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s.jsxs("button",{onClick:r,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:["Get Your Proposal",s.jsx($h,{className:"w-5 h-5"})]})]})]})})},zPe=({contactData:t,updateContactData:e,formData:r,onSubmit:n,prevStep:i})=>{const[a,o]=T.useState(!1),[c,u]=T.useState(null),l=t.name.trim().length>0&&t.email.trim().length>0,d=async()=>{u(null),o(!0);try{await n()}catch(f){console.error("Error saving contact:",f),u("Something went wrong. Please try again.")}finally{o(!1)}};return s.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[s.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[s.jsx(Jp,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500"}),s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black",children:s.jsx("span",{className:"text-gradient",children:"Get Your Custom Proposal"})})]}),s.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-xl mx-auto",children:["We've built a personalized media strategy for ",s.jsx("span",{className:"text-primary-400 font-bold",children:r.orgName}),". Enter your details to receive your full proposal."]})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(Jp,{className:"w-4 h-4 text-primary-500"}),"Your Name ",s.jsx("span",{className:"text-primary-500",children:"*"})]})}),s.jsx("input",{type:"text",value:t.name,onChange:f=>e("name",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(nu,{className:"w-4 h-4 text-primary-500"}),"Email Address ",s.jsx("span",{className:"text-primary-500",children:"*"})]})}),s.jsx("input",{type:"email",value:t.email,onChange:f=>e("email",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"john@organization.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm sm:text-base font-semibold mb-3 text-gray-300",children:s.jsxs("span",{className:"inline-flex items-center gap-2",children:[s.jsx(vx,{className:"w-4 h-4 text-gray-500"}),"Phone Number ",s.jsx("span",{className:"text-gray-500 text-sm font-normal",children:"(optional)"})]})}),s.jsx("input",{type:"tel",value:t.phone,onChange:f=>e("phone",f.target.value),className:"w-full px-4 py-3 sm:py-4 bg-dark-900 border-2 border-gray-700 rounded-lg text-white text-base sm:text-lg focus:border-primary-600 focus:outline-none transition-colors",placeholder:"04XX XXX XXX (optional)"})]})]}),c&&s.jsx("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-lg text-red-200 text-sm",children:c}),s.jsxs("div",{className:"mt-6 flex items-start gap-3 p-4 bg-dark-900/50 rounded-lg",children:[s.jsx(I0,{className:"w-5 h-5 text-gray-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Your information is kept confidential and only used to prepare your custom proposal. We'll never share your details with third parties."})]}),s.jsxs("div",{className:"mt-8 flex gap-3",children:[s.jsxs("button",{onClick:i,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[s.jsx(Y0,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:d,disabled:!l||a,className:"flex-[2] flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:[a?"Saving...":"Continue",!a&&s.jsx($h,{className:"w-5 h-5"})]})]})]})]})})};var oI={exports:{}},gj={exports:{}};var VPe=gj.exports,LV;function KPe(){return LV||(LV=1,(function(t,e){(function(r,n){t.exports=n()})(VPe,(function(){var r=function(U,B){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,H){z.__proto__=H}||function(z,H){for(var ge in H)Object.prototype.hasOwnProperty.call(H,ge)&&(z[ge]=H[ge])},r(U,B)};function n(U,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");r(U,B);function z(){this.constructor=U}U.prototype=B===null?Object.create(B):(z.prototype=B.prototype,new z)}var i=function(){return i=Object.assign||function(B){for(var z,H=1,ge=arguments.length;H<ge;H++){z=arguments[H];for(var Ne in z)Object.prototype.hasOwnProperty.call(z,Ne)&&(B[Ne]=z[Ne])}return B},i.apply(this,arguments)};function a(U,B,z,H){function ge(Ne){return Ne instanceof z?Ne:new z(function(ze){ze(Ne)})}return new(z||(z=Promise))(function(Ne,ze){function dt(Zt){try{Ut(H.next(Zt))}catch(fr){ze(fr)}}function ht(Zt){try{Ut(H.throw(Zt))}catch(fr){ze(fr)}}function Ut(Zt){Zt.done?Ne(Zt.value):ge(Zt.value).then(dt,ht)}Ut((H=H.apply(U,[])).next())})}function o(U,B){var z={label:0,sent:function(){if(Ne[0]&1)throw Ne[1];return Ne[1]},trys:[],ops:[]},H,ge,Ne,ze;return ze={next:dt(0),throw:dt(1),return:dt(2)},typeof Symbol=="function"&&(ze[Symbol.iterator]=function(){return this}),ze;function dt(Ut){return function(Zt){return ht([Ut,Zt])}}function ht(Ut){if(H)throw new TypeError("Generator is already executing.");for(;z;)try{if(H=1,ge&&(Ne=Ut[0]&2?ge.return:Ut[0]?ge.throw||((Ne=ge.return)&&Ne.call(ge),0):ge.next)&&!(Ne=Ne.call(ge,Ut[1])).done)return Ne;switch(ge=0,Ne&&(Ut=[Ut[0]&2,Ne.value]),Ut[0]){case 0:case 1:Ne=Ut;break;case 4:return z.label++,{value:Ut[1],done:!1};case 5:z.label++,ge=Ut[1],Ut=[0];continue;case 7:Ut=z.ops.pop(),z.trys.pop();continue;default:if(Ne=z.trys,!(Ne=Ne.length>0&&Ne[Ne.length-1])&&(Ut[0]===6||Ut[0]===2)){z=0;continue}if(Ut[0]===3&&(!Ne||Ut[1]>Ne[0]&&Ut[1]<Ne[3])){z.label=Ut[1];break}if(Ut[0]===6&&z.label<Ne[1]){z.label=Ne[1],Ne=Ut;break}if(Ne&&z.label<Ne[2]){z.label=Ne[2],z.ops.push(Ut);break}Ne[2]&&z.ops.pop(),z.trys.pop();continue}Ut=B.call(U,z)}catch(Zt){Ut=[6,Zt],ge=0}finally{H=Ne=0}if(Ut[0]&5)throw Ut[1];return{value:Ut[0]?Ut[1]:void 0,done:!0}}}function c(U,B,z){if(arguments.length===2)for(var H=0,ge=B.length,Ne;H<ge;H++)(Ne||!(H in B))&&(Ne||(Ne=Array.prototype.slice.call(B,0,H)),Ne[H]=B[H]);return U.concat(Ne||B)}for(var u=(function(){function U(B,z,H,ge){this.left=B,this.top=z,this.width=H,this.height=ge}return U.prototype.add=function(B,z,H,ge){return new U(this.left+B,this.top+z,this.width+H,this.height+ge)},U.fromClientRect=function(B,z){return new U(z.left+B.windowBounds.left,z.top+B.windowBounds.top,z.width,z.height)},U.fromDOMRectList=function(B,z){var H=Array.from(z).find(function(ge){return ge.width!==0});return H?new U(H.left+B.windowBounds.left,H.top+B.windowBounds.top,H.width,H.height):U.EMPTY},U.EMPTY=new U(0,0,0,0),U})(),l=function(U,B){return u.fromClientRect(U,B.getBoundingClientRect())},d=function(U){var B=U.body,z=U.documentElement;if(!B||!z)throw new Error("Unable to get document size");var H=Math.max(Math.max(B.scrollWidth,z.scrollWidth),Math.max(B.offsetWidth,z.offsetWidth),Math.max(B.clientWidth,z.clientWidth)),ge=Math.max(Math.max(B.scrollHeight,z.scrollHeight),Math.max(B.offsetHeight,z.offsetHeight),Math.max(B.clientHeight,z.clientHeight));return new u(0,0,H,ge)},f=function(U){for(var B=[],z=0,H=U.length;z<H;){var ge=U.charCodeAt(z++);if(ge>=55296&&ge<=56319&&z<H){var Ne=U.charCodeAt(z++);(Ne&64512)===56320?B.push(((ge&1023)<<10)+(Ne&1023)+65536):(B.push(ge),z--)}else B.push(ge)}return B},m=function(){for(var U=[],B=0;B<arguments.length;B++)U[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,U);var z=U.length;if(!z)return"";for(var H=[],ge=-1,Ne="";++ge<z;){var ze=U[ge];ze<=65535?H.push(ze):(ze-=65536,H.push((ze>>10)+55296,ze%1024+56320)),(ge+1===z||H.length>16384)&&(Ne+=String.fromCharCode.apply(String,H),H.length=0)}return Ne},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=typeof Uint8Array>"u"?[]:new Uint8Array(256),x=0;x<p.length;x++)g[p.charCodeAt(x)]=x;for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=typeof Uint8Array>"u"?[]:new Uint8Array(256),E=0;E<y.length;E++)w[y.charCodeAt(E)]=E;for(var _=function(U){var B=U.length*.75,z=U.length,H,ge=0,Ne,ze,dt,ht;U[U.length-1]==="="&&(B--,U[U.length-2]==="="&&B--);var Ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),Zt=Array.isArray(Ut)?Ut:new Uint8Array(Ut);for(H=0;H<z;H+=4)Ne=w[U.charCodeAt(H)],ze=w[U.charCodeAt(H+1)],dt=w[U.charCodeAt(H+2)],ht=w[U.charCodeAt(H+3)],Zt[ge++]=Ne<<2|ze>>4,Zt[ge++]=(ze&15)<<4|dt>>2,Zt[ge++]=(dt&3)<<6|ht&63;return Ut},N=function(U){for(var B=U.length,z=[],H=0;H<B;H+=2)z.push(U[H+1]<<8|U[H]);return z},C=function(U){for(var B=U.length,z=[],H=0;H<B;H+=4)z.push(U[H+3]<<24|U[H+2]<<16|U[H+1]<<8|U[H]);return z},I=5,D=11,M=2,Y=D-I,X=65536>>I,te=1<<I,de=te-1,ye=1024>>I,we=X+ye,ve=we,ne=32,ae=ve+ne,oe=65536>>D,Re=1<<Y,Pe=Re-1,be=function(U,B,z){return U.slice?U.slice(B,z):new Uint16Array(Array.prototype.slice.call(U,B,z))},he=function(U,B,z){return U.slice?U.slice(B,z):new Uint32Array(Array.prototype.slice.call(U,B,z))},Ie=function(U,B){var z=_(U),H=Array.isArray(z)?C(z):new Uint32Array(z),ge=Array.isArray(z)?N(z):new Uint16Array(z),Ne=24,ze=be(ge,Ne/2,H[4]/2),dt=H[5]===2?be(ge,(Ne+H[4])/2):he(H,Math.ceil((Ne+H[4])/4));return new Oe(H[0],H[1],H[2],H[3],ze,dt)},Oe=(function(){function U(B,z,H,ge,Ne,ze){this.initialValue=B,this.errorValue=z,this.highStart=H,this.highValueIndex=ge,this.index=Ne,this.data=ze}return U.prototype.get=function(B){var z;if(B>=0){if(B<55296||B>56319&&B<=65535)return z=this.index[B>>I],z=(z<<M)+(B&de),this.data[z];if(B<=65535)return z=this.index[X+(B-55296>>I)],z=(z<<M)+(B&de),this.data[z];if(B<this.highStart)return z=ae-oe+(B>>D),z=this.index[z],z+=B>>I&Pe,z=this.index[z],z=(z<<M)+(B&de),this.data[z];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},U})(),$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",De=typeof Uint8Array>"u"?[]:new Uint8Array(256),ct=0;ct<$e.length;ct++)De[$e.charCodeAt(ct)]=ct;var pt="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ue=50,He=1,Ye=2,Se=3,mt=4,qe=5,Tt=7,bt=8,gt=9,wt=10,rr=11,Jt=12,ar=13,Dr=14,mn=15,$r=16,or=17,vr=18,cn=19,bn=20,Un=21,st=22,Ht=23,Lr=24,tr=25,Qt=26,dr=27,Wr=28,Jr=29,kn=30,un=31,Yn=32,on=33,Vr=34,xn=35,An=36,Mn=37,ci=38,Cs=39,Ms=40,Ns=41,ti=42,dn=43,as=[9001,65288],ta="!",Tn="",Ln="",Fs=Ie(pt),Qs=[kn,An],Us=[He,Ye,Se,qe],rs=[wt,bt],qs=[dr,Qt],Rs=Us.concat(rs),Qa=[ci,Cs,Ms,Vr,xn],hs=[mn,ar],_u=function(U,B){B===void 0&&(B="strict");var z=[],H=[],ge=[];return U.forEach(function(Ne,ze){var dt=Fs.get(Ne);if(dt>Ue?(ge.push(!0),dt-=Ue):ge.push(!1),["normal","auto","loose"].indexOf(B)!==-1&&[8208,8211,12316,12448].indexOf(Ne)!==-1)return H.push(ze),z.push($r);if(dt===mt||dt===rr){if(ze===0)return H.push(ze),z.push(kn);var ht=z[ze-1];return Rs.indexOf(ht)===-1?(H.push(H[ze-1]),z.push(ht)):(H.push(ze),z.push(kn))}if(H.push(ze),dt===un)return z.push(B==="strict"?Un:Mn);if(dt===ti||dt===Jr)return z.push(kn);if(dt===dn)return Ne>=131072&&Ne<=196605||Ne>=196608&&Ne<=262141?z.push(Mn):z.push(kn);z.push(dt)}),[H,z,ge]},ro=function(U,B,z,H){var ge=H[z];if(Array.isArray(U)?U.indexOf(ge)!==-1:U===ge)for(var Ne=z;Ne<=H.length;){Ne++;var ze=H[Ne];if(ze===B)return!0;if(ze!==wt)break}if(ge===wt)for(var Ne=z;Ne>0;){Ne--;var dt=H[Ne];if(Array.isArray(U)?U.indexOf(dt)!==-1:U===dt)for(var ht=z;ht<=H.length;){ht++;var ze=H[ht];if(ze===B)return!0;if(ze!==wt)break}if(dt!==wt)break}return!1},$l=function(U,B){for(var z=U;z>=0;){var H=B[z];if(H===wt)z--;else return H}return 0},su=function(U,B,z,H,ge){if(z[H]===0)return Tn;var Ne=H-1;if(Array.isArray(ge)&&ge[Ne]===!0)return Tn;var ze=Ne-1,dt=Ne+1,ht=B[Ne],Ut=ze>=0?B[ze]:0,Zt=B[dt];if(ht===Ye&&Zt===Se)return Tn;if(Us.indexOf(ht)!==-1)return ta;if(Us.indexOf(Zt)!==-1||rs.indexOf(Zt)!==-1)return Tn;if($l(Ne,B)===bt)return Ln;if(Fs.get(U[Ne])===rr||(ht===Yn||ht===on)&&Fs.get(U[dt])===rr||ht===Tt||Zt===Tt||ht===gt||[wt,ar,mn].indexOf(ht)===-1&&Zt===gt||[or,vr,cn,Lr,Wr].indexOf(Zt)!==-1||$l(Ne,B)===st||ro(Ht,st,Ne,B)||ro([or,vr],Un,Ne,B)||ro(Jt,Jt,Ne,B))return Tn;if(ht===wt)return Ln;if(ht===Ht||Zt===Ht)return Tn;if(Zt===$r||ht===$r)return Ln;if([ar,mn,Un].indexOf(Zt)!==-1||ht===Dr||Ut===An&&hs.indexOf(ht)!==-1||ht===Wr&&Zt===An||Zt===bn||Qs.indexOf(Zt)!==-1&&ht===tr||Qs.indexOf(ht)!==-1&&Zt===tr||ht===dr&&[Mn,Yn,on].indexOf(Zt)!==-1||[Mn,Yn,on].indexOf(ht)!==-1&&Zt===Qt||Qs.indexOf(ht)!==-1&&qs.indexOf(Zt)!==-1||qs.indexOf(ht)!==-1&&Qs.indexOf(Zt)!==-1||[dr,Qt].indexOf(ht)!==-1&&(Zt===tr||[st,mn].indexOf(Zt)!==-1&&B[dt+1]===tr)||[st,mn].indexOf(ht)!==-1&&Zt===tr||ht===tr&&[tr,Wr,Lr].indexOf(Zt)!==-1)return Tn;if([tr,Wr,Lr,or,vr].indexOf(Zt)!==-1)for(var fr=Ne;fr>=0;){var zr=B[fr];if(zr===tr)return Tn;if([Wr,Lr].indexOf(zr)!==-1)fr--;else break}if([dr,Qt].indexOf(Zt)!==-1)for(var fr=[or,vr].indexOf(ht)!==-1?ze:Ne;fr>=0;){var zr=B[fr];if(zr===tr)return Tn;if([Wr,Lr].indexOf(zr)!==-1)fr--;else break}if(ci===ht&&[ci,Cs,Vr,xn].indexOf(Zt)!==-1||[Cs,Vr].indexOf(ht)!==-1&&[Cs,Ms].indexOf(Zt)!==-1||[Ms,xn].indexOf(ht)!==-1&&Zt===Ms||Qa.indexOf(ht)!==-1&&[bn,Qt].indexOf(Zt)!==-1||Qa.indexOf(Zt)!==-1&&ht===dr||Qs.indexOf(ht)!==-1&&Qs.indexOf(Zt)!==-1||ht===Lr&&Qs.indexOf(Zt)!==-1||Qs.concat(tr).indexOf(ht)!==-1&&Zt===st&&as.indexOf(U[dt])===-1||Qs.concat(tr).indexOf(Zt)!==-1&&ht===vr)return Tn;if(ht===Ns&&Zt===Ns){for(var Gn=z[Ne],wn=1;Gn>0&&(Gn--,B[Gn]===Ns);)wn++;if(wn%2!==0)return Tn}return ht===Yn&&Zt===on?Tn:Ln},pl=function(U,B){B||(B={lineBreak:"normal",wordBreak:"normal"});var z=_u(U,B.lineBreak),H=z[0],ge=z[1],Ne=z[2];(B.wordBreak==="break-all"||B.wordBreak==="break-word")&&(ge=ge.map(function(dt){return[tr,kn,ti].indexOf(dt)!==-1?Mn:dt}));var ze=B.wordBreak==="keep-all"?Ne.map(function(dt,ht){return dt&&U[ht]>=19968&&U[ht]<=40959}):void 0;return[H,ge,ze]},ra=(function(){function U(B,z,H,ge){this.codePoints=B,this.required=z===ta,this.start=H,this.end=ge}return U.prototype.slice=function(){return m.apply(void 0,this.codePoints.slice(this.start,this.end))},U})(),Ya=function(U,B){var z=f(U),H=pl(z,B),ge=H[0],Ne=H[1],ze=H[2],dt=z.length,ht=0,Ut=0;return{next:function(){if(Ut>=dt)return{done:!0,value:null};for(var Zt=Tn;Ut<dt&&(Zt=su(z,Ne,ge,++Ut,ze))===Tn;);if(Zt!==Tn||Ut===dt){var fr=new ra(z,Zt,ht,Ut);return ht=Ut,{value:fr,done:!1}}return{done:!0,value:null}}}},Ws=1,ba=2,$s=4,Il=8,vo=10,no=47,gl=92,Hl=9,pc=32,zs=34,ui=61,ks=35,ja=36,za=37,Ta=39,vi=40,ei=41,fs=95,wa=45,Qo=33,Hi=60,zo=62,Ea=64,Xs=91,ms=93,jo=61,Va=123,Vs=63,qa=125,xo=124,io=126,Vo=128,zt=65533,V=42,se=43,ce=44,$=58,K=59,ie=46,me=0,je=8,Qe=11,ut=14,P=31,k=127,F=-1,G=48,Z=97,re=101,xe=102,fe=117,Ae=122,ke=65,Ve=69,Je=70,lt=85,Te=90,jt=function(U){return U>=G&&U<=57},ot=function(U){return U>=55296&&U<=57343},Nt=function(U){return jt(U)||U>=ke&&U<=Je||U>=Z&&U<=xe},nt=function(U){return U>=Z&&U<=Ae},Ot=function(U){return U>=ke&&U<=Te},qt=function(U){return nt(U)||Ot(U)},It=function(U){return U>=Vo},rt=function(U){return U===vo||U===Hl||U===pc},Kt=function(U){return qt(U)||It(U)||U===fs},Nr=function(U){return Kt(U)||jt(U)||U===wa},lr=function(U){return U>=me&&U<=je||U===Qe||U>=ut&&U<=P||U===k},Mt=function(U,B){return U!==gl?!1:B!==vo},_r=function(U,B,z){return U===wa?Kt(B)||Mt(B,z):Kt(U)?!0:!!(U===gl&&Mt(U,B))},at=function(U,B,z){return U===se||U===wa?jt(B)?!0:B===ie&&jt(z):jt(U===ie?B:U)},At=function(U){var B=0,z=1;(U[B]===se||U[B]===wa)&&(U[B]===wa&&(z=-1),B++);for(var H=[];jt(U[B]);)H.push(U[B++]);var ge=H.length?parseInt(m.apply(void 0,H),10):0;U[B]===ie&&B++;for(var Ne=[];jt(U[B]);)Ne.push(U[B++]);var ze=Ne.length,dt=ze?parseInt(m.apply(void 0,Ne),10):0;(U[B]===Ve||U[B]===re)&&B++;var ht=1;(U[B]===se||U[B]===wa)&&(U[B]===wa&&(ht=-1),B++);for(var Ut=[];jt(U[B]);)Ut.push(U[B++]);var Zt=Ut.length?parseInt(m.apply(void 0,Ut),10):0;return z*(ge+dt*Math.pow(10,-ze))*Math.pow(10,ht*Zt)},Rt={type:2},Dt={type:3},xr={type:4},Br={type:13},Mr={type:8},ur={type:21},Rr={type:9},gn={type:10},an={type:11},Xe={type:12},Ct={type:14},Lt={type:23},Wt={type:1},Xt={type:25},mr={type:24},Pr={type:26},Ir={type:27},Zr={type:28},pn={type:29},jn={type:31},Fn={type:32},yi=(function(){function U(){this._value=[]}return U.prototype.write=function(B){this._value=this._value.concat(f(B))},U.prototype.read=function(){for(var B=[],z=this.consumeToken();z!==Fn;)B.push(z),z=this.consumeToken();return B},U.prototype.consumeToken=function(){var B=this.consumeCodePoint();switch(B){case zs:return this.consumeStringToken(zs);case ks:var z=this.peekCodePoint(0),H=this.peekCodePoint(1),ge=this.peekCodePoint(2);if(Nr(z)||Mt(H,ge)){var Ne=_r(z,H,ge)?ba:Ws,ze=this.consumeName();return{type:5,value:ze,flags:Ne}}break;case ja:if(this.peekCodePoint(0)===ui)return this.consumeCodePoint(),Br;break;case Ta:return this.consumeStringToken(Ta);case vi:return Rt;case ei:return Dt;case V:if(this.peekCodePoint(0)===ui)return this.consumeCodePoint(),Ct;break;case se:if(at(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case ce:return xr;case wa:var dt=B,ht=this.peekCodePoint(0),Ut=this.peekCodePoint(1);if(at(dt,ht,Ut))return this.reconsumeCodePoint(B),this.consumeNumericToken();if(_r(dt,ht,Ut))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();if(ht===wa&&Ut===zo)return this.consumeCodePoint(),this.consumeCodePoint(),mr;break;case ie:if(at(B,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(B),this.consumeNumericToken();break;case no:if(this.peekCodePoint(0)===V)for(this.consumeCodePoint();;){var Zt=this.consumeCodePoint();if(Zt===V&&(Zt=this.consumeCodePoint(),Zt===no))return this.consumeToken();if(Zt===F)return this.consumeToken()}break;case $:return Pr;case K:return Ir;case Hi:if(this.peekCodePoint(0)===Qo&&this.peekCodePoint(1)===wa&&this.peekCodePoint(2)===wa)return this.consumeCodePoint(),this.consumeCodePoint(),Xt;break;case Ea:var fr=this.peekCodePoint(0),zr=this.peekCodePoint(1),Gn=this.peekCodePoint(2);if(_r(fr,zr,Gn)){var ze=this.consumeName();return{type:7,value:ze}}break;case Xs:return Zr;case gl:if(Mt(B,this.peekCodePoint(0)))return this.reconsumeCodePoint(B),this.consumeIdentLikeToken();break;case ms:return pn;case jo:if(this.peekCodePoint(0)===ui)return this.consumeCodePoint(),Mr;break;case Va:return an;case qa:return Xe;case fe:case lt:var wn=this.peekCodePoint(0),Dn=this.peekCodePoint(1);return wn===se&&(Nt(Dn)||Dn===Vs)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(B),this.consumeIdentLikeToken();case xo:if(this.peekCodePoint(0)===ui)return this.consumeCodePoint(),Rr;if(this.peekCodePoint(0)===xo)return this.consumeCodePoint(),ur;break;case io:if(this.peekCodePoint(0)===ui)return this.consumeCodePoint(),gn;break;case F:return Fn}return rt(B)?(this.consumeWhiteSpace(),jn):jt(B)?(this.reconsumeCodePoint(B),this.consumeNumericToken()):Kt(B)?(this.reconsumeCodePoint(B),this.consumeIdentLikeToken()):{type:6,value:m(B)}},U.prototype.consumeCodePoint=function(){var B=this._value.shift();return typeof B>"u"?-1:B},U.prototype.reconsumeCodePoint=function(B){this._value.unshift(B)},U.prototype.peekCodePoint=function(B){return B>=this._value.length?-1:this._value[B]},U.prototype.consumeUnicodeRangeToken=function(){for(var B=[],z=this.consumeCodePoint();Nt(z)&&B.length<6;)B.push(z),z=this.consumeCodePoint();for(var H=!1;z===Vs&&B.length<6;)B.push(z),z=this.consumeCodePoint(),H=!0;if(H){var ge=parseInt(m.apply(void 0,B.map(function(ht){return ht===Vs?G:ht})),16),Ne=parseInt(m.apply(void 0,B.map(function(ht){return ht===Vs?Je:ht})),16);return{type:30,start:ge,end:Ne}}var ze=parseInt(m.apply(void 0,B),16);if(this.peekCodePoint(0)===wa&&Nt(this.peekCodePoint(1))){this.consumeCodePoint(),z=this.consumeCodePoint();for(var dt=[];Nt(z)&&dt.length<6;)dt.push(z),z=this.consumeCodePoint();var Ne=parseInt(m.apply(void 0,dt),16);return{type:30,start:ze,end:Ne}}else return{type:30,start:ze,end:ze}},U.prototype.consumeIdentLikeToken=function(){var B=this.consumeName();return B.toLowerCase()==="url"&&this.peekCodePoint(0)===vi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===vi?(this.consumeCodePoint(),{type:19,value:B}):{type:20,value:B}},U.prototype.consumeUrlToken=function(){var B=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===F)return{type:22,value:""};var z=this.peekCodePoint(0);if(z===Ta||z===zs){var H=this.consumeStringToken(this.consumeCodePoint());return H.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===F||this.peekCodePoint(0)===ei)?(this.consumeCodePoint(),{type:22,value:H.value}):(this.consumeBadUrlRemnants(),Lt)}for(;;){var ge=this.consumeCodePoint();if(ge===F||ge===ei)return{type:22,value:m.apply(void 0,B)};if(rt(ge))return this.consumeWhiteSpace(),this.peekCodePoint(0)===F||this.peekCodePoint(0)===ei?(this.consumeCodePoint(),{type:22,value:m.apply(void 0,B)}):(this.consumeBadUrlRemnants(),Lt);if(ge===zs||ge===Ta||ge===vi||lr(ge))return this.consumeBadUrlRemnants(),Lt;if(ge===gl)if(Mt(ge,this.peekCodePoint(0)))B.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Lt;else B.push(ge)}},U.prototype.consumeWhiteSpace=function(){for(;rt(this.peekCodePoint(0));)this.consumeCodePoint()},U.prototype.consumeBadUrlRemnants=function(){for(;;){var B=this.consumeCodePoint();if(B===ei||B===F)return;Mt(B,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},U.prototype.consumeStringSlice=function(B){for(var z=5e4,H="";B>0;){var ge=Math.min(z,B);H+=m.apply(void 0,this._value.splice(0,ge)),B-=ge}return this._value.shift(),H},U.prototype.consumeStringToken=function(B){var z="",H=0;do{var ge=this._value[H];if(ge===F||ge===void 0||ge===B)return z+=this.consumeStringSlice(H),{type:0,value:z};if(ge===vo)return this._value.splice(0,H),Wt;if(ge===gl){var Ne=this._value[H+1];Ne!==F&&Ne!==void 0&&(Ne===vo?(z+=this.consumeStringSlice(H),H=-1,this._value.shift()):Mt(ge,Ne)&&(z+=this.consumeStringSlice(H),z+=m(this.consumeEscapedCodePoint()),H=-1))}H++}while(!0)},U.prototype.consumeNumber=function(){var B=[],z=$s,H=this.peekCodePoint(0);for((H===se||H===wa)&&B.push(this.consumeCodePoint());jt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());H=this.peekCodePoint(0);var ge=this.peekCodePoint(1);if(H===ie&&jt(ge))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),z=Il;jt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());H=this.peekCodePoint(0),ge=this.peekCodePoint(1);var Ne=this.peekCodePoint(2);if((H===Ve||H===re)&&((ge===se||ge===wa)&&jt(Ne)||jt(ge)))for(B.push(this.consumeCodePoint(),this.consumeCodePoint()),z=Il;jt(this.peekCodePoint(0));)B.push(this.consumeCodePoint());return[At(B),z]},U.prototype.consumeNumericToken=function(){var B=this.consumeNumber(),z=B[0],H=B[1],ge=this.peekCodePoint(0),Ne=this.peekCodePoint(1),ze=this.peekCodePoint(2);if(_r(ge,Ne,ze)){var dt=this.consumeName();return{type:15,number:z,flags:H,unit:dt}}return ge===za?(this.consumeCodePoint(),{type:16,number:z,flags:H}):{type:17,number:z,flags:H}},U.prototype.consumeEscapedCodePoint=function(){var B=this.consumeCodePoint();if(Nt(B)){for(var z=m(B);Nt(this.peekCodePoint(0))&&z.length<6;)z+=m(this.consumeCodePoint());rt(this.peekCodePoint(0))&&this.consumeCodePoint();var H=parseInt(z,16);return H===0||ot(H)||H>1114111?zt:H}return B===F?zt:B},U.prototype.consumeName=function(){for(var B="";;){var z=this.consumeCodePoint();if(Nr(z))B+=m(z);else if(Mt(z,this.peekCodePoint(0)))B+=m(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(z),B}},U})(),vt=(function(){function U(B){this._tokens=B}return U.create=function(B){var z=new yi;return z.write(B),new U(z.read())},U.parseValue=function(B){return U.create(B).parseComponentValue()},U.parseValues=function(B){return U.create(B).parseComponentValues()},U.prototype.parseComponentValue=function(){for(var B=this.consumeToken();B.type===31;)B=this.consumeToken();if(B.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(B);var z=this.consumeComponentValue();do B=this.consumeToken();while(B.type===31);if(B.type===32)return z;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},U.prototype.parseComponentValues=function(){for(var B=[];;){var z=this.consumeComponentValue();if(z.type===32)return B;B.push(z),B.push()}},U.prototype.consumeComponentValue=function(){var B=this.consumeToken();switch(B.type){case 11:case 28:case 2:return this.consumeSimpleBlock(B.type);case 19:return this.consumeFunction(B)}return B},U.prototype.consumeSimpleBlock=function(B){for(var z={type:B,values:[]},H=this.consumeToken();;){if(H.type===32||ga(H,B))return z;this.reconsumeToken(H),z.values.push(this.consumeComponentValue()),H=this.consumeToken()}},U.prototype.consumeFunction=function(B){for(var z={name:B.value,values:[],type:18};;){var H=this.consumeToken();if(H.type===32||H.type===3)return z;this.reconsumeToken(H),z.values.push(this.consumeComponentValue())}},U.prototype.consumeToken=function(){var B=this._tokens.shift();return typeof B>"u"?Fn:B},U.prototype.reconsumeToken=function(B){this._tokens.unshift(B)},U})(),Cn=function(U){return U.type===15},Ri=function(U){return U.type===17},Nn=function(U){return U.type===20},ln=function(U){return U.type===0},Ni=function(U,B){return Nn(U)&&U.value===B},Hn=function(U){return U.type!==31},Vn=function(U){return U.type!==31&&U.type!==4},zn=function(U){var B=[],z=[];return U.forEach(function(H){if(H.type===4){if(z.length===0)throw new Error("Error parsing function args, zero tokens for arg");B.push(z),z=[];return}H.type!==31&&z.push(H)}),z.length&&B.push(z),B},ga=function(U,B){return B===11&&U.type===12||B===28&&U.type===29?!0:B===2&&U.type===3},Di=function(U){return U.type===17||U.type===15},qn=function(U){return U.type===16||Di(U)},ns=function(U){return U.length>1?[U[0],U[1]]:[U[0]]},Si={type:17,number:0,flags:$s},Qn={type:16,number:50,flags:$s},Li={type:16,number:100,flags:$s},Xn=function(U,B,z){var H=U[0],ge=U[1];return[Gi(H,B),Gi(typeof ge<"u"?ge:H,z)]},Gi=function(U,B){if(U.type===16)return U.number/100*B;if(Cn(U))switch(U.unit){case"rem":case"em":return 16*U.number;default:return U.number}return U.number},is="deg",Zi="grad",xs="rad",Ca="turn",bi={name:"angle",parse:function(U,B){if(B.type===15)switch(B.unit){case is:return Math.PI*B.number/180;case Zi:return Math.PI/200*B.number;case xs:return B.number;case Ca:return Math.PI*2*B.number}throw new Error("Unsupported angle type")}},Ys=function(U){return U.type===15&&(U.unit===is||U.unit===Zi||U.unit===xs||U.unit===Ca)},Qi=function(U){var B=U.filter(Nn).map(function(z){return z.value}).join(" ");switch(B){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Si,Si];case"to top":case"bottom":return oi(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Si,Li];case"to right":case"left":return oi(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Li,Li];case"to bottom":case"top":return oi(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Li,Si];case"to left":case"right":return oi(270)}return 0},oi=function(U){return Math.PI*U/180},da={name:"color",parse:function(U,B){if(B.type===18){var z=wi[B.name];if(typeof z>"u")throw new Error('Attempting to parse an unsupported color function "'+B.name+'"');return z(U,B.values)}if(B.type===5){if(B.value.length===3){var H=B.value.substring(0,1),ge=B.value.substring(1,2),Ne=B.value.substring(2,3);return cs(parseInt(H+H,16),parseInt(ge+ge,16),parseInt(Ne+Ne,16),1)}if(B.value.length===4){var H=B.value.substring(0,1),ge=B.value.substring(1,2),Ne=B.value.substring(2,3),ze=B.value.substring(3,4);return cs(parseInt(H+H,16),parseInt(ge+ge,16),parseInt(Ne+Ne,16),parseInt(ze+ze,16)/255)}if(B.value.length===6){var H=B.value.substring(0,2),ge=B.value.substring(2,4),Ne=B.value.substring(4,6);return cs(parseInt(H,16),parseInt(ge,16),parseInt(Ne,16),1)}if(B.value.length===8){var H=B.value.substring(0,2),ge=B.value.substring(2,4),Ne=B.value.substring(4,6),ze=B.value.substring(6,8);return cs(parseInt(H,16),parseInt(ge,16),parseInt(Ne,16),parseInt(ze,16)/255)}}if(B.type===20){var dt=Xa[B.value.toUpperCase()];if(typeof dt<"u")return dt}return Xa.TRANSPARENT}},Ii=function(U){return(255&U)===0},_n=function(U){var B=255&U,z=255&U>>8,H=255&U>>16,ge=255&U>>24;return B<255?"rgba("+ge+","+H+","+z+","+B/255+")":"rgb("+ge+","+H+","+z+")"},cs=function(U,B,z,H){return(U<<24|B<<16|z<<8|Math.round(H*255)<<0)>>>0},Su=function(U,B){if(U.type===17)return U.number;if(U.type===16){var z=B===3?1:255;return B===3?U.number/100*z:Math.round(U.number/100*z)}return 0},so=function(U,B){var z=B.filter(Vn);if(z.length===3){var H=z.map(Su),ge=H[0],Ne=H[1],ze=H[2];return cs(ge,Ne,ze,1)}if(z.length===4){var dt=z.map(Su),ge=dt[0],Ne=dt[1],ze=dt[2],ht=dt[3];return cs(ge,Ne,ze,ht)}return 0};function Ko(U,B,z){return z<0&&(z+=1),z>=1&&(z-=1),z<1/6?(B-U)*z*6+U:z<1/2?B:z<2/3?(B-U)*6*(2/3-z)+U:U}var rc=function(U,B){var z=B.filter(Vn),H=z[0],ge=z[1],Ne=z[2],ze=z[3],dt=(H.type===17?oi(H.number):bi.parse(U,H))/(Math.PI*2),ht=qn(ge)?ge.number/100:0,Ut=qn(Ne)?Ne.number/100:0,Zt=typeof ze<"u"&&qn(ze)?Gi(ze,1):1;if(ht===0)return cs(Ut*255,Ut*255,Ut*255,1);var fr=Ut<=.5?Ut*(ht+1):Ut+ht-Ut*ht,zr=Ut*2-fr,Gn=Ko(zr,fr,dt+1/3),wn=Ko(zr,fr,dt),Dn=Ko(zr,fr,dt-1/3);return cs(Gn*255,wn*255,Dn*255,Zt)},wi={hsl:rc,hsla:rc,rgb:so,rgba:so},Ra=function(U,B){return da.parse(U,vt.create(B).parseComponentValue())},Xa={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ql={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(U,B){return B.map(function(z){if(Nn(z))switch(z.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zl={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ha=function(U,B){var z=da.parse(U,B[0]),H=B[1];return H&&qn(H)?{color:z,stop:H}:{color:z,stop:null}},yo=function(U,B){var z=U[0],H=U[U.length-1];z.stop===null&&(z.stop=Si),H.stop===null&&(H.stop=Li);for(var ge=[],Ne=0,ze=0;ze<U.length;ze++){var dt=U[ze].stop;if(dt!==null){var ht=Gi(dt,B);ht>Ne?ge.push(ht):ge.push(Ne),Ne=ht}else ge.push(null)}for(var Ut=null,ze=0;ze<ge.length;ze++){var Zt=ge[ze];if(Zt===null)Ut===null&&(Ut=ze);else if(Ut!==null){for(var fr=ze-Ut,zr=ge[Ut-1],Gn=(Zt-zr)/(fr+1),wn=1;wn<=fr;wn++)ge[Ut+wn-1]=Gn*wn;Ut=null}}return U.map(function(Dn,Bi){var hi=Dn.color;return{color:hi,stop:Math.max(Math.min(1,ge[Bi]/B),0)}})},Za=function(U,B,z){var H=B/2,ge=z/2,Ne=Gi(U[0],B)-H,ze=ge-Gi(U[1],z);return(Math.atan2(ze,Ne)+Math.PI*2)%(Math.PI*2)},zc=function(U,B,z){var H=typeof U=="number"?U:Za(U,B,z),ge=Math.abs(B*Math.sin(H))+Math.abs(z*Math.cos(H)),Ne=B/2,ze=z/2,dt=ge/2,ht=Math.sin(H-Math.PI/2)*dt,Ut=Math.cos(H-Math.PI/2)*dt;return[ge,Ne-Ut,Ne+Ut,ze-ht,ze+ht]},To=function(U,B){return Math.sqrt(U*U+B*B)},gc=function(U,B,z,H,ge){var Ne=[[0,0],[0,B],[U,0],[U,B]];return Ne.reduce(function(ze,dt){var ht=dt[0],Ut=dt[1],Zt=To(z-ht,H-Ut);return(ge?Zt<ze.optimumDistance:Zt>ze.optimumDistance)?{optimumCorner:dt,optimumDistance:Zt}:ze},{optimumDistance:ge?1/0:-1/0,optimumCorner:null}).optimumCorner},Ka=function(U,B,z,H,ge){var Ne=0,ze=0;switch(U.size){case 0:U.shape===0?Ne=ze=Math.min(Math.abs(B),Math.abs(B-H),Math.abs(z),Math.abs(z-ge)):U.shape===1&&(Ne=Math.min(Math.abs(B),Math.abs(B-H)),ze=Math.min(Math.abs(z),Math.abs(z-ge)));break;case 2:if(U.shape===0)Ne=ze=Math.min(To(B,z),To(B,z-ge),To(B-H,z),To(B-H,z-ge));else if(U.shape===1){var dt=Math.min(Math.abs(z),Math.abs(z-ge))/Math.min(Math.abs(B),Math.abs(B-H)),ht=gc(H,ge,B,z,!0),Ut=ht[0],Zt=ht[1];Ne=To(Ut-B,(Zt-z)/dt),ze=dt*Ne}break;case 1:U.shape===0?Ne=ze=Math.max(Math.abs(B),Math.abs(B-H),Math.abs(z),Math.abs(z-ge)):U.shape===1&&(Ne=Math.max(Math.abs(B),Math.abs(B-H)),ze=Math.max(Math.abs(z),Math.abs(z-ge)));break;case 3:if(U.shape===0)Ne=ze=Math.max(To(B,z),To(B,z-ge),To(B-H,z),To(B-H,z-ge));else if(U.shape===1){var dt=Math.max(Math.abs(z),Math.abs(z-ge))/Math.max(Math.abs(B),Math.abs(B-H)),fr=gc(H,ge,B,z,!1),Ut=fr[0],Zt=fr[1];Ne=To(Ut-B,(Zt-z)/dt),ze=dt*Ne}break}return Array.isArray(U.size)&&(Ne=Gi(U.size[0],H),ze=U.size.length===2?Gi(U.size[1],ge):Ne),[Ne,ze]},Vl=function(U,B){var z=oi(180),H=[];return zn(B).forEach(function(ge,Ne){if(Ne===0){var ze=ge[0];if(ze.type===20&&ze.value==="to"){z=Qi(ge);return}else if(Ys(ze)){z=bi.parse(U,ze);return}}var dt=ha(U,ge);H.push(dt)}),{angle:z,stops:H,type:1}},Kl=function(U,B){var z=oi(180),H=[];return zn(B).forEach(function(ge,Ne){if(Ne===0){var ze=ge[0];if(ze.type===20&&["top","left","right","bottom"].indexOf(ze.value)!==-1){z=Qi(ge);return}else if(Ys(ze)){z=(bi.parse(U,ze)+oi(270))%oi(360);return}}var dt=ha(U,ge);H.push(dt)}),{angle:z,stops:H,type:1}},Bl=function(U,B){var z=oi(180),H=[],ge=1,Ne=0,ze=3,dt=[];return zn(B).forEach(function(ht,Ut){var Zt=ht[0];if(Ut===0){if(Nn(Zt)&&Zt.value==="linear"){ge=1;return}else if(Nn(Zt)&&Zt.value==="radial"){ge=2;return}}if(Zt.type===18){if(Zt.name==="from"){var fr=da.parse(U,Zt.values[0]);H.push({stop:Si,color:fr})}else if(Zt.name==="to"){var fr=da.parse(U,Zt.values[0]);H.push({stop:Li,color:fr})}else if(Zt.name==="color-stop"){var zr=Zt.values.filter(Vn);if(zr.length===2){var fr=da.parse(U,zr[1]),Gn=zr[0];Ri(Gn)&&H.push({stop:{type:16,number:Gn.number*100,flags:Gn.flags},color:fr})}}}}),ge===1?{angle:(z+oi(180))%oi(360),stops:H,type:ge}:{size:ze,shape:Ne,stops:H,position:dt,type:ge}},Ed="closest-side",nc="farthest-side",Gl="closest-corner",vc="farthest-corner",_d="circle",Wl="ellipse",Yl="cover",ju="contain",ql=function(U,B){var z=0,H=3,ge=[],Ne=[];return zn(B).forEach(function(ze,dt){var ht=!0;if(dt===0){var Ut=!1;ht=ze.reduce(function(fr,zr){if(Ut)if(Nn(zr))switch(zr.value){case"center":return Ne.push(Qn),fr;case"top":case"left":return Ne.push(Si),fr;case"right":case"bottom":return Ne.push(Li),fr}else(qn(zr)||Di(zr))&&Ne.push(zr);else if(Nn(zr))switch(zr.value){case _d:return z=0,!1;case Wl:return z=1,!1;case"at":return Ut=!0,!1;case Ed:return H=0,!1;case Yl:case nc:return H=1,!1;case ju:case Gl:return H=2,!1;case vc:return H=3,!1}else if(Di(zr)||qn(zr))return Array.isArray(H)||(H=[]),H.push(zr),!1;return fr},ht)}if(ht){var Zt=ha(U,ze);ge.push(Zt)}}),{size:H,shape:z,stops:ge,position:Ne,type:2}},Io=function(U,B){var z=0,H=3,ge=[],Ne=[];return zn(B).forEach(function(ze,dt){var ht=!0;if(dt===0?ht=ze.reduce(function(Zt,fr){if(Nn(fr))switch(fr.value){case"center":return Ne.push(Qn),!1;case"top":case"left":return Ne.push(Si),!1;case"right":case"bottom":return Ne.push(Li),!1}else if(qn(fr)||Di(fr))return Ne.push(fr),!1;return Zt},ht):dt===1&&(ht=ze.reduce(function(Zt,fr){if(Nn(fr))switch(fr.value){case _d:return z=0,!1;case Wl:return z=1,!1;case ju:case Ed:return H=0,!1;case nc:return H=1,!1;case Gl:return H=2,!1;case Yl:case vc:return H=3,!1}else if(Di(fr)||qn(fr))return Array.isArray(H)||(H=[]),H.push(fr),!1;return Zt},ht)),ht){var Ut=ha(U,ze);ge.push(Ut)}}),{size:H,shape:z,stops:ge,position:Ne,type:2}},vl=function(U){return U.type===1},au=function(U){return U.type===2},xc={name:"image",parse:function(U,B){if(B.type===22){var z={url:B.value,type:0};return U.cache.addImage(B.value),z}if(B.type===18){var H=ic[B.name];if(typeof H>"u")throw new Error('Attempting to parse an unsupported image function "'+B.name+'"');return H(U,B.values)}throw new Error("Unsupported image type "+B.type)}};function Kd(U){return!(U.type===20&&U.value==="none")&&(U.type!==18||!!ic[U.name])}var ic={"linear-gradient":Vl,"-moz-linear-gradient":Kl,"-ms-linear-gradient":Kl,"-o-linear-gradient":Kl,"-webkit-linear-gradient":Kl,"radial-gradient":ql,"-moz-radial-gradient":Io,"-ms-radial-gradient":Io,"-o-radial-gradient":Io,"-webkit-radial-gradient":Io,"-webkit-gradient":Bl},Xu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(U,B){if(B.length===0)return[];var z=B[0];return z.type===20&&z.value==="none"?[]:B.filter(function(H){return Vn(H)&&Kd(H)}).map(function(H){return xc.parse(U,H)})}},Sd={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(U,B){return B.map(function(z){if(Nn(z))switch(z.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},xl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(U,B){return zn(B).map(function(z){return z.filter(qn)}).map(ns)}},ch={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(U,B){return zn(B).map(function(z){return z.filter(Nn).map(function(H){return H.value}).join(" ")}).map(Pl)}},Pl=function(U){switch(U){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Fi;(function(U){U.AUTO="auto",U.CONTAIN="contain",U.COVER="cover"})(Fi||(Fi={}));var yc={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(U,B){return zn(B).map(function(z){return z.filter(Vc)})}},Vc=function(U){return Nn(U)||qn(U)},Kc=function(U){return{name:"border-"+U+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Zu=Kc("top"),bc=Kc("right"),Bo=Kc("bottom"),ou=Kc("left"),v=function(U){return{name:"border-radius-"+U,initialValue:"0 0",prefix:!1,type:1,parse:function(B,z){return ns(z.filter(qn))}}},S=v("top-left"),Q=v("top-right"),le=v("bottom-right"),Ee=v("bottom-left"),Ke=function(U){return{name:"border-"+U+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(B,z){switch(z){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},kt=Ke("top"),er=Ke("right"),Sr=Ke("bottom"),qr=Ke("left"),En=function(U){return{name:"border-"+U+"-width",initialValue:"0",type:0,prefix:!1,parse:function(B,z){return Cn(z)?z.number:0}}},di=En("top"),As=En("right"),Da=En("bottom"),Co=En("left"),il={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(U,B){return B==="rtl"?1:0}},la={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(U,B){return B.filter(Nn).reduce(function(z,H){return z|In(H.value)},0)}},In=function(U){switch(U){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ju={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(U,B){switch(B){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},wc={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(U,B){return B.type===20&&B.value==="normal"?0:B.type===17||B.type===15?B.number:0}},jd;(function(U){U.NORMAL="normal",U.STRICT="strict"})(jd||(jd={}));var Xl={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(U,B){return B==="strict"?jd.STRICT:jd.NORMAL}},Tu={name:"line-height",initialValue:"normal",prefix:!1,type:4},ao=function(U,B){return Nn(U)&&U.value==="normal"?1.2*B:U.type===17?B*U.number:qn(U)?Gi(U,B):B},Cu={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(U,B){return B.type===20&&B.value==="none"?null:xc.parse(U,B)}},Go={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(U,B){return B==="inside"?0:1}},Td={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(U,B){switch(B){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ec=function(U){return{name:"margin-"+U,initialValue:"0",prefix:!1,type:4}},Gd=Ec("top"),Zl=Ec("right"),Nu=Ec("bottom"),_c=Ec("left"),Gc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(U,B){return B.filter(Nn).map(function(z){switch(z.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Th={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(U,B){return B==="break-word"?"break-word":"normal"}},lu=function(U){return{name:"padding-"+U,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Cd=lu("top"),uh=lu("right"),Wc=lu("bottom"),bo=lu("left"),Ch={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(U,B){switch(B){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},dm={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(U,B){switch(B){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Wm={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(U,B){return B.length===1&&Ni(B[0],"none")?[]:zn(B).map(function(z){for(var H={color:Xa.TRANSPARENT,offsetX:Si,offsetY:Si,blur:Si},ge=0,Ne=0;Ne<z.length;Ne++){var ze=z[Ne];Di(ze)?(ge===0?H.offsetX=ze:ge===1?H.offsetY=ze:H.blur=ze,ge++):H.color=da.parse(U,ze)}return H})}},dh={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(U,B){switch(B){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},hh={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(U,B){if(B.type===20&&B.value==="none")return null;if(B.type===18){var z=Nh[B.name];if(typeof z>"u")throw new Error('Attempting to parse an unsupported transform function "'+B.name+'"');return z(B.values)}return null}},Po=function(U){var B=U.filter(function(z){return z.type===17}).map(function(z){return z.number});return B.length===6?B:null},fh=function(U){var B=U.filter(function(ht){return ht.type===17}).map(function(ht){return ht.number}),z=B[0],H=B[1];B[2],B[3];var ge=B[4],Ne=B[5];B[6],B[7],B[8],B[9],B[10],B[11];var ze=B[12],dt=B[13];return B[14],B[15],B.length===16?[z,H,ge,Ne,ze,dt]:null},Nh={matrix:Po,matrix3d:fh},ue={type:16,number:50,flags:$s},Me=[ue,ue],Et={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(U,B){var z=B.filter(qn);return z.length!==2?Me:[z[0],z[1]]}},Bt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(U,B){switch(B){case"hidden":return 1;case"collapse":return 2;default:return 0}}},nr;(function(U){U.NORMAL="normal",U.BREAK_ALL="break-all",U.KEEP_ALL="keep-all"})(nr||(nr={}));for(var Kr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(U,B){switch(B){case"break-all":return nr.BREAK_ALL;case"keep-all":return nr.KEEP_ALL;default:return nr.NORMAL}}},rn={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(U,B){if(B.type===20)return{auto:!0,order:0};if(Ri(B))return{auto:!1,order:B.number};throw new Error("Invalid z-index number parsed")}},ri={name:"time",parse:function(U,B){if(B.type===15)switch(B.unit.toLowerCase()){case"s":return 1e3*B.number;case"ms":return B.number}throw new Error("Unsupported time type")}},ni={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(U,B){return Ri(B)?B.number:1}},Yi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},os={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(U,B){return B.filter(Nn).map(function(z){switch(z.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(z){return z!==0})}},na={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(U,B){var z=[],H=[];return B.forEach(function(ge){switch(ge.type){case 20:case 0:z.push(ge.value);break;case 17:z.push(ge.number.toString());break;case 4:H.push(z.join(" ")),z.length=0;break}}),z.length&&H.push(z.join(" ")),H.map(function(ge){return ge.indexOf(" ")===-1?ge:"'"+ge+"'"})}},Ma={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Oo={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(U,B){return Ri(B)?B.number:Nn(B)&&B.value==="bold"?700:400}},Na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(U,B){return B.filter(Nn).map(function(z){return z.value})}},Wo={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(U,B){switch(B){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},O=function(U,B){return(U&B)!==0},Be={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(U,B){if(B.length===0)return[];var z=B[0];return z.type===20&&z.value==="none"?[]:B}},ee={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(U,B){if(B.length===0)return null;var z=B[0];if(z.type===20&&z.value==="none")return null;for(var H=[],ge=B.filter(Hn),Ne=0;Ne<ge.length;Ne++){var ze=ge[Ne],dt=ge[Ne+1];if(ze.type===20){var ht=dt&&Ri(dt)?dt.number:1;H.push({counter:ze.value,increment:ht})}}return H}},Ze={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(U,B){if(B.length===0)return[];for(var z=[],H=B.filter(Hn),ge=0;ge<H.length;ge++){var Ne=H[ge],ze=H[ge+1];if(Nn(Ne)&&Ne.value!=="none"){var dt=ze&&Ri(ze)?ze.number:0;z.push({counter:Ne.value,reset:dt})}}return z}},St={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(U,B){return B.filter(Cn).map(function(z){return ri.parse(U,z)})}},_t={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(U,B){if(B.length===0)return null;var z=B[0];if(z.type===20&&z.value==="none")return null;var H=[],ge=B.filter(ln);if(ge.length%2!==0)return null;for(var Ne=0;Ne<ge.length;Ne+=2){var ze=ge[Ne].value,dt=ge[Ne+1].value;H.push({open:ze,close:dt})}return H}},yr=function(U,B,z){if(!U)return"";var H=U[Math.min(B,U.length-1)];return H?z?H.open:H.close:""},Gt={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(U,B){return B.length===1&&Ni(B[0],"none")?[]:zn(B).map(function(z){for(var H={color:255,offsetX:Si,offsetY:Si,blur:Si,spread:Si,inset:!1},ge=0,Ne=0;Ne<z.length;Ne++){var ze=z[Ne];Ni(ze,"inset")?H.inset=!0:Di(ze)?(ge===0?H.offsetX=ze:ge===1?H.offsetY=ze:ge===2?H.blur=ze:H.spread=ze,ge++):H.color=da.parse(U,ze)}return H})}},$n={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(U,B){var z=[0,1,2],H=[];return B.filter(Nn).forEach(function(ge){switch(ge.value){case"stroke":H.push(1);break;case"fill":H.push(0);break;case"markers":H.push(2);break}}),z.forEach(function(ge){H.indexOf(ge)===-1&&H.push(ge)}),H}},Ft={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},br={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(U,B){return Cn(B)?B.number:0}},qi=(function(){function U(B,z){var H,ge;this.animationDuration=Ur(B,St,z.animationDuration),this.backgroundClip=Ur(B,Ql,z.backgroundClip),this.backgroundColor=Ur(B,zl,z.backgroundColor),this.backgroundImage=Ur(B,Xu,z.backgroundImage),this.backgroundOrigin=Ur(B,Sd,z.backgroundOrigin),this.backgroundPosition=Ur(B,xl,z.backgroundPosition),this.backgroundRepeat=Ur(B,ch,z.backgroundRepeat),this.backgroundSize=Ur(B,yc,z.backgroundSize),this.borderTopColor=Ur(B,Zu,z.borderTopColor),this.borderRightColor=Ur(B,bc,z.borderRightColor),this.borderBottomColor=Ur(B,Bo,z.borderBottomColor),this.borderLeftColor=Ur(B,ou,z.borderLeftColor),this.borderTopLeftRadius=Ur(B,S,z.borderTopLeftRadius),this.borderTopRightRadius=Ur(B,Q,z.borderTopRightRadius),this.borderBottomRightRadius=Ur(B,le,z.borderBottomRightRadius),this.borderBottomLeftRadius=Ur(B,Ee,z.borderBottomLeftRadius),this.borderTopStyle=Ur(B,kt,z.borderTopStyle),this.borderRightStyle=Ur(B,er,z.borderRightStyle),this.borderBottomStyle=Ur(B,Sr,z.borderBottomStyle),this.borderLeftStyle=Ur(B,qr,z.borderLeftStyle),this.borderTopWidth=Ur(B,di,z.borderTopWidth),this.borderRightWidth=Ur(B,As,z.borderRightWidth),this.borderBottomWidth=Ur(B,Da,z.borderBottomWidth),this.borderLeftWidth=Ur(B,Co,z.borderLeftWidth),this.boxShadow=Ur(B,Gt,z.boxShadow),this.color=Ur(B,il,z.color),this.direction=Ur(B,Zs,z.direction),this.display=Ur(B,la,z.display),this.float=Ur(B,Ju,z.cssFloat),this.fontFamily=Ur(B,na,z.fontFamily),this.fontSize=Ur(B,Ma,z.fontSize),this.fontStyle=Ur(B,Wo,z.fontStyle),this.fontVariant=Ur(B,Na,z.fontVariant),this.fontWeight=Ur(B,Oo,z.fontWeight),this.letterSpacing=Ur(B,wc,z.letterSpacing),this.lineBreak=Ur(B,Xl,z.lineBreak),this.lineHeight=Ur(B,Tu,z.lineHeight),this.listStyleImage=Ur(B,Cu,z.listStyleImage),this.listStylePosition=Ur(B,Go,z.listStylePosition),this.listStyleType=Ur(B,Td,z.listStyleType),this.marginTop=Ur(B,Gd,z.marginTop),this.marginRight=Ur(B,Zl,z.marginRight),this.marginBottom=Ur(B,Nu,z.marginBottom),this.marginLeft=Ur(B,_c,z.marginLeft),this.opacity=Ur(B,ni,z.opacity);var Ne=Ur(B,Gc,z.overflow);this.overflowX=Ne[0],this.overflowY=Ne[Ne.length>1?1:0],this.overflowWrap=Ur(B,Th,z.overflowWrap),this.paddingTop=Ur(B,Cd,z.paddingTop),this.paddingRight=Ur(B,uh,z.paddingRight),this.paddingBottom=Ur(B,Wc,z.paddingBottom),this.paddingLeft=Ur(B,bo,z.paddingLeft),this.paintOrder=Ur(B,$n,z.paintOrder),this.position=Ur(B,dm,z.position),this.textAlign=Ur(B,Ch,z.textAlign),this.textDecorationColor=Ur(B,Yi,(H=z.textDecorationColor)!==null&&H!==void 0?H:z.color),this.textDecorationLine=Ur(B,os,(ge=z.textDecorationLine)!==null&&ge!==void 0?ge:z.textDecoration),this.textShadow=Ur(B,Wm,z.textShadow),this.textTransform=Ur(B,dh,z.textTransform),this.transform=Ur(B,hh,z.transform),this.transformOrigin=Ur(B,Et,z.transformOrigin),this.visibility=Ur(B,Bt,z.visibility),this.webkitTextStrokeColor=Ur(B,Ft,z.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ur(B,br,z.webkitTextStrokeWidth),this.wordBreak=Ur(B,Kr,z.wordBreak),this.zIndex=Ur(B,rn,z.zIndex)}return U.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},U.prototype.isTransparent=function(){return Ii(this.backgroundColor)},U.prototype.isTransformed=function(){return this.transform!==null},U.prototype.isPositioned=function(){return this.position!==0},U.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},U.prototype.isFloating=function(){return this.float!==0},U.prototype.isInlineLevel=function(){return O(this.display,4)||O(this.display,33554432)||O(this.display,268435456)||O(this.display,536870912)||O(this.display,67108864)||O(this.display,134217728)},U})(),Bn=(function(){function U(B,z){this.content=Ur(B,Be,z.content),this.quotes=Ur(B,_t,z.quotes)}return U})(),sn=(function(){function U(B,z){this.counterIncrement=Ur(B,ee,z.counterIncrement),this.counterReset=Ur(B,Ze,z.counterReset)}return U})(),Ur=function(U,B,z){var H=new yi,ge=z!==null&&typeof z<"u"?z.toString():B.initialValue;H.write(ge);var Ne=new vt(H.read());switch(B.type){case 2:var ze=Ne.parseComponentValue();return B.parse(U,Nn(ze)?ze.value:B.initialValue);case 0:return B.parse(U,Ne.parseComponentValue());case 1:return B.parse(U,Ne.parseComponentValues());case 4:return Ne.parseComponentValue();case 3:switch(B.format){case"angle":return bi.parse(U,Ne.parseComponentValue());case"color":return da.parse(U,Ne.parseComponentValue());case"image":return xc.parse(U,Ne.parseComponentValue());case"length":var dt=Ne.parseComponentValue();return Di(dt)?dt:Si;case"length-percentage":var ht=Ne.parseComponentValue();return qn(ht)?ht:Si;case"time":return ri.parse(U,Ne.parseComponentValue())}break}},Fa="data-html2canvas-debug",Wi=function(U){var B=U.getAttribute(Fa);switch(B){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ki=function(U,B){var z=Wi(U);return z===1||B===z},zi=(function(){function U(B,z){if(this.context=B,this.textNodes=[],this.elements=[],this.flags=0,ki(z,3))debugger;this.styles=new qi(B,window.getComputedStyle(z,null)),Of(z)&&(this.styles.animationDuration.some(function(H){return H>0})&&(z.style.animationDuration="0s"),this.styles.transform!==null&&(z.style.transform="none")),this.bounds=l(this.context,z),ki(z,4)&&(this.flags|=16)}return U})(),ys="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bs=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ua=0;Ua<Sn.length;Ua++)bs[Sn.charCodeAt(Ua)]=Ua;for(var ji=function(U){var B=U.length*.75,z=U.length,H,ge=0,Ne,ze,dt,ht;U[U.length-1]==="="&&(B--,U[U.length-2]==="="&&B--);var Ut=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(B):new Array(B),Zt=Array.isArray(Ut)?Ut:new Uint8Array(Ut);for(H=0;H<z;H+=4)Ne=bs[U.charCodeAt(H)],ze=bs[U.charCodeAt(H+1)],dt=bs[U.charCodeAt(H+2)],ht=bs[U.charCodeAt(H+3)],Zt[ge++]=Ne<<2|ze>>4,Zt[ge++]=(ze&15)<<4|dt>>2,Zt[ge++]=(dt&3)<<6|ht&63;return Ut},ia=function(U){for(var B=U.length,z=[],H=0;H<B;H+=2)z.push(U[H+1]<<8|U[H]);return z},Ls=function(U){for(var B=U.length,z=[],H=0;H<B;H+=4)z.push(U[H+3]<<24|U[H+2]<<16|U[H+1]<<8|U[H]);return z},ii=5,$i=11,sc=2,ed=$i-ii,cu=65536>>ii,yl=1<<ii,ac=yl-1,oo=1024>>ii,Ym=cu+oo,mh=Ym,Yc=32,qc=mh+Yc,Ro=65536>>$i,Bf=1<<ed,Nd=Bf-1,Ji=function(U,B,z){return U.slice?U.slice(B,z):new Uint16Array(Array.prototype.slice.call(U,B,z))},fa=function(U,B,z){return U.slice?U.slice(B,z):new Uint32Array(Array.prototype.slice.call(U,B,z))},wo=function(U,B){var z=ji(U),H=Array.isArray(z)?Ls(z):new Uint32Array(z),ge=Array.isArray(z)?ia(z):new Uint16Array(z),Ne=24,ze=Ji(ge,Ne/2,H[4]/2),dt=H[5]===2?Ji(ge,(Ne+H[4])/2):fa(H,Math.ceil((Ne+H[4])/4));return new kh(H[0],H[1],H[2],H[3],ze,dt)},kh=(function(){function U(B,z,H,ge,Ne,ze){this.initialValue=B,this.errorValue=z,this.highStart=H,this.highValueIndex=ge,this.index=Ne,this.data=ze}return U.prototype.get=function(B){var z;if(B>=0){if(B<55296||B>56319&&B<=65535)return z=this.index[B>>ii],z=(z<<sc)+(B&ac),this.data[z];if(B<=65535)return z=this.index[cu+(B-55296>>ii)],z=(z<<sc)+(B&ac),this.data[z];if(B<this.highStart)return z=qc-Ro+(B>>$i),z=this.index[z],z+=B>>ii&Nd,z=this.index[z],z=(z<<sc)+(B&ac),this.data[z];if(B<=1114111)return this.data[this.highValueIndex]}return this.errorValue},U})(),td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kd=typeof Uint8Array>"u"?[]:new Uint8Array(256),Sc=0;Sc<td.length;Sc++)kd[td.charCodeAt(Sc)]=Sc;var rd=1,sa=2,Ja=3,Is=4,bl=5,Ah=7,hm=8,Xh=9,qm=10,np=11,ip=12,sp=13,Xc=14,Yo=15,ap=function(U){for(var B=[],z=0,H=U.length;z<H;){var ge=U.charCodeAt(z++);if(ge>=55296&&ge<=56319&&z<H){var Ne=U.charCodeAt(z++);(Ne&64512)===56320?B.push(((ge&1023)<<10)+(Ne&1023)+65536):(B.push(ge),z--)}else B.push(ge)}return B},Zh=function(){for(var U=[],B=0;B<arguments.length;B++)U[B]=arguments[B];if(String.fromCodePoint)return String.fromCodePoint.apply(String,U);var z=U.length;if(!z)return"";for(var H=[],ge=-1,Ne="";++ge<z;){var ze=U[ge];ze<=65535?H.push(ze):(ze-=65536,H.push((ze>>10)+55296,ze%1024+56320)),(ge+1===z||H.length>16384)&&(Ne+=String.fromCharCode.apply(String,H),H.length=0)}return Ne},op=wo(ys),ku="",Wd="",lp=function(U){return op.get(U)},Eg=function(U,B,z){var H=z-2,ge=B[H],Ne=B[z-1],ze=B[z];if(Ne===sa&&ze===Ja)return ku;if(Ne===sa||Ne===Ja||Ne===Is||ze===sa||ze===Ja||ze===Is)return Wd;if(Ne===hm&&[hm,Xh,np,ip].indexOf(ze)!==-1||(Ne===np||Ne===Xh)&&(ze===Xh||ze===qm)||(Ne===ip||Ne===qm)&&ze===qm||ze===sp||ze===bl||ze===Ah||Ne===rd)return ku;if(Ne===sp&&ze===Xc){for(;ge===bl;)ge=B[--H];if(ge===Xc)return ku}if(Ne===Yo&&ze===Yo){for(var dt=0;ge===Yo;)dt++,ge=B[--H];if(dt%2===0)return ku}return Wd},_g=function(U){var B=ap(U),z=B.length,H=0,ge=0,Ne=B.map(lp);return{next:function(){if(H>=z)return{done:!0,value:null};for(var ze=ku;H<z&&(ze=Eg(B,Ne,++H))===ku;);if(ze!==ku||H===z){var dt=Zh.apply(null,B.slice(ge,H));return ge=H,{value:dt,done:!1}}return{done:!0,value:null}}}},nv=function(U){for(var B=_g(U),z=[],H;!(H=B.next()).done;)H.value&&z.push(H.value.slice());return z},iv=function(U){var B=123;if(U.createRange){var z=U.createRange();if(z.getBoundingClientRect){var H=U.createElement("boundtest");H.style.height=B+"px",H.style.display="block",U.body.appendChild(H),z.selectNode(H);var ge=z.getBoundingClientRect(),Ne=Math.round(ge.height);if(U.body.removeChild(H),Ne===B)return!0}}return!1},Sg=function(U){var B=U.createElement("boundtest");B.style.width="50px",B.style.display="block",B.style.fontSize="12px",B.style.letterSpacing="0px",B.style.wordSpacing="0px",U.body.appendChild(B);var z=U.createRange();B.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var H=B.firstChild,ge=f(H.data).map(function(ht){return m(ht)}),Ne=0,ze={},dt=ge.every(function(ht,Ut){z.setStart(H,Ne),z.setEnd(H,Ne+ht.length);var Zt=z.getBoundingClientRect();Ne+=ht.length;var fr=Zt.x>ze.x||Zt.y>ze.y;return ze=Zt,Ut===0?!0:fr});return U.body.removeChild(B),dt},cp=function(){return typeof new Image().crossOrigin<"u"},nd=function(){return typeof new XMLHttpRequest().responseType=="string"},Ld=function(U){var B=new Image,z=U.createElement("canvas"),H=z.getContext("2d");if(!H)return!1;B.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{H.drawImage(B,0,0),z.toDataURL()}catch{return!1}return!0},fm=function(U){return U[0]===0&&U[1]===255&&U[2]===0&&U[3]===255},up=function(U){var B=U.createElement("canvas"),z=100;B.width=z,B.height=z;var H=B.getContext("2d");if(!H)return Promise.reject(!1);H.fillStyle="rgb(0, 255, 0)",H.fillRect(0,0,z,z);var ge=new Image,Ne=B.toDataURL();ge.src=Ne;var ze=jg(z,z,0,0,ge);return H.fillStyle="red",H.fillRect(0,0,z,z),Xm(ze).then(function(dt){H.drawImage(dt,0,0);var ht=H.getImageData(0,0,z,z).data;H.fillStyle="red",H.fillRect(0,0,z,z);var Ut=U.createElement("div");return Ut.style.backgroundImage="url("+Ne+")",Ut.style.height=z+"px",fm(ht)?Xm(jg(z,z,0,0,Ut)):Promise.reject(!1)}).then(function(dt){return H.drawImage(dt,0,0),fm(H.getImageData(0,0,z,z).data)}).catch(function(){return!1})},jg=function(U,B,z,H,ge){var Ne="http://www.w3.org/2000/svg",ze=document.createElementNS(Ne,"svg"),dt=document.createElementNS(Ne,"foreignObject");return ze.setAttributeNS(null,"width",U.toString()),ze.setAttributeNS(null,"height",B.toString()),dt.setAttributeNS(null,"width","100%"),dt.setAttributeNS(null,"height","100%"),dt.setAttributeNS(null,"x",z.toString()),dt.setAttributeNS(null,"y",H.toString()),dt.setAttributeNS(null,"externalResourcesRequired","true"),ze.appendChild(dt),dt.appendChild(ge),ze},Xm=function(U){return new Promise(function(B,z){var H=new Image;H.onload=function(){return B(H)},H.onerror=z,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(U))})},Ol={get SUPPORT_RANGE_BOUNDS(){var U=iv(document);return Object.defineProperty(Ol,"SUPPORT_RANGE_BOUNDS",{value:U}),U},get SUPPORT_WORD_BREAKING(){var U=Ol.SUPPORT_RANGE_BOUNDS&&Sg(document);return Object.defineProperty(Ol,"SUPPORT_WORD_BREAKING",{value:U}),U},get SUPPORT_SVG_DRAWING(){var U=Ld(document);return Object.defineProperty(Ol,"SUPPORT_SVG_DRAWING",{value:U}),U},get SUPPORT_FOREIGNOBJECT_DRAWING(){var U=typeof Array.from=="function"&&typeof window.fetch=="function"?up(document):Promise.resolve(!1);return Object.defineProperty(Ol,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:U}),U},get SUPPORT_CORS_IMAGES(){var U=cp();return Object.defineProperty(Ol,"SUPPORT_CORS_IMAGES",{value:U}),U},get SUPPORT_RESPONSE_TYPE(){var U=nd();return Object.defineProperty(Ol,"SUPPORT_RESPONSE_TYPE",{value:U}),U},get SUPPORT_CORS_XHR(){var U="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ol,"SUPPORT_CORS_XHR",{value:U}),U},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var U=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ol,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:U}),U}},Pf=(function(){function U(B,z){this.text=B,this.bounds=z}return U})(),Tg=function(U,B,z,H){var ge=Hx(B,z),Ne=[],ze=0;return ge.forEach(function(dt){if(z.textDecorationLine.length||dt.trim().length>0)if(Ol.SUPPORT_RANGE_BOUNDS){var ht=dp(H,ze,dt.length).getClientRects();if(ht.length>1){var Ut=mm(dt),Zt=0;Ut.forEach(function(zr){Ne.push(new Pf(zr,u.fromDOMRectList(U,dp(H,Zt+ze,zr.length).getClientRects()))),Zt+=zr.length})}else Ne.push(new Pf(dt,u.fromDOMRectList(U,ht)))}else{var fr=H.splitText(dt.length);Ne.push(new Pf(dt,Cg(U,H))),H=fr}else Ol.SUPPORT_RANGE_BOUNDS||(H=H.splitText(dt.length));ze+=dt.length}),Ne},Cg=function(U,B){var z=B.ownerDocument;if(z){var H=z.createElement("html2canvaswrapper");H.appendChild(B.cloneNode(!0));var ge=B.parentNode;if(ge){ge.replaceChild(H,B);var Ne=l(U,H);return H.firstChild&&ge.replaceChild(H.firstChild,H),Ne}}return u.EMPTY},dp=function(U,B,z){var H=U.ownerDocument;if(!H)throw new Error("Node has no owner document");var ge=H.createRange();return ge.setStart(U,B),ge.setEnd(U,B+z),ge},mm=function(U){if(Ol.SUPPORT_NATIVE_TEXT_SEGMENTATION){var B=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(B.segment(U)).map(function(z){return z.segment})}return nv(U)},Ng=function(U,B){if(Ol.SUPPORT_NATIVE_TEXT_SEGMENTATION){var z=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(z.segment(U)).map(function(H){return H.segment})}return sv(U,B)},Hx=function(U,B){return B.letterSpacing!==0?mm(U):Ng(U,B)},$1=[32,160,4961,65792,65793,4153,4241],sv=function(U,B){for(var z=Ya(U,{lineBreak:B.lineBreak,wordBreak:B.overflowWrap==="break-word"?"break-word":B.wordBreak}),H=[],ge,Ne=function(){if(ge.value){var ze=ge.value.slice(),dt=f(ze),ht="";dt.forEach(function(Ut){$1.indexOf(Ut)===-1?ht+=m(Ut):(ht.length&&H.push(ht),H.push(m(Ut)),ht="")}),ht.length&&H.push(ht)}};!(ge=z.next()).done;)Ne();return H},Zm=(function(){function U(B,z,H){this.text=Qx(z.data,H.textTransform),this.textBounds=Tg(B,this.text,H,z)}return U})(),Qx=function(U,B){switch(B){case 1:return U.toLowerCase();case 3:return U.replace(kg,Lg);case 2:return U.toUpperCase();default:return U}},kg=/(^|\s|:|-|\(|\))([a-z])/g,Lg=function(U,B,z){return U.length>0?B+z.toUpperCase():U},av=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge.src=H.currentSrc||H.src,ge.intrinsicWidth=H.naturalWidth,ge.intrinsicHeight=H.naturalHeight,ge.context.cache.addImage(ge.src),ge}return B})(zi),Jm=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge.canvas=H,ge.intrinsicWidth=H.width,ge.intrinsicHeight=H.height,ge}return B})(zi),Ig=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this,Ne=new XMLSerializer,ze=l(z,H);return H.setAttribute("width",ze.width+"px"),H.setAttribute("height",ze.height+"px"),ge.svg="data:image/svg+xml,"+encodeURIComponent(Ne.serializeToString(H)),ge.intrinsicWidth=H.width.baseVal.value,ge.intrinsicHeight=H.height.baseVal.value,ge.context.cache.addImage(ge.svg),ge}return B})(zi),Am=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge.value=H.value,ge}return B})(zi),Bg=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge.start=H.start,ge.reversed=typeof H.reversed=="boolean"&&H.reversed===!0,ge}return B})(zi),zx=[{type:15,flags:0,unit:"px",number:3}],ov=[{type:16,flags:0,number:50}],Vx=function(U){return U.width>U.height?new u(U.left+(U.width-U.height)/2,U.top,U.height,U.height):U.width<U.height?new u(U.left,U.top+(U.height-U.width)/2,U.width,U.width):U},lv=function(U){var B=U.type===Lh?new Array(U.value.length+1).join(""):U.value;return B.length===0?U.placeholder||"":B},hp="checkbox",fp="radio",Lh="password",Id=707406591,Yd=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;switch(ge.type=H.type.toLowerCase(),ge.checked=H.checked,ge.value=lv(H),(ge.type===hp||ge.type===fp)&&(ge.styles.backgroundColor=3739148031,ge.styles.borderTopColor=ge.styles.borderRightColor=ge.styles.borderBottomColor=ge.styles.borderLeftColor=2779096575,ge.styles.borderTopWidth=ge.styles.borderRightWidth=ge.styles.borderBottomWidth=ge.styles.borderLeftWidth=1,ge.styles.borderTopStyle=ge.styles.borderRightStyle=ge.styles.borderBottomStyle=ge.styles.borderLeftStyle=1,ge.styles.backgroundClip=[0],ge.styles.backgroundOrigin=[0],ge.bounds=Vx(ge.bounds)),ge.type){case hp:ge.styles.borderTopRightRadius=ge.styles.borderTopLeftRadius=ge.styles.borderBottomRightRadius=ge.styles.borderBottomLeftRadius=zx;break;case fp:ge.styles.borderTopRightRadius=ge.styles.borderTopLeftRadius=ge.styles.borderBottomRightRadius=ge.styles.borderBottomLeftRadius=ov;break}return ge}return B})(zi),Kx=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this,Ne=H.options[H.selectedIndex||0];return ge.value=Ne&&Ne.text||"",ge}return B})(zi),mp=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge.value=H.value,ge}return B})(zi),Ih=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;ge.src=H.src,ge.width=parseInt(H.width,10)||0,ge.height=parseInt(H.height,10)||0,ge.backgroundColor=ge.styles.backgroundColor;try{if(H.contentWindow&&H.contentWindow.document&&H.contentWindow.document.documentElement){ge.tree=Pg(z,H.contentWindow.document.documentElement);var Ne=H.contentWindow.document.documentElement?Ra(z,getComputedStyle(H.contentWindow.document.documentElement).backgroundColor):Xa.TRANSPARENT,ze=H.contentWindow.document.body?Ra(z,getComputedStyle(H.contentWindow.document.body).backgroundColor):Xa.TRANSPARENT;ge.backgroundColor=Ii(Ne)?Ii(ze)?ge.styles.backgroundColor:ze:Ne}}catch{}return ge}return B})(zi),Bd=["OL","UL","MENU"],eA=function(U,B,z,H){for(var ge=B.firstChild,Ne=void 0;ge;ge=Ne)if(Ne=ge.nextSibling,Og(ge)&&ge.data.trim().length>0)z.textNodes.push(new Zm(U,ge,z.styles));else if(Bh(ge))if(rA(ge)&&ge.assignedNodes)ge.assignedNodes().forEach(function(dt){return eA(U,dt,z,H)});else{var ze=cv(U,ge);ze.styles.isVisible()&&(Gx(ge,ze,H)?ze.flags|=4:Wx(ze.styles)&&(ze.flags|=2),Bd.indexOf(ge.tagName)!==-1&&(ze.flags|=8),z.elements.push(ze),ge.slot,ge.shadowRoot?eA(U,ge.shadowRoot,ze,H):!gp(ge)&&!Dg(ge)&&!vp(ge)&&eA(U,ge,ze,H))}},cv=function(U,B){return $g(B)?new av(U,B):Fg(B)?new Jm(U,B):Dg(B)?new Ig(U,B):tA(B)?new Am(U,B):Rg(B)?new Bg(U,B):Ap(B)?new Yd(U,B):vp(B)?new Kx(U,B):gp(B)?new mp(U,B):dv(B)?new Ih(U,B):new zi(U,B)},Pg=function(U,B){var z=cv(U,B);return z.flags|=4,eA(U,B,z,z),z},Gx=function(U,B,z){return B.styles.isPositionedWithZIndex()||B.styles.opacity<1||B.styles.isTransformed()||Mg(U)&&z.styles.isTransparent()},Wx=function(U){return U.isPositioned()||U.isFloating()},Og=function(U){return U.nodeType===Node.TEXT_NODE},Bh=function(U){return U.nodeType===Node.ELEMENT_NODE},Of=function(U){return Bh(U)&&typeof U.style<"u"&&!Ph(U)},Ph=function(U){return typeof U.className=="object"},tA=function(U){return U.tagName==="LI"},Rg=function(U){return U.tagName==="OL"},Ap=function(U){return U.tagName==="INPUT"},uv=function(U){return U.tagName==="HTML"},Dg=function(U){return U.tagName==="svg"},Mg=function(U){return U.tagName==="BODY"},Fg=function(U){return U.tagName==="CANVAS"},Ug=function(U){return U.tagName==="VIDEO"},$g=function(U){return U.tagName==="IMG"},dv=function(U){return U.tagName==="IFRAME"},Jh=function(U){return U.tagName==="STYLE"},pp=function(U){return U.tagName==="SCRIPT"},gp=function(U){return U.tagName==="TEXTAREA"},vp=function(U){return U.tagName==="SELECT"},rA=function(U){return U.tagName==="SLOT"},R=function(U){return U.tagName.indexOf("-")>0},q=(function(){function U(){this.counters={}}return U.prototype.getCounterValue=function(B){var z=this.counters[B];return z&&z.length?z[z.length-1]:1},U.prototype.getCounterValues=function(B){var z=this.counters[B];return z||[]},U.prototype.pop=function(B){var z=this;B.forEach(function(H){return z.counters[H].pop()})},U.prototype.parse=function(B){var z=this,H=B.counterIncrement,ge=B.counterReset,Ne=!0;H!==null&&H.forEach(function(dt){var ht=z.counters[dt.counter];ht&&dt.increment!==0&&(Ne=!1,ht.length||ht.push(1),ht[Math.max(0,ht.length-1)]+=dt.increment)});var ze=[];return Ne&&ge.forEach(function(dt){var ht=z.counters[dt.counter];ze.push(dt.counter),ht||(ht=z.counters[dt.counter]=[]),ht.push(dt.reset)}),ze},U})(),pe={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},_e={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Fe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},We={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ge=function(U,B,z,H,ge,Ne){return U<B||U>z?hn(U,ge,Ne.length>0):H.integers.reduce(function(ze,dt,ht){for(;U>=dt;)U-=dt,ze+=H.values[ht];return ze},"")+Ne},et=function(U,B,z,H){var ge="";do z||U--,ge=H(U)+ge,U/=B;while(U*B>=B);return ge},it=function(U,B,z,H,ge){var Ne=z-B+1;return(U<0?"-":"")+(et(Math.abs(U),Ne,H,function(ze){return m(Math.floor(ze%Ne)+B)})+ge)},yt=function(U,B,z){z===void 0&&(z=". ");var H=B.length;return et(Math.abs(U),H,!1,function(ge){return B[Math.floor(ge%H)]})+z},$t=1,pr=2,xt=4,Yt=8,ir=function(U,B,z,H,ge,Ne){if(U<-9999||U>9999)return hn(U,4,ge.length>0);var ze=Math.abs(U),dt=ge;if(ze===0)return B[0]+dt;for(var ht=0;ze>0&&ht<=4;ht++){var Ut=ze%10;Ut===0&&O(Ne,$t)&&dt!==""?dt=B[Ut]+dt:Ut>1||Ut===1&&ht===0||Ut===1&&ht===1&&O(Ne,pr)||Ut===1&&ht===1&&O(Ne,xt)&&U>100||Ut===1&&ht>1&&O(Ne,Yt)?dt=B[Ut]+(ht>0?z[ht-1]:"")+dt:Ut===1&&ht>0&&(dt=z[ht-1]+dt),ze=Math.floor(ze/10)}return(U<0?H:"")+dt},Hr="",Er="",Qr="",Gr="",hn=function(U,B,z){var H=z?". ":"",ge=z?"":"",Ne=z?", ":"",ze=z?" ":"";switch(B){case 0:return""+ze;case 1:return""+ze;case 2:return""+ze;case 5:var dt=it(U,48,57,!0,H);return dt.length<4?"0"+dt:dt;case 4:return yt(U,"",ge);case 6:return Ge(U,1,3999,pe,3,H).toLowerCase();case 7:return Ge(U,1,3999,pe,3,H);case 8:return it(U,945,969,!1,H);case 9:return it(U,97,122,!1,H);case 10:return it(U,65,90,!1,H);case 11:return it(U,1632,1641,!0,H);case 12:case 49:return Ge(U,1,9999,_e,3,H);case 35:return Ge(U,1,9999,_e,3,H).toLowerCase();case 13:return it(U,2534,2543,!0,H);case 14:case 30:return it(U,6112,6121,!0,H);case 15:return yt(U,"",ge);case 16:return yt(U,"",ge);case 17:case 48:return ir(U,"",Hr,"",ge,pr|xt|Yt);case 47:return ir(U,"",Er,"",ge,$t|pr|xt|Yt);case 42:return ir(U,"",Hr,"",ge,pr|xt|Yt);case 41:return ir(U,"",Er,"",ge,$t|pr|xt|Yt);case 26:return ir(U,"","",Qr,ge,0);case 25:return ir(U,"","",Qr,ge,$t|pr|xt);case 31:return ir(U,"","",Gr,Ne,$t|pr|xt);case 33:return ir(U,"","",Gr,Ne,0);case 32:return ir(U,"","",Gr,Ne,$t|pr|xt);case 18:return it(U,2406,2415,!0,H);case 20:return Ge(U,1,19999,We,3,H);case 21:return it(U,2790,2799,!0,H);case 22:return it(U,2662,2671,!0,H);case 22:return Ge(U,1,10999,Fe,3,H);case 23:return yt(U,"");case 24:return yt(U,"");case 27:return it(U,3302,3311,!0,H);case 28:return yt(U,"",ge);case 29:return yt(U,"",ge);case 34:return it(U,3792,3801,!0,H);case 37:return it(U,6160,6169,!0,H);case 38:return it(U,4160,4169,!0,H);case 39:return it(U,2918,2927,!0,H);case 40:return it(U,1776,1785,!0,H);case 43:return it(U,3046,3055,!0,H);case 44:return it(U,3174,3183,!0,H);case 45:return it(U,3664,3673,!0,H);case 46:return it(U,3872,3881,!0,H);default:return it(U,48,57,!0,H)}},nn="data-html2canvas-ignore",Ti=(function(){function U(B,z,H){if(this.context=B,this.options=H,this.scrolledElements=[],this.referenceElement=z,this.counters=new q,this.quoteDepth=0,!z.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(z.ownerDocument.documentElement,!1)}return U.prototype.toIFrame=function(B,z){var H=this,ge=Bs(B,z);if(!ge.contentWindow)return Promise.reject("Unable to find iframe window");var Ne=B.defaultView.pageXOffset,ze=B.defaultView.pageYOffset,dt=ge.contentWindow,ht=dt.document,Ut=Rl(ge).then(function(){return a(H,void 0,void 0,function(){var Zt,fr;return o(this,function(zr){switch(zr.label){case 0:return this.scrolledElements.forEach(Ss),dt&&(dt.scrollTo(z.left,z.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(dt.scrollY!==z.top||dt.scrollX!==z.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(dt.scrollX-z.left,dt.scrollY-z.top,0,0))),Zt=this.options.onclone,fr=this.clonedReferenceElement,typeof fr>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:ht.fonts&&ht.fonts.ready?[4,ht.fonts.ready]:[3,2];case 1:zr.sent(),zr.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ca(ht)]:[3,4];case 3:zr.sent(),zr.label=4;case 4:return typeof Zt=="function"?[2,Promise.resolve().then(function(){return Zt(ht,fr)}).then(function(){return ge})]:[2,ge]}})})});return ht.open(),ht.write(Rn(document.doctype)+"<html></html>"),sl(this.referenceElement.ownerDocument,Ne,ze),ht.replaceChild(ht.adoptNode(this.documentElement),ht.documentElement),ht.close(),Ut},U.prototype.createElementClone=function(B){if(ki(B,2))debugger;if(Fg(B))return this.createCanvasClone(B);if(Ug(B))return this.createVideoClone(B);if(Jh(B))return this.createStyleClone(B);var z=B.cloneNode(!1);return $g(z)&&($g(B)&&B.currentSrc&&B.currentSrc!==B.src&&(z.src=B.currentSrc,z.srcset=""),z.loading==="lazy"&&(z.loading="eager")),R(z)?this.createCustomElementClone(z):z},U.prototype.createCustomElementClone=function(B){var z=document.createElement("html2canvascustomelement");return fi(B.style,z),z},U.prototype.createStyleClone=function(B){try{var z=B.sheet;if(z&&z.cssRules){var H=[].slice.call(z.cssRules,0).reduce(function(Ne,ze){return ze&&typeof ze.cssText=="string"?Ne+ze.cssText:Ne},""),ge=B.cloneNode(!1);return ge.textContent=H,ge}}catch(Ne){if(this.context.logger.error("Unable to access cssRules property",Ne),Ne.name!=="SecurityError")throw Ne}return B.cloneNode(!1)},U.prototype.createCanvasClone=function(B){var z;if(this.options.inlineImages&&B.ownerDocument){var H=B.ownerDocument.createElement("img");try{return H.src=B.toDataURL(),H}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",B)}}var ge=B.cloneNode(!1);try{ge.width=B.width,ge.height=B.height;var Ne=B.getContext("2d"),ze=ge.getContext("2d");if(ze)if(!this.options.allowTaint&&Ne)ze.putImageData(Ne.getImageData(0,0,B.width,B.height),0,0);else{var dt=(z=B.getContext("webgl2"))!==null&&z!==void 0?z:B.getContext("webgl");if(dt){var ht=dt.getContextAttributes();ht?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",B)}ze.drawImage(B,0,0)}return ge}catch{this.context.logger.info("Unable to clone canvas as it is tainted",B)}return ge},U.prototype.createVideoClone=function(B){var z=B.ownerDocument.createElement("canvas");z.width=B.offsetWidth,z.height=B.offsetHeight;var H=z.getContext("2d");try{return H&&(H.drawImage(B,0,0,z.width,z.height),this.options.allowTaint||H.getImageData(0,0,z.width,z.height)),z}catch{this.context.logger.info("Unable to clone video as it is tainted",B)}var ge=B.ownerDocument.createElement("canvas");return ge.width=B.offsetWidth,ge.height=B.offsetHeight,ge},U.prototype.appendChildNode=function(B,z,H){(!Bh(z)||!pp(z)&&!z.hasAttribute(nn)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(z)))&&(!this.options.copyStyles||!Bh(z)||!Jh(z))&&B.appendChild(this.cloneNode(z,H))},U.prototype.cloneChildNodes=function(B,z,H){for(var ge=this,Ne=B.shadowRoot?B.shadowRoot.firstChild:B.firstChild;Ne;Ne=Ne.nextSibling)if(Bh(Ne)&&rA(Ne)&&typeof Ne.assignedNodes=="function"){var ze=Ne.assignedNodes();ze.length&&ze.forEach(function(dt){return ge.appendChildNode(z,dt,H)})}else this.appendChildNode(z,Ne,H)},U.prototype.cloneNode=function(B,z){if(Og(B))return document.createTextNode(B.data);if(!B.ownerDocument)return B.cloneNode(!1);var H=B.ownerDocument.defaultView;if(H&&Bh(B)&&(Of(B)||Ph(B))){var ge=this.createElementClone(B);ge.style.transitionProperty="none";var Ne=H.getComputedStyle(B),ze=H.getComputedStyle(B,":before"),dt=H.getComputedStyle(B,":after");this.referenceElement===B&&Of(ge)&&(this.clonedReferenceElement=ge),Mg(ge)&&Tc(ge);var ht=this.counters.parse(new sn(this.context,Ne)),Ut=this.resolvePseudoContent(B,ge,ze,Kn.BEFORE);R(B)&&(z=!0),Ug(B)||this.cloneChildNodes(B,ge,z),Ut&&ge.insertBefore(Ut,ge.firstChild);var Zt=this.resolvePseudoContent(B,ge,dt,Kn.AFTER);return Zt&&ge.appendChild(Zt),this.counters.pop(ht),(Ne&&(this.options.copyStyles||Ph(B))&&!dv(B)||z)&&fi(Ne,ge),(B.scrollTop!==0||B.scrollLeft!==0)&&this.scrolledElements.push([ge,B.scrollLeft,B.scrollTop]),(gp(B)||vp(B))&&(gp(ge)||vp(ge))&&(ge.value=B.value),ge}return B.cloneNode(!1)},U.prototype.resolvePseudoContent=function(B,z,H,ge){var Ne=this;if(H){var ze=H.content,dt=z.ownerDocument;if(!(!dt||!ze||ze==="none"||ze==="-moz-alt-content"||H.display==="none")){this.counters.parse(new sn(this.context,H));var ht=new Bn(this.context,H),Ut=dt.createElement("html2canvaspseudoelement");fi(H,Ut),ht.content.forEach(function(fr){if(fr.type===0)Ut.appendChild(dt.createTextNode(fr.value));else if(fr.type===22){var zr=dt.createElement("img");zr.src=fr.value,zr.style.opacity="1",Ut.appendChild(zr)}else if(fr.type===18){if(fr.name==="attr"){var Gn=fr.values.filter(Nn);Gn.length&&Ut.appendChild(dt.createTextNode(B.getAttribute(Gn[0].value)||""))}else if(fr.name==="counter"){var wn=fr.values.filter(Vn),Dn=wn[0],Bi=wn[1];if(Dn&&Nn(Dn)){var hi=Ne.counters.getCounterValue(Dn.value),li=Bi&&Nn(Bi)?Td.parse(Ne.context,Bi.value):3;Ut.appendChild(dt.createTextNode(hn(hi,li,!1)))}}else if(fr.name==="counters"){var ea=fr.values.filter(Vn),Dn=ea[0],Ks=ea[1],Bi=ea[2];if(Dn&&Nn(Dn)){var us=Ne.counters.getCounterValues(Dn.value),Zn=Bi&&Nn(Bi)?Td.parse(Ne.context,Bi.value):3,ua=Ks&&Ks.type===0?Ks.value:"",xa=us.map(function(Do){return hn(Do,Zn,!1)}).join(ua);Ut.appendChild(dt.createTextNode(xa))}}}else if(fr.type===20)switch(fr.value){case"open-quote":Ut.appendChild(dt.createTextNode(yr(ht.quotes,Ne.quoteDepth++,!0)));break;case"close-quote":Ut.appendChild(dt.createTextNode(yr(ht.quotes,--Ne.quoteDepth,!1)));break;default:Ut.appendChild(dt.createTextNode(fr.value))}}),Ut.className=oc+" "+jc;var Zt=ge===Kn.BEFORE?" "+oc:" "+jc;return Ph(z)?z.className.baseValue+=Zt:z.className+=Zt,Ut}}},U.destroy=function(B){return B.parentNode?(B.parentNode.removeChild(B),!0):!1},U})(),Kn;(function(U){U[U.BEFORE=0]="BEFORE",U[U.AFTER=1]="AFTER"})(Kn||(Kn={}));var Bs=function(U,B){var z=U.createElement("iframe");return z.className="html2canvas-container",z.style.visibility="hidden",z.style.position="fixed",z.style.left="-10000px",z.style.top="0px",z.style.border="0",z.width=B.width.toString(),z.height=B.height.toString(),z.scrolling="no",z.setAttribute(nn,"true"),U.body.appendChild(z),z},gi=function(U){return new Promise(function(B){if(U.complete){B();return}if(!U.src){B();return}U.onload=B,U.onerror=B})},ca=function(U){return Promise.all([].slice.call(U.images,0).map(gi))},Rl=function(U){return new Promise(function(B,z){var H=U.contentWindow;if(!H)return z("No window assigned for iframe");var ge=H.document;H.onload=U.onload=function(){H.onload=U.onload=null;var Ne=setInterval(function(){ge.body.childNodes.length>0&&ge.readyState==="complete"&&(clearInterval(Ne),B(U))},50)}})},_s=["all","d","content"],fi=function(U,B){for(var z=U.length-1;z>=0;z--){var H=U.item(z);_s.indexOf(H)===-1&&B.style.setProperty(H,U.getPropertyValue(H))}return B},Rn=function(U){var B="";return U&&(B+="<!DOCTYPE ",U.name&&(B+=U.name),U.internalSubset&&(B+=U.internalSubset),U.publicId&&(B+='"'+U.publicId+'"'),U.systemId&&(B+='"'+U.systemId+'"'),B+=">"),B},sl=function(U,B,z){U&&U.defaultView&&(B!==U.defaultView.pageXOffset||z!==U.defaultView.pageYOffset)&&U.defaultView.scrollTo(B,z)},Ss=function(U){var B=U[0],z=U[1],H=U[2];B.scrollLeft=z,B.scrollTop=H},Ds=":before",Eo=":after",oc="___html2canvas___pseudoelement_before",jc="___html2canvas___pseudoelement_after",$a=`{
    content: "" !important;
    display: none !important;
}`,Tc=function(U){uu(U,"."+oc+Ds+$a+`
         .`+jc+Eo+$a)},uu=function(U,B){var z=U.ownerDocument;if(z){var H=z.createElement("style");H.textContent=B,U.appendChild(H)}},al=(function(){function U(){}return U.getOrigin=function(B){var z=U._link;return z?(z.href=B,z.href=z.href,z.protocol+z.hostname+z.port):"about:blank"},U.isSameOrigin=function(B){return U.getOrigin(B)===U._origin},U.setContext=function(B){U._link=B.document.createElement("a"),U._origin=U.getOrigin(B.location.href)},U._origin="about:blank",U})(),aa=(function(){function U(B,z){this.context=B,this._options=z,this._cache={}}return U.prototype.addImage=function(B){var z=Promise.resolve();return this.has(B)||(Jc(B)||Cc(B))&&(this._cache[B]=this.loadImage(B)).catch(function(){}),z},U.prototype.match=function(B){return this._cache[B]},U.prototype.loadImage=function(B){return a(this,void 0,void 0,function(){var z,H,ge,Ne,ze=this;return o(this,function(dt){switch(dt.label){case 0:return z=al.isSameOrigin(B),H=!Zc(B)&&this._options.useCORS===!0&&Ol.SUPPORT_CORS_IMAGES&&!z,ge=!Zc(B)&&!z&&!Jc(B)&&typeof this._options.proxy=="string"&&Ol.SUPPORT_CORS_XHR&&!H,!z&&this._options.allowTaint===!1&&!Zc(B)&&!Jc(B)&&!ge&&!H?[2]:(Ne=B,ge?[4,this.proxy(Ne)]:[3,2]);case 1:Ne=dt.sent(),dt.label=2;case 2:return this.context.logger.debug("Added image "+B.substring(0,256)),[4,new Promise(function(ht,Ut){var Zt=new Image;Zt.onload=function(){return ht(Zt)},Zt.onerror=Ut,(lo(Ne)||H)&&(Zt.crossOrigin="anonymous"),Zt.src=Ne,Zt.complete===!0&&setTimeout(function(){return ht(Zt)},500),ze._options.imageTimeout>0&&setTimeout(function(){return Ut("Timed out ("+ze._options.imageTimeout+"ms) loading image")},ze._options.imageTimeout)})];case 3:return[2,dt.sent()]}})})},U.prototype.has=function(B){return typeof this._cache[B]<"u"},U.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},U.prototype.proxy=function(B){var z=this,H=this._options.proxy;if(!H)throw new Error("No proxy defined");var ge=B.substring(0,256);return new Promise(function(Ne,ze){var dt=Ol.SUPPORT_RESPONSE_TYPE?"blob":"text",ht=new XMLHttpRequest;ht.onload=function(){if(ht.status===200)if(dt==="text")Ne(ht.response);else{var fr=new FileReader;fr.addEventListener("load",function(){return Ne(fr.result)},!1),fr.addEventListener("error",function(zr){return ze(zr)},!1),fr.readAsDataURL(ht.response)}else ze("Failed to proxy resource "+ge+" with status code "+ht.status)},ht.onerror=ze;var Ut=H.indexOf("?")>-1?"&":"?";if(ht.open("GET",""+H+Ut+"url="+encodeURIComponent(B)+"&responseType="+dt),dt!=="text"&&ht instanceof XMLHttpRequest&&(ht.responseType=dt),z._options.imageTimeout){var Zt=z._options.imageTimeout;ht.timeout=Zt,ht.ontimeout=function(){return ze("Timed out ("+Zt+"ms) proxying "+ge)}}ht.send()})},U})(),Vi=/^data:image\/svg\+xml/i,wl=/^data:image\/.*;base64,/i,eo=/^data:image\/.*/i,Cc=function(U){return Ol.SUPPORT_SVG_DRAWING||!co(U)},Zc=function(U){return eo.test(U)},lo=function(U){return wl.test(U)},Jc=function(U){return U.substr(0,4)==="blob"},co=function(U){return U.substr(-3).toLowerCase()==="svg"||Vi.test(U)},vn=(function(){function U(B,z){this.type=0,this.x=B,this.y=z}return U.prototype.add=function(B,z){return new U(this.x+B,this.y+z)},U})(),_o=function(U,B,z){return new vn(U.x+(B.x-U.x)*z,U.y+(B.y-U.y)*z)},lc=(function(){function U(B,z,H,ge){this.type=1,this.start=B,this.startControl=z,this.endControl=H,this.end=ge}return U.prototype.subdivide=function(B,z){var H=_o(this.start,this.startControl,B),ge=_o(this.startControl,this.endControl,B),Ne=_o(this.endControl,this.end,B),ze=_o(H,ge,B),dt=_o(ge,Ne,B),ht=_o(ze,dt,B);return z?new U(this.start,H,ze,ht):new U(ht,dt,Ne,this.end)},U.prototype.add=function(B,z){return new U(this.start.add(B,z),this.startControl.add(B,z),this.endControl.add(B,z),this.end.add(B,z))},U.prototype.reverse=function(){return new U(this.end,this.endControl,this.startControl,this.start)},U})(),No=function(U){return U.type===1},id=(function(){function U(B){var z=B.styles,H=B.bounds,ge=Xn(z.borderTopLeftRadius,H.width,H.height),Ne=ge[0],ze=ge[1],dt=Xn(z.borderTopRightRadius,H.width,H.height),ht=dt[0],Ut=dt[1],Zt=Xn(z.borderBottomRightRadius,H.width,H.height),fr=Zt[0],zr=Zt[1],Gn=Xn(z.borderBottomLeftRadius,H.width,H.height),wn=Gn[0],Dn=Gn[1],Bi=[];Bi.push((Ne+ht)/H.width),Bi.push((wn+fr)/H.width),Bi.push((ze+Dn)/H.height),Bi.push((Ut+zr)/H.height);var hi=Math.max.apply(Math,Bi);hi>1&&(Ne/=hi,ze/=hi,ht/=hi,Ut/=hi,fr/=hi,zr/=hi,wn/=hi,Dn/=hi);var li=H.width-ht,ea=H.height-zr,Ks=H.width-fr,us=H.height-Dn,Zn=z.borderTopWidth,ua=z.borderRightWidth,xa=z.borderBottomWidth,Mi=z.borderLeftWidth,cc=Gi(z.paddingTop,B.bounds.width),Do=Gi(z.paddingRight,B.bounds.width),Jd=Gi(z.paddingBottom,B.bounds.width),So=Gi(z.paddingLeft,B.bounds.width);this.topLeftBorderDoubleOuterBox=Ne>0||ze>0?Js(H.left+Mi/3,H.top+Zn/3,Ne-Mi/3,ze-Zn/3,ws.TOP_LEFT):new vn(H.left+Mi/3,H.top+Zn/3),this.topRightBorderDoubleOuterBox=Ne>0||ze>0?Js(H.left+li,H.top+Zn/3,ht-ua/3,Ut-Zn/3,ws.TOP_RIGHT):new vn(H.left+H.width-ua/3,H.top+Zn/3),this.bottomRightBorderDoubleOuterBox=fr>0||zr>0?Js(H.left+Ks,H.top+ea,fr-ua/3,zr-xa/3,ws.BOTTOM_RIGHT):new vn(H.left+H.width-ua/3,H.top+H.height-xa/3),this.bottomLeftBorderDoubleOuterBox=wn>0||Dn>0?Js(H.left+Mi/3,H.top+us,wn-Mi/3,Dn-xa/3,ws.BOTTOM_LEFT):new vn(H.left+Mi/3,H.top+H.height-xa/3),this.topLeftBorderDoubleInnerBox=Ne>0||ze>0?Js(H.left+Mi*2/3,H.top+Zn*2/3,Ne-Mi*2/3,ze-Zn*2/3,ws.TOP_LEFT):new vn(H.left+Mi*2/3,H.top+Zn*2/3),this.topRightBorderDoubleInnerBox=Ne>0||ze>0?Js(H.left+li,H.top+Zn*2/3,ht-ua*2/3,Ut-Zn*2/3,ws.TOP_RIGHT):new vn(H.left+H.width-ua*2/3,H.top+Zn*2/3),this.bottomRightBorderDoubleInnerBox=fr>0||zr>0?Js(H.left+Ks,H.top+ea,fr-ua*2/3,zr-xa*2/3,ws.BOTTOM_RIGHT):new vn(H.left+H.width-ua*2/3,H.top+H.height-xa*2/3),this.bottomLeftBorderDoubleInnerBox=wn>0||Dn>0?Js(H.left+Mi*2/3,H.top+us,wn-Mi*2/3,Dn-xa*2/3,ws.BOTTOM_LEFT):new vn(H.left+Mi*2/3,H.top+H.height-xa*2/3),this.topLeftBorderStroke=Ne>0||ze>0?Js(H.left+Mi/2,H.top+Zn/2,Ne-Mi/2,ze-Zn/2,ws.TOP_LEFT):new vn(H.left+Mi/2,H.top+Zn/2),this.topRightBorderStroke=Ne>0||ze>0?Js(H.left+li,H.top+Zn/2,ht-ua/2,Ut-Zn/2,ws.TOP_RIGHT):new vn(H.left+H.width-ua/2,H.top+Zn/2),this.bottomRightBorderStroke=fr>0||zr>0?Js(H.left+Ks,H.top+ea,fr-ua/2,zr-xa/2,ws.BOTTOM_RIGHT):new vn(H.left+H.width-ua/2,H.top+H.height-xa/2),this.bottomLeftBorderStroke=wn>0||Dn>0?Js(H.left+Mi/2,H.top+us,wn-Mi/2,Dn-xa/2,ws.BOTTOM_LEFT):new vn(H.left+Mi/2,H.top+H.height-xa/2),this.topLeftBorderBox=Ne>0||ze>0?Js(H.left,H.top,Ne,ze,ws.TOP_LEFT):new vn(H.left,H.top),this.topRightBorderBox=ht>0||Ut>0?Js(H.left+li,H.top,ht,Ut,ws.TOP_RIGHT):new vn(H.left+H.width,H.top),this.bottomRightBorderBox=fr>0||zr>0?Js(H.left+Ks,H.top+ea,fr,zr,ws.BOTTOM_RIGHT):new vn(H.left+H.width,H.top+H.height),this.bottomLeftBorderBox=wn>0||Dn>0?Js(H.left,H.top+us,wn,Dn,ws.BOTTOM_LEFT):new vn(H.left,H.top+H.height),this.topLeftPaddingBox=Ne>0||ze>0?Js(H.left+Mi,H.top+Zn,Math.max(0,Ne-Mi),Math.max(0,ze-Zn),ws.TOP_LEFT):new vn(H.left+Mi,H.top+Zn),this.topRightPaddingBox=ht>0||Ut>0?Js(H.left+Math.min(li,H.width-ua),H.top+Zn,li>H.width+ua?0:Math.max(0,ht-ua),Math.max(0,Ut-Zn),ws.TOP_RIGHT):new vn(H.left+H.width-ua,H.top+Zn),this.bottomRightPaddingBox=fr>0||zr>0?Js(H.left+Math.min(Ks,H.width-Mi),H.top+Math.min(ea,H.height-xa),Math.max(0,fr-ua),Math.max(0,zr-xa),ws.BOTTOM_RIGHT):new vn(H.left+H.width-ua,H.top+H.height-xa),this.bottomLeftPaddingBox=wn>0||Dn>0?Js(H.left+Mi,H.top+Math.min(us,H.height-xa),Math.max(0,wn-Mi),Math.max(0,Dn-xa),ws.BOTTOM_LEFT):new vn(H.left+Mi,H.top+H.height-xa),this.topLeftContentBox=Ne>0||ze>0?Js(H.left+Mi+So,H.top+Zn+cc,Math.max(0,Ne-(Mi+So)),Math.max(0,ze-(Zn+cc)),ws.TOP_LEFT):new vn(H.left+Mi+So,H.top+Zn+cc),this.topRightContentBox=ht>0||Ut>0?Js(H.left+Math.min(li,H.width+Mi+So),H.top+Zn+cc,li>H.width+Mi+So?0:ht-Mi+So,Ut-(Zn+cc),ws.TOP_RIGHT):new vn(H.left+H.width-(ua+Do),H.top+Zn+cc),this.bottomRightContentBox=fr>0||zr>0?Js(H.left+Math.min(Ks,H.width-(Mi+So)),H.top+Math.min(ea,H.height+Zn+cc),Math.max(0,fr-(ua+Do)),zr-(xa+Jd),ws.BOTTOM_RIGHT):new vn(H.left+H.width-(ua+Do),H.top+H.height-(xa+Jd)),this.bottomLeftContentBox=wn>0||Dn>0?Js(H.left+Mi+So,H.top+us,Math.max(0,wn-(Mi+So)),Dn-(xa+Jd),ws.BOTTOM_LEFT):new vn(H.left+Mi+So,H.top+H.height-(xa+Jd))}return U})(),ws;(function(U){U[U.TOP_LEFT=0]="TOP_LEFT",U[U.TOP_RIGHT=1]="TOP_RIGHT",U[U.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",U[U.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ws||(ws={}));var Js=function(U,B,z,H,ge){var Ne=4*((Math.sqrt(2)-1)/3),ze=z*Ne,dt=H*Ne,ht=U+z,Ut=B+H;switch(ge){case ws.TOP_LEFT:return new lc(new vn(U,Ut),new vn(U,Ut-dt),new vn(ht-ze,B),new vn(ht,B));case ws.TOP_RIGHT:return new lc(new vn(U,B),new vn(U+ze,B),new vn(ht,Ut-dt),new vn(ht,Ut));case ws.BOTTOM_RIGHT:return new lc(new vn(ht,B),new vn(ht,B+dt),new vn(U+ze,Ut),new vn(U,Ut));case ws.BOTTOM_LEFT:default:return new lc(new vn(ht,Ut),new vn(ht-ze,Ut),new vn(U,B+dt),new vn(U,B))}},ka=function(U){return[U.topLeftBorderBox,U.topRightBorderBox,U.bottomRightBorderBox,U.bottomLeftBorderBox]},sd=function(U){return[U.topLeftContentBox,U.topRightContentBox,U.bottomRightContentBox,U.bottomLeftContentBox]},El=function(U){return[U.topLeftPaddingBox,U.topRightPaddingBox,U.bottomRightPaddingBox,U.bottomLeftPaddingBox]},ko=(function(){function U(B,z,H){this.offsetX=B,this.offsetY=z,this.matrix=H,this.type=0,this.target=6}return U})(),ad=(function(){function U(B,z){this.path=B,this.target=z,this.type=1}return U})(),Nc=(function(){function U(B){this.opacity=B,this.type=2,this.target=6}return U})(),Dl=function(U){return U.type===0},Hg=function(U){return U.type===1},xp=function(U){return U.type===2},pm=function(U,B){return U.length===B.length?U.some(function(z,H){return z===B[H]}):!1},qo=function(U,B,z,H,ge){return U.map(function(Ne,ze){switch(ze){case 0:return Ne.add(B,z);case 1:return Ne.add(B+H,z);case 2:return Ne.add(B+H,z+ge);case 3:return Ne.add(B,z+ge)}return Ne})},Lu=(function(){function U(B){this.element=B,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return U})(),qd=(function(){function U(B,z){if(this.container=B,this.parent=z,this.effects=[],this.curves=new id(this.container),this.container.styles.opacity<1&&this.effects.push(new Nc(this.container.styles.opacity)),this.container.styles.transform!==null){var H=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ge=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Ne=this.container.styles.transform;this.effects.push(new ko(H,ge,Ne))}if(this.container.styles.overflowX!==0){var ze=ka(this.curves),dt=El(this.curves);pm(ze,dt)?this.effects.push(new ad(ze,6)):(this.effects.push(new ad(ze,2)),this.effects.push(new ad(dt,4)))}}return U.prototype.getEffects=function(B){for(var z=[2,3].indexOf(this.container.styles.position)===-1,H=this.parent,ge=this.effects.slice(0);H;){var Ne=H.effects.filter(function(ht){return!Hg(ht)});if(z||H.container.styles.position!==0||!H.parent){if(ge.unshift.apply(ge,Ne),z=[2,3].indexOf(H.container.styles.position)===-1,H.container.styles.overflowX!==0){var ze=ka(H.curves),dt=El(H.curves);pm(ze,dt)||ge.unshift(new ad(dt,6))}}else ge.unshift.apply(ge,Ne);H=H.parent}return ge.filter(function(ht){return O(ht.target,B)})},U})(),ph=function(U,B,z,H){U.container.elements.forEach(function(ge){var Ne=O(ge.flags,4),ze=O(ge.flags,2),dt=new qd(ge,U);O(ge.styles.display,2048)&&H.push(dt);var ht=O(ge.flags,8)?[]:H;if(Ne||ze){var Ut=Ne||ge.styles.isPositioned()?z:B,Zt=new Lu(dt);if(ge.styles.isPositioned()||ge.styles.opacity<1||ge.styles.isTransformed()){var fr=ge.styles.zIndex.order;if(fr<0){var zr=0;Ut.negativeZIndex.some(function(wn,Dn){return fr>wn.element.container.styles.zIndex.order?(zr=Dn,!1):zr>0}),Ut.negativeZIndex.splice(zr,0,Zt)}else if(fr>0){var Gn=0;Ut.positiveZIndex.some(function(wn,Dn){return fr>=wn.element.container.styles.zIndex.order?(Gn=Dn+1,!1):Gn>0}),Ut.positiveZIndex.splice(Gn,0,Zt)}else Ut.zeroOrAutoZIndexOrTransformedOrOpacity.push(Zt)}else ge.styles.isFloating()?Ut.nonPositionedFloats.push(Zt):Ut.nonPositionedInlineLevel.push(Zt);ph(dt,Zt,Ne?Zt:z,ht)}else ge.styles.isInlineLevel()?B.inlineLevel.push(dt):B.nonInlineLevel.push(dt),ph(dt,B,z,ht);O(ge.flags,8)&&hv(ge,ht)})},hv=function(U,B){for(var z=U instanceof Bg?U.start:1,H=U instanceof Bg?U.reversed:!1,ge=0;ge<B.length;ge++){var Ne=B[ge];Ne.container instanceof Am&&typeof Ne.container.value=="number"&&Ne.container.value!==0&&(z=Ne.container.value),Ne.listValue=hn(z,Ne.container.styles.listStyleType,!0),z+=H?-1:1}},Yx=function(U){var B=new qd(U,null),z=new Lu(B),H=[];return ph(B,z,z,H),hv(B.container,H),z},qx=function(U,B){switch(B){case 0:return uo(U.topLeftBorderBox,U.topLeftPaddingBox,U.topRightBorderBox,U.topRightPaddingBox);case 1:return uo(U.topRightBorderBox,U.topRightPaddingBox,U.bottomRightBorderBox,U.bottomRightPaddingBox);case 2:return uo(U.bottomRightBorderBox,U.bottomRightPaddingBox,U.bottomLeftBorderBox,U.bottomLeftPaddingBox);default:return uo(U.bottomLeftBorderBox,U.bottomLeftPaddingBox,U.topLeftBorderBox,U.topLeftPaddingBox)}},yp=function(U,B){switch(B){case 0:return uo(U.topLeftBorderBox,U.topLeftBorderDoubleOuterBox,U.topRightBorderBox,U.topRightBorderDoubleOuterBox);case 1:return uo(U.topRightBorderBox,U.topRightBorderDoubleOuterBox,U.bottomRightBorderBox,U.bottomRightBorderDoubleOuterBox);case 2:return uo(U.bottomRightBorderBox,U.bottomRightBorderDoubleOuterBox,U.bottomLeftBorderBox,U.bottomLeftBorderDoubleOuterBox);default:return uo(U.bottomLeftBorderBox,U.bottomLeftBorderDoubleOuterBox,U.topLeftBorderBox,U.topLeftBorderDoubleOuterBox)}},eu=function(U,B){switch(B){case 0:return uo(U.topLeftBorderDoubleInnerBox,U.topLeftPaddingBox,U.topRightBorderDoubleInnerBox,U.topRightPaddingBox);case 1:return uo(U.topRightBorderDoubleInnerBox,U.topRightPaddingBox,U.bottomRightBorderDoubleInnerBox,U.bottomRightPaddingBox);case 2:return uo(U.bottomRightBorderDoubleInnerBox,U.bottomRightPaddingBox,U.bottomLeftBorderDoubleInnerBox,U.bottomLeftPaddingBox);default:return uo(U.bottomLeftBorderDoubleInnerBox,U.bottomLeftPaddingBox,U.topLeftBorderDoubleInnerBox,U.topLeftPaddingBox)}},Xd=function(U,B){switch(B){case 0:return nA(U.topLeftBorderStroke,U.topRightBorderStroke);case 1:return nA(U.topRightBorderStroke,U.bottomRightBorderStroke);case 2:return nA(U.bottomRightBorderStroke,U.bottomLeftBorderStroke);default:return nA(U.bottomLeftBorderStroke,U.topLeftBorderStroke)}},nA=function(U,B){var z=[];return No(U)?z.push(U.subdivide(.5,!1)):z.push(U),No(B)?z.push(B.subdivide(.5,!0)):z.push(B),z},uo=function(U,B,z,H){var ge=[];return No(U)?ge.push(U.subdivide(.5,!1)):ge.push(U),No(z)?ge.push(z.subdivide(.5,!0)):ge.push(z),No(H)?ge.push(H.subdivide(.5,!0).reverse()):ge.push(H),No(B)?ge.push(B.subdivide(.5,!1).reverse()):ge.push(B),ge},bp=function(U){var B=U.bounds,z=U.styles;return B.add(z.borderLeftWidth,z.borderTopWidth,-(z.borderRightWidth+z.borderLeftWidth),-(z.borderTopWidth+z.borderBottomWidth))},du=function(U){var B=U.styles,z=U.bounds,H=Gi(B.paddingLeft,z.width),ge=Gi(B.paddingRight,z.width),Ne=Gi(B.paddingTop,z.width),ze=Gi(B.paddingBottom,z.width);return z.add(H+B.borderLeftWidth,Ne+B.borderTopWidth,-(B.borderRightWidth+B.borderLeftWidth+H+ge),-(B.borderTopWidth+B.borderBottomWidth+Ne+ze))},Rf=function(U,B){return U===0?B.bounds:U===2?du(B):bp(B)},ef=function(U,B){return U===0?B.bounds:U===2?du(B):bp(B)},Df=function(U,B,z){var H=Rf(Zd(U.styles.backgroundOrigin,B),U),ge=ef(Zd(U.styles.backgroundClip,B),U),Ne=rf(Zd(U.styles.backgroundSize,B),z,H),ze=Ne[0],dt=Ne[1],ht=Xn(Zd(U.styles.backgroundPosition,B),H.width-ze,H.height-dt),Ut=iA(Zd(U.styles.backgroundRepeat,B),ht,Ne,H,ge),Zt=Math.round(H.left+ht[0]),fr=Math.round(H.top+ht[1]);return[Ut,Zt,fr,ze,dt]},tf=function(U){return Nn(U)&&U.value===Fi.AUTO},hu=function(U){return typeof U=="number"},rf=function(U,B,z){var H=B[0],ge=B[1],Ne=B[2],ze=U[0],dt=U[1];if(!ze)return[0,0];if(qn(ze)&&dt&&qn(dt))return[Gi(ze,z.width),Gi(dt,z.height)];var ht=hu(Ne);if(Nn(ze)&&(ze.value===Fi.CONTAIN||ze.value===Fi.COVER)){if(hu(Ne)){var Ut=z.width/z.height;return Ut<Ne!=(ze.value===Fi.COVER)?[z.width,z.width/Ne]:[z.height*Ne,z.height]}return[z.width,z.height]}var Zt=hu(H),fr=hu(ge),zr=Zt||fr;if(tf(ze)&&(!dt||tf(dt))){if(Zt&&fr)return[H,ge];if(!ht&&!zr)return[z.width,z.height];if(zr&&ht){var Gn=Zt?H:ge*Ne,wn=fr?ge:H/Ne;return[Gn,wn]}var Dn=Zt?H:z.width,Bi=fr?ge:z.height;return[Dn,Bi]}if(ht){var hi=0,li=0;return qn(ze)?hi=Gi(ze,z.width):qn(dt)&&(li=Gi(dt,z.height)),tf(ze)?hi=li*Ne:(!dt||tf(dt))&&(li=hi/Ne),[hi,li]}var ea=null,Ks=null;if(qn(ze)?ea=Gi(ze,z.width):dt&&qn(dt)&&(Ks=Gi(dt,z.height)),ea!==null&&(!dt||tf(dt))&&(Ks=Zt&&fr?ea/H*ge:z.height),Ks!==null&&tf(ze)&&(ea=Zt&&fr?Ks/ge*H:z.width),ea!==null&&Ks!==null)return[ea,Ks];throw new Error("Unable to calculate background-size for element")},Zd=function(U,B){var z=U[B];return typeof z>"u"?U[0]:z},iA=function(U,B,z,H,ge){var Ne=B[0],ze=B[1],dt=z[0],ht=z[1];switch(U){case 2:return[new vn(Math.round(H.left),Math.round(H.top+ze)),new vn(Math.round(H.left+H.width),Math.round(H.top+ze)),new vn(Math.round(H.left+H.width),Math.round(ht+H.top+ze)),new vn(Math.round(H.left),Math.round(ht+H.top+ze))];case 3:return[new vn(Math.round(H.left+Ne),Math.round(H.top)),new vn(Math.round(H.left+Ne+dt),Math.round(H.top)),new vn(Math.round(H.left+Ne+dt),Math.round(H.height+H.top)),new vn(Math.round(H.left+Ne),Math.round(H.height+H.top))];case 1:return[new vn(Math.round(H.left+Ne),Math.round(H.top+ze)),new vn(Math.round(H.left+Ne+dt),Math.round(H.top+ze)),new vn(Math.round(H.left+Ne+dt),Math.round(H.top+ze+ht)),new vn(Math.round(H.left+Ne),Math.round(H.top+ze+ht))];default:return[new vn(Math.round(ge.left),Math.round(ge.top)),new vn(Math.round(ge.left+ge.width),Math.round(ge.top)),new vn(Math.round(ge.left+ge.width),Math.round(ge.height+ge.top)),new vn(Math.round(ge.left),Math.round(ge.height+ge.top))]}},wp="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Mf="Hidden Text",gm=(function(){function U(B){this._data={},this._document=B}return U.prototype.parseMetrics=function(B,z){var H=this._document.createElement("div"),ge=this._document.createElement("img"),Ne=this._document.createElement("span"),ze=this._document.body;H.style.visibility="hidden",H.style.fontFamily=B,H.style.fontSize=z,H.style.margin="0",H.style.padding="0",H.style.whiteSpace="nowrap",ze.appendChild(H),ge.src=wp,ge.width=1,ge.height=1,ge.style.margin="0",ge.style.padding="0",ge.style.verticalAlign="baseline",Ne.style.fontFamily=B,Ne.style.fontSize=z,Ne.style.margin="0",Ne.style.padding="0",Ne.appendChild(this._document.createTextNode(Mf)),H.appendChild(Ne),H.appendChild(ge);var dt=ge.offsetTop-Ne.offsetTop+2;H.removeChild(Ne),H.appendChild(this._document.createTextNode(Mf)),H.style.lineHeight="normal",ge.style.verticalAlign="super";var ht=ge.offsetTop-H.offsetTop+2;return ze.removeChild(H),{baseline:dt,middle:ht}},U.prototype.getMetrics=function(B,z){var H=B+" "+z;return typeof this._data[H]>"u"&&(this._data[H]=this.parseMetrics(B,z)),this._data[H]},U})(),fv=(function(){function U(B,z){this.context=B,this.options=z}return U})(),sA=1e4,Xx=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge._activeEffects=[],ge.canvas=H.canvas?H.canvas:document.createElement("canvas"),ge.ctx=ge.canvas.getContext("2d"),H.canvas||(ge.canvas.width=Math.floor(H.width*H.scale),ge.canvas.height=Math.floor(H.height*H.scale),ge.canvas.style.width=H.width+"px",ge.canvas.style.height=H.height+"px"),ge.fontMetrics=new gm(document),ge.ctx.scale(ge.options.scale,ge.options.scale),ge.ctx.translate(-H.x,-H.y),ge.ctx.textBaseline="bottom",ge._activeEffects=[],ge.context.logger.debug("Canvas renderer initialized ("+H.width+"x"+H.height+") with scale "+H.scale),ge}return B.prototype.applyEffects=function(z){for(var H=this;this._activeEffects.length;)this.popEffect();z.forEach(function(ge){return H.applyEffect(ge)})},B.prototype.applyEffect=function(z){this.ctx.save(),xp(z)&&(this.ctx.globalAlpha=z.opacity),Dl(z)&&(this.ctx.translate(z.offsetX,z.offsetY),this.ctx.transform(z.matrix[0],z.matrix[1],z.matrix[2],z.matrix[3],z.matrix[4],z.matrix[5]),this.ctx.translate(-z.offsetX,-z.offsetY)),Hg(z)&&(this.path(z.path),this.ctx.clip()),this._activeEffects.push(z)},B.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},B.prototype.renderStack=function(z){return a(this,void 0,void 0,function(){var H;return o(this,function(ge){switch(ge.label){case 0:return H=z.element.container.styles,H.isVisible()?[4,this.renderStackContent(z)]:[3,2];case 1:ge.sent(),ge.label=2;case 2:return[2]}})})},B.prototype.renderNode=function(z){return a(this,void 0,void 0,function(){return o(this,function(H){switch(H.label){case 0:if(O(z.container.flags,16))debugger;return z.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(z)]:[3,3];case 1:return H.sent(),[4,this.renderNodeContent(z)];case 2:H.sent(),H.label=3;case 3:return[2]}})})},B.prototype.renderTextWithLetterSpacing=function(z,H,ge){var Ne=this;if(H===0)this.ctx.fillText(z.text,z.bounds.left,z.bounds.top+ge);else{var ze=mm(z.text);ze.reduce(function(dt,ht){return Ne.ctx.fillText(ht,dt,z.bounds.top+ge),dt+Ne.ctx.measureText(ht).width},z.bounds.left)}},B.prototype.createFontStyle=function(z){var H=z.fontVariant.filter(function(ze){return ze==="normal"||ze==="small-caps"}).join(""),ge=va(z.fontFamily).join(", "),Ne=Cn(z.fontSize)?""+z.fontSize.number+z.fontSize.unit:z.fontSize.number+"px";return[[z.fontStyle,H,z.fontWeight,Ne,ge].join(" "),ge,Ne]},B.prototype.renderTextNode=function(z,H){return a(this,void 0,void 0,function(){var ge,Ne,ze,dt,ht,Ut,Zt,fr,zr=this;return o(this,function(Gn){return ge=this.createFontStyle(H),Ne=ge[0],ze=ge[1],dt=ge[2],this.ctx.font=Ne,this.ctx.direction=H.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",ht=this.fontMetrics.getMetrics(ze,dt),Ut=ht.baseline,Zt=ht.middle,fr=H.paintOrder,z.textBounds.forEach(function(wn){fr.forEach(function(Dn){switch(Dn){case 0:zr.ctx.fillStyle=_n(H.color),zr.renderTextWithLetterSpacing(wn,H.letterSpacing,Ut);var Bi=H.textShadow;Bi.length&&wn.text.trim().length&&(Bi.slice(0).reverse().forEach(function(hi){zr.ctx.shadowColor=_n(hi.color),zr.ctx.shadowOffsetX=hi.offsetX.number*zr.options.scale,zr.ctx.shadowOffsetY=hi.offsetY.number*zr.options.scale,zr.ctx.shadowBlur=hi.blur.number,zr.renderTextWithLetterSpacing(wn,H.letterSpacing,Ut)}),zr.ctx.shadowColor="",zr.ctx.shadowOffsetX=0,zr.ctx.shadowOffsetY=0,zr.ctx.shadowBlur=0),H.textDecorationLine.length&&(zr.ctx.fillStyle=_n(H.textDecorationColor||H.color),H.textDecorationLine.forEach(function(hi){switch(hi){case 1:zr.ctx.fillRect(wn.bounds.left,Math.round(wn.bounds.top+Ut),wn.bounds.width,1);break;case 2:zr.ctx.fillRect(wn.bounds.left,Math.round(wn.bounds.top),wn.bounds.width,1);break;case 3:zr.ctx.fillRect(wn.bounds.left,Math.ceil(wn.bounds.top+Zt),wn.bounds.width,1);break}}));break;case 1:H.webkitTextStrokeWidth&&wn.text.trim().length&&(zr.ctx.strokeStyle=_n(H.webkitTextStrokeColor),zr.ctx.lineWidth=H.webkitTextStrokeWidth,zr.ctx.lineJoin=window.chrome?"miter":"round",zr.ctx.strokeText(wn.text,wn.bounds.left,wn.bounds.top+Ut)),zr.ctx.strokeStyle="",zr.ctx.lineWidth=0,zr.ctx.lineJoin="miter";break}})}),[2]})})},B.prototype.renderReplacedElement=function(z,H,ge){if(ge&&z.intrinsicWidth>0&&z.intrinsicHeight>0){var Ne=du(z),ze=El(H);this.path(ze),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ge,0,0,z.intrinsicWidth,z.intrinsicHeight,Ne.left,Ne.top,Ne.width,Ne.height),this.ctx.restore()}},B.prototype.renderNodeContent=function(z){return a(this,void 0,void 0,function(){var H,ge,Ne,ze,dt,ht,li,li,Ut,Zt,fr,zr,Ks,Gn,wn,us,Dn,Bi,hi,li,ea,Ks,us;return o(this,function(Zn){switch(Zn.label){case 0:this.applyEffects(z.getEffects(4)),H=z.container,ge=z.curves,Ne=H.styles,ze=0,dt=H.textNodes,Zn.label=1;case 1:return ze<dt.length?(ht=dt[ze],[4,this.renderTextNode(ht,Ne)]):[3,4];case 2:Zn.sent(),Zn.label=3;case 3:return ze++,[3,1];case 4:if(!(H instanceof av))return[3,8];Zn.label=5;case 5:return Zn.trys.push([5,7,,8]),[4,this.context.cache.match(H.src)];case 6:return li=Zn.sent(),this.renderReplacedElement(H,ge,li),[3,8];case 7:return Zn.sent(),this.context.logger.error("Error loading image "+H.src),[3,8];case 8:if(H instanceof Jm&&this.renderReplacedElement(H,ge,H.canvas),!(H instanceof Ig))return[3,12];Zn.label=9;case 9:return Zn.trys.push([9,11,,12]),[4,this.context.cache.match(H.svg)];case 10:return li=Zn.sent(),this.renderReplacedElement(H,ge,li),[3,12];case 11:return Zn.sent(),this.context.logger.error("Error loading svg "+H.svg.substring(0,255)),[3,12];case 12:return H instanceof Ih&&H.tree?(Ut=new B(this.context,{scale:this.options.scale,backgroundColor:H.backgroundColor,x:0,y:0,width:H.width,height:H.height}),[4,Ut.render(H.tree)]):[3,14];case 13:Zt=Zn.sent(),H.width&&H.height&&this.ctx.drawImage(Zt,0,0,H.width,H.height,H.bounds.left,H.bounds.top,H.bounds.width,H.bounds.height),Zn.label=14;case 14:if(H instanceof Yd&&(fr=Math.min(H.bounds.width,H.bounds.height),H.type===hp?H.checked&&(this.ctx.save(),this.path([new vn(H.bounds.left+fr*.39363,H.bounds.top+fr*.79),new vn(H.bounds.left+fr*.16,H.bounds.top+fr*.5549),new vn(H.bounds.left+fr*.27347,H.bounds.top+fr*.44071),new vn(H.bounds.left+fr*.39694,H.bounds.top+fr*.5649),new vn(H.bounds.left+fr*.72983,H.bounds.top+fr*.23),new vn(H.bounds.left+fr*.84,H.bounds.top+fr*.34085),new vn(H.bounds.left+fr*.39363,H.bounds.top+fr*.79)]),this.ctx.fillStyle=_n(Id),this.ctx.fill(),this.ctx.restore()):H.type===fp&&H.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(H.bounds.left+fr/2,H.bounds.top+fr/2,fr/4,0,Math.PI*2,!0),this.ctx.fillStyle=_n(Id),this.ctx.fill(),this.ctx.restore())),Ep(H)&&H.value.length){switch(zr=this.createFontStyle(Ne),Ks=zr[0],Gn=zr[1],wn=this.fontMetrics.getMetrics(Ks,Gn).baseline,this.ctx.font=Ks,this.ctx.fillStyle=_n(Ne.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=_p(H.styles.textAlign),us=du(H),Dn=0,H.styles.textAlign){case 1:Dn+=us.width/2;break;case 2:Dn+=us.width;break}Bi=us.add(Dn,0,0,-us.height/2+1),this.ctx.save(),this.path([new vn(us.left,us.top),new vn(us.left+us.width,us.top),new vn(us.left+us.width,us.top+us.height),new vn(us.left,us.top+us.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Pf(H.value,Bi),Ne.letterSpacing,wn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!O(H.styles.display,2048))return[3,20];if(H.styles.listStyleImage===null)return[3,19];if(hi=H.styles.listStyleImage,hi.type!==0)return[3,18];li=void 0,ea=hi.url,Zn.label=15;case 15:return Zn.trys.push([15,17,,18]),[4,this.context.cache.match(ea)];case 16:return li=Zn.sent(),this.ctx.drawImage(li,H.bounds.left-(li.width+10),H.bounds.top),[3,18];case 17:return Zn.sent(),this.context.logger.error("Error loading list-style-image "+ea),[3,18];case 18:return[3,20];case 19:z.listValue&&H.styles.listStyleType!==-1&&(Ks=this.createFontStyle(Ne)[0],this.ctx.font=Ks,this.ctx.fillStyle=_n(Ne.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",us=new u(H.bounds.left,H.bounds.top+Gi(H.styles.paddingTop,H.bounds.width),H.bounds.width,ao(Ne.lineHeight,Ne.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Pf(z.listValue,us),Ne.letterSpacing,ao(Ne.lineHeight,Ne.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Zn.label=20;case 20:return[2]}})})},B.prototype.renderStackContent=function(z){return a(this,void 0,void 0,function(){var H,ge,hi,Ne,ze,hi,dt,ht,hi,Ut,Zt,hi,fr,zr,hi,Gn,wn,hi,Dn,Bi,hi;return o(this,function(li){switch(li.label){case 0:if(O(z.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(z.element)];case 1:li.sent(),H=0,ge=z.negativeZIndex,li.label=2;case 2:return H<ge.length?(hi=ge[H],[4,this.renderStack(hi)]):[3,5];case 3:li.sent(),li.label=4;case 4:return H++,[3,2];case 5:return[4,this.renderNodeContent(z.element)];case 6:li.sent(),Ne=0,ze=z.nonInlineLevel,li.label=7;case 7:return Ne<ze.length?(hi=ze[Ne],[4,this.renderNode(hi)]):[3,10];case 8:li.sent(),li.label=9;case 9:return Ne++,[3,7];case 10:dt=0,ht=z.nonPositionedFloats,li.label=11;case 11:return dt<ht.length?(hi=ht[dt],[4,this.renderStack(hi)]):[3,14];case 12:li.sent(),li.label=13;case 13:return dt++,[3,11];case 14:Ut=0,Zt=z.nonPositionedInlineLevel,li.label=15;case 15:return Ut<Zt.length?(hi=Zt[Ut],[4,this.renderStack(hi)]):[3,18];case 16:li.sent(),li.label=17;case 17:return Ut++,[3,15];case 18:fr=0,zr=z.inlineLevel,li.label=19;case 19:return fr<zr.length?(hi=zr[fr],[4,this.renderNode(hi)]):[3,22];case 20:li.sent(),li.label=21;case 21:return fr++,[3,19];case 22:Gn=0,wn=z.zeroOrAutoZIndexOrTransformedOrOpacity,li.label=23;case 23:return Gn<wn.length?(hi=wn[Gn],[4,this.renderStack(hi)]):[3,26];case 24:li.sent(),li.label=25;case 25:return Gn++,[3,23];case 26:Dn=0,Bi=z.positiveZIndex,li.label=27;case 27:return Dn<Bi.length?(hi=Bi[Dn],[4,this.renderStack(hi)]):[3,30];case 28:li.sent(),li.label=29;case 29:return Dn++,[3,27];case 30:return[2]}})})},B.prototype.mask=function(z){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(z.slice(0).reverse()),this.ctx.closePath()},B.prototype.path=function(z){this.ctx.beginPath(),this.formatPath(z),this.ctx.closePath()},B.prototype.formatPath=function(z){var H=this;z.forEach(function(ge,Ne){var ze=No(ge)?ge.start:ge;Ne===0?H.ctx.moveTo(ze.x,ze.y):H.ctx.lineTo(ze.x,ze.y),No(ge)&&H.ctx.bezierCurveTo(ge.startControl.x,ge.startControl.y,ge.endControl.x,ge.endControl.y,ge.end.x,ge.end.y)})},B.prototype.renderRepeat=function(z,H,ge,Ne){this.path(z),this.ctx.fillStyle=H,this.ctx.translate(ge,Ne),this.ctx.fill(),this.ctx.translate(-ge,-Ne)},B.prototype.resizeImage=function(z,H,ge){var Ne;if(z.width===H&&z.height===ge)return z;var ze=(Ne=this.canvas.ownerDocument)!==null&&Ne!==void 0?Ne:document,dt=ze.createElement("canvas");dt.width=Math.max(1,H),dt.height=Math.max(1,ge);var ht=dt.getContext("2d");return ht.drawImage(z,0,0,z.width,z.height,0,0,H,ge),dt},B.prototype.renderBackgroundImage=function(z){return a(this,void 0,void 0,function(){var H,ge,Ne,ze,dt,ht;return o(this,function(Ut){switch(Ut.label){case 0:H=z.styles.backgroundImage.length-1,ge=function(Zt){var fr,zr,Gn,cc,Pu,od,So,Bu,xa,wn,cc,Pu,od,So,Bu,Dn,Bi,hi,li,ea,Ks,us,Zn,ua,xa,Mi,cc,Do,Jd,So,Bu,Pd,Pu,od,Oh,sf,vm,oA,lA,Rh,xm,ym;return o(this,function(Qg){switch(Qg.label){case 0:if(Zt.type!==0)return[3,5];fr=void 0,zr=Zt.url,Qg.label=1;case 1:return Qg.trys.push([1,3,,4]),[4,Ne.context.cache.match(zr)];case 2:return fr=Qg.sent(),[3,4];case 3:return Qg.sent(),Ne.context.logger.error("Error loading background-image "+zr),[3,4];case 4:return fr&&(Gn=Df(z,H,[fr.width,fr.height,fr.width/fr.height]),cc=Gn[0],Pu=Gn[1],od=Gn[2],So=Gn[3],Bu=Gn[4],xa=Ne.ctx.createPattern(Ne.resizeImage(fr,So,Bu),"repeat"),Ne.renderRepeat(cc,xa,Pu,od)),[3,6];case 5:vl(Zt)?(wn=Df(z,H,[null,null,null]),cc=wn[0],Pu=wn[1],od=wn[2],So=wn[3],Bu=wn[4],Dn=zc(Zt.angle,So,Bu),Bi=Dn[0],hi=Dn[1],li=Dn[2],ea=Dn[3],Ks=Dn[4],us=document.createElement("canvas"),us.width=So,us.height=Bu,Zn=us.getContext("2d"),ua=Zn.createLinearGradient(hi,ea,li,Ks),yo(Zt.stops,Bi).forEach(function(Av){return ua.addColorStop(Av.stop,_n(Av.color))}),Zn.fillStyle=ua,Zn.fillRect(0,0,So,Bu),So>0&&Bu>0&&(xa=Ne.ctx.createPattern(us,"repeat"),Ne.renderRepeat(cc,xa,Pu,od))):au(Zt)&&(Mi=Df(z,H,[null,null,null]),cc=Mi[0],Do=Mi[1],Jd=Mi[2],So=Mi[3],Bu=Mi[4],Pd=Zt.position.length===0?[Qn]:Zt.position,Pu=Gi(Pd[0],So),od=Gi(Pd[Pd.length-1],Bu),Oh=Ka(Zt,Pu,od,So,Bu),sf=Oh[0],vm=Oh[1],sf>0&&vm>0&&(oA=Ne.ctx.createRadialGradient(Do+Pu,Jd+od,0,Do+Pu,Jd+od,sf),yo(Zt.stops,sf*2).forEach(function(Av){return oA.addColorStop(Av.stop,_n(Av.color))}),Ne.path(cc),Ne.ctx.fillStyle=oA,sf!==vm?(lA=z.bounds.left+.5*z.bounds.width,Rh=z.bounds.top+.5*z.bounds.height,xm=vm/sf,ym=1/xm,Ne.ctx.save(),Ne.ctx.translate(lA,Rh),Ne.ctx.transform(1,0,0,xm,0,0),Ne.ctx.translate(-lA,-Rh),Ne.ctx.fillRect(Do,ym*(Jd-Rh)+Rh,So,Bu*ym),Ne.ctx.restore()):Ne.ctx.fill())),Qg.label=6;case 6:return H--,[2]}})},Ne=this,ze=0,dt=z.styles.backgroundImage.slice(0).reverse(),Ut.label=1;case 1:return ze<dt.length?(ht=dt[ze],[5,ge(ht)]):[3,4];case 2:Ut.sent(),Ut.label=3;case 3:return ze++,[3,1];case 4:return[2]}})})},B.prototype.renderSolidBorder=function(z,H,ge){return a(this,void 0,void 0,function(){return o(this,function(Ne){return this.path(qx(ge,H)),this.ctx.fillStyle=_n(z),this.ctx.fill(),[2]})})},B.prototype.renderDoubleBorder=function(z,H,ge,Ne){return a(this,void 0,void 0,function(){var ze,dt;return o(this,function(ht){switch(ht.label){case 0:return H<3?[4,this.renderSolidBorder(z,ge,Ne)]:[3,2];case 1:return ht.sent(),[2];case 2:return ze=yp(Ne,ge),this.path(ze),this.ctx.fillStyle=_n(z),this.ctx.fill(),dt=eu(Ne,ge),this.path(dt),this.ctx.fill(),[2]}})})},B.prototype.renderNodeBackgroundAndBorders=function(z){return a(this,void 0,void 0,function(){var H,ge,Ne,ze,dt,ht,Ut,Zt,fr=this;return o(this,function(zr){switch(zr.label){case 0:return this.applyEffects(z.getEffects(2)),H=z.container.styles,ge=!Ii(H.backgroundColor)||H.backgroundImage.length,Ne=[{style:H.borderTopStyle,color:H.borderTopColor,width:H.borderTopWidth},{style:H.borderRightStyle,color:H.borderRightColor,width:H.borderRightWidth},{style:H.borderBottomStyle,color:H.borderBottomColor,width:H.borderBottomWidth},{style:H.borderLeftStyle,color:H.borderLeftColor,width:H.borderLeftWidth}],ze=Zx(Zd(H.backgroundClip,0),z.curves),ge||H.boxShadow.length?(this.ctx.save(),this.path(ze),this.ctx.clip(),Ii(H.backgroundColor)||(this.ctx.fillStyle=_n(H.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(z.container)]):[3,2];case 1:zr.sent(),this.ctx.restore(),H.boxShadow.slice(0).reverse().forEach(function(Gn){fr.ctx.save();var wn=ka(z.curves),Dn=Gn.inset?0:sA,Bi=qo(wn,-Dn+(Gn.inset?1:-1)*Gn.spread.number,(Gn.inset?1:-1)*Gn.spread.number,Gn.spread.number*(Gn.inset?-2:2),Gn.spread.number*(Gn.inset?-2:2));Gn.inset?(fr.path(wn),fr.ctx.clip(),fr.mask(Bi)):(fr.mask(wn),fr.ctx.clip(),fr.path(Bi)),fr.ctx.shadowOffsetX=Gn.offsetX.number+Dn,fr.ctx.shadowOffsetY=Gn.offsetY.number,fr.ctx.shadowColor=_n(Gn.color),fr.ctx.shadowBlur=Gn.blur.number,fr.ctx.fillStyle=Gn.inset?_n(Gn.color):"rgba(0,0,0,1)",fr.ctx.fill(),fr.ctx.restore()}),zr.label=2;case 2:dt=0,ht=0,Ut=Ne,zr.label=3;case 3:return ht<Ut.length?(Zt=Ut[ht],Zt.style!==0&&!Ii(Zt.color)&&Zt.width>0?Zt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Zt.color,Zt.width,dt,z.curves,2)]:[3,11]):[3,13];case 4:return zr.sent(),[3,11];case 5:return Zt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Zt.color,Zt.width,dt,z.curves,3)];case 6:return zr.sent(),[3,11];case 7:return Zt.style!==4?[3,9]:[4,this.renderDoubleBorder(Zt.color,Zt.width,dt,z.curves)];case 8:return zr.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Zt.color,dt,z.curves)];case 10:zr.sent(),zr.label=11;case 11:dt++,zr.label=12;case 12:return ht++,[3,3];case 13:return[2]}})})},B.prototype.renderDashedDottedBorder=function(z,H,ge,Ne,ze){return a(this,void 0,void 0,function(){var dt,ht,Ut,Zt,fr,zr,Gn,wn,Dn,Bi,hi,li,ea,Ks,us,Zn,us,Zn;return o(this,function(ua){return this.ctx.save(),dt=Xd(Ne,ge),ht=qx(Ne,ge),ze===2&&(this.path(ht),this.ctx.clip()),No(ht[0])?(Ut=ht[0].start.x,Zt=ht[0].start.y):(Ut=ht[0].x,Zt=ht[0].y),No(ht[1])?(fr=ht[1].end.x,zr=ht[1].end.y):(fr=ht[1].x,zr=ht[1].y),ge===0||ge===2?Gn=Math.abs(Ut-fr):Gn=Math.abs(Zt-zr),this.ctx.beginPath(),ze===3?this.formatPath(dt):this.formatPath(ht.slice(0,2)),wn=H<3?H*3:H*2,Dn=H<3?H*2:H,ze===3&&(wn=H,Dn=H),Bi=!0,Gn<=wn*2?Bi=!1:Gn<=wn*2+Dn?(hi=Gn/(2*wn+Dn),wn*=hi,Dn*=hi):(li=Math.floor((Gn+Dn)/(wn+Dn)),ea=(Gn-li*wn)/(li-1),Ks=(Gn-(li+1)*wn)/li,Dn=Ks<=0||Math.abs(Dn-ea)<Math.abs(Dn-Ks)?ea:Ks),Bi&&(ze===3?this.ctx.setLineDash([0,wn+Dn]):this.ctx.setLineDash([wn,Dn])),ze===3?(this.ctx.lineCap="round",this.ctx.lineWidth=H):this.ctx.lineWidth=H*2+1.1,this.ctx.strokeStyle=_n(z),this.ctx.stroke(),this.ctx.setLineDash([]),ze===2&&(No(ht[0])&&(us=ht[3],Zn=ht[0],this.ctx.beginPath(),this.formatPath([new vn(us.end.x,us.end.y),new vn(Zn.start.x,Zn.start.y)]),this.ctx.stroke()),No(ht[1])&&(us=ht[1],Zn=ht[2],this.ctx.beginPath(),this.formatPath([new vn(us.end.x,us.end.y),new vn(Zn.start.x,Zn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},B.prototype.render=function(z){return a(this,void 0,void 0,function(){var H;return o(this,function(ge){switch(ge.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_n(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),H=Yx(z),[4,this.renderStack(H)];case 1:return ge.sent(),this.applyEffects([]),[2,this.canvas]}})})},B})(fv),Ep=function(U){return U instanceof mp||U instanceof Kx?!0:U instanceof Yd&&U.type!==fp&&U.type!==hp},Zx=function(U,B){switch(U){case 0:return ka(B);case 2:return sd(B);default:return El(B)}},_p=function(U){switch(U){case 1:return"center";case 2:return"right";default:return"left"}},mv=["-apple-system","system-ui"],va=function(U){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?U.filter(function(B){return mv.indexOf(B)===-1}):U},ma=(function(U){n(B,U);function B(z,H){var ge=U.call(this,z,H)||this;return ge.canvas=H.canvas?H.canvas:document.createElement("canvas"),ge.ctx=ge.canvas.getContext("2d"),ge.options=H,ge.canvas.width=Math.floor(H.width*H.scale),ge.canvas.height=Math.floor(H.height*H.scale),ge.canvas.style.width=H.width+"px",ge.canvas.style.height=H.height+"px",ge.ctx.scale(ge.options.scale,ge.options.scale),ge.ctx.translate(-H.x,-H.y),ge.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+H.width+"x"+H.height+" at "+H.x+","+H.y+") with scale "+H.scale),ge}return B.prototype.render=function(z){return a(this,void 0,void 0,function(){var H,ge;return o(this,function(Ne){switch(Ne.label){case 0:return H=jg(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,z),[4,js(H)];case 1:return ge=Ne.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_n(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ge,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},B})(fv),js=function(U){return new Promise(function(B,z){var H=new Image;H.onload=function(){B(H)},H.onerror=z,H.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(U))})},Ps=(function(){function U(B){var z=B.id,H=B.enabled;this.id=z,this.enabled=H,this.start=Date.now()}return U.prototype.debug=function(){for(var B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,c([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},U.prototype.getTime=function(){return Date.now()-this.start},U.prototype.info=function(){for(var B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,c([this.id,this.getTime()+"ms"],B))},U.prototype.warn=function(){for(var B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,c([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},U.prototype.error=function(){for(var B=[],z=0;z<arguments.length;z++)B[z]=arguments[z];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,c([this.id,this.getTime()+"ms"],B)):this.info.apply(this,B))},U.instances={},U})(),La=(function(){function U(B,z){var H;this.windowBounds=z,this.instanceName="#"+U.instanceCount++,this.logger=new Ps({id:this.instanceName,enabled:B.logging}),this.cache=(H=B.cache)!==null&&H!==void 0?H:new aa(this,B)}return U.instanceCount=1,U})(),Iu=function(U,B){return B===void 0&&(B={}),nf(U,B)};typeof window<"u"&&al.setContext(window);var nf=function(U,B){return a(void 0,void 0,void 0,function(){var z,H,ge,Ne,ze,dt,ht,Ut,Zt,fr,zr,Gn,wn,Dn,Bi,hi,li,ea,Ks,us,ua,Zn,ua,xa,Mi,cc,Do,Jd,So,Bu,Pd,Pu,od,Oh,sf,vm,oA,lA,Rh,xm;return o(this,function(ym){switch(ym.label){case 0:if(!U||typeof U!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(z=U.ownerDocument,!z)throw new Error("Element is not attached to a Document");if(H=z.defaultView,!H)throw new Error("Document is not attached to a Window");return ge={allowTaint:(xa=B.allowTaint)!==null&&xa!==void 0?xa:!1,imageTimeout:(Mi=B.imageTimeout)!==null&&Mi!==void 0?Mi:15e3,proxy:B.proxy,useCORS:(cc=B.useCORS)!==null&&cc!==void 0?cc:!1},Ne=i({logging:(Do=B.logging)!==null&&Do!==void 0?Do:!0,cache:B.cache},ge),ze={windowWidth:(Jd=B.windowWidth)!==null&&Jd!==void 0?Jd:H.innerWidth,windowHeight:(So=B.windowHeight)!==null&&So!==void 0?So:H.innerHeight,scrollX:(Bu=B.scrollX)!==null&&Bu!==void 0?Bu:H.pageXOffset,scrollY:(Pd=B.scrollY)!==null&&Pd!==void 0?Pd:H.pageYOffset},dt=new u(ze.scrollX,ze.scrollY,ze.windowWidth,ze.windowHeight),ht=new La(Ne,dt),Ut=(Pu=B.foreignObjectRendering)!==null&&Pu!==void 0?Pu:!1,Zt={allowTaint:(od=B.allowTaint)!==null&&od!==void 0?od:!1,onclone:B.onclone,ignoreElements:B.ignoreElements,inlineImages:Ut,copyStyles:Ut},ht.logger.debug("Starting document clone with size "+dt.width+"x"+dt.height+" scrolled to "+-dt.left+","+-dt.top),fr=new Ti(ht,U,Zt),zr=fr.clonedReferenceElement,zr?[4,fr.toIFrame(z,dt)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Gn=ym.sent(),wn=Mg(zr)||uv(zr)?d(zr.ownerDocument):l(ht,zr),Dn=wn.width,Bi=wn.height,hi=wn.left,li=wn.top,ea=aA(ht,zr,B.backgroundColor),Ks={canvas:B.canvas,backgroundColor:ea,scale:(sf=(Oh=B.scale)!==null&&Oh!==void 0?Oh:H.devicePixelRatio)!==null&&sf!==void 0?sf:1,x:((vm=B.x)!==null&&vm!==void 0?vm:0)+hi,y:((oA=B.y)!==null&&oA!==void 0?oA:0)+li,width:(lA=B.width)!==null&&lA!==void 0?lA:Math.ceil(Dn),height:(Rh=B.height)!==null&&Rh!==void 0?Rh:Math.ceil(Bi)},Ut?(ht.logger.debug("Document cloned, using foreign object rendering"),ua=new ma(ht,Ks),[4,ua.render(zr)]):[3,3];case 2:return us=ym.sent(),[3,5];case 3:return ht.logger.debug("Document cloned, element located at "+hi+","+li+" with size "+Dn+"x"+Bi+" using computed rendering"),ht.logger.debug("Starting DOM parsing"),Zn=Pg(ht,zr),ea===Zn.styles.backgroundColor&&(Zn.styles.backgroundColor=Xa.TRANSPARENT),ht.logger.debug("Starting renderer for element at "+Ks.x+","+Ks.y+" with size "+Ks.width+"x"+Ks.height),ua=new Xx(ht,Ks),[4,ua.render(Zn)];case 4:us=ym.sent(),ym.label=5;case 5:return(!((xm=B.removeContainer)!==null&&xm!==void 0)||xm)&&(Ti.destroy(Gn)||ht.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),ht.logger.debug("Finished rendering"),[2,us]}})})},aA=function(U,B,z){var H=B.ownerDocument,ge=H.documentElement?Ra(U,getComputedStyle(H.documentElement).backgroundColor):Xa.TRANSPARENT,Ne=H.body?Ra(U,getComputedStyle(H.body).backgroundColor):Xa.TRANSPARENT,ze=typeof z=="string"?Ra(U,z):z===null?Xa.TRANSPARENT:4294967295;return B===H.documentElement?Ii(ge)?Ii(Ne)?ze:Ne:ge:ze};return Iu}))})(gj)),gj.exports}var IV;function GPe(){return IV||(IV=1,(function(t,e){(function(n,i){t.exports=i(KPe())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f,m){(m==null||m>f.length)&&(m=f.length);for(var p=0,g=Array(m);p<m;p++)g[p]=f[p];return g}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f){if(Array.isArray(f))return f}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});function d(m,p,g,x,y,w,E){try{var _=m[w](E),N=_.value}catch(C){return void g(C)}_.done?p(N):Promise.resolve(N).then(x,y)}function f(m){return function(){var p=this,g=arguments;return new Promise(function(x,y){var w=m.apply(p,g);function E(N){d(w,x,y,E,_,"next",N)}function _(N){d(w,x,y,E,_,"throw",N)}E(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});var d=l("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function f(m,p,g){return(p=(0,d.default)(p))in m?Object.defineProperty(m,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):m[p]=g,m}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f,m){var p=f==null?null:typeof Symbol<"u"&&f[Symbol.iterator]||f["@@iterator"];if(p!=null){var g,x,y,w,E=[],_=!0,N=!1;try{if(y=(p=p.call(f)).next,m===0){if(Object(p)!==p)return;_=!1}else for(;!(_=(g=y.call(p)).done)&&(E.push(g.value),E.length!==m);_=!0);}catch(C){N=!0,x=C}finally{try{if(!_&&p.return!=null&&(w=p.return(),Object(w)!==w))return}finally{if(N)throw x}}return E}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return g}});var d=l("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),f=l("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),m=l("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),p=l("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function g(x,y){return(0,d.default)(x)||(0,f.default)(x,y)||(0,m.default)(x,y)||(0,p.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});var d=l("./node_modules/@babel/runtime/helpers/esm/typeof.js");function f(m,p){if((0,d.default)(m)!="object"||!m)return m;var g=m[Symbol.toPrimitive];if(g!==void 0){var x=g.call(m,p||"default");if((0,d.default)(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(m)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return m}});var d=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=l("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function m(p){var g=(0,f.default)(p,"string");return(0,d.default)(g)=="symbol"?g:g+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return d}});function d(f){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},d(f)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return f}});var d=l("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function f(m,p){if(m){if(typeof m=="string")return(0,d.default)(m,p);var g={}.toString.call(m).slice(8,-1);return g==="Object"&&m.constructor&&(g=m.constructor.name),g==="Map"||g==="Set"?Array.from(m):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?(0,d.default)(m,p):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(c,u,l){l.r(u),l.d(u,{AElement:function(){return pl},AnimateColorElement:function(){return Qa},AnimateElement:function(){return Rs},AnimateTransformElement:function(){return hs},BoundingBox:function(){return kn},CB1:function(){return Oe},CB2:function(){return $e},CB3:function(){return De},CB4:function(){return ct},Canvg:function(){return Vo},CircleElement:function(){return Ms},ClipPathElement:function(){return Ta},DefsElement:function(){return Ln},DescElement:function(){return zo},Document:function(){return qa},Element:function(){return Ht},EllipseElement:function(){return Ns},FeColorMatrixElement:function(){return ks},FeCompositeElement:function(){return wa},FeDropShadowElement:function(){return ei},FeGaussianBlurElement:function(){return Qo},FeMorphologyElement:function(){return fs},FilterElement:function(){return vi},Font:function(){return Jr},FontElement:function(){return _u},FontFaceElement:function(){return ro},GElement:function(){return Fs},GlyphElement:function(){return Vr},GradientElement:function(){return Qs},ImageElement:function(){return $s},LineElement:function(){return ti},LinearGradientElement:function(){return Us},MarkerElement:function(){return Tn},MaskElement:function(){return ja},Matrix:function(){return $r},MissingGlyphElement:function(){return $l},Mouse:function(){return qe},PSEUDO_ZERO:function(){return Pe},Parser:function(){return Jt},PathElement:function(){return on},PathParser:function(){return un},PatternElement:function(){return ta},Point:function(){return mt},PolygonElement:function(){return as},PolylineElement:function(){return dn},Property:function(){return Ye},QB1:function(){return pt},QB2:function(){return Ue},QB3:function(){return He},RadialGradientElement:function(){return rs},RectElement:function(){return Cs},RenderedElement:function(){return Yn},Rotate:function(){return Dr},SVGElement:function(){return ci},SVGFontLoader:function(){return vo},Scale:function(){return mn},Screen:function(){return gt},Skew:function(){return or},SkewX:function(){return vr},SkewY:function(){return cn},StopElement:function(){return qs},StyleElement:function(){return no},SymbolElement:function(){return Il},TRefElement:function(){return su},TSpanElement:function(){return An},TextElement:function(){return xn},TextPathElement:function(){return Ws},TitleElement:function(){return Hi},Transform:function(){return st},Translate:function(){return ar},UnknownElement:function(){return Lr},UseElement:function(){return gl},ViewPort:function(){return Se},compressSpaces:function(){return _},default:function(){return Vo},getSelectorSpecificity:function(){return Re},normalizeAttributeName:function(){return M},normalizeColor:function(){return X},parseExternalUrl:function(){return Y},presets:function(){return E},toNumbers:function(){return I},trimLeft:function(){return N},trimRight:function(){return C},vectorMagnitude:function(){return be},vectorsAngle:function(){return Ie},vectorsRatio:function(){return he}}),l("./node_modules/core-js/modules/es.promise.js");var d=l("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");l("./node_modules/core-js/modules/es.string.match.js"),l("./node_modules/core-js/modules/es.string.replace.js"),l("./node_modules/core-js/modules/es.string.starts-with.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=l("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");l("./node_modules/core-js/modules/es.array.reduce.js"),l("./node_modules/core-js/modules/es.string.ends-with.js"),l("./node_modules/core-js/modules/es.string.split.js");var m=l("./node_modules/raf/index.js");l("./node_modules/core-js/modules/es.string.trim.js");var p=l("./node_modules/rgbcolor/index.js");l("./node_modules/core-js/modules/es.array.index-of.js"),l("./node_modules/core-js/modules/es.string.includes.js"),l("./node_modules/core-js/modules/es.array.reverse.js");var g=l("./node_modules/svg-pathdata/lib/SVGPathData.module.js");l("./node_modules/core-js/modules/es.regexp.to-string.js");var x=l("./node_modules/stackblur-canvas/dist/stackblur-es.js");function y(){var{DOMParser:zt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},V={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:zt,createCanvas(se,ce){return new OffscreenCanvas(se,ce)},createImage(se){return(0,d.default)(function*(){var ce=yield fetch(se),$=yield ce.blob(),K=yield createImageBitmap($);return K})()}};return(typeof DOMParser<"u"||typeof zt>"u")&&Reflect.deleteProperty(V,"DOMParser"),V}function w(zt){var{DOMParser:V,canvas:se,fetch:ce}=zt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:V,fetch:ce,createCanvas:se.createCanvas,createImage:se.loadImage}}var E=Object.freeze({__proto__:null,offscreen:y,node:w});function _(zt){return zt.replace(/(?!\u3000)\s+/gm," ")}function N(zt){return zt.replace(/^[\n \t]+/,"")}function C(zt){return zt.replace(/[\n \t]+$/,"")}function I(zt){var V=(zt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return V.map(parseFloat)}var D=/^[A-Z-]+$/;function M(zt){return D.test(zt)?zt.toLowerCase():zt}function Y(zt){var V=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(zt)||[];return V[2]||V[3]||V[4]}function X(zt){if(!zt.startsWith("rgb"))return zt;var V=3,se=zt.replace(/\d+(\.\d+)?/g,(ce,$)=>V--&&$?String(Math.round(parseFloat(ce))):ce);return se}var te=/(\[[^\]]+\])/g,de=/(#[^\s+>~.[:]+)/g,ye=/(\.[^\s+>~.[:]+)/g,we=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,ve=/(:[\w-]+\([^)]*\))/gi,ne=/(:[^\s+>~.[:]+)/g,ae=/([^\s+>~.[:]+)/g;function oe(zt,V){var se=V.exec(zt);return se?[zt.replace(V," "),se.length]:[zt,0]}function Re(zt){var V=[0,0,0],se=zt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),ce=0;return[se,ce]=oe(se,te),V[1]+=ce,[se,ce]=oe(se,de),V[0]+=ce,[se,ce]=oe(se,ye),V[1]+=ce,[se,ce]=oe(se,we),V[2]+=ce,[se,ce]=oe(se,ve),V[1]+=ce,[se,ce]=oe(se,ne),V[1]+=ce,se=se.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[se,ce]=oe(se,ae),V[2]+=ce,V.join("")}var Pe=1e-8;function be(zt){return Math.sqrt(Math.pow(zt[0],2)+Math.pow(zt[1],2))}function he(zt,V){return(zt[0]*V[0]+zt[1]*V[1])/(be(zt)*be(V))}function Ie(zt,V){return(zt[0]*V[1]<zt[1]*V[0]?-1:1)*Math.acos(he(zt,V))}function Oe(zt){return zt*zt*zt}function $e(zt){return 3*zt*zt*(1-zt)}function De(zt){return 3*zt*(1-zt)*(1-zt)}function ct(zt){return(1-zt)*(1-zt)*(1-zt)}function pt(zt){return zt*zt}function Ue(zt){return 2*zt*(1-zt)}function He(zt){return(1-zt)*(1-zt)}class Ye{constructor(V,se,ce){this.document=V,this.name=se,this.value=ce,this.isNormalizedColor=!1}static empty(V){return new Ye(V,"EMPTY","")}split(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:se,name:ce}=this;return _(this.getString()).trim().split(V).map($=>new Ye(se,ce,$))}hasValue(V){var{value:se}=this;return se!==null&&se!==""&&(V||se!==0)&&typeof se<"u"}isString(V){var{value:se}=this,ce=typeof se=="string";return!ce||!V?ce:V.test(se)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var V=this.getString();switch(!0){case V.endsWith("px"):case/^[0-9]+$/.test(V):return!0;default:return!1}}setValue(V){return this.value=V,this}getValue(V){return typeof V>"u"||this.hasValue()?this.value:V}getNumber(V){if(!this.hasValue())return typeof V>"u"?0:parseFloat(V);var{value:se}=this,ce=parseFloat(se);return this.isString(/%$/)&&(ce/=100),ce}getString(V){return typeof V>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(V)}getColor(V){var se=this.getString(V);return this.isNormalizedColor||(this.isNormalizedColor=!0,se=X(se),this.value=se),se}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[ce,$]=typeof V=="boolean"?[void 0,V]:[V],{viewPort:K}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(K.computeSize("x"),K.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(K.computeSize("x"),K.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*K.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*K.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&$):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*K.computeSize(ce);default:{var ie=this.getNumber();return se&&ie<1?ie*K.computeSize(ce):ie}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var V=this.getString(),se=/#([^)'"]+)/.exec(V);return se&&(se=se[1]),se||(se=V),this.document.definitions[se]}getFillStyleDefinition(V,se){var ce=this.getDefinition();if(!ce)return null;if(typeof ce.createGradient=="function")return ce.createGradient(this.document.ctx,V,se);if(typeof ce.createPattern=="function"){if(ce.getHrefAttribute().hasValue()){var $=ce.getAttribute("patternTransform");ce=ce.getHrefAttribute().getDefinition(),$.hasValue()&&ce.getAttribute("patternTransform",!0).setValue($.value)}return ce.createPattern(this.document.ctx,V,se)}return null}getTextBaseline(){return this.hasValue()?Ye.textBaselineMapping[this.getString()]:null}addOpacity(V){for(var se=this.getColor(),ce=se.length,$=0,K=0;K<ce&&(se[K]===","&&$++,$!==3);K++);if(V.hasValue()&&this.isString()&&$!==3){var ie=new p(se);ie.ok&&(ie.alpha=V.getNumber(),se=ie.toRGBA())}return new Ye(this.document,this.name,se)}}Ye.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Se{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(V,se){this.viewPorts.push({width:V,height:se})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:V}=this;return V[V.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(V){return typeof V=="number"?V:V==="x"?this.width:V==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class mt{constructor(V,se){this.x=V,this.y=se}static parse(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[ce=se,$=se]=I(V);return new mt(ce,$)}static parseScale(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[ce=se,$=ce]=I(V);return new mt(ce,$)}static parsePath(V){for(var se=I(V),ce=se.length,$=[],K=0;K<ce;K+=2)$.push(new mt(se[K],se[K+1]));return $}angleTo(V){return Math.atan2(V.y-this.y,V.x-this.x)}applyTransform(V){var{x:se,y:ce}=this,$=se*V[0]+ce*V[2]+V[4],K=se*V[1]+ce*V[3]+V[5];this.x=$,this.y=K}}class qe{constructor(V){this.screen=V,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:V,onClick:se,onMouseMove:ce}=this,$=V.ctx.canvas;$.onclick=se,$.onmousemove=ce,this.working=!0}}stop(){if(this.working){var V=this.screen.ctx.canvas;this.working=!1,V.onclick=null,V.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:V,events:se,eventElements:ce}=this,{style:$}=V.ctx.canvas;$&&($.cursor=""),se.forEach((K,ie)=>{for(var{run:me}=K,je=ce[ie];je;)me(je),je=je.parent}),this.events=[],this.eventElements=[]}}checkPath(V,se){if(!(!this.working||!se)){var{events:ce,eventElements:$}=this;ce.forEach((K,ie)=>{var{x:me,y:je}=K;!$[ie]&&se.isPointInPath&&se.isPointInPath(me,je)&&($[ie]=V)})}}checkBoundingBox(V,se){if(!(!this.working||!se)){var{events:ce,eventElements:$}=this;ce.forEach((K,ie)=>{var{x:me,y:je}=K;!$[ie]&&se.isPointInBox(me,je)&&($[ie]=V)})}}mapXY(V,se){for(var{window:ce,ctx:$}=this.screen,K=new mt(V,se),ie=$.canvas;ie;)K.x-=ie.offsetLeft,K.y-=ie.offsetTop,ie=ie.offsetParent;return ce.scrollX&&(K.x+=ce.scrollX),ce.scrollY&&(K.y+=ce.scrollY),K}onClick(V){var{x:se,y:ce}=this.mapXY(V.clientX,V.clientY);this.events.push({type:"onclick",x:se,y:ce,run($){$.onClick&&$.onClick()}})}onMouseMove(V){var{x:se,y:ce}=this.mapXY(V.clientX,V.clientY);this.events.push({type:"onmousemove",x:se,y:ce,run($){$.onMouseMove&&$.onMouseMove()}})}}var Tt=typeof window<"u"?window:null,bt=typeof fetch<"u"?fetch.bind(void 0):null;class gt{constructor(V){var{fetch:se=bt,window:ce=Tt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=V,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Se,this.mouse=new qe(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=ce,this.fetch=se}wait(V){this.waits.push(V)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var V=this.waits.every(se=>se());return V&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=V,V}setDefaults(V){V.strokeStyle="rgba(0,0,0,0)",V.lineCap="butt",V.lineJoin="miter",V.miterLimit=4}setViewBox(V){var{document:se,ctx:ce,aspectRatio:$,width:K,desiredWidth:ie,height:me,desiredHeight:je,minX:Qe=0,minY:ut=0,refX:P,refY:k,clip:F=!1,clipX:G=0,clipY:Z=0}=V,re=_($).replace(/^defer\s/,""),[xe,fe]=re.split(" "),Ae=xe||"xMidYMid",ke=fe||"meet",Ve=K/ie,Je=me/je,lt=Math.min(Ve,Je),Te=Math.max(Ve,Je),jt=ie,ot=je;ke==="meet"&&(jt*=lt,ot*=lt),ke==="slice"&&(jt*=Te,ot*=Te);var Nt=new Ye(se,"refX",P),nt=new Ye(se,"refY",k),Ot=Nt.hasValue()&&nt.hasValue();if(Ot&&ce.translate(-lt*Nt.getPixels("x"),-lt*nt.getPixels("y")),F){var qt=lt*G,It=lt*Z;ce.beginPath(),ce.moveTo(qt,It),ce.lineTo(K,It),ce.lineTo(K,me),ce.lineTo(qt,me),ce.closePath(),ce.clip()}if(!Ot){var rt=ke==="meet"&&lt===Je,Kt=ke==="slice"&&Te===Je,Nr=ke==="meet"&&lt===Ve,lr=ke==="slice"&&Te===Ve;Ae.startsWith("xMid")&&(rt||Kt)&&ce.translate(K/2-jt/2,0),Ae.endsWith("YMid")&&(Nr||lr)&&ce.translate(0,me/2-ot/2),Ae.startsWith("xMax")&&(rt||Kt)&&ce.translate(K-jt,0),Ae.endsWith("YMax")&&(Nr||lr)&&ce.translate(0,me-ot)}switch(!0){case Ae==="none":ce.scale(Ve,Je);break;case ke==="meet":ce.scale(lt,lt);break;case ke==="slice":ce.scale(Te,Te);break}ce.translate(-Qe,-ut)}start(V){var{enableRedraw:se=!1,ignoreMouse:ce=!1,ignoreAnimation:$=!1,ignoreDimensions:K=!1,ignoreClear:ie=!1,forceRedraw:me,scaleWidth:je,scaleHeight:Qe,offsetX:ut,offsetY:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:k,mouse:F}=this,G=1e3/k;if(this.frameDuration=G,this.readyPromise=new Promise(Ae=>{this.resolveReady=Ae}),this.isReady()&&this.render(V,K,ie,je,Qe,ut,P),!!se){var Z=Date.now(),re=Z,xe=0,fe=()=>{Z=Date.now(),xe=Z-re,xe>=G&&(re=Z-xe%G,this.shouldUpdate($,me)&&(this.render(V,K,ie,je,Qe,ut,P),F.runEvents())),this.intervalId=m(fe)};ce||F.start(),this.intervalId=m(fe)}}stop(){this.intervalId&&(m.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(V,se){if(!V){var{frameDuration:ce}=this,$=this.animations.reduce((K,ie)=>ie.update(ce)||K,!1);if($)return!0}return!!(typeof se=="function"&&se()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(V,se,ce,$,K,ie,me){var{CLIENT_WIDTH:je,CLIENT_HEIGHT:Qe,viewPort:ut,ctx:P,isFirstRender:k}=this,F=P.canvas;ut.clear(),F.width&&F.height?ut.setCurrent(F.width,F.height):ut.setCurrent(je,Qe);var G=V.getStyle("width"),Z=V.getStyle("height");!se&&(k||typeof $!="number"&&typeof K!="number")&&(G.hasValue()&&(F.width=G.getPixels("x"),F.style&&(F.style.width="".concat(F.width,"px"))),Z.hasValue()&&(F.height=Z.getPixels("y"),F.style&&(F.style.height="".concat(F.height,"px"))));var re=F.clientWidth||F.width,xe=F.clientHeight||F.height;if(se&&G.hasValue()&&Z.hasValue()&&(re=G.getPixels("x"),xe=Z.getPixels("y")),ut.setCurrent(re,xe),typeof ie=="number"&&V.getAttribute("x",!0).setValue(ie),typeof me=="number"&&V.getAttribute("y",!0).setValue(me),typeof $=="number"||typeof K=="number"){var fe=I(V.getAttribute("viewBox").getString()),Ae=0,ke=0;if(typeof $=="number"){var Ve=V.getStyle("width");Ve.hasValue()?Ae=Ve.getPixels("x")/$:isNaN(fe[2])||(Ae=fe[2]/$)}if(typeof K=="number"){var Je=V.getStyle("height");Je.hasValue()?ke=Je.getPixels("y")/K:isNaN(fe[3])||(ke=fe[3]/K)}Ae||(Ae=ke),ke||(ke=Ae),V.getAttribute("width",!0).setValue($),V.getAttribute("height",!0).setValue(K);var lt=V.getStyle("transform",!0,!0);lt.setValue("".concat(lt.getString()," scale(").concat(1/Ae,", ").concat(1/ke,")"))}ce||P.clearRect(0,0,re,xe),V.render(P),k&&(this.isFirstRender=!1)}}gt.defaultWindow=Tt,gt.defaultFetch=bt;var{defaultFetch:wt}=gt,rr=typeof DOMParser<"u"?DOMParser:null;class Jt{constructor(){var{fetch:V=wt,DOMParser:se=rr}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=V,this.DOMParser=se}parse(V){var se=this;return(0,d.default)(function*(){return V.startsWith("<")?se.parseFromString(V):se.load(V)})()}parseFromString(V){var se=new this.DOMParser;try{return this.checkDocument(se.parseFromString(V,"image/svg+xml"))}catch{return this.checkDocument(se.parseFromString(V,"text/xml"))}}checkDocument(V){var se=V.getElementsByTagName("parsererror")[0];if(se)throw new Error(se.textContent);return V}load(V){var se=this;return(0,d.default)(function*(){var ce=yield se.fetch(V),$=yield ce.text();return se.parseFromString($)})()}}class ar{constructor(V,se){this.type="translate",this.point=null,this.point=mt.parse(se)}apply(V){var{x:se,y:ce}=this.point;V.translate(se||0,ce||0)}unapply(V){var{x:se,y:ce}=this.point;V.translate(-1*se||0,-1*ce||0)}applyToPoint(V){var{x:se,y:ce}=this.point;V.applyTransform([1,0,0,1,se||0,ce||0])}}class Dr{constructor(V,se,ce){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var $=I(se);this.angle=new Ye(V,"angle",$[0]),this.originX=ce[0],this.originY=ce[1],this.cx=$[1]||0,this.cy=$[2]||0}apply(V){var{cx:se,cy:ce,originX:$,originY:K,angle:ie}=this,me=se+$.getPixels("x"),je=ce+K.getPixels("y");V.translate(me,je),V.rotate(ie.getRadians()),V.translate(-me,-je)}unapply(V){var{cx:se,cy:ce,originX:$,originY:K,angle:ie}=this,me=se+$.getPixels("x"),je=ce+K.getPixels("y");V.translate(me,je),V.rotate(-1*ie.getRadians()),V.translate(-me,-je)}applyToPoint(V){var{cx:se,cy:ce,angle:$}=this,K=$.getRadians();V.applyTransform([1,0,0,1,se||0,ce||0]),V.applyTransform([Math.cos(K),Math.sin(K),-Math.sin(K),Math.cos(K),0,0]),V.applyTransform([1,0,0,1,-se||0,-ce||0])}}class mn{constructor(V,se,ce){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var $=mt.parseScale(se);($.x===0||$.y===0)&&($.x=Pe,$.y=Pe),this.scale=$,this.originX=ce[0],this.originY=ce[1]}apply(V){var{scale:{x:se,y:ce},originX:$,originY:K}=this,ie=$.getPixels("x"),me=K.getPixels("y");V.translate(ie,me),V.scale(se,ce||se),V.translate(-ie,-me)}unapply(V){var{scale:{x:se,y:ce},originX:$,originY:K}=this,ie=$.getPixels("x"),me=K.getPixels("y");V.translate(ie,me),V.scale(1/se,1/ce||se),V.translate(-ie,-me)}applyToPoint(V){var{x:se,y:ce}=this.scale;V.applyTransform([se||0,0,0,ce||0,0,0])}}class $r{constructor(V,se,ce){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=I(se),this.originX=ce[0],this.originY=ce[1]}apply(V){var{originX:se,originY:ce,matrix:$}=this,K=se.getPixels("x"),ie=ce.getPixels("y");V.translate(K,ie),V.transform($[0],$[1],$[2],$[3],$[4],$[5]),V.translate(-K,-ie)}unapply(V){var{originX:se,originY:ce,matrix:$}=this,K=$[0],ie=$[2],me=$[4],je=$[1],Qe=$[3],ut=$[5],P=0,k=0,F=1,G=1/(K*(Qe*F-ut*k)-ie*(je*F-ut*P)+me*(je*k-Qe*P)),Z=se.getPixels("x"),re=ce.getPixels("y");V.translate(Z,re),V.transform(G*(Qe*F-ut*k),G*(ut*P-je*F),G*(me*k-ie*F),G*(K*F-me*P),G*(ie*ut-me*Qe),G*(me*je-K*ut)),V.translate(-Z,-re)}applyToPoint(V){V.applyTransform(this.matrix)}}class or extends $r{constructor(V,se,ce){super(V,se,ce),this.type="skew",this.angle=null,this.angle=new Ye(V,"angle",se)}}class vr extends or{constructor(V,se,ce){super(V,se,ce),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class cn extends or{constructor(V,se,ce){super(V,se,ce),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function bn(zt){return _(zt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function Un(zt){var[V,se]=zt.split("(");return[V.trim(),se.trim().replace(")","")]}class st{constructor(V,se,ce){this.document=V,this.transforms=[];var $=bn(se);$.forEach(K=>{if(K!=="none"){var[ie,me]=Un(K),je=st.transformTypes[ie];typeof je<"u"&&this.transforms.push(new je(this.document,me,ce))}})}static fromElement(V,se){var ce=se.getStyle("transform",!1,!0),[$,K=$]=se.getStyle("transform-origin",!1,!0).split(),ie=[$,K];return ce.hasValue()?new st(V,ce.getString(),ie):null}apply(V){for(var{transforms:se}=this,ce=se.length,$=0;$<ce;$++)se[$].apply(V)}unapply(V){for(var{transforms:se}=this,ce=se.length,$=ce-1;$>=0;$--)se[$].unapply(V)}applyToPoint(V){for(var{transforms:se}=this,ce=se.length,$=0;$<ce;$++)se[$].applyToPoint(V)}}st.transformTypes={translate:ar,rotate:Dr,scale:mn,matrix:$r,skewX:vr,skewY:cn};class Ht{constructor(V,se){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=V,this.node=se,this.captureTextNodes=ce,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!se||se.nodeType!==1)){if(Array.from(se.attributes).forEach(me=>{var je=M(me.nodeName);this.attributes[je]=new Ye(V,je,me.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var $=this.getAttribute("style").getString().split(";").map(me=>me.trim());$.forEach(me=>{if(me){var[je,Qe]=me.split(":").map(ut=>ut.trim());this.styles[je]=new Ye(V,je,Qe)}})}var{definitions:K}=V,ie=this.getAttribute("id");ie.hasValue()&&(K[ie.getString()]||(K[ie.getString()]=this)),Array.from(se.childNodes).forEach(me=>{if(me.nodeType===1)this.addChild(me);else if(ce&&(me.nodeType===3||me.nodeType===4)){var je=V.createTextNode(me);je.getText().length>0&&this.addChild(je)}})}}getAttribute(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=this.attributes[V];if(!ce&&se){var $=new Ye(this.document,V,"");return this.attributes[V]=$,$}return ce||Ye.empty(this.document)}getHrefAttribute(){for(var V in this.attributes)if(V==="href"||V.endsWith(":href"))return this.attributes[V];return Ye.empty(this.document)}getStyle(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=this.styles[V];if($)return $;var K=this.getAttribute(V);if(K!=null&&K.hasValue())return this.styles[V]=K,K;if(!ce){var{parent:ie}=this;if(ie){var me=ie.getStyle(V);if(me!=null&&me.hasValue())return me}}if(se){var je=new Ye(this.document,V,"");return this.styles[V]=je,je}return $||Ye.empty(this.document)}render(V){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(V.save(),this.getStyle("mask").hasValue()){var se=this.getStyle("mask").getDefinition();se&&(this.applyEffects(V),se.apply(V,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var ce=this.getStyle("filter").getDefinition();ce&&(this.applyEffects(V),ce.apply(V,this))}else this.setContext(V),this.renderChildren(V),this.clearContext(V);V.restore()}}setContext(V){}applyEffects(V){var se=st.fromElement(this.document,this);se&&se.apply(V);var ce=this.getStyle("clip-path",!1,!0);if(ce.hasValue()){var $=ce.getDefinition();$&&$.apply(V)}}clearContext(V){}renderChildren(V){this.children.forEach(se=>{se.render(V)})}addChild(V){var se=V instanceof Ht?V:this.document.createElement(V);se.parent=this,Ht.ignoreChildTypes.includes(se.type)||this.children.push(se)}matchesSelector(V){var se,{node:ce}=this;if(typeof ce.matches=="function")return ce.matches(V);var $=(se=ce.getAttribute)===null||se===void 0?void 0:se.call(ce,"class");return!$||$===""?!1:$.split(" ").some(K=>".".concat(K)===V)}addStylesFromStyleDefinition(){var{styles:V,stylesSpecificity:se}=this.document;for(var ce in V)if(!ce.startsWith("@")&&this.matchesSelector(ce)){var $=V[ce],K=se[ce];if($)for(var ie in $){var me=this.stylesSpecificity[ie];typeof me>"u"&&(me="000"),K>=me&&(this.styles[ie]=$[ie],this.stylesSpecificity[ie]=K)}}}removeStyles(V,se){var ce=se.reduce(($,K)=>{var ie=V.getStyle(K);if(!ie.hasValue())return $;var me=ie.getString();return ie.setValue(""),[...$,[K,me]]},[]);return ce}restoreStyles(V,se){se.forEach(ce=>{var[$,K]=ce;V.getStyle($,!0).setValue(K)})}isFirstChild(){var V;return((V=this.parent)===null||V===void 0?void 0:V.children.indexOf(this))===0}}Ht.ignoreChildTypes=["title"];class Lr extends Ht{constructor(V,se,ce){super(V,se,ce)}}function tr(zt){var V=zt.trim();return/^('|")/.test(V)?V:'"'.concat(V,'"')}function Qt(zt){return typeof process>"u"?zt:zt.trim().split(",").map(tr).join(",")}function dr(zt){if(!zt)return"";var V=zt.trim().toLowerCase();switch(V){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return V;default:return/^oblique\s+(-|)\d+deg$/.test(V)?V:""}}function Wr(zt){if(!zt)return"";var V=zt.trim().toLowerCase();switch(V){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return V;default:return/^[\d.]+$/.test(V)?V:""}}class Jr{constructor(V,se,ce,$,K,ie){var me=ie?typeof ie=="string"?Jr.parse(ie):ie:{};this.fontFamily=K||me.fontFamily,this.fontSize=$||me.fontSize,this.fontStyle=V||me.fontStyle,this.fontWeight=ce||me.fontWeight,this.fontVariant=se||me.fontVariant}static parse(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",se=arguments.length>1?arguments[1]:void 0,ce="",$="",K="",ie="",me="",je=_(V).trim().split(" "),Qe={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return je.forEach(ut=>{switch(!0){case(!Qe.fontStyle&&Jr.styles.includes(ut)):ut!=="inherit"&&(ce=ut),Qe.fontStyle=!0;break;case(!Qe.fontVariant&&Jr.variants.includes(ut)):ut!=="inherit"&&($=ut),Qe.fontStyle=!0,Qe.fontVariant=!0;break;case(!Qe.fontWeight&&Jr.weights.includes(ut)):ut!=="inherit"&&(K=ut),Qe.fontStyle=!0,Qe.fontVariant=!0,Qe.fontWeight=!0;break;case!Qe.fontSize:ut!=="inherit"&&([ie]=ut.split("/")),Qe.fontStyle=!0,Qe.fontVariant=!0,Qe.fontWeight=!0,Qe.fontSize=!0;break;default:ut!=="inherit"&&(me+=ut)}}),new Jr(ce,$,K,ie,me,se)}toString(){return[dr(this.fontStyle),this.fontVariant,Wr(this.fontWeight),this.fontSize,Qt(this.fontFamily)].join(" ").trim()}}Jr.styles="normal|italic|oblique|inherit",Jr.variants="normal|small-caps|inherit",Jr.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class kn{constructor(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,$=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=V,this.y1=se,this.x2=ce,this.y2=$,this.addPoint(V,se),this.addPoint(ce,$)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(V,se){typeof V<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=V,this.x2=V),V<this.x1&&(this.x1=V),V>this.x2&&(this.x2=V)),typeof se<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=se,this.y2=se),se<this.y1&&(this.y1=se),se>this.y2&&(this.y2=se))}addX(V){this.addPoint(V,null)}addY(V){this.addPoint(null,V)}addBoundingBox(V){if(V){var{x1:se,y1:ce,x2:$,y2:K}=V;this.addPoint(se,ce),this.addPoint($,K)}}sumCubic(V,se,ce,$,K){return Math.pow(1-V,3)*se+3*Math.pow(1-V,2)*V*ce+3*(1-V)*Math.pow(V,2)*$+Math.pow(V,3)*K}bezierCurveAdd(V,se,ce,$,K){var ie=6*se-12*ce+6*$,me=-3*se+9*ce-9*$+3*K,je=3*ce-3*se;if(me===0){if(ie===0)return;var Qe=-je/ie;0<Qe&&Qe<1&&(V?this.addX(this.sumCubic(Qe,se,ce,$,K)):this.addY(this.sumCubic(Qe,se,ce,$,K)));return}var ut=Math.pow(ie,2)-4*je*me;if(!(ut<0)){var P=(-ie+Math.sqrt(ut))/(2*me);0<P&&P<1&&(V?this.addX(this.sumCubic(P,se,ce,$,K)):this.addY(this.sumCubic(P,se,ce,$,K)));var k=(-ie-Math.sqrt(ut))/(2*me);0<k&&k<1&&(V?this.addX(this.sumCubic(k,se,ce,$,K)):this.addY(this.sumCubic(k,se,ce,$,K)))}}addBezierCurve(V,se,ce,$,K,ie,me,je){this.addPoint(V,se),this.addPoint(me,je),this.bezierCurveAdd(!0,V,ce,K,me),this.bezierCurveAdd(!1,se,$,ie,je)}addQuadraticCurve(V,se,ce,$,K,ie){var me=V+.6666666666666666*(ce-V),je=se+2/3*($-se),Qe=me+1/3*(K-V),ut=je+1/3*(ie-se);this.addBezierCurve(V,se,me,Qe,je,ut,K,ie)}isPointInBox(V,se){var{x1:ce,y1:$,x2:K,y2:ie}=this;return ce<=V&&V<=K&&$<=se&&se<=ie}}class un extends g.SVGPathData{constructor(V){super(V.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new mt(0,0),this.control=new mt(0,0),this.current=new mt(0,0),this.points=[],this.angles=[]}isEnd(){var{i:V,commands:se}=this;return V>=se.length-1}next(){var V=this.commands[++this.i];return this.previousCommand=this.command,this.command=V,V}getPoint(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",ce=new mt(this.command[V],this.command[se]);return this.makeAbsolute(ce)}getAsControlPoint(V,se){var ce=this.getPoint(V,se);return this.control=ce,ce}getAsCurrentPoint(V,se){var ce=this.getPoint(V,se);return this.current=ce,ce}getReflectedControlPoint(){var V=this.previousCommand.type;if(V!==g.SVGPathData.CURVE_TO&&V!==g.SVGPathData.SMOOTH_CURVE_TO&&V!==g.SVGPathData.QUAD_TO&&V!==g.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:se,y:ce},control:{x:$,y:K}}=this,ie=new mt(2*se-$,2*ce-K);return ie}makeAbsolute(V){if(this.command.relative){var{x:se,y:ce}=this.current;V.x+=se,V.y+=ce}return V}addMarker(V,se,ce){var{points:$,angles:K}=this;ce&&K.length>0&&!K[K.length-1]&&(K[K.length-1]=$[$.length-1].angleTo(ce)),this.addMarkerAngle(V,se?se.angleTo(V):null)}addMarkerAngle(V,se){this.points.push(V),this.angles.push(se)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:V}=this,se=V.length,ce=0;ce<se;ce++)if(!V[ce]){for(var $=ce+1;$<se;$++)if(V[$]){V[ce]=V[$];break}}return V}}class Yn extends Ht{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var V=1,se=this;se;){var ce=se.getStyle("opacity",!1,!0);ce.hasValue(!0)&&(V*=ce.getNumber()),se=se.parent}return V}setContext(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!se){var ce=this.getStyle("fill"),$=this.getStyle("fill-opacity"),K=this.getStyle("stroke"),ie=this.getStyle("stroke-opacity");if(ce.isUrlDefinition()){var me=ce.getFillStyleDefinition(this,$);me&&(V.fillStyle=me)}else if(ce.hasValue()){ce.getString()==="currentColor"&&ce.setValue(this.getStyle("color").getColor());var je=ce.getColor();je!=="inherit"&&(V.fillStyle=je==="none"?"rgba(0,0,0,0)":je)}if($.hasValue()){var Qe=new Ye(this.document,"fill",V.fillStyle).addOpacity($).getColor();V.fillStyle=Qe}if(K.isUrlDefinition()){var ut=K.getFillStyleDefinition(this,ie);ut&&(V.strokeStyle=ut)}else if(K.hasValue()){K.getString()==="currentColor"&&K.setValue(this.getStyle("color").getColor());var P=K.getString();P!=="inherit"&&(V.strokeStyle=P==="none"?"rgba(0,0,0,0)":P)}if(ie.hasValue()){var k=new Ye(this.document,"stroke",V.strokeStyle).addOpacity(ie).getString();V.strokeStyle=k}var F=this.getStyle("stroke-width");if(F.hasValue()){var G=F.getPixels();V.lineWidth=G||Pe}var Z=this.getStyle("stroke-linecap"),re=this.getStyle("stroke-linejoin"),xe=this.getStyle("stroke-miterlimit"),fe=this.getStyle("stroke-dasharray"),Ae=this.getStyle("stroke-dashoffset");if(Z.hasValue()&&(V.lineCap=Z.getString()),re.hasValue()&&(V.lineJoin=re.getString()),xe.hasValue()&&(V.miterLimit=xe.getNumber()),fe.hasValue()&&fe.getString()!=="none"){var ke=I(fe.getString());typeof V.setLineDash<"u"?V.setLineDash(ke):typeof V.webkitLineDash<"u"?V.webkitLineDash=ke:typeof V.mozDash<"u"&&!(ke.length===1&&ke[0]===0)&&(V.mozDash=ke);var Ve=Ae.getPixels();typeof V.lineDashOffset<"u"?V.lineDashOffset=Ve:typeof V.webkitLineDashOffset<"u"?V.webkitLineDashOffset=Ve:typeof V.mozDashOffset<"u"&&(V.mozDashOffset=Ve)}}if(this.modifiedEmSizeStack=!1,typeof V.font<"u"){var Je=this.getStyle("font"),lt=this.getStyle("font-style"),Te=this.getStyle("font-variant"),jt=this.getStyle("font-weight"),ot=this.getStyle("font-size"),Nt=this.getStyle("font-family"),nt=new Jr(lt.getString(),Te.getString(),jt.getString(),ot.hasValue()?"".concat(ot.getPixels(!0),"px"):"",Nt.getString(),Jr.parse(Je.getString(),V.font));lt.setValue(nt.fontStyle),Te.setValue(nt.fontVariant),jt.setValue(nt.fontWeight),ot.setValue(nt.fontSize),Nt.setValue(nt.fontFamily),V.font=nt.toString(),ot.isPixels()&&(this.document.emSize=ot.getPixels(),this.modifiedEmSizeStack=!0)}se||(this.applyEffects(V),V.globalAlpha=this.calculateOpacity())}clearContext(V){super.clearContext(V),this.modifiedEmSizeStack&&this.document.popEmSize()}}class on extends Yn{constructor(V,se,ce){super(V,se,ce),this.type="path",this.pathParser=null,this.pathParser=new un(this.getAttribute("d").getString())}path(V){var{pathParser:se}=this,ce=new kn;for(se.reset(),V&&V.beginPath();!se.isEnd();)switch(se.next().type){case un.MOVE_TO:this.pathM(V,ce);break;case un.LINE_TO:this.pathL(V,ce);break;case un.HORIZ_LINE_TO:this.pathH(V,ce);break;case un.VERT_LINE_TO:this.pathV(V,ce);break;case un.CURVE_TO:this.pathC(V,ce);break;case un.SMOOTH_CURVE_TO:this.pathS(V,ce);break;case un.QUAD_TO:this.pathQ(V,ce);break;case un.SMOOTH_QUAD_TO:this.pathT(V,ce);break;case un.ARC:this.pathA(V,ce);break;case un.CLOSE_PATH:this.pathZ(V,ce);break}return ce}getBoundingBox(V){return this.path()}getMarkers(){var{pathParser:V}=this,se=V.getMarkerPoints(),ce=V.getMarkerAngles(),$=se.map((K,ie)=>[K,ce[ie]]);return $}renderChildren(V){this.path(V),this.document.screen.mouse.checkPath(this,V);var se=this.getStyle("fill-rule");V.fillStyle!==""&&(se.getString("inherit")!=="inherit"?V.fill(se.getString()):V.fill()),V.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(V.save(),V.setTransform(1,0,0,1,0,0),V.stroke(),V.restore()):V.stroke());var ce=this.getMarkers();if(ce){var $=ce.length-1,K=this.getStyle("marker-start"),ie=this.getStyle("marker-mid"),me=this.getStyle("marker-end");if(K.isUrlDefinition()){var je=K.getDefinition(),[Qe,ut]=ce[0];je.render(V,Qe,ut)}if(ie.isUrlDefinition())for(var P=ie.getDefinition(),k=1;k<$;k++){var[F,G]=ce[k];P.render(V,F,G)}if(me.isUrlDefinition()){var Z=me.getDefinition(),[re,xe]=ce[$];Z.render(V,re,xe)}}}static pathM(V){var se=V.getAsCurrentPoint();return V.start=V.current,{point:se}}pathM(V,se){var{pathParser:ce}=this,{point:$}=on.pathM(ce),{x:K,y:ie}=$;ce.addMarker($),se.addPoint(K,ie),V&&V.moveTo(K,ie)}static pathL(V){var{current:se}=V,ce=V.getAsCurrentPoint();return{current:se,point:ce}}pathL(V,se){var{pathParser:ce}=this,{current:$,point:K}=on.pathL(ce),{x:ie,y:me}=K;ce.addMarker(K,$),se.addPoint(ie,me),V&&V.lineTo(ie,me)}static pathH(V){var{current:se,command:ce}=V,$=new mt((ce.relative?se.x:0)+ce.x,se.y);return V.current=$,{current:se,point:$}}pathH(V,se){var{pathParser:ce}=this,{current:$,point:K}=on.pathH(ce),{x:ie,y:me}=K;ce.addMarker(K,$),se.addPoint(ie,me),V&&V.lineTo(ie,me)}static pathV(V){var{current:se,command:ce}=V,$=new mt(se.x,(ce.relative?se.y:0)+ce.y);return V.current=$,{current:se,point:$}}pathV(V,se){var{pathParser:ce}=this,{current:$,point:K}=on.pathV(ce),{x:ie,y:me}=K;ce.addMarker(K,$),se.addPoint(ie,me),V&&V.lineTo(ie,me)}static pathC(V){var{current:se}=V,ce=V.getPoint("x1","y1"),$=V.getAsControlPoint("x2","y2"),K=V.getAsCurrentPoint();return{current:se,point:ce,controlPoint:$,currentPoint:K}}pathC(V,se){var{pathParser:ce}=this,{current:$,point:K,controlPoint:ie,currentPoint:me}=on.pathC(ce);ce.addMarker(me,ie,K),se.addBezierCurve($.x,$.y,K.x,K.y,ie.x,ie.y,me.x,me.y),V&&V.bezierCurveTo(K.x,K.y,ie.x,ie.y,me.x,me.y)}static pathS(V){var{current:se}=V,ce=V.getReflectedControlPoint(),$=V.getAsControlPoint("x2","y2"),K=V.getAsCurrentPoint();return{current:se,point:ce,controlPoint:$,currentPoint:K}}pathS(V,se){var{pathParser:ce}=this,{current:$,point:K,controlPoint:ie,currentPoint:me}=on.pathS(ce);ce.addMarker(me,ie,K),se.addBezierCurve($.x,$.y,K.x,K.y,ie.x,ie.y,me.x,me.y),V&&V.bezierCurveTo(K.x,K.y,ie.x,ie.y,me.x,me.y)}static pathQ(V){var{current:se}=V,ce=V.getAsControlPoint("x1","y1"),$=V.getAsCurrentPoint();return{current:se,controlPoint:ce,currentPoint:$}}pathQ(V,se){var{pathParser:ce}=this,{current:$,controlPoint:K,currentPoint:ie}=on.pathQ(ce);ce.addMarker(ie,K,K),se.addQuadraticCurve($.x,$.y,K.x,K.y,ie.x,ie.y),V&&V.quadraticCurveTo(K.x,K.y,ie.x,ie.y)}static pathT(V){var{current:se}=V,ce=V.getReflectedControlPoint();V.control=ce;var $=V.getAsCurrentPoint();return{current:se,controlPoint:ce,currentPoint:$}}pathT(V,se){var{pathParser:ce}=this,{current:$,controlPoint:K,currentPoint:ie}=on.pathT(ce);ce.addMarker(ie,K,K),se.addQuadraticCurve($.x,$.y,K.x,K.y,ie.x,ie.y),V&&V.quadraticCurveTo(K.x,K.y,ie.x,ie.y)}static pathA(V){var{current:se,command:ce}=V,{rX:$,rY:K,xRot:ie,lArcFlag:me,sweepFlag:je}=ce,Qe=ie*(Math.PI/180),ut=V.getAsCurrentPoint(),P=new mt(Math.cos(Qe)*(se.x-ut.x)/2+Math.sin(Qe)*(se.y-ut.y)/2,-Math.sin(Qe)*(se.x-ut.x)/2+Math.cos(Qe)*(se.y-ut.y)/2),k=Math.pow(P.x,2)/Math.pow($,2)+Math.pow(P.y,2)/Math.pow(K,2);k>1&&($*=Math.sqrt(k),K*=Math.sqrt(k));var F=(me===je?-1:1)*Math.sqrt((Math.pow($,2)*Math.pow(K,2)-Math.pow($,2)*Math.pow(P.y,2)-Math.pow(K,2)*Math.pow(P.x,2))/(Math.pow($,2)*Math.pow(P.y,2)+Math.pow(K,2)*Math.pow(P.x,2)));isNaN(F)&&(F=0);var G=new mt(F*$*P.y/K,F*-K*P.x/$),Z=new mt((se.x+ut.x)/2+Math.cos(Qe)*G.x-Math.sin(Qe)*G.y,(se.y+ut.y)/2+Math.sin(Qe)*G.x+Math.cos(Qe)*G.y),re=Ie([1,0],[(P.x-G.x)/$,(P.y-G.y)/K]),xe=[(P.x-G.x)/$,(P.y-G.y)/K],fe=[(-P.x-G.x)/$,(-P.y-G.y)/K],Ae=Ie(xe,fe);return he(xe,fe)<=-1&&(Ae=Math.PI),he(xe,fe)>=1&&(Ae=0),{currentPoint:ut,rX:$,rY:K,sweepFlag:je,xAxisRotation:Qe,centp:Z,a1:re,ad:Ae}}pathA(V,se){var{pathParser:ce}=this,{currentPoint:$,rX:K,rY:ie,sweepFlag:me,xAxisRotation:je,centp:Qe,a1:ut,ad:P}=on.pathA(ce),k=1-me?1:-1,F=ut+k*(P/2),G=new mt(Qe.x+K*Math.cos(F),Qe.y+ie*Math.sin(F));if(ce.addMarkerAngle(G,F-k*Math.PI/2),ce.addMarkerAngle($,F-k*Math.PI),se.addPoint($.x,$.y),V&&!isNaN(ut)&&!isNaN(P)){var Z=K>ie?K:ie,re=K>ie?1:K/ie,xe=K>ie?ie/K:1;V.translate(Qe.x,Qe.y),V.rotate(je),V.scale(re,xe),V.arc(0,0,Z,ut,ut+P,!!(1-me)),V.scale(1/re,1/xe),V.rotate(-je),V.translate(-Qe.x,-Qe.y)}}static pathZ(V){V.current=V.start}pathZ(V,se){on.pathZ(this.pathParser),V&&se.x1!==se.x2&&se.y1!==se.y2&&V.closePath()}}class Vr extends on{constructor(V,se,ce){super(V,se,ce),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class xn extends Yn{constructor(V,se,ce){super(V,se,new.target===xn?!0:ce),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(V,se);var ce=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();ce&&(V.textBaseline=ce)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(V){if(this.type!=="text")return this.getTElementBoundingBox(V);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(V);var se=null;return this.children.forEach((ce,$)=>{var K=this.getChildBoundingBox(V,this,this,$);se?se.addBoundingBox(K):se=K}),se}getFontSize(){var{document:V,parent:se}=this,ce=Jr.parse(V.ctx.font).fontSize,$=se.getStyle("font-size").getNumber(ce);return $}getTElementBoundingBox(V){var se=this.getFontSize();return new kn(this.x,this.y-se,this.x+this.measureText(V),this.y)}getGlyph(V,se,ce){var $=se[ce],K=null;if(V.isArabic){var ie=se.length,me=se[ce-1],je=se[ce+1],Qe="isolated";if((ce===0||me===" ")&&ce<ie-1&&je!==" "&&(Qe="terminal"),ce>0&&me!==" "&&ce<ie-1&&je!==" "&&(Qe="medial"),ce>0&&me!==" "&&(ce===ie-1||je===" ")&&(Qe="initial"),typeof V.glyphs[$]<"u"){var ut=V.glyphs[$];K=ut instanceof Vr?ut:ut[Qe]}}else K=V.glyphs[$];return K||(K=V.missingGlyph),K}getText(){return""}getTextFromNode(V){var se=V||this.node,ce=Array.from(se.parentNode.childNodes),$=ce.indexOf(se),K=ce.length-1,ie=_(se.textContent||"");return $===0&&(ie=N(ie)),$===K&&(ie=C(ie)),ie}renderChildren(V){if(this.type!=="text"){this.renderTElementChildren(V);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(V),this.children.forEach((ce,$)=>{this.renderChild(V,this,this,$)});var{mouse:se}=this.document.screen;se.isWorking()&&se.checkBoundingBox(this,this.getBoundingBox(V))}renderTElementChildren(V){var{document:se,parent:ce}=this,$=this.getText(),K=ce.getStyle("font-family").getDefinition();if(K){for(var{unitsPerEm:ie}=K.fontFace,me=Jr.parse(se.ctx.font),je=ce.getStyle("font-size").getNumber(me.fontSize),Qe=ce.getStyle("font-style").getString(me.fontStyle),ut=je/ie,P=K.isRTL?$.split("").reverse().join(""):$,k=I(ce.getAttribute("dx").getString()),F=P.length,G=0;G<F;G++){var Z=this.getGlyph(K,P,G);V.translate(this.x,this.y),V.scale(ut,-ut);var re=V.lineWidth;V.lineWidth=V.lineWidth*ie/je,Qe==="italic"&&V.transform(1,0,.4,1,0,0),Z.render(V),Qe==="italic"&&V.transform(1,0,-.4,1,0,0),V.lineWidth=re,V.scale(1/ut,-1/ut),V.translate(-this.x,-this.y),this.x+=je*(Z.horizAdvX||K.horizAdvX)/ie,typeof k[G]<"u"&&!isNaN(k[G])&&(this.x+=k[G])}return}var{x:xe,y:fe}=this;V.fillStyle&&V.fillText($,xe,fe),V.strokeStyle&&V.strokeText($,xe,fe)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var V=this.leafTexts[this.textChunkStart],se=V.getStyle("text-anchor").getString("start"),ce=!1,$=0;se==="start"&&!ce||se==="end"&&ce?$=V.x-this.minX:se==="end"&&!ce||se==="start"&&ce?$=V.x-this.maxX:$=V.x-(this.minX+this.maxX)/2;for(var K=this.textChunkStart;K<this.leafTexts.length;K++)this.leafTexts[K].x+=$;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(V){this.children.forEach((se,ce)=>{this.adjustChildCoordinatesRecursiveCore(V,this,this,ce)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(V,se,ce,$){var K=ce.children[$];K.children.length>0?K.children.forEach((ie,me)=>{se.adjustChildCoordinatesRecursiveCore(V,se,K,me)}):this.adjustChildCoordinates(V,se,ce,$)}adjustChildCoordinates(V,se,ce,$){var K=ce.children[$];if(typeof K.measureText!="function")return K;V.save(),K.setContext(V,!0);var ie=K.getAttribute("x"),me=K.getAttribute("y"),je=K.getAttribute("dx"),Qe=K.getAttribute("dy"),ut=K.getStyle("font-family").getDefinition(),P=!!ut&&ut.isRTL;$===0&&(ie.hasValue()||ie.setValue(K.getInheritedAttribute("x")),me.hasValue()||me.setValue(K.getInheritedAttribute("y")),je.hasValue()||je.setValue(K.getInheritedAttribute("dx")),Qe.hasValue()||Qe.setValue(K.getInheritedAttribute("dy")));var k=K.measureText(V);return P&&(se.x-=k),ie.hasValue()?(se.applyAnchoring(),K.x=ie.getPixels("x"),je.hasValue()&&(K.x+=je.getPixels("x"))):(je.hasValue()&&(se.x+=je.getPixels("x")),K.x=se.x),se.x=K.x,P||(se.x+=k),me.hasValue()?(K.y=me.getPixels("y"),Qe.hasValue()&&(K.y+=Qe.getPixels("y"))):(Qe.hasValue()&&(se.y+=Qe.getPixels("y")),K.y=se.y),se.y=K.y,se.leafTexts.push(K),se.minX=Math.min(se.minX,K.x,K.x+k),se.maxX=Math.max(se.maxX,K.x,K.x+k),K.clearContext(V),V.restore(),K}getChildBoundingBox(V,se,ce,$){var K=ce.children[$];if(typeof K.getBoundingBox!="function")return null;var ie=K.getBoundingBox(V);return ie?(K.children.forEach((me,je)=>{var Qe=se.getChildBoundingBox(V,se,K,je);ie.addBoundingBox(Qe)}),ie):null}renderChild(V,se,ce,$){var K=ce.children[$];K.render(V),K.children.forEach((ie,me)=>{se.renderChild(V,se,K,me)})}measureText(V){var{measureCache:se}=this;if(~se)return se;var ce=this.getText(),$=this.measureTargetText(V,ce);return this.measureCache=$,$}measureTargetText(V,se){if(!se.length)return 0;var{parent:ce}=this,$=ce.getStyle("font-family").getDefinition();if($){for(var K=this.getFontSize(),ie=$.isRTL?se.split("").reverse().join(""):se,me=I(ce.getAttribute("dx").getString()),je=ie.length,Qe=0,ut=0;ut<je;ut++){var P=this.getGlyph($,ie,ut);Qe+=(P.horizAdvX||$.horizAdvX)*K/$.fontFace.unitsPerEm,typeof me[ut]<"u"&&!isNaN(me[ut])&&(Qe+=me[ut])}return Qe}if(!V.measureText)return se.length*10;V.save(),this.setContext(V,!0);var{width:k}=V.measureText(se);return this.clearContext(V),V.restore(),k}getInheritedAttribute(V){for(var se=this;se instanceof xn&&se.isFirstChild();){var ce=se.parent.getAttribute(V);if(ce.hasValue(!0))return ce.getValue("0");se=se.parent}return null}}class An extends xn{constructor(V,se,ce){super(V,se,new.target===An?!0:ce),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class Mn extends An{constructor(){super(...arguments),this.type="textNode"}}class ci extends Yn{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(V){var se,{document:ce}=this,{screen:$,window:K}=ce,ie=V.canvas;if($.setDefaults(V),ie.style&&typeof V.font<"u"&&K&&typeof K.getComputedStyle<"u"){V.font=K.getComputedStyle(ie).getPropertyValue("font");var me=new Ye(ce,"fontSize",Jr.parse(V.font).fontSize);me.hasValue()&&(ce.rootEmSize=me.getPixels("y"),ce.emSize=ce.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:je,height:Qe}=$.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var ut=this.getAttribute("refX"),P=this.getAttribute("refY"),k=this.getAttribute("viewBox"),F=k.hasValue()?I(k.getString()):null,G=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",Z=0,re=0,xe=0,fe=0;F&&(Z=F[0],re=F[1]),this.root||(je=this.getStyle("width").getPixels("x"),Qe=this.getStyle("height").getPixels("y"),this.type==="marker"&&(xe=Z,fe=re,Z=0,re=0)),$.viewPort.setCurrent(je,Qe),this.node&&(!this.parent||((se=this.node.parentNode)===null||se===void 0?void 0:se.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(V),V.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),F&&(je=F[2],Qe=F[3]),ce.setViewBox({ctx:V,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:$.viewPort.width,desiredWidth:je,height:$.viewPort.height,desiredHeight:Qe,minX:Z,minY:re,refX:ut.getValue(),refY:P.getValue(),clip:G,clipX:xe,clipY:fe}),F&&($.viewPort.removeCurrent(),$.viewPort.setCurrent(je,Qe))}clearContext(V){super.clearContext(V),this.document.screen.viewPort.removeCurrent()}resize(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=this.getAttribute("width",!0),K=this.getAttribute("height",!0),ie=this.getAttribute("viewBox"),me=this.getAttribute("style"),je=$.getNumber(0),Qe=K.getNumber(0);if(ce)if(typeof ce=="string")this.getAttribute("preserveAspectRatio",!0).setValue(ce);else{var ut=this.getAttribute("preserveAspectRatio");ut.hasValue()&&ut.setValue(ut.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if($.setValue(V),K.setValue(se),ie.hasValue()||ie.setValue("0 0 ".concat(je||V," ").concat(Qe||se)),me.hasValue()){var P=this.getStyle("width"),k=this.getStyle("height");P.hasValue()&&P.setValue("".concat(V,"px")),k.hasValue()&&k.setValue("".concat(se,"px"))}}}class Cs extends on{constructor(){super(...arguments),this.type="rect"}path(V){var se=this.getAttribute("x").getPixels("x"),ce=this.getAttribute("y").getPixels("y"),$=this.getStyle("width",!1,!0).getPixels("x"),K=this.getStyle("height",!1,!0).getPixels("y"),ie=this.getAttribute("rx"),me=this.getAttribute("ry"),je=ie.getPixels("x"),Qe=me.getPixels("y");if(ie.hasValue()&&!me.hasValue()&&(Qe=je),me.hasValue()&&!ie.hasValue()&&(je=Qe),je=Math.min(je,$/2),Qe=Math.min(Qe,K/2),V){var ut=4*((Math.sqrt(2)-1)/3);V.beginPath(),K>0&&$>0&&(V.moveTo(se+je,ce),V.lineTo(se+$-je,ce),V.bezierCurveTo(se+$-je+ut*je,ce,se+$,ce+Qe-ut*Qe,se+$,ce+Qe),V.lineTo(se+$,ce+K-Qe),V.bezierCurveTo(se+$,ce+K-Qe+ut*Qe,se+$-je+ut*je,ce+K,se+$-je,ce+K),V.lineTo(se+je,ce+K),V.bezierCurveTo(se+je-ut*je,ce+K,se,ce+K-Qe+ut*Qe,se,ce+K-Qe),V.lineTo(se,ce+Qe),V.bezierCurveTo(se,ce+Qe-ut*Qe,se+je-ut*je,ce,se+je,ce),V.closePath())}return new kn(se,ce,se+$,ce+K)}getMarkers(){return null}}class Ms extends on{constructor(){super(...arguments),this.type="circle"}path(V){var se=this.getAttribute("cx").getPixels("x"),ce=this.getAttribute("cy").getPixels("y"),$=this.getAttribute("r").getPixels();return V&&$>0&&(V.beginPath(),V.arc(se,ce,$,0,Math.PI*2,!1),V.closePath()),new kn(se-$,ce-$,se+$,ce+$)}getMarkers(){return null}}class Ns extends on{constructor(){super(...arguments),this.type="ellipse"}path(V){var se=4*((Math.sqrt(2)-1)/3),ce=this.getAttribute("rx").getPixels("x"),$=this.getAttribute("ry").getPixels("y"),K=this.getAttribute("cx").getPixels("x"),ie=this.getAttribute("cy").getPixels("y");return V&&ce>0&&$>0&&(V.beginPath(),V.moveTo(K+ce,ie),V.bezierCurveTo(K+ce,ie+se*$,K+se*ce,ie+$,K,ie+$),V.bezierCurveTo(K-se*ce,ie+$,K-ce,ie+se*$,K-ce,ie),V.bezierCurveTo(K-ce,ie-se*$,K-se*ce,ie-$,K,ie-$),V.bezierCurveTo(K+se*ce,ie-$,K+ce,ie-se*$,K+ce,ie),V.closePath()),new kn(K-ce,ie-$,K+ce,ie+$)}getMarkers(){return null}}class ti extends on{constructor(){super(...arguments),this.type="line"}getPoints(){return[new mt(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new mt(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(V){var[{x:se,y:ce},{x:$,y:K}]=this.getPoints();return V&&(V.beginPath(),V.moveTo(se,ce),V.lineTo($,K)),new kn(se,ce,$,K)}getMarkers(){var[V,se]=this.getPoints(),ce=V.angleTo(se);return[[V,ce],[se,ce]]}}class dn extends on{constructor(V,se,ce){super(V,se,ce),this.type="polyline",this.points=[],this.points=mt.parsePath(this.getAttribute("points").getString())}path(V){var{points:se}=this,[{x:ce,y:$}]=se,K=new kn(ce,$);return V&&(V.beginPath(),V.moveTo(ce,$)),se.forEach(ie=>{var{x:me,y:je}=ie;K.addPoint(me,je),V&&V.lineTo(me,je)}),K}getMarkers(){var{points:V}=this,se=V.length-1,ce=[];return V.forEach(($,K)=>{K!==se&&ce.push([$,$.angleTo(V[K+1])])}),ce.length>0&&ce.push([V[V.length-1],ce[ce.length-1][1]]),ce}}class as extends dn{constructor(){super(...arguments),this.type="polygon"}path(V){var se=super.path(V),[{x:ce,y:$}]=this.points;return V&&(V.lineTo(ce,$),V.closePath()),se}}class ta extends Ht{constructor(){super(...arguments),this.type="pattern"}createPattern(V,se,ce){var $=this.getStyle("width").getPixels("x",!0),K=this.getStyle("height").getPixels("y",!0),ie=new ci(this.document,null);ie.attributes.viewBox=new Ye(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ie.attributes.width=new Ye(this.document,"width","".concat($,"px")),ie.attributes.height=new Ye(this.document,"height","".concat(K,"px")),ie.attributes.transform=new Ye(this.document,"transform",this.getAttribute("patternTransform").getValue()),ie.children=this.children;var me=this.document.createCanvas($,K),je=me.getContext("2d"),Qe=this.getAttribute("x"),ut=this.getAttribute("y");Qe.hasValue()&&ut.hasValue()&&je.translate(Qe.getPixels("x",!0),ut.getPixels("y",!0)),ce.hasValue()?this.styles["fill-opacity"]=ce:Reflect.deleteProperty(this.styles,"fill-opacity");for(var P=-1;P<=1;P++)for(var k=-1;k<=1;k++)je.save(),ie.attributes.x=new Ye(this.document,"x",P*me.width),ie.attributes.y=new Ye(this.document,"y",k*me.height),ie.render(je),je.restore();var F=V.createPattern(me,"repeat");return F}}class Tn extends Ht{constructor(){super(...arguments),this.type="marker"}render(V,se,ce){if(se){var{x:$,y:K}=se,ie=this.getAttribute("orient").getString("auto"),me=this.getAttribute("markerUnits").getString("strokeWidth");V.translate($,K),ie==="auto"&&V.rotate(ce),me==="strokeWidth"&&V.scale(V.lineWidth,V.lineWidth),V.save();var je=new ci(this.document,null);je.type=this.type,je.attributes.viewBox=new Ye(this.document,"viewBox",this.getAttribute("viewBox").getValue()),je.attributes.refX=new Ye(this.document,"refX",this.getAttribute("refX").getValue()),je.attributes.refY=new Ye(this.document,"refY",this.getAttribute("refY").getValue()),je.attributes.width=new Ye(this.document,"width",this.getAttribute("markerWidth").getValue()),je.attributes.height=new Ye(this.document,"height",this.getAttribute("markerHeight").getValue()),je.attributes.overflow=new Ye(this.document,"overflow",this.getAttribute("overflow").getValue()),je.attributes.fill=new Ye(this.document,"fill",this.getAttribute("fill").getColor("black")),je.attributes.stroke=new Ye(this.document,"stroke",this.getAttribute("stroke").getValue("none")),je.children=this.children,je.render(V),V.restore(),me==="strokeWidth"&&V.scale(1/V.lineWidth,1/V.lineWidth),ie==="auto"&&V.rotate(-ce),V.translate(-$,-K)}}}class Ln extends Ht{constructor(){super(...arguments),this.type="defs"}render(){}}class Fs extends Yn{constructor(){super(...arguments),this.type="g"}getBoundingBox(V){var se=new kn;return this.children.forEach(ce=>{se.addBoundingBox(ce.getBoundingBox(V))}),se}}class Qs extends Ht{constructor(V,se,ce){super(V,se,ce),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:$,children:K}=this;K.forEach(ie=>{ie.type==="stop"&&$.push(ie)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(V,se,ce){var $=this;this.getHrefAttribute().hasValue()&&($=this.getHrefAttribute().getDefinition(),this.inheritStopContainer($));var{stops:K}=$,ie=this.getGradient(V,se);if(!ie)return this.addParentOpacity(ce,K[K.length-1].color);if(K.forEach(re=>{ie.addColorStop(re.offset,this.addParentOpacity(ce,re.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:me}=this,{MAX_VIRTUAL_PIXELS:je,viewPort:Qe}=me.screen,[ut]=Qe.viewPorts,P=new Cs(me,null);P.attributes.x=new Ye(me,"x",-je/3),P.attributes.y=new Ye(me,"y",-je/3),P.attributes.width=new Ye(me,"width",je),P.attributes.height=new Ye(me,"height",je);var k=new Fs(me,null);k.attributes.transform=new Ye(me,"transform",this.getAttribute("gradientTransform").getValue()),k.children=[P];var F=new ci(me,null);F.attributes.x=new Ye(me,"x",0),F.attributes.y=new Ye(me,"y",0),F.attributes.width=new Ye(me,"width",ut.width),F.attributes.height=new Ye(me,"height",ut.height),F.children=[k];var G=me.createCanvas(ut.width,ut.height),Z=G.getContext("2d");return Z.fillStyle=ie,F.render(Z),Z.createPattern(G,"no-repeat")}return ie}inheritStopContainer(V){this.attributesToInherit.forEach(se=>{!this.getAttribute(se).hasValue()&&V.getAttribute(se).hasValue()&&this.getAttribute(se,!0).setValue(V.getAttribute(se).getValue())})}addParentOpacity(V,se){if(V.hasValue()){var ce=new Ye(this.document,"color",se);return ce.addOpacity(V).getColor()}return se}}class Us extends Qs{constructor(V,se,ce){super(V,se,ce),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(V,se){var ce=this.getGradientUnits()==="objectBoundingBox",$=ce?se.getBoundingBox(V):null;if(ce&&!$)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var K=ce?$.x+$.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),ie=ce?$.y+$.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),me=ce?$.x+$.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),je=ce?$.y+$.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return K===me&&ie===je?null:V.createLinearGradient(K,ie,me,je)}}class rs extends Qs{constructor(V,se,ce){super(V,se,ce),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(V,se){var ce=this.getGradientUnits()==="objectBoundingBox",$=se.getBoundingBox(V);if(ce&&!$)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var K=ce?$.x+$.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),ie=ce?$.y+$.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),me=K,je=ie;this.getAttribute("fx").hasValue()&&(me=ce?$.x+$.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(je=ce?$.y+$.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Qe=ce?($.width+$.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),ut=this.getAttribute("fr").getPixels();return V.createRadialGradient(me,je,ut,K,ie,Qe)}}class qs extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="stop";var $=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),K=this.getStyle("stop-opacity"),ie=this.getStyle("stop-color",!0);ie.getString()===""&&ie.setValue("#000"),K.hasValue()&&(ie=ie.addOpacity(K)),this.offset=$,this.color=ie.getColor()}}class Rs extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,V.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Ye(V,"values",null);var $=this.getAttribute("values");$.hasValue()&&this.values.setValue($.getString().split(";"))}getProperty(){var V=this.getAttribute("attributeType").getString(),se=this.getAttribute("attributeName").getString();return V==="CSS"?this.parent.getStyle(se,!0):this.parent.getAttribute(se,!0)}calcValue(){var{initialUnits:V}=this,{progress:se,from:ce,to:$}=this.getProgress(),K=ce.getNumber()+($.getNumber()-ce.getNumber())*se;return V==="%"&&(K*=100),"".concat(K).concat(V)}update(V){var{parent:se}=this,ce=this.getProperty();if(this.initialValue||(this.initialValue=ce.getString(),this.initialUnits=ce.getUnits()),this.duration>this.maxDuration){var $=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if($==="freeze"&&!this.frozen)this.frozen=!0,se.animationFrozen=!0,se.animationFrozenValue=ce.getString();else if($==="remove"&&!this.removed)return this.removed=!0,ce.setValue(se.animationFrozen?se.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=V;var K=!1;if(this.begin<this.duration){var ie=this.calcValue(),me=this.getAttribute("type");if(me.hasValue()){var je=me.getString();ie="".concat(je,"(").concat(ie,")")}ce.setValue(ie),K=!0}return K}getProgress(){var{document:V,values:se}=this,ce={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(se.hasValue()){var $=ce.progress*(se.getValue().length-1),K=Math.floor($),ie=Math.ceil($);ce.from=new Ye(V,"from",parseFloat(se.getValue()[K])),ce.to=new Ye(V,"to",parseFloat(se.getValue()[ie])),ce.progress=($-K)/(ie-K)}else ce.from=this.from,ce.to=this.to;return ce}}class Qa extends Rs{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:V,from:se,to:ce}=this.getProgress(),$=new p(se.getColor()),K=new p(ce.getColor());if($.ok&&K.ok){var ie=$.r+(K.r-$.r)*V,me=$.g+(K.g-$.g)*V,je=$.b+(K.b-$.b)*V;return"rgb(".concat(Math.floor(ie),", ").concat(Math.floor(me),", ").concat(Math.floor(je),")")}return this.getAttribute("from").getColor()}}class hs extends Rs{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:V,from:se,to:ce}=this.getProgress(),$=I(se.getString()),K=I(ce.getString()),ie=$.map((me,je)=>{var Qe=K[je];return me+(Qe-me)*V}).join(" ");return ie}}class _u extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:$}=V,{children:K}=this;for(var ie of K)switch(ie.type){case"font-face":{this.fontFace=ie;var me=ie.getStyle("font-family");me.hasValue()&&($[me.getString()]=this);break}case"missing-glyph":this.missingGlyph=ie;break;case"glyph":{var je=ie;je.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[je.unicode]>"u"&&(this.glyphs[je.unicode]=Object.create(null)),this.glyphs[je.unicode][je.arabicForm]=je):this.glyphs[je.unicode]=je;break}}}render(){}}class ro extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class $l extends on{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class su extends xn{constructor(){super(...arguments),this.type="tref"}getText(){var V=this.getHrefAttribute().getDefinition();if(V){var se=V.children[0];if(se)return se.getText()}return""}}class pl extends xn{constructor(V,se,ce){super(V,se,ce),this.type="a";var{childNodes:$}=se,K=$[0],ie=$.length>0&&Array.from($).every(me=>me.nodeType===3);this.hasText=ie,this.text=ie?this.getTextFromNode(K):""}getText(){return this.text}renderChildren(V){if(this.hasText){super.renderChildren(V);var{document:se,x:ce,y:$}=this,{mouse:K}=se.screen,ie=new Ye(se,"fontSize",Jr.parse(se.ctx.font).fontSize);K.isWorking()&&K.checkBoundingBox(this,new kn(ce,$-ie.getPixels("y"),ce+this.measureText(V),$))}else if(this.children.length>0){var me=new Fs(this.document,null);me.children=this.children,me.parent=this,me.render(V)}}onClick(){var{window:V}=this.document;V&&V.open(this.getHrefAttribute().getString())}onMouseMove(){var V=this.document.ctx;V.canvas.style.cursor="pointer"}}function ra(zt,V){var se=Object.keys(zt);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(zt);V&&(ce=ce.filter(function($){return Object.getOwnPropertyDescriptor(zt,$).enumerable})),se.push.apply(se,ce)}return se}function Ya(zt){for(var V=1;V<arguments.length;V++){var se=arguments[V]!=null?arguments[V]:{};V%2?ra(Object(se),!0).forEach(function(ce){(0,f.default)(zt,ce,se[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(se)):ra(Object(se)).forEach(function(ce){Object.defineProperty(zt,ce,Object.getOwnPropertyDescriptor(se,ce))})}return zt}class Ws extends xn{constructor(V,se,ce){super(V,se,ce),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var $=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData($)}getText(){return this.text}path(V){var{dataArray:se}=this;V&&V.beginPath(),se.forEach(ce=>{var{type:$,points:K}=ce;switch($){case un.LINE_TO:V&&V.lineTo(K[0],K[1]);break;case un.MOVE_TO:V&&V.moveTo(K[0],K[1]);break;case un.CURVE_TO:V&&V.bezierCurveTo(K[0],K[1],K[2],K[3],K[4],K[5]);break;case un.QUAD_TO:V&&V.quadraticCurveTo(K[0],K[1],K[2],K[3]);break;case un.ARC:{var[ie,me,je,Qe,ut,P,k,F]=K,G=je>Qe?je:Qe,Z=je>Qe?1:je/Qe,re=je>Qe?Qe/je:1;V&&(V.translate(ie,me),V.rotate(k),V.scale(Z,re),V.arc(0,0,G,ut,ut+P,!!(1-F)),V.scale(1/Z,1/re),V.rotate(-k),V.translate(-ie,-me));break}case un.CLOSE_PATH:V&&V.closePath();break}})}renderChildren(V){this.setTextData(V),V.save();var se=this.parent.getStyle("text-decoration").getString(),ce=this.getFontSize(),{glyphInfo:$}=this,K=V.fillStyle;se==="underline"&&V.beginPath(),$.forEach((ie,me)=>{var{p0:je,p1:Qe,rotation:ut,text:P}=ie;V.save(),V.translate(je.x,je.y),V.rotate(ut),V.fillStyle&&V.fillText(P,0,0),V.strokeStyle&&V.strokeText(P,0,0),V.restore(),se==="underline"&&(me===0&&V.moveTo(je.x,je.y+ce/8),V.lineTo(Qe.x,Qe.y+ce/5))}),se==="underline"&&(V.lineWidth=ce/20,V.strokeStyle=K,V.stroke(),V.closePath()),V.restore()}getLetterSpacingAt(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[V]||0}findSegmentToFitChar(V,se,ce,$,K,ie,me,je,Qe){var ut=ie,P=this.measureText(V,je);je===" "&&se==="justify"&&ce<$&&(P+=($-ce)/K),Qe>-1&&(ut+=this.getLetterSpacingAt(Qe));var k=this.textHeight/20,F=this.getEquidistantPointOnPath(ut,k,0),G=this.getEquidistantPointOnPath(ut+P,k,0),Z={p0:F,p1:G},re=F&&G?Math.atan2(G.y-F.y,G.x-F.x):0;if(me){var xe=Math.cos(Math.PI/2+re)*me,fe=Math.cos(-re)*me;Z.p0=Ya(Ya({},F),{},{x:F.x+xe,y:F.y+fe}),Z.p1=Ya(Ya({},G),{},{x:G.x+xe,y:G.y+fe})}return ut+=P,{offset:ut,segment:Z,rotation:re}}measureText(V,se){var{measuresCache:ce}=this,$=se||this.getText();if(ce.has($))return ce.get($);var K=this.measureTargetText(V,$);return ce.set($,K),K}setTextData(V){if(!this.glyphInfo){var se=this.getText(),ce=se.split(""),$=se.split(" ").length-1,K=this.parent.getAttribute("dx").split().map(ke=>ke.getPixels("x")),ie=this.parent.getAttribute("dy").getPixels("y"),me=this.parent.getStyle("text-anchor").getString("start"),je=this.getStyle("letter-spacing"),Qe=this.parent.getStyle("letter-spacing"),ut=0;!je.hasValue()||je.getValue()==="inherit"?ut=Qe.getPixels():je.hasValue()&&je.getValue()!=="initial"&&je.getValue()!=="unset"&&(ut=je.getPixels());var P=[],k=se.length;this.letterSpacingCache=P;for(var F=0;F<k;F++)P.push(typeof K[F]<"u"?K[F]:ut);var G=P.reduce((ke,Ve,Je)=>Je===0?0:ke+Ve||0,0),Z=this.measureText(V),re=Math.max(Z+G,0);this.textWidth=Z,this.textHeight=this.getFontSize(),this.glyphInfo=[];var xe=this.getPathLength(),fe=this.getStyle("startOffset").getNumber(0)*xe,Ae=0;(me==="middle"||me==="center")&&(Ae=-re/2),(me==="end"||me==="right")&&(Ae=-re),Ae+=fe,ce.forEach((ke,Ve)=>{var{offset:Je,segment:lt,rotation:Te}=this.findSegmentToFitChar(V,me,re,xe,$,Ae,ie,ke,Ve);Ae=Je,!(!lt.p0||!lt.p1)&&this.glyphInfo.push({text:ce[Ve],p0:lt.p0,p1:lt.p1,rotation:Te})})}}parsePathData(V){if(this.pathLength=-1,!V)return[];var se=[],{pathParser:ce}=V;for(ce.reset();!ce.isEnd();){var{current:$}=ce,K=$?$.x:0,ie=$?$.y:0,me=ce.next(),je=me.type,Qe=[];switch(me.type){case un.MOVE_TO:this.pathM(ce,Qe);break;case un.LINE_TO:je=this.pathL(ce,Qe);break;case un.HORIZ_LINE_TO:je=this.pathH(ce,Qe);break;case un.VERT_LINE_TO:je=this.pathV(ce,Qe);break;case un.CURVE_TO:this.pathC(ce,Qe);break;case un.SMOOTH_CURVE_TO:je=this.pathS(ce,Qe);break;case un.QUAD_TO:this.pathQ(ce,Qe);break;case un.SMOOTH_QUAD_TO:je=this.pathT(ce,Qe);break;case un.ARC:Qe=this.pathA(ce);break;case un.CLOSE_PATH:on.pathZ(ce);break}me.type!==un.CLOSE_PATH?se.push({type:je,points:Qe,start:{x:K,y:ie},pathLength:this.calcLength(K,ie,je,Qe)}):se.push({type:un.CLOSE_PATH,points:[],pathLength:0})}return se}pathM(V,se){var{x:ce,y:$}=on.pathM(V).point;se.push(ce,$)}pathL(V,se){var{x:ce,y:$}=on.pathL(V).point;return se.push(ce,$),un.LINE_TO}pathH(V,se){var{x:ce,y:$}=on.pathH(V).point;return se.push(ce,$),un.LINE_TO}pathV(V,se){var{x:ce,y:$}=on.pathV(V).point;return se.push(ce,$),un.LINE_TO}pathC(V,se){var{point:ce,controlPoint:$,currentPoint:K}=on.pathC(V);se.push(ce.x,ce.y,$.x,$.y,K.x,K.y)}pathS(V,se){var{point:ce,controlPoint:$,currentPoint:K}=on.pathS(V);return se.push(ce.x,ce.y,$.x,$.y,K.x,K.y),un.CURVE_TO}pathQ(V,se){var{controlPoint:ce,currentPoint:$}=on.pathQ(V);se.push(ce.x,ce.y,$.x,$.y)}pathT(V,se){var{controlPoint:ce,currentPoint:$}=on.pathT(V);return se.push(ce.x,ce.y,$.x,$.y),un.QUAD_TO}pathA(V){var{rX:se,rY:ce,sweepFlag:$,xAxisRotation:K,centp:ie,a1:me,ad:je}=on.pathA(V);return $===0&&je>0&&(je-=2*Math.PI),$===1&&je<0&&(je+=2*Math.PI),[ie.x,ie.y,se,ce,me,je,K,$]}calcLength(V,se,ce,$){var K=0,ie=null,me=null,je=0;switch(ce){case un.LINE_TO:return this.getLineLength(V,se,$[0],$[1]);case un.CURVE_TO:for(K=0,ie=this.getPointOnCubicBezier(0,V,se,$[0],$[1],$[2],$[3],$[4],$[5]),je=.01;je<=1;je+=.01)me=this.getPointOnCubicBezier(je,V,se,$[0],$[1],$[2],$[3],$[4],$[5]),K+=this.getLineLength(ie.x,ie.y,me.x,me.y),ie=me;return K;case un.QUAD_TO:for(K=0,ie=this.getPointOnQuadraticBezier(0,V,se,$[0],$[1],$[2],$[3]),je=.01;je<=1;je+=.01)me=this.getPointOnQuadraticBezier(je,V,se,$[0],$[1],$[2],$[3]),K+=this.getLineLength(ie.x,ie.y,me.x,me.y),ie=me;return K;case un.ARC:{K=0;var Qe=$[4],ut=$[5],P=$[4]+ut,k=Math.PI/180;if(Math.abs(Qe-P)<k&&(k=Math.abs(Qe-P)),ie=this.getPointOnEllipticalArc($[0],$[1],$[2],$[3],Qe,0),ut<0)for(je=Qe-k;je>P;je-=k)me=this.getPointOnEllipticalArc($[0],$[1],$[2],$[3],je,0),K+=this.getLineLength(ie.x,ie.y,me.x,me.y),ie=me;else for(je=Qe+k;je<P;je+=k)me=this.getPointOnEllipticalArc($[0],$[1],$[2],$[3],je,0),K+=this.getLineLength(ie.x,ie.y,me.x,me.y),ie=me;return me=this.getPointOnEllipticalArc($[0],$[1],$[2],$[3],P,0),K+=this.getLineLength(ie.x,ie.y,me.x,me.y),K}}return 0}getPointOnLine(V,se,ce,$,K){var ie=arguments.length>5&&arguments[5]!==void 0?arguments[5]:se,me=arguments.length>6&&arguments[6]!==void 0?arguments[6]:ce,je=(K-ce)/($-se+Pe),Qe=Math.sqrt(V*V/(1+je*je));$<se&&(Qe*=-1);var ut=je*Qe,P=null;if($===se)P={x:ie,y:me+ut};else if((me-ce)/(ie-se+Pe)===je)P={x:ie+Qe,y:me+ut};else{var k=0,F=0,G=this.getLineLength(se,ce,$,K);if(G<Pe)return null;var Z=(ie-se)*($-se)+(me-ce)*(K-ce);Z/=G*G,k=se+Z*($-se),F=ce+Z*(K-ce);var re=this.getLineLength(ie,me,k,F),xe=Math.sqrt(V*V-re*re);Qe=Math.sqrt(xe*xe/(1+je*je)),$<se&&(Qe*=-1),ut=je*Qe,P={x:k+Qe,y:F+ut}}return P}getPointOnPath(V){var se=this.getPathLength(),ce=0,$=null;if(V<-5e-5||V-5e-5>se)return null;var{dataArray:K}=this;for(var ie of K){if(ie&&(ie.pathLength<5e-5||ce+ie.pathLength+5e-5<V)){ce+=ie.pathLength;continue}var me=V-ce,je=0;switch(ie.type){case un.LINE_TO:$=this.getPointOnLine(me,ie.start.x,ie.start.y,ie.points[0],ie.points[1],ie.start.x,ie.start.y);break;case un.ARC:{var Qe=ie.points[4],ut=ie.points[5],P=ie.points[4]+ut;if(je=Qe+me/ie.pathLength*ut,ut<0&&je<P||ut>=0&&je>P)break;$=this.getPointOnEllipticalArc(ie.points[0],ie.points[1],ie.points[2],ie.points[3],je,ie.points[6]);break}case un.CURVE_TO:je=me/ie.pathLength,je>1&&(je=1),$=this.getPointOnCubicBezier(je,ie.start.x,ie.start.y,ie.points[0],ie.points[1],ie.points[2],ie.points[3],ie.points[4],ie.points[5]);break;case un.QUAD_TO:je=me/ie.pathLength,je>1&&(je=1),$=this.getPointOnQuadraticBezier(je,ie.start.x,ie.start.y,ie.points[0],ie.points[1],ie.points[2],ie.points[3]);break}if($)return $;break}return null}getLineLength(V,se,ce,$){return Math.sqrt((ce-V)*(ce-V)+($-se)*($-se))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((V,se)=>se.pathLength>0?V+se.pathLength:V,0)),this.pathLength}getPointOnCubicBezier(V,se,ce,$,K,ie,me,je,Qe){var ut=je*Oe(V)+ie*$e(V)+$*De(V)+se*ct(V),P=Qe*Oe(V)+me*$e(V)+K*De(V)+ce*ct(V);return{x:ut,y:P}}getPointOnQuadraticBezier(V,se,ce,$,K,ie,me){var je=ie*pt(V)+$*Ue(V)+se*He(V),Qe=me*pt(V)+K*Ue(V)+ce*He(V);return{x:je,y:Qe}}getPointOnEllipticalArc(V,se,ce,$,K,ie){var me=Math.cos(ie),je=Math.sin(ie),Qe={x:ce*Math.cos(K),y:$*Math.sin(K)};return{x:V+(Qe.x*me-Qe.y*je),y:se+(Qe.x*je+Qe.y*me)}}buildEquidistantCache(V,se){var ce=this.getPathLength(),$=se||.25,K=V||ce/100;if(!this.equidistantCache||this.equidistantCache.step!==K||this.equidistantCache.precision!==$){this.equidistantCache={step:K,precision:$,points:[]};for(var ie=0,me=0;me<=ce;me+=$){var je=this.getPointOnPath(me),Qe=this.getPointOnPath(me+$);!je||!Qe||(ie+=this.getLineLength(je.x,je.y,Qe.x,Qe.y),ie>=K&&(this.equidistantCache.points.push({x:je.x,y:je.y,distance:me}),ie-=K))}}}getEquidistantPointOnPath(V,se,ce){if(this.buildEquidistantCache(se,ce),V<0||V-this.getPathLength()>5e-5)return null;var $=Math.round(V/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[$]||null}}var ba=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class $s extends Yn{constructor(V,se,ce){super(V,se,ce),this.type="image",this.loaded=!1;var $=this.getHrefAttribute().getString();if($){var K=$.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test($);V.images.push(this),K?this.loadSvg($):this.loadImage($),this.isSvg=K}}loadImage(V){var se=this;return(0,d.default)(function*(){try{var ce=yield se.document.createImage(V);se.image=ce}catch($){console.error('Error while loading image "'.concat(V,'":'),$)}se.loaded=!0})()}loadSvg(V){var se=this;return(0,d.default)(function*(){var ce=ba.exec(V);if(ce){var $=ce[5];ce[4]==="base64"?se.image=atob($):se.image=decodeURIComponent($)}else try{var K=yield se.document.fetch(V),ie=yield K.text();se.image=ie}catch(me){console.error('Error while loading image "'.concat(V,'":'),me)}se.loaded=!0})()}renderChildren(V){var{document:se,image:ce,loaded:$}=this,K=this.getAttribute("x").getPixels("x"),ie=this.getAttribute("y").getPixels("y"),me=this.getStyle("width").getPixels("x"),je=this.getStyle("height").getPixels("y");if(!(!$||!ce||!me||!je)){if(V.save(),V.translate(K,ie),this.isSvg){var Qe=se.canvg.forkString(V,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:me,scaleHeight:je});Qe.document.documentElement.parent=this,Qe.render()}else{var ut=this.image;se.setViewBox({ctx:V,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:me,desiredWidth:ut.width,height:je,desiredHeight:ut.height}),this.loaded&&(typeof ut.complete>"u"||ut.complete)&&V.drawImage(ut,0,0)}V.restore()}}getBoundingBox(){var V=this.getAttribute("x").getPixels("x"),se=this.getAttribute("y").getPixels("y"),ce=this.getStyle("width").getPixels("x"),$=this.getStyle("height").getPixels("y");return new kn(V,se,V+ce,se+$)}}class Il extends Yn{constructor(){super(...arguments),this.type="symbol"}render(V){}}class vo{constructor(V){this.document=V,this.loaded=!1,V.fonts.push(this)}load(V,se){var ce=this;return(0,d.default)(function*(){try{var{document:$}=ce,K=yield $.canvg.parser.load(se),ie=K.getElementsByTagName("font");Array.from(ie).forEach(me=>{var je=$.createElement(me);$.definitions[V]=je})}catch(me){console.error('Error while loading font "'.concat(se,'":'),me)}ce.loaded=!0})()}}class no extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="style";var $=_(Array.from(se.childNodes).map(ie=>ie.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),K=$.split("}");K.forEach(ie=>{var me=ie.trim();if(me){var je=me.split("{"),Qe=je[0].split(","),ut=je[1].split(";");Qe.forEach(P=>{var k=P.trim();if(k){var F=V.styles[k]||{};if(ut.forEach(re=>{var xe=re.indexOf(":"),fe=re.substr(0,xe).trim(),Ae=re.substr(xe+1,re.length-xe).trim();fe&&Ae&&(F[fe]=new Ye(V,fe,Ae))}),V.styles[k]=F,V.stylesSpecificity[k]=Re(k),k==="@font-face"){var G=F["font-family"].getString().replace(/"|'/g,""),Z=F.src.getString().split(",");Z.forEach(re=>{if(re.indexOf('format("svg")')>0){var xe=Y(re);xe&&new vo(V).load(G,xe)}})}}})}})}}no.parseExternalUrl=Y;class gl extends Yn{constructor(){super(...arguments),this.type="use"}setContext(V){super.setContext(V);var se=this.getAttribute("x"),ce=this.getAttribute("y");se.hasValue()&&V.translate(se.getPixels("x"),0),ce.hasValue()&&V.translate(0,ce.getPixels("y"))}path(V){var{element:se}=this;se&&se.path(V)}renderChildren(V){var{document:se,element:ce}=this;if(ce){var $=ce;if(ce.type==="symbol"&&($=new ci(se,null),$.attributes.viewBox=new Ye(se,"viewBox",ce.getAttribute("viewBox").getString()),$.attributes.preserveAspectRatio=new Ye(se,"preserveAspectRatio",ce.getAttribute("preserveAspectRatio").getString()),$.attributes.overflow=new Ye(se,"overflow",ce.getAttribute("overflow").getString()),$.children=ce.children,ce.styles.opacity=new Ye(se,"opacity",this.calculateOpacity())),$.type==="svg"){var K=this.getStyle("width",!1,!0),ie=this.getStyle("height",!1,!0);K.hasValue()&&($.attributes.width=new Ye(se,"width",K.getString())),ie.hasValue()&&($.attributes.height=new Ye(se,"height",ie.getString()))}var me=$.parent;$.parent=this,$.render(V),$.parent=me}}getBoundingBox(V){var{element:se}=this;return se?se.getBoundingBox(V):null}elementTransform(){var{document:V,element:se}=this;return st.fromElement(V,se)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function Hl(zt,V,se,ce,$,K){return zt[se*ce*4+V*4+K]}function pc(zt,V,se,ce,$,K,ie){zt[se*ce*4+V*4+K]=ie}function zs(zt,V,se){var ce=zt[V];return ce*se}function ui(zt,V,se,ce){return V+Math.cos(zt)*se+Math.sin(zt)*ce}class ks extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="feColorMatrix";var $=I(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var K=$[0];$=[.213+.787*K,.715-.715*K,.072-.072*K,0,0,.213-.213*K,.715+.285*K,.072-.072*K,0,0,.213-.213*K,.715-.715*K,.072+.928*K,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var ie=$[0]*Math.PI/180;$=[ui(ie,.213,.787,-.213),ui(ie,.715,-.715,-.715),ui(ie,.072,-.072,.928),0,0,ui(ie,.213,-.213,.143),ui(ie,.715,.285,.14),ui(ie,.072,-.072,-.283),0,0,ui(ie,.213,-.213,-.787),ui(ie,.715,-.715,.715),ui(ie,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=$,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(V,se,ce,$,K){for(var{includeOpacity:ie,matrix:me}=this,je=V.getImageData(0,0,$,K),Qe=0;Qe<K;Qe++)for(var ut=0;ut<$;ut++){var P=Hl(je.data,ut,Qe,$,K,0),k=Hl(je.data,ut,Qe,$,K,1),F=Hl(je.data,ut,Qe,$,K,2),G=Hl(je.data,ut,Qe,$,K,3),Z=zs(me,0,P)+zs(me,1,k)+zs(me,2,F)+zs(me,3,G)+zs(me,4,1),re=zs(me,5,P)+zs(me,6,k)+zs(me,7,F)+zs(me,8,G)+zs(me,9,1),xe=zs(me,10,P)+zs(me,11,k)+zs(me,12,F)+zs(me,13,G)+zs(me,14,1),fe=zs(me,15,P)+zs(me,16,k)+zs(me,17,F)+zs(me,18,G)+zs(me,19,1);ie&&(Z=0,re=0,xe=0,fe*=G/255),pc(je.data,ut,Qe,$,K,0,Z),pc(je.data,ut,Qe,$,K,1,re),pc(je.data,ut,Qe,$,K,2,xe),pc(je.data,ut,Qe,$,K,3,fe)}V.clearRect(0,0,$,K),V.putImageData(je,0,0)}}class ja extends Ht{constructor(){super(...arguments),this.type="mask"}apply(V,se){var{document:ce}=this,$=this.getAttribute("x").getPixels("x"),K=this.getAttribute("y").getPixels("y"),ie=this.getStyle("width").getPixels("x"),me=this.getStyle("height").getPixels("y");if(!ie&&!me){var je=new kn;this.children.forEach(G=>{je.addBoundingBox(G.getBoundingBox(V))}),$=Math.floor(je.x1),K=Math.floor(je.y1),ie=Math.floor(je.width),me=Math.floor(je.height)}var Qe=this.removeStyles(se,ja.ignoreStyles),ut=ce.createCanvas($+ie,K+me),P=ut.getContext("2d");ce.screen.setDefaults(P),this.renderChildren(P),new ks(ce,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(P,0,0,$+ie,K+me);var k=ce.createCanvas($+ie,K+me),F=k.getContext("2d");ce.screen.setDefaults(F),se.render(F),F.globalCompositeOperation="destination-in",F.fillStyle=P.createPattern(ut,"no-repeat"),F.fillRect(0,0,$+ie,K+me),V.fillStyle=F.createPattern(k,"no-repeat"),V.fillRect(0,0,$+ie,K+me),this.restoreStyles(se,Qe)}render(V){}}ja.ignoreStyles=["mask","transform","clip-path"];var za=()=>{};class Ta extends Ht{constructor(){super(...arguments),this.type="clipPath"}apply(V){var{document:se}=this,ce=Reflect.getPrototypeOf(V),{beginPath:$,closePath:K}=V;ce&&(ce.beginPath=za,ce.closePath=za),Reflect.apply($,V,[]),this.children.forEach(ie=>{if(!(typeof ie.path>"u")){var me=typeof ie.elementTransform<"u"?ie.elementTransform():null;me||(me=st.fromElement(se,ie)),me&&me.apply(V),ie.path(V),ce&&(ce.closePath=K),me&&me.unapply(V)}}),Reflect.apply(K,V,[]),V.clip(),ce&&(ce.beginPath=$,ce.closePath=K)}render(V){}}class vi extends Ht{constructor(){super(...arguments),this.type="filter"}apply(V,se){var{document:ce,children:$}=this,K=se.getBoundingBox(V);if(K){var ie=0,me=0;$.forEach(xe=>{var fe=xe.extraFilterDistance||0;ie=Math.max(ie,fe),me=Math.max(me,fe)});var je=Math.floor(K.width),Qe=Math.floor(K.height),ut=je+2*ie,P=Qe+2*me;if(!(ut<1||P<1)){var k=Math.floor(K.x),F=Math.floor(K.y),G=this.removeStyles(se,vi.ignoreStyles),Z=ce.createCanvas(ut,P),re=Z.getContext("2d");ce.screen.setDefaults(re),re.translate(-k+ie,-F+me),se.render(re),$.forEach(xe=>{typeof xe.apply=="function"&&xe.apply(re,0,0,ut,P)}),V.drawImage(Z,0,0,ut,P,k-ie,F-me,ut,P),this.restoreStyles(se,G)}}}render(V){}}vi.ignoreStyles=["filter","transform","clip-path"];class ei extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(V,se,ce,$,K){}}class fs extends Ht{constructor(){super(...arguments),this.type="feMorphology"}apply(V,se,ce,$,K){}}class wa extends Ht{constructor(){super(...arguments),this.type="feComposite"}apply(V,se,ce,$,K){}}class Qo extends Ht{constructor(V,se,ce){super(V,se,ce),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(V,se,ce,$,K){var{document:ie,blurRadius:me}=this,je=ie.window?ie.window.document.body:null,Qe=V.canvas;Qe.id=ie.getUniqueId(),je&&(Qe.style.display="none",je.appendChild(Qe)),(0,x.canvasRGBA)(Qe,se,ce,$,K,me),je&&je.removeChild(Qe)}}class Hi extends Ht{constructor(){super(...arguments),this.type="title"}}class zo extends Ht{constructor(){super(...arguments),this.type="desc"}}var Ea={svg:ci,rect:Cs,circle:Ms,ellipse:Ns,line:ti,polyline:dn,polygon:as,path:on,pattern:ta,marker:Tn,defs:Ln,linearGradient:Us,radialGradient:rs,stop:qs,animate:Rs,animateColor:Qa,animateTransform:hs,font:_u,"font-face":ro,"missing-glyph":$l,glyph:Vr,text:xn,tspan:An,tref:su,a:pl,textPath:Ws,image:$s,g:Fs,symbol:Il,style:no,use:gl,mask:ja,clipPath:Ta,filter:vi,feDropShadow:ei,feMorphology:fs,feComposite:wa,feColorMatrix:ks,feGaussianBlur:Qo,title:Hi,desc:zo};function Xs(zt,V){var se=Object.keys(zt);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(zt);V&&(ce=ce.filter(function($){return Object.getOwnPropertyDescriptor(zt,$).enumerable})),se.push.apply(se,ce)}return se}function ms(zt){for(var V=1;V<arguments.length;V++){var se=arguments[V]!=null?arguments[V]:{};V%2?Xs(Object(se),!0).forEach(function(ce){(0,f.default)(zt,ce,se[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(se)):Xs(Object(se)).forEach(function(ce){Object.defineProperty(zt,ce,Object.getOwnPropertyDescriptor(se,ce))})}return zt}function jo(zt,V){var se=document.createElement("canvas");return se.width=zt,se.height=V,se}function Va(zt){return Vs.apply(this,arguments)}function Vs(){return Vs=(0,d.default)(function*(zt){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,se=document.createElement("img");return V&&(se.crossOrigin="Anonymous"),new Promise((ce,$)=>{se.onload=()=>{ce(se)},se.onerror=(K,ie,me,je,Qe)=>{$(Qe)},se.src=zt})}),Vs.apply(this,arguments)}class qa{constructor(V){var{rootEmSize:se=12,emSize:ce=12,createCanvas:$=qa.createCanvas,createImage:K=qa.createImage,anonymousCrossOrigin:ie}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=V,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=V.screen,this.rootEmSize=se,this.emSize=ce,this.createCanvas=$,this.createImage=this.bindCreateImage(K,ie),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(V,se){return typeof se=="boolean"?(ce,$)=>V(ce,typeof $=="boolean"?$:se):V}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:V}=this;return V[V.length-1]}set emSize(V){var{emSizeStack:se}=this;se.push(V)}popEmSize(){var{emSizeStack:V}=this;V.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(V=>V.loaded)}isFontsLoaded(){return this.fonts.every(V=>V.loaded)}createDocumentElement(V){var se=this.createElement(V.documentElement);return se.root=!0,se.addStylesFromStyleDefinition(),this.documentElement=se,se}createElement(V){var se=V.nodeName.replace(/^[^:]+:/,""),ce=qa.elementTypes[se];return typeof ce<"u"?new ce(this,V):new Lr(this,V)}createTextNode(V){return new Mn(this,V)}setViewBox(V){this.screen.setViewBox(ms({document:this},V))}}qa.createCanvas=jo,qa.createImage=Va,qa.elementTypes=Ea;function xo(zt,V){var se=Object.keys(zt);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(zt);V&&(ce=ce.filter(function($){return Object.getOwnPropertyDescriptor(zt,$).enumerable})),se.push.apply(se,ce)}return se}function io(zt){for(var V=1;V<arguments.length;V++){var se=arguments[V]!=null?arguments[V]:{};V%2?xo(Object(se),!0).forEach(function(ce){(0,f.default)(zt,ce,se[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(se)):xo(Object(se)).forEach(function(ce){Object.defineProperty(zt,ce,Object.getOwnPropertyDescriptor(se,ce))})}return zt}class Vo{constructor(V,se){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new Jt(ce),this.screen=new gt(V,ce),this.options=ce;var $=new qa(this,ce),K=$.createDocumentElement(se);this.document=$,this.documentElement=K}static from(V,se){var ce=arguments;return(0,d.default)(function*(){var $=ce.length>2&&ce[2]!==void 0?ce[2]:{},K=new Jt($),ie=yield K.parse(se);return new Vo(V,ie,$)})()}static fromString(V,se){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=new Jt(ce),K=$.parseFromString(se);return new Vo(V,K,ce)}fork(V,se){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Vo.from(V,se,io(io({},this.options),ce))}forkString(V,se){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Vo.fromString(V,se,io(io({},this.options),ce))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var V=arguments,se=this;return(0,d.default)(function*(){var ce=V.length>0&&V[0]!==void 0?V[0]:{};se.start(io({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},ce)),yield se.ready(),se.stop()})()}start(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:se,screen:ce,options:$}=this;ce.start(se,io(io({enableRedraw:!0},$),V))}stop(){this.screen.stop()}resize(V){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V,ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(V,se,ce)}}}),"./node_modules/core-js/internals/a-callable.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/try-to-string.js"),m=TypeError;c.exports=function(p){if(d(p))return p;throw new m(f(p)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-constructor.js"),f=l("./node_modules/core-js/internals/try-to-string.js"),m=TypeError;c.exports=function(p){if(d(p))return p;throw new m(f(p)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-possible-prototype.js"),f=String,m=TypeError;c.exports=function(p){if(d(p))return p;throw new m("Can't set "+f(p)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/set-helpers.js").has;c.exports=function(f){return d(f),f}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=l("./node_modules/core-js/internals/object-create.js"),m=l("./node_modules/core-js/internals/object-define-property.js").f,p=d("unscopables"),g=Array.prototype;g[p]===void 0&&m(g,p,{configurable:!0,value:f(null)}),c.exports=function(x){g[p][x]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/string-multibyte.js").charAt;c.exports=function(f,m,p){return m+(p?d(f,m).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-is-prototype-of.js"),f=TypeError;c.exports=function(m,p){if(d(p,m))return m;throw new f("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js"),f=String,m=TypeError;c.exports=function(p){if(d(p))return p;throw new m(f(p)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=d(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/array-iteration.js").forEach,f=l("./node_modules/core-js/internals/array-method-is-strict.js"),m=f("forEach");c.exports=m?[].forEach:function(g){return d(this,g,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-object.js"),p=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),g=l("./node_modules/core-js/internals/is-array-iterator-method.js"),x=l("./node_modules/core-js/internals/is-constructor.js"),y=l("./node_modules/core-js/internals/length-of-array-like.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/get-iterator.js"),_=l("./node_modules/core-js/internals/get-iterator-method.js"),N=Array;c.exports=function(I){var D=m(I),M=x(this),Y=arguments.length,X=Y>1?arguments[1]:void 0,te=X!==void 0;te&&(X=d(X,Y>2?arguments[2]:void 0));var de=_(D),ye=0,we,ve,ne,ae,oe,Re;if(de&&!(this===N&&g(de)))for(ve=M?new this:[],ae=E(D,de),oe=ae.next;!(ne=f(oe,ae)).done;ye++)Re=te?p(ae,X,[ne.value,ye],!0):ne.value,w(ve,ye,Re);else for(we=y(D),ve=M?new this(we):N(we);we>ye;ye++)Re=te?X(D[ye],ye):D[ye],w(ve,ye,Re);return ve.length=ye,ve}}),"./node_modules/core-js/internals/array-includes.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-indexed-object.js"),f=l("./node_modules/core-js/internals/to-absolute-index.js"),m=l("./node_modules/core-js/internals/length-of-array-like.js"),p=function(g){return function(x,y,w){var E=d(x),_=m(E);if(_===0)return!g&&-1;var N=f(w,_),C;if(g&&y!==y){for(;_>N;)if(C=E[N++],C!==C)return!0}else for(;_>N;N++)if((g||N in E)&&E[N]===y)return g||N||0;return!g&&-1}};c.exports={includes:p(!0),indexOf:p(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/to-object.js"),g=l("./node_modules/core-js/internals/length-of-array-like.js"),x=l("./node_modules/core-js/internals/array-species-create.js"),y=f([].push),w=function(E){var _=E===1,N=E===2,C=E===3,I=E===4,D=E===6,M=E===7,Y=E===5||D;return function(X,te,de,ye){for(var we=p(X),ve=m(we),ne=g(ve),ae=d(te,de),oe=0,Re=ye||x,Pe=_?Re(X,ne):N||M?Re(X,0):void 0,be,he;ne>oe;oe++)if((Y||oe in ve)&&(be=ve[oe],he=ae(be,oe,we),E))if(_)Pe[oe]=he;else if(he)switch(E){case 3:return!0;case 5:return be;case 6:return oe;case 2:y(Pe,be)}else switch(E){case 4:return!1;case 7:y(Pe,be)}return D?-1:C||I?I:Pe}};c.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/well-known-symbol.js"),m=l("./node_modules/core-js/internals/environment-v8-version.js"),p=f("species");c.exports=function(g){return m>=51||!d(function(){var x=[],y=x.constructor={};return y[p]=function(){return{foo:1}},x[g](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=function(f,m){var p=[][f];return!!p&&d(function(){p.call(null,m||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/to-object.js"),m=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/length-of-array-like.js"),g=TypeError,x="Reduce of empty array with no initial value",y=function(w){return function(E,_,N,C){var I=f(E),D=m(I),M=p(I);if(d(_),M===0&&N<2)throw new g(x);var Y=w?M-1:0,X=w?-1:1;if(N<2)for(;;){if(Y in D){C=D[Y],Y+=X;break}if(Y+=X,w?Y<0:M<=Y)throw new g(x)}for(;w?Y>=0:M>Y;Y+=X)Y in D&&(C=_(C,D[Y],Y,I));return C}};c.exports={left:y(!1),right:y(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-array.js"),f=l("./node_modules/core-js/internals/is-constructor.js"),m=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=p("species"),x=Array;c.exports=function(y){var w;return d(y)&&(w=y.constructor,f(w)&&(w===x||d(w.prototype))?w=void 0:m(w)&&(w=w[g],w===null&&(w=void 0))),w===void 0?x:w}}),"./node_modules/core-js/internals/array-species-create.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/array-species-constructor.js");c.exports=function(f,m){return new(d(f))(m===0?0:m)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(m,p,g,x){try{return x?p(d(g)[0],g[1]):p(g)}catch(y){f(m,"throw",y)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=d("iterator"),m=!1;try{var p=0,g={next:function(){return{done:!!p++}},return:function(){m=!0}};g[f]=function(){return this},Array.from(g,function(){throw 2})}catch{}c.exports=function(x,y){try{if(!y&&!m)return!1}catch{return!1}var w=!1;try{var E={};E[f]=function(){return{next:function(){return{done:w=!0}}}},x(E)}catch{}return w}}),"./node_modules/core-js/internals/classof-raw.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=d({}.toString),m=d("".slice);c.exports=function(p){return m(f(p),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-string-tag-support.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/classof-raw.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=p("toStringTag"),x=Object,y=m((function(){return arguments})())==="Arguments",w=function(E,_){try{return E[_]}catch{}};c.exports=d?m:function(E){var _,N,C;return E===void 0?"Undefined":E===null?"Null":typeof(N=w(_=x(E),g))=="string"?N:y?m(_):(C=m(_))==="Object"&&f(_.callee)?"Arguments":C}}),"./node_modules/core-js/internals/collection-strong.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-create.js"),f=l("./node_modules/core-js/internals/define-built-in-accessor.js"),m=l("./node_modules/core-js/internals/define-built-ins.js"),p=l("./node_modules/core-js/internals/function-bind-context.js"),g=l("./node_modules/core-js/internals/an-instance.js"),x=l("./node_modules/core-js/internals/is-null-or-undefined.js"),y=l("./node_modules/core-js/internals/iterate.js"),w=l("./node_modules/core-js/internals/iterator-define.js"),E=l("./node_modules/core-js/internals/create-iter-result-object.js"),_=l("./node_modules/core-js/internals/set-species.js"),N=l("./node_modules/core-js/internals/descriptors.js"),C=l("./node_modules/core-js/internals/internal-metadata.js").fastKey,I=l("./node_modules/core-js/internals/internal-state.js"),D=I.set,M=I.getterFor;c.exports={getConstructor:function(Y,X,te,de){var ye=Y(function(oe,Re){g(oe,we),D(oe,{type:X,index:d(null),first:null,last:null,size:0}),N||(oe.size=0),x(Re)||y(Re,oe[de],{that:oe,AS_ENTRIES:te})}),we=ye.prototype,ve=M(X),ne=function(oe,Re,Pe){var be=ve(oe),he=ae(oe,Re),Ie,Oe;return he?he.value=Pe:(be.last=he={index:Oe=C(Re,!0),key:Re,value:Pe,previous:Ie=be.last,next:null,removed:!1},be.first||(be.first=he),Ie&&(Ie.next=he),N?be.size++:oe.size++,Oe!=="F"&&(be.index[Oe]=he)),oe},ae=function(oe,Re){var Pe=ve(oe),be=C(Re),he;if(be!=="F")return Pe.index[be];for(he=Pe.first;he;he=he.next)if(he.key===Re)return he};return m(we,{clear:function(){for(var Re=this,Pe=ve(Re),be=Pe.first;be;)be.removed=!0,be.previous&&(be.previous=be.previous.next=null),be=be.next;Pe.first=Pe.last=null,Pe.index=d(null),N?Pe.size=0:Re.size=0},delete:function(oe){var Re=this,Pe=ve(Re),be=ae(Re,oe);if(be){var he=be.next,Ie=be.previous;delete Pe.index[be.index],be.removed=!0,Ie&&(Ie.next=he),he&&(he.previous=Ie),Pe.first===be&&(Pe.first=he),Pe.last===be&&(Pe.last=Ie),N?Pe.size--:Re.size--}return!!be},forEach:function(Re){for(var Pe=ve(this),be=p(Re,arguments.length>1?arguments[1]:void 0),he;he=he?he.next:Pe.first;)for(be(he.value,he.key,this);he&&he.removed;)he=he.previous},has:function(Re){return!!ae(this,Re)}}),m(we,te?{get:function(Re){var Pe=ae(this,Re);return Pe&&Pe.value},set:function(Re,Pe){return ne(this,Re===0?0:Re,Pe)}}:{add:function(Re){return ne(this,Re=Re===0?0:Re,Re)}}),N&&f(we,"size",{configurable:!0,get:function(){return ve(this).size}}),ye},setStrong:function(Y,X,te){var de=X+" Iterator",ye=M(X),we=M(de);w(Y,X,function(ve,ne){D(this,{type:de,target:ve,state:ye(ve),kind:ne,last:null})},function(){for(var ve=we(this),ne=ve.kind,ae=ve.last;ae&&ae.removed;)ae=ae.previous;return!ve.target||!(ve.last=ae=ae?ae.next:ve.state.first)?(ve.target=null,E(void 0,!0)):E(ne==="keys"?ae.key:ne==="values"?ae.value:[ae.key,ae.value],!1)},te?"entries":"values",!te,!0),_(X)}}}),"./node_modules/core-js/internals/collection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/function-uncurry-this.js"),p=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/define-built-in.js"),x=l("./node_modules/core-js/internals/internal-metadata.js"),y=l("./node_modules/core-js/internals/iterate.js"),w=l("./node_modules/core-js/internals/an-instance.js"),E=l("./node_modules/core-js/internals/is-callable.js"),_=l("./node_modules/core-js/internals/is-null-or-undefined.js"),N=l("./node_modules/core-js/internals/is-object.js"),C=l("./node_modules/core-js/internals/fails.js"),I=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),D=l("./node_modules/core-js/internals/set-to-string-tag.js"),M=l("./node_modules/core-js/internals/inherit-if-required.js");c.exports=function(Y,X,te){var de=Y.indexOf("Map")!==-1,ye=Y.indexOf("Weak")!==-1,we=de?"set":"add",ve=f[Y],ne=ve&&ve.prototype,ae=ve,oe={},Re=function(De){var ct=m(ne[De]);g(ne,De,De==="add"?function(Ue){return ct(this,Ue===0?0:Ue),this}:De==="delete"?function(pt){return ye&&!N(pt)?!1:ct(this,pt===0?0:pt)}:De==="get"?function(Ue){return ye&&!N(Ue)?void 0:ct(this,Ue===0?0:Ue)}:De==="has"?function(Ue){return ye&&!N(Ue)?!1:ct(this,Ue===0?0:Ue)}:function(Ue,He){return ct(this,Ue===0?0:Ue,He),this})},Pe=p(Y,!E(ve)||!(ye||ne.forEach&&!C(function(){new ve().entries().next()})));if(Pe)ae=te.getConstructor(X,Y,de,we),x.enable();else if(p(Y,!0)){var be=new ae,he=be[we](ye?{}:-0,1)!==be,Ie=C(function(){be.has(1)}),Oe=I(function(De){new ve(De)}),$e=!ye&&C(function(){for(var De=new ve,ct=5;ct--;)De[we](ct,ct);return!De.has(-0)});Oe||(ae=X(function(De,ct){w(De,ne);var pt=M(new ve,De,ae);return _(ct)||y(ct,pt[we],{that:pt,AS_ENTRIES:de}),pt}),ae.prototype=ne,ne.constructor=ae),(Ie||$e)&&(Re("delete"),Re("has"),de&&Re("get")),($e||he)&&Re(we),ye&&ne.clear&&delete ne.clear}return oe[Y]=ae,d({global:!0,constructor:!0,forced:ae!==ve},oe),D(ae,Y),ye||te.setStrong(ae,Y,de),ae}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/own-keys.js"),m=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),p=l("./node_modules/core-js/internals/object-define-property.js");c.exports=function(g,x,y){for(var w=f(x),E=p.f,_=m.f,N=0;N<w.length;N++){var C=w[N];!d(g,C)&&!(y&&d(y,C))&&E(g,C,_(x,C))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=d("match");c.exports=function(m){var p=/./;try{"/./"[m](p)}catch{try{return p[f]=!1,"/./"[m](p)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js"),m=l("./node_modules/core-js/internals/to-string.js"),p=/"/g,g=d("".replace);c.exports=function(x,y,w,E){var _=m(f(x)),N="<"+y;return w!==""&&(N+=" "+w+'="'+g(m(E),p,"&quot;")+'"'),N+">"+_+"</"+y+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(c){c.exports=function(u,l){return{value:u,done:l}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),m=l("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=d?function(p,g,x){return f.f(p,g,m(1,x))}:function(p,g,x){return p[g]=x,p}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(c){c.exports=function(u,l){return{enumerable:!(u&1),configurable:!(u&2),writable:!(u&4),value:l}}}),"./node_modules/core-js/internals/create-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),m=l("./node_modules/core-js/internals/create-property-descriptor.js");c.exports=function(p,g,x){d?f.f(p,g,m(0,x)):p[g]=x}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/make-built-in.js"),f=l("./node_modules/core-js/internals/object-define-property.js");c.exports=function(m,p,g){return g.get&&d(g.get,p,{getter:!0}),g.set&&d(g.set,p,{setter:!0}),f.f(m,p,g)}}),"./node_modules/core-js/internals/define-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/object-define-property.js"),m=l("./node_modules/core-js/internals/make-built-in.js"),p=l("./node_modules/core-js/internals/define-global-property.js");c.exports=function(g,x,y,w){w||(w={});var E=w.enumerable,_=w.name!==void 0?w.name:x;if(d(y)&&m(y,_,w),w.global)E?g[x]=y:p(x,y);else{try{w.unsafe?g[x]&&(E=!0):delete g[x]}catch{}E?g[x]=y:f.f(g,x,{value:y,enumerable:!1,configurable:!w.nonConfigurable,writable:!w.nonWritable})}return g}}),"./node_modules/core-js/internals/define-built-ins.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/define-built-in.js");c.exports=function(f,m,p){for(var g in m)d(f,g,m[g],p);return f}}),"./node_modules/core-js/internals/define-global-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=Object.defineProperty;c.exports=function(m,p){try{f(d,m,{value:p,configurable:!0,writable:!0})}catch{d[m]=p}return p}}),"./node_modules/core-js/internals/descriptors.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-object.js"),m=d.document,p=f(m)&&f(m.createElement);c.exports=function(g){return p?m.createElement(g):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(c){var u=TypeError,l=9007199254740991;c.exports=function(d){if(d>l)throw u("Maximum allowed index exceeded");return d}}),"./node_modules/core-js/internals/dom-iterables.js":(function(c){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/document-create-element.js"),f=d("span").classList,m=f&&f.constructor&&f.constructor.prototype;c.exports=m===Object.prototype?void 0:m}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/ipad|iphone|ipod/i.test(d)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(d)}),"./node_modules/core-js/internals/environment-is-node.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment.js");c.exports=d==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-user-agent.js");c.exports=/web0s(?!.*chrome)/i.test(d)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=d.navigator,m=f&&f.userAgent;c.exports=m?String(m):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/environment-user-agent.js"),m=d.process,p=d.Deno,g=m&&m.versions||p&&p.version,x=g&&g.v8,y,w;x&&(y=x.split("."),w=y[0]>0&&y[0]<4?1:+(y[0]+y[1])),!w&&f&&(y=f.match(/Edge\/(\d+)/),(!y||y[1]>=74)&&(y=f.match(/Chrome\/(\d+)/),y&&(w=+y[1]))),c.exports=w}),"./node_modules/core-js/internals/environment.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/environment-user-agent.js"),m=l("./node_modules/core-js/internals/classof-raw.js"),p=function(g){return f.slice(0,g.length)===g};c.exports=(function(){return p("Bun/")?"BUN":p("Cloudflare-Workers")?"CLOUDFLARE":p("Deno/")?"DENO":p("Node.js/")?"NODE":d.Bun&&typeof Bun.version=="string"?"BUN":d.Deno&&typeof Deno.version=="object"?"DENO":m(d.process)==="process"?"NODE":d.window&&d.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,m=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=l("./node_modules/core-js/internals/define-built-in.js"),g=l("./node_modules/core-js/internals/define-global-property.js"),x=l("./node_modules/core-js/internals/copy-constructor-properties.js"),y=l("./node_modules/core-js/internals/is-forced.js");c.exports=function(w,E){var _=w.target,N=w.global,C=w.stat,I,D,M,Y,X,te;if(N?D=d:C?D=d[_]||g(_,{}):D=d[_]&&d[_].prototype,D)for(M in E){if(X=E[M],w.dontCallGetSet?(te=f(D,M),Y=te&&te.value):Y=D[M],I=y(N?M:_+(C?".":"#")+M,w.forced),!I&&Y!==void 0){if(typeof X==typeof Y)continue;x(X,Y)}(w.sham||Y&&Y.sham)&&m(X,"sham",!0),p(D,M,X,w)}}}),"./node_modules/core-js/internals/fails.js":(function(c){c.exports=function(u){try{return!!u()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(c,u,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/define-built-in.js"),m=l("./node_modules/core-js/internals/regexp-exec.js"),p=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),x=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=g("species"),w=RegExp.prototype;c.exports=function(E,_,N,C){var I=g(E),D=!p(function(){var te={};return te[I]=function(){return 7},""[E](te)!==7}),M=D&&!p(function(){var te=!1,de=/a/;if(E==="split"){var ye={};ye[y]=function(){return de},de={constructor:ye,flags:""},de[I]=/./[I]}return de.exec=function(){return te=!0,null},de[I](""),!te});if(!D||!M||N){var Y=/./[I],X=_(I,""[E],function(te,de,ye,we,ve){var ne=de.exec;return ne===m||ne===w.exec?D&&!ve?{done:!0,value:d(Y,de,ye,we)}:{done:!0,value:d(te,ye,de,we)}:{done:!1}});f(String.prototype,E,X[0]),f(w,I,X[1])}C&&x(w[I],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype,m=f.apply,p=f.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(d?p.bind(m):function(){return p.apply(m,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),f=l("./node_modules/core-js/internals/a-callable.js"),m=l("./node_modules/core-js/internals/function-bind-native.js"),p=d(d.bind);c.exports=function(g,x){return f(g),x===void 0?g:m?p(g,x):function(){return g.apply(x,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var f=(function(){}).bind();return typeof f!="function"||f.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype.call;c.exports=d?f.bind(f):function(){return f.apply(f,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=Function.prototype,p=d&&Object.getOwnPropertyDescriptor,g=f(m,"name"),x=g&&(function(){}).name==="something",y=g&&(!d||d&&p(m,"name").configurable);c.exports={EXISTS:g,PROPER:x,CONFIGURABLE:y}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/a-callable.js");c.exports=function(m,p,g){try{return d(f(Object.getOwnPropertyDescriptor(m,p)[g]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof-raw.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=function(m){if(d(m)==="Function")return f(m)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-native.js"),f=Function.prototype,m=f.call,p=d&&f.bind.bind(m,m);c.exports=d?p:function(g){return function(){return m.apply(g,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=function(p){return f(p)?p:void 0};c.exports=function(p,g){return arguments.length<2?m(d[p]):d[p]&&d[p][g]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(c){c.exports=function(u){return{iterator:u,next:u.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof.js"),f=l("./node_modules/core-js/internals/get-method.js"),m=l("./node_modules/core-js/internals/is-null-or-undefined.js"),p=l("./node_modules/core-js/internals/iterators.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),x=g("iterator");c.exports=function(y){if(!m(y))return f(y,x)||f(y,"@@iterator")||p[d(y)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/a-callable.js"),m=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/get-iterator-method.js"),x=TypeError;c.exports=function(y,w){var E=arguments.length<2?g(y):w;if(f(E))return m(d(E,y));throw new x(p(y)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/is-null-or-undefined.js");c.exports=function(m,p){var g=m[p];return f(g)?void 0:d(g)}}),"./node_modules/core-js/internals/get-set-record.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/function-call.js"),p=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),g=l("./node_modules/core-js/internals/get-iterator-direct.js"),x="Invalid size",y=RangeError,w=TypeError,E=Math.max,_=function(N,C){this.set=N,this.size=E(C,0),this.has=d(N.has),this.keys=d(N.keys)};_.prototype={getIterator:function(){return g(f(m(this.keys,this.set)))},includes:function(N){return m(this.has,this.set,N)}},c.exports=function(N){f(N);var C=+N.size;if(C!==C)throw new w(x);var I=p(C);if(I<0)throw new y(x);return new _(N,I)}}),"./node_modules/core-js/internals/get-substitution.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-object.js"),m=Math.floor,p=d("".charAt),g=d("".replace),x=d("".slice),y=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;c.exports=function(E,_,N,C,I,D){var M=N+E.length,Y=C.length,X=w;return I!==void 0&&(I=f(I),X=y),g(D,X,function(te,de){var ye;switch(p(de,0)){case"$":return"$";case"&":return E;case"`":return x(_,0,N);case"'":return x(_,M);case"<":ye=I[x(de,1,-1)];break;default:var we=+de;if(we===0)return te;if(we>Y){var ve=m(we/10);return ve===0?te:ve<=Y?C[ve-1]===void 0?p(de,1):C[ve-1]+p(de,1):te}ye=C[we-1]}return ye===void 0?"":ye})}}),"./node_modules/core-js/internals/global-this.js":(function(c){var u=function(l){return l&&l.Math===Math&&l};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof Z1=="object"&&Z1)||u(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-object.js"),m=d({}.hasOwnProperty);c.exports=Object.hasOwn||function(g,x){return m(f(g),x)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(c){c.exports=function(u,l){try{arguments.length===1?console.error(u):console.error(u,l)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js");c.exports=d("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/document-create-element.js");c.exports=!d&&!f(function(){return Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/classof-raw.js"),p=Object,g=d("".split);c.exports=f(function(){return!p("z").propertyIsEnumerable(0)})?function(x){return m(x)==="String"?g(x,""):p(x)}:p}),"./node_modules/core-js/internals/inherit-if-required.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js"),f=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/object-set-prototype-of.js");c.exports=function(p,g,x){var y,w;return m&&d(y=g.constructor)&&y!==x&&f(w=y.prototype)&&w!==x.prototype&&m(p,w),p}}),"./node_modules/core-js/internals/inspect-source.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/shared-store.js"),p=d(Function.toString);f(m.inspectSource)||(m.inspectSource=function(g){return p(g)}),c.exports=m.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/hidden-keys.js"),p=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),x=l("./node_modules/core-js/internals/object-define-property.js").f,y=l("./node_modules/core-js/internals/object-get-own-property-names.js"),w=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),E=l("./node_modules/core-js/internals/object-is-extensible.js"),_=l("./node_modules/core-js/internals/uid.js"),N=l("./node_modules/core-js/internals/freezing.js"),C=!1,I=_("meta"),D=0,M=function(we){x(we,I,{value:{objectID:"O"+D++,weakData:{}}})},Y=function(we,ve){if(!p(we))return typeof we=="symbol"?we:(typeof we=="string"?"S":"P")+we;if(!g(we,I)){if(!E(we))return"F";if(!ve)return"E";M(we)}return we[I].objectID},X=function(we,ve){if(!g(we,I)){if(!E(we))return!0;if(!ve)return!1;M(we)}return we[I].weakData},te=function(we){return N&&C&&E(we)&&!g(we,I)&&M(we),we},de=function(){ye.enable=function(){},C=!0;var we=y.f,ve=f([].splice),ne={};ne[I]=1,we(ne).length&&(y.f=function(ae){for(var oe=we(ae),Re=0,Pe=oe.length;Re<Pe;Re++)if(oe[Re]===I){ve(oe,Re,1);break}return oe},d({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},ye=c.exports={enable:de,fastKey:Y,getWeakData:X,onFreeze:te};m[I]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/weak-map-basic-detection.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),x=l("./node_modules/core-js/internals/shared-store.js"),y=l("./node_modules/core-js/internals/shared-key.js"),w=l("./node_modules/core-js/internals/hidden-keys.js"),E="Object already initialized",_=f.TypeError,N=f.WeakMap,C,I,D,M=function(de){return D(de)?I(de):C(de,{})},Y=function(de){return function(ye){var we;if(!m(ye)||(we=I(ye)).type!==de)throw new _("Incompatible receiver, "+de+" required");return we}};if(d||x.state){var X=x.state||(x.state=new N);X.get=X.get,X.has=X.has,X.set=X.set,C=function(de,ye){if(X.has(de))throw new _(E);return ye.facade=de,X.set(de,ye),ye},I=function(de){return X.get(de)||{}},D=function(de){return X.has(de)}}else{var te=y("state");w[te]=!0,C=function(de,ye){if(g(de,te))throw new _(E);return ye.facade=de,p(de,te,ye),ye},I=function(de){return g(de,te)?de[te]:{}},D=function(de){return g(de,te)}}c.exports={set:C,get:I,has:D,enforce:M,getterFor:Y}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=l("./node_modules/core-js/internals/iterators.js"),m=d("iterator"),p=Array.prototype;c.exports=function(g){return g!==void 0&&(f.Array===g||p[m]===g)}}),"./node_modules/core-js/internals/is-array.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof-raw.js");c.exports=Array.isArray||function(m){return d(m)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(c){var u=typeof document=="object"&&document.all;c.exports=typeof u>"u"&&u!==void 0?function(l){return typeof l=="function"||l===u}:function(l){return typeof l=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/classof.js"),g=l("./node_modules/core-js/internals/get-built-in.js"),x=l("./node_modules/core-js/internals/inspect-source.js"),y=function(){},w=g("Reflect","construct"),E=/^\s*(?:class|function)\b/,_=d(E.exec),N=!E.test(y),C=function(M){if(!m(M))return!1;try{return w(y,[],M),!0}catch{return!1}},I=function(M){if(!m(M))return!1;switch(p(M)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return N||!!_(E,x(M))}catch{return!0}};I.sham=!0,c.exports=!w||f(function(){var D;return C(C.call)||!C(Object)||!C(function(){D=!0})||D})?I:C}),"./node_modules/core-js/internals/is-forced.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=/#|\.prototype\./,p=function(E,_){var N=x[g(E)];return N===w?!0:N===y?!1:f(_)?d(_):!!_},g=p.normalize=function(E){return String(E).replace(m,".").toLowerCase()},x=p.data={},y=p.NATIVE="N",w=p.POLYFILL="P";c.exports=p}),"./node_modules/core-js/internals/is-iterable.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/is-null-or-undefined.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=l("./node_modules/core-js/internals/iterators.js"),x=p("iterator"),y=Object;c.exports=function(w){if(m(w))return!1;var E=y(w);return E[x]!==void 0||"@@iterator"in E||f(g,d(E))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(c){c.exports=function(u){return u==null}}),"./node_modules/core-js/internals/is-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-callable.js");c.exports=function(f){return typeof f=="object"?f!==null:d(f)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js");c.exports=function(f){return d(f)||f===null}}),"./node_modules/core-js/internals/is-pure.js":(function(c){c.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/internal-state.js").get;c.exports=function(p){if(!d(p))return!1;var g=f(p);return!!g&&g.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-object.js"),f=l("./node_modules/core-js/internals/classof-raw.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),p=m("match");c.exports=function(g){var x;return d(g)&&((x=g[p])!==void 0?!!x:f(g)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/object-is-prototype-of.js"),p=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),g=Object;c.exports=p?function(x){return typeof x=="symbol"}:function(x){var y=d("Symbol");return f(y)&&m(y.prototype,g(x))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js");c.exports=function(f,m,p){for(var g=p?f:f.iterator,x=f.next,y,w;!(y=d(x,g)).done;)if(w=m(y.value),w!==void 0)return w}}),"./node_modules/core-js/internals/iterate.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-bind-context.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/is-array-iterator-method.js"),x=l("./node_modules/core-js/internals/length-of-array-like.js"),y=l("./node_modules/core-js/internals/object-is-prototype-of.js"),w=l("./node_modules/core-js/internals/get-iterator.js"),E=l("./node_modules/core-js/internals/get-iterator-method.js"),_=l("./node_modules/core-js/internals/iterator-close.js"),N=TypeError,C=function(D,M){this.stopped=D,this.result=M},I=C.prototype;c.exports=function(D,M,Y){var X=Y&&Y.that,te=!!(Y&&Y.AS_ENTRIES),de=!!(Y&&Y.IS_RECORD),ye=!!(Y&&Y.IS_ITERATOR),we=!!(Y&&Y.INTERRUPTED),ve=d(M,X),ne,ae,oe,Re,Pe,be,he,Ie=function($e){return ne&&_(ne,"normal"),new C(!0,$e)},Oe=function($e){return te?(m($e),we?ve($e[0],$e[1],Ie):ve($e[0],$e[1])):we?ve($e,Ie):ve($e)};if(de)ne=D.iterator;else if(ye)ne=D;else{if(ae=E(D),!ae)throw new N(p(D)+" is not iterable");if(g(ae)){for(oe=0,Re=x(D);Re>oe;oe++)if(Pe=Oe(D[oe]),Pe&&y(I,Pe))return Pe;return new C(!1)}ne=w(D,ae)}for(be=de?D.next:ne.next;!(he=f(be,ne)).done;){try{Pe=Oe(he.value)}catch($e){_(ne,"throw",$e)}if(typeof Pe=="object"&&Pe&&y(I,Pe))return Pe}return new C(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(f,m,p){for(var g=f.length-1;g>=0;g--)if(f[g]!==void 0)try{p=d(f[g].iterator,m,p)}catch(x){m="throw",p=x}if(m==="throw")throw p;return p}}),"./node_modules/core-js/internals/iterator-close.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/get-method.js");c.exports=function(p,g,x){var y,w;f(p);try{if(y=m(p,"return"),!y){if(g==="throw")throw x;return x}y=d(y,p)}catch(E){w=!0,y=E}if(g==="throw")throw x;if(w)throw y;return f(y),x}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,f=l("./node_modules/core-js/internals/object-create.js"),m=l("./node_modules/core-js/internals/create-property-descriptor.js"),p=l("./node_modules/core-js/internals/set-to-string-tag.js"),g=l("./node_modules/core-js/internals/iterators.js"),x=function(){return this};c.exports=function(y,w,E,_){var N=w+" Iterator";return y.prototype=f(d,{next:m(+!_,E)}),p(y,N,!1,!0),g[N]=x,y}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/object-create.js"),m=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),p=l("./node_modules/core-js/internals/define-built-ins.js"),g=l("./node_modules/core-js/internals/well-known-symbol.js"),x=l("./node_modules/core-js/internals/internal-state.js"),y=l("./node_modules/core-js/internals/get-method.js"),w=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,E=l("./node_modules/core-js/internals/create-iter-result-object.js"),_=l("./node_modules/core-js/internals/iterator-close.js"),N=l("./node_modules/core-js/internals/iterator-close-all.js"),C=g("toStringTag"),I="IteratorHelper",D="WrapForValidIterator",M="normal",Y="throw",X=x.set,te=function(we){var ve=x.getterFor(we?D:I);return p(f(w),{next:function(){var ae=ve(this);if(we)return ae.nextHandler();if(ae.done)return E(void 0,!0);try{var oe=ae.nextHandler();return ae.returnHandlerResult?oe:E(oe,ae.done)}catch(Re){throw ae.done=!0,Re}},return:function(){var ne=ve(this),ae=ne.iterator;if(ne.done=!0,we){var oe=y(ae,"return");return oe?d(oe,ae):E(void 0,!0)}if(ne.inner)try{_(ne.inner.iterator,M)}catch(Re){return _(ae,Y,Re)}if(ne.openIters)try{N(ne.openIters,M)}catch(Re){return _(ae,Y,Re)}return ae&&_(ae,M),E(void 0,!0)}})},de=te(!0),ye=te(!1);m(ye,C,"Iterator Helper"),c.exports=function(we,ve,ne){var ae=function(Re,Pe){Pe?(Pe.iterator=Re.iterator,Pe.next=Re.next):Pe=Re,Pe.type=ve?D:I,Pe.returnHandlerResult=!!ne,Pe.nextHandler=we,Pe.counter=0,Pe.done=!1,X(this,Pe)};return ae.prototype=ve?de:ye,ae}}),"./node_modules/core-js/internals/iterator-define.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/is-pure.js"),p=l("./node_modules/core-js/internals/function-name.js"),g=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/iterator-create-constructor.js"),y=l("./node_modules/core-js/internals/object-get-prototype-of.js"),w=l("./node_modules/core-js/internals/object-set-prototype-of.js"),E=l("./node_modules/core-js/internals/set-to-string-tag.js"),_=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=l("./node_modules/core-js/internals/define-built-in.js"),C=l("./node_modules/core-js/internals/well-known-symbol.js"),I=l("./node_modules/core-js/internals/iterators.js"),D=l("./node_modules/core-js/internals/iterators-core.js"),M=p.PROPER,Y=p.CONFIGURABLE,X=D.IteratorPrototype,te=D.BUGGY_SAFARI_ITERATORS,de=C("iterator"),ye="keys",we="values",ve="entries",ne=function(){return this};c.exports=function(ae,oe,Re,Pe,be,he,Ie){x(Re,oe,Pe);var Oe=function(qe){if(qe===be&&Ue)return Ue;if(!te&&qe&&qe in ct)return ct[qe];switch(qe){case ye:return function(){return new Re(this,qe)};case we:return function(){return new Re(this,qe)};case ve:return function(){return new Re(this,qe)}}return function(){return new Re(this)}},$e=oe+" Iterator",De=!1,ct=ae.prototype,pt=ct[de]||ct["@@iterator"]||be&&ct[be],Ue=!te&&pt||Oe(be),He=oe==="Array"&&ct.entries||pt,Ye,Se,mt;if(He&&(Ye=y(He.call(new ae)),Ye!==Object.prototype&&Ye.next&&(!m&&y(Ye)!==X&&(w?w(Ye,X):g(Ye[de])||N(Ye,de,ne)),E(Ye,$e,!0,!0),m&&(I[$e]=ne))),M&&be===we&&pt&&pt.name!==we&&(!m&&Y?_(ct,"name",we):(De=!0,Ue=function(){return f(pt,this)})),be)if(Se={values:Oe(we),keys:he?Ue:Oe(ye),entries:Oe(ve)},Ie)for(mt in Se)(te||De||!(mt in ct))&&N(ct,mt,Se[mt]);else d({target:oe,proto:!0,forced:te||De},Se);return(!m||Ie)&&ct[de]!==Ue&&N(ct,de,Ue,{name:be}),I[oe]=Ue,Se}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(c){c.exports=function(u,l){var d=typeof Iterator=="function"&&Iterator.prototype[u];if(d)try{d.call({next:null},l).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js");c.exports=function(f,m){var p=d.Iterator,g=p&&p.prototype,x=g&&g[f],y=!1;if(x)try{x.call({next:function(){return{done:!0}},return:function(){y=!0}},-1)}catch(w){w instanceof m||(y=!1)}if(!y)return x}}),"./node_modules/core-js/internals/iterators-core.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/is-object.js"),p=l("./node_modules/core-js/internals/object-create.js"),g=l("./node_modules/core-js/internals/object-get-prototype-of.js"),x=l("./node_modules/core-js/internals/define-built-in.js"),y=l("./node_modules/core-js/internals/well-known-symbol.js"),w=l("./node_modules/core-js/internals/is-pure.js"),E=y("iterator"),_=!1,N,C,I;[].keys&&(I=[].keys(),"next"in I?(C=g(g(I)),C!==Object.prototype&&(N=C)):_=!0);var D=!m(N)||d(function(){var M={};return N[E].call(M)!==M});D?N={}:w&&(N=p(N)),f(N[E])||x(N,E,function(){return this}),c.exports={IteratorPrototype:N,BUGGY_SAFARI_ITERATORS:_}}),"./node_modules/core-js/internals/iterators.js":(function(c){c.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-length.js");c.exports=function(f){return d(f.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/has-own-property.js"),g=l("./node_modules/core-js/internals/descriptors.js"),x=l("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,y=l("./node_modules/core-js/internals/inspect-source.js"),w=l("./node_modules/core-js/internals/internal-state.js"),E=w.enforce,_=w.get,N=String,C=Object.defineProperty,I=d("".slice),D=d("".replace),M=d([].join),Y=g&&!f(function(){return C(function(){},"length",{value:8}).length!==8}),X=String(String).split("String"),te=c.exports=function(de,ye,we){I(N(ye),0,7)==="Symbol("&&(ye="["+D(N(ye),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),we&&we.getter&&(ye="get "+ye),we&&we.setter&&(ye="set "+ye),(!p(de,"name")||x&&de.name!==ye)&&(g?C(de,"name",{value:ye,configurable:!0}):de.name=ye),Y&&we&&p(we,"arity")&&de.length!==we.arity&&C(de,"length",{value:we.arity});try{we&&p(we,"constructor")&&we.constructor?g&&C(de,"prototype",{writable:!1}):de.prototype&&(de.prototype=void 0)}catch{}var ve=E(de);return p(ve,"source")||(ve.source=M(X,typeof ye=="string"?ye:"")),de};Function.prototype.toString=te(function(){return m(this)&&_(this).source||y(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(c){var u=Math.ceil,l=Math.floor;c.exports=Math.trunc||function(f){var m=+f;return(m>0?l:u)(m)}}),"./node_modules/core-js/internals/microtask.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/safe-get-built-in.js"),m=l("./node_modules/core-js/internals/function-bind-context.js"),p=l("./node_modules/core-js/internals/task.js").set,g=l("./node_modules/core-js/internals/queue.js"),x=l("./node_modules/core-js/internals/environment-is-ios.js"),y=l("./node_modules/core-js/internals/environment-is-ios-pebble.js"),w=l("./node_modules/core-js/internals/environment-is-webos-webkit.js"),E=l("./node_modules/core-js/internals/environment-is-node.js"),_=d.MutationObserver||d.WebKitMutationObserver,N=d.document,C=d.process,I=d.Promise,D=f("queueMicrotask"),M,Y,X,te,de;if(!D){var ye=new g,we=function(){var ve,ne;for(E&&(ve=C.domain)&&ve.exit();ne=ye.get();)try{ne()}catch(ae){throw ye.head&&M(),ae}ve&&ve.enter()};!x&&!E&&!w&&_&&N?(Y=!0,X=N.createTextNode(""),new _(we).observe(X,{characterData:!0}),M=function(){X.data=Y=!Y}):!y&&I&&I.resolve?(te=I.resolve(void 0),te.constructor=I,de=m(te.then,te),M=function(){de(we)}):E?M=function(){C.nextTick(we)}:(p=m(p,d),M=function(){p(we)}),D=function(ve){ye.head||M(),ye.add(ve)}}c.exports=D}),"./node_modules/core-js/internals/native-raw-json.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=!d(function(){var f="9007199254740993",m=JSON.rawJSON(f);return!JSON.isRawJSON(m)||JSON.stringify(m)!==f})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-callable.js"),f=TypeError,m=function(p){var g,x;this.promise=new p(function(y,w){if(g!==void 0||x!==void 0)throw new f("Bad Promise constructor");g=y,x=w}),this.resolve=d(g),this.reject=d(x)};c.exports.f=function(p){return new m(p)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-regexp.js"),f=TypeError;c.exports=function(m){if(d(m))throw new f("The method doesn't accept regular expressions");return m}}),"./node_modules/core-js/internals/object-assign.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/function-call.js"),p=l("./node_modules/core-js/internals/fails.js"),g=l("./node_modules/core-js/internals/object-keys.js"),x=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),y=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),w=l("./node_modules/core-js/internals/to-object.js"),E=l("./node_modules/core-js/internals/indexed-object.js"),_=Object.assign,N=Object.defineProperty,C=f([].concat);c.exports=!_||p(function(){if(d&&_({b:1},_(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var I={},D={},M=Symbol("assign detection"),Y="abcdefghijklmnopqrst";return I[M]=7,Y.split("").forEach(function(X){D[X]=X}),_({},I)[M]!==7||g(_({},D)).join("")!==Y})?function(D,M){for(var Y=w(D),X=arguments.length,te=1,de=x.f,ye=y.f;X>te;)for(var we=E(arguments[te++]),ve=de?C(g(we),de(we)):g(we),ne=ve.length,ae=0,oe;ne>ae;)oe=ve[ae++],(!d||m(ye,we,oe))&&(Y[oe]=we[oe]);return Y}:_}),"./node_modules/core-js/internals/object-create.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/object-define-properties.js"),m=l("./node_modules/core-js/internals/enum-bug-keys.js"),p=l("./node_modules/core-js/internals/hidden-keys.js"),g=l("./node_modules/core-js/internals/html.js"),x=l("./node_modules/core-js/internals/document-create-element.js"),y=l("./node_modules/core-js/internals/shared-key.js"),w=">",E="<",_="prototype",N="script",C=y("IE_PROTO"),I=function(){},D=function(de){return E+N+w+de+E+"/"+N+w},M=function(de){de.write(D("")),de.close();var ye=de.parentWindow.Object;return de=null,ye},Y=function(){var de=x("iframe"),ye="java"+N+":",we;return de.style.display="none",g.appendChild(de),de.src=String(ye),we=de.contentWindow.document,we.open(),we.write(D("document.F=Object")),we.close(),we.F},X,te=function(){try{X=new ActiveXObject("htmlfile")}catch{}te=typeof document<"u"?document.domain&&X?M(X):Y():M(X);for(var de=m.length;de--;)delete te[_][m[de]];return te()};p[C]=!0,c.exports=Object.create||function(ye,we){var ve;return ye!==null?(I[_]=d(ye),ve=new I,I[_]=null,ve[C]=ye):ve=te(),we===void 0?ve:f.f(ve,we)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),m=l("./node_modules/core-js/internals/object-define-property.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),x=l("./node_modules/core-js/internals/object-keys.js");u.f=d&&!f?Object.defineProperties:function(w,E){p(w);for(var _=g(E),N=x(E),C=N.length,I=0,D;C>I;)m.f(w,D=N[I++],_[D]);return w}}),"./node_modules/core-js/internals/object-define-property.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/ie8-dom-define.js"),m=l("./node_modules/core-js/internals/v8-prototype-define-bug.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-property-key.js"),x=TypeError,y=Object.defineProperty,w=Object.getOwnPropertyDescriptor,E="enumerable",_="configurable",N="writable";u.f=d?m?function(I,D,M){if(p(I),D=g(D),p(M),typeof I=="function"&&D==="prototype"&&"value"in M&&N in M&&!M[N]){var Y=w(I,D);Y&&Y[N]&&(I[D]=M.value,M={configurable:_ in M?M[_]:Y[_],enumerable:E in M?M[E]:Y[E],writable:!1})}return y(I,D,M)}:y:function(I,D,M){if(p(I),D=g(D),p(M),f)try{return y(I,D,M)}catch{}if("get"in M||"set"in M)throw new x("Accessors not supported");return"value"in M&&(I[D]=M.value),I}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),p=l("./node_modules/core-js/internals/create-property-descriptor.js"),g=l("./node_modules/core-js/internals/to-indexed-object.js"),x=l("./node_modules/core-js/internals/to-property-key.js"),y=l("./node_modules/core-js/internals/has-own-property.js"),w=l("./node_modules/core-js/internals/ie8-dom-define.js"),E=Object.getOwnPropertyDescriptor;u.f=d?E:function(N,C){if(N=g(N),C=x(C),w)try{return E(N,C)}catch{}if(y(N,C))return p(!f(m.f,N,C),N[C])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof-raw.js"),f=l("./node_modules/core-js/internals/to-indexed-object.js"),m=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,p=l("./node_modules/core-js/internals/array-slice.js"),g=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],x=function(y){try{return m(y)}catch{return p(g)}};c.exports.f=function(w){return g&&d(w)==="Window"?x(w):m(f(w))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-keys-internal.js"),f=l("./node_modules/core-js/internals/enum-bug-keys.js"),m=f.concat("length","prototype");u.f=Object.getOwnPropertyNames||function(g){return d(g,m)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(c,u){u.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/has-own-property.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/to-object.js"),p=l("./node_modules/core-js/internals/shared-key.js"),g=l("./node_modules/core-js/internals/correct-prototype-getter.js"),x=p("IE_PROTO"),y=Object,w=y.prototype;c.exports=g?y.getPrototypeOf:function(E){var _=m(E);if(d(_,x))return _[x];var N=_.constructor;return f(N)&&_ instanceof N?N.prototype:_ instanceof y?w:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/classof-raw.js"),p=l("./node_modules/core-js/internals/array-buffer-non-extensible.js"),g=Object.isExtensible,x=d(function(){});c.exports=x||p?function(w){return!f(w)||p&&m(w)==="ArrayBuffer"?!1:g?g(w):!0}:g}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/to-indexed-object.js"),p=l("./node_modules/core-js/internals/array-includes.js").indexOf,g=l("./node_modules/core-js/internals/hidden-keys.js"),x=d([].push);c.exports=function(y,w){var E=m(y),_=0,N=[],C;for(C in E)!f(g,C)&&f(E,C)&&x(N,C);for(;w.length>_;)f(E,C=w[_++])&&(~p(N,C)||x(N,C));return N}}),"./node_modules/core-js/internals/object-keys.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-keys-internal.js"),f=l("./node_modules/core-js/internals/enum-bug-keys.js");c.exports=Object.keys||function(p){return d(p,f)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(c,u){var l={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,f=d&&!l.call({1:2},1);u.f=f?function(p){var g=d(this,p);return!!g&&g.enumerable}:l}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),f=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/require-object-coercible.js"),p=l("./node_modules/core-js/internals/a-possible-prototype.js");c.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,x={},y;try{y=d(Object.prototype,"__proto__","set"),y(x,[]),g=x instanceof Array}catch{}return function(E,_){return m(E),p(_),f(E)&&(g?y(E,_):E.__proto__=_),E}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-string-tag-support.js"),f=l("./node_modules/core-js/internals/classof.js");c.exports=d?{}.toString:function(){return"[object "+f(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/is-object.js"),p=TypeError;c.exports=function(g,x){var y,w;if(x==="string"&&f(y=g.toString)&&!m(w=d(y,g))||f(y=g.valueOf)&&!m(w=d(y,g))||x!=="string"&&f(y=g.toString)&&!m(w=d(y,g)))return w;throw new p("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/object-get-own-property-names.js"),p=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/an-object.js"),x=f([].concat);c.exports=d("Reflect","ownKeys")||function(w){var E=m.f(g(w)),_=p.f;return _?x(E,_(w)):E}}),"./node_modules/core-js/internals/parse-json-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=SyntaxError,p=parseInt,g=String.fromCharCode,x=d("".charAt),y=d("".slice),w=d(/./.exec),E={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},_=/^[\da-f]{4}$/i,N=/^[\u0000-\u001F]$/;c.exports=function(C,I){for(var D=!0,M="";I<C.length;){var Y=x(C,I);if(Y==="\\"){var X=y(C,I,I+2);if(f(E,X))M+=E[X],I+=2;else if(X==="\\u"){I+=2;var te=y(C,I,I+4);if(!w(_,te))throw new m("Bad Unicode escape at: "+I);M+=g(p(te,16)),I+=4}else throw new m('Unknown escape sequence: "'+X+'"')}else if(Y==='"'){D=!1,I++;break}else{if(w(N,Y))throw new m("Bad control character in string literal at: "+I);M+=Y,I++}}if(D)throw new m("Unterminated string at: "+I);return{value:M,end:I}}}),"./node_modules/core-js/internals/path.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js");c.exports=d}),"./node_modules/core-js/internals/perform.js":(function(c){c.exports=function(u){try{return{error:!1,value:u()}}catch(l){return{error:!0,value:l}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/promise-native-constructor.js"),m=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/is-forced.js"),g=l("./node_modules/core-js/internals/inspect-source.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),y=l("./node_modules/core-js/internals/environment.js"),w=l("./node_modules/core-js/internals/is-pure.js"),E=l("./node_modules/core-js/internals/environment-v8-version.js"),_=f&&f.prototype,N=x("species"),C=!1,I=m(d.PromiseRejectionEvent),D=p("Promise",function(){var M=g(f),Y=M!==String(f);if(!Y&&E===66||w&&!(_.catch&&_.finally))return!0;if(!E||E<51||!/native code/.test(M)){var X=new f(function(ye){ye(1)}),te=function(ye){ye(function(){},function(){})},de=X.constructor={};if(de[N]=te,C=X.then(function(){})instanceof te,!C)return!0}return!Y&&(y==="BROWSER"||y==="DENO")&&!I});c.exports={CONSTRUCTOR:D,REJECTION_EVENT:I,SUBCLASSING:C}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js");c.exports=d.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/new-promise-capability.js");c.exports=function(p,g){if(d(p),f(g)&&g.constructor===p)return g;var x=m.f(p),y=x.resolve;return y(g),x.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/promise-native-constructor.js"),f=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),m=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;c.exports=m||!f(function(p){d.all(p).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(c){var u=function(){this.head=null,this.tail=null};u.prototype={add:function(l){var d={item:l,next:null},f=this.tail;f?f.next=d:this.head=d,this.tail=d},get:function(){var l=this.head;if(l){var d=this.head=l.next;return d===null&&(this.tail=null),l.item}}},c.exports=u}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/an-object.js"),m=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/classof-raw.js"),g=l("./node_modules/core-js/internals/regexp-exec.js"),x=TypeError;c.exports=function(y,w){var E=y.exec;if(m(E)){var _=d(E,y,w);return _!==null&&f(_),_}if(p(y)==="RegExp")return d(g,y,w);throw new x("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/regexp-flags.js"),g=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),x=l("./node_modules/core-js/internals/shared.js"),y=l("./node_modules/core-js/internals/object-create.js"),w=l("./node_modules/core-js/internals/internal-state.js").get,E=l("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),_=l("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),N=x("native-string-replace",String.prototype.replace),C=RegExp.prototype.exec,I=C,D=f("".charAt),M=f("".indexOf),Y=f("".replace),X=f("".slice),te=(function(){var ve=/a/,ne=/b*/g;return d(C,ve,"a"),d(C,ne,"a"),ve.lastIndex!==0||ne.lastIndex!==0})(),de=g.BROKEN_CARET,ye=/()??/.exec("")[1]!==void 0,we=te||ye||de||E||_;we&&(I=function(ne){var ae=this,oe=w(ae),Re=m(ne),Pe=oe.raw,be,he,Ie,Oe,$e,De,ct;if(Pe)return Pe.lastIndex=ae.lastIndex,be=d(I,Pe,Re),ae.lastIndex=Pe.lastIndex,be;var pt=oe.groups,Ue=de&&ae.sticky,He=d(p,ae),Ye=ae.source,Se=0,mt=Re;if(Ue&&(He=Y(He,"y",""),M(He,"g")===-1&&(He+="g"),mt=X(Re,ae.lastIndex),ae.lastIndex>0&&(!ae.multiline||ae.multiline&&D(Re,ae.lastIndex-1)!==`
`)&&(Ye="(?: "+Ye+")",mt=" "+mt,Se++),he=new RegExp("^(?:"+Ye+")",He)),ye&&(he=new RegExp("^"+Ye+"$(?!\\s)",He)),te&&(Ie=ae.lastIndex),Oe=d(C,Ue?he:ae,mt),Ue?Oe?(Oe.input=X(Oe.input,Se),Oe[0]=X(Oe[0],Se),Oe.index=ae.lastIndex,ae.lastIndex+=Oe[0].length):ae.lastIndex=0:te&&Oe&&(ae.lastIndex=ae.global?Oe.index+Oe[0].length:Ie),ye&&Oe&&Oe.length>1&&d(N,Oe[0],he,function(){for($e=1;$e<arguments.length-2;$e++)arguments[$e]===void 0&&(Oe[$e]=void 0)}),Oe&&pt)for(Oe.groups=De=y(null),$e=0;$e<pt.length;$e++)ct=pt[$e],De[ct[0]]=Oe[ct[1]];return Oe}),c.exports=I}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/fails.js"),m=d.RegExp,p=!f(function(){var g=!0;try{m(".","d")}catch{g=!1}var x={},y="",w=g?"dgimsy":"gimsy",E=function(I,D){Object.defineProperty(x,I,{get:function(){return y+=D,!0}})},_={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};g&&(_.hasIndices="d");for(var N in _)E(N,_[N]);var C=Object.getOwnPropertyDescriptor(m.prototype,"flags").get.call(x);return C!==w||y!==w});c.exports={correct:p}}),"./node_modules/core-js/internals/regexp-flags.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js");c.exports=function(){var f=d(this),m="";return f.hasIndices&&(m+="d"),f.global&&(m+="g"),f.ignoreCase&&(m+="i"),f.multiline&&(m+="m"),f.dotAll&&(m+="s"),f.unicode&&(m+="u"),f.unicodeSets&&(m+="v"),f.sticky&&(m+="y"),m}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/object-is-prototype-of.js"),p=l("./node_modules/core-js/internals/regexp-flags-detection.js"),g=l("./node_modules/core-js/internals/regexp-flags.js"),x=RegExp.prototype;c.exports=p.correct?function(y){return y.flags}:function(y){return!p.correct&&m(x,y)&&!f(y,"flags")?d(g,y):y.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=f.RegExp,p=d(function(){var y=m("a","y");return y.lastIndex=2,y.exec("abcd")!==null}),g=p||d(function(){return!m("a","y").sticky}),x=p||d(function(){var y=m("^r","gy");return y.lastIndex=2,y.exec("str")!==null});c.exports={BROKEN_CARET:x,MISSED_STICKY:g,UNSUPPORTED_Y:p}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=f.RegExp;c.exports=d(function(){var p=m(".","s");return!(p.dotAll&&p.test(`
`)&&p.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=f.RegExp;c.exports=d(function(){var p=m("(?<a>b)","g");return p.exec("b").groups.a!=="b"||"b".replace(p,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-null-or-undefined.js"),f=TypeError;c.exports=function(m){if(d(m))throw new f("Can't call method on "+m);return m}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/descriptors.js"),m=Object.getOwnPropertyDescriptor;c.exports=function(p){if(!f)return d[p];var g=m(d,p);return g&&g.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-apply.js"),m=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/environment.js"),g=l("./node_modules/core-js/internals/environment-user-agent.js"),x=l("./node_modules/core-js/internals/array-slice.js"),y=l("./node_modules/core-js/internals/validate-arguments-length.js"),w=d.Function,E=/MSIE .\./.test(g)||p==="BUN"&&(function(){var _=d.Bun.version.split(".");return _.length<3||_[0]==="0"&&(_[1]<3||_[1]==="3"&&_[2]==="0")})();c.exports=function(_,N){var C=N?2:1;return E?function(I,D){var M=y(arguments.length,1)>C,Y=m(I)?I:w(I),X=M?x(arguments,C):[],te=M?function(){f(Y,this,X)}:Y;return N?_(te,D):_(te)}:_}}),"./node_modules/core-js/internals/set-clone.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/set-helpers.js"),f=l("./node_modules/core-js/internals/set-iterate.js"),m=d.Set,p=d.add;c.exports=function(g){var x=new m;return f(g,function(y){p(x,y)}),x}}),"./node_modules/core-js/internals/set-difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),m=l("./node_modules/core-js/internals/set-clone.js"),p=l("./node_modules/core-js/internals/set-size.js"),g=l("./node_modules/core-js/internals/get-set-record.js"),x=l("./node_modules/core-js/internals/set-iterate.js"),y=l("./node_modules/core-js/internals/iterate-simple.js"),w=f.has,E=f.remove;c.exports=function(N){var C=d(this),I=g(N),D=m(C);return p(C)<=I.size?x(C,function(M){I.includes(M)&&E(D,M)}):y(I.getIterator(),function(M){w(D,M)&&E(D,M)}),D}}),"./node_modules/core-js/internals/set-helpers.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=Set.prototype;c.exports={Set,add:d(f.add),has:d(f.has),remove:d(f.delete),proto:f}}),"./node_modules/core-js/internals/set-intersection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),m=l("./node_modules/core-js/internals/set-size.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),x=l("./node_modules/core-js/internals/iterate-simple.js"),y=f.Set,w=f.add,E=f.has;c.exports=function(N){var C=d(this),I=p(N),D=new y;return m(C)>I.size?x(I.getIterator(),function(M){E(C,M)&&w(D,M)}):g(C,function(M){I.includes(M)&&w(D,M)}),D}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").has,m=l("./node_modules/core-js/internals/set-size.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),x=l("./node_modules/core-js/internals/iterate-simple.js"),y=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(E){var _=d(this),N=p(E);if(m(_)<=N.size)return g(_,function(I){if(N.includes(I))return!1},!0)!==!1;var C=N.getIterator();return x(C,function(I){if(f(_,I))return y(C,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-size.js"),m=l("./node_modules/core-js/internals/set-iterate.js"),p=l("./node_modules/core-js/internals/get-set-record.js");c.exports=function(x){var y=d(this),w=p(x);return f(y)>w.size?!1:m(y,function(E){if(!w.includes(E))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").has,m=l("./node_modules/core-js/internals/set-size.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js"),x=l("./node_modules/core-js/internals/iterator-close.js");c.exports=function(w){var E=d(this),_=p(w);if(m(E)<_.size)return!1;var N=_.getIterator();return g(N,function(C){if(!f(E,C))return x(N,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/iterate-simple.js"),m=l("./node_modules/core-js/internals/set-helpers.js"),p=m.Set,g=m.proto,x=d(g.forEach),y=d(g.keys),w=y(new p).next;c.exports=function(E,_,N){return N?f({iterator:y(E),next:w},_):x(E,_)}}),"./node_modules/core-js/internals/set-size.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),f=l("./node_modules/core-js/internals/set-helpers.js");c.exports=d(f.proto,"size","get")||function(m){return m.size}}),"./node_modules/core-js/internals/set-species.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/define-built-in-accessor.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),p=l("./node_modules/core-js/internals/descriptors.js"),g=m("species");c.exports=function(x){var y=d(x);p&&y&&!y[g]&&f(y,g,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js"),m=l("./node_modules/core-js/internals/set-clone.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js"),x=f.add,y=f.has,w=f.remove;c.exports=function(_){var N=d(this),C=p(_).getIterator(),I=m(N);return g(C,function(D){y(N,D)?w(I,D):x(I,D)}),I}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/object-define-property.js").f,f=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),p=m("toStringTag");c.exports=function(g,x,y){g&&!y&&(g=g.prototype),g&&!f(g,p)&&d(g,p,{configurable:!0,value:x})}}),"./node_modules/core-js/internals/set-union.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/a-set.js"),f=l("./node_modules/core-js/internals/set-helpers.js").add,m=l("./node_modules/core-js/internals/set-clone.js"),p=l("./node_modules/core-js/internals/get-set-record.js"),g=l("./node_modules/core-js/internals/iterate-simple.js");c.exports=function(y){var w=d(this),E=p(y).getIterator(),_=m(w);return g(E,function(N){f(_,N)}),_}}),"./node_modules/core-js/internals/shared-key.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/shared.js"),f=l("./node_modules/core-js/internals/uid.js"),m=d("keys");c.exports=function(p){return m[p]||(m[p]=f(p))}}),"./node_modules/core-js/internals/shared-store.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/is-pure.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/define-global-property.js"),p="__core-js_shared__",g=c.exports=f[p]||m(p,{});(g.versions||(g.versions=[])).push({version:"3.47.0",mode:d?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/shared-store.js");c.exports=function(f,m){return d[f]||(d[f]=m||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/an-object.js"),f=l("./node_modules/core-js/internals/a-constructor.js"),m=l("./node_modules/core-js/internals/is-null-or-undefined.js"),p=l("./node_modules/core-js/internals/well-known-symbol.js"),g=p("species");c.exports=function(x,y){var w=d(x).constructor,E;return w===void 0||m(E=d(w)[g])?y:f(E)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/fails.js");c.exports=function(f){return d(function(){var m=""[f]('"');return m!==m.toLowerCase()||m.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/require-object-coercible.js"),g=d("".charAt),x=d("".charCodeAt),y=d("".slice),w=function(E){return function(_,N){var C=m(p(_)),I=f(N),D=C.length,M,Y;return I<0||I>=D?E?"":void 0:(M=x(C,I),M<55296||M>56319||I+1===D||(Y=x(C,I+1))<56320||Y>57343?E?g(C,I):M:E?y(C,I,I+2):(M-55296<<10)+(Y-56320)+65536)}};c.exports={codeAt:w(!1),charAt:w(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-name.js").PROPER,f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/whitespaces.js"),p="";c.exports=function(g){return f(function(){return!!m[g]()||p[g]()!==p||d&&m[g].name!==g})}}),"./node_modules/core-js/internals/string-trim.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js"),m=l("./node_modules/core-js/internals/to-string.js"),p=l("./node_modules/core-js/internals/whitespaces.js"),g=d("".replace),x=RegExp("^["+p+"]+"),y=RegExp("(^|[^"+p+"])["+p+"]+$"),w=function(E){return function(_){var N=m(f(_));return E&1&&(N=g(N,x,"")),E&2&&(N=g(N,y,"$1")),N}};c.exports={start:w(1),end:w(2),trim:w(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/environment-v8-version.js"),f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/global-this.js"),p=m.String;c.exports=!!Object.getOwnPropertySymbols&&!f(function(){var g=Symbol("symbol detection");return!p(g)||!(Object(g)instanceof Symbol)||!Symbol.sham&&d&&d<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/well-known-symbol.js"),p=l("./node_modules/core-js/internals/define-built-in.js");c.exports=function(){var g=f("Symbol"),x=g&&g.prototype,y=x&&x.valueOf,w=m("toPrimitive");x&&!x[w]&&p(x,w,function(E){return d(y,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/function-apply.js"),m=l("./node_modules/core-js/internals/function-bind-context.js"),p=l("./node_modules/core-js/internals/is-callable.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),x=l("./node_modules/core-js/internals/fails.js"),y=l("./node_modules/core-js/internals/html.js"),w=l("./node_modules/core-js/internals/array-slice.js"),E=l("./node_modules/core-js/internals/document-create-element.js"),_=l("./node_modules/core-js/internals/validate-arguments-length.js"),N=l("./node_modules/core-js/internals/environment-is-ios.js"),C=l("./node_modules/core-js/internals/environment-is-node.js"),I=d.setImmediate,D=d.clearImmediate,M=d.process,Y=d.Dispatch,X=d.Function,te=d.MessageChannel,de=d.String,ye=0,we={},ve="onreadystatechange",ne,ae,oe,Re;x(function(){ne=d.location});var Pe=function(Oe){if(g(we,Oe)){var $e=we[Oe];delete we[Oe],$e()}},be=function(Oe){return function(){Pe(Oe)}},he=function(Oe){Pe(Oe.data)},Ie=function(Oe){d.postMessage(de(Oe),ne.protocol+"//"+ne.host)};(!I||!D)&&(I=function($e){_(arguments.length,1);var De=p($e)?$e:X($e),ct=w(arguments,1);return we[++ye]=function(){f(De,void 0,ct)},ae(ye),ye},D=function($e){delete we[$e]},C?ae=function(Oe){M.nextTick(be(Oe))}:Y&&Y.now?ae=function(Oe){Y.now(be(Oe))}:te&&!N?(oe=new te,Re=oe.port2,oe.port1.onmessage=he,ae=m(Re.postMessage,Re)):d.addEventListener&&p(d.postMessage)&&!d.importScripts&&ne&&ne.protocol!=="file:"&&!x(Ie)?(ae=Ie,d.addEventListener("message",he,!1)):ve in E("script")?ae=function(Oe){y.appendChild(E("script"))[ve]=function(){y.removeChild(this),Pe(Oe)}}:ae=function(Oe){setTimeout(be(Oe),0)}),c.exports={set:I,clear:D}}),"./node_modules/core-js/internals/this-number-value.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js");c.exports=d(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=Math.max,m=Math.min;c.exports=function(p,g){var x=d(p);return x<0?f(x+g,0):m(x,g)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/indexed-object.js"),f=l("./node_modules/core-js/internals/require-object-coercible.js");c.exports=function(m){return d(f(m))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/math-trunc.js");c.exports=function(f){var m=+f;return m!==m||m===0?0:d(m)}}),"./node_modules/core-js/internals/to-length.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),f=Math.min;c.exports=function(m){var p=d(m);return p>0?f(p,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/require-object-coercible.js"),f=Object;c.exports=function(m){return f(d(m))}}),"./node_modules/core-js/internals/to-primitive.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/is-object.js"),m=l("./node_modules/core-js/internals/is-symbol.js"),p=l("./node_modules/core-js/internals/get-method.js"),g=l("./node_modules/core-js/internals/ordinary-to-primitive.js"),x=l("./node_modules/core-js/internals/well-known-symbol.js"),y=TypeError,w=x("toPrimitive");c.exports=function(E,_){if(!f(E)||m(E))return E;var N=p(E,w),C;if(N){if(_===void 0&&(_="default"),C=d(N,E,_),!f(C)||m(C))return C;throw new y("Can't convert object to primitive value")}return _===void 0&&(_="number"),g(E,_)}}),"./node_modules/core-js/internals/to-property-key.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-primitive.js"),f=l("./node_modules/core-js/internals/is-symbol.js");c.exports=function(m){var p=d(m,"string");return f(p)?p:p+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/get-built-in.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=l("./node_modules/core-js/internals/is-iterable.js"),p=l("./node_modules/core-js/internals/is-object.js"),g=d("Set"),x=function(y){return p(y)&&typeof y.size=="number"&&f(y.has)&&f(y.keys)};c.exports=function(y){return x(y)?y:m(y)?new g(y):y}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js"),f=d("toStringTag"),m={};m[f]="z",c.exports=String(m)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/classof.js"),f=String;c.exports=function(m){if(d(m)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return f(m)}}),"./node_modules/core-js/internals/try-to-string.js":(function(c){var u=String;c.exports=function(l){try{return u(l)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-uncurry-this.js"),f=0,m=Math.random(),p=d(1.1.toString);c.exports=function(g){return"Symbol("+(g===void 0?"":g)+")_"+p(++f+m,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/symbol-constructor-detection.js");c.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/fails.js");c.exports=d&&f(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(c){var u=TypeError;c.exports=function(l,d){if(l<d)throw new u("Not enough arguments");return l}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/is-callable.js"),m=d.WeakMap;c.exports=f(m)&&/native code/.test(String(m))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/path.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),p=l("./node_modules/core-js/internals/object-define-property.js").f;c.exports=function(g){var x=d.Symbol||(d.Symbol={});f(x,g)||p(x,g,{value:m.f(g)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol.js");u.f=d}),"./node_modules/core-js/internals/well-known-symbol.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/shared.js"),m=l("./node_modules/core-js/internals/has-own-property.js"),p=l("./node_modules/core-js/internals/uid.js"),g=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),x=l("./node_modules/core-js/internals/use-symbol-as-uid.js"),y=d.Symbol,w=f("wks"),E=x?y.for||y:y&&y.withoutSetter||p;c.exports=function(_){return m(w,_)||(w[_]=g&&m(y,_)?y[_]:E("Symbol."+_)),w[_]}}),"./node_modules/core-js/internals/whitespaces.js":(function(c){c.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/fails.js"),m=l("./node_modules/core-js/internals/is-array.js"),p=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-object.js"),x=l("./node_modules/core-js/internals/length-of-array-like.js"),y=l("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/array-species-create.js"),_=l("./node_modules/core-js/internals/array-method-has-species-support.js"),N=l("./node_modules/core-js/internals/well-known-symbol.js"),C=l("./node_modules/core-js/internals/environment-v8-version.js"),I=N("isConcatSpreadable"),D=C>=51||!f(function(){var X=[];return X[I]=!1,X.concat()[0]!==X}),M=function(X){if(!p(X))return!1;var te=X[I];return te!==void 0?!!te:m(X)},Y=!D||!_("concat");d({target:"Array",proto:!0,arity:1,forced:Y},{concat:function(te){var de=g(this),ye=E(de,0),we=0,ve,ne,ae,oe,Re;for(ve=-1,ae=arguments.length;ve<ae;ve++)if(Re=ve===-1?de:arguments[ve],M(Re))for(oe=x(Re),y(we+oe),ne=0;ne<oe;ne++,we++)ne in Re&&w(ye,we,Re[ne]);else y(we+1),w(ye,we++,Re);return ye.length=we,ye}})}),"./node_modules/core-js/modules/es.array.from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/array-from.js"),m=l("./node_modules/core-js/internals/check-correctness-of-iteration.js"),p=!m(function(g){Array.from(g)});d({target:"Array",stat:!0,forced:p},{from:f})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=l("./node_modules/core-js/internals/array-includes.js").indexOf,p=l("./node_modules/core-js/internals/array-method-is-strict.js"),g=f([].indexOf),x=!!g&&1/g([1],1,-0)<0,y=x||!p("indexOf");d({target:"Array",proto:!0,forced:y},{indexOf:function(E){var _=arguments.length>1?arguments[1]:void 0;return x?g(this,E,_)||0:m(this,E,_)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-indexed-object.js"),f=l("./node_modules/core-js/internals/add-to-unscopables.js"),m=l("./node_modules/core-js/internals/iterators.js"),p=l("./node_modules/core-js/internals/internal-state.js"),g=l("./node_modules/core-js/internals/object-define-property.js").f,x=l("./node_modules/core-js/internals/iterator-define.js"),y=l("./node_modules/core-js/internals/create-iter-result-object.js"),w=l("./node_modules/core-js/internals/is-pure.js"),E=l("./node_modules/core-js/internals/descriptors.js"),_="Array Iterator",N=p.set,C=p.getterFor(_);c.exports=x(Array,"Array",function(D,M){N(this,{type:_,target:d(D),index:0,kind:M})},function(){var D=C(this),M=D.target,Y=D.index++;if(!M||Y>=M.length)return D.target=null,y(void 0,!0);switch(D.kind){case"keys":return y(Y,!1);case"values":return y(M[Y],!1)}return y([Y,M[Y]],!1)},"values");var I=m.Arguments=m.Array;if(f("keys"),f("values"),f("entries"),!w&&E&&I.name!=="values")try{g(I,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/indexed-object.js"),p=l("./node_modules/core-js/internals/to-indexed-object.js"),g=l("./node_modules/core-js/internals/array-method-is-strict.js"),x=f([].join),y=m!==Object,w=y||!g("join",",");d({target:"Array",proto:!0,forced:w},{join:function(_){return x(p(this),_===void 0?",":_)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/array-iteration.js").map,m=l("./node_modules/core-js/internals/array-method-has-species-support.js"),p=m("map");d({target:"Array",proto:!0,forced:!p},{map:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/array-reduce.js").left,m=l("./node_modules/core-js/internals/array-method-is-strict.js"),p=l("./node_modules/core-js/internals/environment-v8-version.js"),g=l("./node_modules/core-js/internals/environment-is-node.js"),x=!g&&p>79&&p<83,y=x||!m("reduce");d({target:"Array",proto:!0,forced:y},{reduce:function(E){var _=arguments.length;return f(this,E,_,_>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/is-array.js"),p=f([].reverse),g=[1,2];d({target:"Array",proto:!0,forced:String(g)===String(g.reverse())},{reverse:function(){return m(this)&&(this.length=this.length),p(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-array.js"),m=l("./node_modules/core-js/internals/is-constructor.js"),p=l("./node_modules/core-js/internals/is-object.js"),g=l("./node_modules/core-js/internals/to-absolute-index.js"),x=l("./node_modules/core-js/internals/length-of-array-like.js"),y=l("./node_modules/core-js/internals/to-indexed-object.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/well-known-symbol.js"),_=l("./node_modules/core-js/internals/array-method-has-species-support.js"),N=l("./node_modules/core-js/internals/array-slice.js"),C=_("slice"),I=E("species"),D=Array,M=Math.max;d({target:"Array",proto:!0,forced:!C},{slice:function(X,te){var de=y(this),ye=x(de),we=g(X,ye),ve=g(te===void 0?ye:te,ye),ne,ae,oe;if(f(de)&&(ne=de.constructor,m(ne)&&(ne===D||f(ne.prototype))?ne=void 0:p(ne)&&(ne=ne[I],ne===null&&(ne=void 0)),ne===D||ne===void 0))return N(de,we,ve);for(ae=new(ne===void 0?D:ne)(M(ve-we,0)),oe=0;we<ve;we++,oe++)we in de&&w(ae,oe,de[we]);return ae.length=oe,ae}})}),"./node_modules/core-js/modules/es.function.name.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/descriptors.js"),f=l("./node_modules/core-js/internals/function-name.js").EXISTS,m=l("./node_modules/core-js/internals/function-uncurry-this.js"),p=l("./node_modules/core-js/internals/define-built-in-accessor.js"),g=Function.prototype,x=m(g.toString),y=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=m(y.exec),E="name";d&&!f&&p(g,E,{configurable:!0,get:function(){try{return w(y,x(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/an-instance.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-callable.js"),x=l("./node_modules/core-js/internals/object-get-prototype-of.js"),y=l("./node_modules/core-js/internals/define-built-in-accessor.js"),w=l("./node_modules/core-js/internals/create-property.js"),E=l("./node_modules/core-js/internals/fails.js"),_=l("./node_modules/core-js/internals/has-own-property.js"),N=l("./node_modules/core-js/internals/well-known-symbol.js"),C=l("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,I=l("./node_modules/core-js/internals/descriptors.js"),D=l("./node_modules/core-js/internals/is-pure.js"),M="constructor",Y="Iterator",X=N("toStringTag"),te=TypeError,de=f[Y],ye=D||!g(de)||de.prototype!==C||!E(function(){de({})}),we=function(){if(m(this,C),x(this)===C)throw new te("Abstract class Iterator not directly constructable")},ve=function(ne,ae){I?y(C,ne,{configurable:!0,get:function(){return ae},set:function(oe){if(p(this),this===C)throw new te("You can't redefine this property");_(this,ne)?this[ne]=oe:w(this,ne,oe)}}):C[ne]=ae};_(C,X)||ve(X,Y),(ye||!_(C,M)||C[M]===Object)&&ve(M,we),we.prototype=C,d({global:!0,constructor:!0,forced:ye},{Iterator:we})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/iterate.js"),p=l("./node_modules/core-js/internals/a-callable.js"),g=l("./node_modules/core-js/internals/an-object.js"),x=l("./node_modules/core-js/internals/get-iterator-direct.js"),y=l("./node_modules/core-js/internals/iterator-close.js"),w=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),E=w("forEach",TypeError);d({target:"Iterator",proto:!0,real:!0,forced:E},{forEach:function(N){g(this);try{p(N)}catch(D){y(this,"throw",D)}if(E)return f(E,this,N);var C=x(this),I=0;m(C,function(D){N(D,I++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/a-callable.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/get-iterator-direct.js"),x=l("./node_modules/core-js/internals/iterator-create-proxy.js"),y=l("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),w=l("./node_modules/core-js/internals/iterator-close.js"),E=l("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),_=l("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),N=l("./node_modules/core-js/internals/is-pure.js"),C=!N&&!E("map",function(){}),I=!N&&!C&&_("map",TypeError),D=N||C||I,M=x(function(){var Y=this.iterator,X=p(f(this.next,Y)),te=this.done=!!X.done;if(!te)return y(Y,this.mapper,[X.value,this.counter++],!0)});d({target:"Iterator",proto:!0,real:!0,forced:D},{map:function(X){p(this);try{m(X)}catch(te){w(this,"throw",te)}return I?f(I,this,X):new M(g(this),{mapper:X})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/function-apply.js"),p=l("./node_modules/core-js/internals/function-call.js"),g=l("./node_modules/core-js/internals/function-uncurry-this.js"),x=l("./node_modules/core-js/internals/fails.js"),y=l("./node_modules/core-js/internals/is-array.js"),w=l("./node_modules/core-js/internals/is-callable.js"),E=l("./node_modules/core-js/internals/is-raw-json.js"),_=l("./node_modules/core-js/internals/is-symbol.js"),N=l("./node_modules/core-js/internals/classof-raw.js"),C=l("./node_modules/core-js/internals/to-string.js"),I=l("./node_modules/core-js/internals/array-slice.js"),D=l("./node_modules/core-js/internals/parse-json-string.js"),M=l("./node_modules/core-js/internals/uid.js"),Y=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),X=l("./node_modules/core-js/internals/native-raw-json.js"),te=String,de=f("JSON","stringify"),ye=g(/./.exec),we=g("".charAt),ve=g("".charCodeAt),ne=g("".replace),ae=g("".slice),oe=g([].push),Re=g(1.1.toString),Pe=/[\uD800-\uDFFF]/g,be=/^[\uD800-\uDBFF]$/,he=/^[\uDC00-\uDFFF]$/,Ie=M(),Oe=Ie.length,$e=!Y||x(function(){var He=f("Symbol")("stringify detection");return de([He])!=="[null]"||de({a:He})!=="{}"||de(Object(He))!=="{}"}),De=x(function(){return de("\uDF06\uD834")!=='"\\udf06\\ud834"'||de("\uDEAD")!=='"\\udead"'}),ct=$e?function(He,Ye){var Se=I(arguments),mt=Ue(Ye);if(!(!w(mt)&&(He===void 0||_(He))))return Se[1]=function(qe,Tt){if(w(mt)&&(Tt=p(mt,this,te(qe),Tt)),!_(Tt))return Tt},m(de,null,Se)}:de,pt=function(He,Ye,Se){var mt=we(Se,Ye-1),qe=we(Se,Ye+1);return ye(be,He)&&!ye(he,qe)||ye(he,He)&&!ye(be,mt)?"\\u"+Re(ve(He,0),16):He},Ue=function(He){if(w(He))return He;if(y(He)){for(var Ye=He.length,Se=[],mt=0;mt<Ye;mt++){var qe=He[mt];typeof qe=="string"?oe(Se,qe):(typeof qe=="number"||N(qe)==="Number"||N(qe)==="String")&&oe(Se,C(qe))}var Tt=Se.length,bt=!0;return function(gt,wt){if(bt)return bt=!1,wt;if(y(this))return wt;for(var rr=0;rr<Tt;rr++)if(Se[rr]===gt)return wt}}};de&&d({target:"JSON",stat:!0,arity:3,forced:$e||De||!X},{stringify:function(Ye,Se,mt){var qe=Ue(Se),Tt=[],bt=ct(Ye,function(mn,$r){var or=w(qe)?p(qe,this,te(mn),$r):$r;return!X&&E(or)?Ie+(oe(Tt,or.rawJSON)-1):or},mt);if(typeof bt!="string"||(De&&(bt=ne(bt,Pe,pt)),X))return bt;for(var gt="",wt=bt.length,rr=0;rr<wt;rr++){var Jt=we(bt,rr);if(Jt==='"'){var ar=D(bt,++rr).end-1,Dr=ae(bt,rr,ar);gt+=ae(Dr,0,Oe)===Ie?Tt[ae(Dr,Oe)]:'"'+Dr+'"',rr=ar}else gt+=Jt}return gt}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-pure.js"),m=l("./node_modules/core-js/internals/descriptors.js"),p=l("./node_modules/core-js/internals/global-this.js"),g=l("./node_modules/core-js/internals/path.js"),x=l("./node_modules/core-js/internals/function-uncurry-this.js"),y=l("./node_modules/core-js/internals/is-forced.js"),w=l("./node_modules/core-js/internals/has-own-property.js"),E=l("./node_modules/core-js/internals/inherit-if-required.js"),_=l("./node_modules/core-js/internals/object-is-prototype-of.js"),N=l("./node_modules/core-js/internals/is-symbol.js"),C=l("./node_modules/core-js/internals/to-primitive.js"),I=l("./node_modules/core-js/internals/fails.js"),D=l("./node_modules/core-js/internals/object-get-own-property-names.js").f,M=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Y=l("./node_modules/core-js/internals/object-define-property.js").f,X=l("./node_modules/core-js/internals/this-number-value.js"),te=l("./node_modules/core-js/internals/string-trim.js").trim,de="Number",ye=p[de],we=g[de],ve=ye.prototype,ne=p.TypeError,ae=x("".slice),oe=x("".charCodeAt),Re=function($e){var De=C($e,"number");return typeof De=="bigint"?De:Pe(De)},Pe=function($e){var De=C($e,"number"),ct,pt,Ue,He,Ye,Se,mt,qe;if(N(De))throw new ne("Cannot convert a Symbol value to a number");if(typeof De=="string"&&De.length>2){if(De=te(De),ct=oe(De,0),ct===43||ct===45){if(pt=oe(De,2),pt===88||pt===120)return NaN}else if(ct===48){switch(oe(De,1)){case 66:case 98:Ue=2,He=49;break;case 79:case 111:Ue=8,He=55;break;default:return+De}for(Ye=ae(De,2),Se=Ye.length,mt=0;mt<Se;mt++)if(qe=oe(Ye,mt),qe<48||qe>He)return NaN;return parseInt(Ye,Ue)}}return+De},be=y(de,!ye(" 0o1")||!ye("0b1")||ye("+0x1")),he=function($e){return _(ve,$e)&&I(function(){X($e)})},Ie=function(De){var ct=arguments.length<1?0:ye(Re(De));return he(this)?E(Object(ct),this,Ie):ct};Ie.prototype=ve,be&&!f&&(ve.constructor=Ie),d({global:!0,constructor:!0,wrap:!0,forced:be},{Number:Ie});var Oe=function($e,De){for(var ct=m?D(De):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),pt=0,Ue;ct.length>pt;pt++)w(De,Ue=ct[pt])&&!w($e,Ue)&&Y($e,Ue,M(De,Ue))};f&&we&&Oe(g[de],we),(be||f)&&Oe(g[de],ye)}),"./node_modules/core-js/modules/es.object.assign.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/object-assign.js");d({target:"Object",stat:!0,arity:2,forced:Object.assign!==f},{assign:f})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),m=l("./node_modules/core-js/internals/fails.js"),p=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),g=l("./node_modules/core-js/internals/to-object.js"),x=!f||m(function(){p.f(1)});d({target:"Object",stat:!0,forced:x},{getOwnPropertySymbols:function(w){var E=p.f;return E?E(g(w)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/to-object.js"),m=l("./node_modules/core-js/internals/object-keys.js"),p=l("./node_modules/core-js/internals/fails.js"),g=p(function(){m(1)});d({target:"Object",stat:!0,forced:g},{keys:function(y){return m(f(y))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/to-string-tag-support.js"),f=l("./node_modules/core-js/internals/define-built-in.js"),m=l("./node_modules/core-js/internals/object-to-string.js");d||f(Object.prototype,"toString",m,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/a-callable.js"),p=l("./node_modules/core-js/internals/new-promise-capability.js"),g=l("./node_modules/core-js/internals/perform.js"),x=l("./node_modules/core-js/internals/iterate.js"),y=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:y},{all:function(E){var _=this,N=p.f(_),C=N.resolve,I=N.reject,D=g(function(){var M=m(_.resolve),Y=[],X=0,te=1;x(E,function(de){var ye=X++,we=!1;te++,f(M,_,de).then(function(ve){we||(we=!0,Y[ye]=ve,--te||C(Y))},I)}),--te||C(Y)});return D.error&&I(D.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-pure.js"),m=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,p=l("./node_modules/core-js/internals/promise-native-constructor.js"),g=l("./node_modules/core-js/internals/get-built-in.js"),x=l("./node_modules/core-js/internals/is-callable.js"),y=l("./node_modules/core-js/internals/define-built-in.js"),w=p&&p.prototype;if(d({target:"Promise",proto:!0,forced:m,real:!0},{catch:function(_){return this.then(void 0,_)}}),!f&&x(p)){var E=g("Promise").prototype.catch;w.catch!==E&&y(w,"catch",E,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/is-pure.js"),m=l("./node_modules/core-js/internals/environment-is-node.js"),p=l("./node_modules/core-js/internals/global-this.js"),g=l("./node_modules/core-js/internals/path.js"),x=l("./node_modules/core-js/internals/function-call.js"),y=l("./node_modules/core-js/internals/define-built-in.js"),w=l("./node_modules/core-js/internals/object-set-prototype-of.js"),E=l("./node_modules/core-js/internals/set-to-string-tag.js"),_=l("./node_modules/core-js/internals/set-species.js"),N=l("./node_modules/core-js/internals/a-callable.js"),C=l("./node_modules/core-js/internals/is-callable.js"),I=l("./node_modules/core-js/internals/is-object.js"),D=l("./node_modules/core-js/internals/an-instance.js"),M=l("./node_modules/core-js/internals/species-constructor.js"),Y=l("./node_modules/core-js/internals/task.js").set,X=l("./node_modules/core-js/internals/microtask.js"),te=l("./node_modules/core-js/internals/host-report-errors.js"),de=l("./node_modules/core-js/internals/perform.js"),ye=l("./node_modules/core-js/internals/queue.js"),we=l("./node_modules/core-js/internals/internal-state.js"),ve=l("./node_modules/core-js/internals/promise-native-constructor.js"),ne=l("./node_modules/core-js/internals/promise-constructor-detection.js"),ae=l("./node_modules/core-js/internals/new-promise-capability.js"),oe="Promise",Re=ne.CONSTRUCTOR,Pe=ne.REJECTION_EVENT,be=ne.SUBCLASSING,he=we.getterFor(oe),Ie=we.set,Oe=ve&&ve.prototype,$e=ve,De=Oe,ct=p.TypeError,pt=p.document,Ue=p.process,He=ae.f,Ye=He,Se=!!(pt&&pt.createEvent&&p.dispatchEvent),mt="unhandledrejection",qe="rejectionhandled",Tt=0,bt=1,gt=2,wt=1,rr=2,Jt,ar,Dr,mn,$r=function(Qt){var dr;return I(Qt)&&C(dr=Qt.then)?dr:!1},or=function(Qt,dr){var Wr=dr.value,Jr=dr.state===bt,kn=Jr?Qt.ok:Qt.fail,un=Qt.resolve,Yn=Qt.reject,on=Qt.domain,Vr,xn,An;try{kn?(Jr||(dr.rejection===rr&&st(dr),dr.rejection=wt),kn===!0?Vr=Wr:(on&&on.enter(),Vr=kn(Wr),on&&(on.exit(),An=!0)),Vr===Qt.promise?Yn(new ct("Promise-chain cycle")):(xn=$r(Vr))?x(xn,Vr,un,Yn):un(Vr)):Yn(Wr)}catch(Mn){on&&!An&&on.exit(),Yn(Mn)}},vr=function(Qt,dr){Qt.notified||(Qt.notified=!0,X(function(){for(var Wr=Qt.reactions,Jr;Jr=Wr.get();)or(Jr,Qt);Qt.notified=!1,dr&&!Qt.rejection&&bn(Qt)}))},cn=function(Qt,dr,Wr){var Jr,kn;Se?(Jr=pt.createEvent("Event"),Jr.promise=dr,Jr.reason=Wr,Jr.initEvent(Qt,!1,!0),p.dispatchEvent(Jr)):Jr={promise:dr,reason:Wr},!Pe&&(kn=p["on"+Qt])?kn(Jr):Qt===mt&&te("Unhandled promise rejection",Wr)},bn=function(Qt){x(Y,p,function(){var dr=Qt.facade,Wr=Qt.value,Jr=Un(Qt),kn;if(Jr&&(kn=de(function(){m?Ue.emit("unhandledRejection",Wr,dr):cn(mt,dr,Wr)}),Qt.rejection=m||Un(Qt)?rr:wt,kn.error))throw kn.value})},Un=function(Qt){return Qt.rejection!==wt&&!Qt.parent},st=function(Qt){x(Y,p,function(){var dr=Qt.facade;m?Ue.emit("rejectionHandled",dr):cn(qe,dr,Qt.value)})},Ht=function(Qt,dr,Wr){return function(Jr){Qt(dr,Jr,Wr)}},Lr=function(Qt,dr,Wr){Qt.done||(Qt.done=!0,Wr&&(Qt=Wr),Qt.value=dr,Qt.state=gt,vr(Qt,!0))},tr=function(Qt,dr,Wr){if(!Qt.done){Qt.done=!0,Wr&&(Qt=Wr);try{if(Qt.facade===dr)throw new ct("Promise can't be resolved itself");var Jr=$r(dr);Jr?X(function(){var kn={done:!1};try{x(Jr,dr,Ht(tr,kn,Qt),Ht(Lr,kn,Qt))}catch(un){Lr(kn,un,Qt)}}):(Qt.value=dr,Qt.state=bt,vr(Qt,!1))}catch(kn){Lr({done:!1},kn,Qt)}}};if(Re&&($e=function(dr){D(this,De),N(dr),x(Jt,this);var Wr=he(this);try{dr(Ht(tr,Wr),Ht(Lr,Wr))}catch(Jr){Lr(Wr,Jr)}},De=$e.prototype,Jt=function(dr){Ie(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new ye,rejection:!1,state:Tt,value:null})},Jt.prototype=y(De,"then",function(dr,Wr){var Jr=he(this),kn=He(M(this,$e));return Jr.parent=!0,kn.ok=C(dr)?dr:!0,kn.fail=C(Wr)&&Wr,kn.domain=m?Ue.domain:void 0,Jr.state===Tt?Jr.reactions.add(kn):X(function(){or(kn,Jr)}),kn.promise}),ar=function(){var Qt=new Jt,dr=he(Qt);this.promise=Qt,this.resolve=Ht(tr,dr),this.reject=Ht(Lr,dr)},ae.f=He=function(Qt){return Qt===$e||Qt===Dr?new ar(Qt):Ye(Qt)},!f&&C(ve)&&Oe!==Object.prototype)){mn=Oe.then,be||y(Oe,"then",function(dr,Wr){var Jr=this;return new $e(function(kn,un){x(mn,Jr,kn,un)}).then(dr,Wr)},{unsafe:!0});try{delete Oe.constructor}catch{}w&&w(Oe,De)}d({global:!0,constructor:!0,wrap:!0,forced:Re},{Promise:$e}),Dr=g.Promise,E($e,oe,!1,!0),_(oe)}),"./node_modules/core-js/modules/es.promise.js":(function(c,u,l){l("./node_modules/core-js/modules/es.promise.constructor.js"),l("./node_modules/core-js/modules/es.promise.all.js"),l("./node_modules/core-js/modules/es.promise.catch.js"),l("./node_modules/core-js/modules/es.promise.race.js"),l("./node_modules/core-js/modules/es.promise.reject.js"),l("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/a-callable.js"),p=l("./node_modules/core-js/internals/new-promise-capability.js"),g=l("./node_modules/core-js/internals/perform.js"),x=l("./node_modules/core-js/internals/iterate.js"),y=l("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");d({target:"Promise",stat:!0,forced:y},{race:function(E){var _=this,N=p.f(_),C=N.reject,I=g(function(){var D=m(_.resolve);x(E,function(M){f(D,_,M).then(N.resolve,C)})});return I.error&&C(I.value),N.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/new-promise-capability.js"),m=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d({target:"Promise",stat:!0,forced:m},{reject:function(g){var x=f.f(this),y=x.reject;return y(g),x.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/is-pure.js"),p=l("./node_modules/core-js/internals/promise-native-constructor.js"),g=l("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=l("./node_modules/core-js/internals/promise-resolve.js"),y=f("Promise"),w=m&&!g;d({target:"Promise",stat:!0,forced:m||g},{resolve:function(_){return x(w&&this===y?p:this,_)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/regexp-exec.js");d({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(c,u,l){l("./node_modules/core-js/modules/es.regexp.exec.js");var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/is-callable.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/to-string.js"),x=(function(){var w=!1,E=/[ac]/;return E.exec=function(){return w=!0,/./.exec.apply(this,arguments)},E.test("abc")===!0&&w})(),y=/./.test;d({target:"RegExp",proto:!0,forced:!x},{test:function(w){var E=p(this),_=g(w),N=E.exec;if(!m(N))return f(y,E,_);var C=f(N,E,_);return C===null?!1:(p(C),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-name.js").PROPER,f=l("./node_modules/core-js/internals/define-built-in.js"),m=l("./node_modules/core-js/internals/an-object.js"),p=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/regexp-get-flags.js"),y="toString",w=RegExp.prototype,E=w[y],_=g(function(){return E.call({source:"a",flags:"b"})!=="/a/b"}),N=d&&E.name!==y;(_||N)&&f(w,y,function(){var I=m(this),D=p(I.source),M=p(x(I));return"/"+D+"/"+M},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/collection.js"),f=l("./node_modules/core-js/internals/collection-strong.js");d("Set",function(m){return function(){return m(this,arguments.length?arguments[0]:void 0)}},f)}),"./node_modules/core-js/modules/es.set.js":(function(c,u,l){l("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/to-string.js"),x=l("./node_modules/core-js/internals/not-a-regexp.js"),y=l("./node_modules/core-js/internals/require-object-coercible.js"),w=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),E=l("./node_modules/core-js/internals/is-pure.js"),_=f("".slice),N=Math.min,C=w("endsWith"),I=!E&&!C&&!!(function(){var D=m(String.prototype,"endsWith");return D&&!D.writable})();d({target:"String",proto:!0,forced:!I&&!C},{endsWith:function(M){var Y=g(y(this));x(M);var X=arguments.length>1?arguments[1]:void 0,te=Y.length,de=X===void 0?te:N(p(X),te),ye=g(M);return _(Y,de-ye.length,de)===ye}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/not-a-regexp.js"),p=l("./node_modules/core-js/internals/require-object-coercible.js"),g=l("./node_modules/core-js/internals/to-string.js"),x=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),y=f("".indexOf);d({target:"String",proto:!0,forced:!x("includes")},{includes:function(E){return!!~y(g(p(this)),g(m(E)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/string-multibyte.js").charAt,f=l("./node_modules/core-js/internals/to-string.js"),m=l("./node_modules/core-js/internals/internal-state.js"),p=l("./node_modules/core-js/internals/iterator-define.js"),g=l("./node_modules/core-js/internals/create-iter-result-object.js"),x="String Iterator",y=m.set,w=m.getterFor(x);p(String,"String",function(E){y(this,{type:x,string:f(E),index:0})},function(){var _=w(this),N=_.string,C=_.index,I;return C>=N.length?g(void 0,!0):(I=d(N,C),_.index+=I.length,g(I,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/create-html.js"),m=l("./node_modules/core-js/internals/string-html-forced.js");d({target:"String",proto:!0,forced:m("link")},{link:function(g){return f(this,"a","href",g)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-object.js"),x=l("./node_modules/core-js/internals/to-length.js"),y=l("./node_modules/core-js/internals/to-string.js"),w=l("./node_modules/core-js/internals/require-object-coercible.js"),E=l("./node_modules/core-js/internals/get-method.js"),_=l("./node_modules/core-js/internals/advance-string-index.js"),N=l("./node_modules/core-js/internals/regexp-get-flags.js"),C=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),I=f("".indexOf);m("match",function(D,M,Y){return[function(te){var de=w(this),ye=g(te)?E(te,D):void 0;return ye?d(ye,te,de):new RegExp(te)[D](y(de))},function(X){var te=p(this),de=y(X),ye=Y(M,te,de);if(ye.done)return ye.value;var we=y(N(te));if(I(we,"g")===-1)return C(te,de);var ve=I(we,"u")!==-1;te.lastIndex=0;for(var ne=[],ae=0,oe;(oe=C(te,de))!==null;){var Re=y(oe[0]);ne[ae]=Re,Re===""&&(te.lastIndex=_(de,x(te.lastIndex),ve)),ae++}return ae===0?null:ne}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-apply.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/function-uncurry-this.js"),p=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),g=l("./node_modules/core-js/internals/fails.js"),x=l("./node_modules/core-js/internals/an-object.js"),y=l("./node_modules/core-js/internals/is-callable.js"),w=l("./node_modules/core-js/internals/is-object.js"),E=l("./node_modules/core-js/internals/to-integer-or-infinity.js"),_=l("./node_modules/core-js/internals/to-length.js"),N=l("./node_modules/core-js/internals/to-string.js"),C=l("./node_modules/core-js/internals/require-object-coercible.js"),I=l("./node_modules/core-js/internals/advance-string-index.js"),D=l("./node_modules/core-js/internals/get-method.js"),M=l("./node_modules/core-js/internals/get-substitution.js"),Y=l("./node_modules/core-js/internals/regexp-get-flags.js"),X=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),te=l("./node_modules/core-js/internals/well-known-symbol.js"),de=te("replace"),ye=Math.max,we=Math.min,ve=m([].concat),ne=m([].push),ae=m("".indexOf),oe=m("".slice),Re=function(Ie){return Ie===void 0?Ie:String(Ie)},Pe=(function(){return"a".replace(/./,"$0")==="$0"})(),be=(function(){return/./[de]?/./[de]("a","$0")==="":!1})(),he=!g(function(){var Ie=/./;return Ie.exec=function(){var Oe=[];return Oe.groups={a:"7"},Oe},"".replace(Ie,"$<a>")!=="7"});p("replace",function(Ie,Oe,$e){var De=be?"$":"$0";return[function(pt,Ue){var He=C(this),Ye=w(pt)?D(pt,de):void 0;return Ye?f(Ye,pt,He,Ue):f(Oe,N(He),pt,Ue)},function(ct,pt){var Ue=x(this),He=N(ct);if(typeof pt=="string"&&ae(pt,De)===-1&&ae(pt,"$<")===-1){var Ye=$e(Oe,Ue,He,pt);if(Ye.done)return Ye.value}var Se=y(pt);Se||(pt=N(pt));var mt=N(Y(Ue)),qe=ae(mt,"g")!==-1,Tt;qe&&(Tt=ae(mt,"u")!==-1,Ue.lastIndex=0);for(var bt=[],gt;gt=X(Ue,He),!(gt===null||(ne(bt,gt),!qe));){var wt=N(gt[0]);wt===""&&(Ue.lastIndex=I(He,_(Ue.lastIndex),Tt))}for(var rr="",Jt=0,ar=0;ar<bt.length;ar++){gt=bt[ar];for(var Dr=N(gt[0]),mn=ye(we(E(gt.index),He.length),0),$r=[],or,vr=1;vr<gt.length;vr++)ne($r,Re(gt[vr]));var cn=gt.groups;if(Se){var bn=ve([Dr],$r,mn,He);cn!==void 0&&ne(bn,cn),or=N(d(pt,void 0,bn))}else or=M(Dr,He,mn,$r,cn,pt);mn>=Jt&&(rr+=oe(He,Jt,mn)+or,Jt=mn+Dr.length)}return rr+oe(He,Jt)}]},!he||!Pe||be)}),"./node_modules/core-js/modules/es.string.split.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/function-call.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),p=l("./node_modules/core-js/internals/an-object.js"),g=l("./node_modules/core-js/internals/is-object.js"),x=l("./node_modules/core-js/internals/require-object-coercible.js"),y=l("./node_modules/core-js/internals/species-constructor.js"),w=l("./node_modules/core-js/internals/advance-string-index.js"),E=l("./node_modules/core-js/internals/to-length.js"),_=l("./node_modules/core-js/internals/to-string.js"),N=l("./node_modules/core-js/internals/get-method.js"),C=l("./node_modules/core-js/internals/regexp-exec-abstract.js"),I=l("./node_modules/core-js/internals/regexp-sticky-helpers.js"),D=l("./node_modules/core-js/internals/fails.js"),M=I.UNSUPPORTED_Y,Y=4294967295,X=Math.min,te=f([].push),de=f("".slice),ye=!D(function(){var ve=/(?:)/,ne=ve.exec;ve.exec=function(){return ne.apply(this,arguments)};var ae="ab".split(ve);return ae.length!==2||ae[0]!=="a"||ae[1]!=="b"}),we="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;m("split",function(ve,ne,ae){var oe="0".split(void 0,0).length?function(Re,Pe){return Re===void 0&&Pe===0?[]:d(ne,this,Re,Pe)}:ne;return[function(Pe,be){var he=x(this),Ie=g(Pe)?N(Pe,ve):void 0;return Ie?d(Ie,Pe,he,be):d(oe,_(he),Pe,be)},function(Re,Pe){var be=p(this),he=_(Re);if(!we){var Ie=ae(oe,be,he,Pe,oe!==ne);if(Ie.done)return Ie.value}var Oe=y(be,RegExp),$e=be.unicode,De=(be.ignoreCase?"i":"")+(be.multiline?"m":"")+(be.unicode?"u":"")+(M?"g":"y"),ct=new Oe(M?"^(?:"+be.source+")":be,De),pt=Pe===void 0?Y:Pe>>>0;if(pt===0)return[];if(he.length===0)return C(ct,he)===null?[he]:[];for(var Ue=0,He=0,Ye=[];He<he.length;){ct.lastIndex=M?0:He;var Se=C(ct,M?de(he,He):he),mt;if(Se===null||(mt=X(E(ct.lastIndex+(M?He:0)),he.length))===Ue)He=w(he,He,$e);else{if(te(Ye,de(he,Ue,He)),Ye.length===pt)return Ye;for(var qe=1;qe<=Se.length-1;qe++)if(te(Ye,Se[qe]),Ye.length===pt)return Ye;He=Ue=mt}}return te(Ye,de(he,Ue)),Ye}]},we||!ye,M)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=l("./node_modules/core-js/internals/to-length.js"),g=l("./node_modules/core-js/internals/to-string.js"),x=l("./node_modules/core-js/internals/not-a-regexp.js"),y=l("./node_modules/core-js/internals/require-object-coercible.js"),w=l("./node_modules/core-js/internals/correct-is-regexp-logic.js"),E=l("./node_modules/core-js/internals/is-pure.js"),_=f("".slice),N=Math.min,C=w("startsWith"),I=!E&&!C&&!!(function(){var D=m(String.prototype,"startsWith");return D&&!D.writable})();d({target:"String",proto:!0,forced:!I&&!C},{startsWith:function(M){var Y=g(y(this));x(M);var X=p(N(arguments.length>1?arguments[1]:void 0,Y.length)),te=g(M);return _(Y,X,X+te.length)===te}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/string-trim.js").trim,m=l("./node_modules/core-js/internals/string-trim-forced.js");d({target:"String",proto:!0,forced:m("trim")},{trim:function(){return f(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/function-call.js"),p=l("./node_modules/core-js/internals/function-uncurry-this.js"),g=l("./node_modules/core-js/internals/is-pure.js"),x=l("./node_modules/core-js/internals/descriptors.js"),y=l("./node_modules/core-js/internals/symbol-constructor-detection.js"),w=l("./node_modules/core-js/internals/fails.js"),E=l("./node_modules/core-js/internals/has-own-property.js"),_=l("./node_modules/core-js/internals/object-is-prototype-of.js"),N=l("./node_modules/core-js/internals/an-object.js"),C=l("./node_modules/core-js/internals/to-indexed-object.js"),I=l("./node_modules/core-js/internals/to-property-key.js"),D=l("./node_modules/core-js/internals/to-string.js"),M=l("./node_modules/core-js/internals/create-property-descriptor.js"),Y=l("./node_modules/core-js/internals/object-create.js"),X=l("./node_modules/core-js/internals/object-keys.js"),te=l("./node_modules/core-js/internals/object-get-own-property-names.js"),de=l("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ye=l("./node_modules/core-js/internals/object-get-own-property-symbols.js"),we=l("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),ve=l("./node_modules/core-js/internals/object-define-property.js"),ne=l("./node_modules/core-js/internals/object-define-properties.js"),ae=l("./node_modules/core-js/internals/object-property-is-enumerable.js"),oe=l("./node_modules/core-js/internals/define-built-in.js"),Re=l("./node_modules/core-js/internals/define-built-in-accessor.js"),Pe=l("./node_modules/core-js/internals/shared.js"),be=l("./node_modules/core-js/internals/shared-key.js"),he=l("./node_modules/core-js/internals/hidden-keys.js"),Ie=l("./node_modules/core-js/internals/uid.js"),Oe=l("./node_modules/core-js/internals/well-known-symbol.js"),$e=l("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),De=l("./node_modules/core-js/internals/well-known-symbol-define.js"),ct=l("./node_modules/core-js/internals/symbol-define-to-primitive.js"),pt=l("./node_modules/core-js/internals/set-to-string-tag.js"),Ue=l("./node_modules/core-js/internals/internal-state.js"),He=l("./node_modules/core-js/internals/array-iteration.js").forEach,Ye=be("hidden"),Se="Symbol",mt="prototype",qe=Ue.set,Tt=Ue.getterFor(Se),bt=Object[mt],gt=f.Symbol,wt=gt&&gt[mt],rr=f.RangeError,Jt=f.TypeError,ar=f.QObject,Dr=we.f,mn=ve.f,$r=de.f,or=ae.f,vr=p([].push),cn=Pe("symbols"),bn=Pe("op-symbols"),Un=Pe("wks"),st=!ar||!ar[mt]||!ar[mt].findChild,Ht=function(on,Vr,xn){var An=Dr(bt,Vr);An&&delete bt[Vr],mn(on,Vr,xn),An&&on!==bt&&mn(bt,Vr,An)},Lr=x&&w(function(){return Y(mn({},"a",{get:function(){return mn(this,"a",{value:7}).a}})).a!==7})?Ht:mn,tr=function(on,Vr){var xn=cn[on]=Y(wt);return qe(xn,{type:Se,tag:on,description:Vr}),x||(xn.description=Vr),xn},Qt=function(Vr,xn,An){Vr===bt&&Qt(bn,xn,An),N(Vr);var Mn=I(xn);return N(An),E(cn,Mn)?(An.enumerable?(E(Vr,Ye)&&Vr[Ye][Mn]&&(Vr[Ye][Mn]=!1),An=Y(An,{enumerable:M(0,!1)})):(E(Vr,Ye)||mn(Vr,Ye,M(1,Y(null))),Vr[Ye][Mn]=!0),Lr(Vr,Mn,An)):mn(Vr,Mn,An)},dr=function(Vr,xn){N(Vr);var An=C(xn),Mn=X(An).concat(Yn(An));return He(Mn,function(ci){(!x||m(Jr,An,ci))&&Qt(Vr,ci,An[ci])}),Vr},Wr=function(Vr,xn){return xn===void 0?Y(Vr):dr(Y(Vr),xn)},Jr=function(Vr){var xn=I(Vr),An=m(or,this,xn);return this===bt&&E(cn,xn)&&!E(bn,xn)?!1:An||!E(this,xn)||!E(cn,xn)||E(this,Ye)&&this[Ye][xn]?An:!0},kn=function(Vr,xn){var An=C(Vr),Mn=I(xn);if(!(An===bt&&E(cn,Mn)&&!E(bn,Mn))){var ci=Dr(An,Mn);return ci&&E(cn,Mn)&&!(E(An,Ye)&&An[Ye][Mn])&&(ci.enumerable=!0),ci}},un=function(Vr){var xn=$r(C(Vr)),An=[];return He(xn,function(Mn){!E(cn,Mn)&&!E(he,Mn)&&vr(An,Mn)}),An},Yn=function(on){var Vr=on===bt,xn=$r(Vr?bn:C(on)),An=[];return He(xn,function(Mn){E(cn,Mn)&&(!Vr||E(bt,Mn))&&vr(An,cn[Mn])}),An};y||(gt=function(){if(_(wt,this))throw new Jt("Symbol is not a constructor");var Vr=!arguments.length||arguments[0]===void 0?void 0:D(arguments[0]),xn=Ie(Vr),An=function(Mn){var ci=this===void 0?f:this;ci===bt&&m(An,bn,Mn),E(ci,Ye)&&E(ci[Ye],xn)&&(ci[Ye][xn]=!1);var Cs=M(1,Mn);try{Lr(ci,xn,Cs)}catch(Ms){if(!(Ms instanceof rr))throw Ms;Ht(ci,xn,Cs)}};return x&&st&&Lr(bt,xn,{configurable:!0,set:An}),tr(xn,Vr)},wt=gt[mt],oe(wt,"toString",function(){return Tt(this).tag}),oe(gt,"withoutSetter",function(on){return tr(Ie(on),on)}),ae.f=Jr,ve.f=Qt,ne.f=dr,we.f=kn,te.f=de.f=un,ye.f=Yn,$e.f=function(on){return tr(Oe(on),on)},x&&(Re(wt,"description",{configurable:!0,get:function(){return Tt(this).description}}),g||oe(bt,"propertyIsEnumerable",Jr,{unsafe:!0}))),d({global:!0,constructor:!0,wrap:!0,forced:!y,sham:!y},{Symbol:gt}),He(X(Un),function(on){De(on)}),d({target:Se,stat:!0,forced:!y},{useSetter:function(){st=!0},useSimple:function(){st=!1}}),d({target:"Object",stat:!0,forced:!y,sham:!x},{create:Wr,defineProperty:Qt,defineProperties:dr,getOwnPropertyDescriptor:kn}),d({target:"Object",stat:!0,forced:!y},{getOwnPropertyNames:un}),ct(),pt(gt,Se),he[Ye]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/descriptors.js"),m=l("./node_modules/core-js/internals/global-this.js"),p=l("./node_modules/core-js/internals/function-uncurry-this.js"),g=l("./node_modules/core-js/internals/has-own-property.js"),x=l("./node_modules/core-js/internals/is-callable.js"),y=l("./node_modules/core-js/internals/object-is-prototype-of.js"),w=l("./node_modules/core-js/internals/to-string.js"),E=l("./node_modules/core-js/internals/define-built-in-accessor.js"),_=l("./node_modules/core-js/internals/copy-constructor-properties.js"),N=m.Symbol,C=N&&N.prototype;if(f&&x(N)&&(!("description"in C)||N().description!==void 0)){var I={},D=function(){var ve=arguments.length<1||arguments[0]===void 0?void 0:w(arguments[0]),ne=y(C,this)?new N(ve):ve===void 0?N():N(ve);return ve===""&&(I[ne]=!0),ne};_(D,N),D.prototype=C,C.constructor=D;var M=String(N("description detection"))==="Symbol(description detection)",Y=p(C.valueOf),X=p(C.toString),te=/^Symbol\((.*)\)[^)]+$/,de=p("".replace),ye=p("".slice);E(C,"description",{configurable:!0,get:function(){var ve=Y(this);if(g(I,ve))return"";var ne=X(ve),ae=M?ye(ne,7,-1):de(ne,te,"$1");return ae===""?void 0:ae}}),d({global:!0,constructor:!0,forced:!0},{Symbol:D})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/get-built-in.js"),m=l("./node_modules/core-js/internals/has-own-property.js"),p=l("./node_modules/core-js/internals/to-string.js"),g=l("./node_modules/core-js/internals/shared.js"),x=l("./node_modules/core-js/internals/symbol-registry-detection.js"),y=g("string-to-symbol-registry"),w=g("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!x},{for:function(E){var _=p(E);if(m(y,_))return y[_];var N=f("Symbol")(_);return y[_]=N,w[N]=_,N}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/well-known-symbol-define.js");d("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(c,u,l){l("./node_modules/core-js/modules/es.symbol.constructor.js"),l("./node_modules/core-js/modules/es.symbol.for.js"),l("./node_modules/core-js/modules/es.symbol.key-for.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/has-own-property.js"),m=l("./node_modules/core-js/internals/is-symbol.js"),p=l("./node_modules/core-js/internals/try-to-string.js"),g=l("./node_modules/core-js/internals/shared.js"),x=l("./node_modules/core-js/internals/symbol-registry-detection.js"),y=g("symbol-to-string-registry");d({target:"Symbol",stat:!0,forced:!x},{keyFor:function(E){if(!m(E))throw new TypeError(p(E)+" is not a symbol");if(f(y,E))return y[E]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(c,u,l){l("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(c,u,l){l("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(c,u,l){l("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/a-set.js"),m=l("./node_modules/core-js/internals/set-helpers.js").add;d({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var g=f(this),x=0,y=arguments.length;x<y;x++)m(g,arguments[x]);return g}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/a-set.js"),m=l("./node_modules/core-js/internals/set-helpers.js").remove;d({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var g=f(this),x=!0,y,w=0,E=arguments.length;w<E;w++)y=m(g,arguments[w]),x=x&&y;return!!x}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{every:function(x){var y=m(this),w=f(x,arguments.length>1?arguments[1]:void 0);return p(y,function(E){if(!w(E,E,y))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-helpers.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),x=p.Set,y=p.add;d({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(E){var _=m(this),N=f(E,arguments.length>1?arguments[1]:void 0),C=new x;return g(_,function(I){N(I,I,_)&&y(C,I)}),C}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{find:function(x){var y=m(this),w=f(x,arguments.length>1?arguments[1]:void 0),E=p(y,function(_){if(w(_,_,y))return{value:_}},!0);return E&&E.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-intersection.js");d({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-is-disjoint-from.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-is-subset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-is-superset-of.js");d({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-uncurry-this.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js"),g=l("./node_modules/core-js/internals/to-string.js"),x=f([].join),y=f([].push);d({target:"Set",proto:!0,real:!0,forced:!0},{join:function(E){var _=m(this),N=E===void 0?",":g(E),C=[];return p(_,function(I){y(C,I)}),x(C,N)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-helpers.js"),g=l("./node_modules/core-js/internals/set-iterate.js"),x=p.Set,y=p.add;d({target:"Set",proto:!0,real:!0,forced:!0},{map:function(E){var _=m(this),N=f(E,arguments.length>1?arguments[1]:void 0),C=new x;return g(_,function(I){y(C,N(I,I,_))}),C}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/a-callable.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js"),g=TypeError;d({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(y){var w=m(this),E=arguments.length<2,_=E?void 0:arguments[1];if(f(y),p(w,function(N){E?(E=!1,_=N):_=y(_,N,N,w)}),E)throw new g("Reduce of empty set with no initial value");return _}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-bind-context.js"),m=l("./node_modules/core-js/internals/a-set.js"),p=l("./node_modules/core-js/internals/set-iterate.js");d({target:"Set",proto:!0,real:!0,forced:!0},{some:function(x){var y=m(this),w=f(x,arguments.length>1?arguments[1]:void 0);return p(y,function(E){if(w(E,E,y))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-symmetric-difference.js");d({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/function-call.js"),m=l("./node_modules/core-js/internals/to-set-like.js"),p=l("./node_modules/core-js/internals/set-union.js");d({target:"Set",proto:!0,real:!0,forced:!0},{union:function(x){return f(p,this,m(x))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/dom-iterables.js"),m=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),p=l("./node_modules/core-js/internals/array-for-each.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=function(w){if(w&&w.forEach!==p)try{g(w,"forEach",p)}catch{w.forEach=p}};for(var y in f)f[y]&&x(d[y]&&d[y].prototype);x(m)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/global-this.js"),f=l("./node_modules/core-js/internals/dom-iterables.js"),m=l("./node_modules/core-js/internals/dom-token-list-prototype.js"),p=l("./node_modules/core-js/modules/es.array.iterator.js"),g=l("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=l("./node_modules/core-js/internals/set-to-string-tag.js"),y=l("./node_modules/core-js/internals/well-known-symbol.js"),w=y("iterator"),E=p.values,_=function(C,I){if(C){if(C[w]!==E)try{g(C,w,E)}catch{C[w]=E}if(x(C,I,!0),f[I]){for(var D in p)if(C[D]!==p[D])try{g(C,D,p[D])}catch{C[D]=p[D]}}}};for(var N in f)_(d[N]&&d[N].prototype,N);_(m,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/schedulers-fix.js"),p=m(f.setInterval,!0);d({global:!0,bind:!0,forced:f.setInterval!==p},{setInterval:p})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(c,u,l){var d=l("./node_modules/core-js/internals/export.js"),f=l("./node_modules/core-js/internals/global-this.js"),m=l("./node_modules/core-js/internals/schedulers-fix.js"),p=m(f.setTimeout,!0);d({global:!0,bind:!0,forced:f.setTimeout!==p},{setTimeout:p})}),"./node_modules/core-js/modules/web.timers.js":(function(c,u,l){l("./node_modules/core-js/modules/web.set-interval.js"),l("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(c,u,l){l.r(u),l.d(u,{default:function(){return Ht}});const{entries:d,setPrototypeOf:f,isFrozen:m,getPrototypeOf:p,getOwnPropertyDescriptor:g}=Object;let{freeze:x,seal:y,create:w}=Object,{apply:E,construct:_}=typeof Reflect<"u"&&Reflect;x||(x=function(tr){return tr}),y||(y=function(tr){return tr}),E||(E=function(tr,Qt){for(var dr=arguments.length,Wr=new Array(dr>2?dr-2:0),Jr=2;Jr<dr;Jr++)Wr[Jr-2]=arguments[Jr];return tr.apply(Qt,Wr)}),_||(_=function(tr){for(var Qt=arguments.length,dr=new Array(Qt>1?Qt-1:0),Wr=1;Wr<Qt;Wr++)dr[Wr-1]=arguments[Wr];return new tr(...dr)});const N=oe(Array.prototype.forEach),C=oe(Array.prototype.lastIndexOf),I=oe(Array.prototype.pop),D=oe(Array.prototype.push),M=oe(Array.prototype.splice),Y=oe(String.prototype.toLowerCase),X=oe(String.prototype.toString),te=oe(String.prototype.match),de=oe(String.prototype.replace),ye=oe(String.prototype.indexOf),we=oe(String.prototype.trim),ve=oe(Object.prototype.hasOwnProperty),ne=oe(RegExp.prototype.test),ae=Re(TypeError);function oe(Lr){return function(tr){tr instanceof RegExp&&(tr.lastIndex=0);for(var Qt=arguments.length,dr=new Array(Qt>1?Qt-1:0),Wr=1;Wr<Qt;Wr++)dr[Wr-1]=arguments[Wr];return E(Lr,tr,dr)}}function Re(Lr){return function(){for(var tr=arguments.length,Qt=new Array(tr),dr=0;dr<tr;dr++)Qt[dr]=arguments[dr];return _(Lr,Qt)}}function Pe(Lr,tr){let Qt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y;f&&f(Lr,null);let dr=tr.length;for(;dr--;){let Wr=tr[dr];if(typeof Wr=="string"){const Jr=Qt(Wr);Jr!==Wr&&(m(tr)||(tr[dr]=Jr),Wr=Jr)}Lr[Wr]=!0}return Lr}function be(Lr){for(let tr=0;tr<Lr.length;tr++)ve(Lr,tr)||(Lr[tr]=null);return Lr}function he(Lr){const tr=w(null);for(const[Qt,dr]of d(Lr))ve(Lr,Qt)&&(Array.isArray(dr)?tr[Qt]=be(dr):dr&&typeof dr=="object"&&dr.constructor===Object?tr[Qt]=he(dr):tr[Qt]=dr);return tr}function Ie(Lr,tr){for(;Lr!==null;){const dr=g(Lr,tr);if(dr){if(dr.get)return oe(dr.get);if(typeof dr.value=="function")return oe(dr.value)}Lr=p(Lr)}function Qt(){return null}return Qt}const Oe=x(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$e=x(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),De=x(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ct=x(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),pt=x(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ue=x(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),He=x(["#text"]),Ye=x(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Se=x(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mt=x(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qe=x(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tt=y(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bt=y(/<%[\w\W]*|[\w\W]*%>/gm),gt=y(/\$\{[\w\W]*/gm),wt=y(/^data-[\-\w.\u00B7-\uFFFF]+$/),rr=y(/^aria-[\-\w]+$/),Jt=y(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ar=y(/^(?:\w+script|data):/i),Dr=y(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mn=y(/^html$/i),$r=y(/^[a-z][.\w]*(-[.\w]+)+$/i);var or=Object.freeze({__proto__:null,ARIA_ATTR:rr,ATTR_WHITESPACE:Dr,CUSTOM_ELEMENT:$r,DATA_ATTR:wt,DOCTYPE_NAME:mn,ERB_EXPR:bt,IS_ALLOWED_URI:Jt,IS_SCRIPT_OR_DATA:ar,MUSTACHE_EXPR:Tt,TMPLIT_EXPR:gt});const vr={element:1,text:3,progressingInstruction:7,comment:8,document:9},cn=function(){return typeof window>"u"?null:window},bn=function(tr,Qt){if(typeof tr!="object"||typeof tr.createPolicy!="function")return null;let dr=null;const Wr="data-tt-policy-suffix";Qt&&Qt.hasAttribute(Wr)&&(dr=Qt.getAttribute(Wr));const Jr="dompurify"+(dr?"#"+dr:"");try{return tr.createPolicy(Jr,{createHTML(kn){return kn},createScriptURL(kn){return kn}})}catch{return console.warn("TrustedTypes policy "+Jr+" could not be created."),null}},Un=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function st(){let Lr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cn();const tr=It=>st(It);if(tr.version="3.3.1",tr.removed=[],!Lr||!Lr.document||Lr.document.nodeType!==vr.document||!Lr.Element)return tr.isSupported=!1,tr;let{document:Qt}=Lr;const dr=Qt,Wr=dr.currentScript,{DocumentFragment:Jr,HTMLTemplateElement:kn,Node:un,Element:Yn,NodeFilter:on,NamedNodeMap:Vr=Lr.NamedNodeMap||Lr.MozNamedAttrMap,HTMLFormElement:xn,DOMParser:An,trustedTypes:Mn}=Lr,ci=Yn.prototype,Cs=Ie(ci,"cloneNode"),Ms=Ie(ci,"remove"),Ns=Ie(ci,"nextSibling"),ti=Ie(ci,"childNodes"),dn=Ie(ci,"parentNode");if(typeof kn=="function"){const It=Qt.createElement("template");It.content&&It.content.ownerDocument&&(Qt=It.content.ownerDocument)}let as,ta="";const{implementation:Tn,createNodeIterator:Ln,createDocumentFragment:Fs,getElementsByTagName:Qs}=Qt,{importNode:Us}=dr;let rs=Un();tr.isSupported=typeof d=="function"&&typeof dn=="function"&&Tn&&Tn.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:qs,ERB_EXPR:Rs,TMPLIT_EXPR:Qa,DATA_ATTR:hs,ARIA_ATTR:_u,IS_SCRIPT_OR_DATA:ro,ATTR_WHITESPACE:$l,CUSTOM_ELEMENT:su}=or;let{IS_ALLOWED_URI:pl}=or,ra=null;const Ya=Pe({},[...Oe,...$e,...De,...pt,...He]);let Ws=null;const ba=Pe({},[...Ye,...Se,...mt,...qe]);let $s=Object.seal(w(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Il=null,vo=null;const no=Object.seal(w(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let gl=!0,Hl=!0,pc=!1,zs=!0,ui=!1,ks=!0,ja=!1,za=!1,Ta=!1,vi=!1,ei=!1,fs=!1,wa=!0,Qo=!1;const Hi="user-content-";let zo=!0,Ea=!1,Xs={},ms=null;const jo=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Va=null;const Vs=Pe({},["audio","video","img","source","image","track"]);let qa=null;const xo=Pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),io="http://www.w3.org/1998/Math/MathML",Vo="http://www.w3.org/2000/svg",zt="http://www.w3.org/1999/xhtml";let V=zt,se=!1,ce=null;const $=Pe({},[io,Vo,zt],X);let K=Pe({},["mi","mo","mn","ms","mtext"]),ie=Pe({},["annotation-xml"]);const me=Pe({},["title","style","font","a","script"]);let je=null;const Qe=["application/xhtml+xml","text/html"],ut="text/html";let P=null,k=null;const F=Qt.createElement("form"),G=function(rt){return rt instanceof RegExp||rt instanceof Function},Z=function(){let rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(k&&k===rt)){if((!rt||typeof rt!="object")&&(rt={}),rt=he(rt),je=Qe.indexOf(rt.PARSER_MEDIA_TYPE)===-1?ut:rt.PARSER_MEDIA_TYPE,P=je==="application/xhtml+xml"?X:Y,ra=ve(rt,"ALLOWED_TAGS")?Pe({},rt.ALLOWED_TAGS,P):Ya,Ws=ve(rt,"ALLOWED_ATTR")?Pe({},rt.ALLOWED_ATTR,P):ba,ce=ve(rt,"ALLOWED_NAMESPACES")?Pe({},rt.ALLOWED_NAMESPACES,X):$,qa=ve(rt,"ADD_URI_SAFE_ATTR")?Pe(he(xo),rt.ADD_URI_SAFE_ATTR,P):xo,Va=ve(rt,"ADD_DATA_URI_TAGS")?Pe(he(Vs),rt.ADD_DATA_URI_TAGS,P):Vs,ms=ve(rt,"FORBID_CONTENTS")?Pe({},rt.FORBID_CONTENTS,P):jo,Il=ve(rt,"FORBID_TAGS")?Pe({},rt.FORBID_TAGS,P):he({}),vo=ve(rt,"FORBID_ATTR")?Pe({},rt.FORBID_ATTR,P):he({}),Xs=ve(rt,"USE_PROFILES")?rt.USE_PROFILES:!1,gl=rt.ALLOW_ARIA_ATTR!==!1,Hl=rt.ALLOW_DATA_ATTR!==!1,pc=rt.ALLOW_UNKNOWN_PROTOCOLS||!1,zs=rt.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ui=rt.SAFE_FOR_TEMPLATES||!1,ks=rt.SAFE_FOR_XML!==!1,ja=rt.WHOLE_DOCUMENT||!1,vi=rt.RETURN_DOM||!1,ei=rt.RETURN_DOM_FRAGMENT||!1,fs=rt.RETURN_TRUSTED_TYPE||!1,Ta=rt.FORCE_BODY||!1,wa=rt.SANITIZE_DOM!==!1,Qo=rt.SANITIZE_NAMED_PROPS||!1,zo=rt.KEEP_CONTENT!==!1,Ea=rt.IN_PLACE||!1,pl=rt.ALLOWED_URI_REGEXP||Jt,V=rt.NAMESPACE||zt,K=rt.MATHML_TEXT_INTEGRATION_POINTS||K,ie=rt.HTML_INTEGRATION_POINTS||ie,$s=rt.CUSTOM_ELEMENT_HANDLING||{},rt.CUSTOM_ELEMENT_HANDLING&&G(rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($s.tagNameCheck=rt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),rt.CUSTOM_ELEMENT_HANDLING&&G(rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($s.attributeNameCheck=rt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),rt.CUSTOM_ELEMENT_HANDLING&&typeof rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($s.allowCustomizedBuiltInElements=rt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ui&&(Hl=!1),ei&&(vi=!0),Xs&&(ra=Pe({},He),Ws=[],Xs.html===!0&&(Pe(ra,Oe),Pe(Ws,Ye)),Xs.svg===!0&&(Pe(ra,$e),Pe(Ws,Se),Pe(Ws,qe)),Xs.svgFilters===!0&&(Pe(ra,De),Pe(Ws,Se),Pe(Ws,qe)),Xs.mathMl===!0&&(Pe(ra,pt),Pe(Ws,mt),Pe(Ws,qe))),rt.ADD_TAGS&&(typeof rt.ADD_TAGS=="function"?no.tagCheck=rt.ADD_TAGS:(ra===Ya&&(ra=he(ra)),Pe(ra,rt.ADD_TAGS,P))),rt.ADD_ATTR&&(typeof rt.ADD_ATTR=="function"?no.attributeCheck=rt.ADD_ATTR:(Ws===ba&&(Ws=he(Ws)),Pe(Ws,rt.ADD_ATTR,P))),rt.ADD_URI_SAFE_ATTR&&Pe(qa,rt.ADD_URI_SAFE_ATTR,P),rt.FORBID_CONTENTS&&(ms===jo&&(ms=he(ms)),Pe(ms,rt.FORBID_CONTENTS,P)),rt.ADD_FORBID_CONTENTS&&(ms===jo&&(ms=he(ms)),Pe(ms,rt.ADD_FORBID_CONTENTS,P)),zo&&(ra["#text"]=!0),ja&&Pe(ra,["html","head","body"]),ra.table&&(Pe(ra,["tbody"]),delete Il.tbody),rt.TRUSTED_TYPES_POLICY){if(typeof rt.TRUSTED_TYPES_POLICY.createHTML!="function")throw ae('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof rt.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ae('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');as=rt.TRUSTED_TYPES_POLICY,ta=as.createHTML("")}else as===void 0&&(as=bn(Mn,Wr)),as!==null&&typeof ta=="string"&&(ta=as.createHTML(""));x&&x(rt),k=rt}},re=Pe({},[...$e,...De,...ct]),xe=Pe({},[...pt,...Ue]),fe=function(rt){let Kt=dn(rt);(!Kt||!Kt.tagName)&&(Kt={namespaceURI:V,tagName:"template"});const Nr=Y(rt.tagName),lr=Y(Kt.tagName);return ce[rt.namespaceURI]?rt.namespaceURI===Vo?Kt.namespaceURI===zt?Nr==="svg":Kt.namespaceURI===io?Nr==="svg"&&(lr==="annotation-xml"||K[lr]):!!re[Nr]:rt.namespaceURI===io?Kt.namespaceURI===zt?Nr==="math":Kt.namespaceURI===Vo?Nr==="math"&&ie[lr]:!!xe[Nr]:rt.namespaceURI===zt?Kt.namespaceURI===Vo&&!ie[lr]||Kt.namespaceURI===io&&!K[lr]?!1:!xe[Nr]&&(me[Nr]||!re[Nr]):!!(je==="application/xhtml+xml"&&ce[rt.namespaceURI]):!1},Ae=function(rt){D(tr.removed,{element:rt});try{dn(rt).removeChild(rt)}catch{Ms(rt)}},ke=function(rt,Kt){try{D(tr.removed,{attribute:Kt.getAttributeNode(rt),from:Kt})}catch{D(tr.removed,{attribute:null,from:Kt})}if(Kt.removeAttribute(rt),rt==="is")if(vi||ei)try{Ae(Kt)}catch{}else try{Kt.setAttribute(rt,"")}catch{}},Ve=function(rt){let Kt=null,Nr=null;if(Ta)rt="<remove></remove>"+rt;else{const _r=te(rt,/^[\r\n\t ]+/);Nr=_r&&_r[0]}je==="application/xhtml+xml"&&V===zt&&(rt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+rt+"</body></html>");const lr=as?as.createHTML(rt):rt;if(V===zt)try{Kt=new An().parseFromString(lr,je)}catch{}if(!Kt||!Kt.documentElement){Kt=Tn.createDocument(V,"template",null);try{Kt.documentElement.innerHTML=se?ta:lr}catch{}}const Mt=Kt.body||Kt.documentElement;return rt&&Nr&&Mt.insertBefore(Qt.createTextNode(Nr),Mt.childNodes[0]||null),V===zt?Qs.call(Kt,ja?"html":"body")[0]:ja?Kt.documentElement:Mt},Je=function(rt){return Ln.call(rt.ownerDocument||rt,rt,on.SHOW_ELEMENT|on.SHOW_COMMENT|on.SHOW_TEXT|on.SHOW_PROCESSING_INSTRUCTION|on.SHOW_CDATA_SECTION,null)},lt=function(rt){return rt instanceof xn&&(typeof rt.nodeName!="string"||typeof rt.textContent!="string"||typeof rt.removeChild!="function"||!(rt.attributes instanceof Vr)||typeof rt.removeAttribute!="function"||typeof rt.setAttribute!="function"||typeof rt.namespaceURI!="string"||typeof rt.insertBefore!="function"||typeof rt.hasChildNodes!="function")},Te=function(rt){return typeof un=="function"&&rt instanceof un};function jt(It,rt,Kt){N(It,Nr=>{Nr.call(tr,rt,Kt,k)})}const ot=function(rt){let Kt=null;if(jt(rs.beforeSanitizeElements,rt,null),lt(rt))return Ae(rt),!0;const Nr=P(rt.nodeName);if(jt(rs.uponSanitizeElement,rt,{tagName:Nr,allowedTags:ra}),ks&&rt.hasChildNodes()&&!Te(rt.firstElementChild)&&ne(/<[/\w!]/g,rt.innerHTML)&&ne(/<[/\w!]/g,rt.textContent)||rt.nodeType===vr.progressingInstruction||ks&&rt.nodeType===vr.comment&&ne(/<[/\w]/g,rt.data))return Ae(rt),!0;if(!(no.tagCheck instanceof Function&&no.tagCheck(Nr))&&(!ra[Nr]||Il[Nr])){if(!Il[Nr]&&nt(Nr)&&($s.tagNameCheck instanceof RegExp&&ne($s.tagNameCheck,Nr)||$s.tagNameCheck instanceof Function&&$s.tagNameCheck(Nr)))return!1;if(zo&&!ms[Nr]){const lr=dn(rt)||rt.parentNode,Mt=ti(rt)||rt.childNodes;if(Mt&&lr){const _r=Mt.length;for(let at=_r-1;at>=0;--at){const At=Cs(Mt[at],!0);At.__removalCount=(rt.__removalCount||0)+1,lr.insertBefore(At,Ns(rt))}}}return Ae(rt),!0}return rt instanceof Yn&&!fe(rt)||(Nr==="noscript"||Nr==="noembed"||Nr==="noframes")&&ne(/<\/no(script|embed|frames)/i,rt.innerHTML)?(Ae(rt),!0):(ui&&rt.nodeType===vr.text&&(Kt=rt.textContent,N([qs,Rs,Qa],lr=>{Kt=de(Kt,lr," ")}),rt.textContent!==Kt&&(D(tr.removed,{element:rt.cloneNode()}),rt.textContent=Kt)),jt(rs.afterSanitizeElements,rt,null),!1)},Nt=function(rt,Kt,Nr){if(wa&&(Kt==="id"||Kt==="name")&&(Nr in Qt||Nr in F))return!1;if(!(Hl&&!vo[Kt]&&ne(hs,Kt))){if(!(gl&&ne(_u,Kt))){if(!(no.attributeCheck instanceof Function&&no.attributeCheck(Kt,rt))){if(!Ws[Kt]||vo[Kt]){if(!(nt(rt)&&($s.tagNameCheck instanceof RegExp&&ne($s.tagNameCheck,rt)||$s.tagNameCheck instanceof Function&&$s.tagNameCheck(rt))&&($s.attributeNameCheck instanceof RegExp&&ne($s.attributeNameCheck,Kt)||$s.attributeNameCheck instanceof Function&&$s.attributeNameCheck(Kt,rt))||Kt==="is"&&$s.allowCustomizedBuiltInElements&&($s.tagNameCheck instanceof RegExp&&ne($s.tagNameCheck,Nr)||$s.tagNameCheck instanceof Function&&$s.tagNameCheck(Nr))))return!1}else if(!qa[Kt]){if(!ne(pl,de(Nr,$l,""))){if(!((Kt==="src"||Kt==="xlink:href"||Kt==="href")&&rt!=="script"&&ye(Nr,"data:")===0&&Va[rt])){if(!(pc&&!ne(ro,de(Nr,$l,"")))){if(Nr)return!1}}}}}}}return!0},nt=function(rt){return rt!=="annotation-xml"&&te(rt,su)},Ot=function(rt){jt(rs.beforeSanitizeAttributes,rt,null);const{attributes:Kt}=rt;if(!Kt||lt(rt))return;const Nr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ws,forceKeepAttr:void 0};let lr=Kt.length;for(;lr--;){const Mt=Kt[lr],{name:_r,namespaceURI:at,value:At}=Mt,Rt=P(_r),Dt=At;let xr=_r==="value"?Dt:we(Dt);if(Nr.attrName=Rt,Nr.attrValue=xr,Nr.keepAttr=!0,Nr.forceKeepAttr=void 0,jt(rs.uponSanitizeAttribute,rt,Nr),xr=Nr.attrValue,Qo&&(Rt==="id"||Rt==="name")&&(ke(_r,rt),xr=Hi+xr),ks&&ne(/((--!?|])>)|<\/(style|title|textarea)/i,xr)){ke(_r,rt);continue}if(Rt==="attributename"&&te(xr,"href")){ke(_r,rt);continue}if(Nr.forceKeepAttr)continue;if(!Nr.keepAttr){ke(_r,rt);continue}if(!zs&&ne(/\/>/i,xr)){ke(_r,rt);continue}ui&&N([qs,Rs,Qa],Mr=>{xr=de(xr,Mr," ")});const Br=P(rt.nodeName);if(!Nt(Br,Rt,xr)){ke(_r,rt);continue}if(as&&typeof Mn=="object"&&typeof Mn.getAttributeType=="function"&&!at)switch(Mn.getAttributeType(Br,Rt)){case"TrustedHTML":{xr=as.createHTML(xr);break}case"TrustedScriptURL":{xr=as.createScriptURL(xr);break}}if(xr!==Dt)try{at?rt.setAttributeNS(at,_r,xr):rt.setAttribute(_r,xr),lt(rt)?Ae(rt):I(tr.removed)}catch{ke(_r,rt)}}jt(rs.afterSanitizeAttributes,rt,null)},qt=function It(rt){let Kt=null;const Nr=Je(rt);for(jt(rs.beforeSanitizeShadowDOM,rt,null);Kt=Nr.nextNode();)jt(rs.uponSanitizeShadowNode,Kt,null),ot(Kt),Ot(Kt),Kt.content instanceof Jr&&It(Kt.content);jt(rs.afterSanitizeShadowDOM,rt,null)};return tr.sanitize=function(It){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Kt=null,Nr=null,lr=null,Mt=null;if(se=!It,se&&(It="<!-->"),typeof It!="string"&&!Te(It))if(typeof It.toString=="function"){if(It=It.toString(),typeof It!="string")throw ae("dirty is not a string, aborting")}else throw ae("toString is not a function");if(!tr.isSupported)return It;if(za||Z(rt),tr.removed=[],typeof It=="string"&&(Ea=!1),Ea){if(It.nodeName){const At=P(It.nodeName);if(!ra[At]||Il[At])throw ae("root node is forbidden and cannot be sanitized in-place")}}else if(It instanceof un)Kt=Ve("<!---->"),Nr=Kt.ownerDocument.importNode(It,!0),Nr.nodeType===vr.element&&Nr.nodeName==="BODY"||Nr.nodeName==="HTML"?Kt=Nr:Kt.appendChild(Nr);else{if(!vi&&!ui&&!ja&&It.indexOf("<")===-1)return as&&fs?as.createHTML(It):It;if(Kt=Ve(It),!Kt)return vi?null:fs?ta:""}Kt&&Ta&&Ae(Kt.firstChild);const _r=Je(Ea?It:Kt);for(;lr=_r.nextNode();)ot(lr),Ot(lr),lr.content instanceof Jr&&qt(lr.content);if(Ea)return It;if(vi){if(ei)for(Mt=Fs.call(Kt.ownerDocument);Kt.firstChild;)Mt.appendChild(Kt.firstChild);else Mt=Kt;return(Ws.shadowroot||Ws.shadowrootmode)&&(Mt=Us.call(dr,Mt,!0)),Mt}let at=ja?Kt.outerHTML:Kt.innerHTML;return ja&&ra["!doctype"]&&Kt.ownerDocument&&Kt.ownerDocument.doctype&&Kt.ownerDocument.doctype.name&&ne(mn,Kt.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+Kt.ownerDocument.doctype.name+`>
`+at),ui&&N([qs,Rs,Qa],At=>{at=de(at,At," ")}),as&&fs?as.createHTML(at):at},tr.setConfig=function(){let It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Z(It),za=!0},tr.clearConfig=function(){k=null,za=!1},tr.isValidAttribute=function(It,rt,Kt){k||Z({});const Nr=P(It),lr=P(rt);return Nt(Nr,lr,Kt)},tr.addHook=function(It,rt){typeof rt=="function"&&D(rs[It],rt)},tr.removeHook=function(It,rt){if(rt!==void 0){const Kt=C(rs[It],rt);return Kt===-1?void 0:M(rs[It],Kt,1)[0]}return I(rs[It])},tr.removeHooks=function(It){rs[It]=[]},tr.removeAllHooks=function(){rs=Un()},tr}var Ht=st()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return E}});var d=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),f=l("./node_modules/pako/dist/pako.esm.mjs"),m=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),p=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),g=l("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),x=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),y=l("./node_modules/fast-png/lib-esm/helpers/text.js"),w=l("./node_modules/fast-png/lib-esm/internalTypes.js");class E extends d.IOBuffer{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(C,I={}){super(C);const{checkCrc:D=!1}=I;this._checkCrc=D,this._inflator=new f.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=w.CompressionMethod.UNKNOWN,this._filterMethod=w.FilterMethod.UNKNOWN,this._interlaceMethod=w.InterlaceMethod.UNKNOWN,this._colorType=w.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,x.checkSignature)(this);!this._end;){const C=this.readUint32(),I=this.readChars(4);this.decodeChunk(C,I)}return this.decodeImage(),this._png}decodeApng(){for((0,x.checkSignature)(this);!this._end;){const C=this.readUint32(),I=this.readChars(4);this.decodeApngChunk(C,I)}return this.decodeApngImage(),this._apng}decodeChunk(C,I){const D=this.offset;switch(I){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(C);break;case"IDAT":this.decodeIDAT(C);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(C);break;case"iCCP":this.decodeiCCP(C);break;case y.textChunkName:(0,y.decodetEXt)(this._png.text,this,C);break;case"pHYs":this.decodepHYs();break;default:this.skip(C);break}if(this.offset-D!==C)throw new Error(`Length mismatch while decoding chunk ${I}`);this._checkCrc?(0,m.checkCrc)(this,C+4,I):this.skip(4)}decodeApngChunk(C,I){const D=this.offset;switch(I!=="fdAT"&&I!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),I){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(C);break;default:this.decodeChunk(C,I),this.offset=D+C;break}if(this.offset-D!==C)throw new Error(`Length mismatch while decoding chunk ${I}`);this._checkCrc?(0,m.checkCrc)(this,C+4,I):this.skip(4)}decodeIHDR(){const C=this._png;C.width=this.readUint32(),C.height=this.readUint32(),C.depth=_(this.readUint8());const I=this.readUint8();this._colorType=I;let D;switch(I){case w.ColorType.GREYSCALE:D=1;break;case w.ColorType.TRUECOLOUR:D=3;break;case w.ColorType.INDEXED_COLOUR:D=1;break;case w.ColorType.GREYSCALE_ALPHA:D=2;break;case w.ColorType.TRUECOLOUR_ALPHA:D=4;break;case w.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${I}`)}if(this._png.channels=D,this._compressionMethod=this.readUint8(),this._compressionMethod!==w.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const C={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(C)}decodePLTE(C){if(C%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${C}`);const I=C/3;this._hasPalette=!0;const D=[];this._palette=D;for(let M=0;M<I;M++)D.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(C){this._writingDataChunks=!0;const I=C,D=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,D,I)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodeFDAT(C){this._writingDataChunks=!0;let I=C,D=this.offset+this.byteOffset;if(D+=4,I-=4,this._inflator.push(new Uint8Array(this.buffer,D,I)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(C)}decodetRNS(C){switch(this._colorType){case w.ColorType.GREYSCALE:case w.ColorType.TRUECOLOUR:{if(C%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${C}`);if(C/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${C/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(C/2);for(let I=0;I<C/2;I++)this._transparency[I]=this.readUint16();break}case w.ColorType.INDEXED_COLOUR:{if(C>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${C} vs ${this._palette.length})`);let I=0;for(;I<C;I++){const D=this.readByte();this._palette[I].push(D)}for(;I<this._palette.length;I++)this._palette[I].push(255);break}case w.ColorType.UNKNOWN:case w.ColorType.GREYSCALE_ALPHA:case w.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(C){const I=(0,y.readKeyword)(this),D=this.readUint8();if(D!==w.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${D}`);const M=this.readBytes(C-I.length-2);this._png.iccEmbeddedProfile={name:I,profile:(0,f.inflate)(M)}}decodepHYs(){const C=this.readUint32(),I=this.readUint32(),D=this.readByte();this._png.resolution={x:C,y:I,unit:D}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let C=0;C<this._numberOfFrames;C++){const I={sequenceNumber:this._frames[C].sequenceNumber,delayNumber:this._frames[C].delayNumber,delayDenominator:this._frames[C].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},D=this._frames.at(C);if(D){if(D.data=(0,g.decodeInterlaceNull)({data:D.data,width:D.width,height:D.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),C===0||D.xOffset===0&&D.yOffset===0&&D.width===this._png.width&&D.height===this._png.height)I.data=D.data;else{const M=this._apng.frames.at(C-1);this.disposeFrame(D,M,I),this.addFrameDataToCanvas(I,D)}this._apng.frames.push(I)}}return this._apng}disposeFrame(C,I,D){switch(C.disposeOp){case w.DisposeOpType.NONE:break;case w.DisposeOpType.BACKGROUND:for(let M=0;M<this._png.height;M++)for(let Y=0;Y<this._png.width;Y++){const X=(M*C.width+Y)*this._png.channels;for(let te=0;te<this._png.channels;te++)D.data[X+te]=0}break;case w.DisposeOpType.PREVIOUS:D.data.set(I.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(C,I){const D=1<<this._png.depth,M=(Y,X)=>{const te=((Y+I.yOffset)*this._png.width+I.xOffset+X)*this._png.channels,de=(Y*I.width+X)*this._png.channels;return{index:te,frameIndex:de}};switch(I.blendOp){case w.BlendOpType.SOURCE:for(let Y=0;Y<I.height;Y++)for(let X=0;X<I.width;X++){const{index:te,frameIndex:de}=M(Y,X);for(let ye=0;ye<this._png.channels;ye++)C.data[te+ye]=I.data[de+ye]}break;case w.BlendOpType.OVER:for(let Y=0;Y<I.height;Y++)for(let X=0;X<I.width;X++){const{index:te,frameIndex:de}=M(Y,X);for(let ye=0;ye<this._png.channels;ye++){const we=I.data[de+this._png.channels-1]/D,ve=ye%(this._png.channels-1)===0?1:I.data[de+ye],ne=Math.floor(we*ve+(1-we)*C.data[te+ye]);C.data[te+ye]+=ne}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const C=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==w.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===w.InterlaceMethod.NO_INTERLACE)this._png.data=(0,g.decodeInterlaceNull)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===w.InterlaceMethod.ADAM7)this._png.data=(0,p.decodeInterlaceAdam7)({data:C,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const C=this._inflator.result,I=this._frames.at(-1);I?I.data=C:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:w.DisposeOpType.NONE,blendOp:w.BlendOpType.SOURCE,data:C}),this._inflator=new f.Inflate,this._writingDataChunks=!1}}function _(N){if(N!==1&&N!==2&&N!==4&&N!==8&&N!==16)throw new Error(`invalid bit depth: ${N}`);return N}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(c,u,l){l.r(u),l.d(u,{default:function(){return w}});var d=l("./node_modules/iobuffer/lib-esm/IOBuffer.js"),f=l("./node_modules/pako/dist/pako.esm.mjs"),m=l("./node_modules/fast-png/lib-esm/helpers/crc.js"),p=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),g=l("./node_modules/fast-png/lib-esm/helpers/text.js"),x=l("./node_modules/fast-png/lib-esm/internalTypes.js");const y={level:3};class w extends d.IOBuffer{_png;_zlibOptions;_colorType;_interlaceMethod;constructor(M,Y={}){super(),this._colorType=x.ColorType.UNKNOWN,this._zlibOptions={...y,...Y.zlib},this._png=this._checkData(M),this._interlaceMethod=(Y.interlace==="Adam7"?x.InterlaceMethod.ADAM7:x.InterlaceMethod.NO_INTERLACE)??x.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,p.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[M,Y]of Object.entries(this._png.text))(0,g.encodetEXt)(this,M,Y);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(x.CompressionMethod.DEFLATE),this.writeByte(x.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,m.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,m.writeCrc)(this,4)}encodePLTE(){const M=this._png.palette?.length*3;this.writeUint32(M),this.writeChars("PLTE");for(const Y of this._png.palette)this.writeByte(Y[0]),this.writeByte(Y[1]),this.writeByte(Y[2]);(0,m.writeCrc)(this,4+M)}encodeTRNS(){const M=this._png.palette.filter(Y=>Y.at(-1)!==255);this.writeUint32(M.length),this.writeChars("tRNS");for(const Y of M)this.writeByte(Y.at(-1));(0,m.writeCrc)(this,4+M.length)}encodeIDAT(M){this.writeUint32(M.length),this.writeChars("IDAT"),this.writeBytes(M),(0,m.writeCrc)(this,M.length+4)}encodeData(){const{width:M,height:Y,channels:X,depth:te,data:de}=this._png,ye=te<=8?Math.ceil(M*te/8)*X:Math.ceil(M*te/8*X/2),we=new d.IOBuffer().setBigEndian();let ve=0;if(this._interlaceMethod===x.InterlaceMethod.NO_INTERLACE)for(let oe=0;oe<Y;oe++)we.writeByte(0),te===16?ve=I(de,we,ye,ve):ve=N(de,we,ye,ve);else this._interlaceMethod===x.InterlaceMethod.ADAM7&&(ve=C(this._png,de,we,ve));const ne=we.toArray(),ae=(0,f.deflate)(ne,this._zlibOptions);this.encodeIDAT(ae)}_checkData(M){const{colorType:Y,channels:X,depth:te}=_(M,M.palette),de={width:E(M.width,"width"),height:E(M.height,"height"),channels:X,data:M.data,depth:te,text:M.text,palette:M.palette};this._colorType=Y;const ye=te<8?Math.ceil(de.width*te/8)*de.height*X:de.width*de.height*X;if(de.data.length!==ye)throw new RangeError(`wrong data size. Found ${de.data.length}, expected ${ye}`);return de}}function E(D,M){if(Number.isInteger(D)&&D>0)return D;throw new TypeError(`${M} must be a positive integer`)}function _(D,M){const{channels:Y=4,depth:X=8}=D;if(Y!==4&&Y!==3&&Y!==2&&Y!==1)throw new RangeError(`unsupported number of channels: ${Y}`);const te={channels:Y,depth:X,colorType:x.ColorType.UNKNOWN};switch(Y){case 4:te.colorType=x.ColorType.TRUECOLOUR_ALPHA;break;case 3:te.colorType=x.ColorType.TRUECOLOUR;break;case 1:M?te.colorType=x.ColorType.INDEXED_COLOUR:te.colorType=x.ColorType.GREYSCALE;break;case 2:te.colorType=x.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return te}function N(D,M,Y,X){for(let te=0;te<Y;te++)M.writeByte(D[X++]);return X}function C(D,M,Y,X){const te=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:de,height:ye,channels:we,depth:ve}=D;let ne=0;ve===16?ne=we*ve/8/2:ne=we*ve/8;for(let ae=0;ae<7;ae++){const oe=te[ae],Re=Math.floor((de-oe.x+oe.xStep-1)/oe.xStep),Pe=Math.floor((ye-oe.y+oe.yStep-1)/oe.yStep);if(Re<=0||Pe<=0)continue;const be=Re*ne;for(let he=0;he<Pe;he++){const Ie=oe.y+he*oe.yStep,Oe=ve<=8?new Uint8Array(be):new Uint16Array(be);let $e=0;for(let De=0;De<Re;De++){const ct=oe.x+De*oe.xStep;if(ct<de&&Ie<ye){const pt=(Ie*de+ct)*ne;for(let Ue=0;Ue<ne;Ue++)Oe[$e++]=M[pt+Ue]}}if(Y.writeByte(0),ve===8)Y.writeBytes(Oe);else if(ve===16)for(const De of Oe)Y.writeByte(De>>8&255),Y.writeByte(De&255)}}return X}function I(D,M,Y,X){for(let te=0;te<Y;te++)M.writeUint16(D[X++]);return X}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(c,u,l){l.r(u),l.d(u,{convertIndexedToRgb:function(){return d}});function d(m){const p=m.palette,g=m.depth;if(!p)throw new Error("Color palette is undefined.");f(m);const x=m.width*m.height,y=x*p[0].length,w=new Uint8Array(y);let E=0,_=0;const N=new Uint8Array(x);let C=255;switch(g){case 1:C=128;break;case 2:C=192;break;case 4:C=240;break;case 8:C=255;break;default:throw new Error("Incorrect depth value")}for(const I of m.data){let D=C,M=8;for(;D&&(M-=g,N[E++]=(I&D)>>M,D=D>>g,E%m.width!==0););}if(m.palette)for(const I of N){const D=m.palette.at(I);if(!D)throw new Error("Incorrect index of palette color");w.set(D,_),_+=D.length}return w}function f(m){const p=m.depth<8?Math.ceil(m.width*m.depth/8)*m.height*m.channels:m.width*m.height*m.channels;if(m.data.length!==p)throw new RangeError(`wrong data size. Found ${m.data.length}, expected ${p}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(c,u,l){l.r(u),l.d(u,{applyUnfilter:function(){return f}});var d=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function f(m,p,g,x,y,w){switch(m){case 0:(0,d.unfilterNone)(p,g,y);break;case 1:(0,d.unfilterSub)(p,g,y,w);break;case 2:(0,d.unfilterUp)(p,g,x,y);break;case 3:(0,d.unfilterAverage)(p,g,x,y,w);break;case 4:(0,d.unfilterPaeth)(p,g,x,y,w);break;default:throw new Error(`Unsupported filter: ${m}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(c,u,l){l.r(u),l.d(u,{checkCrc:function(){return g},writeCrc:function(){return x}});const d=[];for(let y=0;y<256;y++){let w=y;for(let E=0;E<8;E++)w&1?w=3988292384^w>>>1:w=w>>>1;d[y]=w}const f=4294967295;function m(y,w,E){let _=y;for(let N=0;N<E;N++)_=d[(_^w[N])&255]^_>>>8;return _}function p(y,w){return(m(f,y,w)^f)>>>0}function g(y,w,E){const _=y.readUint32(),N=p(new Uint8Array(y.buffer,y.byteOffset+y.offset-w-4,w),w);if(N!==_)throw new Error(`CRC mismatch for chunk ${E}. Expected ${_}, found ${N}`)}function x(y,w){y.writeUint32(p(new Uint8Array(y.buffer,y.byteOffset+y.offset-w,w),w))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(c,u,l){l.r(u),l.d(u,{decodeInterlaceAdam7:function(){return g}});var d=l("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const f=new Uint16Array([255]),p=new Uint8Array(f.buffer)[0]===255;function g(y){const{data:w,width:E,height:_,channels:N,depth:C}=y,I=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],D=Math.ceil(C/8)*N,M=new Uint8Array(_*E*D);let Y=0;for(let X=0;X<7;X++){const te=I[X],de=Math.ceil((E-te.x)/te.xStep),ye=Math.ceil((_-te.y)/te.yStep);if(de<=0||ye<=0)continue;const we=de*D,ve=new Uint8Array(we);for(let ne=0;ne<ye;ne++){const ae=w[Y++],oe=w.subarray(Y,Y+we);Y+=we;const Re=new Uint8Array(we);(0,d.applyUnfilter)(ae,oe,Re,ve,we,D),ve.set(Re);for(let Pe=0;Pe<de;Pe++){const be=te.x+Pe*te.xStep,he=te.y+ne*te.yStep;if(!(be>=E||he>=_))for(let Ie=0;Ie<D;Ie++)M[(he*E+be)*D+Ie]=Re[Pe*D+Ie]}}}if(C===16){const X=new Uint16Array(M.buffer);if(p)for(let te=0;te<X.length;te++)X[te]=x(X[te]);return X}else return M}function x(y){return(y&255)<<8|y>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(c,u,l){l.r(u),l.d(u,{decodeInterlaceNull:function(){return x}});var d=l("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const f=new Uint16Array([255]),p=new Uint8Array(f.buffer)[0]===255,g=new Uint8Array(0);function x(w){const{data:E,width:_,height:N,channels:C,depth:I}=w,D=Math.ceil(I/8)*C,M=Math.ceil(I/8*C*_),Y=new Uint8Array(N*M);let X=g,te=0,de,ye;for(let we=0;we<N;we++){switch(de=E.subarray(te+1,te+1+M),ye=Y.subarray(we*M,(we+1)*M),E[te]){case 0:(0,d.unfilterNone)(de,ye,M);break;case 1:(0,d.unfilterSub)(de,ye,M,D);break;case 2:(0,d.unfilterUp)(de,ye,X,M);break;case 3:(0,d.unfilterAverage)(de,ye,X,M,D);break;case 4:(0,d.unfilterPaeth)(de,ye,X,M,D);break;default:throw new Error(`Unsupported filter: ${E[te]}`)}X=ye,te+=M+1}if(I===16){const we=new Uint16Array(Y.buffer);if(p)for(let ve=0;ve<we.length;ve++)we[ve]=y(we[ve]);return we}else return Y}function y(w){return(w&255)<<8|w>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(c,u,l){l.r(u),l.d(u,{checkSignature:function(){return m},hasPngSignature:function(){return p},writeSignature:function(){return f}});const d=Uint8Array.of(137,80,78,71,13,10,26,10);function f(g){g.writeBytes(d)}function m(g){if(!p(g.readBytes(d.length)))throw new Error("wrong PNG signature")}function p(g){if(g.length<d.length)return!1;for(let x=0;x<d.length;x++)if(g[x]!==d[x])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(c,u,l){l.r(u),l.d(u,{decodetEXt:function(){return w},encodetEXt:function(){return E},readKeyword:function(){return _},readLatin1:function(){return N},textChunkName:function(){return f}});var d=l("./node_modules/fast-png/lib-esm/helpers/crc.js");const f="tEXt",m=0,p=new TextDecoder("latin1");function g(C){if(y(C),C.length===0||C.length>79)throw new Error("keyword length must be between 1 and 79")}const x=/^[\u0000-\u00FF]*$/;function y(C){if(!x.test(C))throw new Error("invalid latin1 text")}function w(C,I,D){const M=_(I);C[M]=N(I,D-M.length-1)}function E(C,I,D){g(I),y(D);const M=I.length+1+D.length;C.writeUint32(M),C.writeChars(f),C.writeChars(I),C.writeByte(m),C.writeChars(D),(0,d.writeCrc)(C,M+4)}function _(C){for(C.mark();C.readByte()!==m;);const I=C.offset;C.reset();const D=p.decode(C.readBytes(I-C.offset-1));return C.skip(1),g(D),D}function N(C,I){return p.decode(C.readBytes(I))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(c,u,l){l.r(u),l.d(u,{unfilterAverage:function(){return p},unfilterNone:function(){return d},unfilterPaeth:function(){return g},unfilterSub:function(){return f},unfilterUp:function(){return m}});function d(y,w,E){for(let _=0;_<E;_++)w[_]=y[_]}function f(y,w,E,_){let N=0;for(;N<_;N++)w[N]=y[N];for(;N<E;N++)w[N]=y[N]+w[N-_]&255}function m(y,w,E,_){let N=0;if(E.length===0)for(;N<_;N++)w[N]=y[N];else for(;N<_;N++)w[N]=y[N]+E[N]&255}function p(y,w,E,_,N){let C=0;if(E.length===0){for(;C<N;C++)w[C]=y[C];for(;C<_;C++)w[C]=y[C]+(w[C-N]>>1)&255}else{for(;C<N;C++)w[C]=y[C]+(E[C]>>1)&255;for(;C<_;C++)w[C]=y[C]+(w[C-N]+E[C]>>1)&255}}function g(y,w,E,_,N){let C=0;if(E.length===0){for(;C<N;C++)w[C]=y[C];for(;C<_;C++)w[C]=y[C]+w[C-N]&255}else{for(;C<N;C++)w[C]=y[C]+E[C]&255;for(;C<_;C++)w[C]=y[C]+x(w[C-N],E[C],E[C-N])&255}}function x(y,w,E){const _=y+w-E,N=Math.abs(_-y),C=Math.abs(_-w),I=Math.abs(_-E);return N<=C&&N<=I?y:C<=I?w:E}}),"./node_modules/fast-png/lib-esm/index.js":(function(c,u,l){l.r(u),l.d(u,{ResolutionUnitSpecifier:function(){return p.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return g.convertIndexedToRgb},decode:function(){return x},decodeApng:function(){return w},encode:function(){return y},hasPngSignature:function(){return m.hasPngSignature}});var d=l("./node_modules/fast-png/lib-esm/PngDecoder.js"),f=l("./node_modules/fast-png/lib-esm/PngEncoder.js"),m=l("./node_modules/fast-png/lib-esm/helpers/signature.js"),p=l("./node_modules/fast-png/lib-esm/types.js"),g=l("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function x(E,_){return new d.default(E,_).decode()}function y(E,_){return new f.default(E,_).encode()}function w(E,_){return new d.default(E,_).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(c,u,l){l.r(u),l.d(u,{BlendOpType:function(){return x},ColorType:function(){return d},CompressionMethod:function(){return f},DisposeOpType:function(){return g},FilterMethod:function(){return m},InterlaceMethod:function(){return p}});const d={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},f={UNKNOWN:-1,DEFLATE:0},m={UNKNOWN:-1,ADAPTIVE:0},p={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},g={NONE:0,BACKGROUND:1,PREVIOUS:2},x={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(c,u,l){l.r(u),l.d(u,{ResolutionUnitSpecifier:function(){return d}});var d;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.METRE=1]="METRE"})(d||(d={}))}),"./node_modules/fflate/esm/browser.js":(function(c,u,l){l.r(u),l.d(u,{AsyncCompress:function(){return rs},AsyncDecompress:function(){return vo},AsyncDeflate:function(){return dn},AsyncGunzip:function(){return hs},AsyncGzip:function(){return rs},AsyncInflate:function(){return Ln},AsyncUnzipInflate:function(){return Vo},AsyncUnzlib:function(){return Ws},AsyncZipDeflate:function(){return jo},AsyncZlib:function(){return su},Compress:function(){return Us},DecodeUTF8:function(){return ja},Decompress:function(){return Il},Deflate:function(){return ti},EncodeUTF8:function(){return za},FlateErrorCode:function(){return Oe},Gunzip:function(){return Qa},Gzip:function(){return Us},Inflate:function(){return Tn},Unzip:function(){return zt},UnzipInflate:function(){return io},UnzipPassThrough:function(){return xo},Unzlib:function(){return Ya},Zip:function(){return Va},ZipDeflate:function(){return ms},ZipPassThrough:function(){return Xs},Zlib:function(){return $l},compress:function(){return qs},compressSync:function(){return Rs},decompress:function(){return no},decompressSync:function(){return gl},deflate:function(){return as},deflateSync:function(){return ta},gunzip:function(){return _u},gunzipSync:function(){return ro},gzip:function(){return qs},gzipSync:function(){return Rs},inflate:function(){return Fs},inflateSync:function(){return Qs},strFromU8:function(){return vi},strToU8:function(){return Ta},unzip:function(){return se},unzipSync:function(){return ce},unzlib:function(){return ba},unzlibSync:function(){return $s},zip:function(){return Vs},zipSync:function(){return qa},zlib:function(){return pl},zlibSync:function(){return ra}});var d={},f=(function($,K,ie,me,je){var Qe=new Worker(d[K]||(d[K]=URL.createObjectURL(new Blob([$+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Qe.onmessage=function(ut){var P=ut.data,k=P.$e$;if(k){var F=new Error(k[0]);F.code=k[1],F.stack=k[2],je(F,null)}else je(null,P)},Qe.postMessage(ie,me),Qe}),m=Uint8Array,p=Uint16Array,g=Int32Array,x=new m([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y=new m([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),w=new m([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=function($,K){for(var ie=new p(31),me=0;me<31;++me)ie[me]=K+=1<<$[me-1];for(var je=new g(ie[30]),me=1;me<30;++me)for(var Qe=ie[me];Qe<ie[me+1];++Qe)je[Qe]=Qe-ie[me]<<5|me;return{b:ie,r:je}},_=E(x,2),N=_.b,C=_.r;N[28]=258,C[258]=28;for(var I=E(y,0),D=I.b,M=I.r,Y=new p(32768),X=0;X<32768;++X){var te=(X&43690)>>1|(X&21845)<<1;te=(te&52428)>>2|(te&13107)<<2,te=(te&61680)>>4|(te&3855)<<4,Y[X]=((te&65280)>>8|(te&255)<<8)>>1}for(var de=(function($,K,ie){for(var me=$.length,je=0,Qe=new p(K);je<me;++je)$[je]&&++Qe[$[je]-1];var ut=new p(K);for(je=1;je<K;++je)ut[je]=ut[je-1]+Qe[je-1]<<1;var P;if(ie){P=new p(1<<K);var k=15-K;for(je=0;je<me;++je)if($[je])for(var F=je<<4|$[je],G=K-$[je],Z=ut[$[je]-1]++<<G,re=Z|(1<<G)-1;Z<=re;++Z)P[Y[Z]>>k]=F}else for(P=new p(me),je=0;je<me;++je)$[je]&&(P[je]=Y[ut[$[je]-1]++]>>15-$[je]);return P}),ye=new m(288),X=0;X<144;++X)ye[X]=8;for(var X=144;X<256;++X)ye[X]=9;for(var X=256;X<280;++X)ye[X]=7;for(var X=280;X<288;++X)ye[X]=8;for(var we=new m(32),X=0;X<32;++X)we[X]=5;var ve=de(ye,9,0),ne=de(ye,9,1),ae=de(we,5,0),oe=de(we,5,1),Re=function($){for(var K=$[0],ie=1;ie<$.length;++ie)$[ie]>K&&(K=$[ie]);return K},Pe=function($,K,ie){var me=K/8|0;return($[me]|$[me+1]<<8)>>(K&7)&ie},be=function($,K){var ie=K/8|0;return($[ie]|$[ie+1]<<8|$[ie+2]<<16)>>(K&7)},he=function($){return($+7)/8|0},Ie=function($,K,ie){return(K==null||K<0)&&(K=0),(ie==null||ie>$.length)&&(ie=$.length),new m($.subarray(K,ie))},Oe={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},$e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],De=function($,K,ie){var me=new Error(K||$e[$]);if(me.code=$,Error.captureStackTrace&&Error.captureStackTrace(me,De),!ie)throw me;return me},ct=function($,K,ie,me){var je=$.length,Qe=me?me.length:0;if(!je||K.f&&!K.l)return ie||new m(0);var ut=!ie,P=ut||K.i!=2,k=K.i;ut&&(ie=new m(je*3));var F=function(Lt){var Wt=ie.length;if(Lt>Wt){var Xt=new m(Math.max(Wt*2,Lt));Xt.set(ie),ie=Xt}},G=K.f||0,Z=K.p||0,re=K.b||0,xe=K.l,fe=K.d,Ae=K.m,ke=K.n,Ve=je*8;do{if(!xe){G=Pe($,Z,1);var Je=Pe($,Z+1,3);if(Z+=3,Je)if(Je==1)xe=ne,fe=oe,Ae=9,ke=5;else if(Je==2){var ot=Pe($,Z,31)+257,Nt=Pe($,Z+10,15)+4,nt=ot+Pe($,Z+5,31)+1;Z+=14;for(var Ot=new m(nt),qt=new m(19),It=0;It<Nt;++It)qt[w[It]]=Pe($,Z+It*3,7);Z+=Nt*3;for(var rt=Re(qt),Kt=(1<<rt)-1,Nr=de(qt,rt,1),It=0;It<nt;){var lr=Nr[Pe($,Z,Kt)];Z+=lr&15;var lt=lr>>4;if(lt<16)Ot[It++]=lt;else{var Mt=0,_r=0;for(lt==16?(_r=3+Pe($,Z,3),Z+=2,Mt=Ot[It-1]):lt==17?(_r=3+Pe($,Z,7),Z+=3):lt==18&&(_r=11+Pe($,Z,127),Z+=7);_r--;)Ot[It++]=Mt}}var at=Ot.subarray(0,ot),At=Ot.subarray(ot);Ae=Re(at),ke=Re(At),xe=de(at,Ae,1),fe=de(At,ke,1)}else De(1);else{var lt=he(Z)+4,Te=$[lt-4]|$[lt-3]<<8,jt=lt+Te;if(jt>je){k&&De(0);break}P&&F(re+Te),ie.set($.subarray(lt,jt),re),K.b=re+=Te,K.p=Z=jt*8,K.f=G;continue}if(Z>Ve){k&&De(0);break}}P&&F(re+131072);for(var Rt=(1<<Ae)-1,Dt=(1<<ke)-1,xr=Z;;xr=Z){var Mt=xe[be($,Z)&Rt],Br=Mt>>4;if(Z+=Mt&15,Z>Ve){k&&De(0);break}if(Mt||De(2),Br<256)ie[re++]=Br;else if(Br==256){xr=Z,xe=null;break}else{var Mr=Br-254;if(Br>264){var It=Br-257,ur=x[It];Mr=Pe($,Z,(1<<ur)-1)+N[It],Z+=ur}var Rr=fe[be($,Z)&Dt],gn=Rr>>4;Rr||De(3),Z+=Rr&15;var At=D[gn];if(gn>3){var ur=y[gn];At+=be($,Z)&(1<<ur)-1,Z+=ur}if(Z>Ve){k&&De(0);break}P&&F(re+131072);var an=re+Mr;if(re<At){var Xe=Qe-At,Ct=Math.min(At,an);for(Xe+re<0&&De(3);re<Ct;++re)ie[re]=me[Xe+re]}for(;re<an;++re)ie[re]=ie[re-At]}}K.l=xe,K.p=xr,K.b=re,K.f=G,xe&&(G=1,K.m=Ae,K.d=fe,K.n=ke)}while(!G);return re!=ie.length&&ut?Ie(ie,0,re):ie.subarray(0,re)},pt=function($,K,ie){ie<<=K&7;var me=K/8|0;$[me]|=ie,$[me+1]|=ie>>8},Ue=function($,K,ie){ie<<=K&7;var me=K/8|0;$[me]|=ie,$[me+1]|=ie>>8,$[me+2]|=ie>>16},He=function($,K){for(var ie=[],me=0;me<$.length;++me)$[me]&&ie.push({s:me,f:$[me]});var je=ie.length,Qe=ie.slice();if(!je)return{t:gt,l:0};if(je==1){var ut=new m(ie[0].s+1);return ut[ie[0].s]=1,{t:ut,l:1}}ie.sort(function(jt,ot){return jt.f-ot.f}),ie.push({s:-1,f:25001});var P=ie[0],k=ie[1],F=0,G=1,Z=2;for(ie[0]={s:-1,f:P.f+k.f,l:P,r:k};G!=je-1;)P=ie[ie[F].f<ie[Z].f?F++:Z++],k=ie[F!=G&&ie[F].f<ie[Z].f?F++:Z++],ie[G++]={s:-1,f:P.f+k.f,l:P,r:k};for(var re=Qe[0].s,me=1;me<je;++me)Qe[me].s>re&&(re=Qe[me].s);var xe=new p(re+1),fe=Ye(ie[G-1],xe,0);if(fe>K){var me=0,Ae=0,ke=fe-K,Ve=1<<ke;for(Qe.sort(function(ot,Nt){return xe[Nt.s]-xe[ot.s]||ot.f-Nt.f});me<je;++me){var Je=Qe[me].s;if(xe[Je]>K)Ae+=Ve-(1<<fe-xe[Je]),xe[Je]=K;else break}for(Ae>>=ke;Ae>0;){var lt=Qe[me].s;xe[lt]<K?Ae-=1<<K-xe[lt]++-1:++me}for(;me>=0&&Ae;--me){var Te=Qe[me].s;xe[Te]==K&&(--xe[Te],++Ae)}fe=K}return{t:new m(xe),l:fe}},Ye=function($,K,ie){return $.s==-1?Math.max(Ye($.l,K,ie+1),Ye($.r,K,ie+1)):K[$.s]=ie},Se=function($){for(var K=$.length;K&&!$[--K];);for(var ie=new p(++K),me=0,je=$[0],Qe=1,ut=function(k){ie[me++]=k},P=1;P<=K;++P)if($[P]==je&&P!=K)++Qe;else{if(!je&&Qe>2){for(;Qe>138;Qe-=138)ut(32754);Qe>2&&(ut(Qe>10?Qe-11<<5|28690:Qe-3<<5|12305),Qe=0)}else if(Qe>3){for(ut(je),--Qe;Qe>6;Qe-=6)ut(8304);Qe>2&&(ut(Qe-3<<5|8208),Qe=0)}for(;Qe--;)ut(je);Qe=1,je=$[P]}return{c:ie.subarray(0,me),n:K}},mt=function($,K){for(var ie=0,me=0;me<K.length;++me)ie+=$[me]*K[me];return ie},qe=function($,K,ie){var me=ie.length,je=he(K+2);$[je]=me&255,$[je+1]=me>>8,$[je+2]=$[je]^255,$[je+3]=$[je+1]^255;for(var Qe=0;Qe<me;++Qe)$[je+Qe+4]=ie[Qe];return(je+4+me)*8},Tt=function($,K,ie,me,je,Qe,ut,P,k,F,G){pt(K,G++,ie),++je[256];for(var Z=He(je,15),re=Z.t,xe=Z.l,fe=He(Qe,15),Ae=fe.t,ke=fe.l,Ve=Se(re),Je=Ve.c,lt=Ve.n,Te=Se(Ae),jt=Te.c,ot=Te.n,Nt=new p(19),nt=0;nt<Je.length;++nt)++Nt[Je[nt]&31];for(var nt=0;nt<jt.length;++nt)++Nt[jt[nt]&31];for(var Ot=He(Nt,7),qt=Ot.t,It=Ot.l,rt=19;rt>4&&!qt[w[rt-1]];--rt);var Kt=F+5<<3,Nr=mt(je,ye)+mt(Qe,we)+ut,lr=mt(je,re)+mt(Qe,Ae)+ut+14+3*rt+mt(Nt,qt)+2*Nt[16]+3*Nt[17]+7*Nt[18];if(k>=0&&Kt<=Nr&&Kt<=lr)return qe(K,G,$.subarray(k,k+F));var Mt,_r,at,At;if(pt(K,G,1+(lr<Nr)),G+=2,lr<Nr){Mt=de(re,xe,0),_r=re,at=de(Ae,ke,0),At=Ae;var Rt=de(qt,It,0);pt(K,G,lt-257),pt(K,G+5,ot-1),pt(K,G+10,rt-4),G+=14;for(var nt=0;nt<rt;++nt)pt(K,G+3*nt,qt[w[nt]]);G+=3*rt;for(var Dt=[Je,jt],xr=0;xr<2;++xr)for(var Br=Dt[xr],nt=0;nt<Br.length;++nt){var Mr=Br[nt]&31;pt(K,G,Rt[Mr]),G+=qt[Mr],Mr>15&&(pt(K,G,Br[nt]>>5&127),G+=Br[nt]>>12)}}else Mt=ve,_r=ye,at=ae,At=we;for(var nt=0;nt<P;++nt){var ur=me[nt];if(ur>255){var Mr=ur>>18&31;Ue(K,G,Mt[Mr+257]),G+=_r[Mr+257],Mr>7&&(pt(K,G,ur>>23&31),G+=x[Mr]);var Rr=ur&31;Ue(K,G,at[Rr]),G+=At[Rr],Rr>3&&(Ue(K,G,ur>>5&8191),G+=y[Rr])}else Ue(K,G,Mt[ur]),G+=_r[ur]}return Ue(K,G,Mt[256]),G+_r[256]},bt=new g([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gt=new m(0),wt=function($,K,ie,me,je,Qe){var ut=Qe.z||$.length,P=new m(me+ut+5*(1+Math.ceil(ut/7e3))+je),k=P.subarray(me,P.length-je),F=Qe.l,G=(Qe.r||0)&7;if(K){G&&(k[0]=Qe.r>>3);for(var Z=bt[K-1],re=Z>>13,xe=Z&8191,fe=(1<<ie)-1,Ae=Qe.p||new p(32768),ke=Qe.h||new p(fe+1),Ve=Math.ceil(ie/3),Je=2*Ve,lt=function(mr){return($[mr]^$[mr+1]<<Ve^$[mr+2]<<Je)&fe},Te=new g(25e3),jt=new p(288),ot=new p(32),Nt=0,nt=0,Ot=Qe.i||0,qt=0,It=Qe.w||0,rt=0;Ot+2<ut;++Ot){var Kt=lt(Ot),Nr=Ot&32767,lr=ke[Kt];if(Ae[Nr]=lr,ke[Kt]=Nr,It<=Ot){var Mt=ut-Ot;if((Nt>7e3||qt>24576)&&(Mt>423||!F)){G=Tt($,k,0,Te,jt,ot,nt,qt,rt,Ot-rt,G),qt=Nt=nt=0,rt=Ot;for(var _r=0;_r<286;++_r)jt[_r]=0;for(var _r=0;_r<30;++_r)ot[_r]=0}var at=2,At=0,Rt=xe,Dt=Nr-lr&32767;if(Mt>2&&Kt==lt(Ot-Dt))for(var xr=Math.min(re,Mt)-1,Br=Math.min(32767,Ot),Mr=Math.min(258,Mt);Dt<=Br&&--Rt&&Nr!=lr;){if($[Ot+at]==$[Ot+at-Dt]){for(var ur=0;ur<Mr&&$[Ot+ur]==$[Ot+ur-Dt];++ur);if(ur>at){if(at=ur,At=Dt,ur>xr)break;for(var Rr=Math.min(Dt,ur-2),gn=0,_r=0;_r<Rr;++_r){var an=Ot-Dt+_r&32767,Xe=Ae[an],Ct=an-Xe&32767;Ct>gn&&(gn=Ct,lr=an)}}}Nr=lr,lr=Ae[Nr],Dt+=Nr-lr&32767}if(At){Te[qt++]=268435456|C[at]<<18|M[At];var Lt=C[at]&31,Wt=M[At]&31;nt+=x[Lt]+y[Wt],++jt[257+Lt],++ot[Wt],It=Ot+at,++Nt}else Te[qt++]=$[Ot],++jt[$[Ot]]}}for(Ot=Math.max(Ot,It);Ot<ut;++Ot)Te[qt++]=$[Ot],++jt[$[Ot]];G=Tt($,k,F,Te,jt,ot,nt,qt,rt,Ot-rt,G),F||(Qe.r=G&7|k[G/8|0]<<3,G-=7,Qe.h=ke,Qe.p=Ae,Qe.i=Ot,Qe.w=It)}else{for(var Ot=Qe.w||0;Ot<ut+F;Ot+=65535){var Xt=Ot+65535;Xt>=ut&&(k[G/8|0]=F,Xt=ut),G=qe(k,G+1,$.subarray(Ot,Xt))}Qe.i=ut}return Ie(P,0,me+he(G)+je)},rr=(function(){for(var $=new Int32Array(256),K=0;K<256;++K){for(var ie=K,me=9;--me;)ie=(ie&1&&-306674912)^ie>>>1;$[K]=ie}return $})(),Jt=function(){var $=-1;return{p:function(K){for(var ie=$,me=0;me<K.length;++me)ie=rr[ie&255^K[me]]^ie>>>8;$=ie},d:function(){return~$}}},ar=function(){var $=1,K=0;return{p:function(ie){for(var me=$,je=K,Qe=ie.length|0,ut=0;ut!=Qe;){for(var P=Math.min(ut+2655,Qe);ut<P;++ut)je+=me+=ie[ut];me=(me&65535)+15*(me>>16),je=(je&65535)+15*(je>>16)}$=me,K=je},d:function(){return $%=65521,K%=65521,($&255)<<24|($&65280)<<8|(K&255)<<8|K>>8}}},Dr=function($,K,ie,me,je){if(!je&&(je={l:1},K.dictionary)){var Qe=K.dictionary.subarray(-32768),ut=new m(Qe.length+$.length);ut.set(Qe),ut.set($,Qe.length),$=ut,je.w=Qe.length}return wt($,K.level==null?6:K.level,K.mem==null?je.l?Math.ceil(Math.max(8,Math.min(13,Math.log($.length)))*1.5):20:12+K.mem,ie,me,je)},mn=function($,K){var ie={};for(var me in $)ie[me]=$[me];for(var me in K)ie[me]=K[me];return ie},$r=function($,K,ie){for(var me=$(),je=$.toString(),Qe=je.slice(je.indexOf("[")+1,je.lastIndexOf("]")).replace(/\s+/g,"").split(","),ut=0;ut<me.length;++ut){var P=me[ut],k=Qe[ut];if(typeof P=="function"){K+=";"+k+"=";var F=P.toString();if(P.prototype)if(F.indexOf("[native code]")!=-1){var G=F.indexOf(" ",8)+1;K+=F.slice(G,F.indexOf("(",G))}else{K+=F;for(var Z in P.prototype)K+=";"+k+".prototype."+Z+"="+P.prototype[Z].toString()}else K+=F}else ie[k]=P}return K},or=[],vr=function($){var K=[];for(var ie in $)$[ie].buffer&&K.push(($[ie]=new $[ie].constructor($[ie])).buffer);return K},cn=function($,K,ie,me){if(!or[ie]){for(var je="",Qe={},ut=$.length-1,P=0;P<ut;++P)je=$r($[P],je,Qe);or[ie]={c:$r($[ut],je,Qe),e:Qe}}var k=mn({},or[ie].e);return f(or[ie].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+K.toString()+"}",ie,k,vr(k),me)},bn=function(){return[m,p,g,x,y,w,N,D,ne,oe,Y,$e,de,Re,Pe,be,he,Ie,De,ct,Qs,Qt,dr]},Un=function(){return[m,p,g,x,y,w,C,M,ve,ye,ae,we,Y,bt,gt,de,pt,Ue,He,Ye,Se,mt,qe,Tt,he,Ie,wt,Dr,ta,Qt]},st=function(){return[xn,ci,Vr,Jt,rr]},Ht=function(){return[An,Mn]},Lr=function(){return[Cs,Vr,ar]},tr=function(){return[Ms]},Qt=function($){return postMessage($,[$.buffer])},dr=function($){return $&&{out:$.size&&new m($.size),dictionary:$.dictionary}},Wr=function($,K,ie,me,je,Qe){var ut=cn(ie,me,je,function(P,k){ut.terminate(),Qe(P,k)});return ut.postMessage([$,K],K.consume?[$.buffer]:[]),function(){ut.terminate()}},Jr=function($){return $.ondata=function(K,ie){return postMessage([K,ie],[K.buffer])},function(K){K.data.length?($.push(K.data[0],K.data[1]),postMessage([K.data[0].length])):$.flush()}},kn=function($,K,ie,me,je,Qe,ut){var P,k=cn($,me,je,function(F,G){F?(k.terminate(),K.ondata.call(K,F)):Array.isArray(G)?G.length==1?(K.queuedSize-=G[0],K.ondrain&&K.ondrain(G[0])):(G[1]&&k.terminate(),K.ondata.call(K,F,G[0],G[1])):ut(G)});k.postMessage(ie),K.queuedSize=0,K.push=function(F,G){K.ondata||De(5),P&&K.ondata(De(4,0,1),null,!!G),K.queuedSize+=F.length,k.postMessage([F,P=G],[F.buffer])},K.terminate=function(){k.terminate()},Qe&&(K.flush=function(){k.postMessage([])})},un=function($,K){return $[K]|$[K+1]<<8},Yn=function($,K){return($[K]|$[K+1]<<8|$[K+2]<<16|$[K+3]<<24)>>>0},on=function($,K){return Yn($,K)+Yn($,K+4)*4294967296},Vr=function($,K,ie){for(;ie;++K)$[K]=ie,ie>>>=8},xn=function($,K){var ie=K.filename;if($[0]=31,$[1]=139,$[2]=8,$[8]=K.level<2?4:K.level==9?2:0,$[9]=3,K.mtime!=0&&Vr($,4,Math.floor(new Date(K.mtime||Date.now())/1e3)),ie){$[3]=8;for(var me=0;me<=ie.length;++me)$[me+10]=ie.charCodeAt(me)}},An=function($){($[0]!=31||$[1]!=139||$[2]!=8)&&De(6,"invalid gzip data");var K=$[3],ie=10;K&4&&(ie+=($[10]|$[11]<<8)+2);for(var me=(K>>3&1)+(K>>4&1);me>0;me-=!$[ie++]);return ie+(K&2)},Mn=function($){var K=$.length;return($[K-4]|$[K-3]<<8|$[K-2]<<16|$[K-1]<<24)>>>0},ci=function($){return 10+($.filename?$.filename.length+1:0)},Cs=function($,K){var ie=K.level,me=ie==0?0:ie<6?1:ie==9?3:2;if($[0]=120,$[1]=me<<6|(K.dictionary&&32),$[1]|=31-($[0]<<8|$[1])%31,K.dictionary){var je=ar();je.p(K.dictionary),Vr($,2,je.d())}},Ms=function($,K){return(($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31)&&De(6,"invalid zlib data"),($[1]>>5&1)==+!K&&De(6,"invalid zlib data: "+($[1]&32?"need":"unexpected")+" dictionary"),($[1]>>3&4)+2};function Ns($,K){return typeof $=="function"&&(K=$,$={}),this.ondata=K,$}var ti=(function(){function $(K,ie){if(typeof K=="function"&&(ie=K,K={}),this.ondata=ie,this.o=K||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new m(98304),this.o.dictionary){var me=this.o.dictionary.subarray(-32768);this.b.set(me,32768-me.length),this.s.i=32768-me.length}}return $.prototype.p=function(K,ie){this.ondata(Dr(K,this.o,0,0,this.s),ie)},$.prototype.push=function(K,ie){this.ondata||De(5),this.s.l&&De(4);var me=K.length+this.s.z;if(me>this.b.length){if(me>2*this.b.length-32768){var je=new m(me&-32768);je.set(this.b.subarray(0,this.s.z)),this.b=je}var Qe=this.b.length-this.s.z;this.b.set(K.subarray(0,Qe),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(K.subarray(Qe),32768),this.s.z=K.length-Qe+32768,this.s.i=32766,this.s.w=32768}else this.b.set(K,this.s.z),this.s.z+=K.length;this.s.l=ie&1,(this.s.z>this.s.w+8191||ie)&&(this.p(this.b,ie||!1),this.s.w=this.s.i,this.s.i-=2)},$.prototype.flush=function(){this.ondata||De(5),this.s.l&&De(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},$})(),dn=(function(){function $(K,ie){kn([Un,function(){return[Jr,ti]}],this,Ns.call(this,K,ie),function(me){var je=new ti(me.data);onmessage=Jr(je)},6,1)}return $})();function as($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),Wr($,K,[Un],function(me){return Qt(ta(me.data[0],me.data[1]))},0,ie)}function ta($,K){return Dr($,K||{},0,0)}var Tn=(function(){function $(K,ie){typeof K=="function"&&(ie=K,K={}),this.ondata=ie;var me=K&&K.dictionary&&K.dictionary.subarray(-32768);this.s={i:0,b:me?me.length:0},this.o=new m(32768),this.p=new m(0),me&&this.o.set(me)}return $.prototype.e=function(K){if(this.ondata||De(5),this.d&&De(4),!this.p.length)this.p=K;else if(K.length){var ie=new m(this.p.length+K.length);ie.set(this.p),ie.set(K,this.p.length),this.p=ie}},$.prototype.c=function(K){this.s.i=+(this.d=K||!1);var ie=this.s.b,me=ct(this.p,this.s,this.o);this.ondata(Ie(me,ie,this.s.b),this.d),this.o=Ie(me,this.s.b-32768),this.s.b=this.o.length,this.p=Ie(this.p,this.s.p/8|0),this.s.p&=7},$.prototype.push=function(K,ie){this.e(K),this.c(ie)},$})(),Ln=(function(){function $(K,ie){kn([bn,function(){return[Jr,Tn]}],this,Ns.call(this,K,ie),function(me){var je=new Tn(me.data);onmessage=Jr(je)},7,0)}return $})();function Fs($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),Wr($,K,[bn],function(me){return Qt(Qs(me.data[0],dr(me.data[1])))},1,ie)}function Qs($,K){return ct($,{i:2},K&&K.out,K&&K.dictionary)}var Us=(function(){function $(K,ie){this.c=Jt(),this.l=0,this.v=1,ti.call(this,K,ie)}return $.prototype.push=function(K,ie){this.c.p(K),this.l+=K.length,ti.prototype.push.call(this,K,ie)},$.prototype.p=function(K,ie){var me=Dr(K,this.o,this.v&&ci(this.o),ie&&8,this.s);this.v&&(xn(me,this.o),this.v=0),ie&&(Vr(me,me.length-8,this.c.d()),Vr(me,me.length-4,this.l)),this.ondata(me,ie)},$.prototype.flush=function(){ti.prototype.flush.call(this)},$})(),rs=(function(){function $(K,ie){kn([Un,st,function(){return[Jr,ti,Us]}],this,Ns.call(this,K,ie),function(me){var je=new Us(me.data);onmessage=Jr(je)},8,1)}return $})();function qs($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),Wr($,K,[Un,st,function(){return[Rs]}],function(me){return Qt(Rs(me.data[0],me.data[1]))},2,ie)}function Rs($,K){K||(K={});var ie=Jt(),me=$.length;ie.p($);var je=Dr($,K,ci(K),8),Qe=je.length;return xn(je,K),Vr(je,Qe-8,ie.d()),Vr(je,Qe-4,me),je}var Qa=(function(){function $(K,ie){this.v=1,this.r=0,Tn.call(this,K,ie)}return $.prototype.push=function(K,ie){if(Tn.prototype.e.call(this,K),this.r+=K.length,this.v){var me=this.p.subarray(this.v-1),je=me.length>3?An(me):4;if(je>me.length){if(!ie)return}else this.v>1&&this.onmember&&this.onmember(this.r-me.length);this.p=me.subarray(je),this.v=0}Tn.prototype.c.call(this,ie),this.s.f&&!this.s.l&&!ie&&(this.v=he(this.s.p)+9,this.s={i:0},this.o=new m(0),this.push(new m(0),ie))},$})(),hs=(function(){function $(K,ie){var me=this;kn([bn,Ht,function(){return[Jr,Tn,Qa]}],this,Ns.call(this,K,ie),function(je){var Qe=new Qa(je.data);Qe.onmember=function(ut){return postMessage(ut)},onmessage=Jr(Qe)},9,0,function(je){return me.onmember&&me.onmember(je)})}return $})();function _u($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),Wr($,K,[bn,Ht,function(){return[ro]}],function(me){return Qt(ro(me.data[0],me.data[1]))},3,ie)}function ro($,K){var ie=An($);return ie+8>$.length&&De(6,"invalid gzip data"),ct($.subarray(ie,-8),{i:2},K&&K.out||new m(Mn($)),K&&K.dictionary)}var $l=(function(){function $(K,ie){this.c=ar(),this.v=1,ti.call(this,K,ie)}return $.prototype.push=function(K,ie){this.c.p(K),ti.prototype.push.call(this,K,ie)},$.prototype.p=function(K,ie){var me=Dr(K,this.o,this.v&&(this.o.dictionary?6:2),ie&&4,this.s);this.v&&(Cs(me,this.o),this.v=0),ie&&Vr(me,me.length-4,this.c.d()),this.ondata(me,ie)},$.prototype.flush=function(){ti.prototype.flush.call(this)},$})(),su=(function(){function $(K,ie){kn([Un,Lr,function(){return[Jr,ti,$l]}],this,Ns.call(this,K,ie),function(me){var je=new $l(me.data);onmessage=Jr(je)},10,1)}return $})();function pl($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),Wr($,K,[Un,Lr,function(){return[ra]}],function(me){return Qt(ra(me.data[0],me.data[1]))},4,ie)}function ra($,K){K||(K={});var ie=ar();ie.p($);var me=Dr($,K,K.dictionary?6:2,4);return Cs(me,K),Vr(me,me.length-4,ie.d()),me}var Ya=(function(){function $(K,ie){Tn.call(this,K,ie),this.v=K&&K.dictionary?2:1}return $.prototype.push=function(K,ie){if(Tn.prototype.e.call(this,K),this.v){if(this.p.length<6&&!ie)return;this.p=this.p.subarray(Ms(this.p,this.v-1)),this.v=0}ie&&(this.p.length<4&&De(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Tn.prototype.c.call(this,ie)},$})(),Ws=(function(){function $(K,ie){kn([bn,tr,function(){return[Jr,Tn,Ya]}],this,Ns.call(this,K,ie),function(me){var je=new Ya(me.data);onmessage=Jr(je)},11,0)}return $})();function ba($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),Wr($,K,[bn,tr,function(){return[$s]}],function(me){return Qt($s(me.data[0],dr(me.data[1])))},5,ie)}function $s($,K){return ct($.subarray(Ms($,K&&K.dictionary),-4),{i:2},K&&K.out,K&&K.dictionary)}var Il=(function(){function $(K,ie){this.o=Ns.call(this,K,ie)||{},this.G=Qa,this.I=Tn,this.Z=Ya}return $.prototype.i=function(){var K=this;this.s.ondata=function(ie,me){K.ondata(ie,me)}},$.prototype.push=function(K,ie){if(this.ondata||De(5),this.s)this.s.push(K,ie);else{if(this.p&&this.p.length){var me=new m(this.p.length+K.length);me.set(this.p),me.set(K,this.p.length)}else this.p=K;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,ie),this.p=null)}},$})(),vo=(function(){function $(K,ie){Il.call(this,K,ie),this.queuedSize=0,this.G=hs,this.I=Ln,this.Z=Ws}return $.prototype.i=function(){var K=this;this.s.ondata=function(ie,me,je){K.ondata(ie,me,je)},this.s.ondrain=function(ie){K.queuedSize-=ie,K.ondrain&&K.ondrain(ie)}},$.prototype.push=function(K,ie){this.queuedSize+=K.length,Il.prototype.push.call(this,K,ie)},$})();function no($,K,ie){return ie||(ie=K,K={}),typeof ie!="function"&&De(7),$[0]==31&&$[1]==139&&$[2]==8?_u($,K,ie):($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31?Fs($,K,ie):ba($,K,ie)}function gl($,K){return $[0]==31&&$[1]==139&&$[2]==8?ro($,K):($[0]&15)!=8||$[0]>>4>7||($[0]<<8|$[1])%31?Qs($,K):$s($,K)}var Hl=function($,K,ie,me){for(var je in $){var Qe=$[je],ut=K+je,P=me;Array.isArray(Qe)&&(P=mn(me,Qe[1]),Qe=Qe[0]),Qe instanceof m?ie[ut]=[Qe,P]:(ie[ut+="/"]=[new m(0),P],Hl(Qe,ut,ie,me))}},pc=typeof TextEncoder<"u"&&new TextEncoder,zs=typeof TextDecoder<"u"&&new TextDecoder,ui=0;try{zs.decode(gt,{stream:!0}),ui=1}catch{}var ks=function($){for(var K="",ie=0;;){var me=$[ie++],je=(me>127)+(me>223)+(me>239);if(ie+je>$.length)return{s:K,r:Ie($,ie-1)};je?je==3?(me=((me&15)<<18|($[ie++]&63)<<12|($[ie++]&63)<<6|$[ie++]&63)-65536,K+=String.fromCharCode(55296|me>>10,56320|me&1023)):je&1?K+=String.fromCharCode((me&31)<<6|$[ie++]&63):K+=String.fromCharCode((me&15)<<12|($[ie++]&63)<<6|$[ie++]&63):K+=String.fromCharCode(me)}},ja=(function(){function $(K){this.ondata=K,ui?this.t=new TextDecoder:this.p=gt}return $.prototype.push=function(K,ie){if(this.ondata||De(5),ie=!!ie,this.t){this.ondata(this.t.decode(K,{stream:!0}),ie),ie&&(this.t.decode().length&&De(8),this.t=null);return}this.p||De(4);var me=new m(this.p.length+K.length);me.set(this.p),me.set(K,this.p.length);var je=ks(me),Qe=je.s,ut=je.r;ie?(ut.length&&De(8),this.p=null):this.p=ut,this.ondata(Qe,ie)},$})(),za=(function(){function $(K){this.ondata=K}return $.prototype.push=function(K,ie){this.ondata||De(5),this.d&&De(4),this.ondata(Ta(K),this.d=ie||!1)},$})();function Ta($,K){if(K){for(var ie=new m($.length),me=0;me<$.length;++me)ie[me]=$.charCodeAt(me);return ie}if(pc)return pc.encode($);for(var je=$.length,Qe=new m($.length+($.length>>1)),ut=0,P=function(G){Qe[ut++]=G},me=0;me<je;++me){if(ut+5>Qe.length){var k=new m(ut+8+(je-me<<1));k.set(Qe),Qe=k}var F=$.charCodeAt(me);F<128||K?P(F):F<2048?(P(192|F>>6),P(128|F&63)):F>55295&&F<57344?(F=65536+(F&1047552)|$.charCodeAt(++me)&1023,P(240|F>>18),P(128|F>>12&63),P(128|F>>6&63),P(128|F&63)):(P(224|F>>12),P(128|F>>6&63),P(128|F&63))}return Ie(Qe,0,ut)}function vi($,K){if(K){for(var ie="",me=0;me<$.length;me+=16384)ie+=String.fromCharCode.apply(null,$.subarray(me,me+16384));return ie}else{if(zs)return zs.decode($);var je=ks($),Qe=je.s,ie=je.r;return ie.length&&De(8),Qe}}var ei=function($){return $==1?3:$<6?2:$==9?1:0},fs=function($,K){return K+30+un($,K+26)+un($,K+28)},wa=function($,K,ie){var me=un($,K+28),je=vi($.subarray(K+46,K+46+me),!(un($,K+8)&2048)),Qe=K+46+me,ut=Yn($,K+20),P=ie&&ut==4294967295?Qo($,Qe):[ut,Yn($,K+24),Yn($,K+42)],k=P[0],F=P[1],G=P[2];return[un($,K+10),k,F,je,Qe+un($,K+30)+un($,K+32),G]},Qo=function($,K){for(;un($,K)!=1;K+=4+un($,K+2));return[on($,K+12),on($,K+4),on($,K+20)]},Hi=function($){var K=0;if($)for(var ie in $){var me=$[ie].length;me>65535&&De(9),K+=me+4}return K},zo=function($,K,ie,me,je,Qe,ut,P){var k=me.length,F=ie.extra,G=P&&P.length,Z=Hi(F);Vr($,K,ut!=null?33639248:67324752),K+=4,ut!=null&&($[K++]=20,$[K++]=ie.os),$[K]=20,K+=2,$[K++]=ie.flag<<1|(Qe<0&&8),$[K++]=je&&8,$[K++]=ie.compression&255,$[K++]=ie.compression>>8;var re=new Date(ie.mtime==null?Date.now():ie.mtime),xe=re.getFullYear()-1980;if((xe<0||xe>119)&&De(10),Vr($,K,xe<<25|re.getMonth()+1<<21|re.getDate()<<16|re.getHours()<<11|re.getMinutes()<<5|re.getSeconds()>>1),K+=4,Qe!=-1&&(Vr($,K,ie.crc),Vr($,K+4,Qe<0?-Qe-2:Qe),Vr($,K+8,ie.size)),Vr($,K+12,k),Vr($,K+14,Z),K+=16,ut!=null&&(Vr($,K,G),Vr($,K+6,ie.attrs),Vr($,K+10,ut),K+=14),$.set(me,K),K+=k,Z)for(var fe in F){var Ae=F[fe],ke=Ae.length;Vr($,K,+fe),Vr($,K+2,ke),$.set(Ae,K+4),K+=4+ke}return G&&($.set(P,K),K+=G),K},Ea=function($,K,ie,me,je){Vr($,K,101010256),Vr($,K+8,ie),Vr($,K+10,ie),Vr($,K+12,me),Vr($,K+16,je)},Xs=(function(){function $(K){this.filename=K,this.c=Jt(),this.size=0,this.compression=0}return $.prototype.process=function(K,ie){this.ondata(null,K,ie)},$.prototype.push=function(K,ie){this.ondata||De(5),this.c.p(K),this.size+=K.length,ie&&(this.crc=this.c.d()),this.process(K,ie||!1)},$})(),ms=(function(){function $(K,ie){var me=this;ie||(ie={}),Xs.call(this,K),this.d=new ti(ie,function(je,Qe){me.ondata(null,je,Qe)}),this.compression=8,this.flag=ei(ie.level)}return $.prototype.process=function(K,ie){try{this.d.push(K,ie)}catch(me){this.ondata(me,null,ie)}},$.prototype.push=function(K,ie){Xs.prototype.push.call(this,K,ie)},$})(),jo=(function(){function $(K,ie){var me=this;ie||(ie={}),Xs.call(this,K),this.d=new dn(ie,function(je,Qe,ut){me.ondata(je,Qe,ut)}),this.compression=8,this.flag=ei(ie.level),this.terminate=this.d.terminate}return $.prototype.process=function(K,ie){this.d.push(K,ie)},$.prototype.push=function(K,ie){Xs.prototype.push.call(this,K,ie)},$})(),Va=(function(){function $(K){this.ondata=K,this.u=[],this.d=1}return $.prototype.add=function(K){var ie=this;if(this.ondata||De(5),this.d&2)this.ondata(De(4+(this.d&1)*8,0,1),null,!1);else{var me=Ta(K.filename),je=me.length,Qe=K.comment,ut=Qe&&Ta(Qe),P=je!=K.filename.length||ut&&Qe.length!=ut.length,k=je+Hi(K.extra)+30;je>65535&&this.ondata(De(11,0,1),null,!1);var F=new m(k);zo(F,0,K,me,P,-1);var G=[F],Z=function(){for(var ke=0,Ve=G;ke<Ve.length;ke++){var Je=Ve[ke];ie.ondata(null,Je,!1)}G=[]},re=this.d;this.d=0;var xe=this.u.length,fe=mn(K,{f:me,u:P,o:ut,t:function(){K.terminate&&K.terminate()},r:function(){if(Z(),re){var ke=ie.u[xe+1];ke?ke.r():ie.d=1}re=1}}),Ae=0;K.ondata=function(ke,Ve,Je){if(ke)ie.ondata(ke,Ve,Je),ie.terminate();else if(Ae+=Ve.length,G.push(Ve),Je){var lt=new m(16);Vr(lt,0,134695760),Vr(lt,4,K.crc),Vr(lt,8,Ae),Vr(lt,12,K.size),G.push(lt),fe.c=Ae,fe.b=k+Ae+16,fe.crc=K.crc,fe.size=K.size,re&&fe.r(),re=1}else re&&Z()},this.u.push(fe)}},$.prototype.end=function(){var K=this;if(this.d&2){this.ondata(De(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){K.d&1&&(K.u.splice(-1,1),K.e())},t:function(){}}),this.d=3},$.prototype.e=function(){for(var K=0,ie=0,me=0,je=0,Qe=this.u;je<Qe.length;je++){var ut=Qe[je];me+=46+ut.f.length+Hi(ut.extra)+(ut.o?ut.o.length:0)}for(var P=new m(me+22),k=0,F=this.u;k<F.length;k++){var ut=F[k];zo(P,K,ut,ut.f,ut.u,-ut.c-2,ie,ut.o),K+=46+ut.f.length+Hi(ut.extra)+(ut.o?ut.o.length:0),ie+=ut.b}Ea(P,K,this.u.length,me,ie),this.ondata(null,P,!0),this.d=2},$.prototype.terminate=function(){for(var K=0,ie=this.u;K<ie.length;K++){var me=ie[K];me.t()}this.d=2},$})();function Vs($,K,ie){ie||(ie=K,K={}),typeof ie!="function"&&De(7);var me={};Hl($,"",me,K);var je=Object.keys(me),Qe=je.length,ut=0,P=0,k=Qe,F=new Array(Qe),G=[],Z=function(){for(var ke=0;ke<G.length;++ke)G[ke]()},re=function(ke,Ve){V(function(){ie(ke,Ve)})};V(function(){re=ie});var xe=function(){var ke=new m(P+22),Ve=ut,Je=P-ut;P=0;for(var lt=0;lt<k;++lt){var Te=F[lt];try{var jt=Te.c.length;zo(ke,P,Te,Te.f,Te.u,jt);var ot=30+Te.f.length+Hi(Te.extra),Nt=P+ot;ke.set(Te.c,Nt),zo(ke,ut,Te,Te.f,Te.u,jt,P,Te.m),ut+=16+ot+(Te.m?Te.m.length:0),P=Nt+jt}catch(nt){return re(nt,null)}}Ea(ke,ut,F.length,Je,Ve),re(null,ke)};Qe||xe();for(var fe=function(ke){var Ve=je[ke],Je=me[Ve],lt=Je[0],Te=Je[1],jt=Jt(),ot=lt.length;jt.p(lt);var Nt=Ta(Ve),nt=Nt.length,Ot=Te.comment,qt=Ot&&Ta(Ot),It=qt&&qt.length,rt=Hi(Te.extra),Kt=Te.level==0?0:8,Nr=function(lr,Mt){if(lr)Z(),re(lr,null);else{var _r=Mt.length;F[ke]=mn(Te,{size:ot,crc:jt.d(),c:Mt,f:Nt,m:qt,u:nt!=Ve.length||qt&&Ot.length!=It,compression:Kt}),ut+=30+nt+rt+_r,P+=76+2*(nt+rt)+(It||0)+_r,--Qe||xe()}};if(nt>65535&&Nr(De(11,0,1),null),!Kt)Nr(null,lt);else if(ot<16e4)try{Nr(null,ta(lt,Te))}catch(lr){Nr(lr,null)}else G.push(as(lt,Te,Nr))},Ae=0;Ae<k;++Ae)fe(Ae);return Z}function qa($,K){K||(K={});var ie={},me=[];Hl($,"",ie,K);var je=0,Qe=0;for(var ut in ie){var P=ie[ut],k=P[0],F=P[1],G=F.level==0?0:8,Z=Ta(ut),re=Z.length,xe=F.comment,fe=xe&&Ta(xe),Ae=fe&&fe.length,ke=Hi(F.extra);re>65535&&De(11);var Ve=G?ta(k,F):k,Je=Ve.length,lt=Jt();lt.p(k),me.push(mn(F,{size:k.length,crc:lt.d(),c:Ve,f:Z,m:fe,u:re!=ut.length||fe&&xe.length!=Ae,o:je,compression:G})),je+=30+re+ke+Je,Qe+=76+2*(re+ke)+(Ae||0)+Je}for(var Te=new m(Qe+22),jt=je,ot=Qe-je,Nt=0;Nt<me.length;++Nt){var Z=me[Nt];zo(Te,Z.o,Z,Z.f,Z.u,Z.c.length);var nt=30+Z.f.length+Hi(Z.extra);Te.set(Z.c,Z.o+nt),zo(Te,je,Z,Z.f,Z.u,Z.c.length,Z.o,Z.m),je+=16+nt+(Z.m?Z.m.length:0)}return Ea(Te,je,me.length,ot,jt),Te}var xo=(function(){function $(){}return $.prototype.push=function(K,ie){this.ondata(null,K,ie)},$.compression=0,$})(),io=(function(){function $(){var K=this;this.i=new Tn(function(ie,me){K.ondata(null,ie,me)})}return $.prototype.push=function(K,ie){try{this.i.push(K,ie)}catch(me){this.ondata(me,null,ie)}},$.compression=8,$})(),Vo=(function(){function $(K,ie){var me=this;ie<32e4?this.i=new Tn(function(je,Qe){me.ondata(null,je,Qe)}):(this.i=new Ln(function(je,Qe,ut){me.ondata(je,Qe,ut)}),this.terminate=this.i.terminate)}return $.prototype.push=function(K,ie){this.i.terminate&&(K=Ie(K,0)),this.i.push(K,ie)},$.compression=8,$})(),zt=(function(){function $(K){this.onfile=K,this.k=[],this.o={0:xo},this.p=gt}return $.prototype.push=function(K,ie){var me=this;if(this.onfile||De(5),this.p||De(4),this.c>0){var je=Math.min(this.c,K.length),Qe=K.subarray(0,je);if(this.c-=je,this.d?this.d.push(Qe,!this.c):this.k[0].push(Qe),K=K.subarray(je),K.length)return this.push(K,ie)}else{var ut=0,P=0,k=void 0,F=void 0;this.p.length?K.length?(F=new m(this.p.length+K.length),F.set(this.p),F.set(K,this.p.length)):F=this.p:F=K;for(var G=F.length,Z=this.c,re=Z&&this.d,xe=function(){var Ve,Je=Yn(F,P);if(Je==67324752){ut=1,k=P,fe.d=null,fe.c=0;var lt=un(F,P+6),Te=un(F,P+8),jt=lt&2048,ot=lt&8,Nt=un(F,P+26),nt=un(F,P+28);if(G>P+30+Nt+nt){var Ot=[];fe.k.unshift(Ot),ut=2;var qt=Yn(F,P+18),It=Yn(F,P+22),rt=vi(F.subarray(P+30,P+=30+Nt),!jt);qt==4294967295?(Ve=ot?[-2]:Qo(F,P),qt=Ve[0],It=Ve[1]):ot&&(qt=-1),P+=nt,fe.c=qt;var Kt,Nr={name:rt,compression:Te,start:function(){if(Nr.ondata||De(5),!qt)Nr.ondata(null,gt,!0);else{var lr=me.o[Te];lr||Nr.ondata(De(14,"unknown compression type "+Te,1),null,!1),Kt=qt<0?new lr(rt):new lr(rt,qt,It),Kt.ondata=function(At,Rt,Dt){Nr.ondata(At,Rt,Dt)};for(var Mt=0,_r=Ot;Mt<_r.length;Mt++){var at=_r[Mt];Kt.push(at,!1)}me.k[0]==Ot&&me.c?me.d=Kt:Kt.push(gt,!0)}},terminate:function(){Kt&&Kt.terminate&&Kt.terminate()}};qt>=0&&(Nr.size=qt,Nr.originalSize=It),fe.onfile(Nr)}return"break"}else if(Z){if(Je==134695760)return k=P+=12+(Z==-2&&8),ut=3,fe.c=0,"break";if(Je==33639248)return k=P-=4,ut=3,fe.c=0,"break"}},fe=this;P<G-4;++P){var Ae=xe();if(Ae==="break")break}if(this.p=gt,Z<0){var ke=ut?F.subarray(0,k-12-(Z==-2&&8)-(Yn(F,k-16)==134695760&&4)):F.subarray(0,P);re?re.push(ke,!!ut):this.k[+(ut==2)].push(ke)}if(ut&2)return this.push(F.subarray(P),ie);this.p=F.subarray(P)}ie&&(this.c&&De(13),this.p=null)},$.prototype.register=function(K){this.o[K.compression]=K},$})(),V=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function($){$()};function se($,K,ie){ie||(ie=K,K={}),typeof ie!="function"&&De(7);var me=[],je=function(){for(var ke=0;ke<me.length;++ke)me[ke]()},Qe={},ut=function(ke,Ve){V(function(){ie(ke,Ve)})};V(function(){ut=ie});for(var P=$.length-22;Yn($,P)!=101010256;--P)if(!P||$.length-P>65558)return ut(De(13,0,1),null),je;var k=un($,P+8);if(k){var F=k,G=Yn($,P+16),Z=G==4294967295||F==65535;if(Z){var re=Yn($,P-12);Z=Yn($,re)==101075792,Z&&(F=k=Yn($,re+32),G=Yn($,re+48))}for(var xe=K&&K.filter,fe=function(ke){var Ve=wa($,G,Z),Je=Ve[0],lt=Ve[1],Te=Ve[2],jt=Ve[3],ot=Ve[4],Nt=Ve[5],nt=fs($,Nt);G=ot;var Ot=function(It,rt){It?(je(),ut(It,null)):(rt&&(Qe[jt]=rt),--k||ut(null,Qe))};if(!xe||xe({name:jt,size:lt,originalSize:Te,compression:Je}))if(!Je)Ot(null,Ie($,nt,nt+lt));else if(Je==8){var qt=$.subarray(nt,nt+lt);if(Te<524288||lt>.8*Te)try{Ot(null,Qs(qt,{out:new m(Te)}))}catch(It){Ot(It,null)}else me.push(Fs(qt,{size:Te},Ot))}else Ot(De(14,"unknown compression type "+Je,1),null);else Ot(null,null)},Ae=0;Ae<F;++Ae)fe(Ae)}else ut(null,{});return je}function ce($,K){for(var ie={},me=$.length-22;Yn($,me)!=101010256;--me)(!me||$.length-me>65558)&&De(13);var je=un($,me+8);if(!je)return{};var Qe=Yn($,me+16),ut=Qe==4294967295||je==65535;if(ut){var P=Yn($,me-12);ut=Yn($,P)==101075792,ut&&(je=Yn($,P+32),Qe=Yn($,P+48))}for(var k=K&&K.filter,F=0;F<je;++F){var G=wa($,Qe,ut),Z=G[0],re=G[1],xe=G[2],fe=G[3],Ae=G[4],ke=G[5],Ve=fs($,ke);Qe=Ae,(!k||k({name:fe,size:re,originalSize:xe,compression:Z}))&&(Z?Z==8?ie[fe]=Qs($.subarray(Ve,Ve+re),{out:new m(xe)}):De(14,"unknown compression type "+Z):ie[fe]=Ie($,Ve,Ve+re))}return ie}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(c,u,l){l.r(u),l.d(u,{IOBuffer:function(){return g}});var d=l("./node_modules/iobuffer/lib-esm/text.js");const f=1024*8,m=(()=>{const x=new Uint8Array(4),y=new Uint32Array(x.buffer);return!((y[0]=1)&x[0])})(),p={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class g{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(y=f,w={}){let E=!1;typeof y=="number"?y=new ArrayBuffer(y):(E=!0,this.lastWrittenByte=y.byteLength);const _=w.offset?w.offset>>>0:0,N=y.byteLength-_;let C=_;(ArrayBuffer.isView(y)||y instanceof g)&&(y.byteLength!==y.buffer.byteLength&&(C=y.byteOffset+_),y=y.buffer),E?this.lastWrittenByte=N:this.lastWrittenByte=0,this.buffer=y,this.length=N,this.byteLength=N,this.byteOffset=C,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,C,N),this._mark=0,this._marks=[]}available(y=1){return this.offset+y<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(y=1){return this.offset+=y,this}back(y=1){return this.offset-=y,this}seek(y){return this.offset=y,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const y=this._marks.pop();if(y===void 0)throw new Error("Mark stack empty");return this.seek(y),this}rewind(){return this.offset=0,this}ensureAvailable(y=1){if(!this.available(y)){const E=(this.offset+y)*2,_=new Uint8Array(E);_.set(new Uint8Array(this.buffer)),this.buffer=_.buffer,this.length=E,this.byteLength=E,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(y=1){return this.readArray(y,"uint8")}readArray(y,w){const E=p[w].BYTES_PER_ELEMENT*y,_=this.byteOffset+this.offset,N=this.buffer.slice(_,_+E);if(this.littleEndian===m&&w!=="uint8"&&w!=="int8"){const I=new Uint8Array(this.buffer.slice(_,_+E));I.reverse();const D=new p[w](I.buffer);return this.offset+=E,D.reverse(),D}const C=new p[w](N);return this.offset+=E,C}readInt16(){const y=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,y}readUint16(){const y=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,y}readInt32(){const y=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,y}readUint32(){const y=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,y}readFloat32(){const y=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,y}readFloat64(){const y=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,y}readBigInt64(){const y=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,y}readBigUint64(){const y=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,y}readChar(){return String.fromCharCode(this.readInt8())}readChars(y=1){let w="";for(let E=0;E<y;E++)w+=this.readChar();return w}readUtf8(y=1){return(0,d.decode)(this.readBytes(y))}decodeText(y=1,w="utf8"){return(0,d.decode)(this.readBytes(y),w)}writeBoolean(y){return this.writeUint8(y?255:0),this}writeInt8(y){return this.ensureAvailable(1),this._data.setInt8(this.offset++,y),this._updateLastWrittenByte(),this}writeUint8(y){return this.ensureAvailable(1),this._data.setUint8(this.offset++,y),this._updateLastWrittenByte(),this}writeByte(y){return this.writeUint8(y)}writeBytes(y){this.ensureAvailable(y.length);for(let w=0;w<y.length;w++)this._data.setUint8(this.offset++,y[w]);return this._updateLastWrittenByte(),this}writeInt16(y){return this.ensureAvailable(2),this._data.setInt16(this.offset,y,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(y){return this.ensureAvailable(2),this._data.setUint16(this.offset,y,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(y){return this.ensureAvailable(4),this._data.setInt32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(y){return this.ensureAvailable(4),this._data.setUint32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(y){return this.ensureAvailable(4),this._data.setFloat32(this.offset,y,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(y){return this.ensureAvailable(8),this._data.setFloat64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(y){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(y){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,y,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(y){return this.writeUint8(y.charCodeAt(0))}writeChars(y){for(let w=0;w<y.length;w++)this.writeUint8(y.charCodeAt(w));return this}writeUtf8(y){return this.writeBytes((0,d.encode)(y))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(c,u,l){l.r(u),l.d(u,{decode:function(){return d},encode:function(){return m}});function d(p,g="utf8"){return new TextDecoder(g).decode(p)}const f=new TextEncoder;function m(p){return f.encode(p)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(c,u,l){l.r(u),l.d(u,{AcroForm:function(){return ta},AcroFormAppearance:function(){return dn},AcroFormButton:function(){return An},AcroFormCheckBox:function(){return Ms},AcroFormChoiceField:function(){return Yn},AcroFormComboBox:function(){return Vr},AcroFormEditBox:function(){return xn},AcroFormListBox:function(){return on},AcroFormPasswordField:function(){return ti},AcroFormPushButton:function(){return Mn},AcroFormRadioButton:function(){return ci},AcroFormTextField:function(){return Ns},GState:function(){return ct},ShadingPattern:function(){return Ue},TilingPattern:function(){return He},default:function(){return Ye},jsPDF:function(){return Ye}});var d=l("./node_modules/@babel/runtime/helpers/esm/typeof.js"),f=l("./node_modules/fflate/esm/browser.js"),m=l("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),p=l("./node_modules/fast-png/lib-esm/index.js");var g=(function(){return typeof window<"u"?window:typeof Z1<"u"?Z1:typeof self<"u"?self:this})();function x(){g.console&&typeof g.console.log=="function"&&g.console.log.apply(g.console,arguments)}var y={log:x,warn:function(P){g.console&&(typeof g.console.warn=="function"?g.console.warn.apply(g.console,arguments):x.call(null,arguments))},error:function(P){g.console&&(typeof g.console.error=="function"?g.console.error.apply(g.console,arguments):x(P))}};function w(P,k,F){var G=new XMLHttpRequest;G.open("GET",P),G.responseType="blob",G.onload=function(){N(G.response,k,F)},G.onerror=function(){y.error("could not download file")},G.send()}function E(P){var k=new XMLHttpRequest;k.open("HEAD",P,!1);try{k.send()}catch{}return k.status>=200&&k.status<=299}function _(P){try{P.dispatchEvent(new MouseEvent("click"))}catch{var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),P.dispatchEvent(k)}}var N=g.saveAs||((typeof window>"u"?"undefined":(0,d.default)(window))!=="object"||window!==g?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(P,k,F){var G=g.URL||g.webkitURL,Z=document.createElement("a");k=k||P.name||"download",Z.download=k,Z.rel="noopener",typeof P=="string"?(Z.href=P,Z.origin!==location.origin?E(Z.href)?w(P,k,F):_(Z,Z.target="_blank"):_(Z)):(Z.href=G.createObjectURL(P),setTimeout(function(){G.revokeObjectURL(Z.href)},4e4),setTimeout(function(){_(Z)},0))}:"msSaveOrOpenBlob"in navigator?function(P,k,F){if(k=k||P.name||"download",typeof P=="string")if(E(P))w(P,k,F);else{var G=document.createElement("a");G.href=P,G.target="_blank",setTimeout(function(){_(G)})}else navigator.msSaveOrOpenBlob((function(Z,re){return re===void 0?re={autoBom:!1}:(0,d.default)(re)!=="object"&&(y.warn("Deprecated: Expected third argument to be a object"),re={autoBom:!re}),re.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Z.type)?new Blob(["\uFEFF",Z],{type:Z.type}):Z})(P,F),k)}:function(P,k,F,G){if((G=G||open("","_blank"))&&(G.document.title=G.document.body.innerText="downloading..."),typeof P=="string")return w(P,k,F);var Z=P.type==="application/octet-stream",re=/constructor/i.test(g.HTMLElement)||g.safari,xe=/CriOS\/[\d]+/.test(navigator.userAgent);if((xe||Z&&re)&&(typeof FileReader>"u"?"undefined":(0,d.default)(FileReader))==="object"){var fe=new FileReader;fe.onloadend=function(){var Ve=fe.result;Ve=xe?Ve:Ve.replace(/^data:[^;]*;/,"data:attachment/file;"),G?G.location.href=Ve:location=Ve,G=null},fe.readAsDataURL(P)}else{var Ae=g.URL||g.webkitURL,ke=Ae.createObjectURL(P);G?G.location=ke:location.href=ke,G=null,setTimeout(function(){Ae.revokeObjectURL(ke)},4e4)}});function C(P){var k;P=P||"",this.ok=!1,P.charAt(0)=="#"&&(P=P.substr(1,6)),P={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[P=(P=P.replace(/ /g,"")).toLowerCase()]||P;for(var F=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(fe){return[parseInt(fe[1]),parseInt(fe[2]),parseInt(fe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(fe){return[parseInt(fe[1],16),parseInt(fe[2],16),parseInt(fe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(fe){return[parseInt(fe[1]+fe[1],16),parseInt(fe[2]+fe[2],16),parseInt(fe[3]+fe[3],16)]}}],G=0;G<F.length;G++){var Z=F[G].re,re=F[G].process,xe=Z.exec(P);xe&&(k=re(xe),this.r=k[0],this.g=k[1],this.b=k[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var fe=this.r.toString(16),Ae=this.g.toString(16),ke=this.b.toString(16);return fe.length==1&&(fe="0"+fe),Ae.length==1&&(Ae="0"+Ae),ke.length==1&&(ke="0"+ke),"#"+fe+Ae+ke}}var I=g.atob.bind(g),D=g.btoa.bind(g);function M(P,k){var F=P[0],G=P[1],Z=P[2],re=P[3];F=X(F,G,Z,re,k[0],7,-680876936),re=X(re,F,G,Z,k[1],12,-389564586),Z=X(Z,re,F,G,k[2],17,606105819),G=X(G,Z,re,F,k[3],22,-1044525330),F=X(F,G,Z,re,k[4],7,-176418897),re=X(re,F,G,Z,k[5],12,1200080426),Z=X(Z,re,F,G,k[6],17,-1473231341),G=X(G,Z,re,F,k[7],22,-45705983),F=X(F,G,Z,re,k[8],7,1770035416),re=X(re,F,G,Z,k[9],12,-1958414417),Z=X(Z,re,F,G,k[10],17,-42063),G=X(G,Z,re,F,k[11],22,-1990404162),F=X(F,G,Z,re,k[12],7,1804603682),re=X(re,F,G,Z,k[13],12,-40341101),Z=X(Z,re,F,G,k[14],17,-1502002290),F=te(F,G=X(G,Z,re,F,k[15],22,1236535329),Z,re,k[1],5,-165796510),re=te(re,F,G,Z,k[6],9,-1069501632),Z=te(Z,re,F,G,k[11],14,643717713),G=te(G,Z,re,F,k[0],20,-373897302),F=te(F,G,Z,re,k[5],5,-701558691),re=te(re,F,G,Z,k[10],9,38016083),Z=te(Z,re,F,G,k[15],14,-660478335),G=te(G,Z,re,F,k[4],20,-405537848),F=te(F,G,Z,re,k[9],5,568446438),re=te(re,F,G,Z,k[14],9,-1019803690),Z=te(Z,re,F,G,k[3],14,-187363961),G=te(G,Z,re,F,k[8],20,1163531501),F=te(F,G,Z,re,k[13],5,-1444681467),re=te(re,F,G,Z,k[2],9,-51403784),Z=te(Z,re,F,G,k[7],14,1735328473),F=de(F,G=te(G,Z,re,F,k[12],20,-1926607734),Z,re,k[5],4,-378558),re=de(re,F,G,Z,k[8],11,-2022574463),Z=de(Z,re,F,G,k[11],16,1839030562),G=de(G,Z,re,F,k[14],23,-35309556),F=de(F,G,Z,re,k[1],4,-1530992060),re=de(re,F,G,Z,k[4],11,1272893353),Z=de(Z,re,F,G,k[7],16,-155497632),G=de(G,Z,re,F,k[10],23,-1094730640),F=de(F,G,Z,re,k[13],4,681279174),re=de(re,F,G,Z,k[0],11,-358537222),Z=de(Z,re,F,G,k[3],16,-722521979),G=de(G,Z,re,F,k[6],23,76029189),F=de(F,G,Z,re,k[9],4,-640364487),re=de(re,F,G,Z,k[12],11,-421815835),Z=de(Z,re,F,G,k[15],16,530742520),F=ye(F,G=de(G,Z,re,F,k[2],23,-995338651),Z,re,k[0],6,-198630844),re=ye(re,F,G,Z,k[7],10,1126891415),Z=ye(Z,re,F,G,k[14],15,-1416354905),G=ye(G,Z,re,F,k[5],21,-57434055),F=ye(F,G,Z,re,k[12],6,1700485571),re=ye(re,F,G,Z,k[3],10,-1894986606),Z=ye(Z,re,F,G,k[10],15,-1051523),G=ye(G,Z,re,F,k[1],21,-2054922799),F=ye(F,G,Z,re,k[8],6,1873313359),re=ye(re,F,G,Z,k[15],10,-30611744),Z=ye(Z,re,F,G,k[6],15,-1560198380),G=ye(G,Z,re,F,k[13],21,1309151649),F=ye(F,G,Z,re,k[4],6,-145523070),re=ye(re,F,G,Z,k[11],10,-1120210379),Z=ye(Z,re,F,G,k[2],15,718787259),G=ye(G,Z,re,F,k[9],21,-343485551),P[0]=be(F,P[0]),P[1]=be(G,P[1]),P[2]=be(Z,P[2]),P[3]=be(re,P[3])}function Y(P,k,F,G,Z,re){return k=be(be(k,P),be(G,re)),be(k<<Z|k>>>32-Z,F)}function X(P,k,F,G,Z,re,xe){return Y(k&F|~k&G,P,k,Z,re,xe)}function te(P,k,F,G,Z,re,xe){return Y(k&G|F&~G,P,k,Z,re,xe)}function de(P,k,F,G,Z,re,xe){return Y(k^F^G,P,k,Z,re,xe)}function ye(P,k,F,G,Z,re,xe){return Y(F^(k|~G),P,k,Z,re,xe)}function we(P){var k,F=P.length,G=[1732584193,-271733879,-1732584194,271733878];for(k=64;k<=P.length;k+=64)M(G,ve(P.substring(k-64,k)));P=P.substring(k-64);var Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(k=0;k<P.length;k++)Z[k>>2]|=P.charCodeAt(k)<<(k%4<<3);if(Z[k>>2]|=128<<(k%4<<3),k>55)for(M(G,Z),k=0;k<16;k++)Z[k]=0;return Z[14]=8*F,M(G,Z),G}function ve(P){var k,F=[];for(k=0;k<64;k+=4)F[k>>2]=P.charCodeAt(k)+(P.charCodeAt(k+1)<<8)+(P.charCodeAt(k+2)<<16)+(P.charCodeAt(k+3)<<24);return F}var ne="0123456789abcdef".split("");function ae(P){for(var k="",F=0;F<4;F++)k+=ne[P>>8*F+4&15]+ne[P>>8*F&15];return k}function oe(P){return String.fromCharCode(255&P,(65280&P)>>8,(16711680&P)>>16,(4278190080&P)>>24)}function Re(P){return we(P).map(oe).join("")}var Pe=(function(P){for(var k=0;k<P.length;k++)P[k]=ae(P[k]);return P.join("")})(we("hello"))!="5d41402abc4b2a76b9719d911017c592";function be(P,k){if(Pe){var F=(65535&P)+(65535&k);return(P>>16)+(k>>16)+(F>>16)<<16|65535&F}return P+k&4294967295}function he(P,k){var F,G,Z,re;if(P!==F){for(var xe=(Z=P,re=1+(256/P.length|0),new Array(re+1).join(Z)),fe=[],Ae=0;Ae<256;Ae++)fe[Ae]=Ae;var ke=0;for(Ae=0;Ae<256;Ae++){var Ve=fe[Ae];ke=(ke+Ve+xe.charCodeAt(Ae))%256,fe[Ae]=fe[ke],fe[ke]=Ve}F=P,G=fe}else fe=G;var Je=k.length,lt=0,Te=0,jt="";for(Ae=0;Ae<Je;Ae++)Te=(Te+(Ve=fe[lt=(lt+1)%256]))%256,fe[lt]=fe[Te],fe[Te]=Ve,xe=fe[(fe[lt]+fe[Te])%256],jt+=String.fromCharCode(k.charCodeAt(Ae)^xe);return jt}var Ie={print:4,modify:8,copy:16,"annot-forms":32};function Oe(P,k,F,G){this.v=1,this.r=2;var Z=192;P.forEach(function(fe){if(Ie.perm!==void 0)throw new Error("Invalid permission: "+fe);Z+=Ie[fe]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var re=(k+this.padding).substr(0,32),xe=(F+this.padding).substr(0,32);this.O=this.processOwnerPassword(re,xe),this.P=-(1+(255^Z)),this.encryptionKey=Re(re+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(G)).substr(0,5),this.U=he(this.encryptionKey,this.padding)}function $e(P){if(/[^\u0000-\u00ff]/.test(P))throw new Error("Invalid PDF Name Object: "+P+", Only accept ASCII characters.");for(var k="",F=P.length,G=0;G<F;G++){var Z=P.charCodeAt(G);k+=Z<33||Z===35||Z===37||Z===40||Z===41||Z===47||Z===60||Z===62||Z===91||Z===93||Z===123||Z===125||Z>126?"#"+("0"+Z.toString(16)).slice(-2):P[G]}return k}function De(P){if((0,d.default)(P)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var k={};this.subscribe=function(F,G,Z){if(Z=Z||!1,typeof F!="string"||typeof G!="function"||typeof Z!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");k.hasOwnProperty(F)||(k[F]={});var re=Math.random().toString(35);return k[F][re]=[G,!!Z],re},this.unsubscribe=function(F){for(var G in k)if(k[G][F])return delete k[G][F],Object.keys(k[G]).length===0&&delete k[G],!0;return!1},this.publish=function(F){if(k.hasOwnProperty(F)){var G=Array.prototype.slice.call(arguments,1),Z=[];for(var re in k[F]){var xe=k[F][re];try{xe[0].apply(P,G)}catch(fe){g.console&&y.error("jsPDF PubSub Error",fe.message,fe)}xe[1]&&Z.push(re)}Z.length&&Z.forEach(this.unsubscribe)}},this.getTopics=function(){return k}}function ct(P){if(!(this instanceof ct))return new ct(P);var k="opacity,stroke-opacity".split(",");for(var F in P)P.hasOwnProperty(F)&&k.indexOf(F)>=0&&(this[F]=P[F]);this.id="",this.objectNumber=-1}function pt(P,k){this.gState=P,this.matrix=k,this.id="",this.objectNumber=-1}function Ue(P,k,F,G,Z){if(!(this instanceof Ue))return new Ue(P,k,F,G,Z);this.type=P==="axial"?2:3,this.coords=k,this.colors=F,pt.call(this,G,Z)}function He(P,k,F,G,Z){if(!(this instanceof He))return new He(P,k,F,G,Z);this.boundingBox=P,this.xStep=k,this.yStep=F,this.stream="",this.cloneIndex=0,pt.call(this,G,Z)}function Ye(P){var k,F=typeof arguments[0]=="string"?arguments[0]:"p",G=arguments[1],Z=arguments[2],re=arguments[3],xe=[],fe=1,Ae=16,ke="S",Ve=null;(0,d.default)(P=P||{})==="object"&&(F=P.orientation,G=P.unit||G,Z=P.format||Z,re=P.compress||P.compressPdf||re,(Ve=P.encryption||null)!==null&&(Ve.userPassword=Ve.userPassword||"",Ve.ownerPassword=Ve.ownerPassword||"",Ve.userPermissions=Ve.userPermissions||[]),fe=typeof P.userUnit=="number"?Math.abs(P.userUnit):1,P.precision!==void 0&&(k=P.precision),P.floatPrecision!==void 0&&(Ae=P.floatPrecision),ke=P.defaultPathOperation||"S"),xe=P.filters||(re===!0?["FlateEncode"]:xe),G=G||"mm",F=(""+(F||"P")).toLowerCase();var Je=P.putOnlyUsedFonts||!1,lt={},Te={internal:{},__private__:{}};Te.__private__.PubSub=De;var jt="1.3",ot=Te.__private__.getPdfVersion=function(){return jt};Te.__private__.setPdfVersion=function(ue){jt=ue};var Nt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Te.__private__.getPageFormats=function(){return Nt};var nt=Te.__private__.getPageFormat=function(ue){return Nt[ue]};Z=Z||"a4";var Ot="compat",qt="advanced",It=Ot;function rt(){this.saveGraphicsState(),vt(new wi(Li,0,0,-Li,0,fh()*Li).toString()+" cm"),this.setFontSize(this.getFontSize()/Li),ke="n",It=qt}function Kt(){this.restoreGraphicsState(),ke="S",It=Ot}var Nr=Te.__private__.combineFontStyleAndFontWeight=function(ue,Me){if(ue=="bold"&&Me=="normal"||ue=="bold"&&Me==400||ue=="normal"&&Me=="italic"||ue=="bold"&&Me=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Me&&(ue=Me==400||Me==="normal"?ue==="italic"?"italic":"normal":Me!=700&&Me!=="bold"||ue!=="normal"?(Me==700?"bold":Me)+""+ue:"bold"),ue};Te.advancedAPI=function(ue){var Me=It===Ot;return Me&&rt.call(this),typeof ue!="function"||(ue(this),Me&&Kt.call(this)),this},Te.compatAPI=function(ue){var Me=It===qt;return Me&&Kt.call(this),typeof ue!="function"||(ue(this),Me&&rt.call(this)),this},Te.isAdvancedAPI=function(){return It===qt};var lr,Mt=function(ue){if(It!==qt)throw new Error(ue+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_r=Te.roundToPrecision=Te.__private__.roundToPrecision=function(ue,Me){var Et=k||Me;if(isNaN(ue)||isNaN(Et))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return ue.toFixed(Et).replace(/0+$/,"")};lr=Te.hpf=Te.__private__.hpf=typeof Ae=="number"?function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.hpf");return _r(ue,Ae)}:Ae==="smart"?function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.hpf");return _r(ue,ue>-1&&ue<1?16:5)}:function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.hpf");return _r(ue,16)};var at=Te.f2=Te.__private__.f2=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.f2");return _r(ue,2)},At=Te.__private__.f3=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.f3");return _r(ue,3)},Rt=Te.scale=Te.__private__.scale=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.scale");return It===Ot?ue*Li:It===qt?ue:void 0},Dt=function(ue){return Rt((function(Me){return It===Ot?fh()-Me:It===qt?Me:void 0})(ue))};Te.__private__.setPrecision=Te.setPrecision=function(ue){typeof parseInt(ue,10)=="number"&&(k=parseInt(ue,10))};var xr,Br="00000000000000000000000000000000",Mr=Te.__private__.getFileId=function(){return Br},ur=Te.__private__.setFileId=function(ue){return Br=ue!==void 0&&/^[a-fA-F0-9]{32}$/.test(ue)?ue.toUpperCase():Br.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ve!==null&&(Bo=new Oe(Ve.userPermissions,Ve.userPassword,Ve.ownerPassword,Br)),Br};Te.setFileId=function(ue){return ur(ue),this},Te.getFileId=function(){return Mr()};var Rr=Te.__private__.convertDateToPDFDate=function(ue){var Me=ue.getTimezoneOffset(),Et=Me<0?"+":"-",Bt=Math.floor(Math.abs(Me/60)),nr=Math.abs(Me%60),Kr=[Et,Lt(Bt),"'",Lt(nr),"'"].join("");return["D:",ue.getFullYear(),Lt(ue.getMonth()+1),Lt(ue.getDate()),Lt(ue.getHours()),Lt(ue.getMinutes()),Lt(ue.getSeconds()),Kr].join("")},gn=Te.__private__.convertPDFDateToDate=function(ue){var Me=parseInt(ue.substr(2,4),10),Et=parseInt(ue.substr(6,2),10)-1,Bt=parseInt(ue.substr(8,2),10),nr=parseInt(ue.substr(10,2),10),Kr=parseInt(ue.substr(12,2),10),rn=parseInt(ue.substr(14,2),10);return new Date(Me,Et,Bt,nr,Kr,rn,0)},an=Te.__private__.setCreationDate=function(ue){var Me;if(ue===void 0&&(ue=new Date),ue instanceof Date)Me=Rr(ue);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(ue))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Me=ue}return xr=Me},Xe=Te.__private__.getCreationDate=function(ue){var Me=xr;return ue==="jsDate"&&(Me=gn(xr)),Me};Te.setCreationDate=function(ue){return an(ue),this},Te.getCreationDate=function(ue){return Xe(ue)};var Ct,Lt=Te.__private__.padd2=function(ue){return("0"+parseInt(ue)).slice(-2)},Wt=Te.__private__.padd2Hex=function(ue){return("00"+(ue=ue.toString())).substr(ue.length)},Xt=0,mr=[],Pr=[],Ir=0,Zr=[],pn=[],jn=!1,Fn=Pr;Te.__private__.setCustomOutputDestination=function(ue){jn=!0,Fn=ue};var yi=function(ue){jn||(Fn=ue)};Te.__private__.resetCustomOutputDestination=function(){jn=!1,Fn=Pr};var vt=Te.__private__.out=function(ue){return ue=ue.toString(),Ir+=ue.length+1,Fn.push(ue),Fn},Cn=Te.__private__.write=function(ue){return vt(arguments.length===1?ue.toString():Array.prototype.join.call(arguments," "))},Ri=Te.__private__.getArrayBuffer=function(ue){for(var Me=ue.length,Et=new ArrayBuffer(Me),Bt=new Uint8Array(Et);Me--;)Bt[Me]=ue.charCodeAt(Me);return Et},Nn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Te.__private__.getStandardFonts=function(){return Nn};var ln=P.fontSize||16;Te.__private__.setFontSize=Te.setFontSize=function(ue){return ln=It===qt?ue/Li:ue,this};var Ni,Hn=Te.__private__.getFontSize=Te.getFontSize=function(){return It===Ot?ln:ln*Li},Vn=P.R2L||!1;Te.__private__.setR2L=Te.setR2L=function(ue){return Vn=ue,this},Te.__private__.getR2L=Te.getR2L=function(){return Vn};var zn,ga=Te.__private__.setZoomMode=function(ue){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(ue))Ni=ue;else if(isNaN(ue)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(ue)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+ue+'" is not recognized.');Ni=ue}else Ni=parseInt(ue,10)};Te.__private__.getZoomMode=function(){return Ni};var Di,qn=Te.__private__.setPageMode=function(ue){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(ue)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+ue+'" is not recognized.');zn=ue};Te.__private__.getPageMode=function(){return zn};var ns=Te.__private__.setLayoutMode=function(ue){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(ue)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+ue+'" is not recognized.');Di=ue};Te.__private__.getLayoutMode=function(){return Di},Te.__private__.setDisplayMode=Te.setDisplayMode=function(ue,Me,Et){return ga(ue),ns(Me),qn(Et),this};var Si={title:"",subject:"",author:"",keywords:"",creator:""};Te.__private__.getDocumentProperty=function(ue){if(Object.keys(Si).indexOf(ue)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Si[ue]},Te.__private__.getDocumentProperties=function(){return Si},Te.__private__.setDocumentProperties=Te.setProperties=Te.setDocumentProperties=function(ue){for(var Me in Si)Si.hasOwnProperty(Me)&&ue[Me]&&(Si[Me]=ue[Me]);return this},Te.__private__.setDocumentProperty=function(ue,Me){if(Object.keys(Si).indexOf(ue)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Si[ue]=Me};var Qn,Li,Xn,Gi,is,Zi={},xs={},Ca=[],bi={},Ys={},Qi={},oi={},da=null,Ii=0,_n=[],cs=new De(Te),Su=P.hotfixes||[],so={},Ko={},rc=[],wi=function ue(Me,Et,Bt,nr,Kr,rn){if(!(this instanceof ue))return new ue(Me,Et,Bt,nr,Kr,rn);isNaN(Me)&&(Me=1),isNaN(Et)&&(Et=0),isNaN(Bt)&&(Bt=0),isNaN(nr)&&(nr=1),isNaN(Kr)&&(Kr=0),isNaN(rn)&&(rn=0),this._matrix=[Me,Et,Bt,nr,Kr,rn]};Object.defineProperty(wi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(ue){this._matrix[0]=ue}}),Object.defineProperty(wi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(ue){this._matrix[1]=ue}}),Object.defineProperty(wi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(ue){this._matrix[2]=ue}}),Object.defineProperty(wi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(ue){this._matrix[3]=ue}}),Object.defineProperty(wi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(ue){this._matrix[4]=ue}}),Object.defineProperty(wi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(ue){this._matrix[5]=ue}}),Object.defineProperty(wi.prototype,"a",{get:function(){return this._matrix[0]},set:function(ue){this._matrix[0]=ue}}),Object.defineProperty(wi.prototype,"b",{get:function(){return this._matrix[1]},set:function(ue){this._matrix[1]=ue}}),Object.defineProperty(wi.prototype,"c",{get:function(){return this._matrix[2]},set:function(ue){this._matrix[2]=ue}}),Object.defineProperty(wi.prototype,"d",{get:function(){return this._matrix[3]},set:function(ue){this._matrix[3]=ue}}),Object.defineProperty(wi.prototype,"e",{get:function(){return this._matrix[4]},set:function(ue){this._matrix[4]=ue}}),Object.defineProperty(wi.prototype,"f",{get:function(){return this._matrix[5]},set:function(ue){this._matrix[5]=ue}}),Object.defineProperty(wi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wi.prototype.join=function(ue){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(lr).join(ue)},wi.prototype.multiply=function(ue){var Me=ue.sx*this.sx+ue.shy*this.shx,Et=ue.sx*this.shy+ue.shy*this.sy,Bt=ue.shx*this.sx+ue.sy*this.shx,nr=ue.shx*this.shy+ue.sy*this.sy,Kr=ue.tx*this.sx+ue.ty*this.shx+this.tx,rn=ue.tx*this.shy+ue.ty*this.sy+this.ty;return new wi(Me,Et,Bt,nr,Kr,rn)},wi.prototype.decompose=function(){var ue=this.sx,Me=this.shy,Et=this.shx,Bt=this.sy,nr=this.tx,Kr=this.ty,rn=Math.sqrt(ue*ue+Me*Me),ri=(ue/=rn)*Et+(Me/=rn)*Bt;Et-=ue*ri,Bt-=Me*ri;var ni=Math.sqrt(Et*Et+Bt*Bt);return ri/=ni,ue*(Bt/=ni)<Me*(Et/=ni)&&(ue=-ue,Me=-Me,ri=-ri,rn=-rn),{scale:new wi(rn,0,0,ni,0,0),translate:new wi(1,0,0,1,nr,Kr),rotate:new wi(ue,Me,-Me,ue,0,0),skew:new wi(1,0,ri,1,0,0)}},wi.prototype.toString=function(ue){return this.join(" ")},wi.prototype.inversed=function(){var ue=this.sx,Me=this.shy,Et=this.shx,Bt=this.sy,nr=this.tx,Kr=this.ty,rn=1/(ue*Bt-Me*Et),ri=Bt*rn,ni=-Me*rn,Yi=-Et*rn,os=ue*rn;return new wi(ri,ni,Yi,os,-ri*nr-Yi*Kr,-ni*nr-os*Kr)},wi.prototype.applyToPoint=function(ue){var Me=ue.x*this.sx+ue.y*this.shx+this.tx,Et=ue.x*this.shy+ue.y*this.sy+this.ty;return new lu(Me,Et)},wi.prototype.applyToRectangle=function(ue){var Me=this.applyToPoint(ue),Et=this.applyToPoint(new lu(ue.x+ue.w,ue.y+ue.h));return new Cd(Me.x,Me.y,Et.x-Me.x,Et.y-Me.y)},wi.prototype.clone=function(){var ue=this.sx,Me=this.shy,Et=this.shx,Bt=this.sy,nr=this.tx,Kr=this.ty;return new wi(ue,Me,Et,Bt,nr,Kr)},Te.Matrix=wi;var Ra=Te.matrixMult=function(ue,Me){return Me.multiply(ue)},Xa=new wi(1,0,0,1,0,0);Te.unitMatrix=Te.identityMatrix=Xa;var Ql=function(ue,Me){if(!Ys[ue]){var Et=(Me instanceof Ue?"Sh":"P")+(Object.keys(bi).length+1).toString(10);Me.id=Et,Ys[ue]=Et,bi[Et]=Me,cs.publish("addPattern",Me)}};Te.ShadingPattern=Ue,Te.TilingPattern=He,Te.addShadingPattern=function(ue,Me){return Mt("addShadingPattern()"),Ql(ue,Me),this},Te.beginTilingPattern=function(ue){Mt("beginTilingPattern()"),Wc(ue.boundingBox[0],ue.boundingBox[1],ue.boundingBox[2]-ue.boundingBox[0],ue.boundingBox[3]-ue.boundingBox[1],ue.matrix)},Te.endTilingPattern=function(ue,Me){Mt("endTilingPattern()"),Me.stream=pn[Ct].join(`
`),Ql(ue,Me),cs.publish("endTilingPattern",Me),rc.pop().restore()};var zl,ha=Te.__private__.newObject=function(){var ue=yo();return Za(ue,!0),ue},yo=Te.__private__.newObjectDeferred=function(){return Xt++,mr[Xt]=function(){return Ir},Xt},Za=function(ue,Me){return Me=typeof Me=="boolean"&&Me,mr[ue]=Ir,Me&&vt(ue+" 0 obj"),ue},zc=Te.__private__.newAdditionalObject=function(){var ue={objId:yo(),content:""};return Zr.push(ue),ue},To=yo(),gc=yo(),Ka=Te.__private__.decodeColorString=function(ue){var Me=ue.split(" ");if(Me.length!==2||Me[1]!=="g"&&Me[1]!=="G")Me.length!==5||Me[4]!=="k"&&Me[4]!=="K"||(Me=[(1-Me[0])*(1-Me[3]),(1-Me[1])*(1-Me[3]),(1-Me[2])*(1-Me[3]),"r"]);else{var Et=parseFloat(Me[0]);Me=[Et,Et,Et,"r"]}for(var Bt="#",nr=0;nr<3;nr++)Bt+=("0"+Math.floor(255*parseFloat(Me[nr])).toString(16)).slice(-2);return Bt},Vl=Te.__private__.encodeColorString=function(ue){var Me;typeof ue=="string"&&(ue={ch1:ue});var Et=ue.ch1,Bt=ue.ch2,nr=ue.ch3,Kr=ue.ch4,rn=ue.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Et=="string"&&Et.charAt(0)!=="#"){var ri=new C(Et);if(ri.ok)Et=ri.toHex();else if(!/^\d*\.?\d*$/.test(Et))throw new Error('Invalid color "'+Et+'" passed to jsPDF.encodeColorString.')}if(typeof Et=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Et)&&(Et="#"+Et[1]+Et[1]+Et[2]+Et[2]+Et[3]+Et[3]),typeof Et=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Et)){var ni=parseInt(Et.substr(1),16);Et=ni>>16&255,Bt=ni>>8&255,nr=255&ni}if(Bt===void 0||Kr===void 0&&Et===Bt&&Bt===nr)Me=typeof Et=="string"?Et+" "+rn[0]:ue.precision===2?at(Et/255)+" "+rn[0]:At(Et/255)+" "+rn[0];else if(Kr===void 0||(0,d.default)(Kr)==="object"){if(Kr&&!isNaN(Kr.a)&&Kr.a===0)return["1.","1.","1.",rn[1]].join(" ");Me=typeof Et=="string"?[Et,Bt,nr,rn[1]].join(" "):ue.precision===2?[at(Et/255),at(Bt/255),at(nr/255),rn[1]].join(" "):[At(Et/255),At(Bt/255),At(nr/255),rn[1]].join(" ")}else Me=typeof Et=="string"?[Et,Bt,nr,Kr,rn[2]].join(" "):ue.precision===2?[at(Et),at(Bt),at(nr),at(Kr),rn[2]].join(" "):[At(Et),At(Bt),At(nr),At(Kr),rn[2]].join(" ");return Me},Kl=Te.__private__.getFilters=function(){return xe},Bl=Te.__private__.putStream=function(ue){var Me=(ue=ue||{}).data||"",Et=ue.filters||Kl(),Bt=ue.alreadyAppliedFilters||[],nr=ue.addLength1||!1,Kr=Me.length,rn=ue.objectId,ri=function(Wo){return Wo};if(Ve!==null&&rn===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ve!==null&&(ri=Bo.encryptor(rn,0));var ni={};Et===!0&&(Et=["FlateEncode"]);var Yi=ue.additionalKeyValues||[],os=(ni=Ye.API.processDataByFilters!==void 0?Ye.API.processDataByFilters(Me,Et):{data:Me,reverseChain:[]}).reverseChain+(Array.isArray(Bt)?Bt.join(" "):Bt.toString());if(ni.data.length!==0&&(Yi.push({key:"Length",value:ni.data.length}),nr===!0&&Yi.push({key:"Length1",value:Kr})),os.length!=0)if(os.split("/").length-1==1)Yi.push({key:"Filter",value:os});else{Yi.push({key:"Filter",value:"["+os+"]"});for(var na=0;na<Yi.length;na+=1)if(Yi[na].key==="DecodeParms"){for(var Ma=[],Oo=0;Oo<ni.reverseChain.split("/").length-1;Oo+=1)Ma.push("null");Ma.push(Yi[na].value),Yi[na].value="["+Ma.join(" ")+"]"}}vt("<<");for(var Na=0;Na<Yi.length;Na++)vt("/"+Yi[Na].key+" "+Yi[Na].value);vt(">>"),ni.data.length!==0&&(vt("stream"),vt(ri(ni.data)),vt("endstream"))},Ed=Te.__private__.putPage=function(ue){var Me=ue.number,Et=ue.data,Bt=ue.objId,nr=ue.contentsObjId;Za(Bt,!0),vt("<</Type /Page"),vt("/Parent "+ue.rootDictionaryObjId+" 0 R"),vt("/Resources "+ue.resourceDictionaryObjId+" 0 R"),vt("/MediaBox ["+parseFloat(lr(ue.mediaBox.bottomLeftX))+" "+parseFloat(lr(ue.mediaBox.bottomLeftY))+" "+lr(ue.mediaBox.topRightX)+" "+lr(ue.mediaBox.topRightY)+"]"),ue.cropBox!==null&&vt("/CropBox ["+lr(ue.cropBox.bottomLeftX)+" "+lr(ue.cropBox.bottomLeftY)+" "+lr(ue.cropBox.topRightX)+" "+lr(ue.cropBox.topRightY)+"]"),ue.bleedBox!==null&&vt("/BleedBox ["+lr(ue.bleedBox.bottomLeftX)+" "+lr(ue.bleedBox.bottomLeftY)+" "+lr(ue.bleedBox.topRightX)+" "+lr(ue.bleedBox.topRightY)+"]"),ue.trimBox!==null&&vt("/TrimBox ["+lr(ue.trimBox.bottomLeftX)+" "+lr(ue.trimBox.bottomLeftY)+" "+lr(ue.trimBox.topRightX)+" "+lr(ue.trimBox.topRightY)+"]"),ue.artBox!==null&&vt("/ArtBox ["+lr(ue.artBox.bottomLeftX)+" "+lr(ue.artBox.bottomLeftY)+" "+lr(ue.artBox.topRightX)+" "+lr(ue.artBox.topRightY)+"]"),typeof ue.userUnit=="number"&&ue.userUnit!==1&&vt("/UserUnit "+ue.userUnit),cs.publish("putPage",{objId:Bt,pageContext:_n[Me],pageNumber:Me,page:Et}),vt("/Contents "+nr+" 0 R"),vt(">>"),vt("endobj");var Kr=Et.join(`
`);return It===qt&&(Kr+=`
Q`),Za(nr,!0),Bl({data:Kr,filters:Kl(),objectId:nr}),vt("endobj"),Bt},nc=Te.__private__.putPages=function(){var ue,Me,Et=[];for(ue=1;ue<=Ii;ue++)_n[ue].objId=yo(),_n[ue].contentsObjId=yo();for(ue=1;ue<=Ii;ue++)Et.push(Ed({number:ue,data:pn[ue],objId:_n[ue].objId,contentsObjId:_n[ue].contentsObjId,mediaBox:_n[ue].mediaBox,cropBox:_n[ue].cropBox,bleedBox:_n[ue].bleedBox,trimBox:_n[ue].trimBox,artBox:_n[ue].artBox,userUnit:_n[ue].userUnit,rootDictionaryObjId:To,resourceDictionaryObjId:gc}));Za(To,!0),vt("<</Type /Pages");var Bt="/Kids [";for(Me=0;Me<Ii;Me++)Bt+=Et[Me]+" 0 R ";vt(Bt+"]"),vt("/Count "+Ii),vt(">>"),vt("endobj"),cs.publish("postPutPages")},Gl=function(ue){cs.publish("putFont",{font:ue,out:vt,newObject:ha,putStream:Bl}),ue.isAlreadyPutted!==!0&&(ue.objectNumber=ha(),vt("<<"),vt("/Type /Font"),vt("/BaseFont /"+$e(ue.postScriptName)),vt("/Subtype /Type1"),typeof ue.encoding=="string"&&vt("/Encoding /"+ue.encoding),vt("/FirstChar 32"),vt("/LastChar 255"),vt(">>"),vt("endobj"))},vc=function(ue){ue.objectNumber=ha();var Me=[];Me.push({key:"Type",value:"/XObject"}),Me.push({key:"Subtype",value:"/Form"}),Me.push({key:"BBox",value:"["+[lr(ue.x),lr(ue.y),lr(ue.x+ue.width),lr(ue.y+ue.height)].join(" ")+"]"}),Me.push({key:"Matrix",value:"["+ue.matrix.toString()+"]"});var Et=ue.pages[1].join(`
`);Bl({data:Et,additionalKeyValues:Me,objectId:ue.objectNumber}),vt("endobj")},_d=function(ue,Me){Me||(Me=21);var Et=ha(),Bt=(function(rn,ri){var ni,Yi=[],os=1/(ri-1);for(ni=0;ni<1;ni+=os)Yi.push(ni);if(Yi.push(1),rn[0].offset!=0){var na={offset:0,color:rn[0].color};rn.unshift(na)}if(rn[rn.length-1].offset!=1){var Ma={offset:1,color:rn[rn.length-1].color};rn.push(Ma)}for(var Oo="",Na=0,Wo=0;Wo<Yi.length;Wo++){for(ni=Yi[Wo];ni>rn[Na+1].offset;)Na++;var O=rn[Na].offset,Be=(ni-O)/(rn[Na+1].offset-O),ee=rn[Na].color,Ze=rn[Na+1].color;Oo+=Wt(Math.round((1-Be)*ee[0]+Be*Ze[0]).toString(16))+Wt(Math.round((1-Be)*ee[1]+Be*Ze[1]).toString(16))+Wt(Math.round((1-Be)*ee[2]+Be*Ze[2]).toString(16))}return Oo.trim()})(ue.colors,Me),nr=[];nr.push({key:"FunctionType",value:"0"}),nr.push({key:"Domain",value:"[0.0 1.0]"}),nr.push({key:"Size",value:"["+Me+"]"}),nr.push({key:"BitsPerSample",value:"8"}),nr.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),nr.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Bl({data:Bt,additionalKeyValues:nr,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Et}),vt("endobj"),ue.objectNumber=ha(),vt("<< /ShadingType "+ue.type),vt("/ColorSpace /DeviceRGB");var Kr="/Coords ["+lr(parseFloat(ue.coords[0]))+" "+lr(parseFloat(ue.coords[1]))+" ";ue.type===2?Kr+=lr(parseFloat(ue.coords[2]))+" "+lr(parseFloat(ue.coords[3])):Kr+=lr(parseFloat(ue.coords[2]))+" "+lr(parseFloat(ue.coords[3]))+" "+lr(parseFloat(ue.coords[4]))+" "+lr(parseFloat(ue.coords[5])),vt(Kr+="]"),ue.matrix&&vt("/Matrix ["+ue.matrix.toString()+"]"),vt("/Function "+Et+" 0 R"),vt("/Extend [true true]"),vt(">>"),vt("endobj")},Wl=function(ue,Me){var Et=yo(),Bt=ha();Me.push({resourcesOid:Et,objectOid:Bt}),ue.objectNumber=Bt;var nr=[];nr.push({key:"Type",value:"/Pattern"}),nr.push({key:"PatternType",value:"1"}),nr.push({key:"PaintType",value:"1"}),nr.push({key:"TilingType",value:"1"}),nr.push({key:"BBox",value:"["+ue.boundingBox.map(lr).join(" ")+"]"}),nr.push({key:"XStep",value:lr(ue.xStep)}),nr.push({key:"YStep",value:lr(ue.yStep)}),nr.push({key:"Resources",value:Et+" 0 R"}),ue.matrix&&nr.push({key:"Matrix",value:"["+ue.matrix.toString()+"]"}),Bl({data:ue.stream,additionalKeyValues:nr,objectId:ue.objectNumber}),vt("endobj")},Yl=function(ue){for(var Me in ue.objectNumber=ha(),vt("<<"),ue)switch(Me){case"opacity":vt("/ca "+at(ue[Me]));break;case"stroke-opacity":vt("/CA "+at(ue[Me]))}vt(">>"),vt("endobj")},ju=function(ue){Za(ue.resourcesOid,!0),vt("<<"),vt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Me in vt("/Font <<"),Zi)Zi.hasOwnProperty(Me)&&(Je===!1||Je===!0&&lt.hasOwnProperty(Me))&&vt("/"+Me+" "+Zi[Me].objectNumber+" 0 R");vt(">>")})(),(function(){if(Object.keys(bi).length>0){for(var Me in vt("/Shading <<"),bi)bi.hasOwnProperty(Me)&&bi[Me]instanceof Ue&&bi[Me].objectNumber>=0&&vt("/"+Me+" "+bi[Me].objectNumber+" 0 R");cs.publish("putShadingPatternDict"),vt(">>")}})(),(function(Me){if(Object.keys(bi).length>0){for(var Et in vt("/Pattern <<"),bi)bi.hasOwnProperty(Et)&&bi[Et]instanceof Te.TilingPattern&&bi[Et].objectNumber>=0&&bi[Et].objectNumber<Me&&vt("/"+Et+" "+bi[Et].objectNumber+" 0 R");cs.publish("putTilingPatternDict"),vt(">>")}})(ue.objectOid),(function(){if(Object.keys(Qi).length>0){var Me;for(Me in vt("/ExtGState <<"),Qi)Qi.hasOwnProperty(Me)&&Qi[Me].objectNumber>=0&&vt("/"+Me+" "+Qi[Me].objectNumber+" 0 R");cs.publish("putGStateDict"),vt(">>")}})(),(function(){for(var Me in vt("/XObject <<"),so)so.hasOwnProperty(Me)&&so[Me].objectNumber>=0&&vt("/"+Me+" "+so[Me].objectNumber+" 0 R");cs.publish("putXobjectDict"),vt(">>")})(),vt(">>"),vt("endobj")},ql=function(ue){xs[ue.fontName]=xs[ue.fontName]||{},xs[ue.fontName][ue.fontStyle]=ue.id},Io=function(ue,Me,Et,Bt,nr){var Kr={id:"F"+(Object.keys(Zi).length+1).toString(10),postScriptName:ue,fontName:Me,fontStyle:Et,encoding:Bt,isStandardFont:nr||!1,metadata:{}};return cs.publish("addFont",{font:Kr,instance:this}),Zi[Kr.id]=Kr,ql(Kr),Kr.id},vl=Te.__private__.pdfEscape=Te.pdfEscape=function(ue,Me){return(function(Et,Bt){var nr,Kr,rn,ri,ni,Yi,os,na,Ma;if(rn=(Bt=Bt||{}).sourceEncoding||"Unicode",ni=Bt.outputEncoding,(Bt.autoencode||ni)&&Zi[Qn].metadata&&Zi[Qn].metadata[rn]&&Zi[Qn].metadata[rn].encoding&&(ri=Zi[Qn].metadata[rn].encoding,!ni&&Zi[Qn].encoding&&(ni=Zi[Qn].encoding),!ni&&ri.codePages&&(ni=ri.codePages[0]),typeof ni=="string"&&(ni=ri[ni]),ni)){for(os=!1,Yi=[],nr=0,Kr=Et.length;nr<Kr;nr++)(na=ni[Et.charCodeAt(nr)])?Yi.push(String.fromCharCode(na)):Yi.push(Et[nr]),Yi[nr].charCodeAt(0)>>8&&(os=!0);Et=Yi.join("")}for(nr=Et.length;os===void 0&&nr!==0;)Et.charCodeAt(nr-1)>>8&&(os=!0),nr--;if(!os)return Et;for(Yi=Bt.noBOM?[]:[254,255],nr=0,Kr=Et.length;nr<Kr;nr++){if((Ma=(na=Et.charCodeAt(nr))>>8)>>8)throw new Error("Character at position "+nr+" of string '"+Et+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yi.push(Ma),Yi.push(na-(Ma<<8))}return String.fromCharCode.apply(void 0,Yi)})(ue,Me).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=Te.__private__.beginPage=function(ue){pn[++Ii]=[],_n[Ii]={objId:0,contentsObjId:0,userUnit:Number(fe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(ue[0]),topRightY:Number(ue[1])}},ic(Ii),yi(pn[Ct])},xc=function(ue,Me){var Et,Bt,nr;switch(F=Me||F,typeof ue=="string"&&(Et=nt(ue.toLowerCase()),Array.isArray(Et)&&(Bt=Et[0],nr=Et[1])),Array.isArray(ue)&&(Bt=ue[0]*Li,nr=ue[1]*Li),isNaN(Bt)&&(Bt=Z[0],nr=Z[1]),(Bt>14400||nr>14400)&&(y.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Bt=Math.min(14400,Bt),nr=Math.min(14400,nr)),Z=[Bt,nr],F.substr(0,1)){case"l":nr>Bt&&(Z=[nr,Bt]);break;case"p":Bt>nr&&(Z=[nr,Bt])}au(Z),In(Zs),vt(Go),_c!==0&&vt(_c+" J"),Gc!==0&&vt(Gc+" j"),cs.publish("addPage",{pageNumber:Ii})},Kd=function(ue){ue>0&&ue<=Ii&&(pn.splice(ue,1),_n.splice(ue,1),Ii--,Ct>Ii&&(Ct=Ii),this.setPage(Ct))},ic=function(ue){ue>0&&ue<=Ii&&(Ct=ue)},Xu=Te.__private__.getNumberOfPages=Te.getNumberOfPages=function(){return pn.length-1},Sd=function(ue,Me,Et){var Bt,nr=void 0;return Et=Et||{},ue=ue!==void 0?ue:Zi[Qn].fontName,Me=Me!==void 0?Me:Zi[Qn].fontStyle,Bt=ue.toLowerCase(),xs[Bt]!==void 0&&xs[Bt][Me]!==void 0?nr=xs[Bt][Me]:xs[ue]!==void 0&&xs[ue][Me]!==void 0?nr=xs[ue][Me]:Et.disableWarning===!1&&y.warn("Unable to look up font label for font '"+ue+"', '"+Me+"'. Refer to getFontList() for available fonts."),nr||Et.noFallback||(nr=xs.times[Me])==null&&(nr=xs.times.normal),nr},xl=Te.__private__.putInfo=function(){var ue=ha(),Me=function(Bt){return Bt};for(var Et in Ve!==null&&(Me=Bo.encryptor(ue,0)),vt("<<"),vt("/Producer ("+vl(Me("jsPDF "+Ye.version))+")"),Si)Si.hasOwnProperty(Et)&&Si[Et]&&vt("/"+Et.substr(0,1).toUpperCase()+Et.substr(1)+" ("+vl(Me(Si[Et]))+")");vt("/CreationDate ("+vl(Me(xr))+")"),vt(">>"),vt("endobj")},ch=Te.__private__.putCatalog=function(ue){var Me=(ue=ue||{}).rootDictionaryObjId||To;switch(ha(),vt("<<"),vt("/Type /Catalog"),vt("/Pages "+Me+" 0 R"),Ni||(Ni="fullwidth"),Ni){case"fullwidth":vt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":vt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":vt("/OpenAction [3 0 R /Fit]");break;case"original":vt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Et=""+Ni;Et.substr(Et.length-1)==="%"&&(Ni=parseInt(Ni)/100),typeof Ni=="number"&&vt("/OpenAction [3 0 R /XYZ null null "+at(Ni)+"]")}switch(Di||(Di="continuous"),Di){case"continuous":vt("/PageLayout /OneColumn");break;case"single":vt("/PageLayout /SinglePage");break;case"two":case"twoleft":vt("/PageLayout /TwoColumnLeft");break;case"tworight":vt("/PageLayout /TwoColumnRight")}zn&&vt("/PageMode /"+zn),cs.publish("putCatalog"),vt(">>"),vt("endobj")},Pl=Te.__private__.putTrailer=function(){vt("trailer"),vt("<<"),vt("/Size "+(Xt+1)),vt("/Root "+Xt+" 0 R"),vt("/Info "+(Xt-1)+" 0 R"),Ve!==null&&vt("/Encrypt "+Bo.oid+" 0 R"),vt("/ID [ <"+Br+"> <"+Br+"> ]"),vt(">>")},Fi=Te.__private__.putHeader=function(){vt("%PDF-"+jt),vt("%")},yc=Te.__private__.putXRef=function(){var ue="0000000000";vt("xref"),vt("0 "+(Xt+1)),vt("0000000000 65535 f ");for(var Me=1;Me<=Xt;Me++)typeof mr[Me]=="function"?vt((ue+mr[Me]()).slice(-10)+" 00000 n "):mr[Me]!==void 0?vt((ue+mr[Me]).slice(-10)+" 00000 n "):vt("0000000000 00000 n ")},Vc=Te.__private__.buildDocument=function(){var ue;Xt=0,Ir=0,Pr=[],mr=[],Zr=[],To=yo(),gc=yo(),yi(Pr),cs.publish("buildDocument"),Fi(),nc(),(function(){cs.publish("putAdditionalObjects");for(var Et=0;Et<Zr.length;Et++){var Bt=Zr[Et];Za(Bt.objId,!0),vt(Bt.content),vt("endobj")}cs.publish("postPutAdditionalObjects")})(),ue=[],(function(){for(var Et in Zi)Zi.hasOwnProperty(Et)&&(Je===!1||Je===!0&&lt.hasOwnProperty(Et))&&Gl(Zi[Et])})(),(function(){var Et;for(Et in Qi)Qi.hasOwnProperty(Et)&&Yl(Qi[Et])})(),(function(){for(var Et in so)so.hasOwnProperty(Et)&&vc(so[Et])})(),(function(Et){var Bt;for(Bt in bi)bi.hasOwnProperty(Bt)&&(bi[Bt]instanceof Ue?_d(bi[Bt]):bi[Bt]instanceof He&&Wl(bi[Bt],Et))})(ue),cs.publish("putResources"),ue.forEach(ju),ju({resourcesOid:gc,objectOid:Number.MAX_SAFE_INTEGER}),cs.publish("postPutResources"),Ve!==null&&(Bo.oid=ha(),vt("<<"),vt("/Filter /Standard"),vt("/V "+Bo.v),vt("/R "+Bo.r),vt("/U <"+Bo.toHexString(Bo.U)+">"),vt("/O <"+Bo.toHexString(Bo.O)+">"),vt("/P "+Bo.P),vt(">>"),vt("endobj")),xl(),ch();var Me=Ir;return yc(),Pl(),vt("startxref"),vt(""+Me),vt("%%EOF"),yi(pn[Ct]),Pr.join(`
`)},Kc=Te.__private__.getBlob=function(ue){return new Blob([Ri(ue)],{type:"application/pdf"})},Zu=Te.output=Te.__private__.output=(zl=function(ue,Me){switch(typeof(Me=Me||{})=="string"?Me={filename:Me}:Me.filename=Me.filename||"generated.pdf",ue){case void 0:return Vc();case"save":Te.save(Me.filename);break;case"arraybuffer":return Ri(Vc());case"blob":return Kc(Vc());case"bloburi":case"bloburl":if(g.URL!==void 0&&typeof g.URL.createObjectURL=="function")return g.URL&&g.URL.createObjectURL(Kc(Vc()))||void 0;y.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Et="",Bt=Vc();try{Et=D(Bt)}catch{Et=D(unescape(encodeURIComponent(Bt)))}return"data:application/pdf;filename="+Me.filename+";base64,"+Et;case"pdfobjectnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var nr="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Kr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Me.pdfObjectUrl&&(nr=Me.pdfObjectUrl,Kr="");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+nr+'"'+Kr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Me)+");<\/script></body></html>",ri=g.open();return ri!==null&&ri.document.write(rn),ri}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(g)==="[object Window]"){var ni='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Me.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Me.filename+'" width="500px" height="400px" /></body></html>',Yi=g.open();if(Yi!==null){Yi.document.write(ni);var os=this;Yi.document.documentElement.querySelector("#pdfViewer").onload=function(){Yi.document.title=Me.filename,Yi.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(os.output("bloburl"))}}return Yi}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(g)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var na='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Me)+'"></iframe></body></html>',Ma=g.open();if(Ma!==null&&(Ma.document.write(na),Ma.document.title=Me.filename),Ma||typeof safari>"u")return Ma;break;case"datauri":case"dataurl":return g.document.location.href=this.output("datauristring",Me);default:return null}},zl.foo=function(){try{return zl.apply(this,arguments)}catch(Et){var ue=Et.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Me="Error in function "+ue.split(`
`)[0].split("<")[0]+": "+Et.message;if(!g.console)throw new Error(Me);g.console.error(Me,Et),g.alert&&alert(Me)}},zl.foo.bar=zl,zl.foo),bc=function(ue){return Array.isArray(Su)===!0&&Su.indexOf(ue)>-1};switch(G){case"pt":Li=1;break;case"mm":Li=2.834645669291339;break;case"cm":Li=28.346456692913385;break;case"in":Li=72;break;case"px":Li=bc("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":Li=12;break;case"ex":Li=6;break;default:if(typeof G!="number")throw new Error("Invalid unit: "+G);Li=G}var Bo=null;an(),ur();var ou=Te.__private__.getPageInfo=Te.getPageInfo=function(ue){if(isNaN(ue)||ue%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_n[ue].objId,pageNumber:ue,pageContext:_n[ue]}},v=Te.__private__.getPageInfoByObjId=function(ue){if(isNaN(ue)||ue%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Me in _n)if(_n[Me].objId===ue)break;return ou(Me)},S=Te.__private__.getCurrentPageInfo=Te.getCurrentPageInfo=function(){return{objId:_n[Ct].objId,pageNumber:Ct,pageContext:_n[Ct]}};Te.addPage=function(){return xc.apply(this,arguments),this},Te.setPage=function(){return ic.apply(this,arguments),yi.call(this,pn[Ct]),this},Te.insertPage=function(ue){return this.addPage(),this.movePage(Ct,ue),this},Te.movePage=function(ue,Me){var Et,Bt;if(ue>Me){Et=pn[ue],Bt=_n[ue];for(var nr=ue;nr>Me;nr--)pn[nr]=pn[nr-1],_n[nr]=_n[nr-1];pn[Me]=Et,_n[Me]=Bt,this.setPage(Me)}else if(ue<Me){Et=pn[ue],Bt=_n[ue];for(var Kr=ue;Kr<Me;Kr++)pn[Kr]=pn[Kr+1],_n[Kr]=_n[Kr+1];pn[Me]=Et,_n[Me]=Bt,this.setPage(Me)}return this},Te.deletePage=function(){return Kd.apply(this,arguments),this},Te.__private__.text=Te.text=function(ue,Me,Et,Bt,nr){var Kr,rn,ri,ni,Yi,os,na,Ma,Oo,Na=(Bt=Bt||{}).scope||this;if(typeof ue=="number"&&typeof Me=="number"&&(typeof Et=="string"||Array.isArray(Et))){var Wo=Et;Et=Me,Me=ue,ue=Wo}if(arguments[3]instanceof wi==0?(ri=arguments[4],ni=arguments[5],(0,d.default)(na=arguments[3])==="object"&&na!==null||(typeof ri=="string"&&(ni=ri,ri=null),typeof na=="string"&&(ni=na,na=null),typeof na=="number"&&(ri=na,na=null),Bt={flags:na,angle:ri,align:ni})):(Mt("The transform parameter of text() with a Matrix value"),Oo=nr),isNaN(Me)||isNaN(Et)||ue==null)throw new Error("Invalid arguments passed to jsPDF.text");if(ue.length===0)return Na;var O,Be="",ee=typeof Bt.lineHeightFactor=="number"?Bt.lineHeightFactor:il,Ze=Na.internal.scaleFactor;function St(sa){return sa=sa.split("	").join(Array(Bt.TabLen||9).join(" ")),vl(sa,na)}function _t(sa){for(var Ja,Is=sa.concat(),bl=[],Ah=Is.length;Ah--;)typeof(Ja=Is.shift())=="string"?bl.push(Ja):Array.isArray(sa)&&(Ja.length===1||Ja[1]===void 0&&Ja[2]===void 0)?bl.push(Ja[0]):bl.push([Ja[0],Ja[1],Ja[2]]);return bl}function yr(sa,Ja){var Is;if(typeof sa=="string")Is=Ja(sa)[0];else if(Array.isArray(sa)){for(var bl,Ah,hm=sa.concat(),Xh=[],qm=hm.length;qm--;)typeof(bl=hm.shift())=="string"?Xh.push(Ja(bl)[0]):Array.isArray(bl)&&typeof bl[0]=="string"&&(Ah=Ja(bl[0],bl[1],bl[2]),Xh.push([Ah[0],Ah[1],Ah[2]]));Is=Xh}return Is}var Gt=!1,$n=!0;if(typeof ue=="string")Gt=!0;else if(Array.isArray(ue)){var Ft=ue.concat();rn=[];for(var br,qi=Ft.length;qi--;)(typeof(br=Ft.shift())!="string"||Array.isArray(br)&&typeof br[0]!="string")&&($n=!1);Gt=$n}if(Gt===!1)throw new Error('Type of text must be string or Array. "'+ue+'" is not recognized.');typeof ue=="string"&&(ue=ue.match(/[\r?\n]/)?ue.split(/\r\n|\r|\n/g):[ue]);var Bn=ln/Na.internal.scaleFactor,sn=Bn*(ee-1);switch(Bt.baseline){case"bottom":Et-=sn;break;case"top":Et+=Bn-sn;break;case"hanging":Et+=Bn-2*sn;break;case"middle":Et+=Bn/2-sn}if((os=Bt.maxWidth||0)>0&&(typeof ue=="string"?ue=Na.splitTextToSize(ue,os):Object.prototype.toString.call(ue)==="[object Array]"&&(ue=ue.reduce(function(sa,Ja){return sa.concat(Na.splitTextToSize(Ja,os))},[]))),Kr={text:ue,x:Me,y:Et,options:Bt,mutex:{pdfEscape:vl,activeFontKey:Qn,fonts:Zi,activeFontSize:ln}},cs.publish("preProcessText",Kr),ue=Kr.text,ri=(Bt=Kr.options).angle,Oo instanceof wi==0&&ri&&typeof ri=="number"){ri*=Math.PI/180,Bt.rotationDirection===0&&(ri=-ri),It===qt&&(ri=-ri);var Ur=Math.cos(ri),Fa=Math.sin(ri);Oo=new wi(Ur,Fa,-Fa,Ur,0,0)}else ri&&ri instanceof wi&&(Oo=ri);It!==qt||Oo||(Oo=Xa),(Yi=Bt.charSpace||Zl)!==void 0&&(Be+=lr(Rt(Yi))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ma=Bt.horizontalScale)!==void 0&&(Be+=lr(100*Ma)+` Tz
`),Bt.lang;var Wi=-1,ki=Bt.renderingMode!==void 0?Bt.renderingMode:Bt.stroke,zi=Na.internal.getCurrentPageInfo().pageContext;switch(ki){case 0:case!1:case"fill":Wi=0;break;case 1:case!0:case"stroke":Wi=1;break;case 2:case"fillThenStroke":Wi=2;break;case 3:case"invisible":Wi=3;break;case 4:case"fillAndAddForClipping":Wi=4;break;case 5:case"strokeAndAddPathForClipping":Wi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wi=6;break;case 7:case"addToPathForClipping":Wi=7}var ys=zi.usedRenderingMode!==void 0?zi.usedRenderingMode:-1;Wi!==-1?Be+=Wi+` Tr
`:ys!==-1&&(Be+=`0 Tr
`),Wi!==-1&&(zi.usedRenderingMode=Wi),ni=Bt.align||"left";var Sn,bs=ln*ee,Ua=Na.internal.pageSize.getWidth(),ji=Zi[Qn];Yi=Bt.charSpace||Zl,os=Bt.maxWidth||0,na=Object.assign({autoencode:!0,noBOM:!0},Bt.flags);var ia=[],Ls=function(sa){return Na.getStringUnitWidth(sa,{font:ji,charSpace:Yi,fontSize:ln,doKerning:!1})*ln/Ze};if(Object.prototype.toString.call(ue)==="[object Array]"){var ii;rn=_t(ue),ni!=="left"&&(Sn=rn.map(Ls));var $i,sc=0;if(ni==="right"){Me-=Sn[0],ue=[],qi=rn.length;for(var ed=0;ed<qi;ed++)ed===0?($i=Xl(Me),ii=Tu(Et)):($i=Rt(sc-Sn[ed]),ii=-bs),ue.push([rn[ed],$i,ii]),sc=Sn[ed]}else if(ni==="center"){Me-=Sn[0]/2,ue=[],qi=rn.length;for(var cu=0;cu<qi;cu++)cu===0?($i=Xl(Me),ii=Tu(Et)):($i=Rt((sc-Sn[cu])/2),ii=-bs),ue.push([rn[cu],$i,ii]),sc=Sn[cu]}else if(ni==="left"){ue=[],qi=rn.length;for(var yl=0;yl<qi;yl++)ue.push(rn[yl])}else if(ni==="justify"&&ji.encoding==="Identity-H"){ue=[],qi=rn.length,os=os!==0?os:Ua;for(var ac=0,oo=0;oo<qi;oo++)if(ii=oo===0?Tu(Et):-bs,$i=oo===0?Xl(Me):ac,oo<qi-1){var Ym=Rt((os-Sn[oo])/(rn[oo].split(" ").length-1)),mh=rn[oo].split(" ");ue.push([mh[0]+" ",$i,ii]),ac=0;for(var Yc=1;Yc<mh.length;Yc++){var qc=(Ls(mh[Yc-1]+" "+mh[Yc])-Ls(mh[Yc]))*Ze+Ym;Yc==mh.length-1?ue.push([mh[Yc],qc,0]):ue.push([mh[Yc]+" ",qc,0]),ac-=qc}}else ue.push([rn[oo],$i,ii]);ue.push(["",ac,0])}else{if(ni!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(ue=[],qi=rn.length,os=os!==0?os:Ua,oo=0;oo<qi;oo++){ii=oo===0?Tu(Et):-bs,$i=oo===0?Xl(Me):0;var Ro=rn[oo].split(" ").length-1,Bf=Ro>0?(os-Sn[oo])/Ro:0;oo<qi-1?ia.push(lr(Rt(Bf))):ia.push(0),ue.push([rn[oo],$i,ii])}}}(typeof Bt.R2L=="boolean"?Bt.R2L:Vn)===!0&&(ue=yr(ue,function(sa,Ja,Is){return[sa.split("").reverse().join(""),Ja,Is]})),Kr={text:ue,x:Me,y:Et,options:Bt,mutex:{pdfEscape:vl,activeFontKey:Qn,fonts:Zi,activeFontSize:ln}},cs.publish("postProcessText",Kr),ue=Kr.text,O=Kr.mutex.isHex||!1;var Nd=Zi[Qn].encoding;Nd!=="WinAnsiEncoding"&&Nd!=="StandardEncoding"||(ue=yr(ue,function(sa,Ja,Is){return[St(sa),Ja,Is]})),rn=_t(ue),ue=[];for(var Ji,fa,wo,kh=Array.isArray(rn[0])?1:0,td="",kd=function(sa,Ja,Is){var bl="";return Is instanceof wi?(Is=typeof Bt.angle=="number"?Ra(Is,new wi(1,0,0,1,sa,Ja)):Ra(new wi(1,0,0,1,sa,Ja),Is),It===qt&&(Is=Ra(new wi(1,0,0,-1,0,0),Is)),bl=Is.join(" ")+` Tm
`):bl=lr(sa)+" "+lr(Ja)+` Td
`,bl},Sc=0;Sc<rn.length;Sc++){switch(td="",kh){case 1:wo=(O?"<":"(")+rn[Sc][0]+(O?">":")"),Ji=parseFloat(rn[Sc][1]),fa=parseFloat(rn[Sc][2]);break;case 0:wo=(O?"<":"(")+rn[Sc]+(O?">":")"),Ji=Xl(Me),fa=Tu(Et)}ia!==void 0&&ia[Sc]!==void 0&&(td=ia[Sc]+` Tw
`),Sc===0?ue.push(td+kd(Ji,fa,Oo)+wo):kh===0?ue.push(td+wo):kh===1&&ue.push(td+kd(Ji,fa,Oo)+wo)}ue=kh===0?ue.join(` Tj
T* `):ue.join(` Tj
`),ue+=` Tj
`;var rd=`BT
/`;return rd+=Qn+" "+ln+` Tf
`,rd+=lr(ln*ee)+` TL
`,rd+=Ec+`
`,rd+=Be,rd+=ue,vt(rd+="ET"),lt[Qn]=!0,Na};var Q=Te.__private__.clip=Te.clip=function(ue){return vt(ue==="evenodd"?"W*":"W"),this};Te.clipEvenOdd=function(){return Q("evenodd")},Te.__private__.discardPath=Te.discardPath=function(){return vt("n"),this};var le=Te.__private__.isValidStyle=function(ue){var Me=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(ue)!==-1&&(Me=!0),Me};Te.__private__.setDefaultPathOperation=Te.setDefaultPathOperation=function(ue){return le(ue)&&(ke=ue),this};var Ee=Te.__private__.getStyle=Te.getStyle=function(ue){var Me=ke;switch(ue){case"D":case"S":Me="S";break;case"F":Me="f";break;case"FD":case"DF":Me="B";break;case"f":case"f*":case"B":case"B*":Me=ue}return Me},Ke=Te.close=function(){return vt("h"),this};Te.stroke=function(){return vt("S"),this},Te.fill=function(ue){return kt("f",ue),this},Te.fillEvenOdd=function(ue){return kt("f*",ue),this},Te.fillStroke=function(ue){return kt("B",ue),this},Te.fillStrokeEvenOdd=function(ue){return kt("B*",ue),this};var kt=function(ue,Me){(0,d.default)(Me)==="object"?qr(Me,ue):vt(ue)},er=function(ue){ue===null||It===qt&&ue===void 0||(ue=Ee(ue),vt(ue))};function Sr(ue,Me,Et,Bt,nr){var Kr=new He(Me||this.boundingBox,Et||this.xStep,Bt||this.yStep,this.gState,nr||this.matrix);Kr.stream=this.stream;var rn=ue+"$$"+this.cloneIndex+++"$$";return Ql(rn,Kr),Kr}var qr=function(ue,Me){var Et=Ys[ue.key],Bt=bi[Et];if(Bt instanceof Ue)vt("q"),vt(En(Me)),Bt.gState&&Te.setGState(Bt.gState),vt(ue.matrix.toString()+" cm"),vt("/"+Et+" sh"),vt("Q");else if(Bt instanceof He){var nr=new wi(1,0,0,-1,0,fh());ue.matrix&&(nr=nr.multiply(ue.matrix||Xa),Et=Sr.call(Bt,ue.key,ue.boundingBox,ue.xStep,ue.yStep,nr).id),vt("q"),vt("/Pattern cs"),vt("/"+Et+" scn"),Bt.gState&&Te.setGState(Bt.gState),vt(Me),vt("Q")}},En=function(ue){switch(ue){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},di=Te.moveTo=function(ue,Me){return vt(lr(Rt(ue))+" "+lr(Dt(Me))+" m"),this},As=Te.lineTo=function(ue,Me){return vt(lr(Rt(ue))+" "+lr(Dt(Me))+" l"),this},Da=Te.curveTo=function(ue,Me,Et,Bt,nr,Kr){return vt([lr(Rt(ue)),lr(Dt(Me)),lr(Rt(Et)),lr(Dt(Bt)),lr(Rt(nr)),lr(Dt(Kr)),"c"].join(" ")),this};Te.__private__.line=Te.line=function(ue,Me,Et,Bt,nr){if(isNaN(ue)||isNaN(Me)||isNaN(Et)||isNaN(Bt)||!le(nr))throw new Error("Invalid arguments passed to jsPDF.line");return It===Ot?this.lines([[Et-ue,Bt-Me]],ue,Me,[1,1],nr||"S"):this.lines([[Et-ue,Bt-Me]],ue,Me,[1,1]).stroke()},Te.__private__.lines=Te.lines=function(ue,Me,Et,Bt,nr,Kr){var rn,ri,ni,Yi,os,na,Ma,Oo,Na,Wo,O,Be;if(typeof ue=="number"&&(Be=Et,Et=Me,Me=ue,ue=Be),Bt=Bt||[1,1],Kr=Kr||!1,isNaN(Me)||isNaN(Et)||!Array.isArray(ue)||!Array.isArray(Bt)||!le(nr)||typeof Kr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(di(Me,Et),rn=Bt[0],ri=Bt[1],Yi=ue.length,Wo=Me,O=Et,ni=0;ni<Yi;ni++)(os=ue[ni]).length===2?(Wo=os[0]*rn+Wo,O=os[1]*ri+O,As(Wo,O)):(na=os[0]*rn+Wo,Ma=os[1]*ri+O,Oo=os[2]*rn+Wo,Na=os[3]*ri+O,Wo=os[4]*rn+Wo,O=os[5]*ri+O,Da(na,Ma,Oo,Na,Wo,O));return Kr&&Ke(),er(nr),this},Te.path=function(ue){for(var Me=0;Me<ue.length;Me++){var Et=ue[Me],Bt=Et.c;switch(Et.op){case"m":di(Bt[0],Bt[1]);break;case"l":As(Bt[0],Bt[1]);break;case"c":Da.apply(this,Bt);break;case"h":Ke()}}return this},Te.__private__.rect=Te.rect=function(ue,Me,Et,Bt,nr){if(isNaN(ue)||isNaN(Me)||isNaN(Et)||isNaN(Bt)||!le(nr))throw new Error("Invalid arguments passed to jsPDF.rect");return It===Ot&&(Bt=-Bt),vt([lr(Rt(ue)),lr(Dt(Me)),lr(Rt(Et)),lr(Rt(Bt)),"re"].join(" ")),er(nr),this},Te.__private__.triangle=Te.triangle=function(ue,Me,Et,Bt,nr,Kr,rn){if(isNaN(ue)||isNaN(Me)||isNaN(Et)||isNaN(Bt)||isNaN(nr)||isNaN(Kr)||!le(rn))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Et-ue,Bt-Me],[nr-Et,Kr-Bt],[ue-nr,Me-Kr]],ue,Me,[1,1],rn,!0),this},Te.__private__.roundedRect=Te.roundedRect=function(ue,Me,Et,Bt,nr,Kr,rn){if(isNaN(ue)||isNaN(Me)||isNaN(Et)||isNaN(Bt)||isNaN(nr)||isNaN(Kr)||!le(rn))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ri=4/3*(Math.SQRT2-1);return nr=Math.min(nr,.5*Et),Kr=Math.min(Kr,.5*Bt),this.lines([[Et-2*nr,0],[nr*ri,0,nr,Kr-Kr*ri,nr,Kr],[0,Bt-2*Kr],[0,Kr*ri,-nr*ri,Kr,-nr,Kr],[2*nr-Et,0],[-nr*ri,0,-nr,-Kr*ri,-nr,-Kr],[0,2*Kr-Bt],[0,-Kr*ri,nr*ri,-Kr,nr,-Kr]],ue+nr,Me,[1,1],rn,!0),this},Te.__private__.ellipse=Te.ellipse=function(ue,Me,Et,Bt,nr){if(isNaN(ue)||isNaN(Me)||isNaN(Et)||isNaN(Bt)||!le(nr))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Kr=4/3*(Math.SQRT2-1)*Et,rn=4/3*(Math.SQRT2-1)*Bt;return di(ue+Et,Me),Da(ue+Et,Me-rn,ue+Kr,Me-Bt,ue,Me-Bt),Da(ue-Kr,Me-Bt,ue-Et,Me-rn,ue-Et,Me),Da(ue-Et,Me+rn,ue-Kr,Me+Bt,ue,Me+Bt),Da(ue+Kr,Me+Bt,ue+Et,Me+rn,ue+Et,Me),er(nr),this},Te.__private__.circle=Te.circle=function(ue,Me,Et,Bt){if(isNaN(ue)||isNaN(Me)||isNaN(Et)||!le(Bt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(ue,Me,Et,Et,Bt)},Te.setFont=function(ue,Me,Et){return Et&&(Me=Nr(Me,Et)),Qn=Sd(ue,Me,{disableWarning:!1}),this};var Co=Te.__private__.getFont=Te.getFont=function(){return Zi[Sd.apply(Te,arguments)]};Te.__private__.getFontList=Te.getFontList=function(){var ue,Me,Et={};for(ue in xs)if(xs.hasOwnProperty(ue))for(Me in Et[ue]=[],xs[ue])xs[ue].hasOwnProperty(Me)&&Et[ue].push(Me);return Et},Te.addFont=function(ue,Me,Et,Bt,nr){var Kr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Kr.indexOf(arguments[3])!==-1?nr=arguments[3]:arguments[3]&&Kr.indexOf(arguments[3])==-1&&(Et=Nr(Et,Bt)),Io.call(this,ue,Me,Et,nr=nr||"Identity-H")};var il,Zs=P.lineWidth||.200025,la=Te.__private__.getLineWidth=Te.getLineWidth=function(){return Zs},In=Te.__private__.setLineWidth=Te.setLineWidth=function(ue){return Zs=ue,vt(lr(Rt(ue))+" w"),this};Te.__private__.setLineDash=Ye.API.setLineDash=Ye.API.setLineDashPattern=function(ue,Me){if(ue=ue||[],Me=Me||0,isNaN(Me)||!Array.isArray(ue))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return ue=ue.map(function(Et){return lr(Rt(Et))}).join(" "),Me=lr(Rt(Me)),vt("["+ue+"] "+Me+" d"),this};var Ju=Te.__private__.getLineHeight=Te.getLineHeight=function(){return ln*il};Te.__private__.getLineHeight=Te.getLineHeight=function(){return ln*il};var wc=Te.__private__.setLineHeightFactor=Te.setLineHeightFactor=function(ue){return typeof(ue=ue||1.15)=="number"&&(il=ue),this},jd=Te.__private__.getLineHeightFactor=Te.getLineHeightFactor=function(){return il};wc(P.lineHeight);var Xl=Te.__private__.getHorizontalCoordinate=function(ue){return Rt(ue)},Tu=Te.__private__.getVerticalCoordinate=function(ue){return It===qt?ue:_n[Ct].mediaBox.topRightY-_n[Ct].mediaBox.bottomLeftY-Rt(ue)},ao=Te.__private__.getHorizontalCoordinateString=Te.getHorizontalCoordinateString=function(ue){return lr(Xl(ue))},Cu=Te.__private__.getVerticalCoordinateString=Te.getVerticalCoordinateString=function(ue){return lr(Tu(ue))},Go=P.strokeColor||"0 G";Te.__private__.getStrokeColor=Te.getDrawColor=function(){return Ka(Go)},Te.__private__.setStrokeColor=Te.setDrawColor=function(ue,Me,Et,Bt){return Go=Vl({ch1:ue,ch2:Me,ch3:Et,ch4:Bt,pdfColorType:"draw",precision:2}),vt(Go),this};var Td=P.fillColor||"0 g";Te.__private__.getFillColor=Te.getFillColor=function(){return Ka(Td)},Te.__private__.setFillColor=Te.setFillColor=function(ue,Me,Et,Bt){return Td=Vl({ch1:ue,ch2:Me,ch3:Et,ch4:Bt,pdfColorType:"fill",precision:2}),vt(Td),this};var Ec=P.textColor||"0 g",Gd=Te.__private__.getTextColor=Te.getTextColor=function(){return Ka(Ec)};Te.__private__.setTextColor=Te.setTextColor=function(ue,Me,Et,Bt){return Ec=Vl({ch1:ue,ch2:Me,ch3:Et,ch4:Bt,pdfColorType:"text",precision:3}),this};var Zl=P.charSpace,Nu=Te.__private__.getCharSpace=Te.getCharSpace=function(){return parseFloat(Zl||0)};Te.__private__.setCharSpace=Te.setCharSpace=function(ue){if(isNaN(ue))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Zl=ue,this};var _c=0;Te.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Te.__private__.setLineCap=Te.setLineCap=function(ue){var Me=Te.CapJoinStyles[ue];if(Me===void 0)throw new Error("Line cap style of '"+ue+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _c=Me,vt(Me+" J"),this};var Gc=0;Te.__private__.setLineJoin=Te.setLineJoin=function(ue){var Me=Te.CapJoinStyles[ue];if(Me===void 0)throw new Error("Line join style of '"+ue+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gc=Me,vt(Me+" j"),this},Te.__private__.setLineMiterLimit=Te.__private__.setMiterLimit=Te.setLineMiterLimit=Te.setMiterLimit=function(ue){if(ue=ue||0,isNaN(ue))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return vt(lr(Rt(ue))+" M"),this},Te.GState=ct,Te.setGState=function(ue){(ue=typeof ue=="string"?Qi[oi[ue]]:Th(null,ue)).equals(da)||(vt("/"+ue.id+" gs"),da=ue)};var Th=function(ue,Me){if(!ue||!oi[ue]){var Et=!1;for(var Bt in Qi)if(Qi.hasOwnProperty(Bt)&&Qi[Bt].equals(Me)){Et=!0;break}if(Et)Me=Qi[Bt];else{var nr="GS"+(Object.keys(Qi).length+1).toString(10);Qi[nr]=Me,Me.id=nr}return ue&&(oi[ue]=Me.id),cs.publish("addGState",Me),Me}};Te.addGState=function(ue,Me){return Th(ue,Me),this},Te.saveGraphicsState=function(){return vt("q"),Ca.push({key:Qn,size:ln,color:Ec}),this},Te.restoreGraphicsState=function(){vt("Q");var ue=Ca.pop();return Qn=ue.key,ln=ue.size,Ec=ue.color,da=null,this},Te.setCurrentTransformationMatrix=function(ue){return vt(ue.toString()+" cm"),this},Te.comment=function(ue){return vt("#"+ue),this};var lu=function(ue,Me){var Et=ue||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Et},set:function(Kr){isNaN(Kr)||(Et=parseFloat(Kr))}});var Bt=Me||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Bt},set:function(Kr){isNaN(Kr)||(Bt=parseFloat(Kr))}});var nr="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return nr},set:function(Kr){nr=Kr.toString()}}),this},Cd=function(ue,Me,Et,Bt){lu.call(this,ue,Me),this.type="rect";var nr=Et||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return nr},set:function(rn){isNaN(rn)||(nr=parseFloat(rn))}});var Kr=Bt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Kr},set:function(rn){isNaN(rn)||(Kr=parseFloat(rn))}}),this},uh=function(){this.page=Ii,this.currentPage=Ct,this.pages=pn.slice(0),this.pagesContext=_n.slice(0),this.x=Xn,this.y=Gi,this.matrix=is,this.width=Ch(Ct),this.height=Wm(Ct),this.outputDestination=Fn,this.id="",this.objectNumber=-1};uh.prototype.restore=function(){Ii=this.page,Ct=this.currentPage,_n=this.pagesContext,pn=this.pages,Xn=this.x,Gi=this.y,is=this.matrix,dm(Ct,this.width),dh(Ct,this.height),Fn=this.outputDestination};var Wc=function(ue,Me,Et,Bt,nr){rc.push(new uh),Ii=Ct=0,pn=[],Xn=ue,Gi=Me,is=nr,au([Et,Bt])};for(var bo in Te.beginFormObject=function(ue,Me,Et,Bt,nr){return Wc(ue,Me,Et,Bt,nr),this},Te.endFormObject=function(ue){return(function(Me){if(Ko[Me])rc.pop().restore();else{var Et=new uh,Bt="Xo"+(Object.keys(so).length+1).toString(10);Et.id=Bt,Ko[Me]=Bt,so[Bt]=Et,cs.publish("addFormObject",Et),rc.pop().restore()}})(ue),this},Te.doFormObject=function(ue,Me){var Et=so[Ko[ue]];return vt("q"),vt(Me.toString()+" cm"),vt("/"+Et.id+" Do"),vt("Q"),this},Te.getFormObject=function(ue){var Me=so[Ko[ue]];return{x:Me.x,y:Me.y,width:Me.width,height:Me.height,matrix:Me.matrix}},Te.save=function(ue,Me){return ue=ue||"generated.pdf",(Me=Me||{}).returnPromise=Me.returnPromise||!1,Me.returnPromise===!1?(N(Kc(Vc()),ue),typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),this):new Promise(function(Et,Bt){try{var nr=N(Kc(Vc()),ue);typeof N.unload=="function"&&g.setTimeout&&setTimeout(N.unload,911),Et(nr)}catch(Kr){Bt(Kr.message)}})},Ye.API)Ye.API.hasOwnProperty(bo)&&(bo==="events"&&Ye.API.events.length?(function(ue,Me){var Et,Bt,nr;for(nr=Me.length-1;nr!==-1;nr--)Et=Me[nr][0],Bt=Me[nr][1],ue.subscribe.apply(ue,[Et].concat(typeof Bt=="function"?[Bt]:Bt))})(cs,Ye.API.events):Te[bo]=Ye.API[bo]);function Ch(ue){return _n[ue].mediaBox.topRightX-_n[ue].mediaBox.bottomLeftX}function dm(ue,Me){_n[ue].mediaBox.topRightX=Me+_n[ue].mediaBox.bottomLeftX}function Wm(ue){return _n[ue].mediaBox.topRightY-_n[ue].mediaBox.bottomLeftY}function dh(ue,Me){_n[ue].mediaBox.topRightY=Me+_n[ue].mediaBox.bottomLeftY}var hh=Te.getPageWidth=function(ue){return Ch(ue=ue||Ct)/Li},Po=Te.setPageWidth=function(ue,Me){dm(ue,Me*Li)},fh=Te.getPageHeight=function(ue){return Wm(ue=ue||Ct)/Li},Nh=Te.setPageHeight=function(ue,Me){dh(ue,Me*Li)};return Te.internal={pdfEscape:vl,getStyle:Ee,getFont:Co,getFontSize:Hn,getCharSpace:Nu,getTextColor:Gd,getLineHeight:Ju,getLineHeightFactor:jd,getLineWidth:la,write:Cn,getHorizontalCoordinate:Xl,getVerticalCoordinate:Tu,getCoordinateString:ao,getVerticalCoordinateString:Cu,collections:{},newObject:ha,newAdditionalObject:zc,newObjectDeferred:yo,newObjectDeferredBegin:Za,getFilters:Kl,putStream:Bl,events:cs,scaleFactor:Li,pageSize:{getWidth:function(){return hh(Ct)},setWidth:function(ue){Po(Ct,ue)},getHeight:function(){return fh(Ct)},setHeight:function(ue){Nh(Ct,ue)}},encryptionOptions:Ve,encryption:Bo,getEncryptor:function(ue){return Ve!==null?Bo.encryptor(ue,0):function(Me){return Me}},output:Zu,getNumberOfPages:Xu,get pages(){return pn},out:vt,f2:at,f3:At,getPageInfo:ou,getPageInfoByObjId:v,getCurrentPageInfo:S,getPDFVersion:ot,Point:lu,Rectangle:Cd,Matrix:wi,hasHotfix:bc},Object.defineProperty(Te.internal.pageSize,"width",{get:function(){return hh(Ct)},set:function(ue){Po(Ct,ue)},enumerable:!0,configurable:!0}),Object.defineProperty(Te.internal.pageSize,"height",{get:function(){return fh(Ct)},set:function(ue){Nh(Ct,ue)},enumerable:!0,configurable:!0}),(function(ue){for(var Me=0,Et=Nn.length;Me<Et;Me++){var Bt=Io.call(this,ue[Me][0],ue[Me][1],ue[Me][2],Nn[Me][3],!0);Je===!1&&(lt[Bt]=!0);var nr=ue[Me][0].split("-");ql({id:Bt,fontName:nr[0],fontStyle:nr[1]||""})}cs.publish("addFonts",{fonts:Zi,dictionary:xs})}).call(Te,Nn),Qn="F1",xc(Z,F),cs.publish("initialized"),Te}Oe.prototype.lsbFirstWord=function(P){return String.fromCharCode(255&P,P>>8&255,P>>16&255,P>>24&255)},Oe.prototype.toHexString=function(P){return P.split("").map(function(k){return("0"+(255&k.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oe.prototype.hexToBytes=function(P){for(var k=[],F=0;F<P.length;F+=2)k.push(String.fromCharCode(parseInt(P.substr(F,2),16)));return k.join("")},Oe.prototype.processOwnerPassword=function(P,k){return he(Re(k).substr(0,5),P)},Oe.prototype.encryptor=function(P,k){var F=Re(this.encryptionKey+String.fromCharCode(255&P,P>>8&255,P>>16&255,255&k,k>>8&255)).substr(0,10);return function(G){return he(F,G)}},ct.prototype.equals=function(P){var k,F="id,objectNumber,equals";if(!P||(0,d.default)(P)!==(0,d.default)(this))return!1;var G=0;for(k in this)if(!(F.indexOf(k)>=0)){if(this.hasOwnProperty(k)&&!P.hasOwnProperty(k)||this[k]!==P[k])return!1;G++}for(k in P)P.hasOwnProperty(k)&&F.indexOf(k)<0&&G--;return G===0},Ye.API={events:[]},Ye.version="4.0.0";var Se=Ye.API,mt=1,qe=function(P){return P.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tt=function(P){return P.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(P){return P.toFixed(2)},gt=function(P){return P.toFixed(5)};Se.__acroform__={};var wt=function(P,k){P.prototype=Object.create(k.prototype),P.prototype.constructor=P},rr=function(P){return P*mt},Jt=function(P){var k=new Jr,F=dn.internal.getHeight(P)||0,G=dn.internal.getWidth(P)||0;return k.BBox=[0,0,Number(bt(G)),Number(bt(F))],k},ar=Se.__acroform__.setBit=function(P,k){if(P=P||0,k=k||0,isNaN(P)||isNaN(k))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return P|1<<k},Dr=Se.__acroform__.clearBit=function(P,k){if(P=P||0,k=k||0,isNaN(P)||isNaN(k))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return P&~(1<<k)},mn=Se.__acroform__.getBit=function(P,k){if(isNaN(P)||isNaN(k))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return P&1<<k?1:0},$r=Se.__acroform__.getBitForPdf=function(P,k){if(isNaN(P)||isNaN(k))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return mn(P,k-1)},or=Se.__acroform__.setBitForPdf=function(P,k){if(isNaN(P)||isNaN(k))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ar(P,k-1)},vr=Se.__acroform__.clearBitForPdf=function(P,k){if(isNaN(P)||isNaN(k))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Dr(P,k-1)},cn=Se.__acroform__.calculateCoordinates=function(P,k){var F=k.internal.getHorizontalCoordinate,G=k.internal.getVerticalCoordinate,Z=P[0],re=P[1],xe=P[2],fe=P[3],Ae={};return Ae.lowerLeft_X=F(Z)||0,Ae.lowerLeft_Y=G(re+fe)||0,Ae.upperRight_X=F(Z+xe)||0,Ae.upperRight_Y=G(re)||0,[Number(bt(Ae.lowerLeft_X)),Number(bt(Ae.lowerLeft_Y)),Number(bt(Ae.upperRight_X)),Number(bt(Ae.upperRight_Y))]},bn=function(P){if(P.appearanceStreamContent)return P.appearanceStreamContent;if(P.V||P.DV){var k=[],F=P._V||P.DV,G=Un(P,F),Z=P.scope.internal.getFont(P.fontName,P.fontStyle).id;k.push("/Tx BMC"),k.push("q"),k.push("BT"),k.push(P.scope.__private__.encodeColorString(P.color)),k.push("/"+Z+" "+bt(G.fontSize)+" Tf"),k.push("1 0 0 1 0 0 Tm"),k.push(G.text),k.push("ET"),k.push("Q"),k.push("EMC");var re=Jt(P);return re.scope=P.scope,re.stream=k.join(`
`),re}},Un=function(P,k){var F=P.fontSize===0?P.maxFontSize:P.fontSize,G={text:"",fontSize:""},Z=(k=(k=k.substr(0,1)=="("?k.substr(1):k).substr(k.length-1)==")"?k.substr(0,k.length-1):k).split(" ");Z=P.multiline?Z.map(function(at){return at.split(`
`)}):Z.map(function(at){return[at]});var re=F,xe=dn.internal.getHeight(P)||0;xe=xe<0?-xe:xe;var fe=dn.internal.getWidth(P)||0;fe=fe<0?-fe:fe;var Ae=function(at,At,Rt){if(at+1<Z.length){var Dt=At+" "+Z[at+1][0];return st(Dt,P,Rt).width<=fe-4}return!1};re++;e:for(;re>0;){k="",re--;var ke,Ve,Je=st("3",P,re).height,lt=P.multiline?xe-re:(xe-Je)/2,Te=lt+=2,jt=0,ot=0,Nt=0;if(re<=0){k=`(...) Tj
`,k+="% Width of Text: "+st(k,P,re=12).width+", FieldWidth:"+fe+`
`;break}for(var nt="",Ot=0,qt=0;qt<Z.length;qt++)if(Z.hasOwnProperty(qt)){var It=!1;if(Z[qt].length!==1&&Nt!==Z[qt].length-1){if((Je+2)*(Ot+2)+2>xe)continue e;nt+=Z[qt][Nt],It=!0,ot=qt,qt--}else{nt=(nt+=Z[qt][Nt]+" ").substr(nt.length-1)==" "?nt.substr(0,nt.length-1):nt;var rt=parseInt(qt),Kt=Ae(rt,nt,re),Nr=qt>=Z.length-1;if(Kt&&!Nr){nt+=" ",Nt=0;continue}if(Kt||Nr){if(Nr)ot=rt;else if(P.multiline&&(Je+2)*(Ot+2)+2>xe)continue e}else{if(!P.multiline||(Je+2)*(Ot+2)+2>xe)continue e;ot=rt}}for(var lr="",Mt=jt;Mt<=ot;Mt++){var _r=Z[Mt];if(P.multiline){if(Mt===ot){lr+=_r[Nt]+" ",Nt=(Nt+1)%_r.length;continue}if(Mt===jt){lr+=_r[_r.length-1]+" ";continue}}lr+=_r[0]+" "}switch(lr=lr.substr(lr.length-1)==" "?lr.substr(0,lr.length-1):lr,Ve=st(lr,P,re).width,P.textAlign){case"right":ke=fe-Ve-2;break;case"center":ke=(fe-Ve)/2;break;default:ke=2}k+=bt(ke)+" "+bt(Te)+` Td
`,k+="("+qe(lr)+`) Tj
`,k+=-bt(ke)+` 0 Td
`,Te=-(re+2),Ve=0,jt=It?ot:ot+1,Ot++,nt=""}break}return G.text=k,G.fontSize=re,G},st=function(P,k,F){var G=k.scope.internal.getFont(k.fontName,k.fontStyle),Z=k.scope.getStringUnitWidth(P,{font:G,fontSize:parseFloat(F),charSpace:0})*parseFloat(F);return{height:k.scope.getStringUnitWidth("3",{font:G,fontSize:parseFloat(F),charSpace:0})*parseFloat(F)*1.5,width:Z}},Ht={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Lr=function(P,k){var F={type:"reference",object:P};k.internal.getPageInfo(P.page).pageContext.annotations.find(function(G){return G.type===F.type&&G.object===F.object})===void 0&&k.internal.getPageInfo(P.page).pageContext.annotations.push(F)},tr=function(P,k){if(k.scope=P,P.internal!==void 0&&(P.internal.acroformPlugin===void 0||P.internal.acroformPlugin.isInitialized===!1)){if(un.FieldNum=0,P.internal.acroformPlugin=JSON.parse(JSON.stringify(Ht)),P.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mt=P.internal.scaleFactor,P.internal.acroformPlugin.acroFormDictionaryRoot=new kn,P.internal.acroformPlugin.acroFormDictionaryRoot.scope=P,P.internal.acroformPlugin.acroFormDictionaryRoot._eventID=P.internal.events.subscribe("postPutResources",function(){(function(F){F.internal.events.unsubscribe(F.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete F.internal.acroformPlugin.acroFormDictionaryRoot._eventID,F.internal.acroformPlugin.printedOut=!0})(P)}),P.internal.events.subscribe("buildDocument",function(){(function(F){F.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var G=F.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Z in G)if(G.hasOwnProperty(Z)){var re=G[Z];re.objId=void 0,re.hasAnnotation&&Lr(re,F)}})(P)}),P.internal.events.subscribe("putCatalog",function(){(function(F){if(F.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");F.internal.write("/AcroForm "+F.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(P)}),P.internal.events.subscribe("postPutPages",function(F){(function(G,Z){var re=!G;for(var xe in G||(Z.internal.newObjectDeferredBegin(Z.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Z.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),G=G||Z.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(G.hasOwnProperty(xe)){var fe=G[xe],Ae=[],ke=fe.Rect;if(fe.Rect&&(fe.Rect=cn(fe.Rect,Z)),Z.internal.newObjectDeferredBegin(fe.objId,!0),fe.DA=dn.createDefaultAppearanceStream(fe),(0,d.default)(fe)==="object"&&typeof fe.getKeyValueListForStream=="function"&&(Ae=fe.getKeyValueListForStream()),fe.Rect=ke,fe.hasAppearanceStream&&!fe.appearanceStreamContent){var Ve=bn(fe);Ae.push({key:"AP",value:"<</N "+Ve+">>"}),Z.internal.acroformPlugin.xForms.push(Ve)}if(fe.appearanceStreamContent){var Je="";for(var lt in fe.appearanceStreamContent)if(fe.appearanceStreamContent.hasOwnProperty(lt)){var Te=fe.appearanceStreamContent[lt];if(Je+="/"+lt+" ",Je+="<<",Object.keys(Te).length>=1||Array.isArray(Te)){for(var xe in Te)if(Te.hasOwnProperty(xe)){var jt=Te[xe];typeof jt=="function"&&(jt=jt.call(Z,fe)),Je+="/"+xe+" "+jt+" ",Z.internal.acroformPlugin.xForms.indexOf(jt)>=0||Z.internal.acroformPlugin.xForms.push(jt)}}else typeof(jt=Te)=="function"&&(jt=jt.call(Z,fe)),Je+="/"+xe+" "+jt,Z.internal.acroformPlugin.xForms.indexOf(jt)>=0||Z.internal.acroformPlugin.xForms.push(jt);Je+=">>"}Ae.push({key:"AP",value:`<<
`+Je+">>"})}Z.internal.putStream({additionalKeyValues:Ae,objectId:fe.objId}),Z.internal.out("endobj")}re&&(function(ot,Nt){for(var nt in ot)if(ot.hasOwnProperty(nt)){var Ot=nt,qt=ot[nt];Nt.internal.newObjectDeferredBegin(qt.objId,!0),(0,d.default)(qt)==="object"&&typeof qt.putStream=="function"&&qt.putStream(),delete ot[Ot]}})(Z.internal.acroformPlugin.xForms,Z)})(F,P)}),P.internal.acroformPlugin.isInitialized=!0}},Qt=Se.__acroform__.arrayToPdfArray=function(P,k,F){var G=function(xe){return xe};if(Array.isArray(P)){for(var Z="[",re=0;re<P.length;re++)switch(re!==0&&(Z+=" "),(0,d.default)(P[re])){case"boolean":case"number":case"object":Z+=P[re].toString();break;case"string":P[re].substr(0,1)!=="/"?(k!==void 0&&F&&(G=F.internal.getEncryptor(k)),Z+="("+qe(G(P[re].toString()))+")"):Z+=P[re].toString()}return Z+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},dr=function(P,k,F){var G=function(Z){return Z};return k!==void 0&&F&&(G=F.internal.getEncryptor(k)),(P=P||"").toString(),"("+qe(G(P))+")"},Wr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(P){this._objId=P}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wr.prototype.toString=function(){return this.objId+" 0 R"},Wr.prototype.putStream=function(){var P=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:P,objectId:this.objId}),this.scope.internal.out("endobj")},Wr.prototype.getKeyValueListForStream=function(){var P=[],k=Object.getOwnPropertyNames(this).filter(function(re){return re!="content"&&re!="appearanceStreamContent"&&re!="scope"&&re!="objId"&&re.substring(0,1)!="_"});for(var F in k)if(Object.getOwnPropertyDescriptor(this,k[F]).configurable===!1){var G=k[F],Z=this[G];Z&&(Array.isArray(Z)?P.push({key:G,value:Qt(Z,this.objId,this.scope)}):Z instanceof Wr?(Z.scope=this.scope,P.push({key:G,value:Z.objId+" 0 R"})):typeof Z!="function"&&P.push({key:G,value:Z}))}return P};var Jr=function(){Wr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var P,k=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return k},set:function(F){k=F}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(F){P=F.trim()},get:function(){return P||null}})};wt(Jr,Wr);var kn=function(){Wr.call(this);var P,k=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return k.length>0?k:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return k}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(P){var F=function(G){return G};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+qe(F(P))+")"}},set:function(F){P=F}})};wt(kn,Wr);var un=function P(){Wr.call(this);var k=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return k},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute F supplied.');k=nt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!$r(k,3)},set:function(nt){nt?this.F=or(k,3):this.F=vr(k,3)}});var F=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return F},set:function(nt){if(isNaN(nt))throw new Error('Invalid value "'+nt+'" for attribute Ff supplied.');F=nt}});var G=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(G.length!==0)return G},set:function(nt){G=nt!==void 0?nt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[0])?0:G[0]},set:function(nt){G[0]=nt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[1])?0:G[1]},set:function(nt){G[1]=nt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[2])?0:G[2]},set:function(nt){G[2]=nt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!G||isNaN(G[3])?0:G[3]},set:function(nt){G[3]=nt}});var Z="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Z},set:function(nt){switch(nt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Z=nt;break;default:throw new Error('Invalid value "'+nt+'" for attribute FT supplied.')}}});var re=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!re||re.length<1){if(this instanceof Cs)return;re="FieldObject"+P.FieldNum++}var nt=function(Ot){return Ot};return this.scope&&(nt=this.scope.internal.getEncryptor(this.objId)),"("+qe(nt(re))+")"},set:function(nt){re=nt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return re},set:function(nt){re=nt}});var xe="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return xe},set:function(nt){xe=nt}});var fe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return fe},set:function(nt){fe=nt}});var Ae=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Ae},set:function(nt){Ae=nt}});var ke=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return ke===void 0?50/mt:ke},set:function(nt){ke=nt}});var Ve="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(nt){Ve=nt}});var Je="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Je||this instanceof Cs||this instanceof Ns))return dr(Je,this.objId,this.scope)},set:function(nt){nt=nt.toString(),Je=nt}});var lt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(lt)return this instanceof An==0?dr(lt,this.objId,this.scope):lt},set:function(nt){nt=nt.toString(),lt=this instanceof An==0?nt.substr(0,1)==="("?Tt(nt.substr(1,nt.length-2)):Tt(nt):nt}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Tt(lt.substr(1,lt.length-1)):lt},set:function(nt){nt=nt.toString(),lt=this instanceof An==1?"/"+nt:nt}});var Te=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Te)return Te},set:function(nt){this.V=nt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Te)return this instanceof An==0?dr(Te,this.objId,this.scope):Te},set:function(nt){nt=nt.toString(),Te=this instanceof An==0?nt.substr(0,1)==="("?Tt(nt.substr(1,nt.length-2)):Tt(nt):nt}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof An==1?Tt(Te.substr(1,Te.length-1)):Te},set:function(nt){nt=nt.toString(),Te=this instanceof An==1?"/"+nt:nt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var jt,ot=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return ot},set:function(nt){nt=!!nt,ot=nt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(jt)return jt},set:function(nt){jt=nt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,1)},set:function(nt){nt?this.Ff=or(this.Ff,1):this.Ff=vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,2)},set:function(nt){nt?this.Ff=or(this.Ff,2):this.Ff=vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,3)},set:function(nt){nt?this.Ff=or(this.Ff,3):this.Ff=vr(this.Ff,3)}});var Nt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Nt!==null)return Nt},set:function(nt){if([0,1,2].indexOf(nt)===-1)throw new Error('Invalid value "'+nt+'" for attribute Q supplied.');Nt=nt}}),Object.defineProperty(this,"textAlign",{get:function(){var nt;switch(Nt){case 0:default:nt="left";break;case 1:nt="center";break;case 2:nt="right"}return nt},configurable:!0,enumerable:!0,set:function(nt){switch(nt){case"right":case 2:Nt=2;break;case"center":case 1:Nt=1;break;default:Nt=0}}})};wt(un,Wr);var Yn=function(){un.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var P=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return P},set:function(F){P=F}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return P},set:function(F){P=F}});var k=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qt(k,this.objId,this.scope)},set:function(F){var G,Z;Z=[],typeof(G=F)=="string"&&(Z=(function(re,xe,fe){fe||(fe=1);for(var Ae,ke=[];Ae=xe.exec(re);)ke.push(Ae[fe]);return ke})(G,/\((.*?)\)/g)),k=Z}}),this.getOptions=function(){return k},this.setOptions=function(F){k=F,this.sort&&k.sort()},this.addOption=function(F){F=(F=F||"").toString(),k.push(F),this.sort&&k.sort()},this.removeOption=function(F,G){for(G=G||!1,F=(F=F||"").toString();k.indexOf(F)!==-1&&(k.splice(k.indexOf(F),1),G!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,18)},set:function(F){F?this.Ff=or(this.Ff,18):this.Ff=vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,19)},set:function(F){this.combo===!0&&(F?this.Ff=or(this.Ff,19):this.Ff=vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,20)},set:function(F){F?(this.Ff=or(this.Ff,20),k.sort()):this.Ff=vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,22)},set:function(F){F?this.Ff=or(this.Ff,22):this.Ff=vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,23)},set:function(F){F?this.Ff=or(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,27)},set:function(F){F?this.Ff=or(this.Ff,27):this.Ff=vr(this.Ff,27)}}),this.hasAppearanceStream=!1};wt(Yn,un);var on=function(){Yn.call(this),this.fontName="helvetica",this.combo=!1};wt(on,Yn);var Vr=function(){on.call(this),this.combo=!0};wt(Vr,on);var xn=function(){Vr.call(this),this.edit=!0};wt(xn,Vr);var An=function(){un.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,15)},set:function(F){F?this.Ff=or(this.Ff,15):this.Ff=vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,16)},set:function(F){F?this.Ff=or(this.Ff,16):this.Ff=vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,17)},set:function(F){F?this.Ff=or(this.Ff,17):this.Ff=vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,26)},set:function(F){F?this.Ff=or(this.Ff,26):this.Ff=vr(this.Ff,26)}});var P,k={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var F=function(re){return re};if(this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),Object.keys(k).length!==0){var G,Z=[];for(G in Z.push("<<"),k)Z.push("/"+G+" ("+qe(F(k[G]))+")");return Z.push(">>"),Z.join(`
`)}},set:function(F){(0,d.default)(F)==="object"&&(k=F)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return k.CA||""},set:function(F){typeof F=="string"&&(k.CA=F)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return P},set:function(F){P=F}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return P.substr(1,P.length-1)},set:function(F){P="/"+F}})};wt(An,un);var Mn=function(){An.call(this),this.pushButton=!0};wt(Mn,An);var ci=function(){An.call(this),this.radio=!0,this.pushButton=!1;var P=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return P},set:function(k){P=k!==void 0?k:[]}})};wt(ci,An);var Cs=function(){var P,k;un.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return P},set:function(Z){P=Z}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return k},set:function(Z){k=Z}});var F,G={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Z=function(fe){return fe};this.scope&&(Z=this.scope.internal.getEncryptor(this.objId));var re,xe=[];for(re in xe.push("<<"),G)xe.push("/"+re+" ("+qe(Z(G[re]))+")");return xe.push(">>"),xe.join(`
`)},set:function(Z){(0,d.default)(Z)==="object"&&(G=Z)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return G.CA||""},set:function(Z){typeof Z=="string"&&(G.CA=Z)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return F},set:function(Z){F=Z}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return F.substr(1,F.length-1)},set:function(Z){F="/"+Z}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wt(Cs,un),ci.prototype.setAppearance=function(P){if(!("createAppearanceStream"in P)||!("getCA"in P))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var k in this.Kids)if(this.Kids.hasOwnProperty(k)){var F=this.Kids[k];F.appearanceStreamContent=P.createAppearanceStream(F.optionName),F.caption=P.getCA()}},ci.prototype.createOption=function(P){var k=new Cs;return k.Parent=this,k.optionName=P,this.Kids.push(k),as.call(this.scope,k),k};var Ms=function(){An.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dn.CheckBox.createAppearanceStream()};wt(Ms,An);var Ns=function(){un.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,13)},set:function(k){k?this.Ff=or(this.Ff,13):this.Ff=vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,21)},set:function(k){k?this.Ff=or(this.Ff,21):this.Ff=vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,23)},set:function(k){k?this.Ff=or(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,24)},set:function(k){k?this.Ff=or(this.Ff,24):this.Ff=vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,25)},set:function(k){k?this.Ff=or(this.Ff,25):this.Ff=vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,26)},set:function(k){k?this.Ff=or(this.Ff,26):this.Ff=vr(this.Ff,26)}});var P=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return P},set:function(k){P=k}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return P},set:function(k){Number.isInteger(k)&&(P=k)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wt(Ns,un);var ti=function(){Ns.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!$r(this.Ff,14)},set:function(P){P?this.Ff=or(this.Ff,14):this.Ff=vr(this.Ff,14)}}),this.password=!0};wt(ti,Ns);var dn={CheckBox:{createAppearanceStream:function(){return{N:{On:dn.CheckBox.YesNormal},D:{On:dn.CheckBox.YesPushDown,Off:dn.CheckBox.OffPushDown}}},YesPushDown:function(P){var k=Jt(P);k.scope=P.scope;var F=[],G=P.scope.internal.getFont(P.fontName,P.fontStyle).id,Z=P.scope.__private__.encodeColorString(P.color),re=Un(P,P.caption);return F.push("0.749023 g"),F.push("0 0 "+bt(dn.internal.getWidth(P))+" "+bt(dn.internal.getHeight(P))+" re"),F.push("f"),F.push("BMC"),F.push("q"),F.push("0 0 1 rg"),F.push("/"+G+" "+bt(re.fontSize)+" Tf "+Z),F.push("BT"),F.push(re.text),F.push("ET"),F.push("Q"),F.push("EMC"),k.stream=F.join(`
`),k},YesNormal:function(P){var k=Jt(P);k.scope=P.scope;var F=P.scope.internal.getFont(P.fontName,P.fontStyle).id,G=P.scope.__private__.encodeColorString(P.color),Z=[],re=dn.internal.getHeight(P),xe=dn.internal.getWidth(P),fe=Un(P,P.caption);return Z.push("1 g"),Z.push("0 0 "+bt(xe)+" "+bt(re)+" re"),Z.push("f"),Z.push("q"),Z.push("0 0 1 rg"),Z.push("0 0 "+bt(xe-1)+" "+bt(re-1)+" re"),Z.push("W"),Z.push("n"),Z.push("0 g"),Z.push("BT"),Z.push("/"+F+" "+bt(fe.fontSize)+" Tf "+G),Z.push(fe.text),Z.push("ET"),Z.push("Q"),k.stream=Z.join(`
`),k},OffPushDown:function(P){var k=Jt(P);k.scope=P.scope;var F=[];return F.push("0.749023 g"),F.push("0 0 "+bt(dn.internal.getWidth(P))+" "+bt(dn.internal.getHeight(P))+" re"),F.push("f"),k.stream=F.join(`
`),k}},RadioButton:{Circle:{createAppearanceStream:function(P){var k={D:{Off:dn.RadioButton.Circle.OffPushDown},N:{}};return k.N[P]=dn.RadioButton.Circle.YesNormal,k.D[P]=dn.RadioButton.Circle.YesPushDown,k},getCA:function(){return"l"},YesNormal:function(P){var k=Jt(P);k.scope=P.scope;var F=[],G=dn.internal.getWidth(P)<=dn.internal.getHeight(P)?dn.internal.getWidth(P)/4:dn.internal.getHeight(P)/4;G=Number((.9*G).toFixed(5));var Z=dn.internal.Bezier_C,re=Number((G*Z).toFixed(5));return F.push("q"),F.push("1 0 0 1 "+gt(dn.internal.getWidth(P)/2)+" "+gt(dn.internal.getHeight(P)/2)+" cm"),F.push(G+" 0 m"),F.push(G+" "+re+" "+re+" "+G+" 0 "+G+" c"),F.push("-"+re+" "+G+" -"+G+" "+re+" -"+G+" 0 c"),F.push("-"+G+" -"+re+" -"+re+" -"+G+" 0 -"+G+" c"),F.push(re+" -"+G+" "+G+" -"+re+" "+G+" 0 c"),F.push("f"),F.push("Q"),k.stream=F.join(`
`),k},YesPushDown:function(P){var k=Jt(P);k.scope=P.scope;var F=[],G=dn.internal.getWidth(P)<=dn.internal.getHeight(P)?dn.internal.getWidth(P)/4:dn.internal.getHeight(P)/4;G=Number((.9*G).toFixed(5));var Z=Number((2*G).toFixed(5)),re=Number((Z*dn.internal.Bezier_C).toFixed(5)),xe=Number((G*dn.internal.Bezier_C).toFixed(5));return F.push("0.749023 g"),F.push("q"),F.push("1 0 0 1 "+gt(dn.internal.getWidth(P)/2)+" "+gt(dn.internal.getHeight(P)/2)+" cm"),F.push(Z+" 0 m"),F.push(Z+" "+re+" "+re+" "+Z+" 0 "+Z+" c"),F.push("-"+re+" "+Z+" -"+Z+" "+re+" -"+Z+" 0 c"),F.push("-"+Z+" -"+re+" -"+re+" -"+Z+" 0 -"+Z+" c"),F.push(re+" -"+Z+" "+Z+" -"+re+" "+Z+" 0 c"),F.push("f"),F.push("Q"),F.push("0 g"),F.push("q"),F.push("1 0 0 1 "+gt(dn.internal.getWidth(P)/2)+" "+gt(dn.internal.getHeight(P)/2)+" cm"),F.push(G+" 0 m"),F.push(G+" "+xe+" "+xe+" "+G+" 0 "+G+" c"),F.push("-"+xe+" "+G+" -"+G+" "+xe+" -"+G+" 0 c"),F.push("-"+G+" -"+xe+" -"+xe+" -"+G+" 0 -"+G+" c"),F.push(xe+" -"+G+" "+G+" -"+xe+" "+G+" 0 c"),F.push("f"),F.push("Q"),k.stream=F.join(`
`),k},OffPushDown:function(P){var k=Jt(P);k.scope=P.scope;var F=[],G=dn.internal.getWidth(P)<=dn.internal.getHeight(P)?dn.internal.getWidth(P)/4:dn.internal.getHeight(P)/4;G=Number((.9*G).toFixed(5));var Z=Number((2*G).toFixed(5)),re=Number((Z*dn.internal.Bezier_C).toFixed(5));return F.push("0.749023 g"),F.push("q"),F.push("1 0 0 1 "+gt(dn.internal.getWidth(P)/2)+" "+gt(dn.internal.getHeight(P)/2)+" cm"),F.push(Z+" 0 m"),F.push(Z+" "+re+" "+re+" "+Z+" 0 "+Z+" c"),F.push("-"+re+" "+Z+" -"+Z+" "+re+" -"+Z+" 0 c"),F.push("-"+Z+" -"+re+" -"+re+" -"+Z+" 0 -"+Z+" c"),F.push(re+" -"+Z+" "+Z+" -"+re+" "+Z+" 0 c"),F.push("f"),F.push("Q"),k.stream=F.join(`
`),k}},Cross:{createAppearanceStream:function(P){var k={D:{Off:dn.RadioButton.Cross.OffPushDown},N:{}};return k.N[P]=dn.RadioButton.Cross.YesNormal,k.D[P]=dn.RadioButton.Cross.YesPushDown,k},getCA:function(){return"8"},YesNormal:function(P){var k=Jt(P);k.scope=P.scope;var F=[],G=dn.internal.calculateCross(P);return F.push("q"),F.push("1 1 "+bt(dn.internal.getWidth(P)-2)+" "+bt(dn.internal.getHeight(P)-2)+" re"),F.push("W"),F.push("n"),F.push(bt(G.x1.x)+" "+bt(G.x1.y)+" m"),F.push(bt(G.x2.x)+" "+bt(G.x2.y)+" l"),F.push(bt(G.x4.x)+" "+bt(G.x4.y)+" m"),F.push(bt(G.x3.x)+" "+bt(G.x3.y)+" l"),F.push("s"),F.push("Q"),k.stream=F.join(`
`),k},YesPushDown:function(P){var k=Jt(P);k.scope=P.scope;var F=dn.internal.calculateCross(P),G=[];return G.push("0.749023 g"),G.push("0 0 "+bt(dn.internal.getWidth(P))+" "+bt(dn.internal.getHeight(P))+" re"),G.push("f"),G.push("q"),G.push("1 1 "+bt(dn.internal.getWidth(P)-2)+" "+bt(dn.internal.getHeight(P)-2)+" re"),G.push("W"),G.push("n"),G.push(bt(F.x1.x)+" "+bt(F.x1.y)+" m"),G.push(bt(F.x2.x)+" "+bt(F.x2.y)+" l"),G.push(bt(F.x4.x)+" "+bt(F.x4.y)+" m"),G.push(bt(F.x3.x)+" "+bt(F.x3.y)+" l"),G.push("s"),G.push("Q"),k.stream=G.join(`
`),k},OffPushDown:function(P){var k=Jt(P);k.scope=P.scope;var F=[];return F.push("0.749023 g"),F.push("0 0 "+bt(dn.internal.getWidth(P))+" "+bt(dn.internal.getHeight(P))+" re"),F.push("f"),k.stream=F.join(`
`),k}}},createDefaultAppearanceStream:function(P){var k=P.scope.internal.getFont(P.fontName,P.fontStyle).id,F=P.scope.__private__.encodeColorString(P.color);return"/"+k+" "+P.fontSize+" Tf "+F}};dn.internal={Bezier_C:.551915024494,calculateCross:function(P){var k=dn.internal.getWidth(P),F=dn.internal.getHeight(P),G=Math.min(k,F);return{x1:{x:(k-G)/2,y:(F-G)/2+G},x2:{x:(k-G)/2+G,y:(F-G)/2},x3:{x:(k-G)/2,y:(F-G)/2},x4:{x:(k-G)/2+G,y:(F-G)/2+G}}}},dn.internal.getWidth=function(P){var k=0;return(0,d.default)(P)==="object"&&(k=rr(P.Rect[2])),k},dn.internal.getHeight=function(P){var k=0;return(0,d.default)(P)==="object"&&(k=rr(P.Rect[3])),k};var as=Se.addField=function(P){if(tr(this,P),!(P instanceof un))throw new Error("Invalid argument passed to jsPDF.addField.");var k;return(k=P).scope.internal.acroformPlugin.printedOut&&(k.scope.internal.acroformPlugin.printedOut=!1,k.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),k.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(k),P.page=P.scope.internal.getCurrentPageInfo().pageNumber,this};Se.AcroFormChoiceField=Yn,Se.AcroFormListBox=on,Se.AcroFormComboBox=Vr,Se.AcroFormEditBox=xn,Se.AcroFormButton=An,Se.AcroFormPushButton=Mn,Se.AcroFormRadioButton=ci,Se.AcroFormCheckBox=Ms,Se.AcroFormTextField=Ns,Se.AcroFormPasswordField=ti,Se.AcroFormAppearance=dn,Se.AcroForm={ChoiceField:Yn,ListBox:on,ComboBox:Vr,EditBox:xn,Button:An,PushButton:Mn,RadioButton:ci,CheckBox:Ms,TextField:Ns,PasswordField:ti,Appearance:dn},Ye.AcroForm={ChoiceField:Yn,ListBox:on,ComboBox:Vr,EditBox:xn,Button:An,PushButton:Mn,RadioButton:ci,CheckBox:Ms,TextField:Ns,PasswordField:ti,Appearance:dn};var ta=Ye.AcroForm;function Tn(P){return P.reduce(function(k,F,G){return k[F]=G,k},{})}(function(P){var k="addImage_";P.__addimage__={};var F="UNKNOWN",G={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Z=P.__addimage__.getImageFileTypeByImageData=function(at,At){var Rt,Dt,xr,Br,Mr,ur=F;if((At=At||F)==="RGBA"||at.data!==void 0&&at.data instanceof Uint8ClampedArray&&"height"in at&&"width"in at)return"RGBA";if(Kt(at))for(Mr in G)for(xr=G[Mr],Rt=0;Rt<xr.length;Rt+=1){for(Br=!0,Dt=0;Dt<xr[Rt].length;Dt+=1)if(xr[Rt][Dt]!==void 0&&xr[Rt][Dt]!==at[Dt]){Br=!1;break}if(Br===!0){ur=Mr;break}}else for(Mr in G)for(xr=G[Mr],Rt=0;Rt<xr.length;Rt+=1){for(Br=!0,Dt=0;Dt<xr[Rt].length;Dt+=1)if(xr[Rt][Dt]!==void 0&&xr[Rt][Dt]!==at.charCodeAt(Dt)){Br=!1;break}if(Br===!0){ur=Mr;break}}return ur===F&&At!==F&&(ur=At),ur},re=function at(At){for(var Rt=this.internal.write,Dt=this.internal.putStream,xr=(0,this.internal.getFilters)();xr.indexOf("FlateEncode")!==-1;)xr.splice(xr.indexOf("FlateEncode"),1);At.objectId=this.internal.newObject();var Br=[];if(Br.push({key:"Type",value:"/XObject"}),Br.push({key:"Subtype",value:"/Image"}),Br.push({key:"Width",value:At.width}),Br.push({key:"Height",value:At.height}),At.colorSpace===nt.INDEXED?Br.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(At.palette.length/3-1)+" "+("sMask"in At&&At.sMask!==void 0?At.objectId+2:At.objectId+1)+" 0 R]"}):(Br.push({key:"ColorSpace",value:"/"+At.colorSpace}),At.colorSpace===nt.DEVICE_CMYK&&Br.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Br.push({key:"BitsPerComponent",value:At.bitsPerComponent}),"decodeParameters"in At&&At.decodeParameters!==void 0&&Br.push({key:"DecodeParms",value:"<<"+At.decodeParameters+">>"}),"transparency"in At&&Array.isArray(At.transparency)&&At.transparency.length>0){for(var Mr="",ur=0,Rr=At.transparency.length;ur<Rr;ur++)Mr+=At.transparency[ur]+" "+At.transparency[ur]+" ";Br.push({key:"Mask",value:"["+Mr+"]"})}At.sMask!==void 0&&Br.push({key:"SMask",value:At.objectId+1+" 0 R"});var gn=At.filter!==void 0?["/"+At.filter]:void 0;if(Dt({data:At.data,additionalKeyValues:Br,alreadyAppliedFilters:gn,objectId:At.objectId}),Rt("endobj"),"sMask"in At&&At.sMask!==void 0){var an,Xe=(an=At.sMaskBitsPerComponent)!==null&&an!==void 0?an:At.bitsPerComponent,Ct={width:At.width,height:At.height,colorSpace:"DeviceGray",bitsPerComponent:Xe,data:At.sMask};"filter"in At&&(Ct.decodeParameters="/Predictor ".concat(At.predictor," /Colors 1 /BitsPerComponent ").concat(Xe," /Columns ").concat(At.width),Ct.filter=At.filter),at.call(this,Ct)}if(At.colorSpace===nt.INDEXED){var Lt=this.internal.newObject();Dt({data:lr(new Uint8Array(At.palette)),objectId:Lt}),Rt("endobj")}},xe=function(){var at=this.internal.collections[k+"images"];for(var At in at)re.call(this,at[At])},fe=function(){var at,At=this.internal.collections[k+"images"],Rt=this.internal.write;for(var Dt in At)Rt("/I"+(at=At[Dt]).index,at.objectId,"0","R")},Ae=function(){this.internal.collections[k+"images"]||(this.internal.collections[k+"images"]={},this.internal.events.subscribe("putResources",xe),this.internal.events.subscribe("putXobjectDict",fe))},ke=function(){var at=this.internal.collections[k+"images"];return Ae.call(this),at},Ve=function(){return Object.keys(this.internal.collections[k+"images"]).length},Je=function(at){return typeof P["process"+at.toUpperCase()]=="function"},lt=function(at){return(0,d.default)(at)==="object"&&at.nodeType===1},Te=function(at,At){if(at.nodeName==="IMG"&&at.hasAttribute("src")){var Rt=""+at.getAttribute("src");if(Rt.indexOf("data:image/")===0)return I(unescape(Rt).split("base64,").pop());var Dt=P.loadFile(Rt,!0);if(Dt!==void 0)return Dt}if(at.nodeName==="CANVAS"){if(at.width===0||at.height===0)throw new Error("Given canvas must have data. Canvas width: "+at.width+", height: "+at.height);var xr;switch(At){case"PNG":xr="image/png";break;case"WEBP":xr="image/webp";break;default:xr="image/jpeg"}return I(at.toDataURL(xr,1).split("base64,").pop())}},jt=function(at){var At=this.internal.collections[k+"images"];if(At){for(var Rt in At)if(at===At[Rt].alias)return At[Rt]}},ot=function(at,At,Rt){return at||At||(at=-96,At=-96),at<0&&(at=-1*Rt.width*72/at/this.internal.scaleFactor),At<0&&(At=-1*Rt.height*72/At/this.internal.scaleFactor),at===0&&(at=At*Rt.width/Rt.height),At===0&&(At=at*Rt.height/Rt.width),[at,At]},Nt=function(at,At,Rt,Dt,xr,Br){var Mr=ot.call(this,Rt,Dt,xr),ur=this.internal.getCoordinateString,Rr=this.internal.getVerticalCoordinateString,gn=ke.call(this);if(Rt=Mr[0],Dt=Mr[1],gn[xr.index]=xr,Br){Br*=Math.PI/180;var an=Math.cos(Br),Xe=Math.sin(Br),Ct=function(Wt){return Wt.toFixed(4)},Lt=[Ct(an),Ct(Xe),Ct(-1*Xe),Ct(an),0,0,"cm"]}this.internal.write("q"),Br?(this.internal.write([1,"0","0",1,ur(at),Rr(At+Dt),"cm"].join(" ")),this.internal.write(Lt.join(" ")),this.internal.write([ur(Rt),"0","0",ur(Dt),"0","0","cm"].join(" "))):this.internal.write([ur(Rt),"0","0",ur(Dt),ur(at),Rr(At+Dt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xr.index+" Do"),this.internal.write("Q")},nt=P.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};P.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ot=P.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},qt=P.__addimage__.sHashCode=function(at){var At,Rt,Dt=0;if(typeof at=="string")for(Rt=at.length,At=0;At<Rt;At++)Dt=(Dt<<5)-Dt+at.charCodeAt(At),Dt|=0;else if(Kt(at))for(Rt=at.byteLength/2,At=0;At<Rt;At++)Dt=(Dt<<5)-Dt+at[At],Dt|=0;return Dt},It=P.__addimage__.validateStringAsBase64=function(at){(at=at||"").toString().trim();var At=!0;return at.length===0&&(At=!1),at.length%4!=0&&(At=!1),/^[A-Za-z0-9+/]+$/.test(at.substr(0,at.length-2))===!1&&(At=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(at.substr(-2))===!1&&(At=!1),At},rt=P.__addimage__.extractImageFromDataUrl=function(at){if(at==null||!(at=at.trim()).startsWith("data:"))return null;var At=at.indexOf(",");return At<0?null:at.substring(0,At).trim().endsWith("base64")?at.substring(At+1):null};P.__addimage__.isArrayBuffer=function(at){return at instanceof ArrayBuffer};var Kt=P.__addimage__.isArrayBufferView=function(at){return at instanceof Int8Array||at instanceof Uint8Array||at instanceof Uint8ClampedArray||at instanceof Int16Array||at instanceof Uint16Array||at instanceof Int32Array||at instanceof Uint32Array||at instanceof Float32Array||at instanceof Float64Array},Nr=P.__addimage__.binaryStringToUint8Array=function(at){for(var At=at.length,Rt=new Uint8Array(At),Dt=0;Dt<At;Dt++)Rt[Dt]=at.charCodeAt(Dt);return Rt},lr=P.__addimage__.arrayBufferToBinaryString=function(at){for(var At="",Rt=Kt(at)?at:new Uint8Array(at),Dt=0;Dt<Rt.length;Dt+=8192)At+=String.fromCharCode.apply(null,Rt.subarray(Dt,Dt+8192));return At};P.addImage=function(){var at,At,Rt,Dt,xr,Br,Mr,ur,Rr;if(typeof arguments[1]=="number"?(At=F,Rt=arguments[1],Dt=arguments[2],xr=arguments[3],Br=arguments[4],Mr=arguments[5],ur=arguments[6],Rr=arguments[7]):(At=arguments[1],Rt=arguments[2],Dt=arguments[3],xr=arguments[4],Br=arguments[5],Mr=arguments[6],ur=arguments[7],Rr=arguments[8]),(0,d.default)(at=arguments[0])==="object"&&!lt(at)&&"imageData"in at){var gn=at;at=gn.imageData,At=gn.format||At||F,Rt=gn.x||Rt||0,Dt=gn.y||Dt||0,xr=gn.w||gn.width||xr,Br=gn.h||gn.height||Br,Mr=gn.alias||Mr,ur=gn.compression||ur,Rr=gn.rotation||gn.angle||Rr}var an=this.internal.getFilters();if(ur===void 0&&an.indexOf("FlateEncode")!==-1&&(ur="SLOW"),isNaN(Rt)||isNaN(Dt))throw new Error("Invalid coordinates passed to jsPDF.addImage");Ae.call(this);var Xe=Mt.call(this,at,At,Mr,ur);return Nt.call(this,Rt,Dt,xr,Br,Xe,Rr),this};var Mt=function(at,At,Rt,Dt){var xr,Br,Mr;if(typeof at=="string"&&Z(at)===F){at=unescape(at);var ur=_r(at,!1);(ur!==""||(ur=P.loadFile(at,!0))!==void 0)&&(at=ur)}if(lt(at)&&(at=Te(at,At)),At=Z(at,At),!Je(At))throw new Error("addImage does not support files of type '"+At+"', please ensure that a plugin for '"+At+"' support is added.");if(((Mr=Rt)==null||Mr.length===0)&&(Rt=(function(Rr){return typeof Rr=="string"||Kt(Rr)?qt(Rr):Kt(Rr.data)?qt(Rr.data):null})(at)),(xr=jt.call(this,Rt))||(at instanceof Uint8Array||At==="RGBA"||(Br=at,at=Nr(at)),xr=this["process"+At.toUpperCase()](at,Ve.call(this),Rt,(function(Rr){return Rr&&typeof Rr=="string"&&(Rr=Rr.toUpperCase()),Rr in P.image_compression?Rr:Ot.NONE})(Dt),Br)),!xr)throw new Error("An unknown error occurred whilst processing the image.");return xr},_r=P.__addimage__.convertBase64ToBinaryString=function(at,At){At=typeof At!="boolean"||At;var Rt,Dt="";if(typeof at=="string"){var xr;Rt=(xr=rt(at))!==null&&xr!==void 0?xr:at;try{Dt=I(Rt)}catch(Br){if(At)throw It(Rt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Br.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Dt};P.getImageProperties=function(at){var At,Rt,Dt="";if(lt(at)&&(at=Te(at)),typeof at=="string"&&Z(at)===F&&((Dt=_r(at,!1))===""&&(Dt=P.loadFile(at)||""),at=Dt),Rt=Z(at),!Je(Rt))throw new Error("addImage does not support files of type '"+Rt+"', please ensure that a plugin for '"+Rt+"' support is added.");if(at instanceof Uint8Array||(at=Nr(at)),!(At=this["process"+Rt.toUpperCase()](at)))throw new Error("An unknown error occurred whilst processing the image");return At.fileType=Rt,At}})(Ye.API),(function(P){var k=function(F){if(F!==void 0&&F!="")return!0};Ye.API.events.push(["addPage",function(F){this.internal.getPageInfo(F.pageNumber).pageContext.annotations=[]}]),P.events.push(["putPage",function(F){for(var G,Z,re,xe=this.internal.getCoordinateString,fe=this.internal.getVerticalCoordinateString,Ae=this.internal.getPageInfoByObjId(F.objId),ke=F.pageContext.annotations,Ve=!1,Je=0;Je<ke.length&&!Ve;Je++)switch((G=ke[Je]).type){case"link":(k(G.options.url)||k(G.options.pageNumber))&&(Ve=!0);break;case"reference":case"text":case"freetext":Ve=!0}if(Ve!=0){this.internal.write("/Annots [");for(var lt=0;lt<ke.length;lt++){G=ke[lt];var Te=this.internal.pdfEscape,jt=this.internal.getEncryptor(F.objId);switch(G.type){case"reference":this.internal.write(" "+G.object.objId+" 0 R ");break;case"text":var ot=this.internal.newAdditionalObject(),Nt=this.internal.newAdditionalObject(),nt=this.internal.getEncryptor(ot.objId),Ot=G.title||"Note";re="<</Type /Annot /Subtype /Text "+(Z="/Rect ["+xe(G.bounds.x)+" "+fe(G.bounds.y+G.bounds.h)+" "+xe(G.bounds.x+G.bounds.w)+" "+fe(G.bounds.y)+"] ")+"/Contents ("+Te(nt(G.contents))+")",re+=" /Popup "+Nt.objId+" 0 R",re+=" /P "+Ae.objId+" 0 R",re+=" /T ("+Te(nt(Ot))+") >>",ot.content=re;var qt=ot.objId+" 0 R";re="<</Type /Annot /Subtype /Popup "+(Z="/Rect ["+xe(G.bounds.x+30)+" "+fe(G.bounds.y+G.bounds.h)+" "+xe(G.bounds.x+G.bounds.w+30)+" "+fe(G.bounds.y)+"] ")+" /Parent "+qt,G.open&&(re+=" /Open true"),re+=" >>",Nt.content=re,this.internal.write(ot.objId,"0 R",Nt.objId,"0 R");break;case"freetext":Z="/Rect ["+xe(G.bounds.x)+" "+fe(G.bounds.y)+" "+xe(G.bounds.x+G.bounds.w)+" "+fe(G.bounds.y+G.bounds.h)+"] ";var It=G.color||"#000000";re="<</Type /Annot /Subtype /FreeText "+Z+"/Contents ("+Te(jt(G.contents))+")",re+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+It+")",re+=" /Border [0 0 0]",re+=" >>",this.internal.write(re);break;case"link":if(G.options.name){var rt=this.annotations._nameMap[G.options.name];G.options.pageNumber=rt.page,G.options.top=rt.y}else G.options.top||(G.options.top=0);if(Z="/Rect ["+G.finalBounds.x+" "+G.finalBounds.y+" "+G.finalBounds.w+" "+G.finalBounds.h+"] ",re="",G.options.url)re="<</Type /Annot /Subtype /Link "+Z+"/Border [0 0 0] /A <</S /URI /URI ("+Te(jt(G.options.url))+") >>";else if(G.options.pageNumber)switch(re="<</Type /Annot /Subtype /Link "+Z+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(G.options.pageNumber).objId+" 0 R",G.options.magFactor=G.options.magFactor||"XYZ",G.options.magFactor){case"Fit":re+=" /Fit]";break;case"FitH":re+=" /FitH "+G.options.top+"]";break;case"FitV":G.options.left=G.options.left||0,re+=" /FitV "+G.options.left+"]";break;default:var Kt=fe(G.options.top);G.options.left=G.options.left||0,G.options.zoom===void 0&&(G.options.zoom=0),re+=" /XYZ "+G.options.left+" "+Kt+" "+G.options.zoom+"]"}re!=""&&(re+=" >>",this.internal.write(re))}}this.internal.write("]")}}]),P.createAnnotation=function(F){var G=this.internal.getCurrentPageInfo();switch(F.type){case"link":this.link(F.bounds.x,F.bounds.y,F.bounds.w,F.bounds.h,F);break;case"text":case"freetext":G.pageContext.annotations.push(F)}},P.link=function(F,G,Z,re,xe){var fe=this.internal.getCurrentPageInfo(),Ae=this.internal.getCoordinateString,ke=this.internal.getVerticalCoordinateString;fe.pageContext.annotations.push({finalBounds:{x:Ae(F),y:ke(G),w:Ae(F+Z),h:ke(G+re)},options:xe,type:"link"})},P.textWithLink=function(F,G,Z,re){var xe,fe,Ae=this.getTextWidth(F),ke=this.internal.getLineHeight()/this.internal.scaleFactor;if(re.maxWidth!==void 0){fe=re.maxWidth;var Ve=this.splitTextToSize(F,fe).length;xe=Math.ceil(ke*Ve)}else fe=Ae,xe=ke;return this.text(F,G,Z,re),Z+=.2*ke,re.align==="center"&&(G-=Ae/2),re.align==="right"&&(G-=Ae),this.link(G,Z-ke,fe,xe,re),Ae},P.getTextWidth=function(F){var G=this.internal.getFontSize();return this.getStringUnitWidth(F)*G/this.internal.scaleFactor}})(Ye.API),(function(P){var k={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},F={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},G={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Z=[1570,1571,1573,1575];P.__arabicParser__={};var re=P.__arabicParser__.isInArabicSubstitutionA=function(ot){return k[ot.charCodeAt(0)]!==void 0},xe=P.__arabicParser__.isArabicLetter=function(ot){return typeof ot=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(ot)},fe=P.__arabicParser__.isArabicEndLetter=function(ot){return xe(ot)&&re(ot)&&k[ot.charCodeAt(0)].length<=2},Ae=P.__arabicParser__.isArabicAlfLetter=function(ot){return xe(ot)&&Z.indexOf(ot.charCodeAt(0))>=0};P.__arabicParser__.arabicLetterHasIsolatedForm=function(ot){return xe(ot)&&re(ot)&&k[ot.charCodeAt(0)].length>=1};var ke=P.__arabicParser__.arabicLetterHasFinalForm=function(ot){return xe(ot)&&re(ot)&&k[ot.charCodeAt(0)].length>=2};P.__arabicParser__.arabicLetterHasInitialForm=function(ot){return xe(ot)&&re(ot)&&k[ot.charCodeAt(0)].length>=3};var Ve=P.__arabicParser__.arabicLetterHasMedialForm=function(ot){return xe(ot)&&re(ot)&&k[ot.charCodeAt(0)].length==4},Je=P.__arabicParser__.resolveLigatures=function(ot){var Nt=0,nt=F,Ot="",qt=0;for(Nt=0;Nt<ot.length;Nt+=1)nt[ot.charCodeAt(Nt)]!==void 0?(qt++,typeof(nt=nt[ot.charCodeAt(Nt)])=="number"&&(Ot+=String.fromCharCode(nt),nt=F,qt=0),Nt===ot.length-1&&(nt=F,Ot+=ot.charAt(Nt-(qt-1)),Nt-=qt-1,qt=0)):(nt=F,Ot+=ot.charAt(Nt-qt),Nt-=qt,qt=0);return Ot};P.__arabicParser__.isArabicDiacritic=function(ot){return ot!==void 0&&G[ot.charCodeAt(0)]!==void 0};var lt=P.__arabicParser__.getCorrectForm=function(ot,Nt,nt){return xe(ot)?re(ot)===!1?-1:!ke(ot)||!xe(Nt)&&!xe(nt)||!xe(nt)&&fe(Nt)||fe(ot)&&!xe(Nt)||fe(ot)&&Ae(Nt)||fe(ot)&&fe(Nt)?0:Ve(ot)&&xe(Nt)&&!fe(Nt)&&xe(nt)&&ke(nt)?3:fe(ot)||!xe(nt)?1:2:-1},Te=function(ot){var Nt=0,nt=0,Ot=0,qt="",It="",rt="",Kt=(ot=ot||"").split("\\s+"),Nr=[];for(Nt=0;Nt<Kt.length;Nt+=1){for(Nr.push(""),nt=0;nt<Kt[Nt].length;nt+=1)qt=Kt[Nt][nt],It=Kt[Nt][nt-1],rt=Kt[Nt][nt+1],xe(qt)?(Ot=lt(qt,It,rt),Nr[Nt]+=Ot!==-1?String.fromCharCode(k[qt.charCodeAt(0)][Ot]):qt):Nr[Nt]+=qt;Nr[Nt]=Je(Nr[Nt])}return Nr.join(" ")},jt=P.__arabicParser__.processArabic=P.processArabic=function(){var ot,Nt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,nt=[];if(Array.isArray(Nt)){var Ot=0;for(nt=[],Ot=0;Ot<Nt.length;Ot+=1)Array.isArray(Nt[Ot])?nt.push([Te(Nt[Ot][0]),Nt[Ot][1],Nt[Ot][2]]):nt.push([Te(Nt[Ot])]);ot=nt}else ot=Te(Nt);return typeof arguments[0]=="string"?ot:(arguments[0].text=ot,arguments[0])};P.events.push(["preProcessText",jt])})(Ye.API),Ye.API.autoPrint=function(P){var k;return(P=P||{}).variant=P.variant||"non-conform",P.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){k=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+k+" 0 R")})),this},(function(P){var k=function(){var F=void 0;Object.defineProperty(this,"pdf",{get:function(){return F},set:function(fe){F=fe}});var G=150;Object.defineProperty(this,"width",{get:function(){return G},set:function(fe){G=isNaN(fe)||Number.isInteger(fe)===!1||fe<0?150:fe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=G+1)}});var Z=300;Object.defineProperty(this,"height",{get:function(){return Z},set:function(fe){Z=isNaN(fe)||Number.isInteger(fe)===!1||fe<0?300:fe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Z+1)}});var re=[];Object.defineProperty(this,"childNodes",{get:function(){return re},set:function(fe){re=fe}});var xe={};Object.defineProperty(this,"style",{get:function(){return xe},set:function(fe){xe=fe}}),Object.defineProperty(this,"parentNode",{})};k.prototype.getContext=function(F,G){var Z;if((F=F||"2d")!=="2d")return null;for(Z in G)this.pdf.context2d.hasOwnProperty(Z)&&(this.pdf.context2d[Z]=G[Z]);return this.pdf.context2d._canvas=this,this.pdf.context2d},k.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},P.events.push(["initialized",function(){this.canvas=new k,this.canvas.pdf=this}])})(Ye.API),(function(P){var k={left:0,top:0,bottom:0,right:0},F=!1,G=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},k),this.internal.__cell__.margins.width=this.getPageWidth(),Z.call(this))},Z=function(){this.internal.__cell__.lastCell=new re,this.internal.__cell__.pages=1},re=function(){var Ae=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(ot){Ae=ot}});var ke=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(ot){ke=ot}});var Ve=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ve},set:function(ot){Ve=ot}});var Je=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Je},set:function(ot){Je=ot}});var lt=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return lt},set:function(ot){lt=ot}});var Te=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Te},set:function(ot){Te=ot}});var jt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return jt},set:function(ot){jt=ot}}),this};re.prototype.clone=function(){return new re(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},re.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},P.setHeaderFunction=function(Ae){return G.call(this),this.internal.__cell__.headerFunction=typeof Ae=="function"?Ae:void 0,this},P.getTextDimensions=function(Ae,ke){G.call(this);var Ve=(ke=ke||{}).fontSize||this.getFontSize(),Je=ke.font||this.getFont(),lt=ke.scaleFactor||this.internal.scaleFactor,Te=0,jt=0,ot=0,Nt=this;if(!Array.isArray(Ae)&&typeof Ae!="string"){if(typeof Ae!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Ae=String(Ae)}var nt=ke.maxWidth;nt>0?typeof Ae=="string"?Ae=this.splitTextToSize(Ae,nt):Object.prototype.toString.call(Ae)==="[object Array]"&&(Ae=Ae.reduce(function(qt,It){return qt.concat(Nt.splitTextToSize(It,nt))},[])):Ae=Array.isArray(Ae)?Ae:[Ae];for(var Ot=0;Ot<Ae.length;Ot++)Te<(ot=this.getStringUnitWidth(Ae[Ot],{font:Je})*Ve)&&(Te=ot);return Te!==0&&(jt=Ae.length),{w:Te/=lt,h:Math.max((jt*Ve*this.getLineHeightFactor()-Ve*(this.getLineHeightFactor()-1))/lt,0)}},P.cellAddPage=function(){G.call(this),this.addPage();var Ae=this.internal.__cell__.margins||k;return this.internal.__cell__.lastCell=new re(Ae.left,Ae.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var xe=P.cell=function(){var Ae;Ae=arguments[0]instanceof re?arguments[0]:new re(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),G.call(this);var ke=this.internal.__cell__.lastCell,Ve=this.internal.__cell__.padding,Je=this.internal.__cell__.margins||k,lt=this.internal.__cell__.tableHeaderRow,Te=this.internal.__cell__.printHeaders;return ke.lineNumber!==void 0&&(ke.lineNumber===Ae.lineNumber?(Ae.x=(ke.x||0)+(ke.width||0),Ae.y=ke.y||0):ke.y+ke.height+Ae.height+Je.bottom>this.getPageHeight()?(this.cellAddPage(),Ae.y=Je.top,Te&&lt&&(this.printHeaderRow(Ae.lineNumber,!0),Ae.y+=lt[0].height)):Ae.y=ke.y+ke.height||Ae.y),Ae.text[0]!==void 0&&(this.rect(Ae.x,Ae.y,Ae.width,Ae.height,F===!0?"FD":void 0),Ae.align==="right"?this.text(Ae.text,Ae.x+Ae.width-Ve,Ae.y+Ve,{align:"right",baseline:"top"}):Ae.align==="center"?this.text(Ae.text,Ae.x+Ae.width/2,Ae.y+Ve,{align:"center",baseline:"top",maxWidth:Ae.width-Ve-Ve}):this.text(Ae.text,Ae.x+Ve,Ae.y+Ve,{align:"left",baseline:"top",maxWidth:Ae.width-Ve-Ve})),this.internal.__cell__.lastCell=Ae,this};P.table=function(Ae,ke,Ve,Je,lt){if(G.call(this),!Ve)throw new Error("No data for PDF table.");var Te,jt,ot,Nt,nt=[],Ot=[],qt=[],It={},rt={},Kt=[],Nr=[],lr=(lt=lt||{}).autoSize||!1,Mt=lt.printHeaders!==!1,_r=lt.css&&lt.css["font-size"]!==void 0?16*lt.css["font-size"]:lt.fontSize||12,at=lt.margins||Object.assign({width:this.getPageWidth()},k),At=typeof lt.padding=="number"?lt.padding:3,Rt=lt.headerBackgroundColor||"#c8c8c8",Dt=lt.headerTextColor||"#000";if(Z.call(this),this.internal.__cell__.printHeaders=Mt,this.internal.__cell__.margins=at,this.internal.__cell__.table_font_size=_r,this.internal.__cell__.padding=At,this.internal.__cell__.headerBackgroundColor=Rt,this.internal.__cell__.headerTextColor=Dt,this.setFontSize(_r),Je==null)Ot=nt=Object.keys(Ve[0]),qt=nt.map(function(){return"left"});else if(Array.isArray(Je)&&(0,d.default)(Je[0])==="object")for(nt=Je.map(function(gn){return gn.name}),Ot=Je.map(function(gn){return gn.prompt||gn.name||""}),qt=Je.map(function(gn){return gn.align||"left"}),Te=0;Te<Je.length;Te+=1)rt[Je[Te].name]=.7499990551181103*Je[Te].width;else Array.isArray(Je)&&typeof Je[0]=="string"&&(Ot=nt=Je,qt=nt.map(function(){return"left"}));if(lr||Array.isArray(Je)&&typeof Je[0]=="string")for(Te=0;Te<nt.length;Te+=1){for(It[Nt=nt[Te]]=Ve.map(function(gn){return gn[Nt]}),this.setFont(void 0,"bold"),Kt.push(this.getTextDimensions(Ot[Te],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),jt=It[Nt],this.setFont(void 0,"normal"),ot=0;ot<jt.length;ot+=1)Kt.push(this.getTextDimensions(jt[ot],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);rt[Nt]=Math.max.apply(null,Kt)+At+At,Kt=[]}if(Mt){var xr={};for(Te=0;Te<nt.length;Te+=1)xr[nt[Te]]={},xr[nt[Te]].text=Ot[Te],xr[nt[Te]].align=qt[Te];var Br=fe.call(this,xr,rt);Nr=nt.map(function(gn){return new re(Ae,ke,rt[gn],Br,xr[gn].text,void 0,xr[gn].align)}),this.setTableHeaderRow(Nr),this.printHeaderRow(1,!1)}var Mr=Je.reduce(function(gn,an){return gn[an.name]=an.align,gn},{});for(Te=0;Te<Ve.length;Te+=1){"rowStart"in lt&&lt.rowStart instanceof Function&&lt.rowStart({row:Te,data:Ve[Te]},this);var ur=fe.call(this,Ve[Te],rt);for(ot=0;ot<nt.length;ot+=1){var Rr=Ve[Te][nt[ot]];"cellStart"in lt&&lt.cellStart instanceof Function&&lt.cellStart({row:Te,col:ot,data:Rr},this),xe.call(this,new re(Ae,ke,rt[nt[ot]],ur,Rr,Te+2,Mr[nt[ot]]))}}return this.internal.__cell__.table_x=Ae,this.internal.__cell__.table_y=ke,this};var fe=function(Ae,ke){var Ve=this.internal.__cell__.padding,Je=this.internal.__cell__.table_font_size,lt=this.internal.scaleFactor;return Object.keys(Ae).map(function(Te){var jt=Ae[Te];return this.splitTextToSize(jt.hasOwnProperty("text")?jt.text:jt,ke[Te]-Ve-Ve)},this).map(function(Te){return this.getLineHeightFactor()*Te.length*Je/lt+Ve+Ve},this).reduce(function(Te,jt){return Math.max(Te,jt)},0)};P.setTableHeaderRow=function(Ae){G.call(this),this.internal.__cell__.tableHeaderRow=Ae},P.printHeaderRow=function(Ae,ke){if(G.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ve;if(F=!0,typeof this.internal.__cell__.headerFunction=="function"){var Je=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new re(Je[0],Je[1],Je[2],Je[3],void 0,-1)}this.setFont(void 0,"bold");for(var lt=[],Te=0;Te<this.internal.__cell__.tableHeaderRow.length;Te+=1){Ve=this.internal.__cell__.tableHeaderRow[Te].clone(),ke&&(Ve.y=this.internal.__cell__.margins.top||0,lt.push(Ve)),Ve.lineNumber=Ae;var jt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),xe.call(this,Ve),this.setTextColor(jt)}lt.length>0&&this.setTableHeaderRow(lt),this.setFont(void 0,"normal"),F=!1}})(Ye.API);var Ln={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qs=Tn(Fs),Us=[100,200,300,400,500,600,700,800,900],rs=Tn(Us);function qs(P){var k=P.family.replace(/"|'/g,"").toLowerCase(),F=(function(re){return Ln[re=re||"normal"]?re:"normal"})(P.style),G=(function(re){return re?typeof re=="number"?re>=100&&re<=900&&re%100==0?re:400:/^\d00$/.test(re)?parseInt(re):re==="bold"?700:400:400})(P.weight),Z=(function(re){return typeof Qs[re=re||"normal"]=="number"?re:"normal"})(P.stretch);return{family:k,style:F,weight:G,stretch:Z,src:P.src||[],ref:P.ref||{name:k,style:[Z,F,G].join(" ")}}}function Rs(P,k,F,G){var Z;for(Z=F;Z>=0&&Z<k.length;Z+=G)if(P[k[Z]])return P[k[Z]];for(Z=F;Z>=0&&Z<k.length;Z-=G)if(P[k[Z]])return P[k[Z]]}var Qa={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},hs={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function _u(P){return[P.stretch,P.style,P.weight,P.family].join(" ")}function ro(P){return P.trimLeft()}function $l(P,k){for(var F=0;F<P.length;){if(P.charAt(F)===k)return[P.substring(0,F),P.substring(F+1)];F+=1}return null}function su(P){var k=P.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return k===null?null:[k[0],P.substring(k[0].length)]}var pl,ra,Ya,Ws,ba,$s,Il,vo,no=["times"];function gl(P,k,F,G,Z){var re=4,xe=zs;switch(Z){case Ye.API.image_compression.FAST:re=1,xe=pc;break;case Ye.API.image_compression.MEDIUM:re=6,xe=ui;break;case Ye.API.image_compression.SLOW:re=9,xe=ks}P=(function(Ae,ke,Ve,Je){for(var lt,Te=Ae.length/ke,jt=new Uint8Array(Ae.length+Te),ot=[Hl,pc,zs,ui,ks],Nt=0;Nt<Te;Nt+=1){var nt=Nt*ke,Ot=Ae.subarray(nt,nt+ke);if(Je)jt.set(Je(Ot,Ve,lt),nt+Nt);else{for(var qt=ot.length,It=[],rt=0;rt<qt;rt+=1)It[rt]=ot[rt](Ot,Ve,lt);var Kt=za(It.concat());jt.set(It[Kt],nt+Nt)}lt=Ot}return jt})(P,k,Math.ceil(F*G/8),xe);var fe=(0,f.zlibSync)(P,{level:re});return Ye.API.__addimage__.arrayBufferToBinaryString(fe)}function Hl(P){var k=Array.apply([],P);return k.unshift(0),k}function pc(P,k){var F=P.length,G=[];G[0]=1;for(var Z=0;Z<F;Z+=1){var re=P[Z-k]||0;G[Z+1]=P[Z]-re+256&255}return G}function zs(P,k,F){var G=P.length,Z=[];Z[0]=2;for(var re=0;re<G;re+=1){var xe=F&&F[re]||0;Z[re+1]=P[re]-xe+256&255}return Z}function ui(P,k,F){var G=P.length,Z=[];Z[0]=3;for(var re=0;re<G;re+=1){var xe=P[re-k]||0,fe=F&&F[re]||0;Z[re+1]=P[re]+256-(xe+fe>>>1)&255}return Z}function ks(P,k,F){var G=P.length,Z=[];Z[0]=4;for(var re=0;re<G;re+=1){var xe=ja(P[re-k]||0,F&&F[re]||0,F&&F[re-k]||0);Z[re+1]=P[re]-xe+256&255}return Z}function ja(P,k,F){if(P===k&&k===F)return P;var G=Math.abs(k-F),Z=Math.abs(P-F),re=Math.abs(P+k-F-F);return G<=Z&&G<=re?P:Z<=re?k:F}function za(P){var k=P.map(function(F){return F.reduce(function(G,Z){return G+Math.abs(Z)},0)});return k.indexOf(Math.min.apply(null,k))}function Ta(P,k,F){var G=k*F,Z=Math.floor(G/8),re=16-(G-8*Z+F),xe=(1<<F)-1;return ei(P,Z)>>re&xe}function vi(P,k,F,G){var Z=F*G,re=Math.floor(Z/8),xe=16-(Z-8*re+G),fe=(1<<G)-1,Ae=(k&fe)<<xe;(function(ke,Ve,Je){if(Ve+1<ke.byteLength)ke.setUint16(Ve,Je,!1);else{var lt=Je>>8&255;ke.setUint8(Ve,lt)}})(P,re,ei(P,re)&~(fe<<xe)&65535|Ae)}function ei(P,k){return k+1<P.byteLength?P.getUint16(k,!1):P.getUint8(k)<<8}function fs(P){var k=0;if(P[k++]!==71||P[k++]!==73||P[k++]!==70||P[k++]!==56||(P[k++]+1&253)!=56||P[k++]!==97)throw new Error("Invalid GIF 87a/89a header.");var F=P[k++]|P[k++]<<8,G=P[k++]|P[k++]<<8,Z=P[k++],re=Z>>7,xe=1<<1+(7&Z);P[k++],P[k++];var fe=null,Ae=null;re&&(fe=k,Ae=xe,k+=3*xe);var ke=!0,Ve=[],Je=0,lt=null,Te=0,jt=null;for(this.width=F,this.height=G;ke&&k<P.length;)switch(P[k++]){case 33:switch(P[k++]){case 255:if(P[k]!==11||P[k+1]==78&&P[k+2]==69&&P[k+3]==84&&P[k+4]==83&&P[k+5]==67&&P[k+6]==65&&P[k+7]==80&&P[k+8]==69&&P[k+9]==50&&P[k+10]==46&&P[k+11]==48&&P[k+12]==3&&P[k+13]==1&&P[k+16]==0)k+=14,jt=P[k++]|P[k++]<<8,k++;else for(k+=12;;){if(!((at=P[k++])>=0))throw Error("Invalid block size");if(at===0)break;k+=at}break;case 249:if(P[k++]!==4||P[k+4]!==0)throw new Error("Invalid graphics extension block.");var ot=P[k++];Je=P[k++]|P[k++]<<8,lt=P[k++],1&ot||(lt=null),Te=ot>>2&7,k++;break;case 254:for(;;){if(!((at=P[k++])>=0))throw Error("Invalid block size");if(at===0)break;k+=at}break;default:throw new Error("Unknown graphic control label: 0x"+P[k-1].toString(16))}break;case 44:var Nt=P[k++]|P[k++]<<8,nt=P[k++]|P[k++]<<8,Ot=P[k++]|P[k++]<<8,qt=P[k++]|P[k++]<<8,It=P[k++],rt=It>>6&1,Kt=1<<1+(7&It),Nr=fe,lr=Ae,Mt=!1;It>>7&&(Mt=!0,Nr=k,lr=Kt,k+=3*Kt);var _r=k;for(k++;;){var at;if(!((at=P[k++])>=0))throw Error("Invalid block size");if(at===0)break;k+=at}Ve.push({x:Nt,y:nt,width:Ot,height:qt,has_local_palette:Mt,palette_offset:Nr,palette_size:lr,data_offset:_r,data_length:k-_r,transparent_index:lt,interlaced:!!rt,delay:Je,disposal:Te});break;case 59:ke=!1;break;default:throw new Error("Unknown gif block: 0x"+P[k-1].toString(16))}this.numFrames=function(){return Ve.length},this.loopCount=function(){return jt},this.frameInfo=function(At){if(At<0||At>=Ve.length)throw new Error("Frame index out of range.");return Ve[At]},this.decodeAndBlitFrameBGRA=function(At,Rt){var Dt=this.frameInfo(At),xr=Dt.width*Dt.height,Br=new Uint8Array(xr);wa(P,Dt.data_offset,Br,xr);var Mr=Dt.palette_offset,ur=Dt.transparent_index;ur===null&&(ur=256);var Rr=Dt.width,gn=F-Rr,an=Rr,Xe=4*(Dt.y*F+Dt.x),Ct=4*((Dt.y+Dt.height)*F+Dt.x),Lt=Xe,Wt=4*gn;Dt.interlaced===!0&&(Wt+=4*F*7);for(var Xt=8,mr=0,Pr=Br.length;mr<Pr;++mr){var Ir=Br[mr];if(an===0&&(an=Rr,(Lt+=Wt)>=Ct&&(Wt=4*gn+4*F*(Xt-1),Lt=Xe+(Rr+gn)*(Xt<<1),Xt>>=1)),Ir===ur)Lt+=4;else{var Zr=P[Mr+3*Ir],pn=P[Mr+3*Ir+1],jn=P[Mr+3*Ir+2];Rt[Lt++]=jn,Rt[Lt++]=pn,Rt[Lt++]=Zr,Rt[Lt++]=255}--an}},this.decodeAndBlitFrameRGBA=function(At,Rt){var Dt=this.frameInfo(At),xr=Dt.width*Dt.height,Br=new Uint8Array(xr);wa(P,Dt.data_offset,Br,xr);var Mr=Dt.palette_offset,ur=Dt.transparent_index;ur===null&&(ur=256);var Rr=Dt.width,gn=F-Rr,an=Rr,Xe=4*(Dt.y*F+Dt.x),Ct=4*((Dt.y+Dt.height)*F+Dt.x),Lt=Xe,Wt=4*gn;Dt.interlaced===!0&&(Wt+=4*F*7);for(var Xt=8,mr=0,Pr=Br.length;mr<Pr;++mr){var Ir=Br[mr];if(an===0&&(an=Rr,(Lt+=Wt)>=Ct&&(Wt=4*gn+4*F*(Xt-1),Lt=Xe+(Rr+gn)*(Xt<<1),Xt>>=1)),Ir===ur)Lt+=4;else{var Zr=P[Mr+3*Ir],pn=P[Mr+3*Ir+1],jn=P[Mr+3*Ir+2];Rt[Lt++]=Zr,Rt[Lt++]=pn,Rt[Lt++]=jn,Rt[Lt++]=255}--an}}}function wa(P,k,F,G){for(var Z=P[k++],re=1<<Z,xe=re+1,fe=xe+1,Ae=Z+1,ke=(1<<Ae)-1,Ve=0,Je=0,lt=0,Te=P[k++],jt=new Int32Array(4096),ot=null;;){for(;Ve<16&&Te!==0;)Je|=P[k++]<<Ve,Ve+=8,Te===1?Te=P[k++]:--Te;if(Ve<Ae)break;var Nt=Je&ke;if(Je>>=Ae,Ve-=Ae,Nt!==re){if(Nt===xe)break;for(var nt=Nt<fe?Nt:ot,Ot=0,qt=nt;qt>re;)qt=jt[qt]>>8,++Ot;var It=qt;if(lt+Ot+(nt!==Nt?1:0)>G)return void y.log("Warning, gif stream longer than expected.");F[lt++]=It;var rt=lt+=Ot;for(nt!==Nt&&(F[lt++]=It),qt=nt;Ot--;)qt=jt[qt],F[--rt]=255&qt,qt>>=8;ot!==null&&fe<4096&&(jt[fe++]=ot<<8|It,fe>=ke+1&&Ae<12&&(++Ae,ke=ke<<1|1)),ot=Nt}else fe=xe+1,ke=(1<<(Ae=Z+1))-1,ot=null}return lt!==G&&y.log("Warning, gif stream shorter than expected."),F}function Qo(P){var k,F,G,Z,re,xe=Math.floor,fe=new Array(64),Ae=new Array(64),ke=new Array(64),Ve=new Array(64),Je=new Array(65535),lt=new Array(65535),Te=new Array(64),jt=new Array(64),ot=[],Nt=0,nt=7,Ot=new Array(64),qt=new Array(64),It=new Array(64),rt=new Array(256),Kt=new Array(2048),Nr=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],lr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Mt=[0,1,2,3,4,5,6,7,8,9,10,11],_r=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],at=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],At=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Rt=[0,1,2,3,4,5,6,7,8,9,10,11],Dt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Br(Xe,Ct){for(var Lt=0,Wt=0,Xt=new Array,mr=1;mr<=16;mr++){for(var Pr=1;Pr<=Xe[mr];Pr++)Xt[Ct[Wt]]=[],Xt[Ct[Wt]][0]=Lt,Xt[Ct[Wt]][1]=mr,Wt++,Lt++;Lt*=2}return Xt}function Mr(Xe){for(var Ct=Xe[0],Lt=Xe[1]-1;Lt>=0;)Ct&1<<Lt&&(Nt|=1<<nt),Lt--,--nt<0&&(Nt==255?(ur(255),ur(0)):ur(Nt),nt=7,Nt=0)}function ur(Xe){ot.push(Xe)}function Rr(Xe){ur(Xe>>8&255),ur(255&Xe)}function gn(Xe,Ct,Lt,Wt,Xt){for(var mr,Pr=Xt[0],Ir=Xt[240],Zr=(function(ln,Ni){var Hn,Vn,zn,ga,Di,qn,ns,Si,Qn,Li,Xn=0;for(Qn=0;Qn<8;++Qn){Hn=ln[Xn],Vn=ln[Xn+1],zn=ln[Xn+2],ga=ln[Xn+3],Di=ln[Xn+4],qn=ln[Xn+5],ns=ln[Xn+6];var Gi=Hn+(Si=ln[Xn+7]),is=Hn-Si,Zi=Vn+ns,xs=Vn-ns,Ca=zn+qn,bi=zn-qn,Ys=ga+Di,Qi=ga-Di,oi=Gi+Ys,da=Gi-Ys,Ii=Zi+Ca,_n=Zi-Ca;ln[Xn]=oi+Ii,ln[Xn+4]=oi-Ii;var cs=.707106781*(_n+da);ln[Xn+2]=da+cs,ln[Xn+6]=da-cs;var Su=.382683433*((oi=Qi+bi)-(_n=xs+is)),so=.5411961*oi+Su,Ko=1.306562965*_n+Su,rc=.707106781*(Ii=bi+xs),wi=is+rc,Ra=is-rc;ln[Xn+5]=Ra+so,ln[Xn+3]=Ra-so,ln[Xn+1]=wi+Ko,ln[Xn+7]=wi-Ko,Xn+=8}for(Xn=0,Qn=0;Qn<8;++Qn){Hn=ln[Xn],Vn=ln[Xn+8],zn=ln[Xn+16],ga=ln[Xn+24],Di=ln[Xn+32],qn=ln[Xn+40],ns=ln[Xn+48];var Xa=Hn+(Si=ln[Xn+56]),Ql=Hn-Si,zl=Vn+ns,ha=Vn-ns,yo=zn+qn,Za=zn-qn,zc=ga+Di,To=ga-Di,gc=Xa+zc,Ka=Xa-zc,Vl=zl+yo,Kl=zl-yo;ln[Xn]=gc+Vl,ln[Xn+32]=gc-Vl;var Bl=.707106781*(Kl+Ka);ln[Xn+16]=Ka+Bl,ln[Xn+48]=Ka-Bl;var Ed=.382683433*((gc=To+Za)-(Kl=ha+Ql)),nc=.5411961*gc+Ed,Gl=1.306562965*Kl+Ed,vc=.707106781*(Vl=Za+ha),_d=Ql+vc,Wl=Ql-vc;ln[Xn+40]=Wl+nc,ln[Xn+24]=Wl-nc,ln[Xn+8]=_d+Gl,ln[Xn+56]=_d-Gl,Xn++}for(Qn=0;Qn<64;++Qn)Li=ln[Qn]*Ni[Qn],Te[Qn]=Li>0?Li+.5|0:Li-.5|0;return Te})(Xe,Ct),pn=0;pn<64;++pn)jt[Nr[pn]]=Zr[pn];var jn=jt[0]-Lt;Lt=jt[0],jn==0?Mr(Wt[0]):(Mr(Wt[lt[mr=32767+jn]]),Mr(Je[mr]));for(var Fn=63;Fn>0&&jt[Fn]==0;)Fn--;if(Fn==0)return Mr(Pr),Lt;for(var yi,vt=1;vt<=Fn;){for(var Cn=vt;jt[vt]==0&&vt<=Fn;)++vt;var Ri=vt-Cn;if(Ri>=16){yi=Ri>>4;for(var Nn=1;Nn<=yi;++Nn)Mr(Ir);Ri&=15}mr=32767+jt[vt],Mr(Xt[(Ri<<4)+lt[mr]]),Mr(Je[mr]),vt++}return Fn!=63&&Mr(Pr),Lt}function an(Xe){Xe=Math.min(Math.max(Xe,1),100),re!=Xe&&((function(Ct){for(var Lt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Wt=0;Wt<64;Wt++){var Xt=xe((Lt[Wt]*Ct+50)/100);Xt=Math.min(Math.max(Xt,1),255),fe[Nr[Wt]]=Xt}for(var mr=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Pr=0;Pr<64;Pr++){var Ir=xe((mr[Pr]*Ct+50)/100);Ir=Math.min(Math.max(Ir,1),255),Ae[Nr[Pr]]=Ir}for(var Zr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pn=0,jn=0;jn<8;jn++)for(var Fn=0;Fn<8;Fn++)ke[pn]=1/(fe[Nr[pn]]*Zr[jn]*Zr[Fn]*8),Ve[pn]=1/(Ae[Nr[pn]]*Zr[jn]*Zr[Fn]*8),pn++})(Xe<50?Math.floor(5e3/Xe):Math.floor(200-2*Xe)),re=Xe)}this.encode=function(Xe,Ct){Ct&&an(Ct),ot=new Array,Nt=0,nt=7,Rr(65496),Rr(65504),Rr(16),ur(74),ur(70),ur(73),ur(70),ur(0),ur(1),ur(1),ur(0),Rr(1),Rr(1),ur(0),ur(0),(function(){Rr(65499),Rr(132),ur(0);for(var Vn=0;Vn<64;Vn++)ur(fe[Vn]);ur(1);for(var zn=0;zn<64;zn++)ur(Ae[zn])})(),(function(Vn,zn){Rr(65472),Rr(17),ur(8),Rr(zn),Rr(Vn),ur(3),ur(1),ur(17),ur(0),ur(2),ur(17),ur(1),ur(3),ur(17),ur(1)})(Xe.width,Xe.height),(function(){Rr(65476),Rr(418),ur(0);for(var Vn=0;Vn<16;Vn++)ur(lr[Vn+1]);for(var zn=0;zn<=11;zn++)ur(Mt[zn]);ur(16);for(var ga=0;ga<16;ga++)ur(_r[ga+1]);for(var Di=0;Di<=161;Di++)ur(at[Di]);ur(1);for(var qn=0;qn<16;qn++)ur(At[qn+1]);for(var ns=0;ns<=11;ns++)ur(Rt[ns]);ur(17);for(var Si=0;Si<16;Si++)ur(Dt[Si+1]);for(var Qn=0;Qn<=161;Qn++)ur(xr[Qn])})(),Rr(65498),Rr(12),ur(3),ur(1),ur(0),ur(2),ur(17),ur(3),ur(17),ur(0),ur(63),ur(0);var Lt=0,Wt=0,Xt=0;Nt=0,nt=7,this.encode.displayName="_encode_";for(var mr,Pr,Ir,Zr,pn,jn,Fn,yi,vt,Cn=Xe.data,Ri=Xe.width,Nn=Xe.height,ln=4*Ri,Ni=0;Ni<Nn;){for(mr=0;mr<ln;){for(pn=ln*Ni+mr,Fn=-1,yi=0,vt=0;vt<64;vt++)jn=pn+(yi=vt>>3)*ln+(Fn=4*(7&vt)),Ni+yi>=Nn&&(jn-=ln*(Ni+1+yi-Nn)),mr+Fn>=ln&&(jn-=mr+Fn-ln+4),Pr=Cn[jn++],Ir=Cn[jn++],Zr=Cn[jn++],Ot[vt]=(Kt[Pr]+Kt[Ir+256|0]+Kt[Zr+512|0]>>16)-128,qt[vt]=(Kt[Pr+768|0]+Kt[Ir+1024|0]+Kt[Zr+1280|0]>>16)-128,It[vt]=(Kt[Pr+1280|0]+Kt[Ir+1536|0]+Kt[Zr+1792|0]>>16)-128;Lt=gn(Ot,ke,Lt,k,G),Wt=gn(qt,Ve,Wt,F,Z),Xt=gn(It,Ve,Xt,F,Z),mr+=32}Ni+=8}if(nt>=0){var Hn=[];Hn[1]=nt+1,Hn[0]=(1<<nt+1)-1,Mr(Hn)}return Rr(65497),new Uint8Array(ot)},P=P||50,(function(){for(var Xe=String.fromCharCode,Ct=0;Ct<256;Ct++)rt[Ct]=Xe(Ct)})(),k=Br(lr,Mt),F=Br(At,Rt),G=Br(_r,at),Z=Br(Dt,xr),(function(){for(var Xe=1,Ct=2,Lt=1;Lt<=15;Lt++){for(var Wt=Xe;Wt<Ct;Wt++)lt[32767+Wt]=Lt,Je[32767+Wt]=[],Je[32767+Wt][1]=Lt,Je[32767+Wt][0]=Wt;for(var Xt=-(Ct-1);Xt<=-Xe;Xt++)lt[32767+Xt]=Lt,Je[32767+Xt]=[],Je[32767+Xt][1]=Lt,Je[32767+Xt][0]=Ct-1+Xt;Xe<<=1,Ct<<=1}})(),(function(){for(var Xe=0;Xe<256;Xe++)Kt[Xe]=19595*Xe,Kt[Xe+256|0]=38470*Xe,Kt[Xe+512|0]=7471*Xe+32768,Kt[Xe+768|0]=-11059*Xe,Kt[Xe+1024|0]=-21709*Xe,Kt[Xe+1280|0]=32768*Xe+8421375,Kt[Xe+1536|0]=-27439*Xe,Kt[Xe+1792|0]=-5329*Xe})(),an(P)}function Hi(P,k){if(this.pos=0,this.buffer=P,this.datav=new DataView(P.buffer),this.is_with_alpha=!!k,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zo(P){function k(Mt){if(!Mt)throw Error("assert :P")}function F(Mt,_r,at){for(var At=0;4>At;At++)if(Mt[_r+At]!=at.charCodeAt(At))return!0;return!1}function G(Mt,_r,at,At,Rt){for(var Dt=0;Dt<Rt;Dt++)Mt[_r+Dt]=at[At+Dt]}function Z(Mt,_r,at,At){for(var Rt=0;Rt<At;Rt++)Mt[_r+Rt]=at}function re(Mt){return new Int32Array(Mt)}function xe(Mt,_r){for(var at=[],At=0;At<Mt;At++)at.push(new _r);return at}function fe(Mt,_r){var at=[];return(function At(Rt,Dt,xr){for(var Br=xr[Dt],Mr=0;Mr<Br&&(Rt.push(xr.length>Dt+1?[]:new _r),!(xr.length<Dt+1));Mr++)At(Rt[Mr],Dt+1,xr)})(at,0,Mt),at}var Ae=function(){var Mt=this;function _r(R,q){for(var pe=1<<q-1>>>0;R&pe;)pe>>>=1;return pe?(R&pe-1)+pe:R}function at(R,q,pe,_e,Fe){k(!(_e%pe));do R[q+(_e-=pe)]=Fe;while(0<_e)}function At(R,q,pe,_e,Fe){if(k(2328>=Fe),512>=Fe)var We=re(512);else if((We=re(Fe))==null)return 0;return(function(Ge,et,it,yt,$t,pr){var xt,Yt,ir=et,Hr=1<<it,Er=re(16),Qr=re(16);for(k($t!=0),k(yt!=null),k(Ge!=null),k(0<it),Yt=0;Yt<$t;++Yt){if(15<yt[Yt])return 0;++Er[yt[Yt]]}if(Er[0]==$t)return 0;for(Qr[1]=0,xt=1;15>xt;++xt){if(Er[xt]>1<<xt)return 0;Qr[xt+1]=Qr[xt]+Er[xt]}for(Yt=0;Yt<$t;++Yt)xt=yt[Yt],0<yt[Yt]&&(pr[Qr[xt]++]=Yt);if(Qr[15]==1)return(yt=new Rt).g=0,yt.value=pr[0],at(Ge,ir,1,Hr,yt),Hr;var Gr,hn=-1,nn=Hr-1,Ti=0,Kn=1,Bs=1,gi=1<<it;for(Yt=0,xt=1,$t=2;xt<=it;++xt,$t<<=1){if(Kn+=Bs<<=1,0>(Bs-=Er[xt]))return 0;for(;0<Er[xt];--Er[xt])(yt=new Rt).g=xt,yt.value=pr[Yt++],at(Ge,ir+Ti,$t,gi,yt),Ti=_r(Ti,xt)}for(xt=it+1,$t=2;15>=xt;++xt,$t<<=1){if(Kn+=Bs<<=1,0>(Bs-=Er[xt]))return 0;for(;0<Er[xt];--Er[xt]){if(yt=new Rt,(Ti&nn)!=hn){for(ir+=gi,Gr=1<<(hn=xt)-it;15>hn&&!(0>=(Gr-=Er[hn]));)++hn,Gr<<=1;Hr+=gi=1<<(Gr=hn-it),Ge[et+(hn=Ti&nn)].g=Gr+it,Ge[et+hn].value=ir-et-hn}yt.g=xt-it,yt.value=pr[Yt++],at(Ge,ir+(Ti>>it),$t,gi,yt),Ti=_r(Ti,xt)}}return Kn!=2*Qr[15]-1?0:Hr})(R,q,pe,_e,Fe,We)}function Rt(){this.value=this.g=0}function Dt(){this.value=this.g=0}function xr(){this.G=xe(5,Rt),this.H=re(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=xe(Ls,Dt)}function Br(R,q,pe,_e){k(R!=null),k(q!=null),k(2147483648>_e),R.Ca=254,R.I=0,R.b=-8,R.Ka=0,R.oa=q,R.pa=pe,R.Jd=q,R.Yc=pe+_e,R.Zc=4<=_e?pe+_e-4+1:pe,Pr(R)}function Mr(R,q){for(var pe=0;0<q--;)pe|=Zr(R,128)<<q;return pe}function ur(R,q){var pe=Mr(R,q);return Ir(R)?-pe:pe}function Rr(R,q,pe,_e){var Fe,We=0;for(k(R!=null),k(q!=null),k(4294967288>_e),R.Sb=_e,R.Ra=0,R.u=0,R.h=0,4<_e&&(_e=4),Fe=0;Fe<_e;++Fe)We+=q[pe+Fe]<<8*Fe;R.Ra=We,R.bb=_e,R.oa=q,R.pa=pe}function gn(R){for(;8<=R.u&&R.bb<R.Sb;)R.Ra>>>=8,R.Ra+=R.oa[R.pa+R.bb]<<sc-8>>>0,++R.bb,R.u-=8;Wt(R)&&(R.h=1,R.u=0)}function an(R,q){if(k(0<=q),!R.h&&q<=$i){var pe=Lt(R)&ii[q];return R.u+=q,gn(R),pe}return R.h=1,R.u=0}function Xe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Ct(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Lt(R){return R.Ra>>>(R.u&sc-1)>>>0}function Wt(R){return k(R.bb<=R.Sb),R.h||R.bb==R.Sb&&R.u>sc}function Xt(R,q){R.u=q,R.h=Wt(R)}function mr(R){R.u>=ed&&(k(R.u>=ed),gn(R))}function Pr(R){k(R!=null&&R.oa!=null),R.pa<R.Zc?(R.I=(R.oa[R.pa++]|R.I<<8)>>>0,R.b+=8):(k(R!=null&&R.oa!=null),R.pa<R.Yc?(R.b+=8,R.I=R.oa[R.pa++]|R.I<<8):R.Ka?R.b=0:(R.I<<=8,R.b+=8,R.Ka=1))}function Ir(R){return Mr(R,1)}function Zr(R,q){var pe=R.Ca;0>R.b&&Pr(R);var _e=R.b,Fe=pe*q>>>8,We=(R.I>>>_e>Fe)+0;for(We?(pe-=Fe,R.I-=Fe+1<<_e>>>0):pe=Fe+1,_e=pe,Fe=0;256<=_e;)Fe+=8,_e>>=8;return _e=7^Fe+cu[_e],R.b-=_e,R.Ca=(pe<<_e)-1,We}function pn(R,q,pe){R[q+0]=pe>>24&255,R[q+1]=pe>>16&255,R[q+2]=pe>>8&255,R[q+3]=255&pe}function jn(R,q){return R[q+0]|R[q+1]<<8}function Fn(R,q){return jn(R,q)|R[q+2]<<16}function yi(R,q){return jn(R,q)|jn(R,q+2)<<16}function vt(R,q){var pe=1<<q;return k(R!=null),k(0<q),R.X=re(pe),R.X==null?0:(R.Mb=32-q,R.Xa=q,1)}function Cn(R,q){k(R!=null),k(q!=null),k(R.Xa==q.Xa),G(q.X,0,R.X,0,1<<q.Xa)}function Ri(){this.X=[],this.Xa=this.Mb=0}function Nn(R,q,pe,_e){k(pe!=null),k(_e!=null);var Fe=pe[0],We=_e[0];return Fe==0&&(Fe=(R*We+q/2)/q),We==0&&(We=(q*Fe+R/2)/R),0>=Fe||0>=We?0:(pe[0]=Fe,_e[0]=We,1)}function ln(R,q){return R+(1<<q)-1>>>q}function Ni(R,q){return((4278255360&R)+(4278255360&q)>>>0&4278255360)+((16711935&R)+(16711935&q)>>>0&16711935)>>>0}function Hn(R,q){Mt[q]=function(pe,_e,Fe,We,Ge,et,it){var yt;for(yt=0;yt<Ge;++yt){var $t=Mt[R](et[it+yt-1],Fe,We+yt);et[it+yt]=Ni(pe[_e+yt],$t)}}}function Vn(){this.ud=this.hd=this.jd=0}function zn(R,q){return((4278124286&(R^q))>>>1)+(R&q)>>>0}function ga(R){return 0<=R&&256>R?R:0>R?0:255<R?255:void 0}function Di(R,q){return ga(R+(R-q+.5>>1))}function qn(R,q,pe){return Math.abs(q-pe)-Math.abs(R-pe)}function ns(R,q,pe,_e,Fe,We,Ge){for(_e=We[Ge-1],pe=0;pe<Fe;++pe)We[Ge+pe]=_e=Ni(R[q+pe],_e)}function Si(R,q,pe,_e,Fe){var We;for(We=0;We<pe;++We){var Ge=R[q+We],et=Ge>>8&255,it=16711935&(it=(it=16711935&Ge)+((et<<16)+et));_e[Fe+We]=(4278255360&Ge)+it>>>0}}function Qn(R,q){q.jd=255&R,q.hd=R>>8&255,q.ud=R>>16&255}function Li(R,q,pe,_e,Fe,We){var Ge;for(Ge=0;Ge<_e;++Ge){var et=q[pe+Ge],it=et>>>8,yt=et,$t=255&($t=($t=et>>>16)+((R.jd<<24>>24)*(it<<24>>24)>>>5));yt=255&(yt=(yt+=(R.hd<<24>>24)*(it<<24>>24)>>>5)+((R.ud<<24>>24)*($t<<24>>24)>>>5)),Fe[We+Ge]=(4278255360&et)+($t<<16)+yt}}function Xn(R,q,pe,_e,Fe){Mt[q]=function(We,Ge,et,it,yt,$t,pr,xt,Yt){for(it=pr;it<xt;++it)for(pr=0;pr<Yt;++pr)yt[$t++]=Fe(et[_e(We[Ge++])])},Mt[R]=function(We,Ge,et,it,yt,$t,pr){var xt=8>>We.b,Yt=We.Ea,ir=We.K[0],Hr=We.w;if(8>xt)for(We=(1<<We.b)-1,Hr=(1<<xt)-1;Ge<et;++Ge){var Er,Qr=0;for(Er=0;Er<Yt;++Er)Er&We||(Qr=_e(it[yt++])),$t[pr++]=Fe(ir[Qr&Hr]),Qr>>=xt}else Mt["VP8LMapColor"+pe](it,yt,ir,Hr,$t,pr,Ge,et,Yt)}}function Gi(R,q,pe,_e,Fe){for(pe=q+pe;q<pe;){var We=R[q++];_e[Fe++]=We>>16&255,_e[Fe++]=We>>8&255,_e[Fe++]=255&We}}function is(R,q,pe,_e,Fe){for(pe=q+pe;q<pe;){var We=R[q++];_e[Fe++]=We>>16&255,_e[Fe++]=We>>8&255,_e[Fe++]=255&We,_e[Fe++]=We>>24&255}}function Zi(R,q,pe,_e,Fe){for(pe=q+pe;q<pe;){var We=(Ge=R[q++])>>16&240|Ge>>12&15,Ge=240&Ge|Ge>>28&15;_e[Fe++]=We,_e[Fe++]=Ge}}function xs(R,q,pe,_e,Fe){for(pe=q+pe;q<pe;){var We=(Ge=R[q++])>>16&248|Ge>>13&7,Ge=Ge>>5&224|Ge>>3&31;_e[Fe++]=We,_e[Fe++]=Ge}}function Ca(R,q,pe,_e,Fe){for(pe=q+pe;q<pe;){var We=R[q++];_e[Fe++]=255&We,_e[Fe++]=We>>8&255,_e[Fe++]=We>>16&255}}function bi(R,q,pe,_e,Fe,We){if(We==0)for(pe=q+pe;q<pe;)pn(_e,((We=R[q++])[0]>>24|We[1]>>8&65280|We[2]<<8&16711680|We[3]<<24)>>>0),Fe+=32;else G(_e,Fe,R,q,pe)}function Ys(R,q){Mt[q][0]=Mt[R+"0"],Mt[q][1]=Mt[R+"1"],Mt[q][2]=Mt[R+"2"],Mt[q][3]=Mt[R+"3"],Mt[q][4]=Mt[R+"4"],Mt[q][5]=Mt[R+"5"],Mt[q][6]=Mt[R+"6"],Mt[q][7]=Mt[R+"7"],Mt[q][8]=Mt[R+"8"],Mt[q][9]=Mt[R+"9"],Mt[q][10]=Mt[R+"10"],Mt[q][11]=Mt[R+"11"],Mt[q][12]=Mt[R+"12"],Mt[q][13]=Mt[R+"13"],Mt[q][14]=Mt[R+"0"],Mt[q][15]=Mt[R+"0"]}function Qi(R){return R==Cg||R==dp||R==mm||R==Ng}function oi(){this.eb=[],this.size=this.A=this.fb=0}function da(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ii(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new da,this.sd=null}function _n(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cs(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Su(R){return alert("todo:WebPSamplerProcessPlane"),R.T}function so(R,q){var pe=R.T,_e=q.ba.f.RGBA,Fe=_e.eb,We=_e.fb+R.ka*_e.A,Ge=Bd[q.ba.S],et=R.y,it=R.O,yt=R.f,$t=R.N,pr=R.ea,xt=R.W,Yt=q.cc,ir=q.dc,Hr=q.Mc,Er=q.Nc,Qr=R.ka,Gr=R.ka+R.T,hn=R.U,nn=hn+1>>1;for(Qr==0?Ge(et,it,null,null,yt,$t,pr,xt,yt,$t,pr,xt,Fe,We,null,null,hn):(Ge(q.ec,q.fc,et,it,Yt,ir,Hr,Er,yt,$t,pr,xt,Fe,We-_e.A,Fe,We,hn),++pe);Qr+2<Gr;Qr+=2)Yt=yt,ir=$t,Hr=pr,Er=xt,$t+=R.Rc,xt+=R.Rc,We+=2*_e.A,Ge(et,(it+=2*R.fa)-R.fa,et,it,Yt,ir,Hr,Er,yt,$t,pr,xt,Fe,We-_e.A,Fe,We,hn);return it+=R.fa,R.j+Gr<R.o?(G(q.ec,q.fc,et,it,hn),G(q.cc,q.dc,yt,$t,nn),G(q.Mc,q.Nc,pr,xt,nn),pe--):1&Gr||Ge(et,it,null,null,yt,$t,pr,xt,yt,$t,pr,xt,Fe,We+_e.A,null,null,hn),pe}function Ko(R,q,pe){var _e=R.F,Fe=[R.J];if(_e!=null){var We=R.U,Ge=q.ba.S,et=Ge==Ol||Ge==mm;q=q.ba.f.RGBA;var it=[0],yt=R.ka;it[0]=R.T,R.Kb&&(yt==0?--it[0]:(--yt,Fe[0]-=R.width),R.j+R.ka+R.T==R.o&&(it[0]=R.o-R.j-yt));var $t=q.eb;yt=q.fb+yt*q.A,R=ku(_e,Fe[0],R.width,We,it,$t,yt+(et?0:3),q.A),k(pe==it),R&&Qi(Ge)&&Zh($t,yt,et,We,it,q.A)}return 0}function rc(R){var q=R.ma,pe=q.ba.S,_e=11>pe,Fe=pe==up||pe==Xm||pe==Ol||pe==Pf||pe==12||Qi(pe);if(q.memory=null,q.Ib=null,q.Jb=null,q.Nd=null,!Ua(q.Oa,R,Fe?11:12))return 0;if(Fe&&Qi(pe)&&_t(),R.da)alert("todo:use_scaling");else{if(_e){if(q.Ib=Su,R.Kb){if(pe=R.U+1>>1,q.memory=re(R.U+2*pe),q.memory==null)return 0;q.ec=q.memory,q.fc=0,q.cc=q.ec,q.dc=q.fc+R.U,q.Mc=q.cc,q.Nc=q.dc+pe,q.Ib=so,_t()}}else alert("todo:EmitYUV");Fe&&(q.Jb=Ko,_e&&Ze())}if(_e&&!uv){for(R=0;256>R;++R)Dg[R]=89858*(R-128)+Ph>>Of,Ug[R]=-22014*(R-128)+Ph,Fg[R]=-45773*(R-128),Mg[R]=113618*(R-128)+Ph>>Of;for(R=tA;R<Rg;++R)q=76283*(R-16)+Ph>>Of,$g[R-tA]=xl(q,255),dv[R-tA]=xl(q+8>>4,15);uv=1}return 1}function wi(R){var q=R.ma,pe=R.U,_e=R.T;return k(!(1&R.ka)),0>=pe||0>=_e?0:(pe=q.Ib(R,q),q.Jb!=null&&q.Jb(R,q,pe),q.Dc+=pe,1)}function Ra(R){R.ma.memory=null}function Xa(R,q,pe,_e){return an(R,8)!=47?0:(q[0]=an(R,14)+1,pe[0]=an(R,14)+1,_e[0]=an(R,1),an(R,3)!=0?0:!R.h)}function Ql(R,q){if(4>R)return R+1;var pe=R-2>>1;return(2+(1&R)<<pe)+an(q,pe)+1}function zl(R,q){return 120<q?q-120:1<=(pe=((pe=kg[q-1])>>4)*R+(8-(15&pe)))?pe:1;var pe}function ha(R,q,pe){var _e=Lt(pe),Fe=R[q+=255&_e].g-8;return 0<Fe&&(Xt(pe,pe.u+8),_e=Lt(pe),q+=R[q].value,q+=_e&(1<<Fe)-1),Xt(pe,pe.u+R[q].g),R[q].value}function yo(R,q,pe){return pe.g+=R.g,pe.value+=R.value<<q>>>0,k(8>=pe.g),R.g}function Za(R,q,pe){var _e=R.xc;return k((q=_e==0?0:R.vc[R.md*(pe>>_e)+(q>>_e)])<R.Wb),R.Ya[q]}function zc(R,q,pe,_e){var Fe=R.ab,We=R.c*q,Ge=R.C;q=Ge+q;var et=pe,it=_e;for(_e=R.Ta,pe=R.Ua;0<Fe--;){var yt=R.gc[Fe],$t=Ge,pr=q,xt=et,Yt=it,ir=(it=_e,et=pe,yt.Ea);switch(k($t<pr),k(pr<=yt.nc),yt.hc){case 2:oo(xt,Yt,(pr-$t)*ir,it,et);break;case 0:var Hr=$t,Er=pr,Qr=it,Gr=et,hn=(gi=yt).Ea;Hr==0&&(yl(xt,Yt,null,null,1,Qr,Gr),ns(xt,Yt+1,0,0,hn-1,Qr,Gr+1),Yt+=hn,Gr+=hn,++Hr);for(var nn=1<<gi.b,Ti=nn-1,Kn=ln(hn,gi.b),Bs=gi.K,gi=gi.w+(Hr>>gi.b)*Kn;Hr<Er;){var ca=Bs,Rl=gi,_s=1;for(ac(xt,Yt,Qr,Gr-hn,1,Qr,Gr);_s<hn;){var fi=(_s&~Ti)+nn;fi>hn&&(fi=hn),(0,Ro[ca[Rl++]>>8&15])(xt,Yt+ +_s,Qr,Gr+_s-hn,fi-_s,Qr,Gr+_s),_s=fi}Yt+=hn,Gr+=hn,++Hr&Ti||(gi+=Kn)}pr!=yt.nc&&G(it,et-ir,it,et+(pr-$t-1)*ir,ir);break;case 1:for(ir=xt,Er=Yt,hn=(xt=yt.Ea)-(Gr=xt&~(Qr=(Yt=1<<yt.b)-1)),Hr=ln(xt,yt.b),nn=yt.K,yt=yt.w+($t>>yt.b)*Hr;$t<pr;){for(Ti=nn,Kn=yt,Bs=new Vn,gi=Er+Gr,ca=Er+xt;Er<gi;)Qn(Ti[Kn++],Bs),Bf(Bs,ir,Er,Yt,it,et),Er+=Yt,et+=Yt;Er<ca&&(Qn(Ti[Kn++],Bs),Bf(Bs,ir,Er,hn,it,et),Er+=hn,et+=hn),++$t&Qr||(yt+=Hr)}break;case 3:if(xt==it&&Yt==et&&0<yt.b){for(Er=it,xt=ir=et+(pr-$t)*ir-(Gr=(pr-$t)*ln(yt.Ea,yt.b)),Yt=it,Qr=et,Hr=[],Gr=(hn=Gr)-1;0<=Gr;--Gr)Hr[Gr]=Yt[Qr+Gr];for(Gr=hn-1;0<=Gr;--Gr)Er[xt+Gr]=Hr[Gr];Ym(yt,$t,pr,it,ir,it,et)}else Ym(yt,$t,pr,xt,Yt,it,et)}et=_e,it=pe}it!=pe&&G(_e,pe,et,it,We)}function To(R,q){var pe=R.V,_e=R.Ba+R.c*R.C,Fe=q-R.C;if(k(q<=R.l.o),k(16>=Fe),0<Fe){var We=R.l,Ge=R.Ta,et=R.Ua,it=We.width;if(zc(R,Fe,pe,_e),Fe=et=[et],k((pe=R.C)<(_e=q)),k(We.v<We.va),_e>We.o&&(_e=We.o),pe<We.j){var yt=We.j-pe;pe=We.j,Fe[0]+=yt*it}if(pe>=_e?pe=0:(Fe[0]+=4*We.v,We.ka=pe-We.j,We.U=We.va-We.v,We.T=_e-pe,pe=1),pe){if(et=et[0],11>(pe=R.ca).S){var $t=pe.f.RGBA,pr=(_e=pe.S,Fe=We.U,We=We.T,yt=$t.eb,$t.A),xt=We;for($t=$t.fb+R.Ma*$t.A;0<xt--;){var Yt=Ge,ir=et,Hr=Fe,Er=yt,Qr=$t;switch(_e){case fm:Nd(Yt,ir,Hr,Er,Qr);break;case up:Ji(Yt,ir,Hr,Er,Qr);break;case Cg:Ji(Yt,ir,Hr,Er,Qr),Zh(Er,Qr,0,Hr,1,0);break;case jg:kh(Yt,ir,Hr,Er,Qr);break;case Xm:bi(Yt,ir,Hr,Er,Qr,1);break;case dp:bi(Yt,ir,Hr,Er,Qr,1),Zh(Er,Qr,0,Hr,1,0);break;case Ol:bi(Yt,ir,Hr,Er,Qr,0);break;case mm:bi(Yt,ir,Hr,Er,Qr,0),Zh(Er,Qr,1,Hr,1,0);break;case Pf:fa(Yt,ir,Hr,Er,Qr);break;case Ng:fa(Yt,ir,Hr,Er,Qr),op(Er,Qr,Hr,1,0);break;case Tg:wo(Yt,ir,Hr,Er,Qr);break;default:k(0)}et+=it,$t+=pr}R.Ma+=We}else alert("todo:EmitRescaledRowsYUVA");k(R.Ma<=pe.height)}}R.C=q,k(R.C<=R.i)}function gc(R){var q;if(0<R.ua)return 0;for(q=0;q<R.Wb;++q){var pe=R.Ya[q].G,_e=R.Ya[q].H;if(0<pe[1][_e[1]+0].g||0<pe[2][_e[2]+0].g||0<pe[3][_e[3]+0].g)return 0}return 1}function Ka(R,q,pe,_e,Fe,We){if(R.Z!=0){var Ge=R.qd,et=R.rd;for(k(Ih[R.Z]!=null);q<pe;++q)Ih[R.Z](Ge,et,_e,Fe,_e,Fe,We),Ge=_e,et=Fe,Fe+=We;R.qd=Ge,R.rd=et}}function Vl(R,q){var pe=R.l.ma,_e=pe.Z==0||pe.Z==1?R.l.j:R.C;if(_e=R.C<_e?_e:R.C,k(q<=R.l.o),q>_e){var Fe=R.l.width,We=pe.ca,Ge=pe.tb+Fe*_e,et=R.V,it=R.Ba+R.c*_e,yt=R.gc;k(R.ab==1),k(yt[0].hc==3),Yc(yt[0],_e,q,et,it,We,Ge),Ka(pe,_e,q,We,Ge,Fe)}R.C=R.Ma=q}function Kl(R,q,pe,_e,Fe,We,Ge){var et=R.$/_e,it=R.$%_e,yt=R.m,$t=R.s,pr=pe+R.$,xt=pr;Fe=pe+_e*Fe;var Yt=pe+_e*We,ir=280+$t.ua,Hr=R.Pb?et:16777216,Er=0<$t.ua?$t.Wa:null,Qr=$t.wc,Gr=pr<Yt?Za($t,it,et):null;k(R.C<We),k(Yt<=Fe);var hn=!1;e:for(;;){for(;hn||pr<Yt;){var nn=0;if(et>=Hr){var Ti=pr-pe;k((Hr=R).Pb),Hr.wd=Hr.m,Hr.xd=Ti,0<Hr.s.ua&&Cn(Hr.s.Wa,Hr.s.vb),Hr=et+av}if(it&Qr||(Gr=Za($t,it,et)),k(Gr!=null),Gr.Qb&&(q[pr]=Gr.qb,hn=!0),!hn)if(mr(yt),Gr.jc){nn=yt,Ti=q;var Kn=pr,Bs=Gr.pd[Lt(nn)&Ls-1];k(Gr.jc),256>Bs.g?(Xt(nn,nn.u+Bs.g),Ti[Kn]=Bs.value,nn=0):(Xt(nn,nn.u+Bs.g-256),k(256<=Bs.value),nn=Bs.value),nn==0&&(hn=!0)}else nn=ha(Gr.G[0],Gr.H[0],yt);if(yt.h)break;if(hn||256>nn){if(!hn)if(Gr.nd)q[pr]=(Gr.qb|nn<<8)>>>0;else{if(mr(yt),hn=ha(Gr.G[1],Gr.H[1],yt),mr(yt),Ti=ha(Gr.G[2],Gr.H[2],yt),Kn=ha(Gr.G[3],Gr.H[3],yt),yt.h)break;q[pr]=(Kn<<24|hn<<16|nn<<8|Ti)>>>0}if(hn=!1,++pr,++it>=_e&&(it=0,++et,Ge!=null&&et<=We&&!(et%16)&&Ge(R,et),Er!=null))for(;xt<pr;)nn=q[xt++],Er.X[(506832829*nn&4294967295)>>>Er.Mb]=nn}else if(280>nn){if(nn=Ql(nn-256,yt),Ti=ha(Gr.G[4],Gr.H[4],yt),mr(yt),Ti=zl(_e,Ti=Ql(Ti,yt)),yt.h)break;if(pr-pe<Ti||Fe-pr<nn)break e;for(Kn=0;Kn<nn;++Kn)q[pr+Kn]=q[pr+Kn-Ti];for(pr+=nn,it+=nn;it>=_e;)it-=_e,++et,Ge!=null&&et<=We&&!(et%16)&&Ge(R,et);if(k(pr<=Fe),it&Qr&&(Gr=Za($t,it,et)),Er!=null)for(;xt<pr;)nn=q[xt++],Er.X[(506832829*nn&4294967295)>>>Er.Mb]=nn}else{if(!(nn<ir))break e;for(hn=nn-280,k(Er!=null);xt<pr;)nn=q[xt++],Er.X[(506832829*nn&4294967295)>>>Er.Mb]=nn;nn=pr,k(!(hn>>>(Ti=Er).Xa)),q[nn]=Ti.X[hn],hn=!0}hn||k(yt.h==Wt(yt))}if(R.Pb&&yt.h&&pr<Fe)k(R.m.h),R.a=5,R.m=R.wd,R.$=R.xd,0<R.s.ua&&Cn(R.s.vb,R.s.Wa);else{if(yt.h)break e;Ge?.(R,et>We?We:et),R.a=0,R.$=pr-pe}return 1}return R.a=3,0}function Bl(R){k(R!=null),R.vc=null,R.yc=null,R.Ya=null;var q=R.Wa;q!=null&&(q.X=null),R.vb=null,k(R!=null)}function Ed(){var R=new Yi;return R==null?null:(R.a=0,R.xb=mp,Ys("Predictor","VP8LPredictors"),Ys("Predictor","VP8LPredictors_C"),Ys("PredictorAdd","VP8LPredictorsAdd"),Ys("PredictorAdd","VP8LPredictorsAdd_C"),oo=Si,Bf=Li,Nd=Gi,Ji=is,fa=Zi,wo=xs,kh=Ca,Mt.VP8LMapColor32b=mh,Mt.VP8LMapColor8b=qc,R)}function nc(R,q,pe,_e,Fe){var We=1,Ge=[R],et=[q],it=_e.m,yt=_e.s,$t=null,pr=0;e:for(;;){if(pe)for(;We&&an(it,1);){var xt=Ge,Yt=et,ir=_e,Hr=1,Er=ir.m,Qr=ir.gc[ir.ab],Gr=an(Er,2);if(ir.Oc&1<<Gr)We=0;else{switch(ir.Oc|=1<<Gr,Qr.hc=Gr,Qr.Ea=xt[0],Qr.nc=Yt[0],Qr.K=[null],++ir.ab,k(4>=ir.ab),Gr){case 0:case 1:Qr.b=an(Er,3)+2,Hr=nc(ln(Qr.Ea,Qr.b),ln(Qr.nc,Qr.b),0,ir,Qr.K),Qr.K=Qr.K[0];break;case 3:var hn,nn=an(Er,8)+1,Ti=16<nn?0:4<nn?1:2<nn?2:3;if(xt[0]=ln(Qr.Ea,Ti),Qr.b=Ti,hn=Hr=nc(nn,1,0,ir,Qr.K)){var Kn,Bs=nn,gi=Qr,ca=1<<(8>>gi.b),Rl=re(ca);if(Rl==null)hn=0;else{var _s=gi.K[0],fi=gi.w;for(Rl[0]=gi.K[0][0],Kn=1;Kn<1*Bs;++Kn)Rl[Kn]=Ni(_s[fi+Kn],Rl[Kn-1]);for(;Kn<4*ca;++Kn)Rl[Kn]=0;gi.K[0]=null,gi.K[0]=Rl,hn=1}}Hr=hn;break;case 2:break;default:k(0)}We=Hr}}if(Ge=Ge[0],et=et[0],We&&an(it,1)&&!(We=1<=(pr=an(it,4))&&11>=pr)){_e.a=3;break e}var Rn;if(Rn=We)t:{var sl,Ss,Ds,Eo=_e,oc=Ge,jc=et,$a=pr,Tc=pe,uu=Eo.m,al=Eo.s,aa=[null],Vi=1,wl=0,eo=Lg[$a];r:for(;;){if(Tc&&an(uu,1)){var Cc=an(uu,3)+2,Zc=ln(oc,Cc),lo=ln(jc,Cc),Jc=Zc*lo;if(!nc(Zc,lo,0,Eo,aa))break r;for(aa=aa[0],al.xc=Cc,sl=0;sl<Jc;++sl){var co=aa[sl]>>8&65535;aa[sl]=co,co>=Vi&&(Vi=co+1)}}if(uu.h)break r;for(Ss=0;5>Ss;++Ss){var vn=sv[Ss];!Ss&&0<$a&&(vn+=1<<$a),wl<vn&&(wl=vn)}var _o=xe(Vi*eo,Rt),lc=Vi,No=xe(lc,xr);if(No==null)var id=null;else k(65536>=lc),id=No;var ws=re(wl);if(id==null||ws==null||_o==null){Eo.a=1;break r}var Js=_o;for(sl=Ds=0;sl<Vi;++sl){var ka=id[sl],sd=ka.G,El=ka.H,ko=0,ad=1,Nc=0;for(Ss=0;5>Ss;++Ss){vn=sv[Ss],sd[Ss]=Js,El[Ss]=Ds,!Ss&&0<$a&&(vn+=1<<$a);i:{var Dl,Hg=vn,xp=Eo,pm=ws,qo=Js,Lu=Ds,qd=0,ph=xp.m,hv=an(ph,1);if(Z(pm,0,0,Hg),hv){var Yx=an(ph,1)+1,qx=an(ph,1),yp=an(ph,qx==0?1:8);pm[yp]=1,Yx==2&&(pm[yp=an(ph,8)]=1);var eu=1}else{var Xd=re(19),nA=an(ph,4)+4;if(19<nA){xp.a=3;var uo=0;break i}for(Dl=0;Dl<nA;++Dl)Xd[Qx[Dl]]=an(ph,3);var bp=void 0,du=void 0,Rf=xp,ef=Xd,Df=Hg,tf=pm,hu=0,rf=Rf.m,Zd=8,iA=xe(128,Rt);n:for(;At(iA,0,7,ef,19);){if(an(rf,1)){var wp=2+2*an(rf,3);if((bp=2+an(rf,wp))>Df)break n}else bp=Df;for(du=0;du<Df&&bp--;){mr(rf);var Mf=iA[0+(127&Lt(rf))];Xt(rf,rf.u+Mf.g);var gm=Mf.value;if(16>gm)tf[du++]=gm,gm!=0&&(Zd=gm);else{var fv=gm==16,sA=gm-16,Xx=$1[sA],Ep=an(rf,Hx[sA])+Xx;if(du+Ep>Df)break n;for(var Zx=fv?Zd:0;0<Ep--;)tf[du++]=Zx}}hu=1;break n}hu||(Rf.a=3),eu=hu}(eu=eu&&!ph.h)&&(qd=At(qo,Lu,8,pm,Hg)),eu&&qd!=0?uo=qd:(xp.a=3,uo=0)}if(uo==0)break r;if(ad&&Zm[Ss]==1&&(ad=Js[Ds].g==0),ko+=Js[Ds].g,Ds+=uo,3>=Ss){var _p,mv=ws[0];for(_p=1;_p<vn;++_p)ws[_p]>mv&&(mv=ws[_p]);Nc+=mv}}if(ka.nd=ad,ka.Qb=0,ad&&(ka.qb=(sd[3][El[3]+0].value<<24|sd[1][El[1]+0].value<<16|sd[2][El[2]+0].value)>>>0,ko==0&&256>sd[0][El[0]+0].value&&(ka.Qb=1,ka.qb+=sd[0][El[0]+0].value<<8)),ka.jc=!ka.Qb&&6>Nc,ka.jc){var va,ma=ka;for(va=0;va<Ls;++va){var js=va,Ps=ma.pd[js],La=ma.G[0][ma.H[0]+js];256<=La.value?(Ps.g=La.g+256,Ps.value=La.value):(Ps.g=0,Ps.value=0,js>>=yo(La,8,Ps),js>>=yo(ma.G[1][ma.H[1]+js],16,Ps),js>>=yo(ma.G[2][ma.H[2]+js],0,Ps),yo(ma.G[3][ma.H[3]+js],24,Ps))}}}al.vc=aa,al.Wb=Vi,al.Ya=id,al.yc=_o,Rn=1;break t}Rn=0}if(!(We=Rn)){_e.a=3;break e}if(0<pr){if(yt.ua=1<<pr,!vt(yt.Wa,pr)){_e.a=1,We=0;break e}}else yt.ua=0;var Iu=_e,nf=Ge,aA=et,U=Iu.s,B=U.xc;if(Iu.c=nf,Iu.i=aA,U.md=ln(nf,B),U.wc=B==0?-1:(1<<B)-1,pe){_e.xb=Kx;break e}if(($t=re(Ge*et))==null){_e.a=1,We=0;break e}We=(We=Kl(_e,$t,0,Ge,et,et,null))&&!it.h;break e}return We?(Fe!=null?Fe[0]=$t:(k($t==null),k(pe)),_e.$=0,pe||Bl(yt)):Bl(yt),We}function Gl(R,q){var pe=R.c*R.i,_e=pe+q+16*q;return k(R.c<=q),R.V=re(_e),R.V==null?(R.Ta=null,R.Ua=0,R.a=1,0):(R.Ta=R.V,R.Ua=R.Ba+pe+q,1)}function vc(R,q){var pe=R.C,_e=q-pe,Fe=R.V,We=R.Ba+R.c*pe;for(k(q<=R.l.o);0<_e;){var Ge=16<_e?16:_e,et=R.l.ma,it=R.l.width,yt=it*Ge,$t=et.ca,pr=et.tb+it*pe,xt=R.Ta,Yt=R.Ua;zc(R,Ge,Fe,We),Wd(xt,Yt,$t,pr,yt),Ka(et,pe,pe+Ge,$t,pr,it),_e-=Ge,Fe+=Ge*R.c,pe+=Ge}k(pe==q),R.C=R.Ma=q}function _d(){this.ub=this.yd=this.td=this.Rb=0}function Wl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yl(){this.Fb=this.Bb=this.Cb=0,this.Zb=re(4),this.Lb=re(4)}function ju(){this.Yb=(function(){var R=[];return(function q(pe,_e,Fe){for(var We=Fe[_e],Ge=0;Ge<We&&(pe.push(Fe.length>_e+1?[]:0),!(Fe.length<_e+1));Ge++)q(pe[Ge],_e+1,Fe)})(R,0,[3,11]),R})()}function ql(){this.jb=re(3),this.Wc=fe([4,8],ju),this.Xc=fe([4,17],ju)}function Io(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new re(4),this.od=new re(4)}function vl(){this.ld=this.La=this.dd=this.tc=0}function au(){this.Na=this.la=0}function xc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kd(){this.ad=re(384),this.Za=0,this.Ob=re(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ic(){this.uc=this.M=this.Nb=0,this.wa=Array(new vl),this.Y=0,this.ya=Array(new Kd),this.aa=0,this.l=new ch}function Xu(){this.y=re(16),this.f=re(8),this.ea=re(8)}function Sd(){this.cb=this.a=0,this.sc="",this.m=new Xe,this.Od=new _d,this.Kc=new Wl,this.ed=new Io,this.Qa=new Yl,this.Ic=this.$c=this.Aa=0,this.D=new ic,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=xe(8,Xe),this.ia=0,this.pb=xe(4,xc),this.Pa=new ql,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Xu),this.Hd=0,this.rb=Array(new au),this.sb=0,this.wa=Array(new vl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kd),this.L=this.aa=0,this.gd=fe([4,2],vl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xl(R,q){return 0>R?0:R>q?q:R}function ch(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Pl(){var R=new Sd;return R!=null&&(R.a=0,R.sc="OK",R.cb=0,R.Xb=0,Am||(Am=Kc)),R}function Fi(R,q,pe){return R.a==0&&(R.a=q,R.sc=pe,R.cb=0),0}function yc(R,q,pe){return 3<=pe&&R[q+0]==157&&R[q+1]==1&&R[q+2]==42}function Vc(R,q){if(R==null)return 0;if(R.a=0,R.sc="OK",q==null)return Fi(R,2,"null VP8Io passed to VP8GetHeaders()");var pe=q.data,_e=q.w,Fe=q.ha;if(4>Fe)return Fi(R,7,"Truncated header.");var We=pe[_e+0]|pe[_e+1]<<8|pe[_e+2]<<16,Ge=R.Od;if(Ge.Rb=!(1&We),Ge.td=We>>1&7,Ge.yd=We>>4&1,Ge.ub=We>>5,3<Ge.td)return Fi(R,3,"Incorrect keyframe parameters.");if(!Ge.yd)return Fi(R,4,"Frame not displayable.");_e+=3,Fe-=3;var et=R.Kc;if(Ge.Rb){if(7>Fe)return Fi(R,7,"cannot parse picture header");if(!yc(pe,_e,Fe))return Fi(R,3,"Bad code word");et.c=16383&(pe[_e+4]<<8|pe[_e+3]),et.Td=pe[_e+4]>>6,et.i=16383&(pe[_e+6]<<8|pe[_e+5]),et.Ud=pe[_e+6]>>6,_e+=7,Fe-=7,R.za=et.c+15>>4,R.Ub=et.i+15>>4,q.width=et.c,q.height=et.i,q.Da=0,q.j=0,q.v=0,q.va=q.width,q.o=q.height,q.da=0,q.ib=q.width,q.hb=q.height,q.U=q.width,q.T=q.height,Z((We=R.Pa).jb,0,255,We.jb.length),k((We=R.Qa)!=null),We.Cb=0,We.Bb=0,We.Fb=1,Z(We.Zb,0,0,We.Zb.length),Z(We.Lb,0,0,We.Lb)}if(Ge.ub>Fe)return Fi(R,7,"bad partition length");Br(We=R.m,pe,_e,Ge.ub),_e+=Ge.ub,Fe-=Ge.ub,Ge.Rb&&(et.Ld=Ir(We),et.Kd=Ir(We)),et=R.Qa;var it,yt=R.Pa;if(k(We!=null),k(et!=null),et.Cb=Ir(We),et.Cb){if(et.Bb=Ir(We),Ir(We)){for(et.Fb=Ir(We),it=0;4>it;++it)et.Zb[it]=Ir(We)?ur(We,7):0;for(it=0;4>it;++it)et.Lb[it]=Ir(We)?ur(We,6):0}if(et.Bb)for(it=0;3>it;++it)yt.jb[it]=Ir(We)?Mr(We,8):255}else et.Bb=0;if(We.Ka)return Fi(R,3,"cannot parse segment header");if((et=R.ed).zd=Ir(We),et.Tb=Mr(We,6),et.wb=Mr(We,3),et.Pc=Ir(We),et.Pc&&Ir(We)){for(yt=0;4>yt;++yt)Ir(We)&&(et.vd[yt]=ur(We,6));for(yt=0;4>yt;++yt)Ir(We)&&(et.od[yt]=ur(We,6))}if(R.L=et.Tb==0?0:et.zd?1:2,We.Ka)return Fi(R,3,"cannot parse filter header");var $t=Fe;if(Fe=it=_e,_e=it+$t,et=$t,R.Xb=(1<<Mr(R.m,2))-1,$t<3*(yt=R.Xb))pe=7;else{for(it+=3*yt,et-=3*yt,$t=0;$t<yt;++$t){var pr=pe[Fe+0]|pe[Fe+1]<<8|pe[Fe+2]<<16;pr>et&&(pr=et),Br(R.Jc[+$t],pe,it,pr),it+=pr,et-=pr,Fe+=3}Br(R.Jc[+yt],pe,it,et),pe=it<_e?0:5}if(pe!=0)return Fi(R,pe,"cannot parse partitions");for(pe=Mr(it=R.m,7),Fe=Ir(it)?ur(it,4):0,_e=Ir(it)?ur(it,4):0,et=Ir(it)?ur(it,4):0,yt=Ir(it)?ur(it,4):0,it=Ir(it)?ur(it,4):0,$t=R.Qa,pr=0;4>pr;++pr){if($t.Cb){var xt=$t.Zb[pr];$t.Fb||(xt+=pe)}else{if(0<pr){R.pb[pr]=R.pb[0];continue}xt=pe}var Yt=R.pb[pr];Yt.Sc[0]=Jm[xl(xt+Fe,127)],Yt.Sc[1]=Ig[xl(xt+0,127)],Yt.Eb[0]=2*Jm[xl(xt+_e,127)],Yt.Eb[1]=101581*Ig[xl(xt+et,127)]>>16,8>Yt.Eb[1]&&(Yt.Eb[1]=8),Yt.Qc[0]=Jm[xl(xt+yt,117)],Yt.Qc[1]=Ig[xl(xt+it,127)],Yt.lc=xt+it}if(!Ge.Rb)return Fi(R,4,"Not a key frame.");for(Ir(We),Ge=R.Pa,pe=0;4>pe;++pe){for(Fe=0;8>Fe;++Fe)for(_e=0;3>_e;++_e)for(et=0;11>et;++et)yt=Zr(We,hp[pe][Fe][_e][et])?Mr(We,8):Vx[pe][Fe][_e][et],Ge.Wc[pe][Fe].Yb[_e][et]=yt;for(Fe=0;17>Fe;++Fe)Ge.Xc[pe][Fe]=Ge.Wc[pe][fp[Fe]]}return R.kc=Ir(We),R.kc&&(R.Bd=Mr(We,8)),R.cb=1}function Kc(R,q,pe,_e,Fe,We,Ge){var et=q[Fe].Yb[pe];for(pe=0;16>Fe;++Fe){if(!Zr(R,et[pe+0]))return Fe;for(;!Zr(R,et[pe+1]);)if(et=q[++Fe].Yb[0],pe=0,Fe==16)return 16;var it=q[Fe+1].Yb;if(Zr(R,et[pe+2])){var yt=R,$t=0;if(Zr(yt,(xt=et)[(pr=pe)+3]))if(Zr(yt,xt[pr+6])){for(et=0,pr=2*($t=Zr(yt,xt[pr+8]))+(xt=Zr(yt,xt[pr+9+$t])),$t=0,xt=Bg[pr];xt[et];++et)$t+=$t+Zr(yt,xt[et]);$t+=3+(8<<pr)}else Zr(yt,xt[pr+7])?($t=7+2*Zr(yt,165),$t+=Zr(yt,145)):$t=5+Zr(yt,159);else $t=Zr(yt,xt[pr+4])?3+Zr(yt,xt[pr+5]):2;et=it[2]}else $t=1,et=it[1];it=Ge+zx[Fe],0>(yt=R).b&&Pr(yt);var pr,xt=yt.b,Yt=(pr=yt.Ca>>1)-(yt.I>>xt)>>31;--yt.b,yt.Ca+=Yt,yt.Ca|=1,yt.I-=(pr+1&Yt)<<xt,We[it]=(($t^Yt)-Yt)*_e[(0<Fe)+0]}return 16}function Zu(R){var q=R.rb[R.sb-1];q.la=0,q.Na=0,Z(R.zc,0,0,R.zc.length),R.ja=0}function bc(R,q,pe,_e,Fe){Fe=R[q+pe+32*_e]+(Fe>>3),R[q+pe+32*_e]=-256&Fe?0>Fe?0:255:Fe}function Bo(R,q,pe,_e,Fe,We){bc(R,q,0,pe,_e+Fe),bc(R,q,1,pe,_e+We),bc(R,q,2,pe,_e-We),bc(R,q,3,pe,_e-Fe)}function ou(R){return(20091*R>>16)+R}function v(R,q,pe,_e){var Fe,We=0,Ge=re(16);for(Fe=0;4>Fe;++Fe){var et=R[q+0]+R[q+8],it=R[q+0]-R[q+8],yt=(35468*R[q+4]>>16)-ou(R[q+12]),$t=ou(R[q+4])+(35468*R[q+12]>>16);Ge[We+0]=et+$t,Ge[We+1]=it+yt,Ge[We+2]=it-yt,Ge[We+3]=et-$t,We+=4,q++}for(Fe=We=0;4>Fe;++Fe)et=(R=Ge[We+0]+4)+Ge[We+8],it=R-Ge[We+8],yt=(35468*Ge[We+4]>>16)-ou(Ge[We+12]),bc(pe,_e,0,0,et+($t=ou(Ge[We+4])+(35468*Ge[We+12]>>16))),bc(pe,_e,1,0,it+yt),bc(pe,_e,2,0,it-yt),bc(pe,_e,3,0,et-$t),We++,_e+=32}function S(R,q,pe,_e){var Fe=R[q+0]+4,We=35468*R[q+4]>>16,Ge=ou(R[q+4]),et=35468*R[q+1]>>16;Bo(pe,_e,0,Fe+Ge,R=ou(R[q+1]),et),Bo(pe,_e,1,Fe+We,R,et),Bo(pe,_e,2,Fe-We,R,et),Bo(pe,_e,3,Fe-Ge,R,et)}function Q(R,q,pe,_e,Fe){v(R,q,pe,_e),Fe&&v(R,q+16,pe,_e+4)}function le(R,q,pe,_e){kd(R,q+0,pe,_e,1),kd(R,q+32,pe,_e+128,1)}function Ee(R,q,pe,_e){var Fe;for(R=R[q+0]+4,Fe=0;4>Fe;++Fe)for(q=0;4>q;++q)bc(pe,_e,q,Fe,R)}function Ke(R,q,pe,_e){R[q+0]&&sa(R,q+0,pe,_e),R[q+16]&&sa(R,q+16,pe,_e+4),R[q+32]&&sa(R,q+32,pe,_e+128),R[q+48]&&sa(R,q+48,pe,_e+128+4)}function kt(R,q,pe,_e){var Fe,We=re(16);for(Fe=0;4>Fe;++Fe){var Ge=R[q+0+Fe]+R[q+12+Fe],et=R[q+4+Fe]+R[q+8+Fe],it=R[q+4+Fe]-R[q+8+Fe],yt=R[q+0+Fe]-R[q+12+Fe];We[0+Fe]=Ge+et,We[8+Fe]=Ge-et,We[4+Fe]=yt+it,We[12+Fe]=yt-it}for(Fe=0;4>Fe;++Fe)Ge=(R=We[0+4*Fe]+3)+We[3+4*Fe],et=We[1+4*Fe]+We[2+4*Fe],it=We[1+4*Fe]-We[2+4*Fe],yt=R-We[3+4*Fe],pe[_e+0]=Ge+et>>3,pe[_e+16]=yt+it>>3,pe[_e+32]=Ge-et>>3,pe[_e+48]=yt-it>>3,_e+=64}function er(R,q,pe){var _e,Fe=q-32,We=nd,Ge=255-R[Fe-1];for(_e=0;_e<pe;++_e){var et,it=We,yt=Ge+R[q-1];for(et=0;et<pe;++et)R[q+et]=it[yt+R[Fe+et]];q+=32}}function Sr(R,q){er(R,q,4)}function qr(R,q){er(R,q,8)}function En(R,q){er(R,q,16)}function di(R,q){var pe;for(pe=0;16>pe;++pe)G(R,q+32*pe,R,q-32,16)}function As(R,q){var pe;for(pe=16;0<pe;--pe)Z(R,q,R[q-1],16),q+=32}function Da(R,q,pe){var _e;for(_e=0;16>_e;++_e)Z(q,pe+32*_e,R,16)}function Co(R,q){var pe,_e=16;for(pe=0;16>pe;++pe)_e+=R[q-1+32*pe]+R[q+pe-32];Da(_e>>5,R,q)}function il(R,q){var pe,_e=8;for(pe=0;16>pe;++pe)_e+=R[q-1+32*pe];Da(_e>>4,R,q)}function Zs(R,q){var pe,_e=8;for(pe=0;16>pe;++pe)_e+=R[q+pe-32];Da(_e>>4,R,q)}function la(R,q){Da(128,R,q)}function In(R,q,pe){return R+2*q+pe+2>>2}function Ju(R,q){var pe,_e=q-32;for(_e=new Uint8Array([In(R[_e-1],R[_e+0],R[_e+1]),In(R[_e+0],R[_e+1],R[_e+2]),In(R[_e+1],R[_e+2],R[_e+3]),In(R[_e+2],R[_e+3],R[_e+4])]),pe=0;4>pe;++pe)G(R,q+32*pe,_e,0,_e.length)}function wc(R,q){var pe=R[q-1],_e=R[q-1+32],Fe=R[q-1+64],We=R[q-1+96];pn(R,q+0,16843009*In(R[q-1-32],pe,_e)),pn(R,q+32,16843009*In(pe,_e,Fe)),pn(R,q+64,16843009*In(_e,Fe,We)),pn(R,q+96,16843009*In(Fe,We,We))}function jd(R,q){var pe,_e=4;for(pe=0;4>pe;++pe)_e+=R[q+pe-32]+R[q-1+32*pe];for(_e>>=3,pe=0;4>pe;++pe)Z(R,q+32*pe,_e,4)}function Xl(R,q){var pe=R[q-1+0],_e=R[q-1+32],Fe=R[q-1+64],We=R[q-1-32],Ge=R[q+0-32],et=R[q+1-32],it=R[q+2-32],yt=R[q+3-32];R[q+0+96]=In(_e,Fe,R[q-1+96]),R[q+1+96]=R[q+0+64]=In(pe,_e,Fe),R[q+2+96]=R[q+1+64]=R[q+0+32]=In(We,pe,_e),R[q+3+96]=R[q+2+64]=R[q+1+32]=R[q+0+0]=In(Ge,We,pe),R[q+3+64]=R[q+2+32]=R[q+1+0]=In(et,Ge,We),R[q+3+32]=R[q+2+0]=In(it,et,Ge),R[q+3+0]=In(yt,it,et)}function Tu(R,q){var pe=R[q+1-32],_e=R[q+2-32],Fe=R[q+3-32],We=R[q+4-32],Ge=R[q+5-32],et=R[q+6-32],it=R[q+7-32];R[q+0+0]=In(R[q+0-32],pe,_e),R[q+1+0]=R[q+0+32]=In(pe,_e,Fe),R[q+2+0]=R[q+1+32]=R[q+0+64]=In(_e,Fe,We),R[q+3+0]=R[q+2+32]=R[q+1+64]=R[q+0+96]=In(Fe,We,Ge),R[q+3+32]=R[q+2+64]=R[q+1+96]=In(We,Ge,et),R[q+3+64]=R[q+2+96]=In(Ge,et,it),R[q+3+96]=In(et,it,it)}function ao(R,q){var pe=R[q-1+0],_e=R[q-1+32],Fe=R[q-1+64],We=R[q-1-32],Ge=R[q+0-32],et=R[q+1-32],it=R[q+2-32],yt=R[q+3-32];R[q+0+0]=R[q+1+64]=We+Ge+1>>1,R[q+1+0]=R[q+2+64]=Ge+et+1>>1,R[q+2+0]=R[q+3+64]=et+it+1>>1,R[q+3+0]=it+yt+1>>1,R[q+0+96]=In(Fe,_e,pe),R[q+0+64]=In(_e,pe,We),R[q+0+32]=R[q+1+96]=In(pe,We,Ge),R[q+1+32]=R[q+2+96]=In(We,Ge,et),R[q+2+32]=R[q+3+96]=In(Ge,et,it),R[q+3+32]=In(et,it,yt)}function Cu(R,q){var pe=R[q+0-32],_e=R[q+1-32],Fe=R[q+2-32],We=R[q+3-32],Ge=R[q+4-32],et=R[q+5-32],it=R[q+6-32],yt=R[q+7-32];R[q+0+0]=pe+_e+1>>1,R[q+1+0]=R[q+0+64]=_e+Fe+1>>1,R[q+2+0]=R[q+1+64]=Fe+We+1>>1,R[q+3+0]=R[q+2+64]=We+Ge+1>>1,R[q+0+32]=In(pe,_e,Fe),R[q+1+32]=R[q+0+96]=In(_e,Fe,We),R[q+2+32]=R[q+1+96]=In(Fe,We,Ge),R[q+3+32]=R[q+2+96]=In(We,Ge,et),R[q+3+64]=In(Ge,et,it),R[q+3+96]=In(et,it,yt)}function Go(R,q){var pe=R[q-1+0],_e=R[q-1+32],Fe=R[q-1+64],We=R[q-1+96];R[q+0+0]=pe+_e+1>>1,R[q+2+0]=R[q+0+32]=_e+Fe+1>>1,R[q+2+32]=R[q+0+64]=Fe+We+1>>1,R[q+1+0]=In(pe,_e,Fe),R[q+3+0]=R[q+1+32]=In(_e,Fe,We),R[q+3+32]=R[q+1+64]=In(Fe,We,We),R[q+3+64]=R[q+2+64]=R[q+0+96]=R[q+1+96]=R[q+2+96]=R[q+3+96]=We}function Td(R,q){var pe=R[q-1+0],_e=R[q-1+32],Fe=R[q-1+64],We=R[q-1+96],Ge=R[q-1-32],et=R[q+0-32],it=R[q+1-32],yt=R[q+2-32];R[q+0+0]=R[q+2+32]=pe+Ge+1>>1,R[q+0+32]=R[q+2+64]=_e+pe+1>>1,R[q+0+64]=R[q+2+96]=Fe+_e+1>>1,R[q+0+96]=We+Fe+1>>1,R[q+3+0]=In(et,it,yt),R[q+2+0]=In(Ge,et,it),R[q+1+0]=R[q+3+32]=In(pe,Ge,et),R[q+1+32]=R[q+3+64]=In(_e,pe,Ge),R[q+1+64]=R[q+3+96]=In(Fe,_e,pe),R[q+1+96]=In(We,Fe,_e)}function Ec(R,q){var pe;for(pe=0;8>pe;++pe)G(R,q+32*pe,R,q-32,8)}function Gd(R,q){var pe;for(pe=0;8>pe;++pe)Z(R,q,R[q-1],8),q+=32}function Zl(R,q,pe){var _e;for(_e=0;8>_e;++_e)Z(q,pe+32*_e,R,8)}function Nu(R,q){var pe,_e=8;for(pe=0;8>pe;++pe)_e+=R[q+pe-32]+R[q-1+32*pe];Zl(_e>>4,R,q)}function _c(R,q){var pe,_e=4;for(pe=0;8>pe;++pe)_e+=R[q+pe-32];Zl(_e>>3,R,q)}function Gc(R,q){var pe,_e=4;for(pe=0;8>pe;++pe)_e+=R[q-1+32*pe];Zl(_e>>3,R,q)}function Th(R,q){Zl(128,R,q)}function lu(R,q,pe){var _e=R[q-pe],Fe=R[q+0],We=3*(Fe-_e)+Sg[1020+R[q-2*pe]-R[q+pe]],Ge=cp[112+(We+4>>3)];R[q-pe]=nd[255+_e+cp[112+(We+3>>3)]],R[q+0]=nd[255+Fe-Ge]}function Cd(R,q,pe,_e){var Fe=R[q+0],We=R[q+pe];return Ld[255+R[q-2*pe]-R[q-pe]]>_e||Ld[255+We-Fe]>_e}function uh(R,q,pe,_e){return 4*Ld[255+R[q-pe]-R[q+0]]+Ld[255+R[q-2*pe]-R[q+pe]]<=_e}function Wc(R,q,pe,_e,Fe){var We=R[q-3*pe],Ge=R[q-2*pe],et=R[q-pe],it=R[q+0],yt=R[q+pe],$t=R[q+2*pe],pr=R[q+3*pe];return 4*Ld[255+et-it]+Ld[255+Ge-yt]>_e?0:Ld[255+R[q-4*pe]-We]<=Fe&&Ld[255+We-Ge]<=Fe&&Ld[255+Ge-et]<=Fe&&Ld[255+pr-$t]<=Fe&&Ld[255+$t-yt]<=Fe&&Ld[255+yt-it]<=Fe}function bo(R,q,pe,_e){var Fe=2*_e+1;for(_e=0;16>_e;++_e)uh(R,q+_e,pe,Fe)&&lu(R,q+_e,pe)}function Ch(R,q,pe,_e){var Fe=2*_e+1;for(_e=0;16>_e;++_e)uh(R,q+_e*pe,1,Fe)&&lu(R,q+_e*pe,1)}function dm(R,q,pe,_e){var Fe;for(Fe=3;0<Fe;--Fe)bo(R,q+=4*pe,pe,_e)}function Wm(R,q,pe,_e){var Fe;for(Fe=3;0<Fe;--Fe)Ch(R,q+=4,pe,_e)}function dh(R,q,pe,_e,Fe,We,Ge,et){for(We=2*We+1;0<Fe--;){if(Wc(R,q,pe,We,Ge))if(Cd(R,q,pe,et))lu(R,q,pe);else{var it=R,yt=q,$t=pe,pr=it[yt-2*$t],xt=it[yt-$t],Yt=it[yt+0],ir=it[yt+$t],Hr=it[yt+2*$t],Er=27*(Gr=Sg[1020+3*(Yt-xt)+Sg[1020+pr-ir]])+63>>7,Qr=18*Gr+63>>7,Gr=9*Gr+63>>7;it[yt-3*$t]=nd[255+it[yt-3*$t]+Gr],it[yt-2*$t]=nd[255+pr+Qr],it[yt-$t]=nd[255+xt+Er],it[yt+0]=nd[255+Yt-Er],it[yt+$t]=nd[255+ir-Qr],it[yt+2*$t]=nd[255+Hr-Gr]}q+=_e}}function hh(R,q,pe,_e,Fe,We,Ge,et){for(We=2*We+1;0<Fe--;){if(Wc(R,q,pe,We,Ge))if(Cd(R,q,pe,et))lu(R,q,pe);else{var it=R,yt=q,$t=pe,pr=it[yt-$t],xt=it[yt+0],Yt=it[yt+$t],ir=cp[112+(4+(Hr=3*(xt-pr))>>3)],Hr=cp[112+(Hr+3>>3)],Er=ir+1>>1;it[yt-2*$t]=nd[255+it[yt-2*$t]+Er],it[yt-$t]=nd[255+pr+Hr],it[yt+0]=nd[255+xt-ir],it[yt+$t]=nd[255+Yt-Er]}q+=_e}}function Po(R,q,pe,_e,Fe,We){dh(R,q,pe,1,16,_e,Fe,We)}function fh(R,q,pe,_e,Fe,We){dh(R,q,1,pe,16,_e,Fe,We)}function Nh(R,q,pe,_e,Fe,We){var Ge;for(Ge=3;0<Ge;--Ge)hh(R,q+=4*pe,pe,1,16,_e,Fe,We)}function ue(R,q,pe,_e,Fe,We){var Ge;for(Ge=3;0<Ge;--Ge)hh(R,q+=4,1,pe,16,_e,Fe,We)}function Me(R,q,pe,_e,Fe,We,Ge,et){dh(R,q,Fe,1,8,We,Ge,et),dh(pe,_e,Fe,1,8,We,Ge,et)}function Et(R,q,pe,_e,Fe,We,Ge,et){dh(R,q,1,Fe,8,We,Ge,et),dh(pe,_e,1,Fe,8,We,Ge,et)}function Bt(R,q,pe,_e,Fe,We,Ge,et){hh(R,q+4*Fe,Fe,1,8,We,Ge,et),hh(pe,_e+4*Fe,Fe,1,8,We,Ge,et)}function nr(R,q,pe,_e,Fe,We,Ge,et){hh(R,q+4,1,Fe,8,We,Ge,et),hh(pe,_e+4,1,Fe,8,We,Ge,et)}function Kr(){this.ba=new Ii,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cs,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ri(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ni(){this.ua=0,this.Wa=new Ri,this.vb=new Ri,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xr,this.yc=new Rt}function Yi(){this.xb=this.a=0,this.l=new ch,this.ca=new Ii,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Ct,this.Pb=0,this.wd=new Ct,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ni,this.ab=0,this.gc=xe(4,ri),this.Oc=0}function os(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ch,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function na(R,q,pe,_e,Fe,We,Ge){for(R=R==null?0:R[q+0],q=0;q<Ge;++q)Fe[We+q]=R+pe[_e+q]&255,R=Fe[We+q]}function Ma(R,q,pe,_e,Fe,We,Ge){var et;if(R==null)na(null,null,pe,_e,Fe,We,Ge);else for(et=0;et<Ge;++et)Fe[We+et]=R[q+et]+pe[_e+et]&255}function Oo(R,q,pe,_e,Fe,We,Ge){if(R==null)na(null,null,pe,_e,Fe,We,Ge);else{var et,it=R[q+0],yt=it,$t=it;for(et=0;et<Ge;++et)yt=$t+(it=R[q+et])-yt,$t=pe[_e+et]+(-256&yt?0>yt?0:255:yt)&255,yt=it,Fe[We+et]=$t}}function Na(R,q,pe,_e){var Fe=q.width,We=q.o;if(k(R!=null&&q!=null),0>pe||0>=_e||pe+_e>We)return null;if(!R.Cc){if(R.ga==null){var Ge;if(R.ga=new os,(Ge=R.ga==null)||(Ge=q.width*q.o,k(R.Gb.length==0),R.Gb=re(Ge),R.Uc=0,R.Gb==null?Ge=0:(R.mb=R.Gb,R.nb=R.Uc,R.rc=null,Ge=1),Ge=!Ge),!Ge){Ge=R.ga;var et=R.Fa,it=R.P,yt=R.qc,$t=R.mb,pr=R.nb,xt=it+1,Yt=yt-1,ir=Ge.l;if(k(et!=null&&$t!=null&&q!=null),Ih[0]=null,Ih[1]=na,Ih[2]=Ma,Ih[3]=Oo,Ge.ca=$t,Ge.tb=pr,Ge.c=q.width,Ge.i=q.height,k(0<Ge.c&&0<Ge.i),1>=yt)q=0;else if(Ge.$a=3&et[it+0],Ge.Z=et[it+0]>>2&3,Ge.Lc=et[it+0]>>4&3,it=et[it+0]>>6&3,0>Ge.$a||1<Ge.$a||4<=Ge.Z||1<Ge.Lc||it)q=0;else if(ir.put=wi,ir.ac=rc,ir.bc=Ra,ir.ma=Ge,ir.width=q.width,ir.height=q.height,ir.Da=q.Da,ir.v=q.v,ir.va=q.va,ir.j=q.j,ir.o=q.o,Ge.$a)e:{k(Ge.$a==1),q=Ed();t:for(;;){if(q==null){q=0;break e}if(k(Ge!=null),Ge.mc=q,q.c=Ge.c,q.i=Ge.i,q.l=Ge.l,q.l.ma=Ge,q.l.width=Ge.c,q.l.height=Ge.i,q.a=0,Rr(q.m,et,xt,Yt),!nc(Ge.c,Ge.i,1,q,null)||(q.ab==1&&q.gc[0].hc==3&&gc(q.s)?(Ge.ic=1,et=q.c*q.i,q.Ta=null,q.Ua=0,q.V=re(et),q.Ba=0,q.V==null?(q.a=1,q=0):q=1):(Ge.ic=0,q=Gl(q,Ge.c)),!q))break t;q=1;break e}Ge.mc=null,q=0}else q=Yt>=Ge.c*Ge.i;Ge=!q}if(Ge)return null;R.ga.Lc!=1?R.Ga=0:_e=We-pe}k(R.ga!=null),k(pe+_e<=We);e:{if(q=(et=R.ga).c,We=et.l.o,et.$a==0){if(xt=R.rc,Yt=R.Vc,ir=R.Fa,it=R.P+1+pe*q,yt=R.mb,$t=R.nb+pe*q,k(it<=R.P+R.qc),et.Z!=0)for(k(Ih[et.Z]!=null),Ge=0;Ge<_e;++Ge)Ih[et.Z](xt,Yt,ir,it,yt,$t,q),xt=yt,Yt=$t,$t+=q,it+=q;else for(Ge=0;Ge<_e;++Ge)G(yt,$t,ir,it,q),xt=yt,Yt=$t,$t+=q,it+=q;R.rc=xt,R.Vc=Yt}else{if(k(et.mc!=null),q=pe+_e,k((Ge=et.mc)!=null),k(q<=Ge.i),Ge.C>=q)q=1;else if(et.ic||Ze(),et.ic){et=Ge.V,xt=Ge.Ba,Yt=Ge.c;var Hr=Ge.i,Er=(ir=1,it=Ge.$/Yt,yt=Ge.$%Yt,$t=Ge.m,pr=Ge.s,Ge.$),Qr=Yt*Hr,Gr=Yt*q,hn=pr.wc,nn=Er<Gr?Za(pr,yt,it):null;k(Er<=Qr),k(q<=Hr),k(gc(pr));t:for(;;){for(;!$t.h&&Er<Gr;){if(yt&hn||(nn=Za(pr,yt,it)),k(nn!=null),mr($t),256>(Hr=ha(nn.G[0],nn.H[0],$t)))et[xt+Er]=Hr,++Er,++yt>=Yt&&(yt=0,++it<=q&&!(it%16)&&Vl(Ge,it));else{if(!(280>Hr)){ir=0;break t}Hr=Ql(Hr-256,$t);var Ti,Kn=ha(nn.G[4],nn.H[4],$t);if(mr($t),!(Er>=(Kn=zl(Yt,Kn=Ql(Kn,$t)))&&Qr-Er>=Hr)){ir=0;break t}for(Ti=0;Ti<Hr;++Ti)et[xt+Er+Ti]=et[xt+Er+Ti-Kn];for(Er+=Hr,yt+=Hr;yt>=Yt;)yt-=Yt,++it<=q&&!(it%16)&&Vl(Ge,it);Er<Gr&&yt&hn&&(nn=Za(pr,yt,it))}k($t.h==Wt($t))}Vl(Ge,it>q?q:it);break t}!ir||$t.h&&Er<Qr?(ir=0,Ge.a=$t.h?5:3):Ge.$=Er,q=ir}else q=Kl(Ge,Ge.V,Ge.Ba,Ge.c,Ge.i,q,vc);if(!q){_e=0;break e}}pe+_e>=We&&(R.Cc=1),_e=1}if(!_e)return null;if(R.Cc&&((_e=R.ga)!=null&&(_e.mc=null),R.ga=null,0<R.Ga))return alert("todo:WebPDequantizeLevels"),null}return R.nb+pe*Fe}function Wo(R,q,pe,_e,Fe,We){for(;0<Fe--;){var Ge,et=R,it=q+(pe?1:0),yt=R,$t=q+(pe?0:3);for(Ge=0;Ge<_e;++Ge){var pr=yt[$t+4*Ge];pr!=255&&(pr*=32897,et[it+4*Ge+0]=et[it+4*Ge+0]*pr>>23,et[it+4*Ge+1]=et[it+4*Ge+1]*pr>>23,et[it+4*Ge+2]=et[it+4*Ge+2]*pr>>23)}q+=We}}function O(R,q,pe,_e,Fe){for(;0<_e--;){var We;for(We=0;We<pe;++We){var Ge=R[q+2*We+0],et=15&(yt=R[q+2*We+1]),it=4369*et,yt=(240&yt|yt>>4)*it>>16;R[q+2*We+0]=(240&Ge|Ge>>4)*it>>16&240|(15&Ge|Ge<<4)*it>>16>>4&15,R[q+2*We+1]=240&yt|et}q+=Fe}}function Be(R,q,pe,_e,Fe,We,Ge,et){var it,yt,$t=255;for(yt=0;yt<Fe;++yt){for(it=0;it<_e;++it){var pr=R[q+it];We[Ge+4*it]=pr,$t&=pr}q+=pe,Ge+=et}return $t!=255}function ee(R,q,pe,_e,Fe){var We;for(We=0;We<Fe;++We)pe[_e+We]=R[q+We]>>8}function Ze(){Zh=Wo,op=O,ku=Be,Wd=ee}function St(R,q,pe){Mt[R]=function(_e,Fe,We,Ge,et,it,yt,$t,pr,xt,Yt,ir,Hr,Er,Qr,Gr,hn){var nn,Ti=hn-1>>1,Kn=et[it+0]|yt[$t+0]<<16,Bs=pr[xt+0]|Yt[ir+0]<<16;k(_e!=null);var gi=3*Kn+Bs+131074>>2;for(q(_e[Fe+0],255&gi,gi>>16,Hr,Er),We!=null&&(gi=3*Bs+Kn+131074>>2,q(We[Ge+0],255&gi,gi>>16,Qr,Gr)),nn=1;nn<=Ti;++nn){var ca=et[it+nn]|yt[$t+nn]<<16,Rl=pr[xt+nn]|Yt[ir+nn]<<16,_s=Kn+ca+Bs+Rl+524296,fi=_s+2*(ca+Bs)>>3;gi=fi+Kn>>1,Kn=(_s=_s+2*(Kn+Rl)>>3)+ca>>1,q(_e[Fe+2*nn-1],255&gi,gi>>16,Hr,Er+(2*nn-1)*pe),q(_e[Fe+2*nn-0],255&Kn,Kn>>16,Hr,Er+(2*nn-0)*pe),We!=null&&(gi=_s+Bs>>1,Kn=fi+Rl>>1,q(We[Ge+2*nn-1],255&gi,gi>>16,Qr,Gr+(2*nn-1)*pe),q(We[Ge+2*nn+0],255&Kn,Kn>>16,Qr,Gr+(2*nn+0)*pe)),Kn=ca,Bs=Rl}1&hn||(gi=3*Kn+Bs+131074>>2,q(_e[Fe+hn-1],255&gi,gi>>16,Hr,Er+(hn-1)*pe),We!=null&&(gi=3*Bs+Kn+131074>>2,q(We[Ge+hn-1],255&gi,gi>>16,Qr,Gr+(hn-1)*pe)))}}function _t(){Bd[fm]=eA,Bd[up]=Pg,Bd[jg]=cv,Bd[Xm]=Gx,Bd[Ol]=Wx,Bd[Pf]=Og,Bd[Tg]=Bh,Bd[Cg]=Pg,Bd[dp]=Gx,Bd[mm]=Wx,Bd[Ng]=Og}function yr(R){return R&-16384?0>R?0:255:R>>Ap}function Gt(R,q){return yr((19077*R>>8)+(26149*q>>8)-14234)}function $n(R,q,pe){return yr((19077*R>>8)-(6419*q>>8)-(13320*pe>>8)+8708)}function Ft(R,q){return yr((19077*R>>8)+(33050*q>>8)-17685)}function br(R,q,pe,_e,Fe){_e[Fe+0]=Gt(R,pe),_e[Fe+1]=$n(R,q,pe),_e[Fe+2]=Ft(R,q)}function qi(R,q,pe,_e,Fe){_e[Fe+0]=Ft(R,q),_e[Fe+1]=$n(R,q,pe),_e[Fe+2]=Gt(R,pe)}function Bn(R,q,pe,_e,Fe){var We=$n(R,q,pe);q=We<<3&224|Ft(R,q)>>3,_e[Fe+0]=248&Gt(R,pe)|We>>5,_e[Fe+1]=q}function sn(R,q,pe,_e,Fe){var We=240&Ft(R,q)|15;_e[Fe+0]=240&Gt(R,pe)|$n(R,q,pe)>>4,_e[Fe+1]=We}function Ur(R,q,pe,_e,Fe){_e[Fe+0]=255,br(R,q,pe,_e,Fe+1)}function Fa(R,q,pe,_e,Fe){qi(R,q,pe,_e,Fe),_e[Fe+3]=255}function Wi(R,q,pe,_e,Fe){br(R,q,pe,_e,Fe),_e[Fe+3]=255}function ki(R,q,pe){Mt[R]=function(_e,Fe,We,Ge,et,it,yt,$t,pr){for(var xt=$t+(-2&pr)*pe;$t!=xt;)q(_e[Fe+0],We[Ge+0],et[it+0],yt,$t),q(_e[Fe+1],We[Ge+0],et[it+0],yt,$t+pe),Fe+=2,++Ge,++it,$t+=2*pe;1&pr&&q(_e[Fe+0],We[Ge+0],et[it+0],yt,$t)}}function zi(R,q,pe){return pe==0?R==0?q==0?6:5:q==0?4:0:pe}function ys(R,q,pe,_e,Fe){switch(R>>>30){case 3:kd(q,pe,_e,Fe,0);break;case 2:Sc(q,pe,_e,Fe);break;case 1:sa(q,pe,_e,Fe)}}function Sn(R,q){var pe,_e,Fe=q.M,We=q.Nb,Ge=R.oc,et=R.pc+40,it=R.oc,yt=R.pc+584,$t=R.oc,pr=R.pc+600;for(pe=0;16>pe;++pe)Ge[et+32*pe-1]=129;for(pe=0;8>pe;++pe)it[yt+32*pe-1]=129,$t[pr+32*pe-1]=129;for(0<Fe?Ge[et-1-32]=it[yt-1-32]=$t[pr-1-32]=129:(Z(Ge,et-32-1,127,21),Z(it,yt-32-1,127,9),Z($t,pr-32-1,127,9)),_e=0;_e<R.za;++_e){var xt=q.ya[q.aa+_e];if(0<_e){for(pe=-1;16>pe;++pe)G(Ge,et+32*pe-4,Ge,et+32*pe+12,4);for(pe=-1;8>pe;++pe)G(it,yt+32*pe-4,it,yt+32*pe+4,4),G($t,pr+32*pe-4,$t,pr+32*pe+4,4)}var Yt=R.Gd,ir=R.Hd+_e,Hr=xt.ad,Er=xt.Hc;if(0<Fe&&(G(Ge,et-32,Yt[ir].y,0,16),G(it,yt-32,Yt[ir].f,0,8),G($t,pr-32,Yt[ir].ea,0,8)),xt.Za){var Qr=Ge,Gr=et-32+16;for(0<Fe&&(_e>=R.za-1?Z(Qr,Gr,Yt[ir].y[15],4):G(Qr,Gr,Yt[ir+1].y,0,4)),pe=0;4>pe;pe++)Qr[Gr+128+pe]=Qr[Gr+256+pe]=Qr[Gr+384+pe]=Qr[Gr+0+pe];for(pe=0;16>pe;++pe,Er<<=2)Qr=Ge,Gr=et+Jh[pe],Id[xt.Ob[pe]](Qr,Gr),ys(Er,Hr,16*+pe,Qr,Gr)}else if(Qr=zi(_e,Fe,xt.Ob[0]),Lh[Qr](Ge,et),Er!=0)for(pe=0;16>pe;++pe,Er<<=2)ys(Er,Hr,16*+pe,Ge,et+Jh[pe]);for(pe=xt.Gc,Qr=zi(_e,Fe,xt.Dd),Yd[Qr](it,yt),Yd[Qr]($t,pr),Er=Hr,Qr=it,Gr=yt,255&(xt=0|pe)&&(170&xt?rd(Er,256,Qr,Gr):Ja(Er,256,Qr,Gr)),xt=$t,Er=pr,255&(pe>>=8)&&(170&pe?rd(Hr,320,xt,Er):Ja(Hr,320,xt,Er)),Fe<R.Ub-1&&(G(Yt[ir].y,0,Ge,et+480,16),G(Yt[ir].f,0,it,yt+224,8),G(Yt[ir].ea,0,$t,pr+224,8)),pe=8*We*R.B,Yt=R.sa,ir=R.ta+16*_e+16*We*R.R,Hr=R.qa,xt=R.ra+8*_e+pe,Er=R.Ha,Qr=R.Ia+8*_e+pe,pe=0;16>pe;++pe)G(Yt,ir+pe*R.R,Ge,et+32*pe,16);for(pe=0;8>pe;++pe)G(Hr,xt+pe*R.B,it,yt+32*pe,8),G(Er,Qr+pe*R.B,$t,pr+32*pe,8)}}function bs(R,q,pe,_e,Fe,We,Ge,et,it){var yt=[0],$t=[0],pr=0,xt=it!=null?it.kd:0,Yt=it??new rn;if(R==null||12>pe)return 7;Yt.data=R,Yt.w=q,Yt.ha=pe,q=[q],pe=[pe],Yt.gb=[Yt.gb];e:{var ir=q,Hr=pe,Er=Yt.gb;if(k(R!=null),k(Hr!=null),k(Er!=null),Er[0]=0,12<=Hr[0]&&!F(R,ir[0],"RIFF")){if(F(R,ir[0]+8,"WEBP")){Er=3;break e}var Qr=yi(R,ir[0]+4);if(12>Qr||4294967286<Qr){Er=3;break e}if(xt&&Qr>Hr[0]-8){Er=7;break e}Er[0]=Qr,ir[0]+=12,Hr[0]-=12}Er=0}if(Er!=0)return Er;for(Qr=0<Yt.gb[0],pe=pe[0];;){e:{var Gr=R;Hr=q,Er=pe;var hn=yt,nn=$t,Ti=ir=[0];if((gi=pr=[pr])[0]=0,8>Er[0])Er=7;else{if(!F(Gr,Hr[0],"VP8X")){if(yi(Gr,Hr[0]+4)!=10){Er=3;break e}if(18>Er[0]){Er=7;break e}var Kn=yi(Gr,Hr[0]+8),Bs=1+Fn(Gr,Hr[0]+12);if(2147483648<=Bs*(Gr=1+Fn(Gr,Hr[0]+15))){Er=3;break e}Ti!=null&&(Ti[0]=Kn),hn!=null&&(hn[0]=Bs),nn!=null&&(nn[0]=Gr),Hr[0]+=18,Er[0]-=18,gi[0]=1}Er=0}}if(pr=pr[0],ir=ir[0],Er!=0)return Er;if(Hr=!!(2&ir),!Qr&&pr)return 3;if(We!=null&&(We[0]=!!(16&ir)),Ge!=null&&(Ge[0]=Hr),et!=null&&(et[0]=0),Ge=yt[0],ir=$t[0],pr&&Hr&&it==null){Er=0;break}if(4>pe){Er=7;break}if(Qr&&pr||!Qr&&!pr&&!F(R,q[0],"ALPH")){pe=[pe],Yt.na=[Yt.na],Yt.P=[Yt.P],Yt.Sa=[Yt.Sa];e:{Kn=R,Er=q,Qr=pe;var gi=Yt.gb;hn=Yt.na,nn=Yt.P,Ti=Yt.Sa,Bs=22,k(Kn!=null),k(Qr!=null),Gr=Er[0];var ca=Qr[0];for(k(hn!=null),k(Ti!=null),hn[0]=null,nn[0]=null,Ti[0]=0;;){if(Er[0]=Gr,Qr[0]=ca,8>ca){Er=7;break e}var Rl=yi(Kn,Gr+4);if(4294967286<Rl){Er=3;break e}var _s=8+Rl+1&-2;if(Bs+=_s,0<gi&&Bs>gi){Er=3;break e}if(!F(Kn,Gr,"VP8 ")||!F(Kn,Gr,"VP8L")){Er=0;break e}if(ca[0]<_s){Er=7;break e}F(Kn,Gr,"ALPH")||(hn[0]=Kn,nn[0]=Gr+8,Ti[0]=Rl),Gr+=_s,ca-=_s}}if(pe=pe[0],Yt.na=Yt.na[0],Yt.P=Yt.P[0],Yt.Sa=Yt.Sa[0],Er!=0)break}pe=[pe],Yt.Ja=[Yt.Ja],Yt.xa=[Yt.xa];e:if(gi=R,Er=q,Qr=pe,hn=Yt.gb[0],nn=Yt.Ja,Ti=Yt.xa,Kn=Er[0],Gr=!F(gi,Kn,"VP8 "),Bs=!F(gi,Kn,"VP8L"),k(gi!=null),k(Qr!=null),k(nn!=null),k(Ti!=null),8>Qr[0])Er=7;else{if(Gr||Bs){if(gi=yi(gi,Kn+4),12<=hn&&gi>hn-12){Er=3;break e}if(xt&&gi>Qr[0]-8){Er=7;break e}nn[0]=gi,Er[0]+=8,Qr[0]-=8,Ti[0]=Bs}else Ti[0]=5<=Qr[0]&&gi[Kn+0]==47&&!(gi[Kn+4]>>5),nn[0]=Qr[0];Er=0}if(pe=pe[0],Yt.Ja=Yt.Ja[0],Yt.xa=Yt.xa[0],q=q[0],Er!=0)break;if(4294967286<Yt.Ja)return 3;if(et==null||Hr||(et[0]=Yt.xa?2:1),Ge=[Ge],ir=[ir],Yt.xa){if(5>pe){Er=7;break}et=Ge,xt=ir,Hr=We,R==null||5>pe?R=0:5<=pe&&R[q+0]==47&&!(R[q+4]>>5)?(Qr=[0],gi=[0],hn=[0],Rr(nn=new Ct,R,q,pe),Xa(nn,Qr,gi,hn)?(et!=null&&(et[0]=Qr[0]),xt!=null&&(xt[0]=gi[0]),Hr!=null&&(Hr[0]=hn[0]),R=1):R=0):R=0}else{if(10>pe){Er=7;break}et=ir,R==null||10>pe||!yc(R,q+3,pe-3)?R=0:(xt=R[q+0]|R[q+1]<<8|R[q+2]<<16,Hr=16383&(R[q+7]<<8|R[q+6]),R=16383&(R[q+9]<<8|R[q+8]),1&xt||3<(xt>>1&7)||!(xt>>4&1)||xt>>5>=Yt.Ja||!Hr||!R?R=0:(Ge&&(Ge[0]=Hr),et&&(et[0]=R),R=1))}if(!R||(Ge=Ge[0],ir=ir[0],pr&&(yt[0]!=Ge||$t[0]!=ir)))return 3;it!=null&&(it[0]=Yt,it.offset=q-it.w,k(4294967286>q-it.w),k(it.offset==it.ha-pe));break}return Er==0||Er==7&&pr&&it==null?(We!=null&&(We[0]|=Yt.na!=null&&0<Yt.na.length),_e!=null&&(_e[0]=Ge),Fe!=null&&(Fe[0]=ir),0):Er}function Ua(R,q,pe){var _e=q.width,Fe=q.height,We=0,Ge=0,et=_e,it=Fe;if(q.Da=R!=null&&0<R.Da,q.Da&&(et=R.cd,it=R.bd,We=R.v,Ge=R.j,11>pe||(We&=-2,Ge&=-2),0>We||0>Ge||0>=et||0>=it||We+et>_e||Ge+it>Fe))return 0;if(q.v=We,q.j=Ge,q.va=We+et,q.o=Ge+it,q.U=et,q.T=it,q.da=R!=null&&0<R.da,q.da){if(!Nn(et,it,pe=[R.ib],We=[R.hb]))return 0;q.ib=pe[0],q.hb=We[0]}return q.ob=R!=null&&R.ob,q.Kb=R==null||!R.Sd,q.da&&(q.ob=q.ib<3*_e/4&&q.hb<3*Fe/4,q.Kb=0),1}function ji(R){if(R==null)return 2;if(11>R.S){var q=R.f.RGBA;q.fb+=(R.height-1)*q.A,q.A=-q.A}else q=R.f.kb,R=R.height,q.O+=(R-1)*q.fa,q.fa=-q.fa,q.N+=(R-1>>1)*q.Ab,q.Ab=-q.Ab,q.W+=(R-1>>1)*q.Db,q.Db=-q.Db,q.F!=null&&(q.J+=(R-1)*q.lb,q.lb=-q.lb);return 0}function ia(R,q,pe,_e){if(_e==null||0>=R||0>=q)return 2;if(pe!=null){if(pe.Da){var Fe=pe.cd,We=pe.bd,Ge=-2&pe.v,et=-2&pe.j;if(0>Ge||0>et||0>=Fe||0>=We||Ge+Fe>R||et+We>q)return 2;R=Fe,q=We}if(pe.da){if(!Nn(R,q,Fe=[pe.ib],We=[pe.hb]))return 2;R=Fe[0],q=We[0]}}_e.width=R,_e.height=q;e:{var it=_e.width,yt=_e.height;if(R=_e.S,0>=it||0>=yt||!(R>=fm&&13>R))R=2;else{if(0>=_e.Rd&&_e.sd==null){Ge=We=Fe=q=0;var $t=(et=it*rA[R])*yt;if(11>R||(We=(yt+1)/2*(q=(it+1)/2),R==12&&(Ge=(Fe=it)*yt)),(yt=re($t+2*We+Ge))==null){R=1;break e}_e.sd=yt,11>R?((it=_e.f.RGBA).eb=yt,it.fb=0,it.A=et,it.size=$t):((it=_e.f.kb).y=yt,it.O=0,it.fa=et,it.Fd=$t,it.f=yt,it.N=0+$t,it.Ab=q,it.Cd=We,it.ea=yt,it.W=0+$t+We,it.Db=q,it.Ed=We,R==12&&(it.F=yt,it.J=0+$t+2*We),it.Tc=Ge,it.lb=Fe)}if(q=1,Fe=_e.S,We=_e.width,Ge=_e.height,Fe>=fm&&13>Fe)if(11>Fe)R=_e.f.RGBA,q&=(et=Math.abs(R.A))*(Ge-1)+We<=R.size,q&=et>=We*rA[Fe],q&=R.eb!=null;else{R=_e.f.kb,et=(We+1)/2,$t=(Ge+1)/2,it=Math.abs(R.fa),yt=Math.abs(R.Ab);var pr=Math.abs(R.Db),xt=Math.abs(R.lb),Yt=xt*(Ge-1)+We;q&=it*(Ge-1)+We<=R.Fd,q&=yt*($t-1)+et<=R.Cd,q=(q&=pr*($t-1)+et<=R.Ed)&it>=We&yt>=et&pr>=et,q&=R.y!=null,q&=R.f!=null,q&=R.ea!=null,Fe==12&&(q&=xt>=We,q&=Yt<=R.Tc,q&=R.F!=null)}else q=0;R=q?0:2}}return R!=0||pe!=null&&pe.fd&&(R=ji(_e)),R}var Ls=64,ii=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$i=24,sc=32,ed=8,cu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Hn("Predictor0","PredictorAdd0"),Mt.Predictor0=function(){return 4278190080},Mt.Predictor1=function(R){return R},Mt.Predictor2=function(R,q,pe){return q[pe+0]},Mt.Predictor3=function(R,q,pe){return q[pe+1]},Mt.Predictor4=function(R,q,pe){return q[pe-1]},Mt.Predictor5=function(R,q,pe){return zn(zn(R,q[pe+1]),q[pe+0])},Mt.Predictor6=function(R,q,pe){return zn(R,q[pe-1])},Mt.Predictor7=function(R,q,pe){return zn(R,q[pe+0])},Mt.Predictor8=function(R,q,pe){return zn(q[pe-1],q[pe+0])},Mt.Predictor9=function(R,q,pe){return zn(q[pe+0],q[pe+1])},Mt.Predictor10=function(R,q,pe){return zn(zn(R,q[pe-1]),zn(q[pe+0],q[pe+1]))},Mt.Predictor11=function(R,q,pe){var _e=q[pe+0];return 0>=qn(_e>>24&255,R>>24&255,(q=q[pe-1])>>24&255)+qn(_e>>16&255,R>>16&255,q>>16&255)+qn(_e>>8&255,R>>8&255,q>>8&255)+qn(255&_e,255&R,255&q)?_e:R},Mt.Predictor12=function(R,q,pe){var _e=q[pe+0];return(ga((R>>24&255)+(_e>>24&255)-((q=q[pe-1])>>24&255))<<24|ga((R>>16&255)+(_e>>16&255)-(q>>16&255))<<16|ga((R>>8&255)+(_e>>8&255)-(q>>8&255))<<8|ga((255&R)+(255&_e)-(255&q)))>>>0},Mt.Predictor13=function(R,q,pe){var _e=q[pe-1];return(Di((R=zn(R,q[pe+0]))>>24&255,_e>>24&255)<<24|Di(R>>16&255,_e>>16&255)<<16|Di(R>>8&255,_e>>8&255)<<8|Di(255&R,255&_e))>>>0};var yl=Mt.PredictorAdd0;Mt.PredictorAdd1=ns,Hn("Predictor2","PredictorAdd2"),Hn("Predictor3","PredictorAdd3"),Hn("Predictor4","PredictorAdd4"),Hn("Predictor5","PredictorAdd5"),Hn("Predictor6","PredictorAdd6"),Hn("Predictor7","PredictorAdd7"),Hn("Predictor8","PredictorAdd8"),Hn("Predictor9","PredictorAdd9"),Hn("Predictor10","PredictorAdd10"),Hn("Predictor11","PredictorAdd11"),Hn("Predictor12","PredictorAdd12"),Hn("Predictor13","PredictorAdd13");var ac=Mt.PredictorAdd2;Xn("ColorIndexInverseTransform","MapARGB","32b",function(R){return R>>8&255},function(R){return R}),Xn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(R){return R},function(R){return R>>8&255});var oo,Ym=Mt.ColorIndexInverseTransform,mh=Mt.MapARGB,Yc=Mt.VP8LColorIndexInverseTransformAlpha,qc=Mt.MapAlpha,Ro=Mt.VP8LPredictorsAdd=[];Ro.length=16,(Mt.VP8LPredictors=[]).length=16,(Mt.VP8LPredictorsAdd_C=[]).length=16,(Mt.VP8LPredictors_C=[]).length=16;var Bf,Nd,Ji,fa,wo,kh,td,kd,Sc,rd,sa,Ja,Is,bl,Ah,hm,Xh,qm,np,ip,sp,Xc,Yo,ap,Zh,op,ku,Wd,lp=re(511),Eg=re(2041),_g=re(225),nv=re(767),iv=0,Sg=Eg,cp=_g,nd=nv,Ld=lp,fm=0,up=1,jg=2,Xm=3,Ol=4,Pf=5,Tg=6,Cg=7,dp=8,mm=9,Ng=10,Hx=[2,3,7],$1=[3,3,11],sv=[280,256,256,256,40],Zm=[0,1,1,1,0],Qx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],kg=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Lg=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],av=8,Jm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ig=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Am=null,Bg=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ov=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Vx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],hp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],fp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Lh=[],Id=[],Yd=[],Kx=1,mp=2,Ih=[],Bd=[];St("UpsampleRgbLinePair",br,3),St("UpsampleBgrLinePair",qi,3),St("UpsampleRgbaLinePair",Wi,4),St("UpsampleBgraLinePair",Fa,4),St("UpsampleArgbLinePair",Ur,4),St("UpsampleRgba4444LinePair",sn,2),St("UpsampleRgb565LinePair",Bn,2);var eA=Mt.UpsampleRgbLinePair,cv=Mt.UpsampleBgrLinePair,Pg=Mt.UpsampleRgbaLinePair,Gx=Mt.UpsampleBgraLinePair,Wx=Mt.UpsampleArgbLinePair,Og=Mt.UpsampleRgba4444LinePair,Bh=Mt.UpsampleRgb565LinePair,Of=16,Ph=1<<Of-1,tA=-227,Rg=482,Ap=6,uv=0,Dg=re(256),Mg=re(256),Fg=re(256),Ug=re(256),$g=re(Rg-tA),dv=re(Rg-tA);ki("YuvToRgbRow",br,3),ki("YuvToBgrRow",qi,3),ki("YuvToRgbaRow",Wi,4),ki("YuvToBgraRow",Fa,4),ki("YuvToArgbRow",Ur,4),ki("YuvToRgba4444Row",sn,2),ki("YuvToRgb565Row",Bn,2);var Jh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],pp=[0,2,8],gp=[8,7,6,4,4,2,2,2,1,1,1,1],vp=1;this.WebPDecodeRGBA=function(R,q,pe,_e,Fe){var We=up,Ge=new Kr,et=new Ii;Ge.ba=et,et.S=We,et.width=[et.width],et.height=[et.height];var it=et.width,yt=et.height,$t=new _n;if($t==null||R==null)var pr=2;else k($t!=null),pr=bs(R,q,pe,$t.width,$t.height,$t.Pd,$t.Qd,$t.format,null);if(pr!=0?it=0:(it!=null&&(it[0]=$t.width[0]),yt!=null&&(yt[0]=$t.height[0]),it=1),it){et.width=et.width[0],et.height=et.height[0],_e!=null&&(_e[0]=et.width),Fe!=null&&(Fe[0]=et.height);e:{if(_e=new ch,(Fe=new rn).data=R,Fe.w=q,Fe.ha=pe,Fe.kd=1,q=[0],k(Fe!=null),((R=bs(Fe.data,Fe.w,Fe.ha,null,null,null,q,null,Fe))==0||R==7)&&q[0]&&(R=4),(q=R)==0){if(k(Ge!=null),_e.data=Fe.data,_e.w=Fe.w+Fe.offset,_e.ha=Fe.ha-Fe.offset,_e.put=wi,_e.ac=rc,_e.bc=Ra,_e.ma=Ge,Fe.xa){if((R=Ed())==null){Ge=1;break e}if((function(xt,Yt){var ir=[0],Hr=[0],Er=[0];t:for(;;){if(xt==null)return 0;if(Yt==null)return xt.a=2,0;if(xt.l=Yt,xt.a=0,Rr(xt.m,Yt.data,Yt.w,Yt.ha),!Xa(xt.m,ir,Hr,Er)){xt.a=3;break t}if(xt.xb=mp,Yt.width=ir[0],Yt.height=Hr[0],!nc(ir[0],Hr[0],1,xt,null))break t;return 1}return k(xt.a!=0),0})(R,_e)){if(_e=(q=ia(_e.width,_e.height,Ge.Oa,Ge.ba))==0){t:{_e=R;r:for(;;){if(_e==null){_e=0;break t}if(k(_e.s.yc!=null),k(_e.s.Ya!=null),k(0<_e.s.Wb),k((pe=_e.l)!=null),k((Fe=pe.ma)!=null),_e.xb!=0){if(_e.ca=Fe.ba,_e.tb=Fe.tb,k(_e.ca!=null),!Ua(Fe.Oa,pe,Xm)){_e.a=2;break r}if(!Gl(_e,pe.width)||pe.da)break r;if((pe.da||Qi(_e.ca.S))&&Ze(),11>_e.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),_e.ca.f.kb.F!=null&&Ze()),_e.Pb&&0<_e.s.ua&&_e.s.vb.X==null&&!vt(_e.s.vb,_e.s.Wa.Xa)){_e.a=1;break r}_e.xb=0}if(!Kl(_e,_e.V,_e.Ba,_e.c,_e.i,pe.o,To))break r;Fe.Dc=_e.Ma,_e=1;break t}k(_e.a!=0),_e=0}_e=!_e}_e&&(q=R.a)}else q=R.a}else{if((R=new Pl)==null){Ge=1;break e}if(R.Fa=Fe.na,R.P=Fe.P,R.qc=Fe.Sa,Vc(R,_e)){if((q=ia(_e.width,_e.height,Ge.Oa,Ge.ba))==0){if(R.Aa=0,pe=Ge.Oa,k((Fe=R)!=null),pe!=null){if(0<(it=0>(it=pe.Md)?0:100<it?255:255*it/100)){for(yt=$t=0;4>yt;++yt)12>(pr=Fe.pb[yt]).lc&&(pr.ia=it*gp[0>pr.lc?0:pr.lc]>>3),$t|=pr.ia;$t&&(alert("todo:VP8InitRandom"),Fe.ia=1)}Fe.Ga=pe.Id,100<Fe.Ga?Fe.Ga=100:0>Fe.Ga&&(Fe.Ga=0)}(function(xt,Yt){if(xt==null)return 0;if(Yt==null)return Fi(xt,2,"NULL VP8Io parameter in VP8Decode().");if(!xt.cb&&!Vc(xt,Yt))return 0;if(k(xt.cb),Yt.ac==null||Yt.ac(Yt)){Yt.ob&&(xt.L=0);var ir=pp[xt.L];if(xt.L==2?(xt.yb=0,xt.zb=0):(xt.yb=Yt.v-ir>>4,xt.zb=Yt.j-ir>>4,0>xt.yb&&(xt.yb=0),0>xt.zb&&(xt.zb=0)),xt.Va=Yt.o+15+ir>>4,xt.Hb=Yt.va+15+ir>>4,xt.Hb>xt.za&&(xt.Hb=xt.za),xt.Va>xt.Ub&&(xt.Va=xt.Ub),0<xt.L){var Hr=xt.ed;for(ir=0;4>ir;++ir){var Er;if(xt.Qa.Cb){var Qr=xt.Qa.Lb[ir];xt.Qa.Fb||(Qr+=Hr.Tb)}else Qr=Hr.Tb;for(Er=0;1>=Er;++Er){var Gr=xt.gd[ir][Er],hn=Qr;if(Hr.Pc&&(hn+=Hr.vd[0],Er&&(hn+=Hr.od[0])),0<(hn=0>hn?0:63<hn?63:hn)){var nn=hn;0<Hr.wb&&(nn=4<Hr.wb?nn>>2:nn>>1)>9-Hr.wb&&(nn=9-Hr.wb),1>nn&&(nn=1),Gr.dd=nn,Gr.tc=2*hn+nn,Gr.ld=40<=hn?2:15<=hn?1:0}else Gr.tc=0;Gr.La=Er}}}ir=0}else Fi(xt,6,"Frame setup failed"),ir=xt.a;if(ir=ir==0){if(ir){xt.$c=0,0<xt.Aa||(xt.Ic=vp);t:{ir=xt.Ic,Hr=4*(nn=xt.za);var Ti=32*nn,Kn=nn+1,Bs=0<xt.L?nn*(0<xt.Aa?2:1):0,gi=(xt.Aa==2?2:1)*nn;if((Gr=Hr+832+(Er=3*(16*ir+pp[xt.L])/2*Ti)+(Qr=xt.Fa!=null&&0<xt.Fa.length?xt.Kc.c*xt.Kc.i:0))!=Gr)ir=0;else{if(Gr>xt.Vb){if(xt.Vb=0,xt.Ec=re(Gr),xt.Fc=0,xt.Ec==null){ir=Fi(xt,1,"no memory during frame initialization.");break t}xt.Vb=Gr}Gr=xt.Ec,hn=xt.Fc,xt.Ac=Gr,xt.Bc=hn,hn+=Hr,xt.Gd=xe(Ti,Xu),xt.Hd=0,xt.rb=xe(Kn+1,au),xt.sb=1,xt.wa=Bs?xe(Bs,vl):null,xt.Y=0,xt.D.Nb=0,xt.D.wa=xt.wa,xt.D.Y=xt.Y,0<xt.Aa&&(xt.D.Y+=nn),k(!0),xt.oc=Gr,xt.pc=hn,hn+=832,xt.ya=xe(gi,Kd),xt.aa=0,xt.D.ya=xt.ya,xt.D.aa=xt.aa,xt.Aa==2&&(xt.D.aa+=nn),xt.R=16*nn,xt.B=8*nn,nn=(Ti=pp[xt.L])*xt.R,Ti=Ti/2*xt.B,xt.sa=Gr,xt.ta=hn+nn,xt.qa=xt.sa,xt.ra=xt.ta+16*ir*xt.R+Ti,xt.Ha=xt.qa,xt.Ia=xt.ra+8*ir*xt.B+Ti,xt.$c=0,hn+=Er,xt.mb=Qr?Gr:null,xt.nb=Qr?hn:null,k(hn+Qr<=xt.Fc+xt.Vb),Zu(xt),Z(xt.Ac,xt.Bc,0,Hr),ir=1}}if(ir){if(Yt.ka=0,Yt.y=xt.sa,Yt.O=xt.ta,Yt.f=xt.qa,Yt.N=xt.ra,Yt.ea=xt.Ha,Yt.Vd=xt.Ia,Yt.fa=xt.R,Yt.Rc=xt.B,Yt.F=null,Yt.J=0,!iv){for(ir=-255;255>=ir;++ir)lp[255+ir]=0>ir?-ir:ir;for(ir=-1020;1020>=ir;++ir)Eg[1020+ir]=-128>ir?-128:127<ir?127:ir;for(ir=-112;112>=ir;++ir)_g[112+ir]=-16>ir?-16:15<ir?15:ir;for(ir=-255;510>=ir;++ir)nv[255+ir]=0>ir?0:255<ir?255:ir;iv=1}td=kt,kd=Q,rd=le,sa=Ee,Ja=Ke,Sc=S,Is=Po,bl=fh,Ah=Me,hm=Et,Xh=Nh,qm=ue,np=Bt,ip=nr,sp=bo,Xc=Ch,Yo=dm,ap=Wm,Id[0]=jd,Id[1]=Sr,Id[2]=Ju,Id[3]=wc,Id[4]=Xl,Id[5]=ao,Id[6]=Tu,Id[7]=Cu,Id[8]=Td,Id[9]=Go,Lh[0]=Co,Lh[1]=En,Lh[2]=di,Lh[3]=As,Lh[4]=il,Lh[5]=Zs,Lh[6]=la,Yd[0]=Nu,Yd[1]=qr,Yd[2]=Ec,Yd[3]=Gd,Yd[4]=Gc,Yd[5]=_c,Yd[6]=Th,ir=1}else ir=0}ir&&(ir=(function(ca,Rl){for(ca.M=0;ca.M<ca.Va;++ca.M){var _s,fi=ca.Jc[ca.M&ca.Xb],Rn=ca.m,sl=ca;for(_s=0;_s<sl.za;++_s){var Ss=Rn,Ds=sl,Eo=Ds.Ac,oc=Ds.Bc+4*_s,jc=Ds.zc,$a=Ds.ya[Ds.aa+_s];if(Ds.Qa.Bb?$a.$b=Zr(Ss,Ds.Pa.jb[0])?2+Zr(Ss,Ds.Pa.jb[2]):Zr(Ss,Ds.Pa.jb[1]):$a.$b=0,Ds.kc&&($a.Ad=Zr(Ss,Ds.Bd)),$a.Za=!Zr(Ss,145)+0,$a.Za){var Tc=$a.Ob,uu=0;for(Ds=0;4>Ds;++Ds){var al,aa=jc[0+Ds];for(al=0;4>al;++al){aa=lv[Eo[oc+al]][aa];for(var Vi=ov[Zr(Ss,aa[0])];0<Vi;)Vi=ov[2*Vi+Zr(Ss,aa[Vi])];aa=-Vi,Eo[oc+al]=aa}G(Tc,uu,Eo,oc,4),uu+=4,jc[0+Ds]=aa}}else aa=Zr(Ss,156)?Zr(Ss,128)?1:3:Zr(Ss,163)?2:0,$a.Ob[0]=aa,Z(Eo,oc,aa,4),Z(jc,0,aa,4);$a.Dd=Zr(Ss,142)?Zr(Ss,114)?Zr(Ss,183)?1:3:2:0}if(sl.m.Ka)return Fi(ca,7,"Premature end-of-partition0 encountered.");for(;ca.ja<ca.za;++ca.ja){if(sl=fi,Ss=(Rn=ca).rb[Rn.sb-1],Eo=Rn.rb[Rn.sb+Rn.ja],_s=Rn.ya[Rn.aa+Rn.ja],oc=Rn.kc?_s.Ad:0)Ss.la=Eo.la=0,_s.Za||(Ss.Na=Eo.Na=0),_s.Hc=0,_s.Gc=0,_s.ia=0;else{var wl,eo;if(Ss=Eo,Eo=sl,oc=Rn.Pa.Xc,jc=Rn.ya[Rn.aa+Rn.ja],$a=Rn.pb[jc.$b],Ds=jc.ad,Tc=0,uu=Rn.rb[Rn.sb-1],aa=al=0,Z(Ds,Tc,0,384),jc.Za)var Cc=0,Zc=oc[3];else{Vi=re(16);var lo=Ss.Na+uu.Na;if(lo=Am(Eo,oc[1],lo,$a.Eb,0,Vi,0),Ss.Na=uu.Na=(0<lo)+0,1<lo)td(Vi,0,Ds,Tc);else{var Jc=Vi[0]+3>>3;for(Vi=0;256>Vi;Vi+=16)Ds[Tc+Vi]=Jc}Cc=1,Zc=oc[0]}var co=15&Ss.la,vn=15&uu.la;for(Vi=0;4>Vi;++Vi){var _o=1&vn;for(Jc=eo=0;4>Jc;++Jc)co=co>>1|(_o=(lo=Am(Eo,Zc,lo=_o+(1&co),$a.Sc,Cc,Ds,Tc))>Cc)<<7,eo=eo<<2|(3<lo?3:1<lo?2:Ds[Tc+0]!=0),Tc+=16;co>>=4,vn=vn>>1|_o<<7,al=(al<<8|eo)>>>0}for(Zc=co,Cc=vn>>4,wl=0;4>wl;wl+=2){for(eo=0,co=Ss.la>>4+wl,vn=uu.la>>4+wl,Vi=0;2>Vi;++Vi){for(_o=1&vn,Jc=0;2>Jc;++Jc)lo=_o+(1&co),co=co>>1|(_o=0<(lo=Am(Eo,oc[2],lo,$a.Qc,0,Ds,Tc)))<<3,eo=eo<<2|(3<lo?3:1<lo?2:Ds[Tc+0]!=0),Tc+=16;co>>=2,vn=vn>>1|_o<<5}aa|=eo<<4*wl,Zc|=co<<4<<wl,Cc|=(240&vn)<<wl}Ss.la=Zc,uu.la=Cc,jc.Hc=al,jc.Gc=aa,jc.ia=43690&aa?0:$a.ia,oc=!(al|aa)}if(0<Rn.L&&(Rn.wa[Rn.Y+Rn.ja]=Rn.gd[_s.$b][_s.Za],Rn.wa[Rn.Y+Rn.ja].La|=!oc),sl.Ka)return Fi(ca,7,"Premature end-of-file encountered.")}if(Zu(ca),Rn=Rl,sl=1,_s=(fi=ca).D,Ss=0<fi.L&&fi.M>=fi.zb&&fi.M<=fi.Va,fi.Aa==0)t:{if(_s.M=fi.M,_s.uc=Ss,Sn(fi,_s),sl=1,_s=(eo=fi.D).Nb,Ss=(aa=pp[fi.L])*fi.R,Eo=aa/2*fi.B,Vi=16*_s*fi.R,Jc=8*_s*fi.B,oc=fi.sa,jc=fi.ta-Ss+Vi,$a=fi.qa,Ds=fi.ra-Eo+Jc,Tc=fi.Ha,uu=fi.Ia-Eo+Jc,vn=(co=eo.M)==0,al=co>=fi.Va-1,fi.Aa==2&&Sn(fi,eo),eo.uc)for(_o=(lo=fi).D.M,k(lo.D.uc),eo=lo.yb;eo<lo.Hb;++eo){Cc=eo,Zc=_o;var lc=(No=(Nc=lo).D).Nb;wl=Nc.R;var No=No.wa[No.Y+Cc],id=Nc.sa,ws=Nc.ta+16*lc*wl+16*Cc,Js=No.dd,ka=No.tc;if(ka!=0)if(k(3<=ka),Nc.L==1)0<Cc&&Xc(id,ws,wl,ka+4),No.La&&ap(id,ws,wl,ka),0<Zc&&sp(id,ws,wl,ka+4),No.La&&Yo(id,ws,wl,ka);else{var sd=Nc.B,El=Nc.qa,ko=Nc.ra+8*lc*sd+8*Cc,ad=Nc.Ha,Nc=Nc.Ia+8*lc*sd+8*Cc;lc=No.ld,0<Cc&&(bl(id,ws,wl,ka+4,Js,lc),hm(El,ko,ad,Nc,sd,ka+4,Js,lc)),No.La&&(qm(id,ws,wl,ka,Js,lc),ip(El,ko,ad,Nc,sd,ka,Js,lc)),0<Zc&&(Is(id,ws,wl,ka+4,Js,lc),Ah(El,ko,ad,Nc,sd,ka+4,Js,lc)),No.La&&(Xh(id,ws,wl,ka,Js,lc),np(El,ko,ad,Nc,sd,ka,Js,lc))}}if(fi.ia&&alert("todo:DitherRow"),Rn.put!=null){if(eo=16*co,co=16*(co+1),vn?(Rn.y=fi.sa,Rn.O=fi.ta+Vi,Rn.f=fi.qa,Rn.N=fi.ra+Jc,Rn.ea=fi.Ha,Rn.W=fi.Ia+Jc):(eo-=aa,Rn.y=oc,Rn.O=jc,Rn.f=$a,Rn.N=Ds,Rn.ea=Tc,Rn.W=uu),al||(co-=aa),co>Rn.o&&(co=Rn.o),Rn.F=null,Rn.J=null,fi.Fa!=null&&0<fi.Fa.length&&eo<co&&(Rn.J=Na(fi,Rn,eo,co-eo),Rn.F=fi.mb,Rn.F==null&&Rn.F.length==0)){sl=Fi(fi,3,"Could not decode alpha data.");break t}eo<Rn.j&&(aa=Rn.j-eo,eo=Rn.j,k(!(1&aa)),Rn.O+=fi.R*aa,Rn.N+=fi.B*(aa>>1),Rn.W+=fi.B*(aa>>1),Rn.F!=null&&(Rn.J+=Rn.width*aa)),eo<co&&(Rn.O+=Rn.v,Rn.N+=Rn.v>>1,Rn.W+=Rn.v>>1,Rn.F!=null&&(Rn.J+=Rn.v),Rn.ka=eo-Rn.j,Rn.U=Rn.va-Rn.v,Rn.T=co-eo,sl=Rn.put(Rn))}_s+1!=fi.Ic||al||(G(fi.sa,fi.ta-Ss,oc,jc+16*fi.R,Ss),G(fi.qa,fi.ra-Eo,$a,Ds+8*fi.B,Eo),G(fi.Ha,fi.Ia-Eo,Tc,uu+8*fi.B,Eo))}if(!sl)return Fi(ca,6,"Output aborted.")}return 1})(xt,Yt)),Yt.bc!=null&&Yt.bc(Yt),ir&=1}return ir?(xt.cb=0,ir):0})(R,_e)||(q=R.a)}}else q=R.a}q==0&&Ge.Oa!=null&&Ge.Oa.fd&&(q=ji(Ge.ba))}Ge=q}We=Ge!=0?null:11>We?et.f.RGBA.eb:et.f.kb.y}else We=null;return We};var rA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ke(Mt,_r){for(var at="",At=0;At<4;At++)at+=String.fromCharCode(Mt[_r++]);return at}function Ve(Mt,_r){return Mt[_r+0]|Mt[_r+1]<<8}function Je(Mt,_r){return(Mt[_r+0]|Mt[_r+1]<<8|Mt[_r+2]<<16)>>>0}function lt(Mt,_r){return(Mt[_r+0]|Mt[_r+1]<<8|Mt[_r+2]<<16|Mt[_r+3]<<24)>>>0}new Ae;var Te=[0],jt=[0],ot=[],Nt=new Ae,nt=P,Ot=(function(Mt,_r){var at={},At=0,Rt=!1,Dt=0,xr=0;if(at.frames=[],!(function(Xe,Ct){for(var Lt=0;Lt<4;Lt++)if(Xe[Ct+Lt]!="RIFF".charCodeAt(Lt))return!0;return!1})(Mt,_r)){for(lt(Mt,_r+=4),_r+=8;_r<Mt.length;){var Br=ke(Mt,_r),Mr=lt(Mt,_r+=4);_r+=4;var ur=Mr+(1&Mr);switch(Br){case"VP8 ":case"VP8L":at.frames[At]===void 0&&(at.frames[At]={}),(an=at.frames[At]).src_off=Rt?xr:_r-8,an.src_size=Dt+Mr+8,At++,Rt&&(Rt=!1,Dt=0,xr=0);break;case"VP8X":(an=at.header={}).feature_flags=Mt[_r];var Rr=_r+4;an.canvas_width=1+Je(Mt,Rr),Rr+=3,an.canvas_height=1+Je(Mt,Rr),Rr+=3;break;case"ALPH":Rt=!0,Dt=ur+8,xr=_r-8;break;case"ANIM":(an=at.header).bgcolor=lt(Mt,_r),Rr=_r+4,an.loop_count=Ve(Mt,Rr),Rr+=2;break;case"ANMF":var gn,an;(an=at.frames[At]={}).offset_x=2*Je(Mt,_r),_r+=3,an.offset_y=2*Je(Mt,_r),_r+=3,an.width=1+Je(Mt,_r),_r+=3,an.height=1+Je(Mt,_r),_r+=3,an.duration=Je(Mt,_r),_r+=3,gn=Mt[_r++],an.dispose=1&gn,an.blend=gn>>1&1}Br!="ANMF"&&(_r+=ur)}return at}})(nt,0);Ot.response=nt,Ot.rgbaoutput=!0,Ot.dataurl=!1;var qt=Ot.header?Ot.header:null,It=Ot.frames?Ot.frames:null;if(qt){qt.loop_counter=qt.loop_count,Te=[qt.canvas_height],jt=[qt.canvas_width];for(var rt=0;rt<It.length&&It[rt].blend!=0;rt++);}var Kt=It[0],Nr=Nt.WebPDecodeRGBA(nt,Kt.src_off,Kt.src_size,jt,Te);Kt.rgba=Nr,Kt.imgwidth=jt[0],Kt.imgheight=Te[0];for(var lr=0;lr<jt[0]*Te[0]*4;lr++)ot[lr]=Nr[lr];return this.width=jt,this.height=Te,this.data=ot,this}(function(P){var k,F,G,Z,re,xe,fe,Ae,ke,Ve=function(Xe){return Xe=Xe||{},this.isStrokeTransparent=Xe.isStrokeTransparent||!1,this.strokeOpacity=Xe.strokeOpacity||1,this.strokeStyle=Xe.strokeStyle||"#000000",this.fillStyle=Xe.fillStyle||"#000000",this.isFillTransparent=Xe.isFillTransparent||!1,this.fillOpacity=Xe.fillOpacity||1,this.font=Xe.font||"10px sans-serif",this.textBaseline=Xe.textBaseline||"alphabetic",this.textAlign=Xe.textAlign||"left",this.lineWidth=Xe.lineWidth||1,this.lineJoin=Xe.lineJoin||"miter",this.lineCap=Xe.lineCap||"butt",this.path=Xe.path||[],this.transform=Xe.transform!==void 0?Xe.transform.clone():new Ae,this.globalCompositeOperation=Xe.globalCompositeOperation||"normal",this.globalAlpha=Xe.globalAlpha||1,this.clip_path=Xe.clip_path||[],this.currentPoint=Xe.currentPoint||new xe,this.miterLimit=Xe.miterLimit||10,this.lastPoint=Xe.lastPoint||new xe,this.lineDashOffset=Xe.lineDashOffset||0,this.lineDash=Xe.lineDash||[],this.margin=Xe.margin||[0,0,0,0],this.prevPageLastElemOffset=Xe.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Xe.ignoreClearRect!="boolean"||Xe.ignoreClearRect,this};P.events.push(["initialized",function(){this.context2d=new Je(this),k=this.internal.f2,F=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,Z=this.internal.getHorizontalCoordinate,re=this.internal.getVerticalCoordinate,xe=this.internal.Point,fe=this.internal.Rectangle,Ae=this.internal.Matrix,ke=new Ve}]);var Je=function(Xe){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ct=Xe;Object.defineProperty(this,"pdf",{get:function(){return Ct}});var Lt=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Lt},set:function(vt){Lt=!!vt}});var Wt=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Wt},set:function(vt){Wt=!!vt}});var Xt=0;Object.defineProperty(this,"posX",{get:function(){return Xt},set:function(vt){isNaN(vt)||(Xt=vt)}});var mr=0;Object.defineProperty(this,"posY",{get:function(){return mr},set:function(vt){isNaN(vt)||(mr=vt)}}),Object.defineProperty(this,"margin",{get:function(){return ke.margin},set:function(vt){var Cn;typeof vt=="number"?Cn=[vt,vt,vt,vt]:((Cn=new Array(4))[0]=vt[0],Cn[1]=vt.length>=2?vt[1]:Cn[0],Cn[2]=vt.length>=3?vt[2]:Cn[0],Cn[3]=vt.length>=4?vt[3]:Cn[1]),ke.margin=Cn}});var Pr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Pr},set:function(vt){Pr=vt}});var Ir=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ir},set:function(vt){Ir=vt}});var Zr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Zr},set:function(vt){Zr=vt}}),Object.defineProperty(this,"ctx",{get:function(){return ke},set:function(vt){vt instanceof Ve&&(ke=vt)}}),Object.defineProperty(this,"path",{get:function(){return ke.path},set:function(vt){ke.path=vt}});var pn=[];Object.defineProperty(this,"ctxStack",{get:function(){return pn},set:function(vt){pn=vt}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(vt){var Cn;Cn=lt(vt),this.ctx.fillStyle=Cn.style,this.ctx.isFillTransparent=Cn.a===0,this.ctx.fillOpacity=Cn.a,this.pdf.setFillColor(Cn.r,Cn.g,Cn.b,{a:Cn.a}),this.pdf.setTextColor(Cn.r,Cn.g,Cn.b,{a:Cn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(vt){var Cn=lt(vt);this.ctx.strokeStyle=Cn.style,this.ctx.isStrokeTransparent=Cn.a===0,this.ctx.strokeOpacity=Cn.a,Cn.a===0?this.pdf.setDrawColor(255,255,255):(Cn.a,this.pdf.setDrawColor(Cn.r,Cn.g,Cn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(vt){["butt","round","square"].indexOf(vt)!==-1&&(this.ctx.lineCap=vt,this.pdf.setLineCap(vt))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(vt){isNaN(vt)||(this.ctx.lineWidth=vt,this.pdf.setLineWidth(vt))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(vt){["bevel","round","miter"].indexOf(vt)!==-1&&(this.ctx.lineJoin=vt,this.pdf.setLineJoin(vt))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(vt){isNaN(vt)||(this.ctx.miterLimit=vt,this.pdf.setMiterLimit(vt))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(vt){this.ctx.textBaseline=vt}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(vt){["right","end","center","left","start"].indexOf(vt)!==-1&&(this.ctx.textAlign=vt)}});var jn=null,Fn=null,yi=null;Object.defineProperty(this,"fontFaces",{get:function(){return yi},set:function(vt){jn=null,Fn=null,yi=vt}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(vt){var Cn;if(this.ctx.font=vt,(Cn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(vt))!==null){var Ri=Cn[1];Cn[2];var Nn=Cn[3],ln=Cn[4];Cn[5];var Ni=Cn[6],Hn=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ln)[2];ln=Math.floor(Hn==="px"?parseFloat(ln)*this.pdf.internal.scaleFactor:Hn==="em"?parseFloat(ln)*this.pdf.getFontSize():parseFloat(ln)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ln);var Vn=(function(Xn){var Gi,is,Zi=[],xs=Xn.trim();if(xs==="")return no;if(xs in hs)return[hs[xs]];for(;xs!=="";){switch(is=null,Gi=(xs=ro(xs)).charAt(0)){case'"':case"'":is=$l(xs.substring(1),Gi);break;default:is=su(xs)}if(is===null||(Zi.push(is[0]),(xs=ro(is[1]))!==""&&xs.charAt(0)!==","))return no;xs=xs.replace(/^,/,"")}return Zi})(Ni);if(this.fontFaces){var zn=(function(Xn,Gi){var is=Xn.getFontList(),Zi=JSON.stringify(is);if(jn===null||Fn!==Zi){var xs=(function(Ca){var bi=[];return Object.keys(Ca).forEach(function(Ys){Ca[Ys].forEach(function(Qi){var oi=null;switch(Qi){case"bold":oi={family:Ys,weight:"bold"};break;case"italic":oi={family:Ys,style:"italic"};break;case"bolditalic":oi={family:Ys,weight:"bold",style:"italic"};break;case"":case"normal":oi={family:Ys}}oi!==null&&(oi.ref={name:Ys,style:Qi},bi.push(oi))})}),bi})(is);jn=(function(Ca){for(var bi={},Ys=0;Ys<Ca.length;++Ys){var Qi=qs(Ca[Ys]),oi=Qi.family,da=Qi.stretch,Ii=Qi.style,_n=Qi.weight;bi[oi]=bi[oi]||{},bi[oi][da]=bi[oi][da]||{},bi[oi][da][Ii]=bi[oi][da][Ii]||{},bi[oi][da][Ii][_n]=Qi}return bi})(xs.concat(Gi)),Fn=Zi}return jn})(this.pdf,this.fontFaces),ga=Vn.map(function(Xn){return{family:Xn,stretch:"normal",weight:Nn,style:Ri}}),Di=(function(Xn,Gi,is){for(var Zi=(is=is||{}).defaultFontFamily||"times",xs=Object.assign({},Qa,is.genericFontFamilies||{}),Ca=null,bi=null,Ys=0;Ys<Gi.length;++Ys)if(xs[(Ca=qs(Gi[Ys])).family]&&(Ca.family=xs[Ca.family]),Xn.hasOwnProperty(Ca.family)){bi=Xn[Ca.family];break}if(!(bi=bi||Xn[Zi]))throw new Error("Could not find a font-family for the rule '"+_u(Ca)+"' and default family '"+Zi+"'.");if(bi=(function(Qi,oi){if(oi[Qi])return oi[Qi];var da=Qs[Qi],Ii=da<=Qs.normal?-1:1,_n=Rs(oi,Fs,da,Ii);if(!_n)throw new Error("Could not find a matching font-stretch value for "+Qi);return _n})(Ca.stretch,bi),bi=(function(Qi,oi){if(oi[Qi])return oi[Qi];for(var da=Ln[Qi],Ii=0;Ii<da.length;++Ii)if(oi[da[Ii]])return oi[da[Ii]];throw new Error("Could not find a matching font-style for "+Qi)})(Ca.style,bi),!(bi=(function(Qi,oi){if(oi[Qi])return oi[Qi];if(Qi===400&&oi[500])return oi[500];if(Qi===500&&oi[400])return oi[400];var da=rs[Qi],Ii=Rs(oi,Us,da,Qi<400?-1:1);if(!Ii)throw new Error("Could not find a matching font-weight for value "+Qi);return Ii})(Ca.weight,bi)))throw new Error("Failed to resolve a font for the rule '"+_u(Ca)+"'.");return bi})(zn,ga);this.pdf.setFont(Di.ref.name,Di.ref.style)}else{var qn="";(Nn==="bold"||parseInt(Nn,10)>=700||Ri==="bold")&&(qn="bold"),Ri==="italic"&&(qn+="italic"),qn.length===0&&(qn="normal");for(var ns="",Si={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qn=0;Qn<Vn.length;Qn++){if(this.pdf.internal.getFont(Vn[Qn],qn,{noFallback:!0,disableWarning:!0})!==void 0){ns=Vn[Qn];break}if(qn==="bolditalic"&&this.pdf.internal.getFont(Vn[Qn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ns=Vn[Qn],qn="bold";else if(this.pdf.internal.getFont(Vn[Qn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ns=Vn[Qn],qn="normal";break}}if(ns===""){for(var Li=0;Li<Vn.length;Li++)if(Si[Vn[Li]]){ns=Si[Vn[Li]];break}}ns=ns===""?"Times":ns,this.pdf.setFont(ns,qn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(vt){this.ctx.globalCompositeOperation=vt}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(vt){this.ctx.globalAlpha=vt}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(vt){this.ctx.lineDashOffset=vt,an.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(vt){this.ctx.lineDash=vt,an.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(vt){this.ctx.ignoreClearRect=!!vt}})};Je.prototype.setLineDash=function(Xe){this.lineDash=Xe},Je.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Je.prototype.fill=function(){It.call(this,"fill",!1)},Je.prototype.stroke=function(){It.call(this,"stroke",!1)},Je.prototype.beginPath=function(){this.path=[{type:"begin"}]},Je.prototype.moveTo=function(Xe,Ct){if(isNaN(Xe)||isNaN(Ct))throw y.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Lt=this.ctx.transform.applyToPoint(new xe(Xe,Ct));this.path.push({type:"mt",x:Lt.x,y:Lt.y}),this.ctx.lastPoint=new xe(Xe,Ct)},Je.prototype.closePath=function(){var Xe=new xe(0,0),Ct=0;for(Ct=this.path.length-1;Ct!==-1;Ct--)if(this.path[Ct].type==="begin"&&(0,d.default)(this.path[Ct+1])==="object"&&typeof this.path[Ct+1].x=="number"){Xe=new xe(this.path[Ct+1].x,this.path[Ct+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new xe(Xe.x,Xe.y)},Je.prototype.lineTo=function(Xe,Ct){if(isNaN(Xe)||isNaN(Ct))throw y.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Lt=this.ctx.transform.applyToPoint(new xe(Xe,Ct));this.path.push({type:"lt",x:Lt.x,y:Lt.y}),this.ctx.lastPoint=new xe(Lt.x,Lt.y)},Je.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),It.call(this,null,!0)},Je.prototype.quadraticCurveTo=function(Xe,Ct,Lt,Wt){if(isNaN(Lt)||isNaN(Wt)||isNaN(Xe)||isNaN(Ct))throw y.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Xt=this.ctx.transform.applyToPoint(new xe(Lt,Wt)),mr=this.ctx.transform.applyToPoint(new xe(Xe,Ct));this.path.push({type:"qct",x1:mr.x,y1:mr.y,x:Xt.x,y:Xt.y}),this.ctx.lastPoint=new xe(Xt.x,Xt.y)},Je.prototype.bezierCurveTo=function(Xe,Ct,Lt,Wt,Xt,mr){if(isNaN(Xt)||isNaN(mr)||isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt))throw y.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Pr=this.ctx.transform.applyToPoint(new xe(Xt,mr)),Ir=this.ctx.transform.applyToPoint(new xe(Xe,Ct)),Zr=this.ctx.transform.applyToPoint(new xe(Lt,Wt));this.path.push({type:"bct",x1:Ir.x,y1:Ir.y,x2:Zr.x,y2:Zr.y,x:Pr.x,y:Pr.y}),this.ctx.lastPoint=new xe(Pr.x,Pr.y)},Je.prototype.arc=function(Xe,Ct,Lt,Wt,Xt,mr){if(isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt)||isNaN(Xt))throw y.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(mr=!!mr,!this.ctx.transform.isIdentity){var Pr=this.ctx.transform.applyToPoint(new xe(Xe,Ct));Xe=Pr.x,Ct=Pr.y;var Ir=this.ctx.transform.applyToPoint(new xe(0,Lt)),Zr=this.ctx.transform.applyToPoint(new xe(0,0));Lt=Math.sqrt(Math.pow(Ir.x-Zr.x,2)+Math.pow(Ir.y-Zr.y,2))}Math.abs(Xt-Wt)>=2*Math.PI&&(Wt=0,Xt=2*Math.PI),this.path.push({type:"arc",x:Xe,y:Ct,radius:Lt,startAngle:Wt,endAngle:Xt,counterclockwise:mr})},Je.prototype.arcTo=function(Xe,Ct,Lt,Wt,Xt){throw new Error("arcTo not implemented.")},Je.prototype.rect=function(Xe,Ct,Lt,Wt){if(isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt))throw y.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Xe,Ct),this.lineTo(Xe+Lt,Ct),this.lineTo(Xe+Lt,Ct+Wt),this.lineTo(Xe,Ct+Wt),this.lineTo(Xe,Ct),this.lineTo(Xe+Lt,Ct),this.lineTo(Xe,Ct)},Je.prototype.fillRect=function(Xe,Ct,Lt,Wt){if(isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt))throw y.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Te.call(this)){var Xt={};this.lineCap!=="butt"&&(Xt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Xt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Xe,Ct,Lt,Wt),this.fill(),Xt.hasOwnProperty("lineCap")&&(this.lineCap=Xt.lineCap),Xt.hasOwnProperty("lineJoin")&&(this.lineJoin=Xt.lineJoin)}},Je.prototype.strokeRect=function(Xe,Ct,Lt,Wt){if(isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt))throw y.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");jt.call(this)||(this.beginPath(),this.rect(Xe,Ct,Lt,Wt),this.stroke())},Je.prototype.clearRect=function(Xe,Ct,Lt,Wt){if(isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt))throw y.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Xe,Ct,Lt,Wt))},Je.prototype.save=function(Xe){Xe=typeof Xe!="boolean"||Xe;for(var Ct=this.pdf.internal.getCurrentPageInfo().pageNumber,Lt=0;Lt<this.pdf.internal.getNumberOfPages();Lt++)this.pdf.setPage(Lt+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ct),Xe){this.ctx.fontSize=this.pdf.internal.getFontSize();var Wt=new Ve(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Wt}},Je.prototype.restore=function(Xe){Xe=typeof Xe!="boolean"||Xe;for(var Ct=this.pdf.internal.getCurrentPageInfo().pageNumber,Lt=0;Lt<this.pdf.internal.getNumberOfPages();Lt++)this.pdf.setPage(Lt+1),this.pdf.internal.out("Q");this.pdf.setPage(Ct),Xe&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Je.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var lt=function(Xe){var Ct,Lt,Wt,Xt;if(Xe.isCanvasGradient===!0&&(Xe=Xe.getColor()),!Xe)return{r:0,g:0,b:0,a:0,style:Xe};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Xe))Ct=0,Lt=0,Wt=0,Xt=0;else{var mr=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Xe);if(mr!==null)Ct=parseInt(mr[1]),Lt=parseInt(mr[2]),Wt=parseInt(mr[3]),Xt=1;else if((mr=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Xe))!==null)Ct=parseInt(mr[1]),Lt=parseInt(mr[2]),Wt=parseInt(mr[3]),Xt=parseFloat(mr[4]);else{if(Xt=1,typeof Xe=="string"&&Xe.charAt(0)!=="#"){var Pr=new C(Xe);Xe=Pr.ok?Pr.toHex():"#000000"}Xe.length===4?(Ct=Xe.substring(1,2),Ct+=Ct,Lt=Xe.substring(2,3),Lt+=Lt,Wt=Xe.substring(3,4),Wt+=Wt):(Ct=Xe.substring(1,3),Lt=Xe.substring(3,5),Wt=Xe.substring(5,7)),Ct=parseInt(Ct,16),Lt=parseInt(Lt,16),Wt=parseInt(Wt,16)}}return{r:Ct,g:Lt,b:Wt,a:Xt,style:Xe}},Te=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},jt=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Je.prototype.fillText=function(Xe,Ct,Lt,Wt){if(isNaN(Ct)||isNaN(Lt)||typeof Xe!="string")throw y.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Wt=isNaN(Wt)?void 0:Wt,!Te.call(this)){var Xt=ur(this.ctx.transform.rotation),mr=this.ctx.transform.scaleX;At.call(this,{text:Xe,x:Ct,y:Lt,scale:mr,angle:Xt,align:this.textAlign,maxWidth:Wt})}},Je.prototype.strokeText=function(Xe,Ct,Lt,Wt){if(isNaN(Ct)||isNaN(Lt)||typeof Xe!="string")throw y.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!jt.call(this)){Wt=isNaN(Wt)?void 0:Wt;var Xt=ur(this.ctx.transform.rotation),mr=this.ctx.transform.scaleX;At.call(this,{text:Xe,x:Ct,y:Lt,scale:mr,renderingMode:"stroke",angle:Xt,align:this.textAlign,maxWidth:Wt})}},Je.prototype.measureText=function(Xe){if(typeof Xe!="string")throw y.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ct=this.pdf,Lt=this.pdf.internal.scaleFactor,Wt=Ct.internal.getFontSize(),Xt=Ct.getStringUnitWidth(Xe)*Wt/Ct.internal.scaleFactor;return new function(mr){var Pr=(mr=mr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Pr}}),this}({width:Xt*=Math.round(96*Lt/72*1e4)/1e4})},Je.prototype.scale=function(Xe,Ct){if(isNaN(Xe)||isNaN(Ct))throw y.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Lt=new Ae(Xe,0,0,Ct,0,0);this.ctx.transform=this.ctx.transform.multiply(Lt)},Je.prototype.rotate=function(Xe){if(isNaN(Xe))throw y.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ct=new Ae(Math.cos(Xe),Math.sin(Xe),-Math.sin(Xe),Math.cos(Xe),0,0);this.ctx.transform=this.ctx.transform.multiply(Ct)},Je.prototype.translate=function(Xe,Ct){if(isNaN(Xe)||isNaN(Ct))throw y.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Lt=new Ae(1,0,0,1,Xe,Ct);this.ctx.transform=this.ctx.transform.multiply(Lt)},Je.prototype.transform=function(Xe,Ct,Lt,Wt,Xt,mr){if(isNaN(Xe)||isNaN(Ct)||isNaN(Lt)||isNaN(Wt)||isNaN(Xt)||isNaN(mr))throw y.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Pr=new Ae(Xe,Ct,Lt,Wt,Xt,mr);this.ctx.transform=this.ctx.transform.multiply(Pr)},Je.prototype.setTransform=function(Xe,Ct,Lt,Wt,Xt,mr){Xe=isNaN(Xe)?1:Xe,Ct=isNaN(Ct)?0:Ct,Lt=isNaN(Lt)?0:Lt,Wt=isNaN(Wt)?1:Wt,Xt=isNaN(Xt)?0:Xt,mr=isNaN(mr)?0:mr,this.ctx.transform=new Ae(Xe,Ct,Lt,Wt,Xt,mr)};var ot=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Je.prototype.drawImage=function(Xe,Ct,Lt,Wt,Xt,mr,Pr,Ir,Zr){var pn=this.pdf.getImageProperties(Xe),jn=1,Fn=1,yi=1,vt=1;Wt!==void 0&&Ir!==void 0&&(yi=Ir/Wt,vt=Zr/Xt,jn=pn.width/Wt*Ir/Wt,Fn=pn.height/Xt*Zr/Xt),mr===void 0&&(mr=Ct,Pr=Lt,Ct=0,Lt=0),Wt!==void 0&&Ir===void 0&&(Ir=Wt,Zr=Xt),Wt===void 0&&Ir===void 0&&(Ir=pn.width,Zr=pn.height);var Cn=this.ctx.transform.decompose(),Ri=ur(Cn.rotate.shx),Nn=new Ae,ln=(Nn=(Nn=(Nn=Nn.multiply(Cn.translate)).multiply(Cn.skew)).multiply(Cn.scale)).applyToRectangle(new fe(mr-Ct*yi,Pr-Lt*vt,Wt*jn,Xt*Fn));if(this.autoPaging){for(var Ni,Hn=Nt.call(this,ln),Vn=[],zn=0;zn<Hn.length;zn+=1)Vn.indexOf(Hn[zn])===-1&&Vn.push(Hn[zn]);qt(Vn);for(var ga=Vn[0],Di=Vn[Vn.length-1],qn=ga;qn<Di+1;qn++){this.pdf.setPage(qn);var ns=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Si=qn===1?this.posY+this.margin[0]:this.margin[0],Qn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Li=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xn=qn===1?0:Qn+(qn-2)*Li;if(this.ctx.clip_path.length!==0){var Gi=this.path;Ni=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ot(Ni,this.posX+this.margin[3],-Xn+Si+this.ctx.prevPageLastElemOffset),rt.call(this,"fill",!0),this.path=Gi}var is=JSON.parse(JSON.stringify(ln));is=Ot([is],this.posX+this.margin[3],-Xn+Si+this.ctx.prevPageLastElemOffset)[0];var Zi=(qn>ga||qn<Di)&&ot.call(this);Zi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ns,Li,null).clip().discardPath()),this.pdf.addImage(Xe,"JPEG",is.x,is.y,is.w,is.h,null,null,Ri),Zi&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Xe,"JPEG",ln.x,ln.y,ln.w,ln.h,null,null,Ri)};var Nt=function(Xe,Ct,Lt){var Wt=[];Ct=Ct||this.pdf.internal.pageSize.width,Lt=Lt||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Xt=this.posY+this.ctx.prevPageLastElemOffset;switch(Xe.type){default:case"mt":case"lt":Wt.push(Math.floor((Xe.y+Xt)/Lt)+1);break;case"arc":Wt.push(Math.floor((Xe.y+Xt-Xe.radius)/Lt)+1),Wt.push(Math.floor((Xe.y+Xt+Xe.radius)/Lt)+1);break;case"qct":var mr=Rr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Xe.x1,Xe.y1,Xe.x,Xe.y);Wt.push(Math.floor((mr.y+Xt)/Lt)+1),Wt.push(Math.floor((mr.y+mr.h+Xt)/Lt)+1);break;case"bct":var Pr=gn(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Xe.x1,Xe.y1,Xe.x2,Xe.y2,Xe.x,Xe.y);Wt.push(Math.floor((Pr.y+Xt)/Lt)+1),Wt.push(Math.floor((Pr.y+Pr.h+Xt)/Lt)+1);break;case"rect":Wt.push(Math.floor((Xe.y+Xt)/Lt)+1),Wt.push(Math.floor((Xe.y+Xe.h+Xt)/Lt)+1)}for(var Ir=0;Ir<Wt.length;Ir+=1)for(;this.pdf.internal.getNumberOfPages()<Wt[Ir];)nt.call(this);return Wt},nt=function(){var Xe=this.fillStyle,Ct=this.strokeStyle,Lt=this.font,Wt=this.lineCap,Xt=this.lineWidth,mr=this.lineJoin;this.pdf.addPage(),this.fillStyle=Xe,this.strokeStyle=Ct,this.font=Lt,this.lineCap=Wt,this.lineWidth=Xt,this.lineJoin=mr},Ot=function(Xe,Ct,Lt){for(var Wt=0;Wt<Xe.length;Wt++)switch(Xe[Wt].type){case"bct":Xe[Wt].x2+=Ct,Xe[Wt].y2+=Lt;case"qct":Xe[Wt].x1+=Ct,Xe[Wt].y1+=Lt;default:Xe[Wt].x+=Ct,Xe[Wt].y+=Lt}return Xe},qt=function(Xe){return Xe.sort(function(Ct,Lt){return Ct-Lt})},It=function(Xe,Ct){var Lt=this.fillStyle,Wt=this.strokeStyle,Xt=this.lineCap,mr=this.lineWidth,Pr=Math.abs(mr*this.ctx.transform.scaleX),Ir=this.lineJoin;if(this.autoPaging){for(var Zr,pn,jn=JSON.parse(JSON.stringify(this.path)),Fn=JSON.parse(JSON.stringify(this.path)),yi=[],vt=0;vt<Fn.length;vt++)if(Fn[vt].x!==void 0)for(var Cn=Nt.call(this,Fn[vt]),Ri=0;Ri<Cn.length;Ri+=1)yi.indexOf(Cn[Ri])===-1&&yi.push(Cn[Ri]);for(var Nn=0;Nn<yi.length;Nn++)for(;this.pdf.internal.getNumberOfPages()<yi[Nn];)nt.call(this);qt(yi);for(var ln=yi[0],Ni=yi[yi.length-1],Hn=ln;Hn<Ni+1;Hn++){this.pdf.setPage(Hn),this.fillStyle=Lt,this.strokeStyle=Wt,this.lineCap=Xt,this.lineWidth=Pr,this.lineJoin=Ir;var Vn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zn=Hn===1?this.posY+this.margin[0]:this.margin[0],ga=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Di=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qn=Hn===1?0:ga+(Hn-2)*Di;if(this.ctx.clip_path.length!==0){var ns=this.path;Zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ot(Zr,this.posX+this.margin[3],-qn+zn+this.ctx.prevPageLastElemOffset),rt.call(this,Xe,!0),this.path=ns}if(pn=JSON.parse(JSON.stringify(jn)),this.path=Ot(pn,this.posX+this.margin[3],-qn+zn+this.ctx.prevPageLastElemOffset),Ct===!1||Hn===0){var Si=(Hn>ln||Hn<Ni)&&ot.call(this);Si&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vn,Di,null).clip().discardPath()),rt.call(this,Xe,Ct),Si&&this.pdf.restoreGraphicsState()}this.lineWidth=mr}this.path=jn}else this.lineWidth=Pr,rt.call(this,Xe,Ct),this.lineWidth=mr},rt=function(Xe,Ct){if((Xe!=="stroke"||Ct||!jt.call(this))&&(Xe==="stroke"||Ct||!Te.call(this))){for(var Lt,Wt,Xt=[],mr=this.path,Pr=0;Pr<mr.length;Pr++){var Ir=mr[Pr];switch(Ir.type){case"begin":Xt.push({begin:!0});break;case"close":Xt.push({close:!0});break;case"mt":Xt.push({start:Ir,deltas:[],abs:[]});break;case"lt":var Zr=Xt.length;if(mr[Pr-1]&&!isNaN(mr[Pr-1].x)&&(Lt=[Ir.x-mr[Pr-1].x,Ir.y-mr[Pr-1].y],Zr>0)){for(;Zr>=0;Zr--)if(Xt[Zr-1].close!==!0&&Xt[Zr-1].begin!==!0){Xt[Zr-1].deltas.push(Lt),Xt[Zr-1].abs.push(Ir);break}}break;case"bct":Lt=[Ir.x1-mr[Pr-1].x,Ir.y1-mr[Pr-1].y,Ir.x2-mr[Pr-1].x,Ir.y2-mr[Pr-1].y,Ir.x-mr[Pr-1].x,Ir.y-mr[Pr-1].y],Xt[Xt.length-1].deltas.push(Lt);break;case"qct":var pn=mr[Pr-1].x+2/3*(Ir.x1-mr[Pr-1].x),jn=mr[Pr-1].y+2/3*(Ir.y1-mr[Pr-1].y),Fn=Ir.x+2/3*(Ir.x1-Ir.x),yi=Ir.y+2/3*(Ir.y1-Ir.y),vt=Ir.x,Cn=Ir.y;Lt=[pn-mr[Pr-1].x,jn-mr[Pr-1].y,Fn-mr[Pr-1].x,yi-mr[Pr-1].y,vt-mr[Pr-1].x,Cn-mr[Pr-1].y],Xt[Xt.length-1].deltas.push(Lt);break;case"arc":Xt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Xt[Xt.length-1].abs)&&Xt[Xt.length-1].abs.push(Ir)}}Wt=Ct?null:Xe==="stroke"?"stroke":"fill";for(var Ri=!1,Nn=0;Nn<Xt.length;Nn++)if(Xt[Nn].arc)for(var ln=Xt[Nn].abs,Ni=0;Ni<ln.length;Ni++){var Hn=ln[Ni];Hn.type==="arc"?lr.call(this,Hn.x,Hn.y,Hn.radius,Hn.startAngle,Hn.endAngle,Hn.counterclockwise,void 0,Ct,!Ri):Rt.call(this,Hn.x,Hn.y),Ri=!0}else if(Xt[Nn].close===!0)this.pdf.internal.out("h"),Ri=!1;else if(Xt[Nn].begin!==!0){var Vn=Xt[Nn].start.x,zn=Xt[Nn].start.y;Dt.call(this,Xt[Nn].deltas,Vn,zn),Ri=!0}Wt&&Mt.call(this,Wt),Ct&&_r.call(this)}},Kt=function(Xe){var Ct=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Lt=Ct*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Xe-Lt;case"top":return Xe+Ct-Lt;case"hanging":return Xe+Ct-2*Lt;case"middle":return Xe+Ct/2-Lt;default:return Xe}},Nr=function(Xe){return Xe+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Je.prototype.createLinearGradient=function(){var Xe=function(){};return Xe.colorStops=[],Xe.addColorStop=function(Ct,Lt){this.colorStops.push([Ct,Lt])},Xe.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Xe.isCanvasGradient=!0,Xe},Je.prototype.createPattern=function(){return this.createLinearGradient()},Je.prototype.createRadialGradient=function(){return this.createLinearGradient()};var lr=function(Xe,Ct,Lt,Wt,Xt,mr,Pr,Ir,Zr){for(var pn=Br.call(this,Lt,Wt,Xt,mr),jn=0;jn<pn.length;jn++){var Fn=pn[jn];jn===0&&(Zr?at.call(this,Fn.x1+Xe,Fn.y1+Ct):Rt.call(this,Fn.x1+Xe,Fn.y1+Ct)),xr.call(this,Xe,Ct,Fn.x2,Fn.y2,Fn.x3,Fn.y3,Fn.x4,Fn.y4)}Ir?_r.call(this):Mt.call(this,Pr)},Mt=function(Xe){switch(Xe){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_r=function(){this.pdf.clip(),this.pdf.discardPath()},at=function(Xe,Ct){this.pdf.internal.out(F(Xe)+" "+G(Ct)+" m")},At=function(Xe){var Ct;switch(Xe.align){case"right":case"end":Ct="right";break;case"center":Ct="center";break;default:Ct="left"}var Lt,Wt,Xt,mr=this.pdf.getTextDimensions(Xe.text),Pr=Kt.call(this,Xe.y),Ir=Nr.call(this,Pr)-mr.h,Zr=this.ctx.transform.applyToPoint(new xe(Xe.x,Pr));if(this.autoPaging){var pn=this.ctx.transform.decompose(),jn=new Ae;jn=(jn=(jn=jn.multiply(pn.translate)).multiply(pn.skew)).multiply(pn.scale);for(var Fn=this.ctx.transform.applyToRectangle(new fe(Xe.x,Pr,mr.w,mr.h)),yi=jn.applyToRectangle(new fe(Xe.x,Ir,mr.w,mr.h)),vt=Nt.call(this,yi),Cn=[],Ri=0;Ri<vt.length;Ri+=1)Cn.indexOf(vt[Ri])===-1&&Cn.push(vt[Ri]);qt(Cn);for(var Nn=Cn[0],ln=Cn[Cn.length-1],Ni=Nn;Ni<ln+1;Ni++){this.pdf.setPage(Ni);var Hn=Ni===1?this.posY+this.margin[0]:this.margin[0],Vn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zn=this.pdf.internal.pageSize.height-this.margin[2],ga=zn-this.margin[0],Di=this.pdf.internal.pageSize.width-this.margin[1],qn=Di-this.margin[3],ns=Ni===1?0:Vn+(Ni-2)*ga;if(this.ctx.clip_path.length!==0){var Si=this.path;Lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ot(Lt,this.posX+this.margin[3],-1*ns+Hn),rt.call(this,"fill",!0),this.path=Si}var Qn=Ot([JSON.parse(JSON.stringify(yi))],this.posX+this.margin[3],-ns+Hn+this.ctx.prevPageLastElemOffset)[0];Xe.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Xe.scale),Xt=this.lineWidth,this.lineWidth=Xt*Xe.scale);var Li=this.autoPaging!=="text";if(Li||Qn.y+Qn.h<=zn){if(Li||Qn.y>=Hn&&Qn.x<=Di){var Xn=Li?Xe.text:this.pdf.splitTextToSize(Xe.text,Xe.maxWidth||Di-Qn.x)[0],Gi=Ot([JSON.parse(JSON.stringify(Fn))],this.posX+this.margin[3],-ns+Hn+this.ctx.prevPageLastElemOffset)[0],is=Li&&(Ni>Nn||Ni<ln)&&ot.call(this);is&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qn,ga,null).clip().discardPath()),this.pdf.text(Xn,Gi.x,Gi.y,{angle:Xe.angle,align:Ct,renderingMode:Xe.renderingMode}),is&&this.pdf.restoreGraphicsState()}}else Qn.y<zn&&(this.ctx.prevPageLastElemOffset+=zn-Qn.y);Xe.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=Xt)}}else Xe.scale>=.01&&(Wt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wt*Xe.scale),Xt=this.lineWidth,this.lineWidth=Xt*Xe.scale),this.pdf.text(Xe.text,Zr.x+this.posX,Zr.y+this.posY,{angle:Xe.angle,align:Ct,renderingMode:Xe.renderingMode,maxWidth:Xe.maxWidth}),Xe.scale>=.01&&(this.pdf.setFontSize(Wt),this.lineWidth=Xt)},Rt=function(Xe,Ct,Lt,Wt){Lt=Lt||0,Wt=Wt||0,this.pdf.internal.out(F(Xe+Lt)+" "+G(Ct+Wt)+" l")},Dt=function(Xe,Ct,Lt){return this.pdf.lines(Xe,Ct,Lt,null,null)},xr=function(Xe,Ct,Lt,Wt,Xt,mr,Pr,Ir){this.pdf.internal.out([k(Z(Lt+Xe)),k(re(Wt+Ct)),k(Z(Xt+Xe)),k(re(mr+Ct)),k(Z(Pr+Xe)),k(re(Ir+Ct)),"c"].join(" "))},Br=function(Xe,Ct,Lt,Wt){for(var Xt=2*Math.PI,mr=Math.PI/2;Ct>Lt;)Ct-=Xt;var Pr=Math.abs(Lt-Ct);Pr<Xt&&Wt&&(Pr=Xt-Pr);for(var Ir=[],Zr=Wt?-1:1,pn=Ct;Pr>1e-5;){var jn=pn+Zr*Math.min(Pr,mr);Ir.push(Mr.call(this,Xe,pn,jn)),Pr-=Math.abs(jn-pn),pn=jn}return Ir},Mr=function(Xe,Ct,Lt){var Wt=(Lt-Ct)/2,Xt=Xe*Math.cos(Wt),mr=Xe*Math.sin(Wt),Pr=Xt,Ir=-mr,Zr=Pr*Pr+Ir*Ir,pn=Zr+Pr*Xt+Ir*mr,jn=4/3*(Math.sqrt(2*Zr*pn)-pn)/(Pr*mr-Ir*Xt),Fn=Pr-jn*Ir,yi=Ir+jn*Pr,vt=Fn,Cn=-yi,Ri=Wt+Ct,Nn=Math.cos(Ri),ln=Math.sin(Ri);return{x1:Xe*Math.cos(Ct),y1:Xe*Math.sin(Ct),x2:Fn*Nn-yi*ln,y2:Fn*ln+yi*Nn,x3:vt*Nn-Cn*ln,y3:vt*ln+Cn*Nn,x4:Xe*Math.cos(Lt),y4:Xe*Math.sin(Lt)}},ur=function(Xe){return 180*Xe/Math.PI},Rr=function(Xe,Ct,Lt,Wt,Xt,mr){var Pr=Xe+.5*(Lt-Xe),Ir=Ct+.5*(Wt-Ct),Zr=Xt+.5*(Lt-Xt),pn=mr+.5*(Wt-mr),jn=Math.min(Xe,Xt,Pr,Zr),Fn=Math.max(Xe,Xt,Pr,Zr),yi=Math.min(Ct,mr,Ir,pn),vt=Math.max(Ct,mr,Ir,pn);return new fe(jn,yi,Fn-jn,vt-yi)},gn=function(Xe,Ct,Lt,Wt,Xt,mr,Pr,Ir){var Zr,pn,jn,Fn,yi,vt,Cn,Ri,Nn,ln,Ni,Hn,Vn,zn,ga=Lt-Xe,Di=Wt-Ct,qn=Xt-Lt,ns=mr-Wt,Si=Pr-Xt,Qn=Ir-mr;for(pn=0;pn<41;pn++)Nn=(Cn=(jn=Xe+(Zr=pn/40)*ga)+Zr*((yi=Lt+Zr*qn)-jn))+Zr*(yi+Zr*(Xt+Zr*Si-yi)-Cn),ln=(Ri=(Fn=Ct+Zr*Di)+Zr*((vt=Wt+Zr*ns)-Fn))+Zr*(vt+Zr*(mr+Zr*Qn-vt)-Ri),pn==0?(Ni=Nn,Hn=ln,Vn=Nn,zn=ln):(Ni=Math.min(Ni,Nn),Hn=Math.min(Hn,ln),Vn=Math.max(Vn,Nn),zn=Math.max(zn,ln));return new fe(Math.round(Ni),Math.round(Hn),Math.round(Vn-Ni),Math.round(zn-Hn))},an=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Xe,Ct,Lt=(Xe=this.ctx.lineDash,Ct=this.ctx.lineDashOffset,JSON.stringify({lineDash:Xe,lineDashOffset:Ct}));this.prevLineDash!==Lt&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Lt)}}})(Ye.API),(function(P){var k=function(xe){var fe,Ae,ke,Ve,Je,lt,Te,jt,ot,Nt;for(Ae=[],ke=0,Ve=(xe+=fe="\0\0\0\0".slice(xe.length%4||4)).length;Ve>ke;ke+=4)(Je=(xe.charCodeAt(ke)<<24)+(xe.charCodeAt(ke+1)<<16)+(xe.charCodeAt(ke+2)<<8)+xe.charCodeAt(ke+3))!==0?(lt=(Je=((Je=((Je=((Je=(Je-(Nt=Je%85))/85)-(ot=Je%85))/85)-(jt=Je%85))/85)-(Te=Je%85))/85)%85,Ae.push(lt+33,Te+33,jt+33,ot+33,Nt+33)):Ae.push(122);return(function(nt,Ot){for(var qt=Ot;qt>0;qt--)nt.pop()})(Ae,fe.length),String.fromCharCode.apply(String,Ae)+"~>"},F=function(xe){var fe,Ae,ke,Ve,Je,lt=String,Te="length",jt=255,ot="charCodeAt",Nt="slice",nt="replace";for(xe[Nt](-2),xe=xe[Nt](0,-2)[nt](/\s/g,"")[nt]("z","!!!!!"),ke=[],Ve=0,Je=(xe+=fe="uuuuu"[Nt](xe[Te]%5||5))[Te];Je>Ve;Ve+=5)Ae=52200625*(xe[ot](Ve)-33)+614125*(xe[ot](Ve+1)-33)+7225*(xe[ot](Ve+2)-33)+85*(xe[ot](Ve+3)-33)+(xe[ot](Ve+4)-33),ke.push(jt&Ae>>24,jt&Ae>>16,jt&Ae>>8,jt&Ae);return(function(Ot,qt){for(var It=qt;It>0;It--)Ot.pop()})(ke,fe[Te]),lt.fromCharCode.apply(lt,ke)},G=function(xe){return xe.split("").map(function(fe){return("0"+fe.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Z=function(xe){var fe=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((xe=xe.replace(/\s/g,"")).indexOf(">")!==-1&&(xe=xe.substr(0,xe.indexOf(">"))),xe.length%2&&(xe+="0"),fe.test(xe)===!1)return"";for(var Ae="",ke=0;ke<xe.length;ke+=2)Ae+=String.fromCharCode("0x"+(xe[ke]+xe[ke+1]));return Ae},re=function(xe){for(var fe=new Uint8Array(xe.length),Ae=xe.length;Ae--;)fe[Ae]=xe.charCodeAt(Ae);return(fe=(0,f.zlibSync)(fe)).reduce(function(ke,Ve){return ke+String.fromCharCode(Ve)},"")};P.processDataByFilters=function(xe,fe){var Ae=0,ke=xe||"",Ve=[];for(typeof(fe=fe||[])=="string"&&(fe=[fe]),Ae=0;Ae<fe.length;Ae+=1)switch(fe[Ae]){case"ASCII85Decode":case"/ASCII85Decode":ke=F(ke),Ve.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ke=k(ke),Ve.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ke=Z(ke),Ve.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ke=G(ke),Ve.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ke=re(ke),Ve.push("/FlateDecode");break;default:throw new Error('The filter: "'+fe[Ae]+'" is not implemented')}return{data:ke,reverseChain:Ve.reverse().join(" ")}}})(Ye.API),(function(P){P.loadFile=function(k,F,G){return(function(Z,re,xe){re=re!==!1,xe=typeof xe=="function"?xe:function(){};var fe=void 0;try{fe=(function(Ae,ke,Ve){var Je=new XMLHttpRequest,lt=0,Te=function(jt){var ot=jt.length,Nt=[],nt=String.fromCharCode;for(lt=0;lt<ot;lt+=1)Nt.push(nt(255&jt.charCodeAt(lt)));return Nt.join("")};if(Je.open("GET",Ae,!ke),Je.overrideMimeType("text/plain; charset=x-user-defined"),ke===!1&&(Je.onload=function(){Je.status===200?Ve(Te(this.responseText)):Ve(void 0)}),Je.send(null),ke&&Je.status===200)return Te(Je.responseText)})(Z,re,xe)}catch{}return fe})(k,F,G)},P.allowFsRead=void 0,P.loadImageFile=P.loadFile})(Ye.API),(function(P){function k(){return(g.html2canvas?Promise.resolve(g.html2canvas):Promise.resolve().then(l.t.bind(l,"html2canvas",23))).catch(function(fe){return Promise.reject(new Error("Could not load html2canvas: "+fe))}).then(function(fe){return fe.default?fe.default:fe})}function F(){return(g.DOMPurify?Promise.resolve(g.DOMPurify):Promise.resolve().then(l.bind(l,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(fe){return Promise.reject(new Error("Could not load dompurify: "+fe))}).then(function(fe){return fe.default?fe.default:fe})}var G=function(fe){var Ae=(0,d.default)(fe);return Ae==="undefined"?"undefined":Ae==="string"||fe instanceof String?"string":Ae==="number"||fe instanceof Number?"number":Ae==="function"||fe instanceof Function?"function":fe&&fe.constructor===Array?"array":fe&&fe.nodeType===1?"element":Ae==="object"?"object":"unknown"},Z=function(fe,Ae){var ke=document.createElement(fe);for(var Ve in Ae.className&&(ke.className=Ae.className),Ae.innerHTML&&Ae.dompurify&&(ke.innerHTML=Ae.dompurify.sanitize(Ae.innerHTML)),Ae.style)ke.style[Ve]=Ae.style[Ve];return ke},re=function fe(Ae,ke){for(var Ve=Ae.nodeType===3?document.createTextNode(Ae.nodeValue):Ae.cloneNode(!1),Je=Ae.firstChild;Je;Je=Je.nextSibling)ke!==!0&&Je.nodeType===1&&Je.nodeName==="SCRIPT"||Ve.appendChild(fe(Je,ke));return Ae.nodeType===1&&(Ae.nodeName==="CANVAS"?(Ve.width=Ae.width,Ve.height=Ae.height,Ve.getContext("2d").drawImage(Ae,0,0)):Ae.nodeName!=="TEXTAREA"&&Ae.nodeName!=="SELECT"||(Ve.value=Ae.value),Ve.addEventListener("load",function(){Ve.scrollTop=Ae.scrollTop,Ve.scrollLeft=Ae.scrollLeft},!0)),Ve},xe=function fe(Ae){var ke=Object.assign(fe.convert(Promise.resolve()),JSON.parse(JSON.stringify(fe.template))),Ve=fe.convert(Promise.resolve(),ke);return(Ve=Ve.setProgress(1,fe,1,[fe])).set(Ae)};(xe.prototype=Object.create(Promise.prototype)).constructor=xe,xe.convert=function(fe,Ae){return fe.__proto__=Ae||xe.prototype,fe},xe.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},xe.prototype.from=function(fe,Ae){return this.then(function(){switch(Ae=Ae||(function(ke){switch(G(ke)){case"string":return"string";case"element":return ke.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(fe),Ae){case"string":return this.then(F).then(function(ke){return this.set({src:Z("div",{innerHTML:fe,dompurify:ke})})});case"element":return this.set({src:fe});case"canvas":return this.set({canvas:fe});case"img":return this.set({img:fe});default:return this.error("Unknown source type.")}})},xe.prototype.to=function(fe){switch(fe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},xe.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var fe={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Ae=re(this.prop.src,this.opt.html2canvas.javascriptEnabled);Ae.tagName==="BODY"&&(fe.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Z("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Z("div",{className:"html2pdf__container",style:fe}),this.prop.container.appendChild(Ae),this.prop.container.firstChild.appendChild(Z("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},xe.prototype.toCanvas=function(){var fe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(fe).then(k).then(function(Ae){var ke=Object.assign({},this.opt.html2canvas);return delete ke.onrendered,Ae(this.prop.container,ke)}).then(function(Ae){(this.opt.html2canvas.onrendered||function(){})(Ae),this.prop.canvas=Ae,document.body.removeChild(this.prop.overlay)})},xe.prototype.toContext2d=function(){var fe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(fe).then(k).then(function(Ae){var ke=this.opt.jsPDF,Ve=this.opt.fontFaces,Je=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,lt=Object.assign({async:!0,allowTaint:!0,scale:Je,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete lt.onrendered,ke.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ke.context2d.posX=this.opt.x,ke.context2d.posY=this.opt.y,ke.context2d.margin=this.opt.margin,ke.context2d.fontFaces=Ve,Ve)for(var Te=0;Te<Ve.length;++Te){var jt=Ve[Te],ot=jt.src.find(function(Nt){return Nt.format==="truetype"});ot&&ke.addFont(ot.url,jt.ref.name,jt.ref.style)}return lt.windowHeight=lt.windowHeight||0,lt.windowHeight=lt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):lt.windowHeight,ke.context2d.save(!0),Ae(this.prop.container,lt)}).then(function(Ae){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Ae),this.prop.canvas=Ae,document.body.removeChild(this.prop.overlay)})},xe.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var fe=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=fe})},xe.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},xe.prototype.output=function(fe,Ae,ke){return(ke=ke||"pdf").toLowerCase()==="img"||ke.toLowerCase()==="image"?this.outputImg(fe,Ae):this.outputPdf(fe,Ae)},xe.prototype.outputPdf=function(fe,Ae){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(fe,Ae)})},xe.prototype.outputImg=function(fe){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(fe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+fe+'" is not supported.'}})},xe.prototype.save=function(fe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(fe?{filename:fe}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},xe.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},xe.prototype.set=function(fe){if(G(fe)!=="object")return this;var Ae=Object.keys(fe||{}).map(function(ke){if(ke in xe.template.prop)return function(){this.prop[ke]=fe[ke]};switch(ke){case"margin":return this.setMargin.bind(this,fe.margin);case"jsPDF":return function(){return this.opt.jsPDF=fe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,fe.pageSize);default:return function(){this.opt[ke]=fe[ke]}}},this);return this.then(function(){return this.thenList(Ae)})},xe.prototype.get=function(fe,Ae){return this.then(function(){var ke=fe in xe.template.prop?this.prop[fe]:this.opt[fe];return Ae?Ae(ke):ke})},xe.prototype.setMargin=function(fe){return this.then(function(){switch(G(fe)){case"number":fe=[fe,fe,fe,fe];case"array":if(fe.length===2&&(fe=[fe[0],fe[1],fe[0],fe[1]]),fe.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=fe}).then(this.setPageSize)},xe.prototype.setPageSize=function(fe){function Ae(ke,Ve){return Math.floor(ke*Ve/72*96)}return this.then(function(){(fe=fe||Ye.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(fe.inner={width:fe.width-this.opt.margin[1]-this.opt.margin[3],height:fe.height-this.opt.margin[0]-this.opt.margin[2]},fe.inner.px={width:Ae(fe.inner.width,fe.k),height:Ae(fe.inner.height,fe.k)},fe.inner.ratio=fe.inner.height/fe.inner.width),this.prop.pageSize=fe})},xe.prototype.setProgress=function(fe,Ae,ke,Ve){return fe!=null&&(this.progress.val=fe),Ae!=null&&(this.progress.state=Ae),ke!=null&&(this.progress.n=ke),Ve!=null&&(this.progress.stack=Ve),this.progress.ratio=this.progress.val/this.progress.state,this},xe.prototype.updateProgress=function(fe,Ae,ke,Ve){return this.setProgress(fe?this.progress.val+fe:null,Ae||null,ke?this.progress.n+ke:null,Ve?this.progress.stack.concat(Ve):null)},xe.prototype.then=function(fe,Ae){var ke=this;return this.thenCore(fe,Ae,function(Ve,Je){return ke.updateProgress(null,null,1,[Ve]),Promise.prototype.then.call(this,function(lt){return ke.updateProgress(null,Ve),lt}).then(Ve,Je).then(function(lt){return ke.updateProgress(1),lt})})},xe.prototype.thenCore=function(fe,Ae,ke){ke=ke||Promise.prototype.then;var Ve=this;fe&&(fe=fe.bind(Ve)),Ae&&(Ae=Ae.bind(Ve));var Je=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Ve:xe.convert(Object.assign({},Ve),Promise.prototype),lt=ke.call(Je,fe,Ae);return xe.convert(lt,Ve.__proto__)},xe.prototype.thenExternal=function(fe,Ae){return Promise.prototype.then.call(this,fe,Ae)},xe.prototype.thenList=function(fe){var Ae=this;return fe.forEach(function(ke){Ae=Ae.thenCore(ke)}),Ae},xe.prototype.catch=function(fe){fe&&(fe=fe.bind(this));var Ae=Promise.prototype.catch.call(this,fe);return xe.convert(Ae,this)},xe.prototype.catchExternal=function(fe){return Promise.prototype.catch.call(this,fe)},xe.prototype.error=function(fe){return this.then(function(){throw new Error(fe)})},xe.prototype.using=xe.prototype.set,xe.prototype.saveAs=xe.prototype.save,xe.prototype.export=xe.prototype.output,xe.prototype.run=xe.prototype.then,Ye.getPageSize=function(fe,Ae,ke){if((0,d.default)(fe)==="object"){var Ve=fe;fe=Ve.orientation,Ae=Ve.unit||Ae,ke=Ve.format||ke}Ae=Ae||"mm",ke=ke||"a4",fe=(""+(fe||"P")).toLowerCase();var Je,lt=(""+ke).toLowerCase(),Te={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Ae){case"pt":Je=1;break;case"mm":Je=2.834645669291339;break;case"cm":Je=28.346456692913385;break;case"in":Je=72;break;case"px":Je=.75;break;case"pc":case"em":Je=12;break;case"ex":Je=6;break;default:throw"Invalid unit: "+Ae}var jt,ot=0,Nt=0;if(Te.hasOwnProperty(lt))ot=Te[lt][1]/Je,Nt=Te[lt][0]/Je;else try{ot=ke[1],Nt=ke[0]}catch{throw new Error("Invalid format: "+ke)}if(fe==="p"||fe==="portrait")fe="p",Nt>ot&&(jt=Nt,Nt=ot,ot=jt);else{if(fe!=="l"&&fe!=="landscape")throw"Invalid orientation: "+fe;fe="l",ot>Nt&&(jt=Nt,Nt=ot,ot=jt)}return{width:Nt,height:ot,unit:Ae,k:Je,orientation:fe}},P.html=function(fe,Ae){(Ae=Ae||{}).callback=Ae.callback||function(){},Ae.html2canvas=Ae.html2canvas||{},Ae.html2canvas.canvas=Ae.html2canvas.canvas||this.canvas,Ae.jsPDF=Ae.jsPDF||this,Ae.fontFaces=Ae.fontFaces?Ae.fontFaces.map(qs):null;var ke=new xe(Ae);return Ae.worker?ke:ke.from(fe).doCallback()}})(Ye.API),Ye.API.addJS=function(P){return Ya=P,this.internal.events.subscribe("postPutResources",function(){pl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(pl+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ra=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ya+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){pl!==void 0&&ra!==void 0&&this.internal.out("/Names <</JavaScript "+pl+" 0 R>>")}),this},(function(P){var k;P.events.push(["postPutResources",function(){var F=this,G=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Z=F.outline.render().split(/\r\n/),re=0;re<Z.length;re++){var xe=Z[re],fe=G.exec(xe);if(fe!=null){var Ae=fe[1];F.internal.newObjectDeferredBegin(Ae,!1)}F.internal.write(xe)}if(this.outline.createNamedDestinations){var ke=this.internal.pages.length,Ve=[];for(re=0;re<ke;re++){var Je=F.internal.newObject();Ve.push(Je);var lt=F.internal.getPageInfo(re+1);F.internal.write("<< /D["+lt.objId+" 0 R /XYZ null null null]>> endobj")}var Te=F.internal.newObject();for(F.internal.write("<< /Names [ "),re=0;re<Ve.length;re++)F.internal.write("(page_"+(re+1)+")"+Ve[re]+" 0 R");F.internal.write(" ] >>","endobj"),k=F.internal.newObject(),F.internal.write("<< /Dests "+Te+" 0 R"),F.internal.write(">>","endobj")}}]),P.events.push(["putCatalog",function(){var F=this;F.outline.root.children.length>0&&(F.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&F.internal.write("/Names "+k+" 0 R"))}]),P.events.push(["initialized",function(){var F=this;F.outline={createNamedDestinations:!1,root:{children:[]}},F.outline.add=function(G,Z,re){var xe={title:Z,options:re,children:[]};return G==null&&(G=this.root),G.children.push(xe),xe},F.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=F,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},F.outline.genIds_r=function(G){G.id=F.internal.newObjectDeferred();for(var Z=0;Z<G.children.length;Z++)this.genIds_r(G.children[Z])},F.outline.renderRoot=function(G){this.objStart(G),this.line("/Type /Outlines"),G.children.length>0&&(this.line("/First "+this.makeRef(G.children[0])),this.line("/Last "+this.makeRef(G.children[G.children.length-1]))),this.line("/Count "+this.count_r({count:0},G)),this.objEnd()},F.outline.renderItems=function(G){for(var Z=this.ctx.pdf.internal.getVerticalCoordinateString,re=0;re<G.children.length;re++){var xe=G.children[re];this.objStart(xe),this.line("/Title "+this.makeString(xe.title)),this.line("/Parent "+this.makeRef(G)),re>0&&this.line("/Prev "+this.makeRef(G.children[re-1])),re<G.children.length-1&&this.line("/Next "+this.makeRef(G.children[re+1])),xe.children.length>0&&(this.line("/First "+this.makeRef(xe.children[0])),this.line("/Last "+this.makeRef(xe.children[xe.children.length-1])));var fe=this.count=this.count_r({count:0},xe);if(fe>0&&this.line("/Count "+fe),xe.options&&xe.options.pageNumber){var Ae=F.internal.getPageInfo(xe.options.pageNumber);this.line("/Dest ["+Ae.objId+" 0 R /XYZ 0 "+Z(0)+" 0]")}this.objEnd()}for(var ke=0;ke<G.children.length;ke++)this.renderItems(G.children[ke])},F.outline.line=function(G){this.ctx.val+=G+`\r
`},F.outline.makeRef=function(G){return G.id+" 0 R"},F.outline.makeString=function(G){return"("+F.internal.pdfEscape(G)+")"},F.outline.objStart=function(G){this.ctx.val+=`\r
`+G.id+` 0 obj\r
<<\r
`},F.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},F.outline.count_r=function(G,Z){for(var re=0;re<Z.children.length;re++)G.count++,this.count_r(G,Z.children[re]);return G.count}}])})(Ye.API),(function(P){var k=[192,193,194,195,196,197,198,199];P.processJPEG=function(F,G,Z,re,xe,fe){var Ae,ke=this.decode.DCT_DECODE,Ve=null;if(typeof F=="string"||this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F)){switch(F=xe||F,F=this.__addimage__.isArrayBuffer(F)?new Uint8Array(F):F,Ae=(function(Je){for(var lt,Te=256*Je.charCodeAt(4)+Je.charCodeAt(5),jt=Je.length,ot={width:0,height:0,numcomponents:1},Nt=4;Nt<jt;Nt+=2){if(Nt+=Te,k.indexOf(Je.charCodeAt(Nt+1))!==-1){lt=256*Je.charCodeAt(Nt+5)+Je.charCodeAt(Nt+6),ot={width:256*Je.charCodeAt(Nt+7)+Je.charCodeAt(Nt+8),height:lt,numcomponents:Je.charCodeAt(Nt+9)};break}Te=256*Je.charCodeAt(Nt+2)+Je.charCodeAt(Nt+3)}return ot})(F=this.__addimage__.isArrayBufferView(F)?this.__addimage__.arrayBufferToBinaryString(F):F),Ae.numcomponents){case 1:fe=this.color_spaces.DEVICE_GRAY;break;case 4:fe=this.color_spaces.DEVICE_CMYK;break;case 3:fe=this.color_spaces.DEVICE_RGB}Ve={data:F,width:Ae.width,height:Ae.height,colorSpace:fe,bitsPerComponent:8,filter:ke,index:G,alias:Z}}return Ve}})(Ye.API),Ye.API.processPNG=function(P,k,F,G){if(this.__addimage__.isArrayBuffer(P)&&(P=new Uint8Array(P)),this.__addimage__.isArrayBufferView(P)){var Z,re=(0,p.decode)(P,{checkCrc:!0}),xe=re.width,fe=re.height,Ae=re.channels,ke=re.palette,Ve=re.depth;Z=ke&&Ae===1?(function(lr){for(var Mt=lr.width,_r=lr.height,at=lr.data,At=lr.palette,Rt=lr.depth,Dt=!1,xr=[],Br=[],Mr=void 0,ur=!1,Rr=0,gn=0;gn<At.length;gn++){var an=(0,m.default)(At[gn],4),Xe=an[0],Ct=an[1],Lt=an[2],Wt=an[3];xr.push(Xe,Ct,Lt),Wt!=null&&(Wt===0?(Rr++,Br.length<1&&Br.push(gn)):Wt<255&&(ur=!0))}if(ur||Rr>1){Dt=!0,Br=void 0;var Xt=Mt*_r;Mr=new Uint8Array(Xt);for(var mr=new DataView(at.buffer),Pr=0;Pr<Xt;Pr++){var Ir=Ta(mr,Pr,Rt),Zr=(0,m.default)(At[Ir],4)[3];Mr[Pr]=Zr}}else Rr===0&&(Br=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Dt?8:void 0,colorBytes:at,alphaBytes:Mr,needSMask:Dt,palette:xr,mask:Br}})(re):Ae===2||Ae===4?(function(lr){for(var Mt=lr.data,_r=lr.width,at=lr.height,At=lr.channels,Rt=lr.depth,Dt=At===2?"DeviceGray":"DeviceRGB",xr=At-1,Br=_r*at,Mr=xr,ur=Br*Mr,Rr=1*Br,gn=Math.ceil(ur*Rt/8),an=Math.ceil(Rr*Rt/8),Xe=new Uint8Array(gn),Ct=new Uint8Array(an),Lt=new DataView(Mt.buffer),Wt=new DataView(Xe.buffer),Xt=new DataView(Ct.buffer),mr=!1,Pr=0;Pr<Br;Pr++){for(var Ir=Pr*At,Zr=0;Zr<Mr;Zr++)vi(Wt,Ta(Lt,Ir+Zr,Rt),Pr*Mr+Zr,Rt);var pn=Ta(Lt,Ir+Mr,Rt);pn<(1<<Rt)-1&&(mr=!0),vi(Xt,pn,1*Pr,Rt)}return{colorSpace:Dt,colorsPerPixel:xr,sMaskBitsPerComponent:mr?Rt:void 0,colorBytes:Xe,alphaBytes:Ct,needSMask:mr}})(re):(function(lr){var Mt=lr.data,_r=lr.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:_r,colorsPerPixel:_r==="DeviceGray"?1:3,colorBytes:Mt instanceof Uint16Array?(function(at){for(var At=at.length,Rt=new Uint8Array(2*At),Dt=new DataView(Rt.buffer,Rt.byteOffset,Rt.byteLength),xr=0;xr<At;xr++)Dt.setUint16(2*xr,at[xr],!1);return Rt})(Mt):Mt,needSMask:!1}})(re);var Je,lt,Te,jt=Z,ot=jt.colorSpace,Nt=jt.colorsPerPixel,nt=jt.sMaskBitsPerComponent,Ot=jt.colorBytes,qt=jt.alphaBytes,It=jt.needSMask,rt=jt.palette,Kt=jt.mask,Nr=null;return G!==Ye.API.image_compression.NONE&&typeof f.zlibSync=="function"?(Nr=(function(lr){var Mt;switch(lr){case Ye.API.image_compression.FAST:Mt=11;break;case Ye.API.image_compression.MEDIUM:Mt=13;break;case Ye.API.image_compression.SLOW:Mt=14;break;default:Mt=12}return Mt})(G),Je=this.decode.FLATE_DECODE,lt="/Predictor ".concat(Nr," /Colors ").concat(Nt," /BitsPerComponent ").concat(Ve," /Columns ").concat(xe),P=gl(Ot,Math.ceil(xe*Nt*Ve/8),Nt,Ve,G),It&&(Te=gl(qt,Math.ceil(xe*nt/8),1,nt,G))):(Je=void 0,lt=void 0,P=Ot,It&&(Te=qt)),(this.__addimage__.isArrayBuffer(P)||this.__addimage__.isArrayBufferView(P))&&(P=this.__addimage__.arrayBufferToBinaryString(P)),(Te&&this.__addimage__.isArrayBuffer(Te)||this.__addimage__.isArrayBufferView(Te))&&(Te=this.__addimage__.arrayBufferToBinaryString(Te)),{alias:F,data:P,index:k,filter:Je,decodeParameters:lt,transparency:Kt,palette:rt,sMask:Te,predictor:Nr,width:xe,height:fe,bitsPerComponent:Ve,sMaskBitsPerComponent:nt,colorSpace:ot}}},(function(P){P.processGIF89A=function(k,F,G,Z){var re=new fs(k),xe=re.width,fe=re.height,Ae=[];re.decodeAndBlitFrameRGBA(0,Ae);var ke={data:Ae,width:xe,height:fe},Ve=new Qo(100).encode(ke,100);return P.processJPEG.call(this,Ve,F,G,Z)},P.processGIF87A=P.processGIF89A})(Ye.API),Hi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var P=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(P);for(var k=0;k<P;k++){var F=this.datav.getUint8(this.pos++,!0),G=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),re=this.datav.getUint8(this.pos++,!0);this.palette[k]={red:Z,green:G,blue:F,quad:re}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Hi.prototype.parseBGR=function(){this.pos=this.offset;try{var P="bit"+this.bitPP,k=this.width*this.height*4;this.data=new Uint8Array(k),this[P]()}catch(F){y.log("bit decode error:"+F)}},Hi.prototype.bit1=function(){var P,k=Math.ceil(this.width/8),F=k%4;for(P=this.height-1;P>=0;P--){for(var G=this.bottom_up?P:this.height-1-P,Z=0;Z<k;Z++)for(var re=this.datav.getUint8(this.pos++,!0),xe=G*this.width*4+8*Z*4,fe=0;fe<8&&8*Z+fe<this.width;fe++){var Ae=this.palette[re>>7-fe&1];this.data[xe+4*fe]=Ae.blue,this.data[xe+4*fe+1]=Ae.green,this.data[xe+4*fe+2]=Ae.red,this.data[xe+4*fe+3]=255}F!==0&&(this.pos+=4-F)}},Hi.prototype.bit4=function(){for(var P=Math.ceil(this.width/2),k=P%4,F=this.height-1;F>=0;F--){for(var G=this.bottom_up?F:this.height-1-F,Z=0;Z<P;Z++){var re=this.datav.getUint8(this.pos++,!0),xe=G*this.width*4+2*Z*4,fe=re>>4,Ae=15&re,ke=this.palette[fe];if(this.data[xe]=ke.blue,this.data[xe+1]=ke.green,this.data[xe+2]=ke.red,this.data[xe+3]=255,2*Z+1>=this.width)break;ke=this.palette[Ae],this.data[xe+4]=ke.blue,this.data[xe+4+1]=ke.green,this.data[xe+4+2]=ke.red,this.data[xe+4+3]=255}k!==0&&(this.pos+=4-k)}},Hi.prototype.bit8=function(){for(var P=this.width%4,k=this.height-1;k>=0;k--){for(var F=this.bottom_up?k:this.height-1-k,G=0;G<this.width;G++){var Z=this.datav.getUint8(this.pos++,!0),re=F*this.width*4+4*G;if(Z<this.palette.length){var xe=this.palette[Z];this.data[re]=xe.red,this.data[re+1]=xe.green,this.data[re+2]=xe.blue,this.data[re+3]=255}else this.data[re]=255,this.data[re+1]=255,this.data[re+2]=255,this.data[re+3]=255}P!==0&&(this.pos+=4-P)}},Hi.prototype.bit15=function(){for(var P=this.width%3,k=parseInt("11111",2),F=this.height-1;F>=0;F--){for(var G=this.bottom_up?F:this.height-1-F,Z=0;Z<this.width;Z++){var re=this.datav.getUint16(this.pos,!0);this.pos+=2;var xe=(re&k)/k*255|0,fe=(re>>5&k)/k*255|0,Ae=(re>>10&k)/k*255|0,ke=re>>15?255:0,Ve=G*this.width*4+4*Z;this.data[Ve]=Ae,this.data[Ve+1]=fe,this.data[Ve+2]=xe,this.data[Ve+3]=ke}this.pos+=P}},Hi.prototype.bit16=function(){for(var P=this.width%3,k=parseInt("11111",2),F=parseInt("111111",2),G=this.height-1;G>=0;G--){for(var Z=this.bottom_up?G:this.height-1-G,re=0;re<this.width;re++){var xe=this.datav.getUint16(this.pos,!0);this.pos+=2;var fe=(xe&k)/k*255|0,Ae=(xe>>5&F)/F*255|0,ke=(xe>>11)/k*255|0,Ve=Z*this.width*4+4*re;this.data[Ve]=ke,this.data[Ve+1]=Ae,this.data[Ve+2]=fe,this.data[Ve+3]=255}this.pos+=P}},Hi.prototype.bit24=function(){for(var P=this.height-1;P>=0;P--){for(var k=this.bottom_up?P:this.height-1-P,F=0;F<this.width;F++){var G=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),re=this.datav.getUint8(this.pos++,!0),xe=k*this.width*4+4*F;this.data[xe]=re,this.data[xe+1]=Z,this.data[xe+2]=G,this.data[xe+3]=255}this.pos+=this.width%4}},Hi.prototype.bit32=function(){for(var P=this.height-1;P>=0;P--)for(var k=this.bottom_up?P:this.height-1-P,F=0;F<this.width;F++){var G=this.datav.getUint8(this.pos++,!0),Z=this.datav.getUint8(this.pos++,!0),re=this.datav.getUint8(this.pos++,!0),xe=this.datav.getUint8(this.pos++,!0),fe=k*this.width*4+4*F;this.data[fe]=re,this.data[fe+1]=Z,this.data[fe+2]=G,this.data[fe+3]=xe}},Hi.prototype.getData=function(){return this.data},(function(P){P.processBMP=function(k,F,G,Z){var re=new Hi(k,!1),xe=re.width,fe=re.height,Ae={data:re.getData(),width:xe,height:fe},ke=new Qo(100).encode(Ae,100);return P.processJPEG.call(this,ke,F,G,Z)}})(Ye.API),zo.prototype.getData=function(){return this.data},(function(P){P.processWEBP=function(k,F,G,Z){var re=new zo(k),xe=re.width,fe=re.height,Ae={data:re.getData(),width:xe,height:fe},ke=new Qo(100).encode(Ae,100);return P.processJPEG.call(this,ke,F,G,Z)}})(Ye.API),Ye.API.processRGBA=function(P,k,F){for(var G=P.data,Z=G.length,re=new Uint8Array(Z/4*3),xe=new Uint8Array(Z/4),fe=0,Ae=0,ke=0;ke<Z;ke+=4){var Ve=G[ke],Je=G[ke+1],lt=G[ke+2],Te=G[ke+3];re[fe++]=Ve,re[fe++]=Je,re[fe++]=lt,xe[Ae++]=Te}var jt=this.__addimage__.arrayBufferToBinaryString(re);return{alpha:this.__addimage__.arrayBufferToBinaryString(xe),data:jt,index:k,alias:F,colorSpace:"DeviceRGB",bitsPerComponent:8,width:P.width,height:P.height}},Ye.API.setLanguage=function(P){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[P]!==void 0&&(this.internal.languageSettings.languageCode=P,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ws=Ye.API,ba=Ws.getCharWidthsArray=function(P,k){var F,G,Z=(k=k||{}).font||this.internal.getFont(),re=k.fontSize||this.internal.getFontSize(),xe=k.charSpace||this.internal.getCharSpace(),fe=k.widths?k.widths:Z.metadata.Unicode.widths,Ae=fe.fof?fe.fof:1,ke=k.kerning?k.kerning:Z.metadata.Unicode.kerning,Ve=ke.fof?ke.fof:1,Je=k.doKerning!==!1,lt=0,Te=P.length,jt=0,ot=fe[0]||Ae,Nt=[];for(F=0;F<Te;F++)G=P.charCodeAt(F),typeof Z.metadata.widthOfString=="function"?Nt.push((Z.metadata.widthOfGlyph(Z.metadata.characterToGlyph(G))+xe*(1e3/re)||0)/1e3):(lt=Je&&(0,d.default)(ke[G])==="object"&&!isNaN(parseInt(ke[G][jt],10))?ke[G][jt]/Ve:0,Nt.push((fe[G]||ot)/Ae+lt)),jt=G;return Nt},$s=Ws.getStringUnitWidth=function(P,k){var F=(k=k||{}).fontSize||this.internal.getFontSize(),G=k.font||this.internal.getFont(),Z=k.charSpace||this.internal.getCharSpace();return Ws.processArabic&&(P=Ws.processArabic(P)),typeof G.metadata.widthOfString=="function"?G.metadata.widthOfString(P,F,Z)/F:ba.apply(this,arguments).reduce(function(re,xe){return re+xe},0)},Il=function(P,k,F,G){for(var Z=[],re=0,xe=P.length,fe=0;re!==xe&&fe+k[re]<F;)fe+=k[re],re++;Z.push(P.slice(0,re));var Ae=re;for(fe=0;re!==xe;)fe+k[re]>G&&(Z.push(P.slice(Ae,re)),fe=0,Ae=re),fe+=k[re],re++;return Ae!==re&&Z.push(P.slice(Ae,re)),Z},vo=function(P,k,F){F||(F={});var G,Z,re,xe,fe,Ae,ke,Ve=[],Je=[Ve],lt=F.textIndent||0,Te=0,jt=0,ot=P.split(" "),Nt=ba.apply(this,[" ",F])[0];if(Ae=F.lineIndent===-1?ot[0].length+2:F.lineIndent||0){var nt=Array(Ae).join(" "),Ot=[];ot.map(function(It){(It=It.split(/\s*\n/)).length>1?Ot=Ot.concat(It.map(function(rt,Kt){return(Kt&&rt.length?`
`:"")+rt})):Ot.push(It[0])}),ot=Ot,Ae=$s.apply(this,[nt,F])}for(re=0,xe=ot.length;re<xe;re++){var qt=0;if(G=ot[re],Ae&&G[0]==`
`&&(G=G.substr(1),qt=1),lt+Te+(jt=(Z=ba.apply(this,[G,F])).reduce(function(It,rt){return It+rt},0))>k||qt){if(jt>k){for(fe=Il.apply(this,[G,Z,k-(lt+Te),k]),Ve.push(fe.shift()),Ve=[fe.pop()];fe.length;)Je.push([fe.shift()]);jt=Z.slice(G.length-(Ve[0]?Ve[0].length:0)).reduce(function(It,rt){return It+rt},0)}else Ve=[G];Je.push(Ve),lt=jt+Ae,Te=Nt}else Ve.push(G),lt+=Te+jt,Te=Nt}return ke=Ae?function(It,rt){return(rt?nt:"")+It.join(" ")}:function(It){return It.join(" ")},Je.map(ke)},Ws.splitTextToSize=function(P,k,F){var G,Z=(F=F||{}).fontSize||this.internal.getFontSize(),re=(function(Ve){if(Ve.widths&&Ve.kerning)return{widths:Ve.widths,kerning:Ve.kerning};var Je=this.internal.getFont(Ve.fontName,Ve.fontStyle),lt="Unicode";return Je.metadata[lt]?{widths:Je.metadata[lt].widths||{0:1},kerning:Je.metadata[lt].kerning||{}}:{font:Je.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,F);G=Array.isArray(P)?P:String(P).split(/\r?\n/);var xe=1*this.internal.scaleFactor*k/Z;re.textIndent=F.textIndent?1*F.textIndent*this.internal.scaleFactor/Z:0,re.lineIndent=F.lineIndent;var fe,Ae,ke=[];for(fe=0,Ae=G.length;fe<Ae;fe++)ke=ke.concat(vo.apply(this,[G[fe],xe,re]));return ke},(function(P){P.__fontmetrics__=P.__fontmetrics__||{};for(var k="0123456789abcdef",F="klmnopqrstuvwxyz",G={},Z={},re=0;re<16;re++)G[F[re]]=k[re],Z[k[re]]=F[re];var xe=function(lt){return"0x"+parseInt(lt,10).toString(16)},fe=P.__fontmetrics__.compress=function(lt){var Te,jt,ot,Nt,nt=["{"];for(var Ot in lt){if(Te=lt[Ot],isNaN(parseInt(Ot,10))?jt="'"+Ot+"'":(Ot=parseInt(Ot,10),jt=(jt=xe(Ot).slice(2)).slice(0,-1)+Z[jt.slice(-1)]),typeof Te=="number")Te<0?(ot=xe(Te).slice(3),Nt="-"):(ot=xe(Te).slice(2),Nt=""),ot=Nt+ot.slice(0,-1)+Z[ot.slice(-1)];else{if((0,d.default)(Te)!=="object")throw new Error("Don't know what to do with value type "+(0,d.default)(Te)+".");ot=fe(Te)}nt.push(jt+ot)}return nt.push("}"),nt.join("")},Ae=P.__fontmetrics__.uncompress=function(lt){if(typeof lt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Te,jt,ot,Nt,nt={},Ot=1,qt=nt,It=[],rt="",Kt="",Nr=lt.length-1,lr=1;lr<Nr;lr+=1)(Nt=lt[lr])=="'"?Te?(ot=Te.join(""),Te=void 0):Te=[]:Te?Te.push(Nt):Nt=="{"?(It.push([qt,ot]),qt={},ot=void 0):Nt=="}"?((jt=It.pop())[0][jt[1]]=qt,ot=void 0,qt=jt[0]):Nt=="-"?Ot=-1:ot===void 0?G.hasOwnProperty(Nt)?(rt+=G[Nt],ot=parseInt(rt,16)*Ot,Ot=1,rt=""):rt+=Nt:G.hasOwnProperty(Nt)?(Kt+=G[Nt],qt[ot]=parseInt(Kt,16)*Ot,Ot=1,ot=void 0,Kt=""):Kt+=Nt;return nt},ke={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Ae("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ve={Unicode:{Courier:ke,"Courier-Bold":ke,"Courier-BoldOblique":ke,"Courier-Oblique":ke,Helvetica:ke,"Helvetica-Bold":ke,"Helvetica-BoldOblique":ke,"Helvetica-Oblique":ke,"Times-Roman":ke,"Times-Bold":ke,"Times-BoldItalic":ke,"Times-Italic":ke}},Je={Unicode:{"Courier-Oblique":Ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Ae("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Ae("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Ae("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Ae("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Ae("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Ae("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Ae("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Ae("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Ae("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Ae("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Ae("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};P.events.push(["addFont",function(lt){var Te=lt.font,jt=Je.Unicode[Te.postScriptName];jt&&(Te.metadata.Unicode={},Te.metadata.Unicode.widths=jt.widths,Te.metadata.Unicode.kerning=jt.kerning);var ot=Ve.Unicode[Te.postScriptName];ot&&(Te.metadata.Unicode.encoding=ot,Te.encoding=ot.codePages[0])}])})(Ye.API),(function(P){var k=function(F){for(var G=F.length,Z=new Uint8Array(G),re=0;re<G;re++)Z[re]=F.charCodeAt(re);return Z};P.API.events.push(["addFont",function(F){var G=void 0,Z=F.font,re=F.instance;if(!Z.isStandardFont){if(re===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Z.postScriptName+"').");if(typeof(G=re.existsFileInVFS(Z.postScriptName)===!1?re.loadFile(Z.postScriptName):re.getFileFromVFS(Z.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Z.postScriptName+"').");(function(xe,fe){fe=/^\x00\x01\x00\x00/.test(fe)?k(fe):k(I(fe)),xe.metadata=P.API.TTFFont.open(fe),xe.metadata.Unicode=xe.metadata.Unicode||{encoding:{},kerning:{},widths:[]},xe.metadata.glyIdsUsed=[0]})(Z,G)}}])})(Ye),Ye.API.addSvgAsImage=function(P,k,F,G,Z,re,xe,fe){if(isNaN(k)||isNaN(F))throw y.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(G)||isNaN(Z))throw y.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Ae=document.createElement("canvas");Ae.width=G,Ae.height=Z;var ke=Ae.getContext("2d");ke.fillStyle="#fff",ke.fillRect(0,0,Ae.width,Ae.height);var Ve={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},Je=this;return(g.canvg?Promise.resolve(g.canvg):Promise.resolve().then(l.bind(l,"./node_modules/canvg/lib/index.es.js"))).catch(function(lt){return Promise.reject(new Error("Could not load canvg: "+lt))}).then(function(lt){return lt.default?lt.default:lt}).then(function(lt){return lt.fromString(ke,P,Ve)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(lt){return lt.render(Ve)}).then(function(){Je.addImage(Ae.toDataURL("image/jpeg",1),k,F,G,Z,xe,fe)})},Ye.API.putTotalPages=function(P){var k,F=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(k=new RegExp(P,"g"),F=this.internal.getNumberOfPages()):(k=new RegExp(this.pdfEscape16(P,this.internal.getFont()),"g"),F=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var G=1;G<=this.internal.getNumberOfPages();G++)for(var Z=0;Z<this.internal.pages[G].length;Z++)this.internal.pages[G][Z]=this.internal.pages[G][Z].replace(k,F);return this},Ye.API.viewerPreferences=function(P,k){var F;P=P||{},k=k||!1;var G,Z,re,xe={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},fe=Object.keys(xe),Ae=[],ke=0,Ve=0,Je=0;function lt(jt,ot){var Nt,nt=!1;for(Nt=0;Nt<jt.length;Nt+=1)jt[Nt]===ot&&(nt=!0);return nt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(xe)),this.internal.viewerpreferences.isSubscribed=!1),F=this.internal.viewerpreferences.configuration,P==="reset"||k===!0){var Te=fe.length;for(Je=0;Je<Te;Je+=1)F[fe[Je]].value=F[fe[Je]].defaultValue,F[fe[Je]].explicitSet=!1}if((0,d.default)(P)==="object"){for(Z in P)if(re=P[Z],lt(fe,Z)&&re!==void 0){if(F[Z].type==="boolean"&&typeof re=="boolean")F[Z].value=re;else if(F[Z].type==="name"&&lt(F[Z].valueSet,re))F[Z].value=re;else if(F[Z].type==="integer"&&Number.isInteger(re))F[Z].value=re;else if(F[Z].type==="array"){for(ke=0;ke<re.length;ke+=1)if(G=!0,re[ke].length===1&&typeof re[ke][0]=="number")Ae.push(String(re[ke]-1));else if(re[ke].length>1){for(Ve=0;Ve<re[ke].length;Ve+=1)typeof re[ke][Ve]!="number"&&(G=!1);G===!0&&Ae.push([re[ke][0]-1,re[ke][1]-1].join(" "))}F[Z].value="["+Ae.join(" ")+"]"}else F[Z].value=F[Z].defaultValue;F[Z].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var jt,ot=[];for(jt in F)F[jt].explicitSet===!0&&(F[jt].type==="name"?ot.push("/"+jt+" /"+F[jt].value):ot.push("/"+jt+" "+F[jt].value));ot.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+ot.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=F,this},(function(P){var k=function(){var G='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Z=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),re=unescape(encodeURIComponent(G)),xe=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),fe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Ae=unescape(encodeURIComponent("</x:xmpmeta>")),ke=re.length+xe.length+fe.length+Z.length+Ae.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ke+" >>"),this.internal.write("stream"),this.internal.write(Z+re+xe+fe+Ae),this.internal.write("endstream"),this.internal.write("endobj")},F=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};P.addMetadata=function(G,Z){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:G,namespaceuri:Z||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",F),this.internal.events.subscribe("postPutResources",k)),this}})(Ye.API),(function(P){var k=P.API,F=k.pdfEscape16=function(re,xe){for(var fe,Ae=xe.metadata.Unicode.widths,ke=["","0","00","000","0000"],Ve=[""],Je=0,lt=re.length;Je<lt;++Je){if(fe=xe.metadata.characterToGlyph(re.charCodeAt(Je)),xe.metadata.glyIdsUsed.push(fe),xe.metadata.toUnicode[fe]=re.charCodeAt(Je),Ae.indexOf(fe)==-1&&(Ae.push(fe),Ae.push([parseInt(xe.metadata.widthOfGlyph(fe),10)])),fe=="0")return Ve.join("");fe=fe.toString(16),Ve.push(ke[4-fe.length],fe)}return Ve.join("")},G=function(re){var xe,fe,Ae,ke,Ve,Je,lt;for(Ve=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Ae=[],Je=0,lt=(fe=Object.keys(re).sort(function(Te,jt){return Te-jt})).length;Je<lt;Je++)xe=fe[Je],Ae.length>=100&&(Ve+=`
`+Ae.length+` beginbfchar
`+Ae.join(`
`)+`
endbfchar`,Ae=[]),re[xe]!==void 0&&re[xe]!==null&&typeof re[xe].toString=="function"&&(ke=("0000"+re[xe].toString(16)).slice(-4),xe=("0000"+(+xe).toString(16)).slice(-4),Ae.push("<"+xe+"><"+ke+">"));return Ae.length&&(Ve+=`
`+Ae.length+` beginbfchar
`+Ae.join(`
`)+`
endbfchar
`),Ve+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};k.events.push(["putFont",function(re){(function(xe){var fe=xe.font,Ae=xe.out,ke=xe.newObject,Ve=xe.putStream;if(fe.metadata instanceof P.API.TTFFont&&fe.encoding==="Identity-H"){for(var Je=fe.metadata.Unicode.widths,lt=fe.metadata.subset.encode(fe.metadata.glyIdsUsed,1),Te="",jt=0;jt<lt.length;jt++)Te+=String.fromCharCode(lt[jt]);var ot=ke();Ve({data:Te,addLength1:!0,objectId:ot}),Ae("endobj");var Nt=ke();Ve({data:G(fe.metadata.toUnicode),addLength1:!0,objectId:Nt}),Ae("endobj");var nt=ke();Ae("<<"),Ae("/Type /FontDescriptor"),Ae("/FontName /"+$e(fe.fontName)),Ae("/FontFile2 "+ot+" 0 R"),Ae("/FontBBox "+P.API.PDFObject.convert(fe.metadata.bbox)),Ae("/Flags "+fe.metadata.flags),Ae("/StemV "+fe.metadata.stemV),Ae("/ItalicAngle "+fe.metadata.italicAngle),Ae("/Ascent "+fe.metadata.ascender),Ae("/Descent "+fe.metadata.decender),Ae("/CapHeight "+fe.metadata.capHeight),Ae(">>"),Ae("endobj");var Ot=ke();Ae("<<"),Ae("/Type /Font"),Ae("/BaseFont /"+$e(fe.fontName)),Ae("/FontDescriptor "+nt+" 0 R"),Ae("/W "+P.API.PDFObject.convert(Je)),Ae("/CIDToGIDMap /Identity"),Ae("/DW 1000"),Ae("/Subtype /CIDFontType2"),Ae("/CIDSystemInfo"),Ae("<<"),Ae("/Supplement 0"),Ae("/Registry (Adobe)"),Ae("/Ordering ("+fe.encoding+")"),Ae(">>"),Ae(">>"),Ae("endobj"),fe.objectNumber=ke(),Ae("<<"),Ae("/Type /Font"),Ae("/Subtype /Type0"),Ae("/ToUnicode "+Nt+" 0 R"),Ae("/BaseFont /"+$e(fe.fontName)),Ae("/Encoding /"+fe.encoding),Ae("/DescendantFonts ["+Ot+" 0 R]"),Ae(">>"),Ae("endobj"),fe.isAlreadyPutted=!0}})(re)}]),k.events.push(["putFont",function(re){(function(xe){var fe=xe.font,Ae=xe.out,ke=xe.newObject,Ve=xe.putStream;if(fe.metadata instanceof P.API.TTFFont&&fe.encoding==="WinAnsiEncoding"){for(var Je=fe.metadata.rawData,lt="",Te=0;Te<Je.length;Te++)lt+=String.fromCharCode(Je[Te]);var jt=ke();Ve({data:lt,addLength1:!0,objectId:jt}),Ae("endobj");var ot=ke();Ve({data:G(fe.metadata.toUnicode),addLength1:!0,objectId:ot}),Ae("endobj");var Nt=ke();Ae("<<"),Ae("/Descent "+fe.metadata.decender),Ae("/CapHeight "+fe.metadata.capHeight),Ae("/StemV "+fe.metadata.stemV),Ae("/Type /FontDescriptor"),Ae("/FontFile2 "+jt+" 0 R"),Ae("/Flags 96"),Ae("/FontBBox "+P.API.PDFObject.convert(fe.metadata.bbox)),Ae("/FontName /"+$e(fe.fontName)),Ae("/ItalicAngle "+fe.metadata.italicAngle),Ae("/Ascent "+fe.metadata.ascender),Ae(">>"),Ae("endobj"),fe.objectNumber=ke();for(var nt=0;nt<fe.metadata.hmtx.widths.length;nt++)fe.metadata.hmtx.widths[nt]=parseInt(fe.metadata.hmtx.widths[nt]*(1e3/fe.metadata.head.unitsPerEm));Ae("<</Subtype/TrueType/Type/Font/ToUnicode "+ot+" 0 R/BaseFont/"+$e(fe.fontName)+"/FontDescriptor "+Nt+" 0 R/Encoding/"+fe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+P.API.PDFObject.convert(fe.metadata.hmtx.widths)+">>"),Ae("endobj"),fe.isAlreadyPutted=!0}})(re)}]);var Z=function(re){var xe,fe=re.text||"",Ae=re.x,ke=re.y,Ve=re.options||{},Je=re.mutex||{},lt=Je.pdfEscape,Te=Je.activeFontKey,jt=Je.fonts,ot=Te,Nt="",nt=0,Ot="",qt=jt[ot].encoding;if(jt[ot].encoding!=="Identity-H")return{text:fe,x:Ae,y:ke,options:Ve,mutex:Je};for(Ot=fe,ot=Te,Array.isArray(fe)&&(Ot=fe[0]),nt=0;nt<Ot.length;nt+=1)jt[ot].metadata.hasOwnProperty("cmap")&&(xe=jt[ot].metadata.cmap.unicode.codeMap[Ot[nt].charCodeAt(0)]),xe||Ot[nt].charCodeAt(0)<256&&jt[ot].metadata.hasOwnProperty("Unicode")?Nt+=Ot[nt]:Nt+="";var It="";return parseInt(ot.slice(1))<14||qt==="WinAnsiEncoding"?It=lt(Nt,ot).split("").map(function(rt){return rt.charCodeAt(0).toString(16)}).join(""):qt==="Identity-H"&&(It=F(Nt,jt[ot])),Je.isHex=!0,{text:It,x:Ae,y:ke,options:Ve,mutex:Je}};k.events.push(["postProcessText",function(re){var xe=re.text||"",fe=[],Ae={text:xe,x:re.x,y:re.y,options:re.options,mutex:re.mutex};if(Array.isArray(xe)){var ke=0;for(ke=0;ke<xe.length;ke+=1)Array.isArray(xe[ke])&&xe[ke].length===3?fe.push([Z(Object.assign({},Ae,{text:xe[ke][0]})).text,xe[ke][1],xe[ke][2]]):fe.push(Z(Object.assign({},Ae,{text:xe[ke]})).text);re.text=fe}else re.text=Z(Object.assign({},Ae,{text:xe})).text}])})(Ye),(function(P){var k=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};P.existsFileInVFS=function(F){return k.call(this),this.internal.vFS[F]!==void 0},P.addFileToVFS=function(F,G){return k.call(this),this.internal.vFS[F]=G,this},P.getFileFromVFS=function(F){return k.call(this),this.internal.vFS[F]!==void 0?this.internal.vFS[F]:null}})(Ye.API),(function(P){P.__bidiEngine__=P.prototype.__bidiEngine__=function(G){var Z,re,xe,fe,Ae,ke,Ve,Je=k,lt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Te=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],jt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},ot={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Nt=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ot=!1,qt=0;this.__bidiEngine__={};var It=function(at){var At=at.charCodeAt(),Rt=At>>8,Dt=ot[Rt];return Dt!==void 0?Je[256*Dt+(255&At)]:Rt===252||Rt===253?"AL":nt.test(Rt)?"L":Rt===8?"R":"N"},rt=function(at){for(var At,Rt=0;Rt<at.length;Rt++){if((At=It(at.charAt(Rt)))==="L")return!1;if(At==="R")return!0}return!1},Kt=function(at,At,Rt,Dt){var xr,Br,Mr,ur,Rr=At[Dt];switch(Rr){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ot=!1;break;case"N":case"AN":break;case"EN":Ot&&(Rr="AN");break;case"AL":Ot=!0,Rr="R";break;case"WS":case"BN":Rr="N";break;case"CS":Dt<1||Dt+1>=At.length||(xr=Rt[Dt-1])!=="EN"&&xr!=="AN"||(Br=At[Dt+1])!=="EN"&&Br!=="AN"?Rr="N":Ot&&(Br="AN"),Rr=Br===xr?Br:"N";break;case"ES":Rr=(xr=Dt>0?Rt[Dt-1]:"B")==="EN"&&Dt+1<At.length&&At[Dt+1]==="EN"?"EN":"N";break;case"ET":if(Dt>0&&Rt[Dt-1]==="EN"){Rr="EN";break}if(Ot){Rr="N";break}for(Mr=Dt+1,ur=At.length;Mr<ur&&At[Mr]==="ET";)Mr++;Rr=Mr<ur&&At[Mr]==="EN"?"EN":"N";break;case"NSM":if(xe&&!fe){for(ur=At.length,Mr=Dt+1;Mr<ur&&At[Mr]==="NSM";)Mr++;if(Mr<ur){var gn=at[Dt],an=gn>=1425&&gn<=2303||gn===64286;if(xr=At[Mr],an&&(xr==="R"||xr==="AL")){Rr="R";break}}}Rr=Dt<1||(xr=At[Dt-1])==="B"?"N":Rt[Dt-1];break;case"B":Ot=!1,Z=!0,Rr=qt;break;case"S":re=!0,Rr="N"}return Rr},Nr=function(at,At,Rt){var Dt=at.split("");return Rt&&lr(Dt,Rt,{hiLevel:qt}),Dt.reverse(),At&&At.reverse(),Dt.join("")},lr=function(at,At,Rt){var Dt,xr,Br,Mr,ur,Rr=-1,gn=at.length,an=0,Xe=[],Ct=qt?Te:lt,Lt=[];for(Ot=!1,Z=!1,re=!1,xr=0;xr<gn;xr++)Lt[xr]=It(at[xr]);for(Br=0;Br<gn;Br++){if(ur=an,Xe[Br]=Kt(at,Lt,Xe,Br),Dt=240&(an=Ct[ur][jt[Xe[Br]]]),an&=15,At[Br]=Mr=Ct[an][5],Dt>0)if(Dt===16){for(xr=Rr;xr<Br;xr++)At[xr]=1;Rr=-1}else Rr=-1;if(Ct[an][6])Rr===-1&&(Rr=Br);else if(Rr>-1){for(xr=Rr;xr<Br;xr++)At[xr]=Mr;Rr=-1}Lt[Br]==="B"&&(At[Br]=0),Rt.hiLevel|=Mr}re&&(function(Wt,Xt,mr){for(var Pr=0;Pr<mr;Pr++)if(Wt[Pr]==="S"){Xt[Pr]=qt;for(var Ir=Pr-1;Ir>=0&&Wt[Ir]==="WS";Ir--)Xt[Ir]=qt}})(Lt,At,gn)},Mt=function(at,At,Rt,Dt,xr){if(!(xr.hiLevel<at)){if(at===1&&qt===1&&!Z)return At.reverse(),void(Rt&&Rt.reverse());for(var Br,Mr,ur,Rr,gn=At.length,an=0;an<gn;){if(Dt[an]>=at){for(ur=an+1;ur<gn&&Dt[ur]>=at;)ur++;for(Rr=an,Mr=ur-1;Rr<Mr;Rr++,Mr--)Br=At[Rr],At[Rr]=At[Mr],At[Mr]=Br,Rt&&(Br=Rt[Rr],Rt[Rr]=Rt[Mr],Rt[Mr]=Br);an=ur}an++}}},_r=function(at,At,Rt){var Dt=at.split(""),xr={hiLevel:qt};return Rt||(Rt=[]),lr(Dt,Rt,xr),(function(Br,Mr,ur){if(ur.hiLevel!==0&&Ve)for(var Rr,gn=0;gn<Br.length;gn++)Mr[gn]===1&&(Rr=Nt.indexOf(Br[gn]))>=0&&(Br[gn]=Nt[Rr+1])})(Dt,Rt,xr),Mt(2,Dt,At,Rt,xr),Mt(1,Dt,At,Rt,xr),Dt.join("")};return this.__bidiEngine__.doBidiReorder=function(at,At,Rt){if((function(xr,Br){if(Br)for(var Mr=0;Mr<xr.length;Mr++)Br[Mr]=Mr;fe===void 0&&(fe=rt(xr)),ke===void 0&&(ke=rt(xr))})(at,At),xe||!Ae||ke)if(xe&&Ae&&fe^ke)qt=fe?1:0,at=Nr(at,At,Rt);else if(!xe&&Ae&&ke)qt=fe?1:0,at=_r(at,At,Rt),at=Nr(at,At);else if(!xe||fe||Ae||ke){if(xe&&!Ae&&fe^ke)at=Nr(at,At),fe?(qt=0,at=_r(at,At,Rt)):(qt=1,at=_r(at,At,Rt),at=Nr(at,At));else if(xe&&fe&&!Ae&&ke)qt=1,at=_r(at,At,Rt),at=Nr(at,At);else if(!xe&&!Ae&&fe^ke){var Dt=Ve;fe?(qt=1,at=_r(at,At,Rt),qt=0,Ve=!1,at=_r(at,At,Rt),Ve=Dt):(qt=0,at=_r(at,At,Rt),at=Nr(at,At),qt=1,Ve=!1,at=_r(at,At,Rt),Ve=Dt,at=Nr(at,At))}}else qt=0,at=_r(at,At,Rt);else qt=fe?1:0,at=_r(at,At,Rt);return at},this.__bidiEngine__.setOptions=function(at){at&&(xe=at.isInputVisual,Ae=at.isOutputVisual,fe=at.isInputRtl,ke=at.isOutputRtl,Ve=at.isSymmetricSwapping)},this.__bidiEngine__.setOptions(G),this.__bidiEngine__};var k=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],F=new P.__bidiEngine__({isInputVisual:!0});P.API.events.push(["postProcessText",function(G){var Z=G.text;G.x,G.y;var re=G.options||{};G.mutex,re.lang;var xe=[];if(re.isInputVisual=typeof re.isInputVisual!="boolean"||re.isInputVisual,F.setOptions(re),Object.prototype.toString.call(Z)==="[object Array]"){var fe=0;for(xe=[],fe=0;fe<Z.length;fe+=1)Object.prototype.toString.call(Z[fe])==="[object Array]"?xe.push([F.doBidiReorder(Z[fe][0]),Z[fe][1],Z[fe][2]]):xe.push([F.doBidiReorder(Z[fe])]);G.text=xe}else G.text=F.doBidiReorder(Z);F.setOptions({isInputVisual:!0})}])})(Ye),Ye.API.TTFFont=(function(){function P(k){var F;if(this.rawData=k,F=this.contents=new Xs(k),this.contents.pos=4,F.readString(4)==="ttcf")throw new Error("TTCF not supported.");F.pos=0,this.parse(),this.subset=new ut(this),this.registerTTF()}return P.open=function(k){return new P(k)},P.prototype.parse=function(){return this.directory=new ms(this.contents),this.head=new Vs(this),this.name=new se(this),this.cmap=new xo(this),this.toUnicode={},this.hhea=new io(this),this.maxp=new ce(this),this.hmtx=new $(this),this.post=new zt(this),this.os2=new Vo(this),this.loca=new Qe(this),this.glyf=new ie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},P.prototype.registerTTF=function(){var k,F,G,Z,re;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var xe,fe,Ae,ke;for(ke=[],xe=0,fe=(Ae=this.bbox).length;xe<fe;xe++)k=Ae[xe],ke.push(Math.round(k*this.scaleFactor));return ke}).call(this),this.stemV=0,this.post.exists?(G=255&(Z=this.post.italic_angle),32768&(F=Z>>16)&&(F=-(1+(65535^F))),this.italicAngle=+(F+"."+G)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(re=this.familyClass)===1||re===2||re===3||re===4||re===5||re===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},P.prototype.characterToGlyph=function(k){var F;return((F=this.cmap.unicode)!=null?F.codeMap[k]:void 0)||0},P.prototype.widthOfGlyph=function(k){var F;return F=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(k).advance*F},P.prototype.widthOfString=function(k,F,G){var Z,re,xe,fe;for(xe=0,re=0,fe=(k=""+k).length;0<=fe?re<fe:re>fe;re=0<=fe?++re:--re)Z=k.charCodeAt(re),xe+=this.widthOfGlyph(this.characterToGlyph(Z))+G*(1e3/F)||0;return xe*(F/1e3)},P.prototype.lineHeight=function(k,F){var G;return F==null&&(F=!1),G=F?this.lineGap:0,(this.ascender+G-this.decender)/1e3*k},P})();var Ea,Xs=(function(){function P(k){this.data=k??[],this.pos=0,this.length=this.data.length}return P.prototype.readByte=function(){return this.data[this.pos++]},P.prototype.writeByte=function(k){return this.data[this.pos++]=k},P.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},P.prototype.writeUInt32=function(k){return this.writeByte(k>>>24&255),this.writeByte(k>>16&255),this.writeByte(k>>8&255),this.writeByte(255&k)},P.prototype.readInt32=function(){var k;return(k=this.readUInt32())>=2147483648?k-4294967296:k},P.prototype.writeInt32=function(k){return k<0&&(k+=4294967296),this.writeUInt32(k)},P.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},P.prototype.writeUInt16=function(k){return this.writeByte(k>>8&255),this.writeByte(255&k)},P.prototype.readInt16=function(){var k;return(k=this.readUInt16())>=32768?k-65536:k},P.prototype.writeInt16=function(k){return k<0&&(k+=65536),this.writeUInt16(k)},P.prototype.readString=function(k){var F,G;for(G=[],F=0;0<=k?F<k:F>k;F=0<=k?++F:--F)G[F]=String.fromCharCode(this.readByte());return G.join("")},P.prototype.writeString=function(k){var F,G,Z;for(Z=[],F=0,G=k.length;0<=G?F<G:F>G;F=0<=G?++F:--F)Z.push(this.writeByte(k.charCodeAt(F)));return Z},P.prototype.readShort=function(){return this.readInt16()},P.prototype.writeShort=function(k){return this.writeInt16(k)},P.prototype.readLongLong=function(){var k,F,G,Z,re,xe,fe,Ae;return k=this.readByte(),F=this.readByte(),G=this.readByte(),Z=this.readByte(),re=this.readByte(),xe=this.readByte(),fe=this.readByte(),Ae=this.readByte(),128&k?-1*(72057594037927940*(255^k)+281474976710656*(255^F)+1099511627776*(255^G)+4294967296*(255^Z)+16777216*(255^re)+65536*(255^xe)+256*(255^fe)+(255^Ae)+1):72057594037927940*k+281474976710656*F+1099511627776*G+4294967296*Z+16777216*re+65536*xe+256*fe+Ae},P.prototype.writeLongLong=function(k){var F,G;return F=Math.floor(k/4294967296),G=4294967295&k,this.writeByte(F>>24&255),this.writeByte(F>>16&255),this.writeByte(F>>8&255),this.writeByte(255&F),this.writeByte(G>>24&255),this.writeByte(G>>16&255),this.writeByte(G>>8&255),this.writeByte(255&G)},P.prototype.readInt=function(){return this.readInt32()},P.prototype.writeInt=function(k){return this.writeInt32(k)},P.prototype.read=function(k){var F,G;for(F=[],G=0;0<=k?G<k:G>k;G=0<=k?++G:--G)F.push(this.readByte());return F},P.prototype.write=function(k){var F,G,Z,re;for(re=[],G=0,Z=k.length;G<Z;G++)F=k[G],re.push(this.writeByte(F));return re},P})(),ms=(function(){var P;function k(F){var G,Z,re;for(this.scalarType=F.readInt(),this.tableCount=F.readShort(),this.searchRange=F.readShort(),this.entrySelector=F.readShort(),this.rangeShift=F.readShort(),this.tables={},Z=0,re=this.tableCount;0<=re?Z<re:Z>re;Z=0<=re?++Z:--Z)G={tag:F.readString(4),checksum:F.readInt(),offset:F.readInt(),length:F.readInt()},this.tables[G.tag]=G}return k.prototype.encode=function(F){var G,Z,re,xe,fe,Ae,ke,Ve,Je,lt,Te,jt,ot;for(ot in Te=Object.keys(F).length,Ae=Math.log(2),Je=16*Math.floor(Math.log(Te)/Ae),xe=Math.floor(Je/Ae),Ve=16*Te-Je,(Z=new Xs).writeInt(this.scalarType),Z.writeShort(Te),Z.writeShort(Je),Z.writeShort(xe),Z.writeShort(Ve),re=16*Te,ke=Z.pos+re,fe=null,jt=[],F)for(lt=F[ot],Z.writeString(ot),Z.writeInt(P(lt)),Z.writeInt(ke),Z.writeInt(lt.length),jt=jt.concat(lt),ot==="head"&&(fe=ke),ke+=lt.length;ke%4;)jt.push(0),ke++;return Z.write(jt),G=2981146554-P(Z.data),Z.pos=fe+8,Z.writeUInt32(G),Z.data},P=function(F){var G,Z,re,xe;for(F=K.call(F);F.length%4;)F.push(0);for(re=new Xs(F),Z=0,G=0,xe=F.length;G<xe;G=G+=4)Z+=re.readUInt32();return 4294967295&Z},k})(),jo={}.hasOwnProperty,Va=function(P,k){for(var F in k)jo.call(k,F)&&(P[F]=k[F]);function G(){this.constructor=P}return G.prototype=k.prototype,P.prototype=new G,P.__super__=k.prototype,P};Ea=(function(){function P(k){var F;this.file=k,F=this.file.directory.tables[this.tag],this.exists=!!F,F&&(this.offset=F.offset,this.length=F.length,this.parse(this.file.contents))}return P.prototype.parse=function(){},P.prototype.encode=function(){},P.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},P})();var Vs=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="head",P.prototype.parse=function(k){return k.pos=this.offset,this.version=k.readInt(),this.revision=k.readInt(),this.checkSumAdjustment=k.readInt(),this.magicNumber=k.readInt(),this.flags=k.readShort(),this.unitsPerEm=k.readShort(),this.created=k.readLongLong(),this.modified=k.readLongLong(),this.xMin=k.readShort(),this.yMin=k.readShort(),this.xMax=k.readShort(),this.yMax=k.readShort(),this.macStyle=k.readShort(),this.lowestRecPPEM=k.readShort(),this.fontDirectionHint=k.readShort(),this.indexToLocFormat=k.readShort(),this.glyphDataFormat=k.readShort()},P.prototype.encode=function(k){var F;return(F=new Xs).writeInt(this.version),F.writeInt(this.revision),F.writeInt(this.checkSumAdjustment),F.writeInt(this.magicNumber),F.writeShort(this.flags),F.writeShort(this.unitsPerEm),F.writeLongLong(this.created),F.writeLongLong(this.modified),F.writeShort(this.xMin),F.writeShort(this.yMin),F.writeShort(this.xMax),F.writeShort(this.yMax),F.writeShort(this.macStyle),F.writeShort(this.lowestRecPPEM),F.writeShort(this.fontDirectionHint),F.writeShort(k),F.writeShort(this.glyphDataFormat),F.data},P})(),qa=(function(){function P(k,F){var G,Z,re,xe,fe,Ae,ke,Ve,Je,lt,Te,jt,ot,Nt,nt,Ot,qt;switch(this.platformID=k.readUInt16(),this.encodingID=k.readShort(),this.offset=F+k.readInt(),Je=k.pos,k.pos=this.offset,this.format=k.readUInt16(),this.length=k.readUInt16(),this.language=k.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Ae=0;Ae<256;++Ae)this.codeMap[Ae]=k.readByte();break;case 4:for(Te=k.readUInt16(),lt=Te/2,k.pos+=6,re=(function(){var It,rt;for(rt=[],Ae=It=0;0<=lt?It<lt:It>lt;Ae=0<=lt?++It:--It)rt.push(k.readUInt16());return rt})(),k.pos+=2,ot=(function(){var It,rt;for(rt=[],Ae=It=0;0<=lt?It<lt:It>lt;Ae=0<=lt?++It:--It)rt.push(k.readUInt16());return rt})(),ke=(function(){var It,rt;for(rt=[],Ae=It=0;0<=lt?It<lt:It>lt;Ae=0<=lt?++It:--It)rt.push(k.readUInt16());return rt})(),Ve=(function(){var It,rt;for(rt=[],Ae=It=0;0<=lt?It<lt:It>lt;Ae=0<=lt?++It:--It)rt.push(k.readUInt16());return rt})(),Z=(this.length-k.pos+this.offset)/2,fe=(function(){var It,rt;for(rt=[],Ae=It=0;0<=Z?It<Z:It>Z;Ae=0<=Z?++It:--It)rt.push(k.readUInt16());return rt})(),Ae=nt=0,qt=re.length;nt<qt;Ae=++nt)for(Nt=re[Ae],G=Ot=jt=ot[Ae];jt<=Nt?Ot<=Nt:Ot>=Nt;G=jt<=Nt?++Ot:--Ot)Ve[Ae]===0?xe=G+ke[Ae]:(xe=fe[Ve[Ae]/2+(G-jt)-(lt-Ae)]||0)!==0&&(xe+=ke[Ae]),this.codeMap[G]=65535&xe}k.pos=Je}return P.encode=function(k,F){var G,Z,re,xe,fe,Ae,ke,Ve,Je,lt,Te,jt,ot,Nt,nt,Ot,qt,It,rt,Kt,Nr,lr,Mt,_r,at,At,Rt,Dt,xr,Br,Mr,ur,Rr,gn,an,Xe,Ct,Lt,Wt,Xt,mr,Pr,Ir,Zr,pn,jn;switch(Dt=new Xs,xe=Object.keys(k).sort(function(Fn,yi){return Fn-yi}),F){case"macroman":for(ot=0,Nt=(function(){var Fn=[];for(jt=0;jt<256;++jt)Fn.push(0);return Fn})(),Ot={0:0},re={},xr=0,Rr=xe.length;xr<Rr;xr++)Ot[Ir=k[Z=xe[xr]]]==null&&(Ot[Ir]=++ot),re[Z]={old:k[Z],new:Ot[k[Z]]},Nt[Z]=Ot[k[Z]];return Dt.writeUInt16(1),Dt.writeUInt16(0),Dt.writeUInt32(12),Dt.writeUInt16(0),Dt.writeUInt16(262),Dt.writeUInt16(0),Dt.write(Nt),{charMap:re,subtable:Dt.data,maxGlyphID:ot+1};case"unicode":for(At=[],Je=[],qt=0,Ot={},G={},nt=ke=null,Br=0,gn=xe.length;Br<gn;Br++)Ot[rt=k[Z=xe[Br]]]==null&&(Ot[rt]=++qt),G[Z]={old:rt,new:Ot[rt]},fe=Ot[rt]-Z,nt!=null&&fe===ke||(nt&&Je.push(nt),At.push(Z),ke=fe),nt=Z;for(nt&&Je.push(nt),Je.push(65535),At.push(65535),_r=2*(Mt=At.length),lr=2*Math.pow(Math.log(Mt)/Math.LN2,2),lt=Math.log(lr/2)/Math.LN2,Nr=2*Mt-lr,Ae=[],Kt=[],Te=[],jt=Mr=0,an=At.length;Mr<an;jt=++Mr){if(at=At[jt],Ve=Je[jt],at===65535){Ae.push(0),Kt.push(0);break}if(at-(Rt=G[at].new)>=32768)for(Ae.push(0),Kt.push(2*(Te.length+Mt-jt)),Z=ur=at;at<=Ve?ur<=Ve:ur>=Ve;Z=at<=Ve?++ur:--ur)Te.push(G[Z].new);else Ae.push(Rt-at),Kt.push(0)}for(Dt.writeUInt16(3),Dt.writeUInt16(1),Dt.writeUInt32(12),Dt.writeUInt16(4),Dt.writeUInt16(16+8*Mt+2*Te.length),Dt.writeUInt16(0),Dt.writeUInt16(_r),Dt.writeUInt16(lr),Dt.writeUInt16(lt),Dt.writeUInt16(Nr),mr=0,Xe=Je.length;mr<Xe;mr++)Z=Je[mr],Dt.writeUInt16(Z);for(Dt.writeUInt16(0),Pr=0,Ct=At.length;Pr<Ct;Pr++)Z=At[Pr],Dt.writeUInt16(Z);for(Zr=0,Lt=Ae.length;Zr<Lt;Zr++)fe=Ae[Zr],Dt.writeUInt16(fe);for(pn=0,Wt=Kt.length;pn<Wt;pn++)It=Kt[pn],Dt.writeUInt16(It);for(jn=0,Xt=Te.length;jn<Xt;jn++)ot=Te[jn],Dt.writeUInt16(ot);return{charMap:G,subtable:Dt.data,maxGlyphID:qt+1}}},P})(),xo=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="cmap",P.prototype.parse=function(k){var F,G,Z;for(k.pos=this.offset,this.version=k.readUInt16(),Z=k.readUInt16(),this.tables=[],this.unicode=null,G=0;0<=Z?G<Z:G>Z;G=0<=Z?++G:--G)F=new qa(k,this.offset),this.tables.push(F),F.isUnicode&&this.unicode==null&&(this.unicode=F);return!0},P.encode=function(k,F){var G,Z;return F==null&&(F="macroman"),G=qa.encode(k,F),(Z=new Xs).writeUInt16(0),Z.writeUInt16(1),G.table=Z.data.concat(G.subtable),G},P})(),io=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="hhea",P.prototype.parse=function(k){return k.pos=this.offset,this.version=k.readInt(),this.ascender=k.readShort(),this.decender=k.readShort(),this.lineGap=k.readShort(),this.advanceWidthMax=k.readShort(),this.minLeftSideBearing=k.readShort(),this.minRightSideBearing=k.readShort(),this.xMaxExtent=k.readShort(),this.caretSlopeRise=k.readShort(),this.caretSlopeRun=k.readShort(),this.caretOffset=k.readShort(),k.pos+=8,this.metricDataFormat=k.readShort(),this.numberOfMetrics=k.readUInt16()},P})(),Vo=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="OS/2",P.prototype.parse=function(k){if(k.pos=this.offset,this.version=k.readUInt16(),this.averageCharWidth=k.readShort(),this.weightClass=k.readUInt16(),this.widthClass=k.readUInt16(),this.type=k.readShort(),this.ySubscriptXSize=k.readShort(),this.ySubscriptYSize=k.readShort(),this.ySubscriptXOffset=k.readShort(),this.ySubscriptYOffset=k.readShort(),this.ySuperscriptXSize=k.readShort(),this.ySuperscriptYSize=k.readShort(),this.ySuperscriptXOffset=k.readShort(),this.ySuperscriptYOffset=k.readShort(),this.yStrikeoutSize=k.readShort(),this.yStrikeoutPosition=k.readShort(),this.familyClass=k.readShort(),this.panose=(function(){var F,G;for(G=[],F=0;F<10;++F)G.push(k.readByte());return G})(),this.charRange=(function(){var F,G;for(G=[],F=0;F<4;++F)G.push(k.readInt());return G})(),this.vendorID=k.readString(4),this.selection=k.readShort(),this.firstCharIndex=k.readShort(),this.lastCharIndex=k.readShort(),this.version>0&&(this.ascent=k.readShort(),this.descent=k.readShort(),this.lineGap=k.readShort(),this.winAscent=k.readShort(),this.winDescent=k.readShort(),this.codePageRange=(function(){var F,G;for(G=[],F=0;F<2;F=++F)G.push(k.readInt());return G})(),this.version>1))return this.xHeight=k.readShort(),this.capHeight=k.readShort(),this.defaultChar=k.readShort(),this.breakChar=k.readShort(),this.maxContext=k.readShort()},P})(),zt=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="post",P.prototype.parse=function(k){var F,G,Z;switch(k.pos=this.offset,this.format=k.readInt(),this.italicAngle=k.readInt(),this.underlinePosition=k.readShort(),this.underlineThickness=k.readShort(),this.isFixedPitch=k.readInt(),this.minMemType42=k.readInt(),this.maxMemType42=k.readInt(),this.minMemType1=k.readInt(),this.maxMemType1=k.readInt(),this.format){case 65536:case 196608:break;case 131072:var re;for(G=k.readUInt16(),this.glyphNameIndex=[],re=0;0<=G?re<G:re>G;re=0<=G?++re:--re)this.glyphNameIndex.push(k.readUInt16());for(this.names=[],Z=[];k.pos<this.offset+this.length;)F=k.readByte(),Z.push(this.names.push(k.readString(F)));return Z;case 151552:return G=k.readUInt16(),this.offsets=k.read(G);case 262144:return this.map=(function(){var xe,fe,Ae;for(Ae=[],re=xe=0,fe=this.file.maxp.numGlyphs;0<=fe?xe<fe:xe>fe;re=0<=fe?++xe:--xe)Ae.push(k.readUInt32());return Ae}).call(this)}},P})(),V=function(P,k){this.raw=P,this.length=P.length,this.platformID=k.platformID,this.encodingID=k.encodingID,this.languageID=k.languageID},se=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="name",P.prototype.parse=function(k){var F,G,Z,re,xe,fe,Ae,ke,Ve,Je,lt;for(k.pos=this.offset,k.readShort(),F=k.readShort(),fe=k.readShort(),G=[],re=0;0<=F?re<F:re>F;re=0<=F?++re:--re)G.push({platformID:k.readShort(),encodingID:k.readShort(),languageID:k.readShort(),nameID:k.readShort(),length:k.readShort(),offset:this.offset+fe+k.readShort()});for(Ae={},re=Ve=0,Je=G.length;Ve<Je;re=++Ve)Z=G[re],k.pos=Z.offset,ke=k.readString(Z.length),xe=new V(ke,Z),Ae[lt=Z.nameID]==null&&(Ae[lt]=[]),Ae[Z.nameID].push(xe);this.strings=Ae,this.copyright=Ae[0],this.fontFamily=Ae[1],this.fontSubfamily=Ae[2],this.uniqueSubfamily=Ae[3],this.fontName=Ae[4],this.version=Ae[5];try{this.postscriptName=Ae[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ae[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ae[7],this.manufacturer=Ae[8],this.designer=Ae[9],this.description=Ae[10],this.vendorUrl=Ae[11],this.designerUrl=Ae[12],this.license=Ae[13],this.licenseUrl=Ae[14],this.preferredFamily=Ae[15],this.preferredSubfamily=Ae[17],this.compatibleFull=Ae[18],this.sampleText=Ae[19]},P})(),ce=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="maxp",P.prototype.parse=function(k){return k.pos=this.offset,this.version=k.readInt(),this.numGlyphs=k.readUInt16(),this.maxPoints=k.readUInt16(),this.maxContours=k.readUInt16(),this.maxCompositePoints=k.readUInt16(),this.maxComponentContours=k.readUInt16(),this.maxZones=k.readUInt16(),this.maxTwilightPoints=k.readUInt16(),this.maxStorage=k.readUInt16(),this.maxFunctionDefs=k.readUInt16(),this.maxInstructionDefs=k.readUInt16(),this.maxStackElements=k.readUInt16(),this.maxSizeOfInstructions=k.readUInt16(),this.maxComponentElements=k.readUInt16(),this.maxComponentDepth=k.readUInt16()},P})(),$=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="hmtx",P.prototype.parse=function(k){var F,G,Z,re,xe,fe,Ae;for(k.pos=this.offset,this.metrics=[],F=0,fe=this.file.hhea.numberOfMetrics;0<=fe?F<fe:F>fe;F=0<=fe?++F:--F)this.metrics.push({advance:k.readUInt16(),lsb:k.readInt16()});for(Z=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var ke,Ve;for(Ve=[],F=ke=0;0<=Z?ke<Z:ke>Z;F=0<=Z?++ke:--ke)Ve.push(k.readInt16());return Ve})(),this.widths=(function(){var ke,Ve,Je,lt;for(lt=[],ke=0,Ve=(Je=this.metrics).length;ke<Ve;ke++)re=Je[ke],lt.push(re.advance);return lt}).call(this),G=this.widths[this.widths.length-1],Ae=[],F=xe=0;0<=Z?xe<Z:xe>Z;F=0<=Z?++xe:--xe)Ae.push(this.widths.push(G));return Ae},P.prototype.forGlyph=function(k){return k in this.metrics?this.metrics[k]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[k-this.metrics.length]}},P})(),K=[].slice,ie=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="glyf",P.prototype.parse=function(){return this.cache={}},P.prototype.glyphFor=function(k){var F,G,Z,re,xe,fe,Ae,ke,Ve,Je;return k in this.cache?this.cache[k]:(re=this.file.loca,F=this.file.contents,G=re.indexOf(k),(Z=re.lengthOf(k))===0?this.cache[k]=null:(F.pos=this.offset+G,xe=(fe=new Xs(F.read(Z))).readShort(),ke=fe.readShort(),Je=fe.readShort(),Ae=fe.readShort(),Ve=fe.readShort(),this.cache[k]=xe===-1?new je(fe,ke,Je,Ae,Ve):new me(fe,xe,ke,Je,Ae,Ve),this.cache[k]))},P.prototype.encode=function(k,F,G){var Z,re,xe,fe,Ae;for(xe=[],re=[],fe=0,Ae=F.length;fe<Ae;fe++)Z=k[F[fe]],re.push(xe.length),Z&&(xe=xe.concat(Z.encode(G)));return re.push(xe.length),{table:xe,offsets:re}},P})(),me=(function(){function P(k,F,G,Z,re,xe){this.raw=k,this.numberOfContours=F,this.xMin=G,this.yMin=Z,this.xMax=re,this.yMax=xe,this.compound=!1}return P.prototype.encode=function(){return this.raw.data},P})(),je=(function(){function P(k,F,G,Z,re){var xe,fe;for(this.raw=k,this.xMin=F,this.yMin=G,this.xMax=Z,this.yMax=re,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],xe=this.raw;fe=xe.readShort(),this.glyphOffsets.push(xe.pos),this.glyphIDs.push(xe.readUInt16()),32&fe;)xe.pos+=1&fe?4:2,128&fe?xe.pos+=8:64&fe?xe.pos+=4:8&fe&&(xe.pos+=2)}return P.prototype.encode=function(){var k,F,G;for(F=new Xs(K.call(this.raw.data)),k=0,G=this.glyphIDs.length;k<G;++k)F.pos=this.glyphOffsets[k];return F.data},P})(),Qe=(function(){function P(){return P.__super__.constructor.apply(this,arguments)}return Va(P,Ea),P.prototype.tag="loca",P.prototype.parse=function(k){var F,G;return k.pos=this.offset,F=this.file.head.indexToLocFormat,this.offsets=F===0?(function(){var Z,re;for(re=[],G=0,Z=this.length;G<Z;G+=2)re.push(2*k.readUInt16());return re}).call(this):(function(){var Z,re;for(re=[],G=0,Z=this.length;G<Z;G+=4)re.push(k.readUInt32());return re}).call(this)},P.prototype.indexOf=function(k){return this.offsets[k]},P.prototype.lengthOf=function(k){return this.offsets[k+1]-this.offsets[k]},P.prototype.encode=function(k,F){for(var G=new Uint32Array(this.offsets.length),Z=0,re=0,xe=0;xe<G.length;++xe)if(G[xe]=Z,re<F.length&&F[re]==xe){++re,G[xe]=Z;var fe=this.offsets[xe],Ae=this.offsets[xe+1]-fe;Ae>0&&(Z+=Ae)}for(var ke=new Array(4*G.length),Ve=0;Ve<G.length;++Ve)ke[4*Ve+3]=255&G[Ve],ke[4*Ve+2]=(65280&G[Ve])>>8,ke[4*Ve+1]=(16711680&G[Ve])>>16,ke[4*Ve]=(4278190080&G[Ve])>>24;return ke},P})(),ut=(function(){function P(k){this.font=k,this.subset={},this.unicodes={},this.next=33}return P.prototype.generateCmap=function(){var k,F,G,Z,re;for(F in Z=this.font.cmap.tables[0].codeMap,k={},re=this.subset)G=re[F],k[F]=Z[G];return k},P.prototype.glyphsFor=function(k){var F,G,Z,re,xe,fe,Ae;for(Z={},xe=0,fe=k.length;xe<fe;xe++)Z[re=k[xe]]=this.font.glyf.glyphFor(re);for(re in F=[],Z)(G=Z[re])!=null&&G.compound&&F.push.apply(F,G.glyphIDs);if(F.length>0)for(re in Ae=this.glyphsFor(F))G=Ae[re],Z[re]=G;return Z},P.prototype.encode=function(k,F){var G,Z,re,xe,fe,Ae,ke,Ve,Je,lt,Te,jt,ot,Nt,nt;for(Z in G=xo.encode(this.generateCmap(),"unicode"),xe=this.glyphsFor(k),Te={0:0},nt=G.charMap)Te[(Ae=nt[Z]).old]=Ae.new;for(jt in lt=G.maxGlyphID,xe)jt in Te||(Te[jt]=lt++);return Ve=(function(Ot){var qt,It;for(qt in It={},Ot)It[Ot[qt]]=qt;return It})(Te),Je=Object.keys(Ve).sort(function(Ot,qt){return Ot-qt}),ot=(function(){var Ot,qt,It;for(It=[],Ot=0,qt=Je.length;Ot<qt;Ot++)fe=Je[Ot],It.push(Ve[fe]);return It})(),re=this.font.glyf.encode(xe,ot,Te),ke=this.font.loca.encode(re.offsets,ot),Nt={cmap:this.font.cmap.raw(),glyf:re.table,loca:ke,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(F)},this.font.os2.exists&&(Nt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Nt)},P})();Ye.API.PDFObject=(function(){var P;function k(){}return P=function(F,G){return(Array(G+1).join("0")+F).slice(-G)},k.convert=function(F){var G,Z,re,xe;if(Array.isArray(F))return"["+(function(){var fe,Ae,ke;for(ke=[],fe=0,Ae=F.length;fe<Ae;fe++)G=F[fe],ke.push(k.convert(G));return ke})().join(" ")+"]";if(typeof F=="string")return"/"+F;if(F?.isString)return"("+F+")";if(F instanceof Date)return"(D:"+P(F.getUTCFullYear(),4)+P(F.getUTCMonth(),2)+P(F.getUTCDate(),2)+P(F.getUTCHours(),2)+P(F.getUTCMinutes(),2)+P(F.getUTCSeconds(),2)+"Z)";if({}.toString.call(F)==="[object Object]"){for(Z in re=["<<"],F)xe=F[Z],re.push("/"+Z+" "+k.convert(xe));return re.push(">>"),re.join(`
`)}return""+F},k})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(c,u,l){l.r(u),l.d(u,{Deflate:function(){return rn},Inflate:function(){return os},constants:function(){return Na},default:function(){return Wo},deflate:function(){return ri},deflateRaw:function(){return ni},gzip:function(){return Yi},inflate:function(){return na},inflateRaw:function(){return Ma},ungzip:function(){return Oo}});const d=4,f=0,m=1,p=2;function g(O){let Be=O.length;for(;--Be>=0;)O[Be]=0}const x=0,y=1,w=2,E=3,_=258,N=29,C=256,I=C+1+N,D=30,M=19,Y=2*I+1,X=15,te=16,de=7,ye=256,we=16,ve=17,ne=18,ae=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),oe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Re=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Pe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),be=512,he=new Array((I+2)*2);g(he);const Ie=new Array(D*2);g(Ie);const Oe=new Array(be);g(Oe);const $e=new Array(_-E+1);g($e);const De=new Array(N);g(De);const ct=new Array(D);g(ct);function pt(O,Be,ee,Ze,St){this.static_tree=O,this.extra_bits=Be,this.extra_base=ee,this.elems=Ze,this.max_length=St,this.has_stree=O&&O.length}let Ue,He,Ye;function Se(O,Be){this.dyn_tree=O,this.max_code=0,this.stat_desc=Be}const mt=O=>O<256?Oe[O]:Oe[256+(O>>>7)],qe=(O,Be)=>{O.pending_buf[O.pending++]=Be&255,O.pending_buf[O.pending++]=Be>>>8&255},Tt=(O,Be,ee)=>{O.bi_valid>te-ee?(O.bi_buf|=Be<<O.bi_valid&65535,qe(O,O.bi_buf),O.bi_buf=Be>>te-O.bi_valid,O.bi_valid+=ee-te):(O.bi_buf|=Be<<O.bi_valid&65535,O.bi_valid+=ee)},bt=(O,Be,ee)=>{Tt(O,ee[Be*2],ee[Be*2+1])},gt=(O,Be)=>{let ee=0;do ee|=O&1,O>>>=1,ee<<=1;while(--Be>0);return ee>>>1},wt=O=>{O.bi_valid===16?(qe(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):O.bi_valid>=8&&(O.pending_buf[O.pending++]=O.bi_buf&255,O.bi_buf>>=8,O.bi_valid-=8)},rr=(O,Be)=>{const ee=Be.dyn_tree,Ze=Be.max_code,St=Be.stat_desc.static_tree,_t=Be.stat_desc.has_stree,yr=Be.stat_desc.extra_bits,Gt=Be.stat_desc.extra_base,$n=Be.stat_desc.max_length;let Ft,br,qi,Bn,sn,Ur,Fa=0;for(Bn=0;Bn<=X;Bn++)O.bl_count[Bn]=0;for(ee[O.heap[O.heap_max]*2+1]=0,Ft=O.heap_max+1;Ft<Y;Ft++)br=O.heap[Ft],Bn=ee[ee[br*2+1]*2+1]+1,Bn>$n&&(Bn=$n,Fa++),ee[br*2+1]=Bn,!(br>Ze)&&(O.bl_count[Bn]++,sn=0,br>=Gt&&(sn=yr[br-Gt]),Ur=ee[br*2],O.opt_len+=Ur*(Bn+sn),_t&&(O.static_len+=Ur*(St[br*2+1]+sn)));if(Fa!==0){do{for(Bn=$n-1;O.bl_count[Bn]===0;)Bn--;O.bl_count[Bn]--,O.bl_count[Bn+1]+=2,O.bl_count[$n]--,Fa-=2}while(Fa>0);for(Bn=$n;Bn!==0;Bn--)for(br=O.bl_count[Bn];br!==0;)qi=O.heap[--Ft],!(qi>Ze)&&(ee[qi*2+1]!==Bn&&(O.opt_len+=(Bn-ee[qi*2+1])*ee[qi*2],ee[qi*2+1]=Bn),br--)}},Jt=(O,Be,ee)=>{const Ze=new Array(X+1);let St=0,_t,yr;for(_t=1;_t<=X;_t++)St=St+ee[_t-1]<<1,Ze[_t]=St;for(yr=0;yr<=Be;yr++){let Gt=O[yr*2+1];Gt!==0&&(O[yr*2]=gt(Ze[Gt]++,Gt))}},ar=()=>{let O,Be,ee,Ze,St;const _t=new Array(X+1);for(ee=0,Ze=0;Ze<N-1;Ze++)for(De[Ze]=ee,O=0;O<1<<ae[Ze];O++)$e[ee++]=Ze;for($e[ee-1]=Ze,St=0,Ze=0;Ze<16;Ze++)for(ct[Ze]=St,O=0;O<1<<oe[Ze];O++)Oe[St++]=Ze;for(St>>=7;Ze<D;Ze++)for(ct[Ze]=St<<7,O=0;O<1<<oe[Ze]-7;O++)Oe[256+St++]=Ze;for(Be=0;Be<=X;Be++)_t[Be]=0;for(O=0;O<=143;)he[O*2+1]=8,O++,_t[8]++;for(;O<=255;)he[O*2+1]=9,O++,_t[9]++;for(;O<=279;)he[O*2+1]=7,O++,_t[7]++;for(;O<=287;)he[O*2+1]=8,O++,_t[8]++;for(Jt(he,I+1,_t),O=0;O<D;O++)Ie[O*2+1]=5,Ie[O*2]=gt(O,5);Ue=new pt(he,ae,C+1,I,X),He=new pt(Ie,oe,0,D,X),Ye=new pt(new Array(0),Re,0,M,de)},Dr=O=>{let Be;for(Be=0;Be<I;Be++)O.dyn_ltree[Be*2]=0;for(Be=0;Be<D;Be++)O.dyn_dtree[Be*2]=0;for(Be=0;Be<M;Be++)O.bl_tree[Be*2]=0;O.dyn_ltree[ye*2]=1,O.opt_len=O.static_len=0,O.sym_next=O.matches=0},mn=O=>{O.bi_valid>8?qe(O,O.bi_buf):O.bi_valid>0&&(O.pending_buf[O.pending++]=O.bi_buf),O.bi_buf=0,O.bi_valid=0},$r=(O,Be,ee,Ze)=>{const St=Be*2,_t=ee*2;return O[St]<O[_t]||O[St]===O[_t]&&Ze[Be]<=Ze[ee]},or=(O,Be,ee)=>{const Ze=O.heap[ee];let St=ee<<1;for(;St<=O.heap_len&&(St<O.heap_len&&$r(Be,O.heap[St+1],O.heap[St],O.depth)&&St++,!$r(Be,Ze,O.heap[St],O.depth));)O.heap[ee]=O.heap[St],ee=St,St<<=1;O.heap[ee]=Ze},vr=(O,Be,ee)=>{let Ze,St,_t=0,yr,Gt;if(O.sym_next!==0)do Ze=O.pending_buf[O.sym_buf+_t++]&255,Ze+=(O.pending_buf[O.sym_buf+_t++]&255)<<8,St=O.pending_buf[O.sym_buf+_t++],Ze===0?bt(O,St,Be):(yr=$e[St],bt(O,yr+C+1,Be),Gt=ae[yr],Gt!==0&&(St-=De[yr],Tt(O,St,Gt)),Ze--,yr=mt(Ze),bt(O,yr,ee),Gt=oe[yr],Gt!==0&&(Ze-=ct[yr],Tt(O,Ze,Gt)));while(_t<O.sym_next);bt(O,ye,Be)},cn=(O,Be)=>{const ee=Be.dyn_tree,Ze=Be.stat_desc.static_tree,St=Be.stat_desc.has_stree,_t=Be.stat_desc.elems;let yr,Gt,$n=-1,Ft;for(O.heap_len=0,O.heap_max=Y,yr=0;yr<_t;yr++)ee[yr*2]!==0?(O.heap[++O.heap_len]=$n=yr,O.depth[yr]=0):ee[yr*2+1]=0;for(;O.heap_len<2;)Ft=O.heap[++O.heap_len]=$n<2?++$n:0,ee[Ft*2]=1,O.depth[Ft]=0,O.opt_len--,St&&(O.static_len-=Ze[Ft*2+1]);for(Be.max_code=$n,yr=O.heap_len>>1;yr>=1;yr--)or(O,ee,yr);Ft=_t;do yr=O.heap[1],O.heap[1]=O.heap[O.heap_len--],or(O,ee,1),Gt=O.heap[1],O.heap[--O.heap_max]=yr,O.heap[--O.heap_max]=Gt,ee[Ft*2]=ee[yr*2]+ee[Gt*2],O.depth[Ft]=(O.depth[yr]>=O.depth[Gt]?O.depth[yr]:O.depth[Gt])+1,ee[yr*2+1]=ee[Gt*2+1]=Ft,O.heap[1]=Ft++,or(O,ee,1);while(O.heap_len>=2);O.heap[--O.heap_max]=O.heap[1],rr(O,Be),Jt(ee,$n,O.bl_count)},bn=(O,Be,ee)=>{let Ze,St=-1,_t,yr=Be[1],Gt=0,$n=7,Ft=4;for(yr===0&&($n=138,Ft=3),Be[(ee+1)*2+1]=65535,Ze=0;Ze<=ee;Ze++)_t=yr,yr=Be[(Ze+1)*2+1],!(++Gt<$n&&_t===yr)&&(Gt<Ft?O.bl_tree[_t*2]+=Gt:_t!==0?(_t!==St&&O.bl_tree[_t*2]++,O.bl_tree[we*2]++):Gt<=10?O.bl_tree[ve*2]++:O.bl_tree[ne*2]++,Gt=0,St=_t,yr===0?($n=138,Ft=3):_t===yr?($n=6,Ft=3):($n=7,Ft=4))},Un=(O,Be,ee)=>{let Ze,St=-1,_t,yr=Be[1],Gt=0,$n=7,Ft=4;for(yr===0&&($n=138,Ft=3),Ze=0;Ze<=ee;Ze++)if(_t=yr,yr=Be[(Ze+1)*2+1],!(++Gt<$n&&_t===yr)){if(Gt<Ft)do bt(O,_t,O.bl_tree);while(--Gt!==0);else _t!==0?(_t!==St&&(bt(O,_t,O.bl_tree),Gt--),bt(O,we,O.bl_tree),Tt(O,Gt-3,2)):Gt<=10?(bt(O,ve,O.bl_tree),Tt(O,Gt-3,3)):(bt(O,ne,O.bl_tree),Tt(O,Gt-11,7));Gt=0,St=_t,yr===0?($n=138,Ft=3):_t===yr?($n=6,Ft=3):($n=7,Ft=4)}},st=O=>{let Be;for(bn(O,O.dyn_ltree,O.l_desc.max_code),bn(O,O.dyn_dtree,O.d_desc.max_code),cn(O,O.bl_desc),Be=M-1;Be>=3&&O.bl_tree[Pe[Be]*2+1]===0;Be--);return O.opt_len+=3*(Be+1)+5+5+4,Be},Ht=(O,Be,ee,Ze)=>{let St;for(Tt(O,Be-257,5),Tt(O,ee-1,5),Tt(O,Ze-4,4),St=0;St<Ze;St++)Tt(O,O.bl_tree[Pe[St]*2+1],3);Un(O,O.dyn_ltree,Be-1),Un(O,O.dyn_dtree,ee-1)},Lr=O=>{let Be=4093624447,ee;for(ee=0;ee<=31;ee++,Be>>>=1)if(Be&1&&O.dyn_ltree[ee*2]!==0)return f;if(O.dyn_ltree[18]!==0||O.dyn_ltree[20]!==0||O.dyn_ltree[26]!==0)return m;for(ee=32;ee<C;ee++)if(O.dyn_ltree[ee*2]!==0)return m;return f};let tr=!1;const Qt=O=>{tr||(ar(),tr=!0),O.l_desc=new Se(O.dyn_ltree,Ue),O.d_desc=new Se(O.dyn_dtree,He),O.bl_desc=new Se(O.bl_tree,Ye),O.bi_buf=0,O.bi_valid=0,Dr(O)},dr=(O,Be,ee,Ze)=>{Tt(O,(x<<1)+(Ze?1:0),3),mn(O),qe(O,ee),qe(O,~ee),ee&&O.pending_buf.set(O.window.subarray(Be,Be+ee),O.pending),O.pending+=ee},Wr=O=>{Tt(O,y<<1,3),bt(O,ye,he),wt(O)},Jr=(O,Be,ee,Ze)=>{let St,_t,yr=0;O.level>0?(O.strm.data_type===p&&(O.strm.data_type=Lr(O)),cn(O,O.l_desc),cn(O,O.d_desc),yr=st(O),St=O.opt_len+3+7>>>3,_t=O.static_len+3+7>>>3,_t<=St&&(St=_t)):St=_t=ee+5,ee+4<=St&&Be!==-1?dr(O,Be,ee,Ze):O.strategy===d||_t===St?(Tt(O,(y<<1)+(Ze?1:0),3),vr(O,he,Ie)):(Tt(O,(w<<1)+(Ze?1:0),3),Ht(O,O.l_desc.max_code+1,O.d_desc.max_code+1,yr+1),vr(O,O.dyn_ltree,O.dyn_dtree)),Dr(O),Ze&&mn(O)},kn=(O,Be,ee)=>(O.pending_buf[O.sym_buf+O.sym_next++]=Be,O.pending_buf[O.sym_buf+O.sym_next++]=Be>>8,O.pending_buf[O.sym_buf+O.sym_next++]=ee,Be===0?O.dyn_ltree[ee*2]++:(O.matches++,Be--,O.dyn_ltree[($e[ee]+C+1)*2]++,O.dyn_dtree[mt(Be)*2]++),O.sym_next===O.sym_end);var un=Qt,Yn=dr,on=Jr,Vr=kn,xn=Wr,An={_tr_init:un,_tr_stored_block:Yn,_tr_flush_block:on,_tr_tally:Vr,_tr_align:xn},ci=(O,Be,ee,Ze)=>{let St=O&65535|0,_t=O>>>16&65535|0,yr=0;for(;ee!==0;){yr=ee>2e3?2e3:ee,ee-=yr;do St=St+Be[Ze++]|0,_t=_t+St|0;while(--yr);St%=65521,_t%=65521}return St|_t<<16|0};const Cs=()=>{let O,Be=[];for(var ee=0;ee<256;ee++){O=ee;for(var Ze=0;Ze<8;Ze++)O=O&1?3988292384^O>>>1:O>>>1;Be[ee]=O}return Be},Ms=new Uint32Array(Cs());var ti=(O,Be,ee,Ze)=>{const St=Ms,_t=Ze+ee;O^=-1;for(let yr=Ze;yr<_t;yr++)O=O>>>8^St[(O^Be[yr])&255];return O^-1},dn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},as={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ta,_tr_stored_block:Tn,_tr_flush_block:Ln,_tr_tally:Fs,_tr_align:Qs}=An,{Z_NO_FLUSH:Us,Z_PARTIAL_FLUSH:rs,Z_FULL_FLUSH:qs,Z_FINISH:Rs,Z_BLOCK:Qa,Z_OK:hs,Z_STREAM_END:_u,Z_STREAM_ERROR:ro,Z_DATA_ERROR:$l,Z_BUF_ERROR:su,Z_DEFAULT_COMPRESSION:pl,Z_FILTERED:ra,Z_HUFFMAN_ONLY:Ya,Z_RLE:Ws,Z_FIXED:ba,Z_DEFAULT_STRATEGY:$s,Z_UNKNOWN:Il,Z_DEFLATED:vo}=as,no=9,gl=15,Hl=8,ui=256+1+29,ks=30,ja=19,za=2*ui+1,Ta=15,vi=3,ei=258,fs=ei+vi+1,wa=32,Qo=42,Hi=57,zo=69,Ea=73,Xs=91,ms=103,jo=113,Va=666,Vs=1,qa=2,xo=3,io=4,Vo=3,zt=(O,Be)=>(O.msg=dn[Be],Be),V=O=>O*2-(O>4?9:0),se=O=>{let Be=O.length;for(;--Be>=0;)O[Be]=0},ce=O=>{let Be,ee,Ze,St=O.w_size;Be=O.hash_size,Ze=Be;do ee=O.head[--Ze],O.head[Ze]=ee>=St?ee-St:0;while(--Be);Be=St,Ze=Be;do ee=O.prev[--Ze],O.prev[Ze]=ee>=St?ee-St:0;while(--Be)};let K=(O,Be,ee)=>(Be<<O.hash_shift^ee)&O.hash_mask;const ie=O=>{const Be=O.state;let ee=Be.pending;ee>O.avail_out&&(ee=O.avail_out),ee!==0&&(O.output.set(Be.pending_buf.subarray(Be.pending_out,Be.pending_out+ee),O.next_out),O.next_out+=ee,Be.pending_out+=ee,O.total_out+=ee,O.avail_out-=ee,Be.pending-=ee,Be.pending===0&&(Be.pending_out=0))},me=(O,Be)=>{Ln(O,O.block_start>=0?O.block_start:-1,O.strstart-O.block_start,Be),O.block_start=O.strstart,ie(O.strm)},je=(O,Be)=>{O.pending_buf[O.pending++]=Be},Qe=(O,Be)=>{O.pending_buf[O.pending++]=Be>>>8&255,O.pending_buf[O.pending++]=Be&255},ut=(O,Be,ee,Ze)=>{let St=O.avail_in;return St>Ze&&(St=Ze),St===0?0:(O.avail_in-=St,Be.set(O.input.subarray(O.next_in,O.next_in+St),ee),O.state.wrap===1?O.adler=ci(O.adler,Be,St,ee):O.state.wrap===2&&(O.adler=ti(O.adler,Be,St,ee)),O.next_in+=St,O.total_in+=St,St)},P=(O,Be)=>{let ee=O.max_chain_length,Ze=O.strstart,St,_t,yr=O.prev_length,Gt=O.nice_match;const $n=O.strstart>O.w_size-fs?O.strstart-(O.w_size-fs):0,Ft=O.window,br=O.w_mask,qi=O.prev,Bn=O.strstart+ei;let sn=Ft[Ze+yr-1],Ur=Ft[Ze+yr];O.prev_length>=O.good_match&&(ee>>=2),Gt>O.lookahead&&(Gt=O.lookahead);do if(St=Be,!(Ft[St+yr]!==Ur||Ft[St+yr-1]!==sn||Ft[St]!==Ft[Ze]||Ft[++St]!==Ft[Ze+1])){Ze+=2,St++;do;while(Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ft[++Ze]===Ft[++St]&&Ze<Bn);if(_t=ei-(Bn-Ze),Ze=Bn-ei,_t>yr){if(O.match_start=Be,yr=_t,_t>=Gt)break;sn=Ft[Ze+yr-1],Ur=Ft[Ze+yr]}}while((Be=qi[Be&br])>$n&&--ee!==0);return yr<=O.lookahead?yr:O.lookahead},k=O=>{const Be=O.w_size;let ee,Ze,St;do{if(Ze=O.window_size-O.lookahead-O.strstart,O.strstart>=Be+(Be-fs)&&(O.window.set(O.window.subarray(Be,Be+Be-Ze),0),O.match_start-=Be,O.strstart-=Be,O.block_start-=Be,O.insert>O.strstart&&(O.insert=O.strstart),ce(O),Ze+=Be),O.strm.avail_in===0)break;if(ee=ut(O.strm,O.window,O.strstart+O.lookahead,Ze),O.lookahead+=ee,O.lookahead+O.insert>=vi)for(St=O.strstart-O.insert,O.ins_h=O.window[St],O.ins_h=K(O,O.ins_h,O.window[St+1]);O.insert&&(O.ins_h=K(O,O.ins_h,O.window[St+vi-1]),O.prev[St&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=St,St++,O.insert--,!(O.lookahead+O.insert<vi)););}while(O.lookahead<fs&&O.strm.avail_in!==0)},F=(O,Be)=>{let ee=O.pending_buf_size-5>O.w_size?O.w_size:O.pending_buf_size-5,Ze,St,_t,yr=0,Gt=O.strm.avail_in;do{if(Ze=65535,_t=O.bi_valid+42>>3,O.strm.avail_out<_t||(_t=O.strm.avail_out-_t,St=O.strstart-O.block_start,Ze>St+O.strm.avail_in&&(Ze=St+O.strm.avail_in),Ze>_t&&(Ze=_t),Ze<ee&&(Ze===0&&Be!==Rs||Be===Us||Ze!==St+O.strm.avail_in)))break;yr=Be===Rs&&Ze===St+O.strm.avail_in?1:0,Tn(O,0,0,yr),O.pending_buf[O.pending-4]=Ze,O.pending_buf[O.pending-3]=Ze>>8,O.pending_buf[O.pending-2]=~Ze,O.pending_buf[O.pending-1]=~Ze>>8,ie(O.strm),St&&(St>Ze&&(St=Ze),O.strm.output.set(O.window.subarray(O.block_start,O.block_start+St),O.strm.next_out),O.strm.next_out+=St,O.strm.avail_out-=St,O.strm.total_out+=St,O.block_start+=St,Ze-=St),Ze&&(ut(O.strm,O.strm.output,O.strm.next_out,Ze),O.strm.next_out+=Ze,O.strm.avail_out-=Ze,O.strm.total_out+=Ze)}while(yr===0);return Gt-=O.strm.avail_in,Gt&&(Gt>=O.w_size?(O.matches=2,O.window.set(O.strm.input.subarray(O.strm.next_in-O.w_size,O.strm.next_in),0),O.strstart=O.w_size,O.insert=O.strstart):(O.window_size-O.strstart<=Gt&&(O.strstart-=O.w_size,O.window.set(O.window.subarray(O.w_size,O.w_size+O.strstart),0),O.matches<2&&O.matches++,O.insert>O.strstart&&(O.insert=O.strstart)),O.window.set(O.strm.input.subarray(O.strm.next_in-Gt,O.strm.next_in),O.strstart),O.strstart+=Gt,O.insert+=Gt>O.w_size-O.insert?O.w_size-O.insert:Gt),O.block_start=O.strstart),O.high_water<O.strstart&&(O.high_water=O.strstart),yr?io:Be!==Us&&Be!==Rs&&O.strm.avail_in===0&&O.strstart===O.block_start?qa:(_t=O.window_size-O.strstart,O.strm.avail_in>_t&&O.block_start>=O.w_size&&(O.block_start-=O.w_size,O.strstart-=O.w_size,O.window.set(O.window.subarray(O.w_size,O.w_size+O.strstart),0),O.matches<2&&O.matches++,_t+=O.w_size,O.insert>O.strstart&&(O.insert=O.strstart)),_t>O.strm.avail_in&&(_t=O.strm.avail_in),_t&&(ut(O.strm,O.window,O.strstart,_t),O.strstart+=_t,O.insert+=_t>O.w_size-O.insert?O.w_size-O.insert:_t),O.high_water<O.strstart&&(O.high_water=O.strstart),_t=O.bi_valid+42>>3,_t=O.pending_buf_size-_t>65535?65535:O.pending_buf_size-_t,ee=_t>O.w_size?O.w_size:_t,St=O.strstart-O.block_start,(St>=ee||(St||Be===Rs)&&Be!==Us&&O.strm.avail_in===0&&St<=_t)&&(Ze=St>_t?_t:St,yr=Be===Rs&&O.strm.avail_in===0&&Ze===St?1:0,Tn(O,O.block_start,Ze,yr),O.block_start+=Ze,ie(O.strm)),yr?xo:Vs)},G=(O,Be)=>{let ee,Ze;for(;;){if(O.lookahead<fs){if(k(O),O.lookahead<fs&&Be===Us)return Vs;if(O.lookahead===0)break}if(ee=0,O.lookahead>=vi&&(O.ins_h=K(O,O.ins_h,O.window[O.strstart+vi-1]),ee=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),ee!==0&&O.strstart-ee<=O.w_size-fs&&(O.match_length=P(O,ee)),O.match_length>=vi)if(Ze=Fs(O,O.strstart-O.match_start,O.match_length-vi),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=vi){O.match_length--;do O.strstart++,O.ins_h=K(O,O.ins_h,O.window[O.strstart+vi-1]),ee=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart;while(--O.match_length!==0);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=K(O,O.ins_h,O.window[O.strstart+1]);else Ze=Fs(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(Ze&&(me(O,!1),O.strm.avail_out===0))return Vs}return O.insert=O.strstart<vi-1?O.strstart:vi-1,Be===Rs?(me(O,!0),O.strm.avail_out===0?xo:io):O.sym_next&&(me(O,!1),O.strm.avail_out===0)?Vs:qa},Z=(O,Be)=>{let ee,Ze,St;for(;;){if(O.lookahead<fs){if(k(O),O.lookahead<fs&&Be===Us)return Vs;if(O.lookahead===0)break}if(ee=0,O.lookahead>=vi&&(O.ins_h=K(O,O.ins_h,O.window[O.strstart+vi-1]),ee=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=vi-1,ee!==0&&O.prev_length<O.max_lazy_match&&O.strstart-ee<=O.w_size-fs&&(O.match_length=P(O,ee),O.match_length<=5&&(O.strategy===ra||O.match_length===vi&&O.strstart-O.match_start>4096)&&(O.match_length=vi-1)),O.prev_length>=vi&&O.match_length<=O.prev_length){St=O.strstart+O.lookahead-vi,Ze=Fs(O,O.strstart-1-O.prev_match,O.prev_length-vi),O.lookahead-=O.prev_length-1,O.prev_length-=2;do++O.strstart<=St&&(O.ins_h=K(O,O.ins_h,O.window[O.strstart+vi-1]),ee=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart);while(--O.prev_length!==0);if(O.match_available=0,O.match_length=vi-1,O.strstart++,Ze&&(me(O,!1),O.strm.avail_out===0))return Vs}else if(O.match_available){if(Ze=Fs(O,0,O.window[O.strstart-1]),Ze&&me(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return Vs}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(Ze=Fs(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<vi-1?O.strstart:vi-1,Be===Rs?(me(O,!0),O.strm.avail_out===0?xo:io):O.sym_next&&(me(O,!1),O.strm.avail_out===0)?Vs:qa},re=(O,Be)=>{let ee,Ze,St,_t;const yr=O.window;for(;;){if(O.lookahead<=ei){if(k(O),O.lookahead<=ei&&Be===Us)return Vs;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=vi&&O.strstart>0&&(St=O.strstart-1,Ze=yr[St],Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St])){_t=O.strstart+ei;do;while(Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St]&&Ze===yr[++St]&&St<_t);O.match_length=ei-(_t-St),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=vi?(ee=Fs(O,1,O.match_length-vi),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):(ee=Fs(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),ee&&(me(O,!1),O.strm.avail_out===0))return Vs}return O.insert=0,Be===Rs?(me(O,!0),O.strm.avail_out===0?xo:io):O.sym_next&&(me(O,!1),O.strm.avail_out===0)?Vs:qa},xe=(O,Be)=>{let ee;for(;;){if(O.lookahead===0&&(k(O),O.lookahead===0)){if(Be===Us)return Vs;break}if(O.match_length=0,ee=Fs(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,ee&&(me(O,!1),O.strm.avail_out===0))return Vs}return O.insert=0,Be===Rs?(me(O,!0),O.strm.avail_out===0?xo:io):O.sym_next&&(me(O,!1),O.strm.avail_out===0)?Vs:qa};function fe(O,Be,ee,Ze,St){this.good_length=O,this.max_lazy=Be,this.nice_length=ee,this.max_chain=Ze,this.func=St}const Ae=[new fe(0,0,0,0,F),new fe(4,4,8,4,G),new fe(4,5,16,8,G),new fe(4,6,32,32,G),new fe(4,4,16,16,Z),new fe(8,16,32,32,Z),new fe(8,16,128,128,Z),new fe(8,32,128,256,Z),new fe(32,128,258,1024,Z),new fe(32,258,258,4096,Z)],ke=O=>{O.window_size=2*O.w_size,se(O.head),O.max_lazy_match=Ae[O.level].max_lazy,O.good_match=Ae[O.level].good_length,O.nice_match=Ae[O.level].nice_length,O.max_chain_length=Ae[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=vi-1,O.match_available=0,O.ins_h=0};function Ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=vo,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(za*2),this.dyn_dtree=new Uint16Array((2*ks+1)*2),this.bl_tree=new Uint16Array((2*ja+1)*2),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Ta+1),this.heap=new Uint16Array(2*ui+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ui+1),se(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Je=O=>{if(!O)return 1;const Be=O.state;return!Be||Be.strm!==O||Be.status!==Qo&&Be.status!==Hi&&Be.status!==zo&&Be.status!==Ea&&Be.status!==Xs&&Be.status!==ms&&Be.status!==jo&&Be.status!==Va?1:0},lt=O=>{if(Je(O))return zt(O,ro);O.total_in=O.total_out=0,O.data_type=Il;const Be=O.state;return Be.pending=0,Be.pending_out=0,Be.wrap<0&&(Be.wrap=-Be.wrap),Be.status=Be.wrap===2?Hi:Be.wrap?Qo:jo,O.adler=Be.wrap===2?0:1,Be.last_flush=-2,ta(Be),hs},Te=O=>{const Be=lt(O);return Be===hs&&ke(O.state),Be},jt=(O,Be)=>Je(O)||O.state.wrap!==2?ro:(O.state.gzhead=Be,hs),ot=(O,Be,ee,Ze,St,_t)=>{if(!O)return ro;let yr=1;if(Be===pl&&(Be=6),Ze<0?(yr=0,Ze=-Ze):Ze>15&&(yr=2,Ze-=16),St<1||St>no||ee!==vo||Ze<8||Ze>15||Be<0||Be>9||_t<0||_t>ba||Ze===8&&yr!==1)return zt(O,ro);Ze===8&&(Ze=9);const Gt=new Ve;return O.state=Gt,Gt.strm=O,Gt.status=Qo,Gt.wrap=yr,Gt.gzhead=null,Gt.w_bits=Ze,Gt.w_size=1<<Gt.w_bits,Gt.w_mask=Gt.w_size-1,Gt.hash_bits=St+7,Gt.hash_size=1<<Gt.hash_bits,Gt.hash_mask=Gt.hash_size-1,Gt.hash_shift=~~((Gt.hash_bits+vi-1)/vi),Gt.window=new Uint8Array(Gt.w_size*2),Gt.head=new Uint16Array(Gt.hash_size),Gt.prev=new Uint16Array(Gt.w_size),Gt.lit_bufsize=1<<St+6,Gt.pending_buf_size=Gt.lit_bufsize*4,Gt.pending_buf=new Uint8Array(Gt.pending_buf_size),Gt.sym_buf=Gt.lit_bufsize,Gt.sym_end=(Gt.lit_bufsize-1)*3,Gt.level=Be,Gt.strategy=_t,Gt.method=ee,Te(O)},Nt=(O,Be)=>ot(O,Be,vo,gl,Hl,$s),nt=(O,Be)=>{if(Je(O)||Be>Qa||Be<0)return O?zt(O,ro):ro;const ee=O.state;if(!O.output||O.avail_in!==0&&!O.input||ee.status===Va&&Be!==Rs)return zt(O,O.avail_out===0?su:ro);const Ze=ee.last_flush;if(ee.last_flush=Be,ee.pending!==0){if(ie(O),O.avail_out===0)return ee.last_flush=-1,hs}else if(O.avail_in===0&&V(Be)<=V(Ze)&&Be!==Rs)return zt(O,su);if(ee.status===Va&&O.avail_in!==0)return zt(O,su);if(ee.status===Qo&&ee.wrap===0&&(ee.status=jo),ee.status===Qo){let St=vo+(ee.w_bits-8<<4)<<8,_t=-1;if(ee.strategy>=Ya||ee.level<2?_t=0:ee.level<6?_t=1:ee.level===6?_t=2:_t=3,St|=_t<<6,ee.strstart!==0&&(St|=wa),St+=31-St%31,Qe(ee,St),ee.strstart!==0&&(Qe(ee,O.adler>>>16),Qe(ee,O.adler&65535)),O.adler=1,ee.status=jo,ie(O),ee.pending!==0)return ee.last_flush=-1,hs}if(ee.status===Hi){if(O.adler=0,je(ee,31),je(ee,139),je(ee,8),ee.gzhead)je(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),je(ee,ee.gzhead.time&255),je(ee,ee.gzhead.time>>8&255),je(ee,ee.gzhead.time>>16&255),je(ee,ee.gzhead.time>>24&255),je(ee,ee.level===9?2:ee.strategy>=Ya||ee.level<2?4:0),je(ee,ee.gzhead.os&255),ee.gzhead.extra&&ee.gzhead.extra.length&&(je(ee,ee.gzhead.extra.length&255),je(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=zo;else if(je(ee,0),je(ee,0),je(ee,0),je(ee,0),je(ee,0),je(ee,ee.level===9?2:ee.strategy>=Ya||ee.level<2?4:0),je(ee,Vo),ee.status=jo,ie(O),ee.pending!==0)return ee.last_flush=-1,hs}if(ee.status===zo){if(ee.gzhead.extra){let St=ee.pending,_t=(ee.gzhead.extra.length&65535)-ee.gzindex;for(;ee.pending+_t>ee.pending_buf_size;){let Gt=ee.pending_buf_size-ee.pending;if(ee.pending_buf.set(ee.gzhead.extra.subarray(ee.gzindex,ee.gzindex+Gt),ee.pending),ee.pending=ee.pending_buf_size,ee.gzhead.hcrc&&ee.pending>St&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending-St,St)),ee.gzindex+=Gt,ie(O),ee.pending!==0)return ee.last_flush=-1,hs;St=0,_t-=Gt}let yr=new Uint8Array(ee.gzhead.extra);ee.pending_buf.set(yr.subarray(ee.gzindex,ee.gzindex+_t),ee.pending),ee.pending+=_t,ee.gzhead.hcrc&&ee.pending>St&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending-St,St)),ee.gzindex=0}ee.status=Ea}if(ee.status===Ea){if(ee.gzhead.name){let St=ee.pending,_t;do{if(ee.pending===ee.pending_buf_size){if(ee.gzhead.hcrc&&ee.pending>St&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending-St,St)),ie(O),ee.pending!==0)return ee.last_flush=-1,hs;St=0}ee.gzindex<ee.gzhead.name.length?_t=ee.gzhead.name.charCodeAt(ee.gzindex++)&255:_t=0,je(ee,_t)}while(_t!==0);ee.gzhead.hcrc&&ee.pending>St&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending-St,St)),ee.gzindex=0}ee.status=Xs}if(ee.status===Xs){if(ee.gzhead.comment){let St=ee.pending,_t;do{if(ee.pending===ee.pending_buf_size){if(ee.gzhead.hcrc&&ee.pending>St&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending-St,St)),ie(O),ee.pending!==0)return ee.last_flush=-1,hs;St=0}ee.gzindex<ee.gzhead.comment.length?_t=ee.gzhead.comment.charCodeAt(ee.gzindex++)&255:_t=0,je(ee,_t)}while(_t!==0);ee.gzhead.hcrc&&ee.pending>St&&(O.adler=ti(O.adler,ee.pending_buf,ee.pending-St,St))}ee.status=ms}if(ee.status===ms){if(ee.gzhead.hcrc){if(ee.pending+2>ee.pending_buf_size&&(ie(O),ee.pending!==0))return ee.last_flush=-1,hs;je(ee,O.adler&255),je(ee,O.adler>>8&255),O.adler=0}if(ee.status=jo,ie(O),ee.pending!==0)return ee.last_flush=-1,hs}if(O.avail_in!==0||ee.lookahead!==0||Be!==Us&&ee.status!==Va){let St=ee.level===0?F(ee,Be):ee.strategy===Ya?xe(ee,Be):ee.strategy===Ws?re(ee,Be):Ae[ee.level].func(ee,Be);if((St===xo||St===io)&&(ee.status=Va),St===Vs||St===xo)return O.avail_out===0&&(ee.last_flush=-1),hs;if(St===qa&&(Be===rs?Qs(ee):Be!==Qa&&(Tn(ee,0,0,!1),Be===qs&&(se(ee.head),ee.lookahead===0&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),ie(O),O.avail_out===0))return ee.last_flush=-1,hs}return Be!==Rs?hs:ee.wrap<=0?_u:(ee.wrap===2?(je(ee,O.adler&255),je(ee,O.adler>>8&255),je(ee,O.adler>>16&255),je(ee,O.adler>>24&255),je(ee,O.total_in&255),je(ee,O.total_in>>8&255),je(ee,O.total_in>>16&255),je(ee,O.total_in>>24&255)):(Qe(ee,O.adler>>>16),Qe(ee,O.adler&65535)),ie(O),ee.wrap>0&&(ee.wrap=-ee.wrap),ee.pending!==0?hs:_u)},Ot=O=>{if(Je(O))return ro;const Be=O.state.status;return O.state=null,Be===jo?zt(O,$l):hs},qt=(O,Be)=>{let ee=Be.length;if(Je(O))return ro;const Ze=O.state,St=Ze.wrap;if(St===2||St===1&&Ze.status!==Qo||Ze.lookahead)return ro;if(St===1&&(O.adler=ci(O.adler,Be,ee,0)),Ze.wrap=0,ee>=Ze.w_size){St===0&&(se(Ze.head),Ze.strstart=0,Ze.block_start=0,Ze.insert=0);let $n=new Uint8Array(Ze.w_size);$n.set(Be.subarray(ee-Ze.w_size,ee),0),Be=$n,ee=Ze.w_size}const _t=O.avail_in,yr=O.next_in,Gt=O.input;for(O.avail_in=ee,O.next_in=0,O.input=Be,k(Ze);Ze.lookahead>=vi;){let $n=Ze.strstart,Ft=Ze.lookahead-(vi-1);do Ze.ins_h=K(Ze,Ze.ins_h,Ze.window[$n+vi-1]),Ze.prev[$n&Ze.w_mask]=Ze.head[Ze.ins_h],Ze.head[Ze.ins_h]=$n,$n++;while(--Ft);Ze.strstart=$n,Ze.lookahead=vi-1,k(Ze)}return Ze.strstart+=Ze.lookahead,Ze.block_start=Ze.strstart,Ze.insert=Ze.lookahead,Ze.lookahead=0,Ze.match_length=Ze.prev_length=vi-1,Ze.match_available=0,O.next_in=yr,O.input=Gt,O.avail_in=_t,Ze.wrap=St,hs};var It=Nt,rt=ot,Kt=Te,Nr=lt,lr=jt,Mt=nt,_r=Ot,at=qt,At="pako deflate (from Nodeca project)",Rt={deflateInit:It,deflateInit2:rt,deflateReset:Kt,deflateResetKeep:Nr,deflateSetHeader:lr,deflate:Mt,deflateEnd:_r,deflateSetDictionary:at,deflateInfo:At};const Dt=(O,Be)=>Object.prototype.hasOwnProperty.call(O,Be);var xr=function(O){const Be=Array.prototype.slice.call(arguments,1);for(;Be.length;){const ee=Be.shift();if(ee){if(typeof ee!="object")throw new TypeError(ee+"must be non-object");for(const Ze in ee)Dt(ee,Ze)&&(O[Ze]=ee[Ze])}}return O},Br=O=>{let Be=0;for(let Ze=0,St=O.length;Ze<St;Ze++)Be+=O[Ze].length;const ee=new Uint8Array(Be);for(let Ze=0,St=0,_t=O.length;Ze<_t;Ze++){let yr=O[Ze];ee.set(yr,St),St+=yr.length}return ee},Mr={assign:xr,flattenChunks:Br};let ur=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ur=!1}const Rr=new Uint8Array(256);for(let O=0;O<256;O++)Rr[O]=O>=252?6:O>=248?5:O>=240?4:O>=224?3:O>=192?2:1;Rr[254]=Rr[254]=1;var gn=O=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(O);let Be,ee,Ze,St,_t,yr=O.length,Gt=0;for(St=0;St<yr;St++)ee=O.charCodeAt(St),(ee&64512)===55296&&St+1<yr&&(Ze=O.charCodeAt(St+1),(Ze&64512)===56320&&(ee=65536+(ee-55296<<10)+(Ze-56320),St++)),Gt+=ee<128?1:ee<2048?2:ee<65536?3:4;for(Be=new Uint8Array(Gt),_t=0,St=0;_t<Gt;St++)ee=O.charCodeAt(St),(ee&64512)===55296&&St+1<yr&&(Ze=O.charCodeAt(St+1),(Ze&64512)===56320&&(ee=65536+(ee-55296<<10)+(Ze-56320),St++)),ee<128?Be[_t++]=ee:ee<2048?(Be[_t++]=192|ee>>>6,Be[_t++]=128|ee&63):ee<65536?(Be[_t++]=224|ee>>>12,Be[_t++]=128|ee>>>6&63,Be[_t++]=128|ee&63):(Be[_t++]=240|ee>>>18,Be[_t++]=128|ee>>>12&63,Be[_t++]=128|ee>>>6&63,Be[_t++]=128|ee&63);return Be};const an=(O,Be)=>{if(Be<65534&&O.subarray&&ur)return String.fromCharCode.apply(null,O.length===Be?O:O.subarray(0,Be));let ee="";for(let Ze=0;Ze<Be;Ze++)ee+=String.fromCharCode(O[Ze]);return ee};var Xe=(O,Be)=>{const ee=Be||O.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(O.subarray(0,Be));let Ze,St;const _t=new Array(ee*2);for(St=0,Ze=0;Ze<ee;){let yr=O[Ze++];if(yr<128){_t[St++]=yr;continue}let Gt=Rr[yr];if(Gt>4){_t[St++]=65533,Ze+=Gt-1;continue}for(yr&=Gt===2?31:Gt===3?15:7;Gt>1&&Ze<ee;)yr=yr<<6|O[Ze++]&63,Gt--;if(Gt>1){_t[St++]=65533;continue}yr<65536?_t[St++]=yr:(yr-=65536,_t[St++]=55296|yr>>10&1023,_t[St++]=56320|yr&1023)}return an(_t,St)},Ct=(O,Be)=>{Be=Be||O.length,Be>O.length&&(Be=O.length);let ee=Be-1;for(;ee>=0&&(O[ee]&192)===128;)ee--;return ee<0||ee===0?Be:ee+Rr[O[ee]]>Be?ee:Be},Lt={string2buf:gn,buf2string:Xe,utf8border:Ct};function Wt(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Xt=Wt;const mr=Object.prototype.toString,{Z_NO_FLUSH:Pr,Z_SYNC_FLUSH:Ir,Z_FULL_FLUSH:Zr,Z_FINISH:pn,Z_OK:jn,Z_STREAM_END:Fn,Z_DEFAULT_COMPRESSION:yi,Z_DEFAULT_STRATEGY:vt,Z_DEFLATED:Cn}=as;function Ri(O){this.options=Mr.assign({level:yi,method:Cn,chunkSize:16384,windowBits:15,memLevel:8,strategy:vt},O||{});let Be=this.options;Be.raw&&Be.windowBits>0?Be.windowBits=-Be.windowBits:Be.gzip&&Be.windowBits>0&&Be.windowBits<16&&(Be.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xt,this.strm.avail_out=0;let ee=Rt.deflateInit2(this.strm,Be.level,Be.method,Be.windowBits,Be.memLevel,Be.strategy);if(ee!==jn)throw new Error(dn[ee]);if(Be.header&&Rt.deflateSetHeader(this.strm,Be.header),Be.dictionary){let Ze;if(typeof Be.dictionary=="string"?Ze=Lt.string2buf(Be.dictionary):mr.call(Be.dictionary)==="[object ArrayBuffer]"?Ze=new Uint8Array(Be.dictionary):Ze=Be.dictionary,ee=Rt.deflateSetDictionary(this.strm,Ze),ee!==jn)throw new Error(dn[ee]);this._dict_set=!0}}Ri.prototype.push=function(O,Be){const ee=this.strm,Ze=this.options.chunkSize;let St,_t;if(this.ended)return!1;for(Be===~~Be?_t=Be:_t=Be===!0?pn:Pr,typeof O=="string"?ee.input=Lt.string2buf(O):mr.call(O)==="[object ArrayBuffer]"?ee.input=new Uint8Array(O):ee.input=O,ee.next_in=0,ee.avail_in=ee.input.length;;){if(ee.avail_out===0&&(ee.output=new Uint8Array(Ze),ee.next_out=0,ee.avail_out=Ze),(_t===Ir||_t===Zr)&&ee.avail_out<=6){this.onData(ee.output.subarray(0,ee.next_out)),ee.avail_out=0;continue}if(St=Rt.deflate(ee,_t),St===Fn)return ee.next_out>0&&this.onData(ee.output.subarray(0,ee.next_out)),St=Rt.deflateEnd(this.strm),this.onEnd(St),this.ended=!0,St===jn;if(ee.avail_out===0){this.onData(ee.output);continue}if(_t>0&&ee.next_out>0){this.onData(ee.output.subarray(0,ee.next_out)),ee.avail_out=0;continue}if(ee.avail_in===0)break}return!0},Ri.prototype.onData=function(O){this.chunks.push(O)},Ri.prototype.onEnd=function(O){O===jn&&(this.result=Mr.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function Nn(O,Be){const ee=new Ri(Be);if(ee.push(O,!0),ee.err)throw ee.msg||dn[ee.err];return ee.result}function ln(O,Be){return Be=Be||{},Be.raw=!0,Nn(O,Be)}function Ni(O,Be){return Be=Be||{},Be.gzip=!0,Nn(O,Be)}var Hn=Ri,Vn=Nn,zn=ln,ga=Ni,Di={Deflate:Hn,deflate:Vn,deflateRaw:zn,gzip:ga};const qn=16209,ns=16191;var Si=function(Be,ee){let Ze,St,_t,yr,Gt,$n,Ft,br,qi,Bn,sn,Ur,Fa,Wi,ki,zi,ys,Sn,bs,Ua,ji,ia,Ls,ii;const $i=Be.state;Ze=Be.next_in,Ls=Be.input,St=Ze+(Be.avail_in-5),_t=Be.next_out,ii=Be.output,yr=_t-(ee-Be.avail_out),Gt=_t+(Be.avail_out-257),$n=$i.dmax,Ft=$i.wsize,br=$i.whave,qi=$i.wnext,Bn=$i.window,sn=$i.hold,Ur=$i.bits,Fa=$i.lencode,Wi=$i.distcode,ki=(1<<$i.lenbits)-1,zi=(1<<$i.distbits)-1;e:do{Ur<15&&(sn+=Ls[Ze++]<<Ur,Ur+=8,sn+=Ls[Ze++]<<Ur,Ur+=8),ys=Fa[sn&ki];t:for(;;){if(Sn=ys>>>24,sn>>>=Sn,Ur-=Sn,Sn=ys>>>16&255,Sn===0)ii[_t++]=ys&65535;else if(Sn&16){bs=ys&65535,Sn&=15,Sn&&(Ur<Sn&&(sn+=Ls[Ze++]<<Ur,Ur+=8),bs+=sn&(1<<Sn)-1,sn>>>=Sn,Ur-=Sn),Ur<15&&(sn+=Ls[Ze++]<<Ur,Ur+=8,sn+=Ls[Ze++]<<Ur,Ur+=8),ys=Wi[sn&zi];r:for(;;){if(Sn=ys>>>24,sn>>>=Sn,Ur-=Sn,Sn=ys>>>16&255,Sn&16){if(Ua=ys&65535,Sn&=15,Ur<Sn&&(sn+=Ls[Ze++]<<Ur,Ur+=8,Ur<Sn&&(sn+=Ls[Ze++]<<Ur,Ur+=8)),Ua+=sn&(1<<Sn)-1,Ua>$n){Be.msg="invalid distance too far back",$i.mode=qn;break e}if(sn>>>=Sn,Ur-=Sn,Sn=_t-yr,Ua>Sn){if(Sn=Ua-Sn,Sn>br&&$i.sane){Be.msg="invalid distance too far back",$i.mode=qn;break e}if(ji=0,ia=Bn,qi===0){if(ji+=Ft-Sn,Sn<bs){bs-=Sn;do ii[_t++]=Bn[ji++];while(--Sn);ji=_t-Ua,ia=ii}}else if(qi<Sn){if(ji+=Ft+qi-Sn,Sn-=qi,Sn<bs){bs-=Sn;do ii[_t++]=Bn[ji++];while(--Sn);if(ji=0,qi<bs){Sn=qi,bs-=Sn;do ii[_t++]=Bn[ji++];while(--Sn);ji=_t-Ua,ia=ii}}}else if(ji+=qi-Sn,Sn<bs){bs-=Sn;do ii[_t++]=Bn[ji++];while(--Sn);ji=_t-Ua,ia=ii}for(;bs>2;)ii[_t++]=ia[ji++],ii[_t++]=ia[ji++],ii[_t++]=ia[ji++],bs-=3;bs&&(ii[_t++]=ia[ji++],bs>1&&(ii[_t++]=ia[ji++]))}else{ji=_t-Ua;do ii[_t++]=ii[ji++],ii[_t++]=ii[ji++],ii[_t++]=ii[ji++],bs-=3;while(bs>2);bs&&(ii[_t++]=ii[ji++],bs>1&&(ii[_t++]=ii[ji++]))}}else if((Sn&64)===0){ys=Wi[(ys&65535)+(sn&(1<<Sn)-1)];continue r}else{Be.msg="invalid distance code",$i.mode=qn;break e}break}}else if((Sn&64)===0){ys=Fa[(ys&65535)+(sn&(1<<Sn)-1)];continue t}else if(Sn&32){$i.mode=ns;break e}else{Be.msg="invalid literal/length code",$i.mode=qn;break e}break}}while(Ze<St&&_t<Gt);bs=Ur>>3,Ze-=bs,Ur-=bs<<3,sn&=(1<<Ur)-1,Be.next_in=Ze,Be.next_out=_t,Be.avail_in=Ze<St?5+(St-Ze):5-(Ze-St),Be.avail_out=_t<Gt?257+(Gt-_t):257-(_t-Gt),$i.hold=sn,$i.bits=Ur};const Qn=15,Li=852,Xn=592,Gi=0,is=1,Zi=2,xs=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Ca=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),bi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ys=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var oi=(O,Be,ee,Ze,St,_t,yr,Gt)=>{const $n=Gt.bits;let Ft=0,br=0,qi=0,Bn=0,sn=0,Ur=0,Fa=0,Wi=0,ki=0,zi=0,ys,Sn,bs,Ua,ji,ia=null,Ls;const ii=new Uint16Array(Qn+1),$i=new Uint16Array(Qn+1);let sc=null,ed,cu,yl;for(Ft=0;Ft<=Qn;Ft++)ii[Ft]=0;for(br=0;br<Ze;br++)ii[Be[ee+br]]++;for(sn=$n,Bn=Qn;Bn>=1&&ii[Bn]===0;Bn--);if(sn>Bn&&(sn=Bn),Bn===0)return St[_t++]=1<<24|64<<16|0,St[_t++]=1<<24|64<<16|0,Gt.bits=1,0;for(qi=1;qi<Bn&&ii[qi]===0;qi++);for(sn<qi&&(sn=qi),Wi=1,Ft=1;Ft<=Qn;Ft++)if(Wi<<=1,Wi-=ii[Ft],Wi<0)return-1;if(Wi>0&&(O===Gi||Bn!==1))return-1;for($i[1]=0,Ft=1;Ft<Qn;Ft++)$i[Ft+1]=$i[Ft]+ii[Ft];for(br=0;br<Ze;br++)Be[ee+br]!==0&&(yr[$i[Be[ee+br]]++]=br);if(O===Gi?(ia=sc=yr,Ls=20):O===is?(ia=xs,sc=Ca,Ls=257):(ia=bi,sc=Ys,Ls=0),zi=0,br=0,Ft=qi,ji=_t,Ur=sn,Fa=0,bs=-1,ki=1<<sn,Ua=ki-1,O===is&&ki>Li||O===Zi&&ki>Xn)return 1;for(;;){ed=Ft-Fa,yr[br]+1<Ls?(cu=0,yl=yr[br]):yr[br]>=Ls?(cu=sc[yr[br]-Ls],yl=ia[yr[br]-Ls]):(cu=96,yl=0),ys=1<<Ft-Fa,Sn=1<<Ur,qi=Sn;do Sn-=ys,St[ji+(zi>>Fa)+Sn]=ed<<24|cu<<16|yl|0;while(Sn!==0);for(ys=1<<Ft-1;zi&ys;)ys>>=1;if(ys!==0?(zi&=ys-1,zi+=ys):zi=0,br++,--ii[Ft]===0){if(Ft===Bn)break;Ft=Be[ee+yr[br]]}if(Ft>sn&&(zi&Ua)!==bs){for(Fa===0&&(Fa=sn),ji+=qi,Ur=Ft-Fa,Wi=1<<Ur;Ur+Fa<Bn&&(Wi-=ii[Ur+Fa],!(Wi<=0));)Ur++,Wi<<=1;if(ki+=1<<Ur,O===is&&ki>Li||O===Zi&&ki>Xn)return 1;bs=zi&Ua,St[bs]=sn<<24|Ur<<16|ji-_t|0}}return zi!==0&&(St[ji+zi]=Ft-Fa<<24|64<<16|0),Gt.bits=sn,0};const da=0,Ii=1,_n=2,{Z_FINISH:cs,Z_BLOCK:Su,Z_TREES:so,Z_OK:Ko,Z_STREAM_END:rc,Z_NEED_DICT:wi,Z_STREAM_ERROR:Ra,Z_DATA_ERROR:Xa,Z_MEM_ERROR:Ql,Z_BUF_ERROR:zl,Z_DEFLATED:ha}=as,yo=16180,Za=16181,zc=16182,To=16183,gc=16184,Ka=16185,Vl=16186,Kl=16187,Bl=16188,Ed=16189,nc=16190,Gl=16191,vc=16192,_d=16193,Wl=16194,Yl=16195,ju=16196,ql=16197,Io=16198,vl=16199,au=16200,xc=16201,Kd=16202,ic=16203,Xu=16204,Sd=16205,xl=16206,ch=16207,Pl=16208,Fi=16209,yc=16210,Vc=16211,Kc=852,Zu=592,Bo=15,ou=O=>(O>>>24&255)+(O>>>8&65280)+((O&65280)<<8)+((O&255)<<24);function v(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const S=O=>{if(!O)return 1;const Be=O.state;return!Be||Be.strm!==O||Be.mode<yo||Be.mode>Vc?1:0},Q=O=>{if(S(O))return Ra;const Be=O.state;return O.total_in=O.total_out=Be.total=0,O.msg="",Be.wrap&&(O.adler=Be.wrap&1),Be.mode=yo,Be.last=0,Be.havedict=0,Be.flags=-1,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new Int32Array(Kc),Be.distcode=Be.distdyn=new Int32Array(Zu),Be.sane=1,Be.back=-1,Ko},le=O=>{if(S(O))return Ra;const Be=O.state;return Be.wsize=0,Be.whave=0,Be.wnext=0,Q(O)},Ee=(O,Be)=>{let ee;if(S(O))return Ra;const Ze=O.state;return Be<0?(ee=0,Be=-Be):(ee=(Be>>4)+5,Be<48&&(Be&=15)),Be&&(Be<8||Be>15)?Ra:(Ze.window!==null&&Ze.wbits!==Be&&(Ze.window=null),Ze.wrap=ee,Ze.wbits=Be,le(O))},Ke=(O,Be)=>{if(!O)return Ra;const ee=new v;O.state=ee,ee.strm=O,ee.window=null,ee.mode=yo;const Ze=Ee(O,Be);return Ze!==Ko&&(O.state=null),Ze},kt=O=>Ke(O,Bo);let er=!0,Sr,qr;const En=O=>{if(er){Sr=new Int32Array(512),qr=new Int32Array(32);let Be=0;for(;Be<144;)O.lens[Be++]=8;for(;Be<256;)O.lens[Be++]=9;for(;Be<280;)O.lens[Be++]=7;for(;Be<288;)O.lens[Be++]=8;for(oi(Ii,O.lens,0,288,Sr,0,O.work,{bits:9}),Be=0;Be<32;)O.lens[Be++]=5;oi(_n,O.lens,0,32,qr,0,O.work,{bits:5}),er=!1}O.lencode=Sr,O.lenbits=9,O.distcode=qr,O.distbits=5},di=(O,Be,ee,Ze)=>{let St;const _t=O.state;return _t.window===null&&(_t.wsize=1<<_t.wbits,_t.wnext=0,_t.whave=0,_t.window=new Uint8Array(_t.wsize)),Ze>=_t.wsize?(_t.window.set(Be.subarray(ee-_t.wsize,ee),0),_t.wnext=0,_t.whave=_t.wsize):(St=_t.wsize-_t.wnext,St>Ze&&(St=Ze),_t.window.set(Be.subarray(ee-Ze,ee-Ze+St),_t.wnext),Ze-=St,Ze?(_t.window.set(Be.subarray(ee-Ze,ee),0),_t.wnext=Ze,_t.whave=_t.wsize):(_t.wnext+=St,_t.wnext===_t.wsize&&(_t.wnext=0),_t.whave<_t.wsize&&(_t.whave+=St))),0},As=(O,Be)=>{let ee,Ze,St,_t,yr,Gt,$n,Ft,br,qi,Bn,sn,Ur,Fa,Wi=0,ki,zi,ys,Sn,bs,Ua,ji,ia;const Ls=new Uint8Array(4);let ii,$i;const sc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(S(O)||!O.output||!O.input&&O.avail_in!==0)return Ra;ee=O.state,ee.mode===Gl&&(ee.mode=vc),yr=O.next_out,St=O.output,$n=O.avail_out,_t=O.next_in,Ze=O.input,Gt=O.avail_in,Ft=ee.hold,br=ee.bits,qi=Gt,Bn=$n,ia=Ko;e:for(;;)switch(ee.mode){case yo:if(ee.wrap===0){ee.mode=vc;break}for(;br<16;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(ee.wrap&2&&Ft===35615){ee.wbits===0&&(ee.wbits=15),ee.check=0,Ls[0]=Ft&255,Ls[1]=Ft>>>8&255,ee.check=ti(ee.check,Ls,2,0),Ft=0,br=0,ee.mode=Za;break}if(ee.head&&(ee.head.done=!1),!(ee.wrap&1)||(((Ft&255)<<8)+(Ft>>8))%31){O.msg="incorrect header check",ee.mode=Fi;break}if((Ft&15)!==ha){O.msg="unknown compression method",ee.mode=Fi;break}if(Ft>>>=4,br-=4,ji=(Ft&15)+8,ee.wbits===0&&(ee.wbits=ji),ji>15||ji>ee.wbits){O.msg="invalid window size",ee.mode=Fi;break}ee.dmax=1<<ee.wbits,ee.flags=0,O.adler=ee.check=1,ee.mode=Ft&512?Ed:Gl,Ft=0,br=0;break;case Za:for(;br<16;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(ee.flags=Ft,(ee.flags&255)!==ha){O.msg="unknown compression method",ee.mode=Fi;break}if(ee.flags&57344){O.msg="unknown header flags set",ee.mode=Fi;break}ee.head&&(ee.head.text=Ft>>8&1),ee.flags&512&&ee.wrap&4&&(Ls[0]=Ft&255,Ls[1]=Ft>>>8&255,ee.check=ti(ee.check,Ls,2,0)),Ft=0,br=0,ee.mode=zc;case zc:for(;br<32;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}ee.head&&(ee.head.time=Ft),ee.flags&512&&ee.wrap&4&&(Ls[0]=Ft&255,Ls[1]=Ft>>>8&255,Ls[2]=Ft>>>16&255,Ls[3]=Ft>>>24&255,ee.check=ti(ee.check,Ls,4,0)),Ft=0,br=0,ee.mode=To;case To:for(;br<16;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}ee.head&&(ee.head.xflags=Ft&255,ee.head.os=Ft>>8),ee.flags&512&&ee.wrap&4&&(Ls[0]=Ft&255,Ls[1]=Ft>>>8&255,ee.check=ti(ee.check,Ls,2,0)),Ft=0,br=0,ee.mode=gc;case gc:if(ee.flags&1024){for(;br<16;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}ee.length=Ft,ee.head&&(ee.head.extra_len=Ft),ee.flags&512&&ee.wrap&4&&(Ls[0]=Ft&255,Ls[1]=Ft>>>8&255,ee.check=ti(ee.check,Ls,2,0)),Ft=0,br=0}else ee.head&&(ee.head.extra=null);ee.mode=Ka;case Ka:if(ee.flags&1024&&(sn=ee.length,sn>Gt&&(sn=Gt),sn&&(ee.head&&(ji=ee.head.extra_len-ee.length,ee.head.extra||(ee.head.extra=new Uint8Array(ee.head.extra_len)),ee.head.extra.set(Ze.subarray(_t,_t+sn),ji)),ee.flags&512&&ee.wrap&4&&(ee.check=ti(ee.check,Ze,sn,_t)),Gt-=sn,_t+=sn,ee.length-=sn),ee.length))break e;ee.length=0,ee.mode=Vl;case Vl:if(ee.flags&2048){if(Gt===0)break e;sn=0;do ji=Ze[_t+sn++],ee.head&&ji&&ee.length<65536&&(ee.head.name+=String.fromCharCode(ji));while(ji&&sn<Gt);if(ee.flags&512&&ee.wrap&4&&(ee.check=ti(ee.check,Ze,sn,_t)),Gt-=sn,_t+=sn,ji)break e}else ee.head&&(ee.head.name=null);ee.length=0,ee.mode=Kl;case Kl:if(ee.flags&4096){if(Gt===0)break e;sn=0;do ji=Ze[_t+sn++],ee.head&&ji&&ee.length<65536&&(ee.head.comment+=String.fromCharCode(ji));while(ji&&sn<Gt);if(ee.flags&512&&ee.wrap&4&&(ee.check=ti(ee.check,Ze,sn,_t)),Gt-=sn,_t+=sn,ji)break e}else ee.head&&(ee.head.comment=null);ee.mode=Bl;case Bl:if(ee.flags&512){for(;br<16;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(ee.wrap&4&&Ft!==(ee.check&65535)){O.msg="header crc mismatch",ee.mode=Fi;break}Ft=0,br=0}ee.head&&(ee.head.hcrc=ee.flags>>9&1,ee.head.done=!0),O.adler=ee.check=0,ee.mode=Gl;break;case Ed:for(;br<32;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}O.adler=ee.check=ou(Ft),Ft=0,br=0,ee.mode=nc;case nc:if(ee.havedict===0)return O.next_out=yr,O.avail_out=$n,O.next_in=_t,O.avail_in=Gt,ee.hold=Ft,ee.bits=br,wi;O.adler=ee.check=1,ee.mode=Gl;case Gl:if(Be===Su||Be===so)break e;case vc:if(ee.last){Ft>>>=br&7,br-=br&7,ee.mode=xl;break}for(;br<3;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}switch(ee.last=Ft&1,Ft>>>=1,br-=1,Ft&3){case 0:ee.mode=_d;break;case 1:if(En(ee),ee.mode=vl,Be===so){Ft>>>=2,br-=2;break e}break;case 2:ee.mode=ju;break;case 3:O.msg="invalid block type",ee.mode=Fi}Ft>>>=2,br-=2;break;case _d:for(Ft>>>=br&7,br-=br&7;br<32;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if((Ft&65535)!==(Ft>>>16^65535)){O.msg="invalid stored block lengths",ee.mode=Fi;break}if(ee.length=Ft&65535,Ft=0,br=0,ee.mode=Wl,Be===so)break e;case Wl:ee.mode=Yl;case Yl:if(sn=ee.length,sn){if(sn>Gt&&(sn=Gt),sn>$n&&(sn=$n),sn===0)break e;St.set(Ze.subarray(_t,_t+sn),yr),Gt-=sn,_t+=sn,$n-=sn,yr+=sn,ee.length-=sn;break}ee.mode=Gl;break;case ju:for(;br<14;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(ee.nlen=(Ft&31)+257,Ft>>>=5,br-=5,ee.ndist=(Ft&31)+1,Ft>>>=5,br-=5,ee.ncode=(Ft&15)+4,Ft>>>=4,br-=4,ee.nlen>286||ee.ndist>30){O.msg="too many length or distance symbols",ee.mode=Fi;break}ee.have=0,ee.mode=ql;case ql:for(;ee.have<ee.ncode;){for(;br<3;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}ee.lens[sc[ee.have++]]=Ft&7,Ft>>>=3,br-=3}for(;ee.have<19;)ee.lens[sc[ee.have++]]=0;if(ee.lencode=ee.lendyn,ee.lenbits=7,ii={bits:ee.lenbits},ia=oi(da,ee.lens,0,19,ee.lencode,0,ee.work,ii),ee.lenbits=ii.bits,ia){O.msg="invalid code lengths set",ee.mode=Fi;break}ee.have=0,ee.mode=Io;case Io:for(;ee.have<ee.nlen+ee.ndist;){for(;Wi=ee.lencode[Ft&(1<<ee.lenbits)-1],ki=Wi>>>24,zi=Wi>>>16&255,ys=Wi&65535,!(ki<=br);){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(ys<16)Ft>>>=ki,br-=ki,ee.lens[ee.have++]=ys;else{if(ys===16){for($i=ki+2;br<$i;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(Ft>>>=ki,br-=ki,ee.have===0){O.msg="invalid bit length repeat",ee.mode=Fi;break}ji=ee.lens[ee.have-1],sn=3+(Ft&3),Ft>>>=2,br-=2}else if(ys===17){for($i=ki+3;br<$i;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}Ft>>>=ki,br-=ki,ji=0,sn=3+(Ft&7),Ft>>>=3,br-=3}else{for($i=ki+7;br<$i;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}Ft>>>=ki,br-=ki,ji=0,sn=11+(Ft&127),Ft>>>=7,br-=7}if(ee.have+sn>ee.nlen+ee.ndist){O.msg="invalid bit length repeat",ee.mode=Fi;break}for(;sn--;)ee.lens[ee.have++]=ji}}if(ee.mode===Fi)break;if(ee.lens[256]===0){O.msg="invalid code -- missing end-of-block",ee.mode=Fi;break}if(ee.lenbits=9,ii={bits:ee.lenbits},ia=oi(Ii,ee.lens,0,ee.nlen,ee.lencode,0,ee.work,ii),ee.lenbits=ii.bits,ia){O.msg="invalid literal/lengths set",ee.mode=Fi;break}if(ee.distbits=6,ee.distcode=ee.distdyn,ii={bits:ee.distbits},ia=oi(_n,ee.lens,ee.nlen,ee.ndist,ee.distcode,0,ee.work,ii),ee.distbits=ii.bits,ia){O.msg="invalid distances set",ee.mode=Fi;break}if(ee.mode=vl,Be===so)break e;case vl:ee.mode=au;case au:if(Gt>=6&&$n>=258){O.next_out=yr,O.avail_out=$n,O.next_in=_t,O.avail_in=Gt,ee.hold=Ft,ee.bits=br,Si(O,Bn),yr=O.next_out,St=O.output,$n=O.avail_out,_t=O.next_in,Ze=O.input,Gt=O.avail_in,Ft=ee.hold,br=ee.bits,ee.mode===Gl&&(ee.back=-1);break}for(ee.back=0;Wi=ee.lencode[Ft&(1<<ee.lenbits)-1],ki=Wi>>>24,zi=Wi>>>16&255,ys=Wi&65535,!(ki<=br);){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(zi&&(zi&240)===0){for(Sn=ki,bs=zi,Ua=ys;Wi=ee.lencode[Ua+((Ft&(1<<Sn+bs)-1)>>Sn)],ki=Wi>>>24,zi=Wi>>>16&255,ys=Wi&65535,!(Sn+ki<=br);){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}Ft>>>=Sn,br-=Sn,ee.back+=Sn}if(Ft>>>=ki,br-=ki,ee.back+=ki,ee.length=ys,zi===0){ee.mode=Sd;break}if(zi&32){ee.back=-1,ee.mode=Gl;break}if(zi&64){O.msg="invalid literal/length code",ee.mode=Fi;break}ee.extra=zi&15,ee.mode=xc;case xc:if(ee.extra){for($i=ee.extra;br<$i;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}ee.length+=Ft&(1<<ee.extra)-1,Ft>>>=ee.extra,br-=ee.extra,ee.back+=ee.extra}ee.was=ee.length,ee.mode=Kd;case Kd:for(;Wi=ee.distcode[Ft&(1<<ee.distbits)-1],ki=Wi>>>24,zi=Wi>>>16&255,ys=Wi&65535,!(ki<=br);){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if((zi&240)===0){for(Sn=ki,bs=zi,Ua=ys;Wi=ee.distcode[Ua+((Ft&(1<<Sn+bs)-1)>>Sn)],ki=Wi>>>24,zi=Wi>>>16&255,ys=Wi&65535,!(Sn+ki<=br);){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}Ft>>>=Sn,br-=Sn,ee.back+=Sn}if(Ft>>>=ki,br-=ki,ee.back+=ki,zi&64){O.msg="invalid distance code",ee.mode=Fi;break}ee.offset=ys,ee.extra=zi&15,ee.mode=ic;case ic:if(ee.extra){for($i=ee.extra;br<$i;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}ee.offset+=Ft&(1<<ee.extra)-1,Ft>>>=ee.extra,br-=ee.extra,ee.back+=ee.extra}if(ee.offset>ee.dmax){O.msg="invalid distance too far back",ee.mode=Fi;break}ee.mode=Xu;case Xu:if($n===0)break e;if(sn=Bn-$n,ee.offset>sn){if(sn=ee.offset-sn,sn>ee.whave&&ee.sane){O.msg="invalid distance too far back",ee.mode=Fi;break}sn>ee.wnext?(sn-=ee.wnext,Ur=ee.wsize-sn):Ur=ee.wnext-sn,sn>ee.length&&(sn=ee.length),Fa=ee.window}else Fa=St,Ur=yr-ee.offset,sn=ee.length;sn>$n&&(sn=$n),$n-=sn,ee.length-=sn;do St[yr++]=Fa[Ur++];while(--sn);ee.length===0&&(ee.mode=au);break;case Sd:if($n===0)break e;St[yr++]=ee.length,$n--,ee.mode=au;break;case xl:if(ee.wrap){for(;br<32;){if(Gt===0)break e;Gt--,Ft|=Ze[_t++]<<br,br+=8}if(Bn-=$n,O.total_out+=Bn,ee.total+=Bn,ee.wrap&4&&Bn&&(O.adler=ee.check=ee.flags?ti(ee.check,St,Bn,yr-Bn):ci(ee.check,St,Bn,yr-Bn)),Bn=$n,ee.wrap&4&&(ee.flags?Ft:ou(Ft))!==ee.check){O.msg="incorrect data check",ee.mode=Fi;break}Ft=0,br=0}ee.mode=ch;case ch:if(ee.wrap&&ee.flags){for(;br<32;){if(Gt===0)break e;Gt--,Ft+=Ze[_t++]<<br,br+=8}if(ee.wrap&4&&Ft!==(ee.total&4294967295)){O.msg="incorrect length check",ee.mode=Fi;break}Ft=0,br=0}ee.mode=Pl;case Pl:ia=rc;break e;case Fi:ia=Xa;break e;case yc:return Ql;case Vc:default:return Ra}return O.next_out=yr,O.avail_out=$n,O.next_in=_t,O.avail_in=Gt,ee.hold=Ft,ee.bits=br,(ee.wsize||Bn!==O.avail_out&&ee.mode<Fi&&(ee.mode<xl||Be!==cs))&&di(O,O.output,O.next_out,Bn-O.avail_out),qi-=O.avail_in,Bn-=O.avail_out,O.total_in+=qi,O.total_out+=Bn,ee.total+=Bn,ee.wrap&4&&Bn&&(O.adler=ee.check=ee.flags?ti(ee.check,St,Bn,O.next_out-Bn):ci(ee.check,St,Bn,O.next_out-Bn)),O.data_type=ee.bits+(ee.last?64:0)+(ee.mode===Gl?128:0)+(ee.mode===vl||ee.mode===Wl?256:0),(qi===0&&Bn===0||Be===cs)&&ia===Ko&&(ia=zl),ia},Da=O=>{if(S(O))return Ra;let Be=O.state;return Be.window&&(Be.window=null),O.state=null,Ko},Co=(O,Be)=>{if(S(O))return Ra;const ee=O.state;return(ee.wrap&2)===0?Ra:(ee.head=Be,Be.done=!1,Ko)},il=(O,Be)=>{const ee=Be.length;let Ze,St,_t;return S(O)||(Ze=O.state,Ze.wrap!==0&&Ze.mode!==nc)?Ra:Ze.mode===nc&&(St=1,St=ci(St,Be,ee,0),St!==Ze.check)?Xa:(_t=di(O,Be,ee,ee),_t?(Ze.mode=yc,Ql):(Ze.havedict=1,Ko))};var Zs=le,la=Ee,In=Q,Ju=kt,wc=Ke,jd=As,Xl=Da,Tu=Co,ao=il,Cu="pako inflate (from Nodeca project)",Go={inflateReset:Zs,inflateReset2:la,inflateResetKeep:In,inflateInit:Ju,inflateInit2:wc,inflate:jd,inflateEnd:Xl,inflateGetHeader:Tu,inflateSetDictionary:ao,inflateInfo:Cu};function Td(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Ec=Td;const Gd=Object.prototype.toString,{Z_NO_FLUSH:Zl,Z_FINISH:Nu,Z_OK:_c,Z_STREAM_END:Gc,Z_NEED_DICT:Th,Z_STREAM_ERROR:lu,Z_DATA_ERROR:Cd,Z_MEM_ERROR:uh}=as;function Wc(O){this.options=Mr.assign({chunkSize:65536,windowBits:15,to:""},O||{});const Be=this.options;Be.raw&&Be.windowBits>=0&&Be.windowBits<16&&(Be.windowBits=-Be.windowBits,Be.windowBits===0&&(Be.windowBits=-15)),Be.windowBits>=0&&Be.windowBits<16&&!(O&&O.windowBits)&&(Be.windowBits+=32),Be.windowBits>15&&Be.windowBits<48&&(Be.windowBits&15)===0&&(Be.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xt,this.strm.avail_out=0;let ee=Go.inflateInit2(this.strm,Be.windowBits);if(ee!==_c)throw new Error(dn[ee]);if(this.header=new Ec,Go.inflateGetHeader(this.strm,this.header),Be.dictionary&&(typeof Be.dictionary=="string"?Be.dictionary=Lt.string2buf(Be.dictionary):Gd.call(Be.dictionary)==="[object ArrayBuffer]"&&(Be.dictionary=new Uint8Array(Be.dictionary)),Be.raw&&(ee=Go.inflateSetDictionary(this.strm,Be.dictionary),ee!==_c)))throw new Error(dn[ee])}Wc.prototype.push=function(O,Be){const ee=this.strm,Ze=this.options.chunkSize,St=this.options.dictionary;let _t,yr,Gt;if(this.ended)return!1;for(Be===~~Be?yr=Be:yr=Be===!0?Nu:Zl,Gd.call(O)==="[object ArrayBuffer]"?ee.input=new Uint8Array(O):ee.input=O,ee.next_in=0,ee.avail_in=ee.input.length;;){for(ee.avail_out===0&&(ee.output=new Uint8Array(Ze),ee.next_out=0,ee.avail_out=Ze),_t=Go.inflate(ee,yr),_t===Th&&St&&(_t=Go.inflateSetDictionary(ee,St),_t===_c?_t=Go.inflate(ee,yr):_t===Cd&&(_t=Th));ee.avail_in>0&&_t===Gc&&ee.state.wrap>0&&O[ee.next_in]!==0;)Go.inflateReset(ee),_t=Go.inflate(ee,yr);switch(_t){case lu:case Cd:case Th:case uh:return this.onEnd(_t),this.ended=!0,!1}if(Gt=ee.avail_out,ee.next_out&&(ee.avail_out===0||_t===Gc))if(this.options.to==="string"){let $n=Lt.utf8border(ee.output,ee.next_out),Ft=ee.next_out-$n,br=Lt.buf2string(ee.output,$n);ee.next_out=Ft,ee.avail_out=Ze-Ft,Ft&&ee.output.set(ee.output.subarray($n,$n+Ft),0),this.onData(br)}else this.onData(ee.output.length===ee.next_out?ee.output:ee.output.subarray(0,ee.next_out));if(!(_t===_c&&Gt===0)){if(_t===Gc)return _t=Go.inflateEnd(this.strm),this.onEnd(_t),this.ended=!0,!0;if(ee.avail_in===0)break}}return!0},Wc.prototype.onData=function(O){this.chunks.push(O)},Wc.prototype.onEnd=function(O){O===_c&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Mr.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function bo(O,Be){const ee=new Wc(Be);if(ee.push(O),ee.err)throw ee.msg||dn[ee.err];return ee.result}function Ch(O,Be){return Be=Be||{},Be.raw=!0,bo(O,Be)}var dm=Wc,Wm=bo,dh=Ch,hh=bo,Po={Inflate:dm,inflate:Wm,inflateRaw:dh,ungzip:hh};const{Deflate:fh,deflate:Nh,deflateRaw:ue,gzip:Me}=Di,{Inflate:Et,inflate:Bt,inflateRaw:nr,ungzip:Kr}=Po;var rn=fh,ri=Nh,ni=ue,Yi=Me,os=Et,na=Bt,Ma=nr,Oo=Kr,Na=as,Wo={Deflate:rn,deflate:ri,deflateRaw:ni,gzip:Yi,Inflate:os,inflate:na,inflateRaw:Ma,ungzip:Oo,constants:Na}}),"./node_modules/performance-now/lib/performance-now.js":(function(c){(function(){var u,l,d,f,m,p;typeof performance<"u"&&performance!==null&&performance.now?c.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(c.exports=function(){return(u()-m)/1e6},l=process.hrtime,u=function(){var g;return g=l(),g[0]*1e9+g[1]},f=u(),p=process.uptime()*1e9,m=f-p):Date.now?(c.exports=function(){return Date.now()-d},d=Date.now()):(c.exports=function(){return new Date().getTime()-d},d=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(c,u,l){for(var d=l("./node_modules/performance-now/lib/performance-now.js"),f=typeof window>"u"?Z1:window,m=["moz","webkit"],p="AnimationFrame",g=f["request"+p],x=f["cancel"+p]||f["cancelRequest"+p],y=0;!g&&y<m.length;y++)g=f[m[y]+"Request"+p],x=f[m[y]+"Cancel"+p]||f[m[y]+"CancelRequest"+p];if(!g||!x){var w=0,E=0,_=[],N=1e3/60;g=function(C){if(_.length===0){var I=d(),D=Math.max(0,N-(I-w));w=D+I,setTimeout(function(){var M=_.slice(0);_.length=0;for(var Y=0;Y<M.length;Y++)if(!M[Y].cancelled)try{M[Y].callback(w)}catch(X){setTimeout(function(){throw X},0)}},Math.round(D))}return _.push({handle:++E,callback:C,cancelled:!1}),E},x=function(C){for(var I=0;I<_.length;I++)_[I].handle===C&&(_[I].cancelled=!0)}}c.exports=function(C){return g.call(f,C)},c.exports.cancel=function(){x.apply(f,arguments)},c.exports.polyfill=function(C){C||(C=f),C.requestAnimationFrame=g,C.cancelAnimationFrame=x}}),"./node_modules/rgbcolor/index.js":(function(c){c.exports=function(u){this.ok=!1,this.alpha=1,u.charAt(0)=="#"&&(u=u.substr(1,6)),u=u.replace(/ /g,""),u=u.toLowerCase();var l={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};u=l[u]||u;for(var d=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(y){return[parseInt(y[1]),parseInt(y[2]),parseInt(y[3]),parseFloat(y[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(y){return[parseInt(y[1]),parseInt(y[2]),parseInt(y[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(y){return[parseInt(y[1],16),parseInt(y[2],16),parseInt(y[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(y){return[parseInt(y[1]+y[1],16),parseInt(y[2]+y[2],16),parseInt(y[3]+y[3],16)]}}],f=0;f<d.length;f++){var m=d[f].re,p=d[f].process,g=m.exec(u);if(g){var x=p(g);this.r=x[0],this.g=x[1],this.b=x[2],x.length>3&&(this.alpha=x[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var y=this.r.toString(16),w=this.g.toString(16),E=this.b.toString(16);return y.length==1&&(y="0"+y),w.length==1&&(w="0"+w),E.length==1&&(E="0"+E),"#"+y+w+E},this.getHelpXML=function(){for(var y=new Array,w=0;w<d.length;w++)for(var E=d[w].example,_=0;_<E.length;_++)y[y.length]=E[_];for(var N in l)y[y.length]=N;var C=document.createElement("ul");C.setAttribute("id","rgbcolor-examples");for(var w=0;w<y.length;w++)try{var I=document.createElement("li"),D=new RGBColor(y[w]),M=document.createElement("div");M.style.cssText="margin: 3px; border: 1px solid black; background:"+D.toHex()+"; color:"+D.toHex(),M.appendChild(document.createTextNode("test"));var Y=document.createTextNode(" "+y[w]+" -> "+D.toRGB()+" -> "+D.toHex());I.appendChild(M),I.appendChild(Y),C.appendChild(I)}catch{}return C}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(c,u,l){l.r(u),l.d(u,{BlurStack:function(){return N},canvasRGB:function(){return E},canvasRGBA:function(){return y},image:function(){return g},imageDataRGB:function(){return _},imageDataRGBA:function(){return w}});function d(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d=function(I){return typeof I}:d=function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},d(C)}function f(C,I){if(!(C instanceof I))throw new TypeError("Cannot call a class as a function")}var m=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],p=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function g(C,I,D,M,Y,X){if(typeof C=="string"&&(C=document.getElementById(C)),!(!C||Object.prototype.toString.call(C).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in C))){var te=Y?"offset":"natural",de=C[te+"Width"],ye=C[te+"Height"];if(Object.prototype.toString.call(C).slice(8,-1)==="ImageBitmap"&&(de=C.width,ye=C.height),typeof I=="string"&&(I=document.getElementById(I)),!(!I||!("getContext"in I))){X||(I.style.width=de+"px",I.style.height=ye+"px"),I.width=de,I.height=ye;var we=I.getContext("2d");we.clearRect(0,0,de,ye),we.drawImage(C,0,0,C.naturalWidth,C.naturalHeight,0,0,de,ye),!(isNaN(D)||D<1)&&(M?y(I,0,0,de,ye,D):E(I,0,0,de,ye,D))}}}function x(C,I,D,M,Y){if(typeof C=="string"&&(C=document.getElementById(C)),!C||d(C)!=="object"||!("getContext"in C))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var X=C.getContext("2d");try{return X.getImageData(I,D,M,Y)}catch(te){throw new Error("unable to access image data: "+te)}}function y(C,I,D,M,Y,X){if(!(isNaN(X)||X<1)){X|=0;var te=x(C,I,D,M,Y);te=w(te,I,D,M,Y,X),C.getContext("2d").putImageData(te,I,D)}}function w(C,I,D,M,Y,X){for(var te=C.data,de=2*X+1,ye=M-1,we=Y-1,ve=X+1,ne=ve*(ve+1)/2,ae=new N,oe=ae,Re,Pe=1;Pe<de;Pe++)oe=oe.next=new N,Pe===ve&&(Re=oe);oe.next=ae;for(var be=null,he=null,Ie=0,Oe=0,$e=m[X],De=p[X],ct=0;ct<Y;ct++){oe=ae;for(var pt=te[Oe],Ue=te[Oe+1],He=te[Oe+2],Ye=te[Oe+3],Se=0;Se<ve;Se++)oe.r=pt,oe.g=Ue,oe.b=He,oe.a=Ye,oe=oe.next;for(var mt=0,qe=0,Tt=0,bt=0,gt=ve*pt,wt=ve*Ue,rr=ve*He,Jt=ve*Ye,ar=ne*pt,Dr=ne*Ue,mn=ne*He,$r=ne*Ye,or=1;or<ve;or++){var vr=Oe+((ye<or?ye:or)<<2),cn=te[vr],bn=te[vr+1],Un=te[vr+2],st=te[vr+3],Ht=ve-or;ar+=(oe.r=cn)*Ht,Dr+=(oe.g=bn)*Ht,mn+=(oe.b=Un)*Ht,$r+=(oe.a=st)*Ht,mt+=cn,qe+=bn,Tt+=Un,bt+=st,oe=oe.next}be=ae,he=Re;for(var Lr=0;Lr<M;Lr++){var tr=$r*$e>>>De;if(te[Oe+3]=tr,tr!==0){var Qt=255/tr;te[Oe]=(ar*$e>>>De)*Qt,te[Oe+1]=(Dr*$e>>>De)*Qt,te[Oe+2]=(mn*$e>>>De)*Qt}else te[Oe]=te[Oe+1]=te[Oe+2]=0;ar-=gt,Dr-=wt,mn-=rr,$r-=Jt,gt-=be.r,wt-=be.g,rr-=be.b,Jt-=be.a;var dr=Lr+X+1;dr=Ie+(dr<ye?dr:ye)<<2,mt+=be.r=te[dr],qe+=be.g=te[dr+1],Tt+=be.b=te[dr+2],bt+=be.a=te[dr+3],ar+=mt,Dr+=qe,mn+=Tt,$r+=bt,be=be.next;var Wr=he,Jr=Wr.r,kn=Wr.g,un=Wr.b,Yn=Wr.a;gt+=Jr,wt+=kn,rr+=un,Jt+=Yn,mt-=Jr,qe-=kn,Tt-=un,bt-=Yn,he=he.next,Oe+=4}Ie+=M}for(var on=0;on<M;on++){Oe=on<<2;var Vr=te[Oe],xn=te[Oe+1],An=te[Oe+2],Mn=te[Oe+3],ci=ve*Vr,Cs=ve*xn,Ms=ve*An,Ns=ve*Mn,ti=ne*Vr,dn=ne*xn,as=ne*An,ta=ne*Mn;oe=ae;for(var Tn=0;Tn<ve;Tn++)oe.r=Vr,oe.g=xn,oe.b=An,oe.a=Mn,oe=oe.next;for(var Ln=M,Fs=0,Qs=0,Us=0,rs=0,qs=1;qs<=X;qs++){Oe=Ln+on<<2;var Rs=ve-qs;ti+=(oe.r=Vr=te[Oe])*Rs,dn+=(oe.g=xn=te[Oe+1])*Rs,as+=(oe.b=An=te[Oe+2])*Rs,ta+=(oe.a=Mn=te[Oe+3])*Rs,rs+=Vr,Fs+=xn,Qs+=An,Us+=Mn,oe=oe.next,qs<we&&(Ln+=M)}Oe=on,be=ae,he=Re;for(var Qa=0;Qa<Y;Qa++){var hs=Oe<<2;te[hs+3]=Mn=ta*$e>>>De,Mn>0?(Mn=255/Mn,te[hs]=(ti*$e>>>De)*Mn,te[hs+1]=(dn*$e>>>De)*Mn,te[hs+2]=(as*$e>>>De)*Mn):te[hs]=te[hs+1]=te[hs+2]=0,ti-=ci,dn-=Cs,as-=Ms,ta-=Ns,ci-=be.r,Cs-=be.g,Ms-=be.b,Ns-=be.a,hs=on+((hs=Qa+ve)<we?hs:we)*M<<2,ti+=rs+=be.r=te[hs],dn+=Fs+=be.g=te[hs+1],as+=Qs+=be.b=te[hs+2],ta+=Us+=be.a=te[hs+3],be=be.next,ci+=Vr=he.r,Cs+=xn=he.g,Ms+=An=he.b,Ns+=Mn=he.a,rs-=Vr,Fs-=xn,Qs-=An,Us-=Mn,he=he.next,Oe+=M}}return C}function E(C,I,D,M,Y,X){if(!(isNaN(X)||X<1)){X|=0;var te=x(C,I,D,M,Y);te=_(te,I,D,M,Y,X),C.getContext("2d").putImageData(te,I,D)}}function _(C,I,D,M,Y,X){for(var te=C.data,de=2*X+1,ye=M-1,we=Y-1,ve=X+1,ne=ve*(ve+1)/2,ae=new N,oe=ae,Re,Pe=1;Pe<de;Pe++)oe=oe.next=new N,Pe===ve&&(Re=oe);oe.next=ae;for(var be=null,he=null,Ie=m[X],Oe=p[X],$e,De,ct=0,pt=0,Ue=0;Ue<Y;Ue++){var He=te[pt],Ye=te[pt+1],Se=te[pt+2],mt=ve*He,qe=ve*Ye,Tt=ve*Se,bt=ne*He,gt=ne*Ye,wt=ne*Se;oe=ae;for(var rr=0;rr<ve;rr++)oe.r=He,oe.g=Ye,oe.b=Se,oe=oe.next;for(var Jt=0,ar=0,Dr=0,mn=1;mn<ve;mn++)$e=pt+((ye<mn?ye:mn)<<2),bt+=(oe.r=He=te[$e])*(De=ve-mn),gt+=(oe.g=Ye=te[$e+1])*De,wt+=(oe.b=Se=te[$e+2])*De,Jt+=He,ar+=Ye,Dr+=Se,oe=oe.next;be=ae,he=Re;for(var $r=0;$r<M;$r++)te[pt]=bt*Ie>>>Oe,te[pt+1]=gt*Ie>>>Oe,te[pt+2]=wt*Ie>>>Oe,bt-=mt,gt-=qe,wt-=Tt,mt-=be.r,qe-=be.g,Tt-=be.b,$e=ct+(($e=$r+X+1)<ye?$e:ye)<<2,Jt+=be.r=te[$e],ar+=be.g=te[$e+1],Dr+=be.b=te[$e+2],bt+=Jt,gt+=ar,wt+=Dr,be=be.next,mt+=He=he.r,qe+=Ye=he.g,Tt+=Se=he.b,Jt-=He,ar-=Ye,Dr-=Se,he=he.next,pt+=4;ct+=M}for(var or=0;or<M;or++){pt=or<<2;var vr=te[pt],cn=te[pt+1],bn=te[pt+2],Un=ve*vr,st=ve*cn,Ht=ve*bn,Lr=ne*vr,tr=ne*cn,Qt=ne*bn;oe=ae;for(var dr=0;dr<ve;dr++)oe.r=vr,oe.g=cn,oe.b=bn,oe=oe.next;for(var Wr=0,Jr=0,kn=0,un=1,Yn=M;un<=X;un++)pt=Yn+or<<2,Lr+=(oe.r=vr=te[pt])*(De=ve-un),tr+=(oe.g=cn=te[pt+1])*De,Qt+=(oe.b=bn=te[pt+2])*De,Wr+=vr,Jr+=cn,kn+=bn,oe=oe.next,un<we&&(Yn+=M);pt=or,be=ae,he=Re;for(var on=0;on<Y;on++)$e=pt<<2,te[$e]=Lr*Ie>>>Oe,te[$e+1]=tr*Ie>>>Oe,te[$e+2]=Qt*Ie>>>Oe,Lr-=Un,tr-=st,Qt-=Ht,Un-=be.r,st-=be.g,Ht-=be.b,$e=or+(($e=on+ve)<we?$e:we)*M<<2,Lr+=Wr+=be.r=te[$e],tr+=Jr+=be.g=te[$e+1],Qt+=kn+=be.b=te[$e+2],be=be.next,Un+=vr=he.r,st+=cn=he.g,Ht+=bn=he.b,Wr-=vr,Jr-=cn,kn-=bn,he=he.next,pt+=M}return C}var N=function C(){f(this,C),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(c,u,l){l.r(u),l.d(u,{COMMAND_ARG_COUNTS:function(){return we},SVGPathData:function(){return ye},SVGPathDataParser:function(){return de},SVGPathDataTransformer:function(){return E},encodeSVGPath:function(){return m}});var d=function(ve,ne){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,oe){ae.__proto__=oe}||function(ae,oe){for(var Re in oe)Object.prototype.hasOwnProperty.call(oe,Re)&&(ae[Re]=oe[Re])})(ve,ne)};function f(ve,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function ae(){this.constructor=ve}d(ve,ne),ve.prototype=ne===null?Object.create(ne):(ae.prototype=ne.prototype,new ae)}function m(ve){var ne="";Array.isArray(ve)||(ve=[ve]);for(var ae=0;ae<ve.length;ae++){var oe=ve[ae];if(oe.type===ye.CLOSE_PATH)ne+="z";else if(oe.type===ye.HORIZ_LINE_TO)ne+=(oe.relative?"h":"H")+oe.x;else if(oe.type===ye.VERT_LINE_TO)ne+=(oe.relative?"v":"V")+oe.y;else if(oe.type===ye.MOVE_TO)ne+=(oe.relative?"m":"M")+oe.x+" "+oe.y;else if(oe.type===ye.LINE_TO)ne+=(oe.relative?"l":"L")+oe.x+" "+oe.y;else if(oe.type===ye.CURVE_TO)ne+=(oe.relative?"c":"C")+oe.x1+" "+oe.y1+" "+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===ye.SMOOTH_CURVE_TO)ne+=(oe.relative?"s":"S")+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===ye.QUAD_TO)ne+=(oe.relative?"q":"Q")+oe.x1+" "+oe.y1+" "+oe.x+" "+oe.y;else if(oe.type===ye.SMOOTH_QUAD_TO)ne+=(oe.relative?"t":"T")+oe.x+" "+oe.y;else{if(oe.type!==ye.ARC)throw new Error('Unexpected command type "'+oe.type+'" at index '+ae+".");ne+=(oe.relative?"a":"A")+oe.rX+" "+oe.rY+" "+oe.xRot+" "+ +oe.lArcFlag+" "+ +oe.sweepFlag+" "+oe.x+" "+oe.y}}return ne}function p(ve,ne){var ae=ve[0],oe=ve[1];return[ae*Math.cos(ne)-oe*Math.sin(ne),ae*Math.sin(ne)+oe*Math.cos(ne)]}function g(){for(var ve=[],ne=0;ne<arguments.length;ne++)ve[ne]=arguments[ne];for(var ae=0;ae<ve.length;ae++)if(typeof ve[ae]!="number")throw new Error("assertNumbers arguments["+ae+"] is not a number. "+typeof ve[ae]+" == typeof "+ve[ae]);return!0}var x=Math.PI;function y(ve,ne,ae){ve.lArcFlag=ve.lArcFlag===0?0:1,ve.sweepFlag=ve.sweepFlag===0?0:1;var oe=ve.rX,Re=ve.rY,Pe=ve.x,be=ve.y;oe=Math.abs(ve.rX),Re=Math.abs(ve.rY);var he=p([(ne-Pe)/2,(ae-be)/2],-ve.xRot/180*x),Ie=he[0],Oe=he[1],$e=Math.pow(Ie,2)/Math.pow(oe,2)+Math.pow(Oe,2)/Math.pow(Re,2);1<$e&&(oe*=Math.sqrt($e),Re*=Math.sqrt($e)),ve.rX=oe,ve.rY=Re;var De=Math.pow(oe,2)*Math.pow(Oe,2)+Math.pow(Re,2)*Math.pow(Ie,2),ct=(ve.lArcFlag!==ve.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(oe,2)*Math.pow(Re,2)-De)/De)),pt=oe*Oe/Re*ct,Ue=-Re*Ie/oe*ct,He=p([pt,Ue],ve.xRot/180*x);ve.cX=He[0]+(ne+Pe)/2,ve.cY=He[1]+(ae+be)/2,ve.phi1=Math.atan2((Oe-Ue)/Re,(Ie-pt)/oe),ve.phi2=Math.atan2((-Oe-Ue)/Re,(-Ie-pt)/oe),ve.sweepFlag===0&&ve.phi2>ve.phi1&&(ve.phi2-=2*x),ve.sweepFlag===1&&ve.phi2<ve.phi1&&(ve.phi2+=2*x),ve.phi1*=180/x,ve.phi2*=180/x}function w(ve,ne,ae){g(ve,ne,ae);var oe=ve*ve+ne*ne-ae*ae;if(0>oe)return[];if(oe===0)return[[ve*ae/(ve*ve+ne*ne),ne*ae/(ve*ve+ne*ne)]];var Re=Math.sqrt(oe);return[[(ve*ae+ne*Re)/(ve*ve+ne*ne),(ne*ae-ve*Re)/(ve*ve+ne*ne)],[(ve*ae-ne*Re)/(ve*ve+ne*ne),(ne*ae+ve*Re)/(ve*ve+ne*ne)]]}var E,_=Math.PI/180;function N(ve,ne,ae){return(1-ae)*ve+ae*ne}function C(ve,ne,ae,oe){return ve+Math.cos(oe/180*x)*ne+Math.sin(oe/180*x)*ae}function I(ve,ne,ae,oe){var Re=1e-6,Pe=ne-ve,be=ae-ne,he=3*Pe+3*(oe-ae)-6*be,Ie=6*(be-Pe),Oe=3*Pe;return Math.abs(he)<Re?[-Oe/Ie]:(function($e,De,ct){var pt=$e*$e/4-De;if(pt<-ct)return[];if(pt<=ct)return[-$e/2];var Ue=Math.sqrt(pt);return[-$e/2-Ue,-$e/2+Ue]})(Ie/he,Oe/he,Re)}function D(ve,ne,ae,oe,Re){var Pe=1-Re;return ve*(Pe*Pe*Pe)+ne*(3*Pe*Pe*Re)+ae*(3*Pe*Re*Re)+oe*(Re*Re*Re)}(function(ve){function ne(){return Re((function(he,Ie,Oe){return he.relative&&(he.x1!==void 0&&(he.x1+=Ie),he.y1!==void 0&&(he.y1+=Oe),he.x2!==void 0&&(he.x2+=Ie),he.y2!==void 0&&(he.y2+=Oe),he.x!==void 0&&(he.x+=Ie),he.y!==void 0&&(he.y+=Oe),he.relative=!1),he}))}function ae(){var he=NaN,Ie=NaN,Oe=NaN,$e=NaN;return Re((function(De,ct,pt){return De.type&ye.SMOOTH_CURVE_TO&&(De.type=ye.CURVE_TO,he=isNaN(he)?ct:he,Ie=isNaN(Ie)?pt:Ie,De.x1=De.relative?ct-he:2*ct-he,De.y1=De.relative?pt-Ie:2*pt-Ie),De.type&ye.CURVE_TO?(he=De.relative?ct+De.x2:De.x2,Ie=De.relative?pt+De.y2:De.y2):(he=NaN,Ie=NaN),De.type&ye.SMOOTH_QUAD_TO&&(De.type=ye.QUAD_TO,Oe=isNaN(Oe)?ct:Oe,$e=isNaN($e)?pt:$e,De.x1=De.relative?ct-Oe:2*ct-Oe,De.y1=De.relative?pt-$e:2*pt-$e),De.type&ye.QUAD_TO?(Oe=De.relative?ct+De.x1:De.x1,$e=De.relative?pt+De.y1:De.y1):(Oe=NaN,$e=NaN),De}))}function oe(){var he=NaN,Ie=NaN;return Re((function(Oe,$e,De){if(Oe.type&ye.SMOOTH_QUAD_TO&&(Oe.type=ye.QUAD_TO,he=isNaN(he)?$e:he,Ie=isNaN(Ie)?De:Ie,Oe.x1=Oe.relative?$e-he:2*$e-he,Oe.y1=Oe.relative?De-Ie:2*De-Ie),Oe.type&ye.QUAD_TO){he=Oe.relative?$e+Oe.x1:Oe.x1,Ie=Oe.relative?De+Oe.y1:Oe.y1;var ct=Oe.x1,pt=Oe.y1;Oe.type=ye.CURVE_TO,Oe.x1=((Oe.relative?0:$e)+2*ct)/3,Oe.y1=((Oe.relative?0:De)+2*pt)/3,Oe.x2=(Oe.x+2*ct)/3,Oe.y2=(Oe.y+2*pt)/3}else he=NaN,Ie=NaN;return Oe}))}function Re(he){var Ie=0,Oe=0,$e=NaN,De=NaN;return function(ct){if(isNaN($e)&&!(ct.type&ye.MOVE_TO))throw new Error("path must start with moveto");var pt=he(ct,Ie,Oe,$e,De);return ct.type&ye.CLOSE_PATH&&(Ie=$e,Oe=De),ct.x!==void 0&&(Ie=ct.relative?Ie+ct.x:ct.x),ct.y!==void 0&&(Oe=ct.relative?Oe+ct.y:ct.y),ct.type&ye.MOVE_TO&&($e=Ie,De=Oe),pt}}function Pe(he,Ie,Oe,$e,De,ct){return g(he,Ie,Oe,$e,De,ct),Re((function(pt,Ue,He,Ye){var Se=pt.x1,mt=pt.x2,qe=pt.relative&&!isNaN(Ye),Tt=pt.x!==void 0?pt.x:qe?0:Ue,bt=pt.y!==void 0?pt.y:qe?0:He;function gt(tr){return tr*tr}pt.type&ye.HORIZ_LINE_TO&&Ie!==0&&(pt.type=ye.LINE_TO,pt.y=pt.relative?0:He),pt.type&ye.VERT_LINE_TO&&Oe!==0&&(pt.type=ye.LINE_TO,pt.x=pt.relative?0:Ue),pt.x!==void 0&&(pt.x=pt.x*he+bt*Oe+(qe?0:De)),pt.y!==void 0&&(pt.y=Tt*Ie+pt.y*$e+(qe?0:ct)),pt.x1!==void 0&&(pt.x1=pt.x1*he+pt.y1*Oe+(qe?0:De)),pt.y1!==void 0&&(pt.y1=Se*Ie+pt.y1*$e+(qe?0:ct)),pt.x2!==void 0&&(pt.x2=pt.x2*he+pt.y2*Oe+(qe?0:De)),pt.y2!==void 0&&(pt.y2=mt*Ie+pt.y2*$e+(qe?0:ct));var wt=he*$e-Ie*Oe;if(pt.xRot!==void 0&&(he!==1||Ie!==0||Oe!==0||$e!==1))if(wt===0)delete pt.rX,delete pt.rY,delete pt.xRot,delete pt.lArcFlag,delete pt.sweepFlag,pt.type=ye.LINE_TO;else{var rr=pt.xRot*Math.PI/180,Jt=Math.sin(rr),ar=Math.cos(rr),Dr=1/gt(pt.rX),mn=1/gt(pt.rY),$r=gt(ar)*Dr+gt(Jt)*mn,or=2*Jt*ar*(Dr-mn),vr=gt(Jt)*Dr+gt(ar)*mn,cn=$r*$e*$e-or*Ie*$e+vr*Ie*Ie,bn=or*(he*$e+Ie*Oe)-2*($r*Oe*$e+vr*he*Ie),Un=$r*Oe*Oe-or*he*Oe+vr*he*he,st=(Math.atan2(bn,cn-Un)+Math.PI)%Math.PI/2,Ht=Math.sin(st),Lr=Math.cos(st);pt.rX=Math.abs(wt)/Math.sqrt(cn*gt(Lr)+bn*Ht*Lr+Un*gt(Ht)),pt.rY=Math.abs(wt)/Math.sqrt(cn*gt(Ht)-bn*Ht*Lr+Un*gt(Lr)),pt.xRot=180*st/Math.PI}return pt.sweepFlag!==void 0&&0>wt&&(pt.sweepFlag=+!pt.sweepFlag),pt}))}function be(){return function(he){var Ie={};for(var Oe in he)Ie[Oe]=he[Oe];return Ie}}ve.ROUND=function(he){function Ie(Oe){return Math.round(Oe*he)/he}return he===void 0&&(he=1e13),g(he),function(Oe){return Oe.x1!==void 0&&(Oe.x1=Ie(Oe.x1)),Oe.y1!==void 0&&(Oe.y1=Ie(Oe.y1)),Oe.x2!==void 0&&(Oe.x2=Ie(Oe.x2)),Oe.y2!==void 0&&(Oe.y2=Ie(Oe.y2)),Oe.x!==void 0&&(Oe.x=Ie(Oe.x)),Oe.y!==void 0&&(Oe.y=Ie(Oe.y)),Oe.rX!==void 0&&(Oe.rX=Ie(Oe.rX)),Oe.rY!==void 0&&(Oe.rY=Ie(Oe.rY)),Oe}},ve.TO_ABS=ne,ve.TO_REL=function(){return Re((function(he,Ie,Oe){return he.relative||(he.x1!==void 0&&(he.x1-=Ie),he.y1!==void 0&&(he.y1-=Oe),he.x2!==void 0&&(he.x2-=Ie),he.y2!==void 0&&(he.y2-=Oe),he.x!==void 0&&(he.x-=Ie),he.y!==void 0&&(he.y-=Oe),he.relative=!0),he}))},ve.NORMALIZE_HVZ=function(he,Ie,Oe){return he===void 0&&(he=!0),Ie===void 0&&(Ie=!0),Oe===void 0&&(Oe=!0),Re((function($e,De,ct,pt,Ue){if(isNaN(pt)&&!($e.type&ye.MOVE_TO))throw new Error("path must start with moveto");return Ie&&$e.type&ye.HORIZ_LINE_TO&&($e.type=ye.LINE_TO,$e.y=$e.relative?0:ct),Oe&&$e.type&ye.VERT_LINE_TO&&($e.type=ye.LINE_TO,$e.x=$e.relative?0:De),he&&$e.type&ye.CLOSE_PATH&&($e.type=ye.LINE_TO,$e.x=$e.relative?pt-De:pt,$e.y=$e.relative?Ue-ct:Ue),$e.type&ye.ARC&&($e.rX===0||$e.rY===0)&&($e.type=ye.LINE_TO,delete $e.rX,delete $e.rY,delete $e.xRot,delete $e.lArcFlag,delete $e.sweepFlag),$e}))},ve.NORMALIZE_ST=ae,ve.QT_TO_C=oe,ve.INFO=Re,ve.SANITIZE=function(he){he===void 0&&(he=0),g(he);var Ie=NaN,Oe=NaN,$e=NaN,De=NaN;return Re((function(ct,pt,Ue,He,Ye){var Se=Math.abs,mt=!1,qe=0,Tt=0;if(ct.type&ye.SMOOTH_CURVE_TO&&(qe=isNaN(Ie)?0:pt-Ie,Tt=isNaN(Oe)?0:Ue-Oe),ct.type&(ye.CURVE_TO|ye.SMOOTH_CURVE_TO)?(Ie=ct.relative?pt+ct.x2:ct.x2,Oe=ct.relative?Ue+ct.y2:ct.y2):(Ie=NaN,Oe=NaN),ct.type&ye.SMOOTH_QUAD_TO?($e=isNaN($e)?pt:2*pt-$e,De=isNaN(De)?Ue:2*Ue-De):ct.type&ye.QUAD_TO?($e=ct.relative?pt+ct.x1:ct.x1,De=ct.relative?Ue+ct.y1:ct.y2):($e=NaN,De=NaN),ct.type&ye.LINE_COMMANDS||ct.type&ye.ARC&&(ct.rX===0||ct.rY===0||!ct.lArcFlag)||ct.type&ye.CURVE_TO||ct.type&ye.SMOOTH_CURVE_TO||ct.type&ye.QUAD_TO||ct.type&ye.SMOOTH_QUAD_TO){var bt=ct.x===void 0?0:ct.relative?ct.x:ct.x-pt,gt=ct.y===void 0?0:ct.relative?ct.y:ct.y-Ue;qe=isNaN($e)?ct.x1===void 0?qe:ct.relative?ct.x:ct.x1-pt:$e-pt,Tt=isNaN(De)?ct.y1===void 0?Tt:ct.relative?ct.y:ct.y1-Ue:De-Ue;var wt=ct.x2===void 0?0:ct.relative?ct.x:ct.x2-pt,rr=ct.y2===void 0?0:ct.relative?ct.y:ct.y2-Ue;Se(bt)<=he&&Se(gt)<=he&&Se(qe)<=he&&Se(Tt)<=he&&Se(wt)<=he&&Se(rr)<=he&&(mt=!0)}return ct.type&ye.CLOSE_PATH&&Se(pt-He)<=he&&Se(Ue-Ye)<=he&&(mt=!0),mt?[]:ct}))},ve.MATRIX=Pe,ve.ROTATE=function(he,Ie,Oe){Ie===void 0&&(Ie=0),Oe===void 0&&(Oe=0),g(he,Ie,Oe);var $e=Math.sin(he),De=Math.cos(he);return Pe(De,$e,-$e,De,Ie-Ie*De+Oe*$e,Oe-Ie*$e-Oe*De)},ve.TRANSLATE=function(he,Ie){return Ie===void 0&&(Ie=0),g(he,Ie),Pe(1,0,0,1,he,Ie)},ve.SCALE=function(he,Ie){return Ie===void 0&&(Ie=he),g(he,Ie),Pe(he,0,0,Ie,0,0)},ve.SKEW_X=function(he){return g(he),Pe(1,0,Math.atan(he),1,0,0)},ve.SKEW_Y=function(he){return g(he),Pe(1,Math.atan(he),0,1,0,0)},ve.X_AXIS_SYMMETRY=function(he){return he===void 0&&(he=0),g(he),Pe(-1,0,0,1,he,0)},ve.Y_AXIS_SYMMETRY=function(he){return he===void 0&&(he=0),g(he),Pe(1,0,0,-1,0,he)},ve.A_TO_C=function(){return Re((function(he,Ie,Oe){return ye.ARC===he.type?(function($e,De,ct){var pt,Ue,He,Ye;$e.cX||y($e,De,ct);for(var Se=Math.min($e.phi1,$e.phi2),mt=Math.max($e.phi1,$e.phi2)-Se,qe=Math.ceil(mt/90),Tt=new Array(qe),bt=De,gt=ct,wt=0;wt<qe;wt++){var rr=N($e.phi1,$e.phi2,wt/qe),Jt=N($e.phi1,$e.phi2,(wt+1)/qe),ar=Jt-rr,Dr=4/3*Math.tan(ar*_/4),mn=[Math.cos(rr*_)-Dr*Math.sin(rr*_),Math.sin(rr*_)+Dr*Math.cos(rr*_)],$r=mn[0],or=mn[1],vr=[Math.cos(Jt*_),Math.sin(Jt*_)],cn=vr[0],bn=vr[1],Un=[cn+Dr*Math.sin(Jt*_),bn-Dr*Math.cos(Jt*_)],st=Un[0],Ht=Un[1];Tt[wt]={relative:$e.relative,type:ye.CURVE_TO};var Lr=function(tr,Qt){var dr=p([tr*$e.rX,Qt*$e.rY],$e.xRot),Wr=dr[0],Jr=dr[1];return[$e.cX+Wr,$e.cY+Jr]};pt=Lr($r,or),Tt[wt].x1=pt[0],Tt[wt].y1=pt[1],Ue=Lr(st,Ht),Tt[wt].x2=Ue[0],Tt[wt].y2=Ue[1],He=Lr(cn,bn),Tt[wt].x=He[0],Tt[wt].y=He[1],$e.relative&&(Tt[wt].x1-=bt,Tt[wt].y1-=gt,Tt[wt].x2-=bt,Tt[wt].y2-=gt,Tt[wt].x-=bt,Tt[wt].y-=gt),bt=(Ye=[Tt[wt].x,Tt[wt].y])[0],gt=Ye[1]}return Tt})(he,he.relative?0:Ie,he.relative?0:Oe):he}))},ve.ANNOTATE_ARCS=function(){return Re((function(he,Ie,Oe){return he.relative&&(Ie=0,Oe=0),ye.ARC===he.type&&y(he,Ie,Oe),he}))},ve.CLONE=be,ve.CALCULATE_BOUNDS=function(){var he=function(ct){var pt={};for(var Ue in ct)pt[Ue]=ct[Ue];return pt},Ie=ne(),Oe=oe(),$e=ae(),De=Re((function(ct,pt,Ue){var He=$e(Oe(Ie(he(ct))));function Ye(Ht){Ht>De.maxX&&(De.maxX=Ht),Ht<De.minX&&(De.minX=Ht)}function Se(Ht){Ht>De.maxY&&(De.maxY=Ht),Ht<De.minY&&(De.minY=Ht)}if(He.type&ye.DRAWING_COMMANDS&&(Ye(pt),Se(Ue)),He.type&ye.HORIZ_LINE_TO&&Ye(He.x),He.type&ye.VERT_LINE_TO&&Se(He.y),He.type&ye.LINE_TO&&(Ye(He.x),Se(He.y)),He.type&ye.CURVE_TO){Ye(He.x),Se(He.y);for(var mt=0,qe=I(pt,He.x1,He.x2,He.x);mt<qe.length;mt++)0<(st=qe[mt])&&1>st&&Ye(D(pt,He.x1,He.x2,He.x,st));for(var Tt=0,bt=I(Ue,He.y1,He.y2,He.y);Tt<bt.length;Tt++)0<(st=bt[Tt])&&1>st&&Se(D(Ue,He.y1,He.y2,He.y,st))}if(He.type&ye.ARC){Ye(He.x),Se(He.y),y(He,pt,Ue);for(var gt=He.xRot/180*Math.PI,wt=Math.cos(gt)*He.rX,rr=Math.sin(gt)*He.rX,Jt=-Math.sin(gt)*He.rY,ar=Math.cos(gt)*He.rY,Dr=He.phi1<He.phi2?[He.phi1,He.phi2]:-180>He.phi2?[He.phi2+360,He.phi1+360]:[He.phi2,He.phi1],mn=Dr[0],$r=Dr[1],or=function(Ht){var Lr=Ht[0],tr=Ht[1],Qt=180*Math.atan2(tr,Lr)/Math.PI;return Qt<mn?Qt+360:Qt},vr=0,cn=w(Jt,-wt,0).map(or);vr<cn.length;vr++)(st=cn[vr])>mn&&st<$r&&Ye(C(He.cX,wt,Jt,st));for(var bn=0,Un=w(ar,-rr,0).map(or);bn<Un.length;bn++){var st;(st=Un[bn])>mn&&st<$r&&Se(C(He.cY,rr,ar,st))}}return ct}));return De.minX=1/0,De.maxX=-1/0,De.minY=1/0,De.maxY=-1/0,De}})(E||(E={}));var M,Y=(function(){function ve(){}return ve.prototype.round=function(ne){return this.transform(E.ROUND(ne))},ve.prototype.toAbs=function(){return this.transform(E.TO_ABS())},ve.prototype.toRel=function(){return this.transform(E.TO_REL())},ve.prototype.normalizeHVZ=function(ne,ae,oe){return this.transform(E.NORMALIZE_HVZ(ne,ae,oe))},ve.prototype.normalizeST=function(){return this.transform(E.NORMALIZE_ST())},ve.prototype.qtToC=function(){return this.transform(E.QT_TO_C())},ve.prototype.aToC=function(){return this.transform(E.A_TO_C())},ve.prototype.sanitize=function(ne){return this.transform(E.SANITIZE(ne))},ve.prototype.translate=function(ne,ae){return this.transform(E.TRANSLATE(ne,ae))},ve.prototype.scale=function(ne,ae){return this.transform(E.SCALE(ne,ae))},ve.prototype.rotate=function(ne,ae,oe){return this.transform(E.ROTATE(ne,ae,oe))},ve.prototype.matrix=function(ne,ae,oe,Re,Pe,be){return this.transform(E.MATRIX(ne,ae,oe,Re,Pe,be))},ve.prototype.skewX=function(ne){return this.transform(E.SKEW_X(ne))},ve.prototype.skewY=function(ne){return this.transform(E.SKEW_Y(ne))},ve.prototype.xSymmetry=function(ne){return this.transform(E.X_AXIS_SYMMETRY(ne))},ve.prototype.ySymmetry=function(ne){return this.transform(E.Y_AXIS_SYMMETRY(ne))},ve.prototype.annotateArcs=function(){return this.transform(E.ANNOTATE_ARCS())},ve})(),X=function(ve){return ve===" "||ve==="	"||ve==="\r"||ve===`
`},te=function(ve){return 48<=ve.charCodeAt(0)&&ve.charCodeAt(0)<=57},de=(function(ve){function ne(){var ae=ve.call(this)||this;return ae.curNumber="",ae.curCommandType=-1,ae.curCommandRelative=!1,ae.canParseCommandOrComma=!0,ae.curNumberHasExp=!1,ae.curNumberHasExpDigits=!1,ae.curNumberHasDecimal=!1,ae.curArgs=[],ae}return f(ne,ve),ne.prototype.finish=function(ae){if(ae===void 0&&(ae=[]),this.parse(" ",ae),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return ae},ne.prototype.parse=function(ae,oe){var Re=this;oe===void 0&&(oe=[]);for(var Pe=function(De){oe.push(De),Re.curArgs.length=0,Re.canParseCommandOrComma=!0},be=0;be<ae.length;be++){var he=ae[be],Ie=!(this.curCommandType!==ye.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),Oe=te(he)&&(this.curNumber==="0"&&he==="0"||Ie);if(!te(he)||Oe)if(he!=="e"&&he!=="E")if(he!=="-"&&he!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(he!=="."||this.curNumberHasExp||this.curNumberHasDecimal||Ie){if(this.curNumber&&this.curCommandType!==-1){var $e=Number(this.curNumber);if(isNaN($e))throw new SyntaxError("Invalid number ending at "+be);if(this.curCommandType===ye.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>$e)throw new SyntaxError('Expected positive number, got "'+$e+'" at index "'+be+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+be+'"')}this.curArgs.push($e),this.curArgs.length===we[this.curCommandType]&&(ye.HORIZ_LINE_TO===this.curCommandType?Pe({type:ye.HORIZ_LINE_TO,relative:this.curCommandRelative,x:$e}):ye.VERT_LINE_TO===this.curCommandType?Pe({type:ye.VERT_LINE_TO,relative:this.curCommandRelative,y:$e}):this.curCommandType===ye.MOVE_TO||this.curCommandType===ye.LINE_TO||this.curCommandType===ye.SMOOTH_QUAD_TO?(Pe({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),ye.MOVE_TO===this.curCommandType&&(this.curCommandType=ye.LINE_TO)):this.curCommandType===ye.CURVE_TO?Pe({type:ye.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===ye.SMOOTH_CURVE_TO?Pe({type:ye.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ye.QUAD_TO?Pe({type:ye.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ye.ARC&&Pe({type:ye.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!X(he))if(he===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(he!=="+"&&he!=="-"&&he!==".")if(Oe)this.curNumber=he,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+be+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+he+'" at index '+be+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,he!=="z"&&he!=="Z")if(he==="h"||he==="H")this.curCommandType=ye.HORIZ_LINE_TO,this.curCommandRelative=he==="h";else if(he==="v"||he==="V")this.curCommandType=ye.VERT_LINE_TO,this.curCommandRelative=he==="v";else if(he==="m"||he==="M")this.curCommandType=ye.MOVE_TO,this.curCommandRelative=he==="m";else if(he==="l"||he==="L")this.curCommandType=ye.LINE_TO,this.curCommandRelative=he==="l";else if(he==="c"||he==="C")this.curCommandType=ye.CURVE_TO,this.curCommandRelative=he==="c";else if(he==="s"||he==="S")this.curCommandType=ye.SMOOTH_CURVE_TO,this.curCommandRelative=he==="s";else if(he==="q"||he==="Q")this.curCommandType=ye.QUAD_TO,this.curCommandRelative=he==="q";else if(he==="t"||he==="T")this.curCommandType=ye.SMOOTH_QUAD_TO,this.curCommandRelative=he==="t";else{if(he!=="a"&&he!=="A")throw new SyntaxError('Unexpected character "'+he+'" at index '+be+".");this.curCommandType=ye.ARC,this.curCommandRelative=he==="a"}else oe.push({type:ye.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=he,this.curNumberHasDecimal=he==="."}else this.curNumber+=he,this.curNumberHasDecimal=!0;else this.curNumber+=he;else this.curNumber+=he,this.curNumberHasExp=!0;else this.curNumber+=he,this.curNumberHasExpDigits=this.curNumberHasExp}return oe},ne.prototype.transform=function(ae){return Object.create(this,{parse:{value:function(oe,Re){Re===void 0&&(Re=[]);for(var Pe=0,be=Object.getPrototypeOf(this).parse.call(this,oe);Pe<be.length;Pe++){var he=be[Pe],Ie=ae(he);Array.isArray(Ie)?Re.push.apply(Re,Ie):Re.push(Ie)}return Re}}})},ne})(Y),ye=(function(ve){function ne(ae){var oe=ve.call(this)||this;return oe.commands=typeof ae=="string"?ne.parse(ae):ae,oe}return f(ne,ve),ne.prototype.encode=function(){return ne.encode(this.commands)},ne.prototype.getBounds=function(){var ae=E.CALCULATE_BOUNDS();return this.transform(ae),ae},ne.prototype.transform=function(ae){for(var oe=[],Re=0,Pe=this.commands;Re<Pe.length;Re++){var be=ae(Pe[Re]);Array.isArray(be)?oe.push.apply(oe,be):oe.push(be)}return this.commands=oe,this},ne.encode=function(ae){return m(ae)},ne.parse=function(ae){var oe=new de,Re=[];return oe.parse(ae,Re),oe.finish(Re),Re},ne.CLOSE_PATH=1,ne.MOVE_TO=2,ne.HORIZ_LINE_TO=4,ne.VERT_LINE_TO=8,ne.LINE_TO=16,ne.CURVE_TO=32,ne.SMOOTH_CURVE_TO=64,ne.QUAD_TO=128,ne.SMOOTH_QUAD_TO=256,ne.ARC=512,ne.LINE_COMMANDS=ne.LINE_TO|ne.HORIZ_LINE_TO|ne.VERT_LINE_TO,ne.DRAWING_COMMANDS=ne.HORIZ_LINE_TO|ne.VERT_LINE_TO|ne.LINE_TO|ne.CURVE_TO|ne.SMOOTH_CURVE_TO|ne.QUAD_TO|ne.SMOOTH_QUAD_TO|ne.ARC,ne})(Y),we=((M={})[ye.MOVE_TO]=2,M[ye.LINE_TO]=2,M[ye.HORIZ_LINE_TO]=1,M[ye.VERT_LINE_TO]=1,M[ye.CLOSE_PATH]=0,M[ye.QUAD_TO]=4,M[ye.SMOOTH_QUAD_TO]=2,M[ye.CURVE_TO]=6,M[ye.SMOOTH_CURVE_TO]=4,M[ye.ARC]=7,M)}),"./src/plugin/hyperlinks.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.link.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=l("./src/worker.js"),f=l("./src/utils.js"),m=[],p={toContainer:d.default.prototype.toContainer,toPdf:d.default.prototype.toPdf};d.default.prototype.toContainer=function(){return p.toContainer.call(this).then(function(){if(this.opt.enableLinks){var y=this.prop.container,w=y.querySelectorAll("a"),E=(0,f.unitConvert)(y.getBoundingClientRect(),this.prop.pageSize.k);m=[],Array.prototype.forEach.call(w,function(_){for(var N=_.getClientRects(),C=0;C<N.length;C++){var I=(0,f.unitConvert)(N[C],this.prop.pageSize.k);I.left-=E.left,I.top-=E.top;var D=Math.floor(I.top/this.prop.pageSize.inner.height)+1,M=this.opt.margin[0]+I.top%this.prop.pageSize.inner.height,Y=this.opt.margin[1]+I.left;m.push({page:D,top:M,left:Y,clientRect:I,link:_})}},this)}})},d.default.prototype.toPdf=function(){return p.toPdf.call(this).then(function(){if(this.opt.enableLinks){m.forEach(function(w){this.prop.pdf.setPage(w.page),this.prop.pdf.link(w.left,w.top,w.clientRect.width,w.clientRect.height,{url:w.link.href})},this);var y=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(y)}})}}),"./src/plugin/jspdf-plugin.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=l("./node_modules/jspdf/dist/jspdf.es.min.js");function f(m){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(m)}d.jsPDF.getPageSize=function(m,p,g){if(f(m)==="object"){var x=m;m=x.orientation,p=x.unit||p,g=x.format||g}p=p||"mm",g=g||"a4",m=(""+(m||"P")).toLowerCase();var y=(""+g).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(p){case"pt":var E=1;break;case"mm":var E=72/25.4;break;case"cm":var E=72/2.54;break;case"in":var E=72;break;case"px":var E=72/96;break;case"pc":var E=12;break;case"em":var E=12;break;case"ex":var E=6;break;default:throw"Invalid unit: "+p}if(w.hasOwnProperty(y))var _=w[y][1]/E,N=w[y][0]/E;else try{var _=g[1],N=g[0]}catch{throw new Error("Invalid format: "+g)}if(m==="p"||m==="portrait"){if(m="p",N>_){var C=N;N=_,_=C}}else if(m==="l"||m==="landscape"){if(m="l",_>N){var C=N;N=_,_=C}}else throw"Invalid orientation: "+m;var I={width:N,height:_,unit:p,k:E};return I},u.default=d.jsPDF}),"./src/plugin/pagebreaks.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.join.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js");var d=l("./src/worker.js"),f=l("./src/utils.js"),m={toContainer:d.default.prototype.toContainer};d.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},d.default.prototype.toContainer=function(){return m.toContainer.call(this).then(function(){var x=this.prop.container,y=this.prop.pageSize.inner.px.height,w=[].concat(this.opt.pagebreak.mode),E={avoidAll:w.indexOf("avoid-all")!==-1,css:w.indexOf("css")!==-1,legacy:w.indexOf("legacy")!==-1},_={},N=this;["before","after","avoid"].forEach(function(D){var M=E.avoidAll&&D==="avoid";_[D]=M?[]:[].concat(N.opt.pagebreak[D]||[]),_[D].length>0&&(_[D]=Array.prototype.slice.call(x.querySelectorAll(_[D].join(", "))))});var C=x.querySelectorAll(".html2pdf__page-break");C=Array.prototype.slice.call(C);var I=x.querySelectorAll("*");Array.prototype.forEach.call(I,function(M){var Y={before:!1,after:E.legacy&&C.indexOf(M)!==-1,avoid:E.avoidAll};if(E.css){var X=window.getComputedStyle(M),te=["always","page","left","right"],de=["avoid","avoid-page"];Y={before:Y.before||te.indexOf(X.breakBefore||X.pageBreakBefore)!==-1,after:Y.after||te.indexOf(X.breakAfter||X.pageBreakAfter)!==-1,avoid:Y.avoid||de.indexOf(X.breakInside||X.pageBreakInside)!==-1}}Object.keys(Y).forEach(function(oe){Y[oe]=Y[oe]||_[oe].indexOf(M)!==-1});var ye=M.getBoundingClientRect();if(Y.avoid&&!Y.before){var we=Math.floor(ye.top/y),ve=Math.floor(ye.bottom/y),ne=Math.abs(ye.bottom-ye.top)/y;ve!==we&&ne<=1&&(Y.before=!0)}if(Y.before){var ae=(0,f.createElement)("div",{style:{display:"block",height:y-ye.top%y+"px"}});M.parentNode.insertBefore(ae,M)}if(Y.after){var ae=(0,f.createElement)("div",{style:{display:"block",height:y-ye.bottom%y+"px"}});M.parentNode.insertBefore(ae,M.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(c,u,l){l.r(u),l.d(u,{deepCloneBasic:function(){return g}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.from.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.array.slice.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.regexp.exec.js"),l("./node_modules/core-js/modules/es.regexp.test.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/es.set.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/esnext.set.add-all.js"),l("./node_modules/core-js/modules/esnext.set.delete-all.js"),l("./node_modules/core-js/modules/esnext.set.difference.js"),l("./node_modules/core-js/modules/esnext.set.every.js"),l("./node_modules/core-js/modules/esnext.set.filter.js"),l("./node_modules/core-js/modules/esnext.set.find.js"),l("./node_modules/core-js/modules/esnext.set.intersection.js"),l("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),l("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),l("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),l("./node_modules/core-js/modules/esnext.set.join.js"),l("./node_modules/core-js/modules/esnext.set.map.js"),l("./node_modules/core-js/modules/esnext.set.reduce.js"),l("./node_modules/core-js/modules/esnext.set.some.js"),l("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),l("./node_modules/core-js/modules/esnext.set.union.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");function d(x,y){var w=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!w){if(Array.isArray(x)||(w=f(x))||y){w&&(x=w);var E=0,_=function(){};return{s:_,n:function(){return E>=x.length?{done:!0}:{done:!1,value:x[E++]}},e:function(M){throw M},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,C=!0,I=!1;return{s:function(){w=w.call(x)},n:function(){var M=w.next();return C=M.done,M},e:function(M){I=!0,N=M},f:function(){try{C||w.return==null||w.return()}finally{if(I)throw N}}}}function f(x,y){if(x){if(typeof x=="string")return m(x,y);var w={}.toString.call(x).slice(8,-1);return w==="Object"&&x.constructor&&(w=x.constructor.name),w==="Map"||w==="Set"?Array.from(x):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?m(x,y):void 0}}function m(x,y){(y==null||y>x.length)&&(y=x.length);for(var w=0,E=Array(y);w<y;w++)E[w]=x[w];return E}function p(x,y){try{var w=x.currentSrc||x.src||"";if(!w)return;y.setAttribute("src",w),y.removeAttribute("srcset"),y.removeAttribute("sizes"),y.loading="eager",y.decoding="sync"}catch{}}function g(x){if(!x)throw new Error("Invalid node");var y=new Set,w=null;if(x.nodeType===Node.TEXT_NODE||x.nodeType!==Node.ELEMENT_NODE)return x.cloneNode(!0);if(x.tagName==="IFRAME"){var E=document.createElement("div");return E.style.cssText="width:".concat(x.offsetWidth,"px;height:").concat(x.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),E}if(x.tagName==="CANVAS"){var _=x.toDataURL(),N=document.createElement("img");return N.src=_,N.width=x.width,N.height=x.height,N}var C;try{C=x.cloneNode(!1),x.tagName==="IMG"&&p(x,C)}catch(Se){throw console.error("[Snapdom] Failed to clone node:",x,Se),Se}if(x instanceof HTMLTextAreaElement){C.textContent=x.value,C.value=x.value;var I=x.getBoundingClientRect();return C.style.boxSizing="border-box",C.style.width="".concat(I.width,"px"),C.style.height="".concat(I.height,"px"),C}if(x instanceof HTMLInputElement&&(x.hasAttribute("value")&&(C.value=x.value,C.setAttribute("value",x.value)),x.checked!==void 0&&(C.checked=x.checked,x.checked&&C.setAttribute("checked",""),x.indeterminate&&(C.indeterminate=x.indeterminate))),x instanceof HTMLSelectElement&&(w=x.value),x.shadowRoot){var D=Array.from(x.shadowRoot.querySelectorAll("slot")).length>0;if(!D){var M=document.createDocumentFragment(),Y=d(x.shadowRoot.childNodes),X;try{for(Y.s();!(X=Y.n()).done;){var te=X.value;if(!(te.nodeType===Node.ELEMENT_NODE&&te.tagName==="STYLE")){var de=g(te);de&&M.appendChild(de)}}}catch(Se){Y.e(Se)}finally{Y.f()}C.appendChild(M)}}if(x.tagName==="SLOT"){var ye,we=((ye=x.assignedNodes)===null||ye===void 0?void 0:ye.call(x,{flatten:!0}))||[],ve=we.length>0?we:Array.from(x.childNodes),ne=document.createDocumentFragment(),ae=d(ve),oe;try{for(ae.s();!(oe=ae.n()).done;){var Re=oe.value,Pe=g(Re);Pe&&ne.appendChild(Pe)}}catch(Se){ae.e(Se)}finally{ae.f()}return ne}var be=d(x.childNodes),he;try{for(be.s();!(he=be.n()).done;){var Ie=he.value;if(!y.has(Ie)){var Oe=g(Ie);Oe&&C.appendChild(Oe)}}}catch(Se){be.e(Se)}finally{be.f()}if(w!==null&&C instanceof HTMLSelectElement){C.value=w;var $e=d(C.options),De;try{for($e.s();!(De=$e.n()).done;){var ct=De.value;ct.value===w?ct.setAttribute("selected",""):ct.removeAttribute("selected")}}catch(Se){$e.e(Se)}finally{$e.f()}}var pt=x.scrollLeft,Ue=x.scrollTop,He=pt||Ue;if(He&&C instanceof HTMLElement){C.style.overflow="hidden",C.style.scrollbarWidth="none",C.style.msOverflowStyle="none";var Ye=document.createElement("div");for(Ye.style.transform="translate(".concat(-pt,"px, ").concat(-Ue,"px)"),Ye.style.willChange="transform",Ye.style.display="inline-block",Ye.style.width="100%";C.firstChild;)Ye.appendChild(C.firstChild);C.appendChild(Ye)}return C}}),"./src/utils.js":(function(c,u,l){l.r(u),l.d(u,{createElement:function(){return p},objType:function(){return m},toPx:function(){return x},unitConvert:function(){return g}}),l("./node_modules/core-js/modules/es.symbol.js"),l("./node_modules/core-js/modules/es.symbol.description.js"),l("./node_modules/core-js/modules/es.symbol.iterator.js"),l("./node_modules/core-js/modules/es.array.iterator.js"),l("./node_modules/core-js/modules/es.number.constructor.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.string.iterator.js"),l("./node_modules/core-js/modules/web.dom-collections.iterator.js");var d=l("./node_modules/dompurify/dist/purify.es.mjs");function f(y){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(y)}var m=function(w){var E=f(w);return E==="undefined"?"undefined":E==="string"||w instanceof String?"string":E==="number"||w instanceof Number?"number":E==="function"||w instanceof Function?"function":w&&w.constructor===Array?"array":w&&w.nodeType===1?"element":E==="object"?"object":"unknown"},p=function(w,E){var _=document.createElement(w);E.className&&(_.className=E.className),E.innerHTML&&(_.innerHTML=d.default.sanitize(E.innerHTML));for(var N in E.style)_.style[N]=E.style[N];return _},g=function(w,E){if(m(w)==="number")return w*72/96/E;var _={};for(var N in w)_[N]=w[N]*72/96/E;return _},x=function(w,E){return Math.floor(w*E/72*96)}}),"./src/worker.js":(function(c,u,l){l.r(u),l("./node_modules/core-js/modules/es.array.concat.js"),l("./node_modules/core-js/modules/es.array.map.js"),l("./node_modules/core-js/modules/es.function.name.js"),l("./node_modules/core-js/modules/es.json.stringify.js"),l("./node_modules/core-js/modules/es.object.assign.js"),l("./node_modules/core-js/modules/es.object.keys.js"),l("./node_modules/core-js/modules/es.object.to-string.js"),l("./node_modules/core-js/modules/es.promise.js"),l("./node_modules/core-js/modules/es.regexp.to-string.js"),l("./node_modules/core-js/modules/esnext.iterator.constructor.js"),l("./node_modules/core-js/modules/esnext.iterator.for-each.js"),l("./node_modules/core-js/modules/esnext.iterator.map.js"),l("./node_modules/core-js/modules/web.dom-collections.for-each.js"),l("./node_modules/core-js/modules/web.timers.js");var d=l("./node_modules/jspdf/dist/jspdf.es.min.js"),f=l("html2canvas"),m=l.n(f),p=l("./src/snapdom/clone.js"),g=l("./src/utils.js"),x=function y(w){var E=Object.assign(y.convert(Promise.resolve()),JSON.parse(JSON.stringify(y.template))),_=y.convert(Promise.resolve(),E);return _=_.setProgress(1,y,1,[y]),_=_.set(w),_};x.prototype=Object.create(Promise.prototype),x.prototype.constructor=x,x.convert=function(w,E){return w.__proto__=E||x.prototype,w},x.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},x.prototype.from=function(w,E){function _(N){switch((0,g.objType)(N)){case"string":return"string";case"element":return N.nodeName.toLowerCase&&N.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(E=E||_(w),E){case"string":return this.set({src:(0,g.createElement)("div",{innerHTML:w})});case"element":return this.set({src:w});case"canvas":return this.set({canvas:w});case"img":return this.set({img:w});default:return this.error("Unknown source type.")}})},x.prototype.to=function(w){switch(w){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},x.prototype.toContainer=function(){var w=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(w).then(function(){var _={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},N={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};_.opacity=0;var C=(0,p.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,g.createElement)("div",{className:"html2pdf__overlay",style:_}),this.prop.container=(0,g.createElement)("div",{className:"html2pdf__container",style:N}),this.prop.container.appendChild(C),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(I){return setTimeout(I,10)})})},x.prototype.toCanvas=function(){var w=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(w).then(function(){var _=Object.assign({},this.opt.html2canvas);return delete _.onrendered,m()(this.prop.container,_)}).then(function(_){var N=this.opt.html2canvas.onrendered||function(){};N(_),this.prop.canvas=_,document.body.removeChild(this.prop.overlay)})},x.prototype.toImg=function(){var w=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(w).then(function(){var _=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=_})},x.prototype.toPdf=function(){var w=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(w).then(function(){var _=this.prop.canvas,N=this.opt,C=_.height,I=Math.floor(_.width*this.prop.pageSize.inner.ratio),D=Math.ceil(C/I),M=this.prop.pageSize.inner.height,Y=document.createElement("canvas"),X=Y.getContext("2d");Y.width=_.width,Y.height=I,this.prop.pdf=this.prop.pdf||new d.jsPDF(N.jsPDF);for(var te=0;te<D;te++){te===D-1&&C%I!==0&&(Y.height=C%I,M=Y.height*this.prop.pageSize.inner.width/Y.width);var de=Y.width,ye=Y.height;X.fillStyle="white",X.fillRect(0,0,de,ye),X.drawImage(_,0,te*I,de,ye,0,0,de,ye),te&&this.prop.pdf.addPage();var we=Y.toDataURL("image/"+N.image.type,N.image.quality);this.prop.pdf.addImage(we,N.image.type,N.margin[1],N.margin[0],this.prop.pageSize.inner.width,M)}})},x.prototype.output=function(w,E,_){return _=_||"pdf",_.toLowerCase()==="img"||_.toLowerCase()==="image"?this.outputImg(w,E):this.outputPdf(w,E)},x.prototype.outputPdf=function(w,E){var _=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(_).then(function(){return this.prop.pdf.output(w,E)})},x.prototype.outputImg=function(w,E){var _=[function(){return this.prop.img||this.toImg()}];return this.thenList(_).then(function(){switch(w){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+w+'" is not supported.'}})},x.prototype.save=function(w){var E=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(E).set(w?{filename:w}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},x.prototype.set=function(w){if((0,g.objType)(w)!=="object")return this;var E=Object.keys(w||{}).map(function(_){switch(_){case"margin":return this.setMargin.bind(this,w.margin);case"jsPDF":return function(){return this.opt.jsPDF=w.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,w.pageSize);default:return _ in x.template.prop?function(){this.prop[_]=w[_]}:function(){this.opt[_]=w[_]}}},this);return this.then(function(){return this.thenList(E)})},x.prototype.get=function(w,E){return this.then(function(){var N=w in x.template.prop?this.prop[w]:this.opt[w];return E?E(N):N})},x.prototype.setMargin=function(w){return this.then(function(){switch((0,g.objType)(w)){case"number":w=[w,w,w,w];case"array":if(w.length===2&&(w=[w[0],w[1],w[0],w[1]]),w.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=w}).then(this.setPageSize)},x.prototype.setPageSize=function(w){return this.then(function(){w=w||d.jsPDF.getPageSize(this.opt.jsPDF),w.hasOwnProperty("inner")||(w.inner={width:w.width-this.opt.margin[1]-this.opt.margin[3],height:w.height-this.opt.margin[0]-this.opt.margin[2]},w.inner.px={width:(0,g.toPx)(w.inner.width,w.k),height:(0,g.toPx)(w.inner.height,w.k)},w.inner.ratio=w.inner.height/w.inner.width),this.prop.pageSize=w})},x.prototype.setProgress=function(w,E,_,N){return w!=null&&(this.progress.val=w),E!=null&&(this.progress.state=E),_!=null&&(this.progress.n=_),N!=null&&(this.progress.stack=N),this.progress.ratio=this.progress.val/this.progress.state,this},x.prototype.updateProgress=function(w,E,_,N){return this.setProgress(w?this.progress.val+w:null,E||null,_?this.progress.n+_:null,N?this.progress.stack.concat(N):null)},x.prototype.then=function(w,E){var _=this;return this.thenCore(w,E,function(C,I){return _.updateProgress(null,null,1,[C]),Promise.prototype.then.call(this,function(M){return _.updateProgress(null,C),M}).then(C,I).then(function(M){return _.updateProgress(1),M})})},x.prototype.thenCore=function(w,E,_){_=_||Promise.prototype.then;var N=this;w&&(w=w.bind(N)),E&&(E=E.bind(N));var C=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",I=C?N:x.convert(Object.assign({},N),Promise.prototype),D=_.call(I,w,E);return x.convert(D,N.__proto__)},x.prototype.thenExternal=function(w,E){return Promise.prototype.then.call(this,w,E)},x.prototype.thenList=function(w){var E=this;return w.forEach(function(N){E=E.thenCore(N)}),E},x.prototype.catch=function(y){y&&(y=y.bind(this));var w=Promise.prototype.catch.call(this,y);return x.convert(w,this)},x.prototype.catchExternal=function(w){return Promise.prototype.catch.call(this,w)},x.prototype.error=function(w){return this.then(function(){throw new Error(w)})},x.prototype.using=x.prototype.set,x.prototype.saveAs=x.prototype.save,x.prototype.export=x.prototype.output,x.prototype.run=x.prototype.then,u.default=x}),html2canvas:(function(c){c.exports=r})},i={};function a(c){var u=i[c];if(u!==void 0)return u.exports;if(n[c]===void 0){var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[c]={exports:{}};return n[c].call(d.exports,d,d.exports,a),d.exports}(function(){a.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return a.d(u,{a:u}),u}})(),(function(){var c=Object.getPrototypeOf?function(l){return Object.getPrototypeOf(l)}:function(l){return l.__proto__},u;a.t=function(l,d){if(d&1&&(l=this(l)),d&8||typeof l=="object"&&l&&(d&4&&l.__esModule||d&16&&typeof l.then=="function"))return l;var f=Object.create(null);a.r(f);var m={};u=u||[null,c({}),c([]),c(c)];for(var p=d&2&&l;(typeof p=="object"||typeof p=="function")&&!~u.indexOf(p);p=c(p))Object.getOwnPropertyNames(p).forEach(function(g){m[g]=function(){return l[g]}});return m.default=function(){return l},a.d(f,m),f}})(),(function(){a.d=function(c,u){for(var l in u)a.o(u,l)&&!a.o(c,l)&&Object.defineProperty(c,l,{enumerable:!0,get:u[l]})}})(),(function(){a.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)}})(),(function(){a.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}})();var o={};return(function(){a.r(o);var c=a("./src/worker.js");a("./src/plugin/jspdf-plugin.js"),a("./src/plugin/pagebreaks.js"),a("./src/plugin/hyperlinks.js");var u=function l(d,f){var m=new l.Worker(f);return d?m.from(d).save():m};u.Worker=c.default,o.default=u})(),o=o.default,o})()})})(oI)),oI.exports}var WPe=GPe();const YPe=Gh(WPe),qPe=({formData:t,analysis:e,selectedAddOns:r=[],prevStep:n,goToStep:i})=>{const a=()=>{const c=document.createElement("div");c.innerHTML=`
      <div style="font-family: 'Arial', sans-serif; color: #fff; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); padding: 40px;">
        <!-- Header -->
        <div style="text-align: center; margin-bottom: 40px; border-bottom: 3px solid #F83B3B; padding-bottom: 20px;">
          <h1 style="color: #F83B3B; font-size: 36px; margin: 0 0 10px 0; font-weight: 900;">
            FIT FOCUS MEDIA
          </h1>
          <p style="color: #9CA3AF; font-size: 16px; margin: 0;">Combat Sports Media Production Proposal</p>
          <p style="color: #6B7280; font-size: 12px; margin: 10px 0 0 0;">${new Date().toLocaleDateString()}</p>
        </div>

        <!-- Organization Details -->
        <div style="background: #2d2d2d; border: 2px solid #374151; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Organization Profile</h2>
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Organization:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.orgName}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Events Per Year:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.showsPerYear}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Average Attendance:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.avgAttendance.toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Social Following:</td>
              <td style="padding: 8px 0; color: #fff; font-size: 14px; font-weight: bold;">${t.socialFollowing.toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Organization Tier:</td>
              <td style="padding: 8px 0; color: #F83B3B; font-size: 16px; font-weight: bold;">${e?.tier}</td>
            </tr>
          </table>
        </div>

        <!-- The Grand Slam Offer -->
        <div style="background: linear-gradient(135deg, #D97706 0%, #DC2626 100%); border: 3px solid #FBBF24; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <div style="background: rgba(255,255,255,0.2); display: inline-block; padding: 8px 16px; border-radius: 20px; margin-bottom: 15px;">
            <span style="color: #fff; font-size: 12px; font-weight: bold;"> ZERO-COST PRODUCTION</span>
          </div>
          <h2 style="color: #fff; font-size: 28px; margin: 0 0 10px 0; font-weight: bold;">Our Offer to ${t.orgName}</h2>
          <p style="color: #FEF3C7; font-size: 18px; font-weight: bold; margin: 0 0 20px 0;">
            Professional live stream production at absolutely zero cost to you
          </p>
          
          <div style="background: rgba(255,255,255,0.1); border-radius: 8px; padding: 20px; margin-bottom: 20px;">
            <h3 style="color: #fff; font-size: 16px; margin: 0 0 15px 0; font-weight: bold;"> What's Included FREE:</h3>
            <ul style="margin: 0; padding-left: 20px; color: #FEF3C7;">
              <li style="margin-bottom: 8px;">Professional live stream production (1-2 cameras)</li>
              <li style="margin-bottom: 8px;">Complete PPV/streaming setup and management</li>
              <li style="margin-bottom: 8px;">Full show recording</li>
              <li style="margin-bottom: 8px;">1 social media highlight clip</li>
              <li style="margin-bottom: 0;">Revenue share: You earn from every PPV sale</li>
            </ul>
          </div>
          
          <div style="background: rgba(16, 185, 129, 0.3); border: 2px solid #10B981; border-radius: 8px; padding: 15px; text-align: center;">
            <p style="color: #fff; font-size: 20px; font-weight: bold; margin: 0;">
              Your Production Cost: <span style="color: #6EE7B7;">$0</span>
            </p>
            <p style="color: #D1FAE5; font-size: 12px; margin: 5px 0 0 0;">
              Zero upfront cost. Zero risk. Just professional streaming + revenue sharing.
            </p>
          </div>
        </div>
        
        <!-- Premium Add-Ons -->
        <div style="background: #2d2d2d; border: 2px solid #374151; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 15px 0; font-weight: bold;">Premium Add-Ons</h2>
          ${r.length>0?`
            <p style="color: #10B981; font-size: 14px; margin: 0 0 15px 0; font-weight: bold;"> Selected Add-Ons:</p>
            <ul style="margin: 0 0 20px 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.map(l=>`<li style="color: #10B981;"> ${l}</li>`).join("")}
            </ul>
          `:""}
          <p style="color: #9CA3AF; font-size: 14px; margin: 0 0 15px 0;">
            ${r.length>0?"Other available options:":"Available premium upgrades:"}
          </p>
          ${e?.tier==="Grassroots"?`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Custom Fight Banner Graphics")?"":"<li> Custom Fight Banner Graphics ($500-$800/event)</li>"}
              ${r.includes("Professional Event Photography")?"":"<li> Professional Event Photography ($800-$1,200/event)</li>"}
              ${r.includes("Full Recording Package")?"":"<li> Full Recording Package ($500-$800/event)</li>"}
            </ul>
          `:e?.tier==="Regional"?`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Premium Camera Setup")?"":"<li> Premium Camera Setup ($1,500-$3,000/event)</li>"}
              ${r.includes("Social Media Content Package")?"":"<li> Social Media Content Package ($1,000-$2,000/event)</li>"}
              ${r.includes("Professional Event Photography")?"":"<li> Professional Event Photography ($800-$1,200/event)</li>"}
              ${r.includes("Custom Fight Banner Graphics")?"":"<li> Custom Fight Banner Graphics ($500-$800/event)</li>"}
            </ul>
          `:`
            <ul style="margin: 0; padding-left: 20px; color: #D1D5DB; line-height: 1.8;">
              ${r.includes("Premium Camera Setup")?"":"<li> Premium Camera Setup ($1,500-$3,000/event)</li>"}
              ${r.includes("Social Media Content Package")?"":"<li> Social Media Content Package ($1,000-$2,000/event)</li>"}
              ${r.includes("Ongoing Content Strategy")?"":"<li> Ongoing Content Strategy ($2,000-$4,000/month)</li>"}
              ${r.includes("Full Premium Package")?"":"<li> Full Premium Package Bundle ($4,000-$6,000/event)</li>"}
            </ul>
          `}
          <p style="color: #6B7280; font-size: 12px; margin: 15px 0 0 0; font-style: italic;">
            * Your revenue share applies regardless of add-ons selected
          </p>
        </div>

        <!-- Revenue Projection -->
        <div style="background: #2d2d2d; border: 2px solid #10B981; border-radius: 12px; padding: 30px; margin-bottom: 30px;">
          <h2 style="color: #10B981; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Your Revenue Projection</h2>
          
          <div style="background: #065F46; border: 2px solid #10B981; border-radius: 8px; padding: 20px; margin-bottom: 20px; text-align: center;">
            <p style="color: #D1FAE5; font-size: 14px; margin: 0 0 10px 0;">Your Production Cost</p>
            <p style="color: #6EE7B7; font-size: 36px; font-weight: bold; margin: 0;">$0</p>
            <p style="color: #A7F3D0; font-size: 12px; margin: 10px 0 0 0;">Zero upfront investment required</p>
          </div>
          
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <td style="padding: 12px 0; color: #9CA3AF; font-size: 14px; border-bottom: 1px solid #374151;">Estimated PPV Purchases Per Event:</td>
              <td style="padding: 12px 0; color: #60A5FA; font-size: 16px; font-weight: bold; text-align: right; border-bottom: 1px solid #374151;">${Math.round(e?.potentialStreamingRevenue?.viewerEstimate*.6).toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 12px 0; color: #9CA3AF; font-size: 14px; border-bottom: 1px solid #374151;">Your Revenue Per Event:</td>
              <td style="padding: 12px 0; color: #10B981; font-size: 16px; font-weight: bold; text-align: right; border-bottom: 1px solid #374151;">$${Math.round(e?.potentialStreamingRevenue?.perEvent*.3).toLocaleString()}</td>
            </tr>
            <tr>
              <td style="padding: 12px 0; color: #10B981; font-size: 14px; font-weight: bold;">Your Annual Revenue:</td>
              <td style="padding: 12px 0; color: #10B981; font-size: 20px; font-weight: bold; text-align: right;">$${Math.round(e?.potentialStreamingRevenue?.annual*.3).toLocaleString()}</td>
            </tr>
          </table>
          <p style="color: #6B7280; font-size: 11px; margin: 15px 0 0 0; font-style: italic;">
            * Conservative estimates based on industry benchmarks. 100% pure profit  revenue you weren't generating before at zero cost.
          </p>
        </div>

        <!-- Contact Information -->
        <div style="background: #2d2d2d; border: 2px solid #F83B3B; border-radius: 12px; padding: 30px; margin-bottom: 20px;">
          <h2 style="color: #F83B3B; font-size: 24px; margin: 0 0 20px 0; font-weight: bold;">Next Steps</h2>
          <p style="color: #D1D5DB; font-size: 14px; margin: 0 0 20px 0;">
            Ready to elevate your combat sports events? Contact us to discuss this proposal:
          </p>
          <table style="width: 100%;">
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Email:</td>
              <td style="padding: 8px 0; color: #60A5FA; font-size: 14px;">info@fitfocusmedia.com.au</td>
            </tr>
            <tr>
              <td style="padding: 8px 0; color: #9CA3AF; font-size: 14px;">Website:</td>
              <td style="padding: 8px 0; color: #60A5FA; font-size: 14px;">fitfocusmedia.com.au</td>
            </tr>
          </table>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding-top: 20px; border-top: 1px solid #374151;">
          <p style="color: #6B7280; font-size: 12px; margin: 0;">
             2026 Fit Focus Media | Professional Combat Sports Production
          </p>
        </div>
      </div>
    `;const u={margin:0,filename:`${t.orgName.replace(/\s/g,"-")}-proposal.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,backgroundColor:"#1a1a1a"},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};YPe().set(u).from(c).save()},o=()=>{confirm("Start a new proposal? Your current data will be cleared.")&&i(1)};return s.jsx("section",{className:"min-h-screen py-12 sm:py-20 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8 sm:mb-12",children:[s.jsx(Fr.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-green-600 rounded-full mb-6",children:s.jsx(oE,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})}),s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:s.jsx("span",{className:"text-gradient",children:"Your Proposal is Ready!"})}),s.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 max-w-2xl mx-auto",children:["Here's what we've prepared for ",s.jsx("span",{className:"text-primary-400 font-bold",children:t.orgName})]})]}),s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-gradient-to-r from-primary-900/40 to-orange-900/40 border-2 border-primary-600 rounded-xl p-6 sm:p-8 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Tier"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-black text-white",children:e?.tier})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Production Cost"}),s.jsx("p",{className:"text-xl sm:text-2xl font-black text-green-400",children:"$0"}),s.jsx("p",{className:"text-xs text-green-300 mt-1",children:"Zero upfront investment"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-300 mb-2",children:"Your Annual Revenue"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-black text-green-400",children:["$",Math.round(e?.potentialStreamingRevenue?.annual*.3).toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Revenue you weren't making before"})]})]})}),r.length>0&&s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.35},className:"bg-dark-800 border border-green-600 rounded-xl p-6 sm:p-8 mb-8",children:[s.jsxs("h3",{className:"text-xl sm:text-2xl font-black text-white mb-4 flex items-center gap-2",children:[s.jsx(oE,{className:"w-6 h-6 text-green-400"}),"Selected Premium Add-Ons"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:r.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-dark-900 rounded-lg border border-green-600/30",children:[s.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mt-0.5",children:s.jsx(oE,{className:"w-4 h-4 text-white"})}),s.jsx("span",{className:"text-green-400 font-semibold text-sm sm:text-base",children:c})]},u))})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx(Bfe,{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary-500 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:"Next Steps"}),s.jsx("p",{className:"text-gray-300 text-sm sm:text-base",children:"Let's turn this proposal into reality"})]})]}),s.jsx("div",{className:"space-y-4",children:[{step:"1",title:"Schedule a Consultation",desc:"Free 30-minute call to discuss your specific needs and answer questions"},{step:"2",title:"Refine Your Package",desc:"We'll customize the service package to perfectly match your requirements"},{step:"3",title:"Event Planning",desc:"Work with our team to plan production logistics and content strategy"},{step:"4",title:"Production Day",desc:"Sit back while we deliver broadcast-quality coverage of your event"}].map((c,u)=>s.jsxs(Fr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+u*.1},className:"flex gap-4 p-4 bg-dark-900 rounded-lg border border-gray-700 hover:border-primary-600/50 transition-colors",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 sm:w-12 sm:h-12 bg-primary-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-lg sm:text-xl font-black text-white",children:c.step})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-base sm:text-lg font-bold text-white mb-1",children:c.title}),s.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},u))})]}),s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:[1,2,3,4,5].map(c=>s.jsx("svg",{className:"w-6 h-6 text-amber-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},c))}),s.jsx("p",{className:"text-base sm:text-lg text-gray-300 italic mb-4",children:`"Brandon's team delivered exactly what we needed. Professional coverage, quick turnaround on highlights, and our sponsors loved the exposure. Worth every dollar."`}),s.jsx("p",{className:"text-sm text-gray-500",children:" Combat Sports Promoter, QLD"})]})}),s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.7},className:"bg-gradient-to-r from-green-900/30 to-emerald-900/30 border-2 border-green-600 rounded-xl p-6 sm:p-8 mb-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-white mb-4",children:"Our Satisfaction Guarantee"}),s.jsx("p",{className:"text-base sm:text-lg text-gray-200 max-w-2xl mx-auto leading-relaxed",children:"We're confident you'll love our work. If you're not completely satisfied with your first event's media package, we'll re-edit the entire deliverable at no additional cost."}),s.jsx("p",{className:"text-sm text-green-400 mt-4 font-semibold",children:"Plus: Free consultation with absolutely no commitment required."})]})}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8 mb-8",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 text-center",children:"Get In Touch"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[s.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Combat Sports Media Proposal - ${formData.orgName}",className:"flex items-center gap-3 p-4 sm:p-5 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[s.jsx(nu,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:rotate-12 transition-transform"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Email Us"}),s.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"info@fitfocusmedia.com.au"})]})]}),s.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Consultation Request - ${formData.orgName}&body=Hi Brandon,%0D%0A%0D%0AI'd like to schedule a consultation to discuss media production for ${formData.orgName}.%0D%0A%0D%0APlease send me your available times.%0D%0A%0D%0AThanks!",className:"flex items-center gap-3 p-4 sm:p-5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[s.jsx(Cl,{className:"w-6 h-6 sm:w-8 sm:h-8 group-hover:rotate-12 transition-transform"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm sm:text-base",children:"Request a Call"}),s.jsx("p",{className:"text-xs sm:text-sm text-white/80",children:"We'll send scheduling options"})]})]})]}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Response time: Usually within 24 hours"})})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:1},className:"space-y-3",children:[s.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-base sm:text-lg",children:[s.jsx(Rm,{className:"w-5 h-5 sm:w-6 sm:h-6"}),"Download Proposal PDF"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:n,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-all text-base sm:text-lg",children:[s.jsx(Y0,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),s.jsx("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-dark-700 hover:bg-dark-600 text-white font-semibold rounded-lg transition-all text-sm sm:text-base",children:"New Proposal"}),s.jsx("button",{onClick:()=>i(2),className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-lg transition-all text-sm sm:text-base",children:"Edit Details"})]})]}),s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"mt-12 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:" 2026 Fit Focus Media | Professional Combat Sports Production"})})]})})};function Kk(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function ev(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function c(d){try{l(n.next(d))}catch(f){o(f)}}function u(d){try{l(n.throw(d))}catch(f){o(f)}}function l(d){d.done?a(d.value):i(d.value).then(c,u)}l((n=n.apply(t,e||[])).next())})}const XPe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class AF extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ZPe extends AF{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class BV extends AF{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class PV extends AF{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var oO;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oO||(oO={}));class JPe{constructor(e,{headers:r={},customFetch:n,region:i=oO.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=XPe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ev(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:c,method:u,body:l,signal:d,timeout:f}=n;let m={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;l&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=l):typeof l=="string"?(m["Content-Type"]="text/plain",x=l):typeof FormData<"u"&&l instanceof FormData?x=l:(m["Content-Type"]="application/json",x=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?x=JSON.stringify(l):x=l;let y=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const w=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:x,signal:y}).catch(C=>{throw new ZPe(C)}),E=w.headers.get("x-relay-error");if(E&&E==="true")throw new BV(w);if(!w.ok)throw new PV(w);let _=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return _==="application/json"?N=yield w.json():_==="application/octet-stream"||_==="application/pdf"?N=yield w.blob():_==="text/event-stream"?N=w:_==="multipart/form-data"?N=yield w.formData():N=yield w.text(),{data:N,error:null,response:w}}catch(c){return{data:null,error:c,response:c instanceof PV||c instanceof BV?c.context:void 0}}finally{a&&clearTimeout(a)}})}}var eOe=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},tOe=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,c=null,u=null,l=a.status,d=a.statusText;if(a.ok){var f,m;if(r.method!=="HEAD"){var p;const w=await a.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?c=w:c=JSON.parse(w))}const x=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(m=a.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");x&&y&&y.length>1&&(u=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(o={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,u=null,l=406,d="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var g;const x=await a.text();try{o=JSON.parse(x),Array.isArray(o)&&a.status===404&&(c=[],o=null,l=200,d="OK")}catch{a.status===404&&x===""?(l=204,d="No Content"):o={message:x}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,l=200,d="OK"),o&&r.shouldThrowOnError)throw new eOe(o)}return{error:o,data:c,count:u,status:l,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var o;let c="";const u=a?.cause;if(u){var l,d,f,m;const g=(l=u?.message)!==null&&l!==void 0?l:"",x=(d=u?.code)!==null&&d!==void 0?d:"";c=`${(f=a?.name)!==null&&f!==void 0?f:"FetchError"}: ${a?.message}`,c+=`

Caused by: ${(m=u?.name)!==null&&m!==void 0?m:"Error"}: ${g}`,x&&(c+=` (${x})`),u?.stack&&(c+=`
${u.stack}`)}else{var p;c=(p=a?.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(o=a?.name)!==null&&o!==void 0?o:"FetchError"}: ${a?.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},rOe=class extends tOe{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const OV=new RegExp("[,()]");var ky=class extends rOe{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&OV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&OV.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},nOe=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join(""),{url:c,headers:u}=this.cloneRequestState();return c.searchParams.set("select",o),n&&u.append("Prefer",`count=${n}`),new ky({method:i,url:c,headers:u,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);a.searchParams.set("columns",u.join(","))}}return new ky({method:i,url:a,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const o="POST",{url:c,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&c.searchParams.set("on_conflict",e),n&&u.append("Prefer",`count=${n}`),i||u.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(l.length>0){const d=[...new Set(l)].map(f=>`"${f}"`);c.searchParams.set("columns",d.join(","))}}return new ky({method:o,url:c,headers:u,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new ky({method:n,url:i,headers:a,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ky({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},iOe=class Ane{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new nOe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ane(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:a}={}){var o;let c;const u=new URL(`${this.url}/rpc/${e}`);let l;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(c="POST",l=r):n||i?(c=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{u.searchParams.append(p,g)})):(c="POST",l=r);const m=new Headers(this.headers);return f?m.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&m.set("Prefer",`count=${a}`),new ky({method:c,url:u,headers:m,schema:this.schemaName,body:l,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class sOe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const aOe="2.93.3",oOe=`realtime-js/${aOe}`,lOe="1.0.0",pne="2.0.0",RV=pne,lO=1e4,cOe=1e3,uOe=100;var p0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(p0||(p0={}));var Du;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Du||(Du={}));var Im;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Im||(Im={}));var cO;(function(t){t.websocket="websocket"})(cO||(cO={}));var Uv;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Uv||(Uv={}));class dOe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,a;const o=e.topic,c=(i=e.ref)!==null&&i!==void 0?i:"",u=(a=e.join_ref)!==null&&a!==void 0?a:"",l=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+c.length+o.length+l.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+m);let g=new DataView(p),x=0;g.setUint8(x++,this.KINDS.userBroadcastPush),g.setUint8(x++,u.length),g.setUint8(x++,c.length),g.setUint8(x++,o.length),g.setUint8(x++,l.length),g.setUint8(x++,f.length),g.setUint8(x++,r),Array.from(u,w=>g.setUint8(x++,w.charCodeAt(0))),Array.from(c,w=>g.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>g.setUint8(x++,w.charCodeAt(0))),Array.from(l,w=>g.setUint8(x++,w.charCodeAt(0))),Array.from(f,w=>g.setUint8(x++,w.charCodeAt(0)));var y=new Uint8Array(p.byteLength+n.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(n),p.byteLength),y.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,a,o,c,u]=n;return r({join_ref:i,ref:a,topic:o,event:c,payload:u})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let u=this.HEADER_LENGTH+4;const l=n.decode(e.slice(u,u+i));u=u+i;const d=n.decode(e.slice(u,u+a));u=u+a;const f=n.decode(e.slice(u,u+o));u=u+o;const m=e.slice(u,e.byteLength),p=c===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,g={type:this.BROADCAST_EVENT,event:d,payload:p};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class gne{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _l;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(_l||(_l={}));const DV=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((a,o)=>(a[o]=hOe(o,t,e,i),a),{}):{}},hOe=(t,e,r,n)=>{const i=e.find(c=>c.name===t),a=i?.type,o=r[t];return a&&!n.includes(a)?vne(a,o):uO(o)},vne=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return pOe(e,r)}switch(t){case _l.bool:return fOe(e);case _l.float4:case _l.float8:case _l.int2:case _l.int4:case _l.int8:case _l.numeric:case _l.oid:return mOe(e);case _l.json:case _l.jsonb:return AOe(e);case _l.timestamp:return gOe(e);case _l.abstime:case _l.date:case _l.daterange:case _l.int4range:case _l.int8range:case _l.money:case _l.reltime:case _l.text:case _l.time:case _l.timestamptz:case _l.timetz:case _l.tsrange:case _l.tstzrange:return uO(e);default:return uO(e)}},uO=t=>t,fOe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mOe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AOe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},pOe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(c=>vne(e,c))}return t},gOe=t=>typeof t=="string"?t.replace(" ","T"):t,xne=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class lI{constructor(e,r,n={},i=lO){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var MV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(MV||(MV={}));class AE{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=AE.syncState(this.state,i,a,o),this.pendingDiffs.forEach(u=>{this.state=AE.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=AE.syncDiff(this.state,i,a,o),c())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),c={},u={};return this.map(a,(l,d)=>{o[l]||(u[l]=d)}),this.map(o,(l,d)=>{const f=a[l];if(f){const m=d.map(y=>y.presence_ref),p=f.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),x=f.filter(y=>m.indexOf(y.presence_ref)<0);g.length>0&&(c[l]=g),x.length>0&&(u[l]=x)}else c[l]=d}),this.syncDiff(a,{joins:c,leaves:u},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(c,u)=>{var l;const d=(l=e[c])!==null&&l!==void 0?l:[];if(e[c]=this.cloneDeep(u),d.length>0){const f=e[c].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[c].unshift(...m)}n(c,d,u)}),this.map(o,(c,u)=>{let l=e[c];if(!l)return;const d=u.map(f=>f.presence_ref);l=l.filter(f=>d.indexOf(f.presence_ref)<0),e[c]=l,i(c,l,u),l.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(FV||(FV={}));var pE;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pE||(pE={}));var Ip;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ip||(Ip={}));class fb{constructor(e,r={config:{}},n){var i,a;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Du.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lI(this,Im.join,this.params,this.timeout),this.rejoinTimer=new gne(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Du.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Du.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Du.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Du.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Du.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Im.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new AE(this),this.broadcastEndpointURL=xne(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Du.closed){const{config:{broadcast:o,presence:c,private:u}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[pE.PRESENCE]&&this.bindings[pE.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:d}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(Ip.CHANNEL_ERROR,p)),this._onClose(()=>e?.(Ip.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){e?.(Ip.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,y=(g=x?.length)!==null&&g!==void 0?g:0,w=[];for(let E=0;E<y;E++){const _=x[E],{filter:{event:N,schema:C,table:I,filter:D}}=_,M=p&&p[E];if(M&&M.event===N&&fb.isFilterValueEqual(M.schema,C)&&fb.isFilterValueEqual(M.table,I)&&fb.isFilterValueEqual(M.filter,D))w.push(Object.assign(Object.assign({},_),{id:M.id}));else{this.unsubscribe(),this.state=Du.errored,e?.(Ip.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(Ip.SUBSCRIBED);return}}).receive("error",p=>{this.state=Du.errored,e?.(Ip.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ip.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Du.joined&&e===pE.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let u=c.statusText;try{const l=await c.json();u=l.error||l.message||u}catch{}return Promise.reject(new Error(u))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=e,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,c,u;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),l.receive("ok",()=>a("ok")),l.receive("error",()=>a("error")),l.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Du.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Im.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new lI(this,Im.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Du.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lI(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>uOe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:c,error:u,leave:l,join:d}=Im;if(n&&[c,u,l,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,x,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(x=p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var g,x,y,w,E,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const N=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return N&&((x=r.ids)===null||x===void 0?void 0:x.includes(N))&&(C==="*"||C?.toLocaleLowerCase()===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const N=(E=(w=p?.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return N==="*"||N===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:x,table:y,commit_timestamp:w,type:E,errors:_}=g;m=Object.assign(Object.assign({},{schema:x,table:y,commit_timestamp:w,eventType:E,new:{},old:{},errors:_}),this._getPayloadRecords(g))}p.callback(m,n)})}_isClosed(){return this.state===Du.closed}_isJoined(){return this.state===Du.joined}_isJoining(){return this.state===Du.joining}_isLeaving(){return this.state===Du.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&fb.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Im.close,{},e)}_onError(e){this._on(Im.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Du.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=DV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=DV(e.columns,e.old_record)),r}}const cI=()=>{},pS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vOe=[1e3,2e3,5e3,1e4],xOe=1e4,yOe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bOe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lO,this.transport=null,this.heartbeatIntervalMs=pS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cI,this.ref=0,this.reconnectTimer=null,this.vsn=RV,this.logger=cI,this.conn=null,this.sendBuffer=[],this.serializer=new dOe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${cO.websocket}`,this.httpEndpoint=xne(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sOe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case p0.connecting:return Uv.Connecting;case p0.open:return Uv.Open;case p0.closing:return Uv.Closing;default:return Uv.Closed}}isConnected(){return this.connectionState()===Uv.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new fb(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,c=>{var u;(u=this.conn)===null||u===void 0||u.send(c)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(cOe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pS.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",l)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:o}=r,c=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${n} ${i} ${c}`.trim(),a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===p0.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===p0.open||this.conn.readyState===p0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Im.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([yOe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:oOe};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Im.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new gne(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,a,o,c,u,l,d,f,m,p;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:lO,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:pS.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:cI,this.vsn=(u=e?.vsn)!==null&&u!==void 0?u:RV,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e?.reconnectAfterMs)!==null&&l!==void 0?l:(g=>vOe[g-1]||xOe),this.vsn){case lOe:this.encode=(d=e?.encode)!==null&&d!==void 0?d:((g,x)=>x(JSON.stringify(g))),this.decode=(f=e?.decode)!==null&&f!==void 0?f:((g,x)=>x(JSON.parse(g)));break;case pne:this.encode=(m=e?.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var n2=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wOe(t,e,r){const n=new URL(e,t);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function EOe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function _Oe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const c=wOe(t.baseUrl,n,i),u=await EOe(t.auth),l=await e(c,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),d=await l.text(),f=(l.headers.get("content-type")||"").includes("application/json"),m=f&&d?JSON.parse(d):d;if(!l.ok){const p=f?m:void 0,g=p?.error;throw new n2(g?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:g?.type,icebergCode:g?.code,details:p})}return{status:l.status,headers:l.headers,data:m}}}}function gS(t){return t.join("")}var SOe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:gS(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gS(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gS(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gS(t.namespace)}`}),!0}catch(e){if(e instanceof n2&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof n2&&r.status===409)return;throw r}}};function cy(t){return t.join("")}var jOe=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cy(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cy(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cy(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cy(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cy(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cy(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof n2&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof n2&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},TOe=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=_Oe({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new SOe(this.client,e),this.tableOps=new jOe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Gk=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Wk(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var vS=class extends Gk{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yne=class extends Gk{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const COe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NOe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dO=t=>{if(Array.isArray(t))return t.map(r=>dO(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=dO(n)}),e},kOe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function i2(t){"@babel/helpers - typeof";return i2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i2(t)}function LOe(t,e){if(i2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(i2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IOe(t){var e=LOe(t,"string");return i2(e)=="symbol"?e:e+""}function BOe(t,e,r){return(e=IOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(r),!0).forEach(function(n){BOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const $V=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},POe=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t,a=i.status||500;if(typeof i.json=="function")i.json().then(o=>{const c=o?.statusCode||o?.code||a+"";e(new vS($V(o),a,c,n))}).catch(()=>{if(n==="vectors"){const o=a+"";e(new vS(i.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";e(new vS(i.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";e(new vS(i.statusText||`HTTP ${a} error`,a,o,n))}}else e(new yne($V(t),t,n))},OOe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!n?Es(Es({},i),r):(NOe(n)?(i.headers=Es({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),Es(Es({},i),r))};async function hw(t,e,r,n,i,a,o){return new Promise((c,u)=>{t(r,OOe(e,n,i,a)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;if(o==="vectors"){const d=l.headers.get("content-type");if(l.headers.get("content-length")==="0"||l.status===204)return{};if(!d||!d.includes("application/json"))return{}}return l.json()}).then(l=>c(l)).catch(l=>POe(l,u,n,o))})}function bne(t="storage"){return{get:async(e,r,n,i)=>hw(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,a)=>hw(e,"POST",r,i,a,n,t),put:async(e,r,n,i,a)=>hw(e,"PUT",r,i,a,n,t),head:async(e,r,n,i)=>hw(e,"HEAD",r,Es(Es({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,a)=>hw(e,"DELETE",r,i,a,n,t)}}const ROe=bne("storage"),{get:s2,post:km,put:hO,head:DOe,remove:pF}=ROe,bf=bne("vectors");var B1=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=COe(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Wk(r))return{data:null,error:r};throw r}}},MOe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wk(e))return{data:null,error:e};throw e}}};let wne;wne=Symbol.toStringTag;var FOe=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[wne]="BlobDownloadBuilder",this.promise=null}asStream(){return new MOe(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wk(e))return{data:null,error:e};throw e}}};const UOe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},HV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $Oe=class extends B1{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let a;const o=Es(Es({},HV),n);let c=Es(Es({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",i.encodeMetadata(u)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(u))):(a=r,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,u&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(c=Es(Es({},c),n.headers));const l=i._removeEmptyFolders(e),d=i._getFinalPath(l),f=await(t=="PUT"?hO:km)(i.fetch,`${i.url}/object/${d}`,a,Es({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{path:l,id:f.Id,fullPath:f.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const a=i._removeEmptyFolders(t),o=i._getFinalPath(a),c=new URL(i.url+`/object/upload/sign/${o}`);return c.searchParams.set("token",e),i.handleOperation(async()=>{let u;const l=Es({upsert:HV.upsert},n),d=Es(Es({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",l.cacheControl)):(u=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType),{path:a,fullPath:(await hO(i.fetch,c.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=Es({},r.headers);e?.upsert&&(i["x-upsert"]="true");const a=await km(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+a.url),c=o.searchParams.get("token");if(!c)throw new Gk("No token returned by API");return{signedUrl:o.toString(),path:t,token:c}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await km(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await km(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),a=await km(n.fetch,`${n.url}/object/sign/${i}`,Es({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await km(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(o=>Es(Es({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",a=this._getFinalPath(t),o=()=>s2(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new FOe(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>dO(await s2(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await DOe(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wk(n)&&n instanceof yne){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const a=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await pF(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=Es(Es(Es({},UOe),e),{},{prefix:t||""});return await km(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=Es({},t);return await km(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const HOe="2.93.3",x_={"X-Client-Info":`storage-js/${HOe}`};var QOe=class extends B1{constructor(t,e={},r,n){const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),o=Es(Es({},x_),e);super(a,o,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await s2(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await s2(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await km(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await hO(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await km(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await pF(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},zOe=class extends B1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Es(Es({},x_),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await km(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await s2(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await pF(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!kOe(t))throw new Gk("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new TOe({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const o=i[a];return typeof o!="function"?o:async(...c)=>{try{return{data:await o.apply(i,c),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},VOe=class extends B1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Es(Es({},x_),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await bf.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await bf.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},KOe=class extends B1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Es(Es({},x_),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},GOe=class extends B1{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=Es(Es({},x_),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await bf.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},WOe=class extends GOe{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new YOe(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},YOe=class extends VOe{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new qOe(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},qOe=class extends KOe{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Es(Es({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},XOe=class extends QOe{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new $Oe(this.url,this.headers,t,this.fetch)}get vectors(){return new WOe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zOe(this.url+"/iceberg",this.headers,this.fetch)}};const Ene="2.93.3",Ly=30*1e3,fO=3,uI=fO*Ly,ZOe="http://localhost:9999",JOe="supabase.auth.token",eRe={"X-Client-Info":`gotrue-js/${Ene}`},mO="X-Supabase-Api-Version",_ne={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tRe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rRe=600*1e3;class a2 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ui(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nRe extends a2{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function iRe(t){return Ui(t)&&t.name==="AuthApiError"}class $v extends a2{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class yg extends a2{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class cf extends yg{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dI(t){return Ui(t)&&t.name==="AuthSessionMissingError"}class uy extends yg{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xS extends yg{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yS extends yg{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sRe(t){return Ui(t)&&t.name==="AuthImplicitGrantRedirectError"}class QV extends yg{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aRe extends yg{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AO extends yg{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function hI(t){return Ui(t)&&t.name==="AuthRetryableFetchError"}class zV extends yg{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class pO extends yg{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const KC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),VV=` 	
\r=`.split(""),oRe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<VV.length;e+=1)t[VV[e].charCodeAt(0)]=-2;for(let e=0;e<KC.length;e+=1)t[KC[e].charCodeAt(0)]=e;return t})();function KV(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(KC[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(KC[n]),e.queuedBits-=6}}function Sne(t,e,r){const n=oRe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function GV(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{uRe(o,n,r)};for(let o=0;o<t.length;o+=1)Sne(t.charCodeAt(o),i,a);return e.join("")}function lRe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cRe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lRe(n,e)}}function uRe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function jb(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Sne(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dRe(t){const e=[];return cRe(t,r=>e.push(r)),new Uint8Array(e)}function Xv(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>KV(i,r,n)),KV(null,r,n),e.join("")}function hRe(t){return Math.round(Date.now()/1e3)+t}function fRe(){return Symbol("auth-callback")}const Md=()=>typeof window<"u"&&typeof document<"u",gv={tested:!1,writable:!1},jne=()=>{if(!Md())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gv.tested)return gv.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gv.tested=!0,gv.writable=!0}catch{gv.tested=!0,gv.writable=!1}return gv.writable};function mRe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Tne=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ARe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Iy=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},vv=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Rd=async(t,e)=>{await t.removeItem(e)};class Yk{constructor(){this.promise=new Yk.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Yk.promiseConstructor=Promise;function bS(t){const e=t.split(".");if(e.length!==3)throw new pO("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tRe.test(e[n]))throw new pO("JWT not in base64url format");return{header:JSON.parse(GV(e[0])),payload:JSON.parse(GV(e[1])),signature:jb(e[2]),raw:{header:e[0],payload:e[1]}}}async function pRe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gRe(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function vRe(t){return("0"+t.toString(16)).substr(-2)}function xRe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,vRe).join("")}async function yRe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function bRe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await yRe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dy(t,e,r=!1){const n=xRe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Iy(t,`${e}-code-verifier`,i);const a=await bRe(n);return[a,n===a?"plain":"s256"]}const wRe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ERe(t){const e=t.headers.get(mO);if(!e||!e.match(wRe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _Re(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function SRe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jRe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hy(t){if(!jRe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fI(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TRe(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function WV(t){return JSON.parse(JSON.stringify(t))}const Nv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CRe=[502,503,504];async function YV(t){var e;if(!ARe(t))throw new AO(Nv(t),0);if(CRe.includes(t.status))throw new AO(Nv(t),t.status);let r;try{r=await t.json()}catch(a){throw new $v(Nv(a),a)}let n;const i=ERe(t);if(i&&i.getTime()>=_ne["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zV(Nv(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new cf}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new zV(Nv(r),t.status,r.weak_password.reasons);throw new nRe(Nv(r),t.status||500,n)}const NRe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function vs(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[mO]||(a[mO]=_ne["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await kRe(t,e,r+c,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}}async function kRe(t,e,r,n,i,a){const o=NRe(e,n,i,a);let c;try{c=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new AO(Nv(u),0)}if(c.ok||await YV(c),n?.noResolveJson)return c;try{return await c.json()}catch(u){await YV(u)}}function Em(t){var e;let r=null;BRe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=hRe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function qV(t){const e=Em(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function w0(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function LRe(t){return{data:t,error:null}}function IRe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=Kk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},u=Object.assign({},o);return{data:{properties:c,user:u},error:null}}function XV(t){return t}function BRe(t){return t.access_token&&t.refresh_token&&t.expires_in}const mI=["global","local","others"];class PRe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Tne(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=mI[0]){if(mI.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mI.join(", ")}`);try{return await vs(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ui(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await vs(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:w0})}catch(n){if(Ui(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Kk(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await vs(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IRe,redirectTo:r?.redirectTo})}catch(r){if(Ui(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await vs(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:w0})}catch(r){if(Ui(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=await vs(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:XV});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);l[`${y}Page`]=x}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(Ui(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){hy(e);try{return await vs(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:w0})}catch(r){if(Ui(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){hy(e);try{return await vs(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:w0})}catch(n){if(Ui(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){hy(e);try{return await vs(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:w0})}catch(n){if(Ui(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){hy(e.userId);try{const{data:r,error:n}=await vs(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _deleteFactor(e){hy(e.userId),hy(e.id);try{return{data:await vs(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,a,o,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=await vs(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:XV});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(u=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&u!==void 0?u:[];return p.length>0&&(p.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);l[`${y}Page`]=x}),l.total=parseInt(m)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(Ui(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await vs(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await vs(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await vs(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ui(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await vs(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ui(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await vs(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ui(r))return{data:null,error:r};throw r}}}function ZV(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const fy={debug:!!(globalThis&&jne()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cne extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ORe extends Cne{}async function RRe(t,e,r){fy.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),fy.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fy.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{fy.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw fy.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ORe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fy.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function DRe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nne(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function MRe(t){return parseInt(t,16)}function FRe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function URe(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:c,requestId:u,resources:l,scheme:d,uri:f,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=Nne(t.address),g=d?`${d}://${n}`:n,x=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${x}`;let w=`URI: ${f}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),c&&(w+=`
Not Before: ${c.toISOString()}`),u&&(w+=`
Request ID: ${u}`),l){let E=`
Resources:`;for(const _ of l){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);E+=`
- ${_}`}w+=E}return`${y}
${w}`}class pu extends Error{constructor({message:e,code:r,cause:n,name:i}){var a;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class GC extends pu{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function $Re({error:t,options:e}){var r,n,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pu({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new pu({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new pu({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new pu({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new pu({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new pu({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new pu({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new pu({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(kne(o)){if(a.rp.id!==o)return new pu({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pu({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new pu({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new pu({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pu({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function HRe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new pu({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new pu({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(kne(n)){if(r.rpId!==n)return new pu({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new pu({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new pu({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new pu({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class QRe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zRe=new QRe;function VRe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Kk(t,["challenge","user","excludeCredentials"]),a=jb(e).buffer,o=Object.assign(Object.assign({},r),{id:jb(r.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const l=n[u];c.excludeCredentials[u]=Object.assign(Object.assign({},l),{id:jb(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return c}function KRe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Kk(t,["challenge","allowCredentials"]),i=jb(e).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},c),{id:jb(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function GRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Xv(new Uint8Array(t.response.attestationObject)),clientDataJSON:Xv(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function WRe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Xv(new Uint8Array(i.authenticatorData)),clientDataJSON:Xv(new Uint8Array(i.clientDataJSON)),signature:Xv(new Uint8Array(i.signature)),userHandle:i.userHandle?Xv(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kne(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function JV(){var t,e;return!!(Md()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function YRe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new GC("Browser returned unexpected credential type",e)}:{data:null,error:new GC("Empty credential response",e)}}catch(e){return{data:null,error:$Re({error:e,options:t})}}}async function qRe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new GC("Browser returned unexpected credential type",e)}:{data:null,error:new GC("Empty credential response",e)}}catch(e){return{data:null,error:HRe({error:e,options:t})}}}const XRe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZRe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function WC(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(e(o)){const c=n[a];e(c)?n[a]=WC(c,o):n[a]=WC(o)}else n[a]=o}return n}function JRe(t,e){return WC(XRe,t,e||{})}function e3e(t,e){return WC(ZRe,t,e||{})}class t3e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},a){var o;try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const l=i??zRe.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:d}=c.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const p=(await this.client.getUser()).data.user,g=((o=p?.user_metadata)===null||o===void 0?void 0:o.name)||p?.email||p?.id||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{const d=JRe(c.webauthn.credential_options.publicKey,a?.create),{data:f,error:m}=await YRe({publicKey:d,signal:l});return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const d=e3e(c.webauthn.credential_options.publicKey,a?.request),{data:f,error:m}=await qRe(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:l}));return f?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(c){return Ui(c)?{data:null,error:c}:{data:null,error:new $v("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new a2("rpId is required for WebAuthn authentication")};try{if(!JV())return{data:null,error:new $v("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:c};const{webauthn:u}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(o){return Ui(o)?{data:null,error:o}:{data:null,error:new $v("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new a2("rpId is required for WebAuthn registration")};try{if(!JV())return{data:null,error:new $v("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:c};const{data:u,error:l}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:l}}catch(o){return Ui(o)?{data:null,error:o}:{data:null,error:new $v("Unexpected error in register",o)}}}}DRe();const r3e={url:ZOe,storageKey:JOe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eRe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function eK(t,e,r){return await r()}const my={};class o2{get jwks(){var e,r;return(r=(e=my[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){my[this.storageKey]=Object.assign(Object.assign({},my[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=my[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){my[this.storageKey]=Object.assign(Object.assign({},my[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},r3e),e);if(this.storageKey=a.storageKey,this.instanceID=(r=o2.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,o2.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Md()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new PRe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Tne(a.fetch),this.lock=a.lock||eK,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Md()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=RRe:this.lock=eK,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new t3e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:jne()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ZV(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=ZV(this.memoryStorage)),Md()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ene}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Md()&&(r=mRe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Md()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),sRe(a)){const u=(e=a.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ui(r)?this._returnResult({error:r}):this._returnResult({error:new $v("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await vs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Em}),{data:o,error:c}=a;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(a){if(Ui(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:m}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await dy(this.storage,this.storageKey)),a=await vs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:d,password:f,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},xform:Em})}else if("phone"in e){const{phone:d,password:f,options:m}=e;a=await vs(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m?.data)!==null&&n!==void 0?n:{},channel:(i=m?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Em})}else throw new xS("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c||!o)return await Rd(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const u=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(a){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:c}=e;r=await vs(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qV})}else if("phone"in e){const{phone:a,password:o,options:c}=e;r=await vs(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qV})}else throw new xS("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new uy;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,a,o,c,u,l,d,f,m;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:x,wallet:y,statement:w,options:E}=e;let _;if(Md())if(typeof y=="object")_=y;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")_=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const N=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),C=await _.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Nne(C[0]);let D=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const Y=await _.request({method:"eth_chainId"});D=MRe(Y)}const M={domain:N.host,address:I,statement:w,uri:N.href,version:"1",chainId:D,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=URe(M),g=await _.request({method:"personal_sign",params:[FRe(p),I]})}try{const{data:x,error:y}=await vs(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Em});if(y)throw y;if(!x||!x.session||!x.user){const w=new uy;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(Ui(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,i,a,o,c,u,l,d,f,m,p;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:y,wallet:w,statement:E,options:_}=e;let N;if(Md())if(typeof w=="object")N=w;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))N=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=w}const C=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const I=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),E?{statement:E}:null));let D;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")D=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)D=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)g=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),x=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=_?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((u=_?.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(d=_?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const I=await N.signMessage(new TextEncoder().encode(g),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=I}}try{const{data:y,error:w}=await vs(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Xv(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Em});if(w)throw w;if(!y||!y.session||!y.user){const E=new uy;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(Ui(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await vv(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new aRe;const{data:a,error:o}=await vs(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Em});if(await Rd(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const c=new uy;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,c=await vs(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Em}),{data:u,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!u||!u.session||!u.user){const d=new uy;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:l})}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:c,options:u}=e;let l=null,d=null;this.flowType==="pkce"&&([l,d]=await dy(this.storage,this.storageKey));const{error:f}=await vs(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(n=u?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:c,options:u}=e,{data:l,error:d}=await vs(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=u?.data)!==null&&i!==void 0?i:{},create_user:(a=u?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(o=u?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:d})}throw new xS("You must provide either an email or phone number.")}catch(c){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await vs(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Em});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,l=o.user;return u?.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:l,session:u},error:null})}catch(i){if(Ui(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,a,o;try{let c=null,u=null;this.flowType==="pkce"&&([c,u]=await dy(this.storage,this.storageKey));const l=await vs(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:LRe});return!((a=l.data)===null||a===void 0)&&a.url&&Md()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new cf;const{error:i}=await vs(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ui(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await vs(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:c}=await vs(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new xS("You must provide either an email or phone number and a type")}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await vv(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<uI:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await vv(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=fI()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=TRe(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await vs(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:w0}):await this._useSession(async r=>{var n,i,a;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cf}:await vs(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:w0})})}catch(r){if(Ui(r))return dI(r)&&(await this._removeSession(),await Rd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new cf;const o=i.session;let c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=await dy(this.storage,this.storageKey));const{data:l,error:d}=await vs(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:o.access_token,xform:w0});if(d)throw d;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cf;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=bS(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:c,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:u}=await this._getUser(e.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});a={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ui(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:c}=r;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new cf;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ui(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Md())throw new yS("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yS(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new QV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yS("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new QV("No code detected.");const{data:E,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:c,expires_at:u,token_type:l}=e;if(!a||!c||!o||!l)throw new yS("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let m=d+f;u&&(m=parseInt(u));const p=m-d;p*1e3<=Ly&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=m-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:x,error:y}=await this._getUser(a);if(y)throw y;const w={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:l,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Ui(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await vv(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!dI(a))return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(iRe(c)&&(c.status===404||c.status===401||c.status===403)||dI(c)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Rd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=fRe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await dy(this.storage,this.storageKey,!0));try{return await vs(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,c,u,l,d;const{data:f,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await vs(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Md()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Ui(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:c,token:u,access_token:l,nonce:d}=e,f=await vs(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:u,access_token:l,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Em}),{data:m,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new uy}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:p}))}catch(i){if(await Rd(this.storage,`${this.storageKey}-code-verifier`),Ui(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await vs(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await gRe(async i=>(i>0&&await pRe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await vs(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Em})),(i,a)=>{const o=200*Math.pow(2,i);return a&&hI(a)&&Date.now()+o-n<Ly})}catch(n){if(this._debug(r,"error",n),Ui(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Md()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await vv(this.storage,this.storageKey);if(i&&this.userStorage){let o=await vv(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Iy(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:fI()}else if(i&&!i.user&&!i.user){const o=await vv(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Rd(this.storage,this.storageKey+"-user"),await Iy(this.storage,this.storageKey,i)):i.user=fI()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<uI;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${uI}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),hI(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(i.access_token);!c&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new cf;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Yk;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new cf;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(i,"error",a),Ui(a)){const o={data:null,error:a};return hI(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Rd(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Iy(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=WV(i);await Iy(this.storage,this.storageKey,a)}else{const i=WV(r);await Iy(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Rd(this.storage,this.storageKey),await Rd(this.storage,this.storageKey+"-code-verifier"),await Rd(this.storage,this.storageKey+"-user"),this.userStorage&&await Rd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Md()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ly);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ly);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ly}ms, refresh threshold is ${fO} ticks`),i<=fO&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cne)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Md()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await dy(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(c.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await vs(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:u,error:l}=await vs(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&u.type==="totp"&&(!((i=u?.totp)===null||i===void 0)&&i.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GRe(e.webauthn.credential_response):WRe(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:u}=await vs(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:u}))})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await vs(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:VRe(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:KRe(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,a;if(e)try{const{payload:p}=bS(e);let g=null;p.aal&&(g=p.aal);let x=g;const{data:{user:y},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=y?.factors)===null||r===void 0?void 0:r.filter(N=>N.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const _=p.amr||[];return{data:{currentLevel:g,nextLevel:x,currentAuthenticationMethods:_},error:null}}catch(p){if(Ui(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=bS(o.access_token);let l=null;u.aal&&(l=u.aal);let d=l;((a=(i=o.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const m=u.amr||[];return{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await vs(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new cf})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new cf});const o=await vs(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Md()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ui(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new cf});const o=await vs(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Md()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ui(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await vs(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new cf})})}catch(e){if(Ui(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await vs(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cf})})}catch(r){if(Ui(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+rRe>i)return n;const{data:a,error:o}=await vs(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:a,signature:o,raw:{header:c,payload:u}}=bS(n);r?.allowExpired||_Re(a.exp);const l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!l){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:o},error:null}}const d=SRe(i.alg),f=await crypto.subtle.importKey("jwk",l,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,dRe(`${c}.${u}`)))throw new pO("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Ui(n))return this._returnResult({data:null,error:n});throw n}}}o2.nextInstanceID={};const n3e=o2,i3e="2.93.3";let Ow="";typeof Deno<"u"?Ow="deno":typeof document<"u"?Ow="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ow="react-native":Ow="node";const s3e={"X-Client-Info":`supabase-js-${Ow}/${i3e}`},a3e={headers:s3e},o3e={schema:"public"},l3e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},c3e={};function l2(t){"@babel/helpers - typeof";return l2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l2(t)}function u3e(t,e){if(l2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(l2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d3e(t){var e=u3e(t,"string");return l2(e)=="symbol"?e:e+""}function h3e(t,e,r){return(e=d3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tK(Object(r),!0).forEach(function(n){h3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const f3e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),m3e=()=>Headers,A3e=(t,e,r)=>{const n=f3e(r),i=m3e();return async(a,o)=>{var c;const u=(c=await e())!==null&&c!==void 0?c:t;let l=new i(o?.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(a,Ic(Ic({},o),{},{headers:l}))}};function p3e(t){return t.endsWith("/")?t:t+"/"}function g3e(t,e){var r,n;const{db:i,auth:a,realtime:o,global:c}=t,{db:u,auth:l,realtime:d,global:f}=e,m={db:Ic(Ic({},u),i),auth:Ic(Ic({},l),a),realtime:Ic(Ic({},d),o),storage:{},global:Ic(Ic(Ic({},f),c),{},{headers:Ic(Ic({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function v3e(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p3e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var x3e=class extends n3e{constructor(t){super(t)}},y3e=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const a=v3e(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:o3e,realtime:c3e,auth:Ic(Ic({},l3e),{},{storageKey:o}),global:a3e},u=g3e(r??{},c);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch)}this.fetch=A3e(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Ic({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new iOe(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new XOe(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new JPe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:o,lock:c,debug:u,throwOnError:l},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x3e({url:this.authUrl.href,headers:Ic(Ic({},m),d),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:c,debug:u,throwOnError:l,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bOe(this.realtimeUrl.href,Ic(Ic({},t),{},{params:Ic(Ic({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const b3e=(t,e,r)=>new y3e(t,e,r);function w3e(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}w3e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E3e="https://gonalgubgldgpkcekaxe.supabase.co",_3e="sb_publishable_SB4LfH4EkuEyu5qeC_dffQ_G9cF8Fo_",jr=b3e(E3e,_3e);async function S3e({name:t,email:e,phone:r,orgName:n,formData:i=null}){const a=crypto.randomUUID(),{error:o}=await jr.from("leads").insert([{id:a,name:t,email:e,phone:r,org_name:n,completed_form:!!i,form_data:i,source:"combat-sports-proposal"}]);if(o)throw o;return{id:a,name:t,email:e,phone:r,org_name:n}}async function j3e(t){if(!t)return null;let{data:e,error:r}=await jr.from("crm_leads").select("*").ilike("org_name",t).limit(1).single();if(e)return e;const n=t.replace(/\s*(Pty|Ltd|Inc|LLC|Pty Ltd|PTY LTD|Corporation|Corp)\.?\s*/gi,"").trim(),i=await jr.from("crm_leads").select("*").ilike("org_name",`%${n}%`).limit(1).single();if(i.data)return i.data;const a=n.split(/\s+/).filter(o=>o.length>3);if(a.length>0){const o=a[0],c=await jr.from("crm_leads").select("*").ilike("org_name",`%${o}%BJJ%`).limit(1).single();if(c.data)return c.data}return null}async function gF(){const{data:t,error:e}=await jr.from("contracts").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function Lne(t){const{data:e,error:r}=await jr.from("contracts").select("*").eq("id",t).single();if(r)throw r;return e}async function T3e(t){const{data:e,error:r}=await jr.from("contracts").select("*").eq("share_token",t).single();if(r)throw r;return e}async function rK(t){const e=Array.from({length:32},()=>Math.floor(Math.random()*16).toString(16)).join(""),{data:r,error:n}=await jr.from("contracts").insert({...t,share_token:e}).select().single();if(n)throw n;return r}async function nK(t,e){const{data:r,error:n}=await jr.from("contracts").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function C3e(t){const{error:e}=await jr.from("contracts").delete().eq("id",t);if(e)throw e}async function N3e(t){const{data:e,error:r}=await jr.from("contracts").update({viewed_at:new Date().toISOString(),status:"viewed",updated_at:new Date().toISOString()}).eq("id",t).select().single();if(r)throw r;return e}async function k3e(t){const{data:e,error:r}=await jr.from("orders").insert([t]).select().single();if(r)throw r;return e}async function L3e(t,e,r=!1){const n=r?{client_signature:e,client_signed_at:new Date().toISOString(),status:"signed",updated_at:new Date().toISOString()}:{ffm_signature:e,ffm_signed_at:new Date().toISOString(),status:"sent",updated_at:new Date().toISOString()},{data:i,error:a}=await jr.from("contracts").update(n).eq("id",t).select().single();if(a)throw a;return i}const I3e=()=>Array.from({length:24},()=>Math.floor(Math.random()*16).toString(16)).join("");async function B3e(){const{data:t,error:e}=await jr.from("onboarding_sessions").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function P3e(t){const{data:e,error:r}=await jr.from("onboarding_sessions").select("*").eq("share_token",t);if(r)throw r;if(!e||e.length===0)throw new Error("Onboarding session not found. Please check your link or contact Fit Focus Media.");const n=e[0];return n&&n.status==="pending"&&(await jr.from("onboarding_sessions").update({status:"in_progress"}).eq("share_token",t),n.status="in_progress"),n}async function Ine(t){const{data:e,error:r}=await jr.from("onboarding_sessions").insert({...t,share_token:I3e(),status:"pending"}).select().single();if(r)throw r;if(e&&e.org_name&&e.event_name)try{await $3e(e.id,e.org_name,e.event_name)}catch(n){console.error("Failed to create Drive folders:",n)}return e}async function O3e(t,e){delete e.id,delete e.created_at,delete e.share_token,delete e.contract_id;const{data:r,error:n}=await jr.from("onboarding_sessions").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function R3e(t,e){delete e.id,delete e.created_at,delete e.share_token,delete e.contract_id;const{data:r,error:n}=await jr.from("onboarding_sessions").update({...e,updated_at:new Date().toISOString()}).eq("share_token",t).select();if(n)throw n;if(!r||r.length===0)throw new Error("Failed to save changes - session not found");return r[0]}async function D3e(t){const e=typeof t=="string"?t:t?.share_token;if(!e)throw new Error("No share token provided for submission");const{data:r,error:n}=await jr.from("onboarding_sessions").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("share_token",e).select();if(n)throw n;if(!r||r.length===0)throw new Error("Session not found or update blocked by permissions");return r[0]}async function M3e(t,e,r){const{data:n,error:i}=await jr.from("onboarding_sessions").update({status:"reviewed",reviewed_at:new Date().toISOString(),reviewed_by:e,admin_notes:r}).eq("id",t).select();if(i)throw i;return n}async function F3e(t){const{error:e}=await jr.from("onboarding_files").delete().eq("session_id",t);e&&console.error("Error deleting files:",e);const{error:r}=await jr.from("onboarding_sessions").delete().eq("id",t);if(r)throw r;return!0}const AI="onboarding";async function U3e(t,e,r,n){const{data:i}=await jr.from("onboarding_sessions").select("org_name, event_name").eq("id",t).single(),a=w=>w?.replace(/[^a-zA-Z0-9 -]/g,"").trim().substring(0,50)||"",o=a(i?.org_name)||t.substring(0,8),c=i?.event_name?a(i.event_name):null,u=Date.now(),l=n.name.replace(/[^a-zA-Z0-9.-]/g,"_"),d=c?`${o}/${c}/${e}/${u}_${l}`:`${o}/${e}/${u}_${l}`,{data:f,error:m}=await jr.storage.from(AI).upload(d,n,{cacheControl:"3600",upsert:!1});if(m)throw new Error(m.message||"Upload failed");const{data:p}=jr.storage.from(AI).getPublicUrl(d),g=p?.publicUrl||null,{data:x,error:y}=await jr.from("onboarding_files").insert({session_id:t,category:e,file_type:r,file_name:n.name,file_size:n.size,mime_type:n.type,storage_path:d,public_url:g,synced_to_drive:!1}).select().single();if(y)throw await jr.storage.from(AI).remove([d]),new Error(y.message||"Failed to create file record");return{file:x,url:g,message:"File uploaded. Will sync to Google Drive automatically."}}async function $3e(t,e,r){return console.log("Drive folders will be created automatically during sync"),{success:!0,message:"Folders created during sync"}}async function H3e(t){const{data:e,error:r}=await jr.from("onboarding_files").select("*").eq("session_id",t).order("created_at",{ascending:!1});if(r)throw r;return e}async function Q3e(){const{data:t,error:e}=await jr.from("events").select("*, organizations(id, name, display_name)").eq("active",!0).order("date",{ascending:!0});if(e)throw e;return(t||[]).map(r=>({...r,org_display_name:r.organizations?.display_name||r.organizations?.name||"Unknown"}))}async function z3e(){const{data:t,error:e}=await jr.from("livestream_events").select("*, organizations(id, name, display_name, logo_url)").in("status",["published","live","ended"]).order("start_time",{ascending:!0});if(e)throw e;return(t||[]).map(r=>({...r,org_display_name:r.organizations?.display_name||r.organizations?.name||r.organization}))}async function gO(t){const{data:e,error:r}=await jr.from("livestream_events").select("*, organizations(id, name, display_name, logo_url)").eq("id",t).single();if(r)throw r;return e?{...e,org_display_name:e.organizations?.display_name||e.organizations?.name||e.organization}:null}async function Bne(){const{data:t,error:e}=await jr.from("livestream_events").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function V3e(t){const{data:e,error:r}=await jr.from("livestream_events").insert([t]).select().single();if(r)throw r;return e}async function mb(t,e){const{data:r,error:n}=await jr.from("livestream_events").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function K3e(t){const{error:e}=await jr.from("livestream_events").delete().eq("id",t);if(e)throw e}async function Pne(){const{data:t,error:e}=await jr.from("livestream_settings").select("*").eq("id",1).single();if(e&&e.code!=="PGRST116")throw e;return t||{demo_mode:!1}}async function G3e(t){const{data:e,error:r}=await jr.from("livestream_settings").upsert({id:1,...t,updated_at:new Date().toISOString()}).select().single();if(r)throw r;return e}async function iK(t,e){const{data:r,error:n}=await jr.from("livestream_orders").select("*").eq("event_id",t).eq("email",e.toLowerCase()).eq("status","completed").order("created_at",{ascending:!1}).limit(1);if(n)throw n;return r?.[0]||null}async function W3e(t){let e=jr.from("livestream_orders").select("*, event:livestream_events(*)").order("created_at",{ascending:!1});const{data:r,error:n}=await e;if(n)throw n;return r}async function Y3e(t){const{data:e,error:r}=await jr.from("livestream_sessions").insert([t]).select().single();if(r)throw r;return e}async function q3e(t){const{data:e,error:r}=await jr.from("livestream_sessions").update({last_seen:new Date().toISOString()}).eq("token",t).eq("active",!0).select().single();if(r)throw r;return e}async function YC(t){const{data:e,error:r}=await jr.from("livestream_streams").select("*").eq("event_id",t).order("display_order",{ascending:!0});if(r)throw r;return e||[]}async function X3e(t){const{data:e,error:r}=await jr.from("livestream_streams").insert([t]).select().single();if(r)throw r;return e}async function pI(t,e){const{data:r,error:n}=await jr.from("livestream_streams").update(e).eq("id",t).select().single();if(n)throw n;return r}async function Z3e(t){const{error:e}=await jr.from("livestream_streams").delete().eq("id",t);if(e)throw e}async function sK(t,e){const{error:r}=await jr.from("livestream_events").update({is_multi_stream:e}).eq("id",t);if(r)throw r}async function J3e(t,e){const{data:r,error:n}=await jr.auth.signInWithOtp({email:t.toLowerCase(),options:{emailRedirectTo:e||window.location.origin}});if(n)throw n;return r}async function eDe(){const{data:{session:t},error:e}=await jr.auth.getSession();if(e)throw e;return t}async function tDe(){const{error:t}=await jr.auth.signOut();if(t)throw t}function rDe(t){return jr.auth.onAuthStateChange(t)}async function aK(t,e){const r=e.toLowerCase(),{data:n}=await jr.from("user_profiles").select("*").eq("email",r).single();if(n){const{data:o,error:c}=await jr.from("user_profiles").update({auth_id:t,last_login_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(c)throw c;return o}const{data:i,error:a}=await jr.from("user_profiles").insert({email:r,auth_id:t,last_login_at:new Date().toISOString()}).select().single();if(a)throw a;return await jr.from("livestream_orders").update({user_id:i.id}).eq("email",r).is("user_id",null),i}async function nDe(t){const{data:e,error:r}=await jr.from("livestream_orders").select("*, event:livestream_events(*)").eq("email",t.toLowerCase()).eq("status","completed").order("created_at",{ascending:!1});if(r)throw r;return e}function iDe(t,e){return(e?`${t}-${e}`:t).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").substring(0,60)}async function sDe(){const{data:t,error:e}=await jr.from("proposals").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}async function aDe(t){const{data:e,error:r}=await jr.from("proposals").select("*").eq("id",t).single();if(r)throw r;return e}async function oDe(t){const{data:e,error:r}=await jr.from("proposals").select("*").eq("slug",t).single();if(r)throw r;return e}async function lDe(t){const r=`${t.slug||iDe(t.org_name,t.event_name)}-${Date.now().toString(36)}`,{data:n,error:i}=await jr.from("proposals").insert([{...t,slug:r,status:t.status||"draft"}]).select().single();if(i)throw i;return n}async function vF(t,e){const{data:r,error:n}=await jr.from("proposals").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}async function cDe(t){const{error:e}=await jr.from("proposals").delete().eq("id",t);if(e)throw e}async function uDe(t){const{data:e,error:r}=await jr.from("proposals").select("id, views").eq("slug",t).single();if(r)throw r;const{error:n}=await jr.from("proposals").update({views:(e.views||0)+1,last_viewed_at:new Date().toISOString()}).eq("id",e.id);if(n)throw n}async function dDe(t,e){return vF(t,{status:e})}async function hDe(t,e=null,r=""){const n=await aDe(t);if(!n)throw new Error("Proposal not found");const i=e||n.contact_email;if(!i)throw new Error("No email address provided");const a=`https://fitfocusmedia.com.au/#/proposals/${n.slug}`,o=await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/send-proposal-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:i,proposal_id:t,proposal_url:a,org_name:n.org_name,contact_name:n.contact_name,event_name:n.event_name,price:n.price,custom_message:r})});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(c.error||"Failed to send email")}return await vF(t,{status:"sent",sent_at:new Date().toISOString(),sent_to:i}),{success:!0,sentTo:i}}const fDe=()=>{const[t,e]=T.useState(1),[r,n]=T.useState({name:"",email:"",phone:""}),[i,a]=T.useState({orgName:"",showsPerYear:4,avgAttendance:200,venueCapacity:300,socialFollowing:5e3,currentMedia:"basic",geoReach:"local",sponsorshipLevel:"few",growthTrajectory:"stable"}),[o,c]=T.useState(null),[u,l]=T.useState([]),d=T.useRef(null),f=5;T.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[t]);const m=()=>{t<f&&e(t+1)},p=()=>{t>1&&e(t-1)},g=_=>{_>=1&&_<=f&&e(_)},x=(_,N)=>{a(C=>({...C,[_]:N}))},y=(_,N)=>{n(C=>({...C,[_]:N}))},w=_=>{a(_)},E=async()=>{const _=await S3e({name:r.name,email:r.email,phone:r.phone,orgName:i.orgName||"",formData:{...i,...r,analysis:o,selectedAddOns:u}});_?.id&&(d.current=_.id),m()};return s.jsxs("div",{className:"pt-16 sm:pt-20",children:[t>1&&s.jsx(dve,{currentStep:t,totalSteps:f,goToStep:g}),s.jsxs("div",{className:"transition-opacity duration-300",children:[t===1&&s.jsx(hve,{nextStep:m}),t===2&&s.jsx(fve,{formData:i,updateFormData:x,setFormDataBulk:w,setAnalysis:c,nextStep:m,prevStep:p}),t===3&&s.jsx(QPe,{formData:i,analysis:o,selectedAddOns:u,setSelectedAddOns:l,nextStep:m,prevStep:p}),t===4&&s.jsx(zPe,{contactData:r,updateContactData:y,formData:i,onSubmit:E,prevStep:p}),t===5&&s.jsx(qPe,{formData:i,analysis:o,selectedAddOns:u,prevStep:p,goToStep:g})]})]})},mDe=()=>{const[t,e]=T.useState({name:"",email:"",organization:"",message:""}),r=n=>{n.preventDefault();const i=encodeURIComponent(`Website Inquiry - ${t.organization||t.name}`),a=encodeURIComponent(`Name: ${t.name}
Email: ${t.email}
Organization: ${t.organization}

${t.message}`);window.location.href=`mailto:info@fitfocusmedia.com.au?subject=${i}&body=${a}`};return s.jsxs("div",{className:"pt-20 sm:pt-24",children:[s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-6",children:s.jsx("span",{className:"text-gradient",children:"Get In Touch"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-3xl mx-auto",children:"Ready to elevate your combat sports event? Let's talk about how professional media coverage can transform your promotion."})]})})}),s.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12",children:[s.jsx(Fr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:s.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-white mb-2",children:"Send a Message"}),s.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"We typically respond within 24 hours."}),s.jsxs("form",{onSubmit:r,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Your Name *"}),s.jsx("input",{type:"text",required:!0,value:t.name,onChange:n=>e({...t,name:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",required:!0,value:t.email,onChange:n=>e({...t,email:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"john@promotion.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Organization"}),s.jsx("input",{type:"text",value:t.organization,onChange:n=>e({...t,organization:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors",placeholder:"Your promotion / gym name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Message *"}),s.jsx("textarea",{required:!0,rows:5,value:t.message,onChange:n=>e({...t,message:n.target.value}),className:"w-full px-4 py-3 bg-dark-900 border-2 border-gray-700 rounded-lg text-white focus:border-primary-600 focus:outline-none transition-colors resize-none",placeholder:"Tell us about your event or what you're looking for..."})]}),s.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-primary-600 hover:bg-primary-700 text-white font-bold rounded-lg transition-all hover:scale-[1.02] text-lg",children:[s.jsx(Vb,{className:"w-5 h-5"}),"Send Message"]})]})]})}),s.jsxs(Fr.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6},className:"space-y-6",children:[s.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Direct Contact"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au",className:"flex items-center gap-4 p-4 bg-dark-900 rounded-lg hover:bg-primary-600/10 border border-gray-700 hover:border-primary-600/50 transition-all group",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:s.jsx(nu,{className:"w-6 h-6 text-primary-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold",children:"Email"}),s.jsx("p",{className:"text-gray-400 text-sm group-hover:text-primary-400 transition-colors",children:"info@fitfocusmedia.com.au"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-dark-900 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-lg flex items-center justify-center",children:s.jsx(pd,{className:"w-6 h-6 text-primary-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold",children:"Location"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Queensland, Australia"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Servicing events Australia-wide + International"})]})]})]})]}),s.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Consultation Request&body=Hi Brandon,%0D%0A%0D%0AI'd like to schedule a consultation to discuss media production for my event.%0D%0A%0D%0APlease send me your available times.%0D%0A%0D%0AThanks!",className:"flex items-center gap-3 p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[s.jsx(Cl,{className:"w-6 h-6 group-hover:rotate-12 transition-transform"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Request a Consultation"}),s.jsx("p",{className:"text-sm text-blue-100",children:"Free 30-min call to discuss your needs"})]})]}),s.jsxs(ss,{to:"/proposal",className:"flex items-center gap-3 p-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-all hover:scale-[1.02] group",children:[s.jsx($h,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Get Your Free Analysis"}),s.jsx("p",{className:"text-sm text-primary-100",children:"2-minute form, instant results"})]})]})]})]}),s.jsxs("div",{className:"bg-dark-800 border border-gray-700 rounded-xl p-6 sm:p-8",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Follow Us"}),s.jsx("div",{className:"flex gap-3",children:[{icon:XN,label:"Instagram",href:"#"},{icon:Sq,label:"YouTube",href:"#"},{icon:M2,label:"Facebook",href:"#"}].map(n=>s.jsxs("a",{href:n.href,className:"flex items-center gap-2 px-4 py-3 bg-dark-900 border border-gray-700 rounded-lg hover:border-primary-600/50 hover:bg-primary-600/10 transition-all",children:[s.jsx(n.icon,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"text-gray-300 text-sm font-semibold",children:n.label})]},n.label))})]}),s.jsxs("div",{className:"p-5 bg-green-900/20 border border-green-600/40 rounded-xl",children:[s.jsx("p",{className:"text-green-300 font-semibold text-sm mb-1",children:" Fast Response"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"We typically respond within 24 hours. For urgent event inquiries, mention your event date in the subject line."})]})]})]})})})]})};function ADe(){return T.useEffect(()=>{const t=document.createElement("script");return t.src="https://static.zcal.co/embed/v1/embed.js",t.async=!0,document.body.appendChild(t),()=>{const e=document.querySelector('script[src="https://static.zcal.co/embed/v1/embed.js"]');e&&e.remove()}},[]),s.jsx("div",{className:"min-h-screen bg-dark-950 pt-24 pb-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:[s.jsx("span",{className:"text-white",children:"Book a "}),s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-primary-400 to-accent-400",children:"Meeting"})]}),s.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Schedule a call with Brandon to discuss your event media needs. Choose a time that works for you."})]}),s.jsx("div",{className:"bg-dark-900/50 backdrop-blur-sm rounded-2xl border border-dark-800 p-4 md:p-8",children:s.jsx("div",{className:"zcal-inline-widget w-full",style:{minHeight:"700px"},children:s.jsx("a",{href:"https://zcal.co/i/tG0dicG9",children:"Project Enquiry - Schedule a meeting"})})}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs("p",{className:"text-gray-500 text-sm",children:["Can't find a suitable time?"," ",s.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-primary-400 hover:text-primary-300 transition-colors",children:"Email us directly"})]})})]})})}const af=({value:t,prefix:e="",suffix:r="",decimals:n=0})=>{const i=tve(0,{damping:50,stiffness:100}),a=uZ(i,o=>e+o.toFixed(n).replace(/\B(?=(\d{3})+(?!\d))/g,",")+r);return T.useEffect(()=>{i.set(t)},[i,t]),s.jsx(Fr.span,{children:a})},pDe=()=>{const[t,e]=T.useState(4),[r,n]=T.useState(30),[i,a]=T.useState(50),[o,c]=T.useState(300),[u,l]=T.useState(!1),[d,f]=T.useState(2e3),m=24.99,p=r*.15*350*t,g=r*.25*175*t,x=r*.05*899,y=p+g+x,w=o*1.5,E=w*m,_=E*t,N=_*.7,C=d*.2*t,I=y+N+C,D=d*t,M=D+I,Y=[{name:"Without FFM",Sponsorship:d*t,"Athlete Packages":0,"PPV Revenue":0,"Sponsorship Uplift":0},{name:"With FFM",Sponsorship:d*t,"Athlete Packages":y,"PPV Revenue":N,"Sponsorship Uplift":C}],X={Sponsorship:"#6b7280","Athlete Packages":"#22c55e","PPV Revenue":"#10b981","Sponsorship Uplift":"#14b8a6"};return s.jsx("div",{className:"py-12 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600/20 rounded-2xl mb-6",children:s.jsx(Aq,{className:"w-8 h-8 text-primary-500"})}),s.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-black mb-4",children:s.jsx("span",{className:"text-gradient",children:"Revenue Calculator"})}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-400 max-w-2xl mx-auto",children:"See how much your events could generate with professional media coverage"})]}),s.jsxs(Fr.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-600/20 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-black text-primary-500",children:"1"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Your Event Details"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[s.jsx("span",{children:"Number of events per year"}),s.jsxs("span",{className:"text-primary-400",children:[t," events"]})]}),s.jsx("input",{type:"range",min:"1",max:"24",value:t,onChange:te=>e(Number(te.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[s.jsx("span",{children:"Average athletes per event"}),s.jsxs("span",{className:"text-primary-400",children:[r," athletes"]})]}),s.jsx("input",{type:"range",min:"10",max:"100",value:r,onChange:te=>n(Number(te.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Average ticket price"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),s.jsx("input",{type:"number",min:"0",value:i,onChange:te=>a(Number(te.target.value)),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-10 py-3 text-white focus:outline-none focus:border-primary-500 transition-colors"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex justify-between text-sm font-semibold text-gray-300 mb-3",children:[s.jsx("span",{children:"Average attendees per event"}),s.jsxs("span",{className:"text-primary-400",children:[o," people"]})]}),s.jsx("input",{type:"range",min:"50",max:"2000",step:"50",value:o,onChange:te=>c(Number(te.target.value)),className:"w-full h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-primary-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-primary-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-300",children:"Do you currently livestream?"}),s.jsx("button",{onClick:()=>l(!u),className:`relative inline-flex h-7 w-12 items-center rounded-full transition-colors ${u?"bg-primary-600":"bg-dark-600"}`,children:s.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${u?"translate-x-6":"translate-x-1"}`})})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-3",children:"Current sponsorship revenue per event"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),s.jsx("input",{type:"number",min:"0",value:d,onChange:te=>f(Number(te.target.value)),className:"w-full bg-dark-700 border border-gray-600 rounded-lg px-10 py-3 text-white focus:outline-none focus:border-primary-500 transition-colors"})]})]})]})]}),s.jsxs(Fr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-600/20 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-black text-primary-500",children:"2"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Revenue Projections"})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(sh,{className:"w-5 h-5 text-primary-500"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"A) Athlete Media Packages"})]}),s.jsxs("div",{className:"space-y-3 pl-7",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"VIP Package ($350)  15% uptake"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["$",s.jsx(af,{value:p,decimals:0})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Match Package ($175)  25% uptake"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["$",s.jsx(af,{value:g,decimals:0})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Season Pass ($899/yr)  5% uptake"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["$",s.jsx(af,{value:x,decimals:0})]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-white",children:"Total Athlete Revenue"}),s.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",s.jsx(af,{value:y,decimals:0})]})]})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Eh,{className:"w-5 h-5 text-primary-500"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"B) PPV/Live Streaming"})]}),!u&&s.jsx("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4 mb-4 ml-7",children:s.jsx("p",{className:"text-amber-300 text-sm font-semibold",children:" You're leaving money on the table  streaming could add significant revenue"})}),s.jsxs("div",{className:"space-y-3 pl-7",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"PPV viewers per event (attendees  1.5)"}),s.jsxs("span",{className:"text-gray-300 font-semibold",children:[s.jsx(af,{value:w,decimals:0})," viewers"]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"PPV price"}),s.jsxs("span",{className:"text-gray-300 font-semibold",children:["$",m]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Revenue per event"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["$",s.jsx(af,{value:E,decimals:0})]})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Annual PPV revenue"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:["$",s.jsx(af,{value:_,decimals:0})]})]}),s.jsx("div",{className:"bg-dark-700/50 border border-gray-600 rounded-lg p-3 my-3",children:s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"FFM handles all production. Revenue shared 70/30 (70% to you)"})}),s.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-white",children:"Your PPV Revenue (70% share)"}),s.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",s.jsx(af,{value:N,decimals:0})]})]})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Tf,{className:"w-5 h-5 text-primary-500"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:"C) Sponsorship Uplift"})]}),s.jsxs("div",{className:"space-y-3 pl-7",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Professional media coverage attracts bigger sponsors. Estimated 20% increase in sponsorship value."}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsx("span",{className:"text-gray-400",children:"Current annual sponsorship"}),s.jsxs("span",{className:"text-gray-300 font-semibold",children:["$",s.jsx(af,{value:d*t,decimals:0})]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-3 mt-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-white",children:"Additional Sponsorship (20% uplift)"}),s.jsxs("span",{className:"text-2xl font-black text-green-400",children:["$",s.jsx(af,{value:C,decimals:0})]})]})})]})]})]})]}),s.jsxs(Fr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.2},className:"bg-gradient-to-br from-green-900/30 to-emerald-900/30 border-2 border-green-600/50 rounded-2xl p-6 sm:p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-green-600/30 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-xl font-black text-green-400",children:"3"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"The Bottom Line"})]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("p",{className:"text-gray-300 mb-3 text-lg",children:"Total Additional Annual Revenue"}),s.jsxs("div",{className:"text-5xl sm:text-6xl md:text-7xl font-black text-green-400 mb-2",children:["$",s.jsx(af,{value:I,decimals:0})]}),s.jsx("p",{className:"text-sm text-gray-400",children:"= Athlete Packages + Your PPV Share + Sponsorship Uplift"})]}),s.jsxs("div",{className:"bg-dark-900/50 rounded-xl p-4 sm:p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4 text-center",children:"Revenue Comparison"}),s.jsx(dC,{width:"100%",height:300,children:s.jsxs(fne,{data:Y,margin:{top:20,right:20,left:20,bottom:20},children:[s.jsx(Vre,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(cF,{dataKey:"name",stroke:"#9ca3af"}),s.jsx(uF,{stroke:"#9ca3af",tickFormatter:te=>`$${(te/1e3).toFixed(0)}k`}),s.jsx(xCe,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",color:"#f3f4f6"},formatter:te=>`$${te.toLocaleString()}`}),s.jsx(VJ,{}),s.jsx(hb,{dataKey:"Sponsorship",stackId:"a",fill:X.Sponsorship,radius:[0,0,0,0]}),s.jsx(hb,{dataKey:"Athlete Packages",stackId:"a",fill:X["Athlete Packages"],radius:[0,0,0,0]}),s.jsx(hb,{dataKey:"PPV Revenue",stackId:"a",fill:X["PPV Revenue"],radius:[0,0,0,0]}),s.jsx(hb,{dataKey:"Sponsorship Uplift",stackId:"a",fill:X["Sponsorship Uplift"],radius:[8,8,0,0]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-dark-800/50 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Without FFM"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-300",children:["$",s.jsx(af,{value:D,decimals:0})]})]}),s.jsxs("div",{className:"bg-green-900/30 border border-green-600/50 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-sm text-green-300 mb-1",children:"With FFM"}),s.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["$",s.jsx(af,{value:M,decimals:0})]})]})]})]}),s.jsxs(Fr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},className:"bg-dark-800 border border-gray-700 rounded-2xl p-6 sm:p-8 mb-8 text-center",children:[s.jsx(Wh,{className:"w-12 h-12 text-primary-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-3xl sm:text-4xl font-black text-white mb-3",children:"FFM Cost to You: $0"}),s.jsx("p",{className:"text-gray-400 mb-4 max-w-2xl mx-auto",children:"We earn from production fees and a share of the revenue we help generate"}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-green-900/30 border border-green-600/50 rounded-lg",children:[s.jsx(nm,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-green-300 font-semibold",children:"No risk. No upfront cost. Just results."})]})]}),s.jsxs(Fr.section,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.4},className:"text-center",children:[s.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:"Ready to unlock this revenue?"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(ss,{to:"/proposal",className:"group inline-flex items-center justify-center gap-3 px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 card-glow",children:["Get Your Free Event Analysis",s.jsx($h,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(ss,{to:"/contact",className:"inline-flex items-center justify-center gap-3 px-8 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold rounded-lg text-lg transition-all border border-white/20 hover:border-white/40",children:"Contact Us"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Takes 2 minutes  No commitment required"})]})]})})},gI=[{id:"nba-sydney-nationals-day1-2026",name:"NBA Sydney Nationals Day 1",date:"2026-02-07"},{id:"nba-sydney-nationals-day2-2026",name:"NBA Sydney Nationals Day 2",date:"2026-02-08"}],gDe=["Bikini","Wellness","Figure","Physique","Bodybuilding","Classic Physique","Sports Model","Fitness Model","Transformation","First Timers","Masters","Other"],vDe=[{id:"iwalk",name:"I-Walk Video",price:250,description:"Your complete walk-on stage moment"},{id:"highlight",name:"Highlight Reel",price:500,description:"Fully edited cinematic highlight"},{id:"combo",name:"Combo Pack",price:700,description:"I-Walk + Highlight Reel",savings:50}],xDe=(t,e)=>t<=1?{total:e,savings:0}:t===2?{total:e*2-50,savings:50}:{total:e*t-100,savings:100},yDe=()=>{const[t]=W0(),[e,r]=T.useState(1),[n,i]=T.useState(!1),[a,o]=T.useState(!1);T.useEffect(()=>{t.get("success")==="true"&&(i(!0),window.history.replaceState({},"",window.location.pathname)),t.get("canceled")==="true"&&(o(!0),window.history.replaceState({},"",window.location.pathname))},[t]);const[c,u]=T.useState({selectedPackage:null,selectedEvents:[],firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:"",referenceImage:null,referenceImagePreview:null}),[l,d]=T.useState(!1),f=T.useRef(null),m=T.useRef(null),[p,g]=T.useState(!1),[x,y]=T.useState(!1),[w,E]=T.useState(null),[_,N]=T.useState(null);T.useEffect(()=>{_&&f.current&&(f.current.srcObject=_,f.current.play().then(()=>y(!1)).catch(()=>y(!1)))},[_,p]),T.useEffect(()=>()=>{_&&_.getTracks().forEach(ve=>ve.stop())},[_]);const C=c.selectedPackage?xDe(c.selectedEvents.length,c.selectedPackage.price):{total:0,savings:0},I=(ve,ne)=>{u(ae=>({...ae,[ve]:ne}))},D=ve=>{u(ne=>({...ne,selectedEvents:ne.selectedEvents.includes(ve)?ne.selectedEvents.filter(ae=>ae!==ve):[...ne.selectedEvents,ve]}))},M=ve=>{u(ne=>({...ne,divisions:ne.divisions.includes(ve)?ne.divisions.filter(ae=>ae!==ve):[...ne.divisions,ve]}))},Y=async()=>{try{E(null),y(!0),g(!0);const ve=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:480}}});N(ve)}catch(ve){console.error("Camera error:",ve),g(!1),y(!1),E("Unable to access camera. Please upload a photo instead.")}},X=()=>{if(f.current&&m.current){const ve=f.current,ne=m.current;ne.width=ve.videoWidth,ne.height=ve.videoHeight,ne.getContext("2d").drawImage(ve,0,0);const ae=ne.toDataURL("image/jpeg",.8);I("referenceImage",ae),I("referenceImagePreview",ae),_&&(_.getTracks().forEach(oe=>oe.stop()),N(null)),g(!1)}},te=ve=>{const ne=ve.target.files[0];if(ne){const ae=new FileReader;ae.onloadend=()=>{I("referenceImage",ae.result),I("referenceImagePreview",ae.result)},ae.readAsDataURL(ne)}},de=async()=>{d(!0);try{const ve=c.selectedEvents.map(be=>gI.find(he=>he.id===be)?.name).join(", "),ne=await k3e({first_name:c.firstName,last_name:c.lastName,email:c.email,phone:c.phone,divisions:c.divisions,instagram:c.instagram,coach_name:c.coachName,coach_instagram:c.coachInstagram,show_name:ve,reference_image_url:c.referenceImage,package_type:c.selectedPackage.id,amount_paid:C.total,order_status:"pending"}),oe=await fetch("https://scarlet-sales-api-vercel.vercel.app/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packageId:c.selectedPackage.id,showCount:c.selectedEvents.length,showNames:ve,customerEmail:c.email,customerName:`${c.firstName} ${c.lastName}`,metadata:{orderId:ne.id,instagram:c.instagram,divisions:c.divisions.join(", "),coachName:c.coachName,coachInstagram:c.coachInstagram}})}),{url:Re,error:Pe}=await oe.json();if(Pe)throw new Error(Pe);window.location.href=Re}catch(ve){console.error("Order error:",ve),alert("Error creating order. Please try again."),d(!1)}},ye=()=>{switch(e){case 1:return c.selectedPackage&&c.selectedEvents.length>0;case 2:return c.firstName&&c.lastName&&c.email&&c.phone&&c.divisions.length>0&&c.instagram&&c.coachName&&c.coachInstagram;case 3:return c.referenceImage;default:return!0}};if(n)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:s.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[s.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll find your footage and start editing. You'll receive a confirmation email shortly."}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Delivery: 5-7 business days"}),s.jsx(ss,{to:"/",className:"inline-block px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Back to Home"})]})});if(a)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4 pt-24",children:s.jsxs("div",{className:"bg-dark-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[s.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Payment Canceled"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"No worries  your order wasn't charged. You can try again whenever you're ready."}),s.jsx("button",{onClick:()=>o(!1),className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Try Again"})]})});const we=["Package & Shows","Your Info","Photo","Checkout"];return s.jsxs("div",{className:"min-h-screen bg-dark-950 pt-24 pb-12",children:[s.jsxs("div",{className:"max-w-4xl mx-auto px-4 mb-8 text-center",children:[s.jsx("div",{className:"inline-block mb-4 px-4 py-2 bg-primary-600/10 border border-primary-500/30 rounded-full text-primary-400 text-sm font-medium",children:"NBA Sydney Nationals 2026  Pre-Order Your Footage"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mb-4",children:["Athlete ",s.jsx("span",{className:"text-gradient",children:"Content Order"})]}),s.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Professional multi-angle coverage, cinematic editing, ready for social media."})]}),s.jsxs("div",{className:"max-w-lg mx-auto px-4 mb-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:we.map((ve,ne)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ${e>ne+1?"bg-green-500 text-white":e===ne+1?"bg-primary-600 text-white":"bg-dark-800 text-gray-500"}`,children:e>ne+1?"":ne+1}),ne<we.length-1&&s.jsx("div",{className:`w-8 sm:w-16 h-0.5 mx-1 ${e>ne+1?"bg-green-500":"bg-dark-800"}`})]},ne))}),s.jsx("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:we.map((ve,ne)=>s.jsx("span",{className:"text-center w-16",children:ve},ne))})]}),s.jsx("div",{className:"max-w-lg mx-auto px-4",children:s.jsxs("div",{className:"bg-dark-900 rounded-2xl p-6 border border-gray-800",children:[e===1&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Package & Shows"}),s.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Package Type"}),s.jsx("div",{className:"space-y-3 mb-6",children:vDe.map(ve=>{const ne=c.selectedPackage?.id===ve.id;return s.jsx("button",{onClick:()=>I("selectedPackage",ve),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${ne?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white",children:ve.name}),s.jsx("p",{className:"text-sm text-gray-500",children:ve.description}),ve.savings&&s.jsxs("span",{className:"text-xs text-green-400",children:["Save $",ve.savings]})]}),s.jsxs("p",{className:"text-xl font-bold text-white",children:["$",ve.price]})]})},ve.id)})}),s.jsx("p",{className:"text-gray-400 text-sm mb-3",children:"Which shows did you compete in?"}),s.jsx("div",{className:"space-y-3 mb-6",children:gI.map(ve=>{const ne=c.selectedEvents.includes(ve.id);return s.jsx("button",{onClick:()=>D(ve.id),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${ne?"border-primary-500 bg-primary-600/10":"border-gray-800 hover:border-gray-700"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-white",children:ve.name}),s.jsx("p",{className:"text-sm text-gray-500",children:ve.date})]}),s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${ne?"border-primary-500 bg-primary-600":"border-gray-600"}`,children:ne&&s.jsx("span",{className:"text-white text-xs",children:""})})]})},ve.id)})}),c.selectedPackage&&c.selectedEvents.length>0&&s.jsx("div",{className:"bg-dark-800/50 rounded-xl p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-white font-medium",children:[c.selectedPackage.name,"  ",c.selectedEvents.length," show",c.selectedEvents.length>1?"s":""]}),C.savings>0&&s.jsxs("p",{className:"text-green-400 text-sm",children:["Multi-show discount: Save $",C.savings,"!"]})]}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",C.total]})]})})]}),e===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),s.jsx("input",{type:"text",value:c.firstName,onChange:ve=>I("firstName",ve.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),s.jsx("input",{type:"text",value:c.lastName,onChange:ve=>I("lastName",ve.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:c.email,onChange:ve=>I("email",ve.target.value),className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),s.jsx("input",{type:"tel",value:c.phone,onChange:ve=>I("phone",ve.target.value),placeholder:"0412 345 678",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),s.jsx("input",{type:"text",value:c.instagram,onChange:ve=>I("instagram",ve.target.value.replace("@","")),placeholder:"yourhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),s.jsx("input",{type:"text",value:c.coachName,onChange:ve=>I("coachName",ve.target.value),placeholder:"Coach name",className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram *"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"@"}),s.jsx("input",{type:"text",value:c.coachInstagram,onChange:ve=>I("coachInstagram",ve.target.value.replace("@","")),placeholder:"coachhandle",className:"w-full pl-8 pr-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary-500"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:["Divisions * ",s.jsx("span",{className:"text-gray-600",children:"(select all that apply)"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:gDe.map(ve=>{const ne=c.divisions.includes(ve);return s.jsxs("button",{type:"button",onClick:()=>M(ve),className:`px-3 py-2 rounded-lg text-sm text-left transition-all ${ne?"bg-primary-600/20 border-2 border-primary-500 text-white":"bg-dark-800 border-2 border-gray-700 text-gray-400 hover:border-gray-600"}`,children:[ne&&s.jsx("span",{className:"mr-1",children:""}),ve]},ve)})})]})]}),e===3&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Reference Photo"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"We use AI to find you in the footage"}),c.referenceImagePreview?s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:c.referenceImagePreview,alt:"Reference",className:"w-40 h-40 object-cover rounded-xl mx-auto border-2 border-primary-500 mb-4"}),s.jsx("button",{onClick:()=>{I("referenceImage",null),I("referenceImagePreview",null)},className:"text-primary-400 text-sm",children:"Choose different photo"})]}):s.jsx("div",{className:"space-y-4",children:p?s.jsxs("div",{className:"text-center",children:[x&&s.jsx("div",{className:"w-full max-w-xs mx-auto h-60 rounded-xl border border-gray-700 bg-dark-800 flex items-center justify-center mb-4",children:s.jsx("span",{className:"text-gray-400",children:"Loading camera..."})}),s.jsx("video",{ref:f,autoPlay:!0,playsInline:!0,muted:!0,style:{width:"100%",maxWidth:"320px",height:"auto",minHeight:"240px",display:x?"none":"block"},className:"mx-auto rounded-xl border border-gray-700 bg-dark-800"}),s.jsx("canvas",{ref:m,className:"hidden"}),s.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[s.jsx("button",{onClick:()=>{_&&(_.getTracks().forEach(ve=>ve.stop()),N(null)),g(!1),y(!1)},className:"px-6 py-3 bg-gray-700 text-white rounded-lg font-medium",children:"Cancel"}),s.jsx("button",{onClick:X,className:"px-8 py-3 bg-primary-600 text-white rounded-lg font-medium",children:" Capture"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:Y,className:"w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-4xl",children:""}),s.jsx("span",{children:"Take a Selfie"})]}),w&&s.jsx("p",{className:"text-red-400 text-sm text-center",children:w}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1 h-px bg-dark-800"}),s.jsx("span",{className:"text-gray-600 text-sm",children:"or"}),s.jsx("div",{className:"flex-1 h-px bg-dark-800"})]}),s.jsxs("label",{className:"block w-full py-8 bg-dark-800 border-2 border-dashed border-gray-700 rounded-xl text-gray-400 hover:border-primary-500 hover:text-white transition-colors text-center cursor-pointer",children:[s.jsx("span",{className:"text-4xl block mb-2",children:""}),s.jsx("span",{children:"Upload Photo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:te,className:"hidden"})]})]})})]}),e===4&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Confirm Order"}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4",children:[s.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Package"}),s.jsx("p",{className:"text-white font-semibold",children:c.selectedPackage?.name}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Shows:"}),c.selectedEvents.map(ve=>s.jsxs("p",{className:"text-white text-sm",children:[" ",gI.find(ne=>ne.id===ve)?.name]},ve))]}),s.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Name"}),s.jsxs("span",{className:"text-white",children:[c.firstName," ",c.lastName]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Email"}),s.jsx("span",{className:"text-white text-sm",children:c.email})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Phone"}),s.jsx("span",{className:"text-white",children:c.phone})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Instagram"}),s.jsxs("span",{className:"text-white",children:["@",c.instagram]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Divisions"}),s.jsx("span",{className:"text-white text-right text-sm",children:c.divisions.join(", ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Coach"}),s.jsxs("span",{className:"text-white",children:[c.coachName," (@",c.coachInstagram,")"]})]})]}),c.referenceImagePreview&&s.jsxs("div",{className:"flex items-center gap-4 bg-dark-800/50 rounded-xl p-4",children:[s.jsx("img",{src:c.referenceImagePreview,alt:"Reference",className:"w-12 h-12 object-cover rounded-lg"}),s.jsx("span",{className:"text-gray-400 text-sm",children:"Reference photo "})]})]}),s.jsx("div",{className:"bg-primary-600/10 border border-primary-500/30 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-white font-semibold",children:[c.selectedPackage?.name,"  ",c.selectedEvents.length]}),C.savings>0&&s.jsxs("p",{className:"text-green-400 text-sm",children:["Saving $",C.savings]})]}),s.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",C.total]})]})})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[e>1&&s.jsx("button",{onClick:()=>r(e-1),className:"flex-1 py-3 bg-dark-800 text-white rounded-lg font-medium hover:bg-dark-700",children:"Back"}),e<4?s.jsx("button",{onClick:()=>r(e+1),disabled:!ye(),className:`flex-1 py-3 rounded-lg font-medium ${ye()?"bg-primary-600 text-white hover:bg-primary-700":"bg-dark-800 text-gray-600 cursor-not-allowed"}`,children:"Continue"}):s.jsx("button",{onClick:de,disabled:l,className:"flex-1 py-4 bg-green-500 text-white rounded-lg font-bold hover:bg-green-600 disabled:opacity-50 text-lg",children:l?"Processing...":`Pay $${C.total} AUD`})]})]})})]})};function Uh(t){if(!t||!t.includes("drive.google.com"))return t;let e=null;const r=t.match(/\/file\/d\/([a-zA-Z0-9_-]+)/);if(r&&(e=r[1]),!e){const n=t.match(/[?&]id=([a-zA-Z0-9_-]+)/);n&&(e=n[1])}return e?`https://lh3.googleusercontent.com/d/${e}`:t}function bDe(){const[t,e]=T.useState([]),[r,n]=T.useState(!0);T.useEffect(()=>{i()},[]);async function i(){const{data:o,error:c}=await jr.from("organizations").select("*").eq("active",!0).order("name");!c&&o&&e(o),n(!1)}const a=[{name:"Sarah M.",event:"NBA QLD State Titles",quote:"The highlight reel captured my stage moment perfectly. Worth every cent!",image:null},{name:"Jake T.",event:"WNG Championship",quote:"Professional quality footage that I use for all my social media. Highly recommend!",image:null},{name:"Michelle R.",event:"NBA Sydney Nationals",quote:"Finally have professional content of my competition. The team was amazing!",image:null}];return s.jsxs("div",{className:"min-h-screen bg-black text-white",children:[s.jsx("section",{className:"relative py-20 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[s.jsx("span",{className:"inline-block px-4 py-2 bg-red-600/20 text-red-500 rounded-full text-sm font-medium mb-6",children:"Professional Athlete Content"}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Capture Your ",s.jsx("span",{className:"text-red-500",children:"Moment"})]}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto mb-8",children:"Multi-angle coverage, cinematic editing, delivered ready for social media. We've captured thousands of athletes across bodybuilding, grappling, and combat sports."}),s.jsx("button",{onClick:()=>document.getElementById("select-org")?.scrollIntoView({behavior:"smooth"}),className:"inline-block px-8 py-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors cursor-pointer",children:"Order Your Content "})]})}),s.jsx("section",{className:"py-16 px-4 bg-gray-900/50",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"What You Get"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[s.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Multi-Angle Coverage"}),s.jsx("p",{className:"text-gray-400",children:"Professional cameras capturing every angle of your performance"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[s.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10m-10 0a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2"})})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Cinematic Editing"}),s.jsx("p",{className:"text-gray-400",children:"Color graded, music synced, ready to share highlight reels"})]}),s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[s.jsx("div",{className:"w-12 h-12 bg-red-600/20 rounded-lg flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Fast Delivery"}),s.jsx("p",{className:"text-gray-400",children:"Your content delivered digitally, typically within 2 weeks"})]})]})]})}),s.jsx("section",{className:"py-16 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Athletes Love Their Content"}),s.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Join thousands of athletes who've captured their moments"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:a.map((o,c)=>s.jsxs("div",{className:"bg-gray-800/30 p-6 rounded-xl border border-gray-700",children:[s.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((u,l)=>s.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},l))}),s.jsxs("p",{className:"text-gray-300 mb-4",children:['"',o.quote,'"']}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-semibold text-white",children:o.name}),s.jsxs("span",{className:"text-gray-500",children:["  ",o.event]})]})]},c))})]})}),s.jsx("section",{id:"select-org",className:"py-16 px-4 bg-gray-900/50",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-4",children:"Select Your Organization"}),s.jsx("p",{className:"text-gray-400 text-center mb-12",children:"Choose the federation or event organizer you competed with"}),r?s.jsx("div",{className:"text-center text-gray-400",children:"Loading organizations..."}):t.length===0?s.jsx("div",{className:"text-center text-gray-400",children:"No organizations available yet."}):s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(o=>s.jsxs(ss,{to:`/order/${o.slug}`,className:"flex items-center gap-4 p-6 bg-gray-800/50 hover:bg-gray-800 border border-gray-700 hover:border-red-500/50 rounded-xl transition-all group",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center text-2xl font-bold text-red-500 overflow-hidden",children:o.logo_url?s.jsx("img",{src:Uh(o.logo_url),alt:o.name,className:"w-full h-full object-contain p-1"}):o.name.split(" ").map(c=>c[0]).join("").slice(0,3)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold group-hover:text-red-500 transition-colors",children:o.name}),o.description&&s.jsx("p",{className:"text-sm text-gray-400",children:o.description})]}),s.jsx("svg",{className:"w-6 h-6 text-gray-500 group-hover:text-red-500 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},o.id))})]})}),s.jsx("section",{className:"py-16 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Frequently Asked Questions"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[s.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["When will I receive my content?",s.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),s.jsx("p",{className:"mt-4 text-gray-400",children:"Content is typically delivered within 2 weeks of the event, depending on the package and event size."})]}),s.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[s.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["What's included in the highlight reel?",s.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),s.jsx("p",{className:"mt-4 text-gray-400",children:"A fully edited 60-90 second video featuring your best moments, color graded with music and transitions, optimized for social media."})]}),s.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[s.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["Can I order after the event?",s.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),s.jsx("p",{className:"mt-4 text-gray-400",children:"Yes! You can pre-order before the event or order afterwards. We capture all athletes at every event we cover."})]}),s.jsxs("details",{className:"bg-gray-800/30 rounded-xl border border-gray-700 p-4 group",children:[s.jsxs("summary",{className:"font-semibold cursor-pointer list-none flex justify-between items-center",children:["What if I competed in multiple shows?",s.jsx("span",{className:"text-gray-500 group-open:rotate-180 transition-transform",children:""})]}),s.jsx("p",{className:"mt-4 text-gray-400",children:"No problem! Select all the shows you competed in during checkout. Multi-show bundles may be available."})]})]})]})}),s.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-gray-900/50 to-black",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Your Content?"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Select your organization above to see available events and packages."}),s.jsx("button",{onClick:()=>document.getElementById("select-org")?.scrollIntoView({behavior:"smooth"}),className:"inline-block px-8 py-4 bg-red-600 hover:bg-red-700 rounded-lg font-semibold text-lg transition-colors cursor-pointer",children:"Select Organization "})]})})]})}const wDe="https://gonalgubgldgpkcekaxe.supabase.co",EDe=`${wDe}/functions/v1/content-checkout`;function _De(){const{orgSlug:t}=Lf(),e=$c();W0();const[r,n]=T.useState(null),[i,a]=T.useState([]),[o,c]=T.useState([]),[u,l]=T.useState(!0),[d,f]=T.useState(null),[m,p]=T.useState(()=>{const He=new URLSearchParams(window.location.search),Ye=window.location.hash;return He.get("success")==="true"||Ye.includes("success=true")}),[g,x]=T.useState(()=>{const He=new URLSearchParams(window.location.search),Ye=window.location.hash;return He.get("canceled")==="true"||Ye.includes("canceled=true")});T.useEffect(()=>{if(m||g){const He=window.location.origin+window.location.pathname+"#/order/"+t;window.history.replaceState({},"",He)}},[m,g,t]);const[y,w]=T.useState(1),[E,_]=T.useState(null),[N,C]=T.useState([]),[I,D]=T.useState({firstName:"",lastName:"",email:"",phone:"",divisions:[],instagram:"",coachName:"",coachInstagram:""}),[M,Y]=T.useState(!1);T.useEffect(()=>{X()},[t]);async function X(){l(!0),f(null);const{data:He,error:Ye}=await jr.from("organizations").select("*").eq("slug",t).eq("active",!0).single();if(Ye||!He){f("Organization not found"),l(!1);return}n(He);const{data:Se}=await jr.from("events").select("*").eq("organization_id",He.id).eq("active",!0).order("date",{ascending:!1});a(Se||[]);const{data:mt}=await jr.from("packages").select("*").eq("organization_id",He.id).eq("active",!0).order("sort_order");c(mt||[]),l(!1)}function te(He){C(Ye=>Ye.includes(He)?Ye.filter(Se=>Se!==He):[...Ye,He])}function de(He){D(Ye=>({...Ye,[He.target.name]:He.target.value}))}function ye(){return E&&N.length>0}function we(){return i.filter(He=>N.includes(He.id)).some(He=>He.divisions_required===!0)}function ve(){const He=I.firstName&&I.lastName&&I.email&&I.phone&&I.instagram&&I.coachName&&I.coachInstagram;return we()?He&&I.divisions.length>0:He}const[ne,ae]=T.useState([]),[oe,Re]=T.useState([]),[Pe,be]=T.useState([]),[he,Ie]=T.useState(!1);T.useEffect(()=>{N.length>0?Oe():(ae([]),Re([]))},[N]);async function Oe(){Ie(!0);const{data:He}=await jr.from("division_categories").select("*").in("event_id",N).eq("active",!0).order("sort_order");if(He&&He.length>0){ae(He);const Ye=He.map(mt=>mt.id),{data:Se}=await jr.from("division_subdivisions").select("*").in("category_id",Ye).eq("active",!0).order("sort_order");Re(Se||[])}else ae([]),Re([]);Ie(!1)}function $e(He){be(Ye=>Ye.includes(He)?Ye.filter(Se=>Se!==He):[...Ye,He])}function De(He){return oe.filter(Ye=>Ye.category_id===He)}function ct(He,Ye){const Se=`${He} - ${Ye}`;D(mt=>({...mt,divisions:mt.divisions.includes(Se)?mt.divisions.filter(qe=>qe!==Se):[...mt.divisions,Se]}))}function pt(He){return I.divisions.filter(Ye=>Ye.startsWith(He+" - "))}async function Ue(){if(ve()){Y(!0);try{const He=o.find(Tt=>Tt.id===E),Ye=i.filter(Tt=>N.includes(Tt.id)).map(Tt=>Tt.name).join(", "),Se=He.price*N.length,qe=await(await fetch(EDe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:N[0],organization_id:r.id,package_id:E,first_name:I.firstName,last_name:I.lastName,email:I.email,phone:I.phone,division:I.divisions.join(", "),instagram:I.instagram,coach_name:I.coachName,coach_instagram:I.coachInstagram,amount:Se,success_url:`${window.location.origin}/#/order/${t}?success=true`,cancel_url:`${window.location.origin}/#/order/${t}?canceled=true`})})).json();if(qe.url)qe.sessionId&&console.log("Checkout session created:",qe.sessionId),window.location.href=qe.url;else throw new Error("No checkout URL received")}catch(He){console.error("Checkout error:",He),alert("Error creating checkout. Please try again.")}finally{Y(!1)}}}return m?s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[s.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),s.jsx("h2",{className:"text-3xl font-bold mb-3",children:"You're Locked In! "}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Thanks for your order! We'll capture your performance at the event and deliver your professionally edited content afterwards."}),s.jsx("p",{className:"text-gray-500 text-sm mb-6",children:"Check your email for confirmation details."}),s.jsx(ss,{to:"/content",className:"inline-block px-8 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Back to Events"})]})}):g?s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md w-full text-center border border-gray-800",children:[s.jsx("div",{className:"w-20 h-20 bg-yellow-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsx("h2",{className:"text-2xl font-bold mb-3",children:"Payment Canceled"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"No worries  your order wasn't charged. You can try again whenever you're ready."}),s.jsx("button",{onClick:()=>x(!1),className:"px-8 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Try Again"})]})}):u?s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("div",{className:"text-gray-400",children:"Loading..."})}):d?s.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center gap-4",children:[s.jsx("div",{className:"text-red-500",children:d}),s.jsx(ss,{to:"/content",className:"text-gray-400 hover:text-white",children:" Back to all organizations"})]}):s.jsx("div",{className:"min-h-screen bg-black text-white py-12 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("button",{onClick:()=>e("/content"),className:"inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 mt-4",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})," All Organizations"]}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("span",{className:"inline-block px-4 py-2 bg-red-600/20 text-red-500 rounded-full text-sm font-medium mb-4",children:r.name}),s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:["Order Your ",s.jsx("span",{className:"text-red-500",children:"Content"})]}),s.jsx("p",{className:"text-gray-400",children:"Select your package and events below"})]}),s.jsx("div",{className:"flex items-center justify-center gap-4 mb-12",children:[{num:1,label:"Package & Events"},{num:2,label:"Your Info"},{num:3,label:"Checkout"}].map((He,Ye)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${y>=He.num?"bg-red-600 text-white":"bg-gray-700 text-gray-400"}`,children:He.num}),s.jsx("span",{className:`text-sm hidden sm:inline ${y>=He.num?"text-white":"text-gray-500"}`,children:He.label}),Ye<2&&s.jsx("div",{className:"w-8 h-px bg-gray-700 mx-2"})]},He.num))}),y===1&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Package"}),s.jsx("div",{className:"space-y-3",children:o.map(He=>s.jsx("button",{onClick:()=>_(He.id),className:`w-full p-4 rounded-lg border text-left transition-all ${E===He.id?"border-red-500 bg-red-500/10":"border-gray-700 hover:border-gray-600 bg-gray-800/50"}`,children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:He.name}),s.jsx("div",{className:"text-sm text-gray-400",children:He.description}),He.name.toLowerCase().includes("combo")&&s.jsx("span",{className:"text-xs text-green-500 mt-1 inline-block font-semibold",children:"Save $50"})]}),s.jsxs("div",{className:"text-xl font-bold",children:["$",He.price]})]})},He.id))})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Which events did you compete in?"}),i.length===0?s.jsx("p",{className:"text-gray-400",children:"No events available for this organization yet."}):s.jsx("div",{className:"space-y-3",children:i.map(He=>s.jsxs("button",{onClick:()=>te(He.id),className:`w-full p-4 rounded-lg border text-left transition-all flex justify-between items-center ${N.includes(He.id)?"border-red-500 bg-red-500/10":"border-gray-700 hover:border-gray-600 bg-gray-800/50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:He.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:[He.date&&new Date(He.date).toLocaleDateString("en-AU",{year:"numeric",month:"short",day:"numeric"}),He.location&&`  ${He.location}`]})]}),s.jsx("div",{className:`w-6 h-6 rounded border-2 flex items-center justify-center ${N.includes(He.id)?"border-red-500 bg-red-500":"border-gray-600"}`,children:N.includes(He.id)&&s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]},He.id))})]}),s.jsx("button",{onClick:()=>w(2),disabled:!ye(),className:`w-full py-4 rounded-lg font-semibold text-lg transition-all ${ye()?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:"Continue "})]}),y===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Your Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"First Name *"}),s.jsx("input",{type:"text",name:"firstName",value:I.firstName,onChange:de,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Last Name *"}),s.jsx("input",{type:"text",name:"lastName",value:I.lastName,onChange:de,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),s.jsx("input",{type:"email",name:"email",value:I.email,onChange:de,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone *"}),s.jsx("input",{type:"tel",name:"phone",value:I.phone,onChange:de,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Instagram Handle *"}),s.jsx("input",{type:"text",name:"instagram",value:I.instagram,onChange:de,placeholder:"@yourhandle",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Name *"}),s.jsx("input",{type:"text",name:"coachName",value:I.coachName,onChange:de,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Coach's Instagram Handle *"}),s.jsx("input",{type:"text",name:"coachInstagram",value:I.coachInstagram,onChange:de,placeholder:"@coachhandle",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:border-red-500 focus:outline-none",required:!0})]})]})]}),(ne.length>0||we())&&s.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Division/Category ",we()?"*":"(Optional)"]}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:ne.length>0?"Click a category to expand, then select your divisions":"No divisions configured for this event"}),he?s.jsx("div",{className:"text-center text-gray-400 py-8",children:"Loading divisions..."}):ne.length===0?s.jsxs("div",{className:"text-center text-gray-400 py-8 border border-gray-700 rounded-lg",children:["No divisions configured for the selected event(s).",we()&&s.jsxs(s.Fragment,{children:[s.jsx("br",{}),s.jsx("span",{className:"text-sm text-red-400",children:"Contact the organizer to set up divisions."})]})]}):s.jsx("div",{className:"space-y-2",children:ne.map(He=>{const Ye=Pe.includes(He.id),Se=pt(He.name).length,mt=De(He.id);return s.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>$e(He.id),className:`w-full p-4 flex justify-between items-center transition-colors ${Se>0?"bg-red-500/10 border-l-4 border-l-red-500":"bg-gray-800/50 hover:bg-gray-800"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-medium",children:He.name}),Se>0&&s.jsxs("span",{className:"text-xs bg-red-500 text-white px-2 py-0.5 rounded-full",children:[Se," selected"]})]}),s.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${Ye?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),Ye&&s.jsx("div",{className:"p-4 pt-2 bg-gray-900/50 border-t border-gray-700",children:mt.length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions available"}):s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:mt.map(qe=>{const Tt=`${He.name} - ${qe.name}`,bt=I.divisions.includes(Tt);return s.jsx("button",{type:"button",onClick:()=>ct(He.name,qe.name),className:`p-3 text-sm rounded-lg border text-left transition-all ${bt?"border-red-500 bg-red-500/20 text-white":"border-gray-600 hover:border-gray-500 bg-gray-800/50 text-gray-300"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${bt?"border-red-500 bg-red-500":"border-gray-500"}`,children:bt&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),s.jsx("span",{children:qe.name})]})},qe.id)})})})]},He.id)})}),I.divisions.length>0&&s.jsxs("div",{className:"mt-4 p-3 bg-gray-800/50 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Selected divisions (",I.divisions.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:I.divisions.map(He=>s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded-full border border-red-500/30",children:[He,s.jsx("button",{type:"button",onClick:()=>{const[Ye,Se]=He.split(" - ");ct(Ye,Se)},className:"hover:text-white",children:""})]},He))})]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6 border border-gray-800",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Package:"}),s.jsx("span",{children:o.find(He=>He.id===E)?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Events:"}),s.jsx("span",{className:"text-right",children:i.filter(He=>N.includes(He.id)).map(He=>He.name).join(", ")})]}),s.jsx("hr",{className:"border-gray-700 my-3"}),s.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{className:"text-red-500",children:["$",(o.find(He=>He.id===E)?.price||0)*N.length," AUD",N.length>1&&s.jsxs("span",{className:"text-sm text-gray-400 font-normal ml-2",children:["($",o.find(He=>He.id===E)?.price,"  ",N.length," events)"]})]})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:()=>w(1),className:"flex-1 py-4 rounded-lg font-semibold border border-gray-600 hover:border-gray-500 transition-colors",children:" Back"}),s.jsx("button",{onClick:Ue,disabled:!ve()||M,className:`flex-1 py-4 rounded-lg font-semibold transition-all ${ve()&&!M?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:M?"Processing...":"Proceed to Payment "})]})]})]})})}const SDe=t=>{if(!t)return"there";const e={fortitude:"Fortitude Boxing","fortitude-boxing":"Fortitude Boxing",inception:"Inception Fight Series","inception-fight-series":"Inception Fight Series",qbjjc:"QBJJC",wng:"WNG Grappling",artemis:"Artemis Grappling","artemis-grappling":"Artemis Grappling",m16:"M16 BJJ","m16-bjj":"M16 BJJ",nba:"Natural Bodybuilding Australia",eternal:"Eternal MMA","eternal-mma":"Eternal MMA",beatdown:"Beatdown Promotions",honour:"Honour Premier League",aggression:"Aggression Thai Boxing"};return e[t.toLowerCase()]?e[t.toLowerCase()]:t.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")},jDe=()=>{const{orgSlug:t}=Lf(),e=SDe(t);return s.jsxs("div",{className:"pt-20 sm:pt-24 min-h-screen",children:[s.jsx("section",{className:"py-12 sm:py-20 px-4 sm:px-6 bg-gradient-to-b from-primary-950/30 to-transparent",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("img",{src:"/ffm-logo.jpg",alt:"Fit Focus Media",className:"w-24 h-24 sm:w-32 sm:h-32 mx-auto mb-6 rounded-xl"}),t&&s.jsxs("p",{className:"text-lg text-primary-400 mb-2 font-medium",children:["Hi ",e," "]}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-black mb-4",children:[s.jsx("span",{className:"text-gradient",children:"Professional Live Production"}),s.jsx("br",{}),s.jsx("span",{className:"text-white",children:"for Combat Sports"})]}),s.jsx("p",{className:"text-xl sm:text-2xl text-gray-300 mb-2 font-semibold",children:"Zero Cost. Zero Risk. New Revenue."}),s.jsx("p",{className:"text-gray-400 max-w-2xl mx-auto",children:"We produce your event for free. You earn money from PPV sales. Professional broadcast quality without the production headaches."})]})})}),s.jsx("section",{className:"py-8 sm:py-12 px-4 sm:px-6 bg-dark-900 border-y border-gray-800",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[{icon:qN,value:"25+",label:"Events Produced"},{icon:p1,value:"4",label:"Countries"},{icon:sh,value:"50K+",label:"Viewers Reached"},{icon:Tf,value:"100%",label:"Client Satisfaction"}].map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.1},className:"text-center",children:[s.jsx(r.icon,{className:"w-6 h-6 text-primary-500 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-black text-primary-500",children:r.value}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:r.label})]},n))})})}),s.jsx("section",{className:"py-12 sm:py-16 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(Fr.h2,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-2xl sm:text-3xl font-black text-center mb-10",children:s.jsxs("span",{className:"text-gradient",children:["What We Can Do For ",t?e:"You"]})}),s.jsx("div",{className:"space-y-6",children:[{icon:Eh,title:"Live Streaming & PPV",points:["Multi-camera professional broadcast","PPV platform setup & management","Live graphics & instant replay","Full show recording for VOD"]},{icon:PE,title:"Event Photography",points:["Ring-side action shots","Athlete portraits & walk-outs","Complete digital gallery","Same-week delivery"]},{icon:nm,title:"Content Production",points:["Social media highlight clips","Event recap videos","Fighter promo content","YouTube-ready formats"]}].map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:n*.1},className:"bg-dark-800 border border-gray-700 rounded-xl p-6 flex gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-600/20 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(r.icon,{className:"w-6 h-6 text-primary-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white mb-2",children:r.title}),s.jsx("ul",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1",children:r.points.map((i,a)=>s.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(to,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),i]},a))})]})]},n))})]})}),s.jsx("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-dark-900/50",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(Fr.h2,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-2xl sm:text-3xl font-black text-center mb-10",children:s.jsx("span",{className:"text-gradient",children:"How It Works"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[{step:"1",title:"We Produce",desc:"Full professional broadcast production  cameras, switching, graphics, streaming. All handled by our team."},{step:"2",title:"Fans Pay",desc:"Your audience purchases PPV access at $20-30. We handle the platform, payments, and viewer experience."},{step:"3",title:"You Earn",desc:"You receive revenue share from every sale. Zero upfront cost, zero risk  just new income."}].map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.15},className:"text-center",children:[s.jsx("div",{className:"w-14 h-14 bg-primary-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl font-black text-white",children:r.step})}),s.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:r.title}),s.jsx("p",{className:"text-gray-400 text-sm",children:r.desc})]},n))}),s.jsxs(Fr.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gradient-to-r from-green-900/40 to-emerald-900/40 border-2 border-green-500/50 rounded-xl p-6 text-center",children:[s.jsx(Wh,{className:"w-10 h-10 text-green-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:"Your Cost: $0"}),s.jsx("p",{className:"text-gray-300 text-sm max-w-xl mx-auto",children:"We cover all production costs. You pay nothing upfront. You earn revenue from PPV sales that you weren't making before."})]})]})}),s.jsx("section",{className:"py-12 sm:py-16 px-4 sm:px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx(Fr.h2,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"text-2xl sm:text-3xl font-black mb-6",children:s.jsx("span",{className:"text-gradient",children:"Who We've Worked With"})}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Boxing, MMA, BJJ, Muay Thai, Kickboxing  we've covered them all"}),s.jsx("div",{className:"flex flex-wrap justify-center gap-4 text-sm",children:["Fortitude Boxing","WNG Grappling","Inception Fight Series","QBJJC","Natural Bodybuilding Australia","Artemis Grappling","M16 BJJ"].map((r,n)=>s.jsx("span",{className:`px-4 py-2 rounded-full text-gray-300 ${r.toLowerCase().includes(t?.toLowerCase()||"---")?"bg-primary-600/30 border border-primary-500/50 text-primary-300":"bg-dark-800 border border-gray-700"}`,children:r},n))})]})}),s.jsx("section",{className:"py-12 sm:py-16 px-4 sm:px-6 bg-dark-900/50",children:s.jsx("div",{className:"max-w-2xl mx-auto text-center",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[s.jsxs("h2",{className:"text-2xl sm:text-3xl font-black mb-4",children:["Ready to ",s.jsx("span",{className:"text-gradient",children:"Get Started?"})]}),s.jsx("p",{className:"text-gray-400 mb-8",children:t?`Let's discuss how FFM can help ${e} reach more fans and generate new revenue.`:"Get a free analysis of your organization and see exactly how much revenue professional media coverage could generate."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-8",children:[s.jsxs(ss,{to:"/book",className:"group px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-black rounded-lg text-lg transition-all hover:scale-105 inline-flex items-center justify-center gap-2",children:["Book a Call",s.jsx($h,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsxs("a",{href:"mailto:brandon@fitfocusmedia.com.au",className:"px-8 py-4 bg-white/10 hover:bg-white/20 text-white font-bold rounded-lg text-lg transition-all border border-white/20 inline-flex items-center justify-center gap-2",children:[s.jsx(nu,{className:"w-5 h-5"}),"Email Us"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-sm text-gray-400",children:[s.jsxs("a",{href:"mailto:brandon@fitfocusmedia.com.au",className:"flex items-center gap-2 hover:text-primary-400 transition-colors",children:[s.jsx(nu,{className:"w-4 h-4"}),"brandon@fitfocusmedia.com.au"]}),s.jsxs("a",{href:"tel:0411934935",className:"flex items-center gap-2 hover:text-primary-400 transition-colors",children:[s.jsx(vx,{className:"w-4 h-4"}),"0411 934 935"]})]})]})})}),s.jsx("section",{className:"py-6 px-4 sm:px-6 border-t border-gray-800",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs("p",{className:"text-sm text-gray-500",children:["Learn more at"," ",s.jsx("a",{href:"https://fitfocusmedia.com.au",className:"text-primary-400 hover:text-primary-300",children:"fitfocusmedia.com.au"})]})})})]})},One=T.createContext({}),xF=()=>{const t=T.useContext(One);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},TDe=({children:t})=>{const[e,r]=T.useState(null),[n,i]=T.useState(null),[a,o]=T.useState(!0);T.useEffect(()=>{jr.auth.getSession().then(({data:{session:m}})=>{i(m),r(m?.user??null),o(!1)});const{data:{subscription:f}}=jr.auth.onAuthStateChange((m,p)=>{i(p),r(p?.user??null)});return()=>f.unsubscribe()},[]);const d={user:e,session:n,loading:a,signIn:async(f,m)=>{const{data:p,error:g}=await jr.auth.signInWithPassword({email:f,password:m});if(g)throw g;return p},signInWithMagicLink:async(f,m)=>{const{data:p,error:g}=await jr.auth.signInWithOtp({email:f.toLowerCase(),options:{emailRedirectTo:m||window.location.origin}});if(g)throw g;return p},signOut:async()=>{const{error:f}=await jr.auth.signOut();if(f)throw f}};return s.jsx(One.Provider,{value:d,children:t})};function fu({children:t}){const{user:e,loading:r}=xF();return r?s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading..."})}):e?t:s.jsx(oq,{to:"/portal",replace:!0})}function Ou({children:t}){const{user:e,signOut:r}=xF(),n=$c(),i=kf(),a=async()=>{try{await r(),n("/portal")}catch(u){console.error("Error signing out:",u)}},o=u=>i.pathname.startsWith(u),c=[{name:"Contracts",path:"/portal/contracts"},{name:"Pipeline",path:"/portal/pipeline"},{name:"Proposals",path:"/portal/proposals"},{name:"Outreach",path:"/portal/outreach"},{name:"Onboarding",path:"/portal/onboarding"},{name:"Content",path:"/portal/content-admin"},{name:"Orders",path:"/portal/orders"},{name:"Livestream",path:"/portal/livestream"},{name:"Analytics",path:"/portal/livestream/analytics"},{name:"Crews",path:"/portal/crews"},{name:"Pricing",path:"/portal/pricing"}];return s.jsxs("div",{className:"min-h-screen bg-[#0d0d1a] flex flex-col overflow-x-hidden w-full max-w-full",children:[s.jsx("header",{className:"print:hidden bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50 w-full max-w-full overflow-hidden",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>n("/portal/contracts"),children:[s.jsxs("span",{className:"text-lg font-black tracking-wider",children:[s.jsx("span",{className:"text-red-500",children:"FIT FOCUS"})," ",s.jsx("span",{className:"text-white",children:"MEDIA"})]}),s.jsx("span",{className:"text-gray-700",children:"|"}),s.jsx("span",{className:"text-gray-400 font-medium",children:"Portal"})]}),e&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-gray-500 text-sm hidden sm:block",children:e.email}),s.jsx("button",{onClick:a,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white rounded-lg transition-all text-sm font-medium border border-gray-700/50",children:"Sign Out"})]})]}),e&&s.jsx("div",{className:"flex gap-1 sm:gap-4 -mb-px overflow-x-auto scrollbar-hide pb-px",children:c.map(u=>s.jsxs("button",{onClick:()=>n(u.path),className:`relative px-3 sm:px-4 py-3 font-bold text-xs sm:text-sm transition-colors whitespace-nowrap flex-shrink-0 ${o(u.path)?"text-red-500":"text-gray-400 hover:text-gray-300"}`,children:[u.name,o(u.path)&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-red-500"})]},u.path))})]})}),s.jsx("main",{className:"flex-1",children:t})]})}function CDe(){const[t,e]=T.useState(""),[r,n]=T.useState(""),[i,a]=T.useState(""),[o,c]=T.useState(!1),{signIn:u}=xF(),l=$c(),d=async f=>{f.preventDefault(),a(""),c(!0);try{await u(t,r),l("/portal/contracts")}catch(m){a(m.message||"Failed to sign in")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Portal Login"}),s.jsx("p",{className:"text-gray-400",children:"Fit Focus Media Contract Management"})]}),s.jsx("div",{className:"bg-dark-900 rounded-lg p-8 shadow-xl",children:s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),s.jsx("input",{id:"email",type:"email",value:t,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),s.jsx("input",{id:"password",type:"password",value:r,onChange:f=>n(f.target.value),required:!0,className:"w-full px-4 py-3 bg-dark-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:""})]}),i&&s.jsx("div",{className:"bg-red-900/30 border border-red-500 text-red-200 px-4 py-3 rounded-lg",children:i}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:o?"Signing in...":"Sign In"})]})})]})})}function yF(t){const e=t.contract_data||{},r=(u,l="[NOT SET]")=>u||`<span class="text-gray-500">${l}</span>`,n=(u,l,d="[NOT SET]")=>!u&&!l?`<span class="text-gray-500">${d}</span>`:u?!l||l===u?u:`${u}${l}`:l,i=u=>u?"":"";let a="";e.multi_events&&e.multi_events.length>0&&e.multi_events.forEach((u,l)=>{(u.name||u.date||u.venue)&&(a+=`
          <tr>
            <td class="border border-gray-700 px-4 py-2">${l+1}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.name)}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.date)}</td>
            <td class="border border-gray-700 px-4 py-2">${r(u.venue)}</td>
          </tr>
        `)});const o=u=>u?`$${parseFloat(u).toLocaleString()}`:"$0";let c="";return e.athlete_revenue_ffm_100?c="<p><strong> FFM retains 100%</strong> of Athlete Media Package sales. This is reflected in the zero upfront cost and Client deliverables provided at no charge.</p>":c=`
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Party</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Share</th></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>FFM</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.athlete_ffm_split,"80")}%</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Client</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.athlete_client_split,"20")}%</td></tr>
      </table>
      <p>The Client's share will be paid monthly, with a statement of sales provided.</p>
    `,`
    <div class="contract-content prose prose-invert max-w-none">
      <h1 class="text-3xl font-bold mb-6">EVENT MEDIA COVERAGE & PARTNERSHIP AGREEMENT</h1>
      
      <p><strong>AGREEMENT</strong> made on <strong>${r(e.agreement_date,new Date().toLocaleDateString())}</strong></p>
      
      <p><strong>BETWEEN:</strong></p>
      
      <p>
        <strong>Fit Focus Media</strong> ABN ${r(e.ffm_abn,"[ABN]")}<br>
        Represented by: Brandon Hibbs<br>
        Email: info@fitfocusmedia.com.au<br>
        Website: www.fitfocusmedia.com.au<br>
        (hereinafter referred to as <strong>"FFM"</strong> or <strong>"the Media Provider"</strong>)
      </p>
      
      <p><strong>AND:</strong></p>
      
      <p>
        <strong>${r(e.org_name,"[ORGANIZATION NAME]")}</strong><br>
        Represented by: ${r(e.promoter_name,"[PROMOTER NAME]")}<br>
        Position: ${r(e.promoter_position,"[POSITION]")}<br>
        Email: ${r(e.promoter_email,"[EMAIL]")}<br>
        Phone: ${r(e.promoter_phone,"[PHONE]")}<br>
        (hereinafter referred to as <strong>"the Client"</strong> or <strong>"the Event Organiser"</strong>)
      </p>
      
      <hr class="my-6 border-gray-700">
      
      <h2 class="text-2xl font-bold mt-6 mb-4">1. EVENT DETAILS</h2>
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Field</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Details</th></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Name</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_name)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Date(s)</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_date)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Location</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_location)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Event Type</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.event_type,"BJJ / Grappling Competition")}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Estimated Matches</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.estimated_matches)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Expected Athlete Participants</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.expected_athletes)}</td></tr>
        <tr><td class="border border-gray-700 px-4 py-2"><strong>Expected Audience</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.expected_audience)}</td></tr>
      </table>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">2. PARTNERSHIP MODEL  ZERO UPFRONT COST</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.1 No Upfront Fee</h3>
      <p>FFM will provide full professional media coverage for the Event at <strong>no upfront cost</strong> to the Client.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.2 What FFM Provides at Zero Cost</h3>
      <ul class="list-disc pl-6 my-4">
        <li>Multi-camera professional video coverage (${n(e.camera_angles,e.camera_angles_max,"2")} camera angles)</li>
        ${e.photography_type==="professional"?"<li>Professional event photography</li>":""}
        ${e.photography_type==="base"?"<li>Base event photography</li>":""}
        <li>Livestream and/or PPV broadcast production (if applicable)</li>
        <li>Post-event highlight reel for the Client's promotional use</li>
        <li>Access to the FFM Athlete Media Portal for athlete content delivery</li>
        <li>On-site crew (${n(e.crew_size,e.crew_size_max,"2")} persons)</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">2.3 Multi-Event Commitment</h3>
      <p>This Agreement covers <strong>${r(e.multi_event_count,"1")}</strong> events over a period of <strong>${r(e.multi_event_duration,"[DURATION]")}</strong>${a?", as scheduled below:":"."}</p>
      
      ${a?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">#</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Event Name</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Date</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Venue</th></tr>
          ${a}
        </table>
      `:""}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">3. SCOPE OF MEDIA COVERAGE</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">3.1 Post-Production Deliverables for the Client</h3>
      <ul class="list-disc pl-6 my-4">
        <li>One (1) Event Highlight Reel (60120 seconds) within ${n(e.highlight_delivery_days,e.highlight_delivery_days_max,"7")} business days</li>
        <li>${n(e.social_clips_count,e.social_clips_count_max,"5")} social media clips within ${n(e.social_clips_delivery_days,e.social_clips_delivery_days_max,"5")} business days</li>
        ${e.photography_type&&e.photography_type!=="none"?`<li>Curated photo gallery of ${n(e.photo_count,e.photo_count_max,"50")} edited images</li>`:""}
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">3.2 Livestream / PPV Production</h3>
      <p>
        <strong>Livestream included:</strong> ${i(e.livestream_included)} ${e.livestream_included?"Yes":"No"}<br>
        <strong>PPV included:</strong> ${i(e.ppv_included)} ${e.ppv_included?"Yes":"No"}
      </p>
      ${e.ppv_included?`
        <p>
          <strong>Platform:</strong> ${r(e.ppv_platform)}<br>
          <strong>PPV Price Point:</strong> ${e.ppv_price_type==="range"&&e.ppv_price_max?`${o(e.ppv_price)} - ${o(e.ppv_price_max)}`:o(e.ppv_price)} per viewer
        </p>
      `:""}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">4. LIVESTREAM & PPV REVENUE SHARE</h2>
      ${e.ppv_included?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr><th class="border border-gray-700 px-4 py-2 bg-gray-800">Party</th><th class="border border-gray-700 px-4 py-2 bg-gray-800">Share</th></tr>
          <tr><td class="border border-gray-700 px-4 py-2"><strong>FFM</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.ppv_ffm_split,"70")}%</td></tr>
          <tr><td class="border border-gray-700 px-4 py-2"><strong>Client</strong></td><td class="border border-gray-700 px-4 py-2">${r(e.ppv_client_split,"30")}%</td></tr>
        </table>
        <p>The Client's share will be paid within ${r(e.ppv_payment_days,"21")} days of each Event via bank transfer.</p>
      `:"<p>PPV not included in this agreement.</p>"}
      
      <h2 class="text-2xl font-bold mt-6 mb-4">5. ATHLETE MEDIA PACKAGES</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.1 Overview</h3>
      <p>FFM operates a direct-to-athlete media sales model through the <strong>FFM Athlete Media Portal</strong>.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.2 Available Packages</h3>
      ${e.athlete_packages&&e.athlete_packages.length>0?`
        <table class="w-full border-collapse border border-gray-700 my-4">
          <tr>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Package</th>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Price</th>
            <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Description</th>
          </tr>
          ${e.athlete_packages.map(u=>`
            <tr>
              <td class="border border-gray-700 px-4 py-2"><strong>${u.name||"[Package Name]"}</strong></td>
              <td class="border border-gray-700 px-4 py-2">${o(u.price)}</td>
              <td class="border border-gray-700 px-4 py-2">${u.description||"-"}</td>
            </tr>
          `).join("")}
        </table>
      `:`
        <p><strong> VIP COVERAGE</strong>  ${o(e.vip_price||350)}</p>
        <p><strong> MATCH PACKAGE</strong>  ${o(e.match_price||175)}</p>
        <p><strong> SEASON PASS</strong>  ${o(e.season_price||899)}/year</p>
      `}
      
      <h3 class="text-xl font-bold mt-4 mb-2">5.3 Athlete Media Package Revenue Split</h3>
      ${c}
      
      ${e.add_ons&&e.add_ons.length>0?`
      <h2 class="text-2xl font-bold mt-6 mb-4">6. CLIENT ADD-ONS</h2>
      <p>The following additional services have been included in this Agreement at the Client's request:</p>
      <table class="w-full border-collapse border border-gray-700 my-4">
        <tr>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Add-On</th>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Price</th>
          <th class="border border-gray-700 px-4 py-2 bg-gray-800 text-left">Description</th>
        </tr>
        ${e.add_ons.map(u=>`
          <tr>
            <td class="border border-gray-700 px-4 py-2"><strong>${u.name||"[Add-On Name]"}</strong></td>
            <td class="border border-gray-700 px-4 py-2">${o(u.price)}</td>
            <td class="border border-gray-700 px-4 py-2">${u.description||"-"}</td>
          </tr>
        `).join("")}
        <tr class="bg-gray-800">
          <td class="border border-gray-700 px-4 py-2"><strong>TOTAL ADD-ONS</strong></td>
          <td class="border border-gray-700 px-4 py-2"><strong>${o(e.add_ons.reduce((u,l)=>u+(parseFloat(l.price)||0),0))}</strong></td>
          <td class="border border-gray-700 px-4 py-2"></td>
        </tr>
      </table>
      <p>Payment for add-ons is due prior to the Event date unless otherwise agreed in writing.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">7. EXCLUSIVE MEDIA COVERAGE RIGHTS</h2>
      `:`
      <h2 class="text-2xl font-bold mt-6 mb-4">6. EXCLUSIVE MEDIA COVERAGE RIGHTS</h2>
      `}
      <p>The Client grants FFM <strong>exclusive rights</strong> to provide professional video and photography media coverage services at the Event.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">7. ACCESS & LOGISTICS</h2>
      <ul class="list-disc pl-6 my-4">
        <li>FFM requires venue access at least ${r(e.setup_hours,"2")} hours prior to first match</li>
        <li>Crew size: ${n(e.crew_size,e.crew_size_max,"2")} persons with complimentary entry</li>
        ${e.internet_speed?`<li>Internet upload speed: minimum ${e.internet_speed} Mbps</li>`:""}
        <li>Event schedule to be provided ${r(e.schedule_hours_before,"48")} hours before Event</li>
        <li>Athlete list to be provided ${r(e.athlete_list_days_before,"7")} days before Event</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">7.1 Athlete Contact Information</h3>
      <p>The Client <strong>must provide</strong> FFM with contact information for all registered athletes, including but not limited to:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Full name</li>
        <li>Email address</li>
        <li>Phone number (where available)</li>
        <li>Social media handles (Instagram, etc.)</li>
      </ul>
      <p>This information will be used by FFM for:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Delivering content and media packages to athletes via the FFM Athlete Media Portal</li>
        <li>Marketing and promotional communications regarding event content and athlete media services</li>
        <li>Tagging athletes in social media content</li>
      </ul>
      <p>The Client warrants that appropriate consent has been obtained from athletes for their contact information to be shared with FFM for these purposes, as outlined in Section 12.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">8. CANCELLATION & RESCHEDULING</h2>
      <p>Cancellation less than 15 days before Event: Client will pay ${o(e.cancellation_fee||500)} cancellation fee plus non-recoverable expenses.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">9. TERM & TERMINATION</h2>
      <p>Initial term: ${r(e.initial_term_months,"12")} months. Auto-renews for ${r(e.renewal_period_months,"12")}-month periods unless ${r(e.nonrenewal_notice_days,"60")} days' written notice provided.</p>
      <p>Termination: ${r(e.termination_notice_days,"30")} days' written notice. Remedy period: ${r(e.remedy_period_days,"14")} days.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">10. LIABILITY & INSURANCE</h2>
      <p>FFM holds public liability insurance of ${o(e.pli_amount||2e7)}.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">11. INTELLECTUAL PROPERTY & OWNERSHIP</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.1 Ownership of Content</h3>
      <p>The Client agrees that, subject to the rights and licenses granted herein, FFM is and will remain the <strong>sole and exclusive owner</strong> of all right, title, and interest, throughout the world, to all video footage, photographs, and other media content ("Content") produced under this Agreement, and any copies thereof. Except as expressly provided in this Agreement, FFM reserves all rights and licenses not expressly granted.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.2 License to Client</h3>
      <p>FFM hereby grants to the Client a <strong>non-exclusive, perpetual license</strong> to use the deliverables specified in Section 3.1 (Event Highlight Reel, social media clips, and curated photo gallery) for promotional purposes related to the Event and Client's organization. This license is non-transferable and does not include the right to sublicense.</p>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.3 Restrictions on Use</h3>
      <p>The Client will NOT use the Content for any of the following purposes without prior written permission from FFM:</p>
      <ul class="list-disc pl-6 my-4">
        <li><strong>No Unlawful Use:</strong> The Client will not use the Content in any unlawful manner, including but not limited to pornography or defamation.</li>
        <li><strong>No Standalone File Distribution:</strong> The Client will not distribute raw footage or allow Content to be downloaded, extracted, or redistributed by third parties.</li>
        <li><strong>No Trademark Use:</strong> The Client will not use the Content in any trademark, design, logo, or service mark without FFM's written consent.</li>
        <li><strong>No Products for Resale:</strong> The Client will not use the Content in any goods or products where the Content is the primary value.</li>
        <li><strong>No Alterations:</strong> The Client will not alter, modify, or create derivative works from the Content without prior written permission from FFM.</li>
        <li><strong>No Sublicensing:</strong> The Client will not sublicense, sell, or transfer rights to the Content to any third party.</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">11.4 Credit Requirements</h3>
      <p>The Client must include appropriate credit to <strong>"Fit Focus Media"</strong> or <strong>"@fitfocusmedia"</strong> when publishing or sharing any Content produced under this Agreement on social media, websites, or promotional materials.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">12. MEDIA RELEASE & CONSENT</h2>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.1 Athlete Media Release</h3>
      <p>The Client acknowledges that FFM will capture video footage and photographs of athletes, coaches, officials, and spectators at the Event. The Client warrants that:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Appropriate media release and consent has been obtained from all athletes participating in the Event, either through registration terms & conditions or separate media release forms.</li>
        <li>Athletes have been informed that professional media coverage will be present and content may be used for promotional, commercial, and broadcast purposes.</li>
        <li>Minors participating in the Event have appropriate parental/guardian consent for media capture and publication.</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.2 Grant of Rights</h3>
      <p>FFM is granted the <strong>perpetual and irrevocable right</strong> to use, publish, and distribute video and photographs captured at the Event for editorial, trade, advertising, promotional, and commercial purposes in any manner and medium, including but not limited to:</p>
      <ul class="list-disc pl-6 my-4">
        <li>Social media platforms and websites</li>
        <li>Marketing and promotional materials</li>
        <li>Broadcast and streaming services</li>
        <li>Athlete Media Packages sold through the FFM Portal</li>
        <li>Portfolio and showcase purposes</li>
      </ul>
      
      <h3 class="text-xl font-bold mt-4 mb-2">12.3 Implied Consent & Opt-Out Procedure</h3>
      <p>The parties agree that:</p>
      <ul class="list-disc pl-6 my-4">
        <li><strong>Implied Consent:</strong> All athletes, by registering for and competing in the Event, are deemed to have consented to the capture, use, and publication of their image, likeness, and performance by FFM for the purposes outlined in this Agreement.</li>
        <li><strong>Opt-Out Requirement:</strong> Any athlete who does not consent to media capture and publication must notify FFM <strong>in writing</strong> (via email to info@fitfocusmedia.com.au) no less than <strong>48 hours prior</strong> to the Event. FFM will make reasonable efforts to exclude such athletes from published content, however FFM cannot guarantee exclusion from all footage, particularly wide-angle or crowd shots.</li>
        <li><strong>Client Responsibility:</strong> The Client is solely responsible for communicating media coverage terms to athletes through registration materials, event signage, and/or announcements. The Client shall include appropriate notice in registration terms and conditions that professional media coverage will be present and content may be used commercially.</li>
        <li><strong>Liability:</strong> The Client assumes all liability for any claims arising from athletes who allege they did not consent to media capture. FFM shall not be held liable for any such claims, and the Client shall indemnify FFM accordingly as outlined in Section 13.</li>
      </ul>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">13. INDEMNIFICATION</h2>
      <p>The Client will <strong>indemnify, defend, and hold harmless</strong> FFM, its officers, employees, agents, and contractors from all liability, claims, demands, causes of action, judgments, damages, and expenses (including reasonable attorneys' fees and costs) arising out of or as a result of:</p>
      <ul class="list-disc pl-6 my-4">
        <li>The Client's use of the Content in violation of this Agreement</li>
        <li>Any breach of the Client's representations or warranties under this Agreement</li>
        <li>Any claim by a third party (including athletes, spectators, or venue operators) relating to the Event</li>
        <li>The Client's failure to obtain proper media releases or consents</li>
      </ul>
      <p>This indemnification does not apply to claims arising solely from FFM's willful misconduct, gross negligence, or bad faith.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">14. LIMITATION OF LIABILITY</h2>
      <p><strong>EXCEPT FOR ANY REMEDIES THAT CANNOT BE EXCLUDED OR LIMITED BY LAW, NEITHER PARTY, NOR ANY AFFILIATE, WILL BE LIABLE UNDER THIS AGREEMENT TO THE OTHER PARTY FOR ANY INDIRECT, INCIDENTAL, CONSEQUENTIAL, SPECIAL, RELIANCE, OR PUNITIVE DAMAGES OR LOST OR IMPUTED PROFITS, LOST DATA, OR COST OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES.</strong></p>
      <p>FFM's total liability under this Agreement shall not exceed the total fees paid or payable by the Client under this Agreement in the twelve (12) months preceding the claim.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">15. FORCE MAJEURE</h2>
      <p>Neither party shall be liable for any failure or delay in performing their obligations under this Agreement if such failure or delay results from circumstances beyond the reasonable control of that party, including but not limited to: acts of God, natural disasters, pandemic, government actions, war, terrorism, civil unrest, or failure of third-party services.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">16. CONFIDENTIALITY</h2>
      <p>Each party agrees to keep confidential and not disclose to any third party any confidential information received from the other party, including but not limited to business strategies, financial information, athlete data, and the specific commercial terms of this Agreement, except as required by law or with prior written consent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">17. ASSIGNMENT</h2>
      <p>This Agreement may not be assigned by the Client without FFM's prior written consent. FFM may assign this Agreement, in whole or in part, to any affiliate or successor without the Client's consent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">18. DISPUTE RESOLUTION</h2>
      <p>Any dispute arising from this Agreement shall first be resolved through good-faith negotiation between the parties. If the dispute cannot be resolved through negotiation within thirty (30) days, the dispute shall be submitted to mediation. If mediation fails, the dispute will be resolved through binding arbitration conducted in Brisbane, Queensland in accordance with the rules of the Resolution Institute.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">19. GOVERNING LAW</h2>
      <p>This Agreement shall be governed by and construed in accordance with the laws of <strong>Queensland, Australia</strong>, without reference to rules governing choice of laws. The parties submit to the exclusive jurisdiction of the courts of Queensland.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">20. SEVERABILITY</h2>
      <p>If any provision of this Agreement is held invalid, illegal, or unenforceable by a court of competent jurisdiction, the remainder of the Agreement will remain valid and enforceable, and the parties will negotiate in good faith a substitute provision which most nearly reflects the original intent.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">21. ENTIRE AGREEMENT</h2>
      <p>This Agreement represents and constitutes the <strong>entire agreement</strong> between the parties with respect to the subject matter hereof, and supersedes and merges all prior negotiations, agreements, and understandings, oral or written. This Agreement may not be altered, modified, or amended except in writing signed by both parties.</p>
      
      <h2 class="text-2xl font-bold mt-6 mb-4">22. NOTICES</h2>
      <p>All notices, demands, or other communications under this Agreement shall be in writing and delivered via email with read receipt, registered mail, or hand delivery to the addresses specified in this Agreement. Notices delivered by email shall be deemed received on the business day sent (or the next business day if sent after 5pm AEST). Mailed notices shall be deemed received three (3) business days after posting.</p>
      
      ${e.custom_notes&&e.custom_notes.length>0?`
      <h2 class="text-2xl font-bold mt-6 mb-4">ADDITIONAL TERMS & NOTES</h2>
      <p>The following additional terms and event-specific provisions apply to this Agreement:</p>
      ${e.custom_notes.map((u,l)=>`
        <div class="bg-gray-800/50 border border-gray-700 rounded-lg p-4 my-4">
          <h3 class="text-lg font-bold mb-2">${u.title||`Custom Note ${l+1}`}</h3>
          <p class="whitespace-pre-wrap">${u.content||"[No content provided]"}</p>
        </div>
      `).join("")}
      `:""}
      
      <hr class="my-6 border-gray-700">
      
      <h2 class="text-2xl font-bold mt-6 mb-4">SIGNATURES</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
        <div class="border border-gray-700 rounded-lg p-6">
          <h3 class="text-lg font-bold mb-4">Fit Focus Media</h3>
          ${t.ffm_signature?`
            <img src="${t.ffm_signature}" alt="FFM Signature" class="max-w-full h-auto border border-gray-600 p-2 rounded bg-white mb-4" style="max-width: 300px;">
            <p><strong>Name:</strong> Brandon Hibbs</p>
            <p><strong>Signed:</strong> ${new Date(t.ffm_signed_at).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})}</p>
          `:'<p class="text-gray-500">[PENDING FFM SIGNATURE]</p>'}
        </div>
        
        <div class="border border-gray-700 rounded-lg p-6">
          <h3 class="text-lg font-bold mb-4">${r(e.org_name,"[ORGANIZATION]")}</h3>
          ${t.client_signature?`
            <img src="${t.client_signature}" alt="Client Signature" class="max-w-full h-auto border border-gray-600 p-2 rounded bg-white mb-4" style="max-width: 300px;">
            <p><strong>Name:</strong> ${r(e.promoter_name)}</p>
            <p><strong>Position:</strong> ${r(e.promoter_position)}</p>
            <p><strong>Signed:</strong> ${new Date(t.client_signed_at).toLocaleString("en-AU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0,timeZoneName:"short"})}</p>
          `:'<p class="text-gray-500">[PENDING CLIENT SIGNATURE]</p>'}
        </div>
      </div>
    </div>
  `}function vO(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const r=e.getContext("2d"),a=t.getContext("2d").getImageData(0,0,t.width,t.height).data,o=r.createImageData(t.width,t.height),c=o.data;for(let u=0;u<a.length;u+=4)a[u+3]>10?(c[u]=0,c[u+1]=0,c[u+2]=0,c[u+3]=255):(c[u]=255,c[u+1]=255,c[u+2]=255,c[u+3]=255);return r.putImageData(o,0,0),e.toDataURL("image/png")}function Rne(t){return t.getContext("2d").getImageData(0,0,t.width,t.height).data.some(n=>n!==0)}function xO(t){const e=window.location.hostname;let r;return e==="localhost"||e.includes("192.168.")||e.includes("100.")?r="https://clawdbots-mini.tailcfdc1.ts.net:5198":r=window.location.origin,`${r}/#/contract/${t}`}function NDe(t,e,r){const n=xO(t);return{subject:`Event Media Coverage Agreement  Fit Focus Media  ${r}`,body:`Hi ${e},

Please find your Event Media Coverage & Partnership Agreement with Fit Focus Media ready for review and signature.

Review & Sign Here:
${n}

Once you've reviewed the terms, you can sign directly on the page. If you have any questions, reply to this email.

Cheers,
Brandon Hibbs
Fit Focus Media
info@fitfocusmedia.com.au
www.fitfocusmedia.com.au`}}function bF(t){return{draft:"",sent:"",viewed:"",signed:"",expired:""}[t]||""}function Dne(t){return`${{draft:"bg-gray-600",sent:"bg-blue-600",viewed:"bg-yellow-600",signed:"bg-green-600",expired:"bg-red-600"}[t]||"bg-gray-600"} text-white px-3 py-1 rounded-full text-sm font-medium inline-flex items-center gap-2`}const kDe={draft:"bg-gray-700 text-gray-200",sent:"bg-blue-600/20 text-blue-400 border border-blue-500/30",viewed:"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30",signed:"bg-green-600/20 text-green-400 border border-green-500/30",expired:"bg-red-600/20 text-red-400 border border-red-500/30"};function LDe(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[i,a]=T.useState(!0),[o,c]=T.useState(""),[u,l]=T.useState(""),[d,f]=T.useState("created_desc"),[m,p]=T.useState({total:0,signedThisMonth:0,pending:0,drafts:0,value:0}),g=$c();T.useEffect(()=>{x()},[]),T.useEffect(()=>{w()},[t,o,u,d]);const x=async()=>{try{const E=await gF();e(E),y(E)}catch(E){console.error("Error loading contracts:",E)}finally{a(!1)}},y=E=>{const _=new Date,N=E.filter(M=>{if(M.status!=="signed")return!1;const Y=new Date(M.created_at);return Y.getMonth()===_.getMonth()&&Y.getFullYear()===_.getFullYear()}),C=E.filter(M=>M.status==="sent"||M.status==="viewed"),I=E.filter(M=>M.status==="draft"),D=E.reduce((M,Y)=>{const X=Y.contract_data?.vip_price||0,te=Y.contract_data?.expected_athletes||0;return M+X*te*.3},0);p({total:E.length,signedThisMonth:N.length,pending:C.length,drafts:I.length,value:Math.round(D)})},w=()=>{let E=[...t];if(o){const _=o.toLowerCase();E=E.filter(N=>(N.org_name||"").toLowerCase().includes(_)||(N.promoter_name||"").toLowerCase().includes(_)||(N.promoter_email||"").toLowerCase().includes(_))}u&&(E=E.filter(_=>_.status===u)),E.sort((_,N)=>{switch(d){case"created_asc":return new Date(_.created_at)-new Date(N.created_at);case"created_desc":return new Date(N.created_at)-new Date(_.created_at);case"org_name":return(_.org_name||"").localeCompare(N.org_name||"");case"status":return(_.status||"").localeCompare(N.status||"");default:return 0}}),n(E)};return i?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Loading contracts..."})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:[s.jsx("span",{className:"text-red-500",children:"CONTRACT"})," MANAGEMENT"]}),s.jsxs("button",{onClick:()=>g("/portal/contracts/new"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition-all hover:scale-105 flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:"+"})," Create New Contract"]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[{label:"TOTAL CONTRACTS",value:m.total,color:"text-white",filter:""},{label:"DRAFTS",value:m.drafts,color:"text-yellow-500",filter:"draft"},{label:"SIGNED THIS MONTH",value:m.signedThisMonth,color:"text-green-500",filter:"signed"},{label:"PENDING SIGNATURES",value:m.pending,color:"text-blue-400",filter:""},{label:"TOTAL VALUE",value:`$${m.value.toLocaleString()}`,color:"text-red-400",filter:""}].map(({label:E,value:_,color:N,filter:C})=>s.jsxs("div",{onClick:()=>C!==void 0&&l(C),className:`bg-[#1a1a2e] rounded-xl p-5 border border-gray-800/50 ${C!==""?"cursor-pointer hover:border-gray-600 transition-colors":""}`,children:[s.jsx("div",{className:"text-[11px] font-bold text-gray-500 tracking-widest uppercase mb-3",children:E}),s.jsx("div",{className:`text-3xl font-black ${N}`,children:_})]},E))}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-3 mb-6",children:[s.jsx("input",{type:"text",value:o,onChange:E=>c(E.target.value),placeholder:"Search by organization name...",className:"flex-1 px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40 focus:border-red-500/40"}),s.jsxs("select",{value:u,onChange:E=>l(E.target.value),className:"px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40 min-w-[160px]",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"sent",children:"Sent"}),s.jsx("option",{value:"viewed",children:"Viewed"}),s.jsx("option",{value:"signed",children:"Signed"}),s.jsx("option",{value:"expired",children:"Expired"})]}),s.jsxs("select",{value:d,onChange:E=>f(E.target.value),className:"px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40 min-w-[160px]",children:[s.jsx("option",{value:"created_desc",children:"Newest First"}),s.jsx("option",{value:"created_asc",children:"Oldest First"}),s.jsx("option",{value:"org_name",children:"Organization A-Z"}),s.jsx("option",{value:"status",children:"Status"})]})]}),r.length===0?s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-12 text-center border border-gray-800/50",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:t.length===0?"No Contracts Yet":"No Contracts Found"}),s.jsx("p",{className:"text-gray-500 mb-6",children:t.length===0?"Create your first contract to get started":"Try adjusting your search or filters"}),t.length===0&&s.jsx("button",{onClick:()=>g("/portal/contracts/new"),className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-bold transition-all",children:"Create New Contract"})]}):s.jsx("div",{className:"flex flex-col gap-3",children:r.map(E=>{const _=E.contract_data?.event_date?new Date(E.contract_data.event_date).toLocaleDateString("en-AU"):"Not set",N=new Date(E.created_at).toLocaleDateString("en-AU");return s.jsx("div",{onClick:()=>E.status==="draft"?g(`/portal/contracts/${E.id}/edit`):g(`/portal/contracts/${E.id}`),className:`bg-[#1a1a2e] rounded-xl p-5 border-l-4 ${E.status==="draft"?"border-l-yellow-500":"border-l-red-600"} border border-gray-800/50 hover:border-gray-700 cursor-pointer transition-all hover:bg-[#1f1f35] group`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-red-400 transition-colors",children:E.org_name||"Untitled Contract"}),s.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-1 mt-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Promoter"}),s.jsx("div",{className:"text-gray-300",children:E.promoter_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Event Date"}),s.jsx("div",{className:"text-gray-300",children:_})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-wider",children:"Created"}),s.jsx("div",{className:"text-gray-300",children:N})]})]})]}),s.jsxs("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider ${kDe[E.status]||"bg-gray-700 text-gray-300"}`,children:[bF(E.status)," ",E.status]})]})},E.id)})})]})}function Mne({onSignatureChange:t,className:e=""}){const r=T.useRef(null),n=T.useRef(!1),i=T.useRef({x:0,y:0});T.useEffect(()=>{const o=r.current;if(!o)return;const c=()=>{const u=o.getBoundingClientRect();o.width=u.width,o.height=u.height,o.getContext("2d").clearRect(0,0,o.width,o.height)};return setTimeout(c,100),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),T.useEffect(()=>{const o=r.current;if(!o)return;const c=o.getContext("2d"),u=m=>{const p=o.getBoundingClientRect(),g=(m.clientX||m.touches?.[0]?.clientX||0)-p.left,x=(m.clientY||m.touches?.[0]?.clientY||0)-p.top;return{x:g,y:x}},l=m=>{m.preventDefault(),n.current=!0;const p=u(m);i.current=p},d=m=>{if(!n.current)return;m.preventDefault();const p=u(m);c.strokeStyle="#ffffff",c.lineWidth=2,c.lineCap="round",c.lineJoin="round",c.beginPath(),c.moveTo(i.current.x,i.current.y),c.lineTo(p.x,p.y),c.stroke(),i.current=p,t&&t(o)},f=()=>{n.current=!1};return o.addEventListener("mousedown",l),o.addEventListener("mousemove",d),o.addEventListener("mouseup",f),o.addEventListener("mouseout",f),o.addEventListener("touchstart",l),o.addEventListener("touchmove",d),o.addEventListener("touchend",f),()=>{o.removeEventListener("mousedown",l),o.removeEventListener("mousemove",d),o.removeEventListener("mouseup",f),o.removeEventListener("mouseout",f),o.removeEventListener("touchstart",l),o.removeEventListener("touchmove",d),o.removeEventListener("touchend",f)}},[t]);const a=()=>{const o=r.current;if(!o)return;o.getContext("2d").clearRect(0,0,o.width,o.height),t&&t(o)};return s.jsxs("div",{className:"signature-canvas-container",children:[s.jsx("canvas",{ref:r,className:`border-2 border-gray-600 rounded-lg bg-gray-900 cursor-crosshair touch-none ${e}`,style:{width:"100%",height:"200px"}}),s.jsx("button",{type:"button",onClick:a,className:"mt-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Clear Signature"})]})}const Ay=6;function oK({editMode:t=!1}){const{id:e}=Lf(),[r,n]=T.useState(1),[i,a]=T.useState({agreement_date:new Date().toISOString().split("T")[0],ffm_abn:"",org_name:"",promoter_name:"",promoter_position:"",promoter_email:"",promoter_phone:"",org_instagram:"",org_facebook:"",org_website:"",event_name:"",event_date:"",event_location:"",event_type:"BJJ / Grappling Competition",estimated_matches:"",expected_athletes:"",expected_audience:"",camera_angles:"2",camera_angles_max:"",crew_size:"2",crew_size_max:"",multi_event_count:"1",multi_event_duration:"",highlight_delivery_days:"7",highlight_delivery_days_max:"",social_clips_count:"5",social_clips_count_max:"",social_clips_delivery_days:"5",social_clips_delivery_days_max:"",photo_count:"50",photo_count_max:"",photography_included:!0,photography_type:"professional",livestream_included:!1,ppv_included:!1,ppv_platform:"",ppv_price:"",ppv_price_type:"fixed",ppv_price_max:"",ppv_ffm_split:"70",ppv_client_split:"30",ppv_payment_days:"21",vip_price:"350",match_price:"175",season_price:"899",athlete_revenue_ffm_100:!0,athlete_ffm_split:"80",athlete_client_split:"20",setup_hours:"2",internet_speed:"",schedule_hours_before:"48",athlete_list_days_before:"7",cancellation_fee:"500",initial_term_months:"12",renewal_period_months:"12",nonrenewal_notice_days:"60",termination_notice_days:"30",remedy_period_days:"14",pli_amount:"20000000"}),[o,c]=T.useState([]),[u,l]=T.useState([{name:"VIP Coverage",price:"350",description:"Full event coverage with priority editing, professional highlight reel, all match recordings, and premium photo package."},{name:"Match Package",price:"175",description:"Individual match recording with edited highlights and action photos from your matches."},{name:"Season Pass",price:"899",description:"Full season coverage across all events, priority processing, and exclusive content access."}]),[d,f]=T.useState([]),[m,p]=T.useState([]),[g,x]=T.useState(!1),[y,w]=T.useState(!1),[E,_]=T.useState(null),[N,C]=T.useState(t),[I,D]=T.useState(!0);T.useRef(null);const[M,Y]=T.useState(null),[X,te]=T.useState(!1),[de,ye]=T.useState(null),we=$c();T.useEffect(()=>{t&&e&&ve()},[t,e]);const ve=async()=>{try{C(!0);const gt=await Lne(e);_(gt);const wt=gt.contract_data||{};a(rr=>({...rr,...wt})),wt.multi_events&&c(wt.multi_events),wt.athlete_packages&&l(wt.athlete_packages),wt.add_ons&&f(wt.add_ons),wt.custom_notes&&p(wt.custom_notes)}catch(gt){console.error("Error loading contract:",gt),alert("Failed to load contract for editing"),we("/portal/contracts")}finally{C(!1)}};T.useEffect(()=>{if(!t){const gt=localStorage.getItem("contractBuilderData");if(gt)try{const wt=JSON.parse(gt);a(wt.formData||i),c(wt.multiEvents||[]),wt.athletePackages&&l(wt.athletePackages),wt.addOns&&f(wt.addOns),wt.customNotes&&p(wt.customNotes),n(wt.currentStep||1)}catch(wt){console.error("Error loading saved data:",wt)}}},[t]),T.useEffect(()=>{localStorage.setItem("contractBuilderData",JSON.stringify({formData:i,multiEvents:o,athletePackages:u,addOns:d,customNotes:m,currentStep:r}))},[i,o,u,d,m,r]);const ne=gt=>{const{name:wt,value:rr,type:Jt,checked:ar}=gt.target;a(Dr=>({...Dr,[wt]:Jt==="checkbox"?ar:rr}))},ae=()=>{c([...o,{name:"",date:"",venue:""}])},oe=gt=>{c(o.filter((wt,rr)=>rr!==gt))},Re=(gt,wt,rr)=>{const Jt=[...o];Jt[gt][wt]=rr,c(Jt)},Pe=(gt,wt)=>{const rr=gt+wt;if(rr<0||rr>=o.length)return;const Jt=[...o],[ar]=Jt.splice(gt,1);Jt.splice(rr,0,ar),c(Jt)},be=()=>{l([...u,{name:"",price:"",description:""}])},he=gt=>{l(u.filter((wt,rr)=>rr!==gt))},Ie=(gt,wt,rr)=>{const Jt=[...u];Jt[gt][wt]=rr,l(Jt)},Oe=()=>{f([...d,{name:"",price:"",description:"",included:!0}])},$e=gt=>{f(d.filter((wt,rr)=>rr!==gt))},De=(gt,wt,rr)=>{const Jt=[...d];Jt[gt][wt]=rr,f(Jt)},ct=()=>{p([...m,{title:"",content:""}])},pt=gt=>{p(m.filter((wt,rr)=>rr!==gt))},Ue=(gt,wt,rr)=>{const Jt=[...m];Jt[gt][wt]=rr,p(Jt)},He=gt=>{const rr={1:["org_name","promoter_name","promoter_position","promoter_email","promoter_phone"],2:["event_name","event_date","event_location","estimated_matches","expected_athletes","expected_audience"],3:[],4:[],5:[],6:[]}[gt]||[];for(const Jt of rr)if(!i[Jt]||i[Jt].trim()==="")return alert("Please fill in all required fields in this step."),!1;return!0},Ye=()=>{He(r)&&r<Ay&&(n(r+1),window.scrollTo({top:0,behavior:"smooth"}))},Se=()=>{r>1&&(n(r-1),window.scrollTo({top:0,behavior:"smooth"}))},mt=gt=>{n(gt),window.scrollTo({top:0,behavior:"smooth"})},qe=async gt=>{gt.preventDefault();const wt=M&&Rne(M);if(!t){if(!wt){alert("Please sign the contract before submitting.");return}if(!X){alert("Please confirm your signature.");return}}x(!0);try{const rr={...i,multi_events:o,athlete_packages:u,add_ons:d,custom_notes:m};if(t&&E){const Jt={org_name:i.org_name,promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:rr,updated_at:new Date().toISOString()};wt&&X&&(Jt.ffm_signature=vO(M),Jt.ffm_signed_at=new Date().toISOString()),await nK(e,Jt),alert("Contract updated successfully!"),we(`/portal/contracts/${e}`)}else{const Jt=vO(M),ar=await rK({status:"sent",org_name:i.org_name,promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:rr,ffm_signature:Jt,ffm_signed_at:new Date().toISOString()});localStorage.removeItem("contractBuilderData"),alert("Contract created successfully! You can now share it with the client."),we(`/portal/contracts/${ar.id}`)}}catch(rr){console.error("Error saving contract:",rr),alert("Failed to save contract: "+rr.message)}finally{x(!1)}},Tt=async()=>{w(!0);try{const gt={...i,multi_events:o,athlete_packages:u,add_ons:d,custom_notes:m};if(t&&E)await nK(e,{status:E.status==="draft"?"draft":E.status,org_name:i.org_name||"Untitled Draft",promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:gt}),ye(new Date),alert("Draft saved!");else{const wt=await rK({status:"draft",org_name:i.org_name||"Untitled Draft",promoter_name:i.promoter_name,promoter_email:i.promoter_email,promoter_phone:i.promoter_phone,contract_data:gt});localStorage.removeItem("contractBuilderData"),we(`/portal/contracts/${wt.id}/edit`,{replace:!0}),_(wt),ye(new Date),alert("Draft saved! You can continue editing or come back later.")}}catch(gt){console.error("Error saving draft:",gt),alert("Failed to save draft: "+gt.message)}finally{w(!1)}},bt={contract_data:{...i,multi_events:o,athlete_packages:u,add_ons:d,custom_notes:m},ffm_signature:null,client_signature:null};return N?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>we(t?`/portal/contracts/${e}`:"/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:[" ",t?"Back to Contract":"Back to Dashboard"]}),s.jsx("h1",{className:"text-3xl font-bold text-white",children:t?`Edit Contract: ${i.org_name||"Untitled"}`:"Create New Contract"})]}),s.jsxs("button",{onClick:()=>D(!I),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[I?"Hide":"Show"," Preview"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 mb-6 border border-gray-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:Array.from({length:Ay},(gt,wt)=>wt+1).map(gt=>s.jsx("button",{onClick:()=>mt(gt),className:`flex-1 text-center py-2 px-3 rounded-lg font-medium transition-colors ${gt===r?"bg-blue-600 text-white":gt<r?"bg-green-600 text-white":"bg-gray-800 text-gray-400"} ${gt<Ay?"mr-2":""}`,children:gt},gt))}),s.jsxs("div",{className:"text-center text-gray-400 text-sm",children:["Step ",r," of ",Ay]})]}),s.jsxs("form",{onSubmit:qe,noValidate:!0,className:"bg-dark-900 rounded-lg p-6 border border-gray-800",children:[r===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 1: Party Details"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Agreement Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"agreement_date",value:i.agreement_date,onChange:ne,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM ABN"}),s.jsx("input",{type:"text",name:"ffm_abn",value:i.ffm_abn,onChange:ne,placeholder:"Enter ABN if available",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Organization Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"org_name",value:i.org_name,onChange:ne,required:!0,placeholder:"e.g., Queensland Grappling Association",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"promoter_name",value:i.promoter_name,onChange:ne,required:!0,placeholder:"Full name of the promoter",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Position ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"promoter_position",value:i.promoter_position,onChange:ne,required:!0,placeholder:"e.g., Event Director, CEO",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",name:"promoter_email",value:i.promoter_email,onChange:ne,required:!0,placeholder:"email@example.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Promoter Phone ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"tel",name:"promoter_phone",value:i.promoter_phone,onChange:ne,required:!0,placeholder:"+61 4XX XXX XXX",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-4",children:"Social & Web (Optional)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Instagram"}),s.jsx("input",{type:"text",name:"org_instagram",value:i.org_instagram,onChange:ne,placeholder:"@yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Facebook"}),s.jsx("input",{type:"text",name:"org_facebook",value:i.org_facebook,onChange:ne,placeholder:"facebook.com/yourorg",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Website"}),s.jsx("input",{type:"text",name:"org_website",value:i.org_website,onChange:ne,placeholder:"https://yourorg.com",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 2: Event Details"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"event_name",value:i.event_name,onChange:ne,required:!0,placeholder:"e.g., Queensland Open 2024",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",name:"event_date",value:i.event_date,onChange:ne,required:!0,className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Event Location ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"event_location",value:i.event_location,onChange:ne,required:!0,placeholder:"Venue name and address",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Type"}),s.jsx("input",{type:"text",name:"event_type",value:i.event_type,onChange:ne,placeholder:"e.g., BJJ / Grappling Competition",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Estimated Matches ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"estimated_matches",value:i.estimated_matches,onChange:ne,required:!0,placeholder:"e.g., 200",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Athlete Participants ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"expected_athletes",value:i.expected_athletes,onChange:ne,required:!0,placeholder:"e.g., 400",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Expected Audience ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"expected_audience",value:i.expected_audience,onChange:ne,required:!0,placeholder:"e.g., 300",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Count"}),s.jsx("input",{type:"number",name:"multi_event_count",value:i.multi_event_count,onChange:ne,placeholder:"e.g., 1",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Multi-Event Duration"}),s.jsx("input",{type:"text",name:"multi_event_duration",value:i.multi_event_duration,onChange:ne,placeholder:"e.g., 12 months",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Event Schedule (Optional)"}),s.jsx("button",{type:"button",onClick:ae,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Event"})]}),o.map((gt,wt)=>s.jsx("div",{className:"bg-dark-800 p-4 rounded-lg mb-2",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("span",{className:"text-gray-400 text-sm font-medium w-6",children:["#",wt+1]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{type:"button",onClick:()=>Pe(wt,-1),disabled:wt===0,className:`px-2 py-0.5 rounded text-xs ${wt===0?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move up",children:""}),s.jsx("button",{type:"button",onClick:()=>Pe(wt,1),disabled:wt===o.length-1,className:`px-2 py-0.5 rounded text-xs ${wt===o.length-1?"text-gray-600 cursor-not-allowed":"text-gray-400 hover:text-white hover:bg-dark-600"}`,title:"Move down",children:""})]}),s.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-2",children:[s.jsx("input",{type:"text",value:gt.name,onChange:rr=>Re(wt,"name",rr.target.value),placeholder:"Event Name",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"date",value:gt.date,onChange:rr=>Re(wt,"date",rr.target.value),className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("input",{type:"text",value:gt.venue,onChange:rr=>Re(wt,"venue",rr.target.value),placeholder:"Venue",className:"px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("button",{type:"button",onClick:()=>oe(wt),className:"text-red-500 hover:text-red-400 text-sm px-2",title:"Remove event",children:""})]})},wt))]})]}),r===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 3: Coverage & Deliverables"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:' All fields support ranges. Leave "Max" empty for a single value, or enter a max to specify a range (e.g., "2-3").'}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Camera Angles"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"camera_angles",value:i.camera_angles,onChange:ne,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"camera_angles_max",value:i.camera_angles_max,onChange:ne,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"On-Site Crew Size"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"crew_size",value:i.crew_size,onChange:ne,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"crew_size_max",value:i.crew_size_max,onChange:ne,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Highlight Reel Delivery (Days)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"highlight_delivery_days",value:i.highlight_delivery_days,onChange:ne,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"highlight_delivery_days_max",value:i.highlight_delivery_days_max,onChange:ne,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Media Clips Count"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"social_clips_count",value:i.social_clips_count,onChange:ne,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"social_clips_count_max",value:i.social_clips_count_max,onChange:ne,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Social Clips Delivery (Days)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"social_clips_delivery_days",value:i.social_clips_delivery_days,onChange:ne,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"social_clips_delivery_days_max",value:i.social_clips_delivery_days_max,onChange:ne,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photography"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"photography_type",value:"none",checked:i.photography_type==="none",onChange:ne,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-300",children:"No photography included"})]}),s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"photography_type",value:"base",checked:i.photography_type==="base",onChange:ne,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-300",children:"Base event photography"})]}),s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"photography_type",value:"professional",checked:i.photography_type==="professional",onChange:ne,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-300",children:"Professional event photography"})]})]})]}),i.photography_type!=="none"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Photo Count"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"photo_count",value:i.photo_count,onChange:ne,placeholder:"Min",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Min"})]}),s.jsxs("div",{children:[s.jsx("input",{type:"number",name:"photo_count_max",value:i.photo_count_max,onChange:ne,placeholder:"Max (optional)",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("span",{className:"text-xs text-gray-500 mt-1 block",children:"Max (optional)"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"livestream_included",name:"livestream_included",checked:i.livestream_included,onChange:ne,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"livestream_included",className:"ml-2 text-sm font-medium text-gray-300",children:"Livestream Included"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"ppv_included",name:"ppv_included",checked:i.ppv_included,onChange:ne,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"ppv_included",className:"ml-2 text-sm font-medium text-gray-300",children:"PPV Included"})]}),i.ppv_included&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Platform"}),s.jsx("input",{type:"text",name:"ppv_platform",value:i.ppv_platform,onChange:ne,placeholder:"e.g., Vimeo, YouTube Live",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Pricing Type"}),s.jsxs("div",{className:"flex gap-4 mb-3",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"ppv_price_type",value:"fixed",checked:i.ppv_price_type==="fixed",onChange:ne,className:"text-orange-500 focus:ring-orange-500"}),s.jsx("span",{className:"text-gray-300",children:"Fixed Price"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"ppv_price_type",value:"range",checked:i.ppv_price_type==="range",onChange:ne,className:"text-orange-500 focus:ring-orange-500"}),s.jsx("span",{className:"text-gray-300",children:"Price Range"})]})]}),i.ppv_price_type==="fixed"?s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Price per Viewer"}),s.jsx("input",{type:"number",name:"ppv_price",value:i.ppv_price,onChange:ne,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Minimum Price"}),s.jsx("input",{type:"number",name:"ppv_price",value:i.ppv_price,onChange:ne,placeholder:"e.g., 25.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Maximum Price"}),s.jsx("input",{type:"number",name:"ppv_price_max",value:i.ppv_price_max,onChange:ne,placeholder:"e.g., 35.00",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),r===4&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 4: Financial Terms"}),i.ppv_included&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"PPV Revenue Split"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM PPV Share (%)"}),s.jsx("input",{type:"number",name:"ppv_ffm_split",value:i.ppv_ffm_split,onChange:ne,placeholder:"e.g., 70",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client PPV Share (%)"}),s.jsx("input",{type:"number",name:"ppv_client_split",value:i.ppv_client_split,onChange:ne,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"PPV Payment Within (Days)"}),s.jsx("input",{type:"number",name:"ppv_payment_days",value:i.ppv_payment_days,onChange:ne,placeholder:"e.g., 21",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Athlete Media Packages"}),s.jsx("button",{type:"button",onClick:be,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"+ Add Package"})]}),u.length===0&&s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:'No packages added. Click "+ Add Package" to create athlete media packages.'}),u.map((gt,wt)=>s.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Package ",wt+1]}),s.jsx("button",{type:"button",onClick:()=>he(wt),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Package Name"}),s.jsx("input",{type:"text",value:gt.name,onChange:rr=>Ie(wt,"name",rr.target.value),placeholder:"e.g., VIP Coverage",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),s.jsx("input",{type:"number",value:gt.price,onChange:rr=>Ie(wt,"price",rr.target.value),placeholder:"e.g., 350",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description (what's included)"}),s.jsx("textarea",{value:gt.description,onChange:rr=>Ie(wt,"description",rr.target.value),placeholder:"Describe what this package includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]})]},wt))]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Client Add-Ons"}),s.jsx("button",{type:"button",onClick:Oe,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:"+ Add Add-On"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Optional services or packages the client has opted into for this event."}),d.length===0&&s.jsx("p",{className:"text-gray-500 text-sm italic mb-4",children:'No add-ons added. Click "+ Add Add-On" to include optional services.'}),d.map((gt,wt)=>s.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-green-900",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-green-400",children:["Add-On ",wt+1]}),s.jsx("button",{type:"button",onClick:()=>$e(wt),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Add-On Name"}),s.jsx("input",{type:"text",value:gt.name,onChange:rr=>De(wt,"name",rr.target.value),placeholder:"e.g., Additional Camera Operator",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Price ($)"}),s.jsx("input",{type:"number",value:gt.price,onChange:rr=>De(wt,"price",rr.target.value),placeholder:"e.g., 500",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Description"}),s.jsx("textarea",{value:gt.description,onChange:rr=>De(wt,"description",rr.target.value),placeholder:"Describe what this add-on includes...",rows:2,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]})]},wt))]}),s.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Athlete Revenue Split"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"athlete_revenue_ffm_100",name:"athlete_revenue_ffm_100",checked:i.athlete_revenue_ffm_100,onChange:ne,className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"athlete_revenue_ffm_100",className:"ml-2 text-sm font-medium text-gray-300",children:"FFM Retains 100% of Athlete Media Package Sales"})]}),!i.athlete_revenue_ffm_100&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"FFM Athlete Revenue Share (%)"}),s.jsx("input",{type:"number",name:"athlete_ffm_split",value:i.athlete_ffm_split,onChange:ne,placeholder:"e.g., 80",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Client Athlete Revenue Share (%)"}),s.jsx("input",{type:"number",name:"athlete_client_split",value:i.athlete_client_split,onChange:ne,placeholder:"e.g., 20",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r===5&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Step 5: Terms & Conditions"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Access & Logistics"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Setup Hours Before Event"}),s.jsx("input",{type:"number",name:"setup_hours",value:i.setup_hours,onChange:ne,placeholder:"e.g., 2",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Internet Upload Speed (Mbps)"}),s.jsx("input",{type:"text",name:"internet_speed",value:i.internet_speed,onChange:ne,placeholder:"e.g., 50",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Event Schedule Provided (Hours Before)"}),s.jsx("input",{type:"number",name:"schedule_hours_before",value:i.schedule_hours_before,onChange:ne,placeholder:"e.g., 48",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Athlete List Provided (Days Before)"}),s.jsx("input",{type:"number",name:"athlete_list_days_before",value:i.athlete_list_days_before,onChange:ne,placeholder:"e.g., 7",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsx("h3",{className:"text-lg font-bold text-white mt-6",children:"Cancellation & Term"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cancellation Fee"}),s.jsx("input",{type:"number",name:"cancellation_fee",value:i.cancellation_fee,onChange:ne,placeholder:"e.g., 500",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Initial Term (Months)"}),s.jsx("input",{type:"number",name:"initial_term_months",value:i.initial_term_months,onChange:ne,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Auto-Renewal Period (Months)"}),s.jsx("input",{type:"number",name:"renewal_period_months",value:i.renewal_period_months,onChange:ne,placeholder:"e.g., 12",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Non-Renewal Notice (Days)"}),s.jsx("input",{type:"number",name:"nonrenewal_notice_days",value:i.nonrenewal_notice_days,onChange:ne,placeholder:"e.g., 60",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Termination Notice (Days)"}),s.jsx("input",{type:"number",name:"termination_notice_days",value:i.termination_notice_days,onChange:ne,placeholder:"e.g., 30",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Remedy Period (Days)"}),s.jsx("input",{type:"number",name:"remedy_period_days",value:i.remedy_period_days,onChange:ne,placeholder:"e.g., 14",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Public Liability Insurance Amount"}),s.jsx("input",{type:"number",name:"pli_amount",value:i.pli_amount,onChange:ne,placeholder:"e.g., 20000000",className:"w-full px-4 py-2 bg-dark-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Custom Contract Notes"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Add event-specific details like geo-blocking, special requirements, or custom terms."})]}),s.jsx("button",{type:"button",onClick:ct,className:"px-3 py-1 bg-purple-600 hover:bg-purple-700 text-white rounded text-sm transition-colors",children:"+ Add Note"})]}),m.length===0&&s.jsx("p",{className:"text-gray-500 text-sm italic mb-4",children:'No custom notes added. Click "+ Add Note" to include event-specific details.'}),m.map((gt,wt)=>s.jsxs("div",{className:"bg-dark-800 p-4 rounded-lg mb-4 border border-purple-900",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-purple-400",children:["Custom Note ",wt+1]}),s.jsx("button",{type:"button",onClick:()=>pt(wt),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Note Title"}),s.jsx("input",{type:"text",value:gt.title,onChange:rr=>Ue(wt,"title",rr.target.value),placeholder:"e.g., Geo-Blocking Requirements, Special Access, etc.",className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Note Content"}),s.jsx("textarea",{value:gt.content,onChange:rr=>Ue(wt,"content",rr.target.value),placeholder:"Enter the details for this custom note...",rows:3,className:"w-full px-3 py-2 bg-dark-700 border border-gray-600 rounded text-white focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]})]},wt))]})]}),r===6&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-4",children:["Step 6: ",t?"Review & Save":"Sign Contract"]}),t&&E?.ffm_signature&&s.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-green-200 text-sm mb-3",children:" This contract already has an FFM signature. You can update the contract details without re-signing, or provide a new signature below if needed."}),s.jsx("div",{className:"bg-white p-2 rounded inline-block",children:s.jsx("img",{src:E.ffm_signature,alt:"Existing FFM Signature",className:"max-h-24"})}),s.jsxs("p",{className:"text-green-300 text-xs mt-2",children:["Signed: ",new Date(E.ffm_signed_at).toLocaleString()]})]}),s.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4",children:s.jsx("p",{className:"text-yellow-200 text-sm",children:t?" Review your changes. If you want to update the signature, draw a new one below and check the confirmation box.":" By signing this contract, you confirm that all information provided is accurate and you are authorized to create this agreement on behalf of Fit Focus Media."})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t?"New FFM Signature (optional)":"FFM Signature"}),s.jsx(Mne,{onSignatureChange:gt=>Y(gt)})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"confirmSignature",checked:X,onChange:gt=>te(gt.target.checked),className:"w-4 h-4 text-blue-600 bg-dark-800 border-gray-700 rounded focus:ring-2 focus:ring-blue-500"}),s.jsx("label",{htmlFor:"confirmSignature",className:"ml-2 text-sm font-medium text-gray-300",children:t?"I want to update the signature with the new one above":"I confirm this is my signature and I am authorized to sign this contract"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r>1&&s.jsx("button",{type:"button",onClick:Se,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:" Previous"}),s.jsx("button",{type:"button",onClick:Tt,disabled:y,className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-800 text-white rounded-lg transition-colors flex items-center gap-2",children:y?s.jsx(s.Fragment,{children:" Saving..."}):s.jsx(s.Fragment,{children:" Save Draft"})}),de&&s.jsxs("span",{className:"text-xs text-gray-500",children:["Saved ",de.toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r<Ay&&s.jsx("button",{type:"button",onClick:Ye,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Next "}),r===Ay&&s.jsx("button",{type:"submit",disabled:g,className:"px-6 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white rounded-lg transition-colors",children:g?t?"Updating Contract...":"Creating Contract...":t?"Update Contract":"Sign & Send Contract"})]})]})]})]}),I&&s.jsx("div",{className:"lg:sticky lg:top-8 lg:h-[calc(100vh-4rem)]",children:s.jsxs("div",{className:"bg-dark-900 rounded-lg p-6 border border-gray-800 overflow-y-auto h-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Live Preview"}),s.jsx("div",{className:"text-sm",dangerouslySetInnerHTML:{__html:yF(bt)}})]})})]})]})}function IDe(){const{id:t}=Lf(),[e,r]=T.useState(null),[n,i]=T.useState(!0),a=$c();T.useEffect(()=>{o()},[t]);const o=async()=>{try{const p=await Lne(t);r(p)}catch(p){console.error("Error loading contract:",p),alert("Contract not found"),a("/portal/contracts")}finally{i(!1)}},[c,u]=T.useState(!1),l=async()=>{const p=xO(e.share_token);try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(p);else{const g=document.createElement("textarea");g.value=p,g.style.position="fixed",g.style.left="-9999px",document.body.appendChild(g),g.focus(),g.select(),document.execCommand("copy"),document.body.removeChild(g)}u(!0),setTimeout(()=>u(!1),3e3)}catch{alert(`Copy this link:

`+p)}},d=()=>{const{subject:p,body:g}=NDe(e.share_token,e.contract_data?.promoter_name||"there",e.org_name||"Organization"),y=`mailto:${e.contract_data?.promoter_email||""}?subject=${encodeURIComponent(p)}&body=${encodeURIComponent(g)}`;window.open(y,"_blank"),navigator.clipboard.writeText(xO(e.share_token)).catch(()=>{})},f=()=>{window.print()},m=async()=>{if(confirm("Are you sure you want to delete this contract? This cannot be undone."))try{await C3e(e.id),alert("Contract deleted successfully."),a("/portal/contracts")}catch(p){console.error("Error deleting contract:",p),alert("Failed to delete contract: "+p.message)}};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})}):e?s.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-6 print:hidden",children:[s.jsx("button",{onClick:()=>a("/portal/contracts"),className:"text-gray-400 hover:text-white mb-2 inline-flex items-center gap-2",children:" Back to Dashboard"}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:e.org_name||"Untitled Contract"}),s.jsx("p",{className:"text-gray-400",children:e.promoter_name||"No promoter name"})]}),s.jsxs("span",{className:Dne(e.status),children:[bF(e.status)," ",e.status]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3 mb-6 print:hidden",children:[s.jsx("button",{onClick:l,className:`px-4 py-2 ${c?"bg-green-600":"bg-gray-700 hover:bg-gray-600"} text-white rounded-lg transition-colors`,children:c?" Copied!":" Copy Link"}),e.status!=="signed"&&s.jsx("button",{onClick:d,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Send to Client"}),s.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:" Download PDF"}),e.status!=="signed"&&s.jsx("button",{onClick:()=>a(`/portal/contracts/${e.id}/edit`),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors",children:" Edit Contract"}),s.jsx("button",{onClick:m,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors ml-auto",children:" Delete"})]}),s.jsx("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800",dangerouslySetInnerHTML:{__html:yF(e)}})]}):null}function BDe(){const{shareToken:t}=Lf(),[e,r]=T.useState(null),[n,i]=T.useState(!0),[a,o]=T.useState(!1),[c,u]=T.useState(null);T.useEffect(()=>{l()},[t]);const l=async()=>{try{const m=await T3e(t);r(m),m.status==="sent"&&!m.viewed_at&&(await N3e(m.id),r({...m,status:"viewed",viewed_at:new Date().toISOString()}))}catch(m){console.error("Error loading contract:",m),alert("Contract not found")}finally{i(!1)}},d=async()=>{if(!c||!Rne(c)){alert("Please sign before submitting.");return}if(confirm("By signing, you agree to all terms and conditions in this agreement. This action cannot be undone.")){o(!0);try{const m=vO(c),p=await L3e(e.id,m,!0);r(p),alert("Contract signed successfully! Both parties will receive confirmation.")}catch(m){console.error("Error submitting signature:",m),alert("Failed to submit signature: "+m.message)}finally{o(!1)}}};if(n)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Loading contract..."})});if(!e)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contract Not Found"}),s.jsx("p",{className:"text-gray-400",children:"This contract link may be invalid or expired."})]})});const f=e.status!=="signed"&&!e.client_signature&&e.ffm_signature;return s.jsxs("div",{className:"min-h-screen bg-dark-950",children:[s.jsx("header",{className:"bg-dark-900 border-b border-gray-800 print:hidden",children:s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Fit Focus Media"}),s.jsx("p",{className:"text-gray-400",children:"Event Media Coverage Agreement"})]}),s.jsxs("span",{className:Dne(e.status),children:[bF(e.status)," ",e.status]})]})})}),s.jsxs("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800 mb-8",dangerouslySetInnerHTML:{__html:yF(e)}}),f&&s.jsxs("div",{className:"bg-dark-900 rounded-lg p-8 border border-gray-800 print:hidden",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Sign Agreement"}),s.jsx("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-yellow-200 text-sm",children:" By signing this agreement, you acknowledge that you have read, understood, and agree to all terms and conditions outlined above. This signature is legally binding."})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Signature"}),s.jsx(Mne,{onSignatureChange:m=>u(m)})]}),s.jsx("button",{onClick:d,disabled:a,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-800 text-white font-medium py-3 px-6 rounded-lg transition-colors",children:a?"Submitting...":" Accept & Sign Contract"})]}),e.status==="signed"&&s.jsxs("div",{className:"bg-green-900/20 border border-green-600 rounded-lg p-6 text-center print:hidden",children:[s.jsx("div",{className:"text-5xl mb-3",children:""}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Contract Fully Executed"}),s.jsx("p",{className:"text-gray-300",children:"This contract has been signed by both parties. Both parties will receive confirmation."})]})]})]})}async function y_(){const{data:t,error:e}=await jr.from("crm_leads").select("*").order("priority_score",{ascending:!1});return e?(console.error("Error fetching leads:",e),[]):t||[]}async function PDe(t){const{data:e,error:r}=await jr.from("crm_leads").select("*").eq("id",t).single();return r?(console.error("Error fetching lead:",r),null):e}async function Fne(t,e){const{data:r,error:n}=await jr.from("crm_leads").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw console.error("Error updating lead:",n),n;return r}async function fw(t){const{data:e,error:r}=await jr.from("crm_activities").select("*").eq("lead_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching activities:",r),[]):e||[]}async function lK(t,e){const{data:r,error:n}=await jr.from("crm_activities").insert([{lead_id:t,type:e.type,notes:e.notes,created_at:new Date().toISOString()}]).select().single();if(n)throw console.error("Error adding activity:",n),n;return await jr.from("crm_leads").update({last_contact:new Date().toISOString()}).eq("id",t),r}async function ODe(t,e){const{data:r,error:n}=await jr.from("crm_activities").update({type:e.type,notes:e.notes}).eq("id",t).select().single();if(n)throw console.error("Error updating activity:",n),n;return r}async function RDe(t){const{error:e}=await jr.from("crm_activities").delete().eq("id",t);if(e)throw console.error("Error deleting activity:",e),e;return!0}const Une=[{id:"cold-outreach",name:"Cold Outreach",subject:"{{org_name}}  free event coverage?",body:`{{decision_maker || "Hey"}},

I'll keep this short.

We film {{sport}} events  multi-camera, professional grade, full match coverage for every athlete. Livestream if you want it.

Here's the thing: you pay nothing.

We make money when athletes buy their footage through our portal after the event. You get free professional coverage. Athletes get content they actually want. Everyone wins.

We just covered NBA Sydney Nationals  400 athletes across 2 days. The org paid $0.

If that sounds interesting, I'll explain how it works in 10 minutes. If not, no worries.

Brandon
0411 934 935`},{id:"follow-up-1",name:"Follow-up #1",subject:"Re: {{org_name}} coverage",body:`{{decision_maker || "Hey"}},

Following up on my last email.

I know you're busy running events, so here's the short version:

 Professional multi-camera coverage for {{org_name}}
 Athletes buy their own footage (you don't lift a finger)
 You pay nothing. Ever.

We've done this for grappling comps, bodybuilding shows, and fight nights. Happy to send examples if useful.

10 minutes to see if it fits?

Brandon
0411 934 935`},{id:"meeting-request",name:"Meeting Request",subject:"{{org_name}}  quick call?",body:`{{decision_maker || "Hey"}},

Thanks for getting back.

Here's what I'll cover (10 min max):
1. How the zero-cost model works (and why there's no catch)
2. What your athletes would actually receive
3. What we'd need from you (almost nothing)

Send me a time that works or just call me direct.

Brandon
0411 934 935`},{id:"post-meeting",name:"Post-Meeting Follow-up",subject:"{{org_name}}  next steps",body:`{{decision_maker || "Hey"}},

Good chat. Here's the recap:

WHAT YOU GET (at zero cost):
 Multi-camera coverage, every mat, every match
 Livestream/PPV if you want it
 Event highlight reel for your socials
 Full photo gallery

WHAT ATHLETES GET:
 Professional footage of their matches
 Access through our portal
 Delivered within days of the event

WHAT IT COSTS YOU:
 $0 upfront
 $0 ongoing
 We make money on athlete purchases only

NEXT STEP:
I'm sending the agreement now. Read it, flag anything, we lock in the dates.

Questions? Call me.

Brandon
0411 934 935`},{id:"breakup",name:"Breakup Email",subject:"{{org_name}}  closing the loop",body:`{{decision_maker || "Hey"}},

I've sent a few emails about covering {{org_name}} events. Haven't heard back, so I'll assume the timing's not right.

All good. If you ever want professional coverage at no cost, the offer stands.

Good luck with the season.

Brandon`}];function DDe(){return Une}function MDe(t,e){const r=Une.find(u=>u.id===t);if(!r)return null;const n={org_name:e.org_name||"",decision_maker:e.contact?.decision_maker||"",sport:e.sport||"",upcoming_event:e.events?.upcoming?.[0]||"",event_date:e.events?.upcoming?.[0]?.split(":")?.[1]?.trim()||""};let i=r.subject,a=r.body;const o=/\{\{(\w+)\s*\|\|\s*"([^"]*)"\}\}/g;i=i.replace(o,(u,l,d)=>n[l]||d),a=a.replace(o,(u,l,d)=>n[l]||d);const c=/\{\{(\w+)\}\}/g;return i=i.replace(c,(u,l)=>n[l]||""),a=a.replace(c,(u,l)=>n[l]||""),{subject:i,body:a}}async function $ne(){const t=await y_(),{data:e}=await jr.from("crm_activities").select("*").order("created_at",{ascending:!1}),r=e||[],n={new:0,contacted:0,meeting:0,proposal:0,negotiating:0,signed:0,lost:0};t.forEach(g=>{const x=g.stage||"new";n.hasOwnProperty(x)&&n[x]++});const i=t.length,a=t.filter(g=>!["signed","lost","do_not_contact"].includes(g.stage)).length,o=n.signed,c=i>0?Math.round(o/i*100):0;let u=0;t.forEach(g=>{if(["proposal","negotiating","signed"].includes(g.stage)){const x=g.revenue_potential?.match(/\$(\d+)K/);x&&(u+=parseInt(x[1])*1e3)}});const l=new Date,d=new Date(l);d.setDate(l.getDate()-l.getDay()),d.setHours(0,0,0,0);const f=r.filter(g=>g.type==="Meeting"&&new Date(g.created_at)>=d).length,m=r.slice(0,10).map(g=>{const x=t.find(y=>y.id===g.lead_id);return{...g,lead_name:x?.org_name||"Unknown"}}),p={1:0,2:0,3:0};return t.forEach(g=>{p.hasOwnProperty(g.tier)&&p[g.tier]++}),{totalLeads:i,activeLeads:a,signedLeads:o,conversionRate:c,pipelineValue:u,meetingsThisWeek:f,stageCounts:n,tierCounts:p,recentActivities:m}}const yO=[{touch:1,name:"Initial Outreach",daysAfterPrevious:0,type:"initial"},{touch:2,name:"Value-Add Follow-up",daysAfterPrevious:3,type:"value"},{touch:3,name:"Social Proof",daysAfterPrevious:5,type:"proof"},{touch:4,name:"Meeting Request",daysAfterPrevious:5,type:"meeting"},{touch:5,name:"Permission to Close",daysAfterPrevious:7,type:"breakup"}];function FDe(t,e=1){if(!t)return null;const r=new Date(t),n=yO[e];if(!n)return null;let i=0;for(let o=1;o<=e;o++)i+=yO[o].daysAfterPrevious;const a=new Date(r);return a.setDate(a.getDate()+i),{touch:n.touch,name:n.name,type:n.type,dueDate:a,daysUntilDue:Math.ceil((a-new Date)/(1e3*60*60*24))}}function UDe(t){let e=1;(t.stage==="contacted"||t.stage==="meeting"||t.stage==="proposal")&&(e=1);const r=FDe(t.last_contact,e);if(!r)return{status:"complete",...t};const{daysUntilDue:n}=r;let i="upcoming";return n<0?i="overdue":n===0?i="today":n<=2&&(i="soon"),{...t,nextTouch:r,status:i,daysUntilDue:n}}function $De(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[i,a]=T.useState("all");T.useEffect(()=>{o()},[]);const o=async()=>{n(!0);try{const p=(await y_()).filter(g=>["new","contacted","meeting"].includes(g.stage)&&g.last_contact);e(p.map(UDe))}catch(m){console.error("Error loading leads:",m)}finally{n(!1)}},u=i==="all"?t:t.filter(m=>m.status===i),l=t.filter(m=>m.status==="overdue").length,d=t.filter(m=>m.status==="today").length,f=t.filter(m=>m.status==="soon").length;return r?s.jsx("div",{className:"text-gray-400",children:"Loading follow-ups..."}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Follow-Up Scheduler"}),s.jsx("p",{className:"text-gray-400 text-xs sm:text-sm mt-1",children:"5-Touch outreach strategy tracker"})]}),s.jsxs("div",{className:"flex gap-4 sm:gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-500",children:l}),s.jsx("div",{className:"text-xs text-gray-400",children:"Overdue"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-500",children:d}),s.jsx("div",{className:"text-xs text-gray-400",children:"Today"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-500",children:f}),s.jsx("div",{className:"text-xs text-gray-400",children:"Soon"})]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["all","overdue","today","soon","upcoming"].map(m=>s.jsx("button",{onClick:()=>a(m),className:`px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all ${i===m?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))}),u.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 sm:p-8 text-center text-gray-400",children:[s.jsx(oE,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 text-green-500"}),s.jsxs("p",{className:"text-sm sm:text-base",children:["No follow-ups ",i!=="all"?i:"needed","!"]})]}):s.jsx("div",{className:"space-y-3",children:u.map(m=>s.jsx("div",{className:`bg-gray-800 rounded-lg p-3 sm:p-4 border-l-4 ${m.status==="overdue"?"border-red-500":m.status==="today"?"border-yellow-500":m.status==="soon"?"border-blue-500":"border-gray-600"}`,children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 flex-wrap",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white truncate",children:m.org_name}),s.jsxs("span",{className:`px-2 py-0.5 sm:py-1 rounded text-xs font-medium flex-shrink-0 ${m.tier===1?"bg-red-900 text-red-200":m.tier===2?"bg-yellow-900 text-yellow-200":"bg-blue-900 text-blue-200"}`,children:["Tier ",m.tier]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 text-xs sm:text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nu,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:["Touch ",m.nextTouch.touch,": ",m.nextTouch.name]})]}),s.jsxs("div",{className:"flex items-center gap-4 sm:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsxs("span",{children:["Due: ",m.nextTouch.dueDate.toLocaleDateString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jf,{className:"w-3 h-3 sm:w-4 sm:h-4 flex-shrink-0"}),s.jsx("span",{className:m.status==="overdue"?"text-red-400 font-medium":m.status==="today"?"text-yellow-400 font-medium":"text-gray-400",children:m.daysUntilDue===0?"Today":m.daysUntilDue<0?`${Math.abs(m.daysUntilDue)} days overdue`:`In ${m.daysUntilDue} days`})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-auto",children:[m.status==="overdue"&&s.jsx(M0,{className:"w-5 h-5 text-red-500 hidden sm:block"}),s.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap",children:"Send Follow-Up"})]})]})},m.id))}),s.jsxs("details",{className:"bg-gray-800 rounded-lg",children:[s.jsxs("summary",{className:"p-3 sm:p-4 text-xs sm:text-sm font-bold text-white cursor-pointer list-none flex items-center justify-between",children:["5-Touch Strategy Timeline",s.jsx("span",{className:"text-gray-500 text-xs",children:"tap to expand"})]}),s.jsxs("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 space-y-2 text-xs sm:text-sm",children:[yO.map((m,p)=>s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-gray-400",children:[s.jsxs("span",{className:"font-mono text-[10px] sm:text-xs bg-gray-700 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded",children:["T",m.touch]}),s.jsx("span",{className:"flex-1 text-xs sm:text-sm",children:m.name}),s.jsx("span",{className:"text-[10px] sm:text-xs",children:p===0?"Initial":`+${m.daysAfterPrevious} days`})]},m.touch)),s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700 text-[10px] sm:text-xs text-gray-500",children:" Research shows 80% of sales happen between Touch 5-12. Don't give up early!"})]})]})]})}const vI=["#ef4444","#f59e0b","#3b82f6"],py={new:"#6b7280",contacted:"#3b82f6",meeting:"#8b5cf6",proposal:"#eab308",negotiating:"#f97316",signed:"#10b981"};function HDe(){const t=$c(),[e,r]=T.useState(null),[n,i]=T.useState([]),[a,o]=T.useState(!0),[c,u]=T.useState(""),[l,d]=T.useState(""),[f,m]=T.useState("");T.useEffect(()=>{p()},[]);const p=async()=>{o(!0);try{const[w,E]=await Promise.all([$ne(),y_()]);r(w),i(E)}catch(w){console.error("Error loading CRM data:",w)}finally{o(!1)}},g=()=>{let w=n;return c&&(w=w.filter(E=>E.tier===parseInt(c))),l&&(w=w.filter(E=>E.sport?.toLowerCase().includes(l.toLowerCase()))),f&&(w=w.filter(E=>E.stage===f)),w};if(a)return s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Loading CRM data..."})});const x=[{name:"New",value:e.stageCounts.new,color:py.new},{name:"Contacted",value:e.stageCounts.contacted,color:py.contacted},{name:"Meeting",value:e.stageCounts.meeting,color:py.meeting},{name:"Proposal",value:e.stageCounts.proposal,color:py.proposal},{name:"Negotiating",value:e.stageCounts.negotiating,color:py.negotiating},{name:"Signed",value:e.stageCounts.signed,color:py.signed}],y=[{name:"Tier 1",value:e.tierCounts[1]||0,color:vI[0]},{name:"Tier 2",value:e.tierCounts[2]||0,color:vI[1]},{name:"Tier 3",value:e.tierCounts[3]||0,color:vI[2]}].filter(w=>w.value>0);return s.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-6 lg:px-8 py-4 sm:py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-black text-white tracking-tight",children:[s.jsx("span",{className:"text-red-500",children:"CRM"})," DASHBOARD"]}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto",children:[s.jsxs("button",{onClick:p,className:"bg-gray-700 hover:bg-gray-600 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-all flex items-center justify-center gap-2 text-xs sm:text-sm flex-1 sm:flex-none",children:[s.jsx(U0,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),"Refresh"]}),s.jsx("button",{onClick:()=>t("/portal/pipeline/board"),className:"bg-red-600 hover:bg-red-700 text-white px-4 sm:px-6 py-2 rounded-lg font-bold transition-all hover:scale-105 text-xs sm:text-sm flex-1 sm:flex-none whitespace-nowrap",children:"View Pipeline Board"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[s.jsx(sh,{size:16,className:"text-gray-500 sm:w-5 sm:h-5"}),s.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Total Leads"})]}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white",children:e.totalLeads})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[s.jsx(Tf,{size:16,className:"text-pink-500 sm:w-5 sm:h-5"}),s.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Conversion"})]}),s.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-pink-500",children:[e.conversionRate,"%"]})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[s.jsx(jf,{size:16,className:"text-purple-500 sm:w-5 sm:h-5"}),s.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Meetings"})]}),s.jsx("div",{className:"text-2xl sm:text-3xl font-black text-purple-500",children:e.meetingsThisWeek})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-3 sm:p-5 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[s.jsx(Wh,{size:16,className:"text-red-400 sm:w-5 sm:h-5"}),s.jsx("div",{className:"text-[9px] sm:text-[11px] font-bold text-gray-500 tracking-wider sm:tracking-widest uppercase",children:"Pipeline"})]}),s.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-red-400",children:["$",(e.pipelineValue/1e3).toFixed(0),"K"]})]})]}),s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsx($De,{})}),s.jsxs("div",{className:"hidden sm:grid md:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"md:col-span-2 bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Pipeline Funnel"}),s.jsx(dC,{width:"100%",height:200,children:s.jsxs(fne,{data:x,layout:"vertical",children:[s.jsx(cF,{type:"number",stroke:"#6b7280"}),s.jsx(uF,{dataKey:"name",type:"category",stroke:"#6b7280",width:80,tick:{fontSize:12}}),s.jsx(hb,{dataKey:"value",radius:[0,8,8,0],children:x.map((w,E)=>s.jsx(r1,{fill:w.color},`cell-${E}`))})]})})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Leads by Tier"}),s.jsx(dC,{width:"100%",height:200,children:s.jsx(IPe,{children:s.jsx(Ire,{data:y,cx:"50%",cy:"50%",innerRadius:50,outerRadius:75,dataKey:"value",label:w=>`${w.name}: ${w.value}`,children:y.map((w,E)=>s.jsx(r1,{fill:w.color},`cell-${E}`))})})})]})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50 mb-4 sm:mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[s.jsx(L3,{size:16,className:"text-gray-500 sm:w-5 sm:h-5"}),s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:"Quick Filters"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4",children:[s.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[s.jsx("option",{value:"",children:"All Tiers"}),s.jsx("option",{value:"1",children:"Tier 1"}),s.jsx("option",{value:"2",children:"Tier 2"}),s.jsx("option",{value:"3",children:"Tier 3"})]}),s.jsxs("select",{value:f,onChange:w=>m(w.target.value),className:"px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"meeting",children:"Meeting Booked"}),s.jsx("option",{value:"proposal",children:"Proposal Sent"}),s.jsx("option",{value:"negotiating",children:"Negotiating"}),s.jsx("option",{value:"signed",children:"Signed"}),s.jsx("option",{value:"lost",children:"Lost"})]}),s.jsx("input",{type:"text",value:l,onChange:w=>d(w.target.value),placeholder:"Filter by sport...",className:"col-span-2 sm:col-span-1 px-3 sm:px-4 py-2 sm:py-3 bg-[#12122a] border border-gray-800/50 rounded-lg sm:rounded-xl text-white placeholder-gray-600 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40"})]}),(c||l||f)&&s.jsx("div",{className:"mt-3 sm:mt-4",children:s.jsxs("div",{className:"text-xs sm:text-sm text-gray-400",children:["Showing ",g().length," of ",e.totalLeads," leads"]})})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50 mb-4 sm:mb-6",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Recent Activity"}),e.recentActivities.length===0?s.jsx("div",{className:"text-gray-500 text-center py-6 sm:py-8 text-sm",children:"No recent activity"}):s.jsx("div",{className:"space-y-2 sm:space-y-3",children:e.recentActivities.map(w=>s.jsxs("div",{className:"flex items-start gap-3 sm:gap-4 p-3 sm:p-4 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-gray-700 transition-all",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 sm:w-10 sm:h-10 bg-red-600/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-red-400 text-base sm:text-xl",children:w.type==="Phone Call"?"":w.type==="Email"?"":w.type==="Meeting"?"":""})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("span",{className:"font-bold text-white text-sm sm:text-base",children:w.lead_name}),s.jsx("span",{className:"text-gray-600",children:""}),s.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-gray-500 uppercase",children:w.type})]}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mb-1 line-clamp-2",children:w.notes}),s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600",children:new Date(w.created_at).toLocaleDateString("en-AU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]},w.id))})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-4 sm:p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Follow-up Reminders"}),s.jsxs("div",{className:"text-gray-500 text-center py-6 sm:py-8 text-sm",children:["No pending follow-ups",s.jsx("div",{className:"text-xs sm:text-sm mt-2",children:"Add activities with due dates to see reminders here"})]})]})]})}const QDe=[{id:"new",name:"New",color:"bg-gray-600",textColor:"text-gray-300"},{id:"contacted",name:"Contacted",color:"bg-blue-600",textColor:"text-blue-400"},{id:"meeting",name:"Meeting Booked",color:"bg-purple-600",textColor:"text-purple-400"},{id:"proposal",name:"Proposal Sent",color:"bg-yellow-600",textColor:"text-yellow-400"},{id:"negotiating",name:"Negotiating",color:"bg-orange-600",textColor:"text-orange-400"},{id:"signed",name:"Signed",color:"bg-green-600",textColor:"text-green-400"},{id:"lost",name:"Lost",color:"bg-red-600",textColor:"text-red-400"}];function zDe({lead:t,onDragStart:e}){const r=$c(),n=i=>i>=80?"bg-red-600 text-red-100":i>=60?"bg-orange-600 text-orange-100":"bg-gray-600 text-gray-100";return s.jsxs("div",{draggable:!0,onDragStart:e,onClick:()=>r(`/portal/pipeline/leads/${t.id}`),className:"bg-[#12122a] rounded-lg p-4 border border-gray-800/50 hover:border-gray-700 cursor-move hover:bg-[#16162e] transition-all group",children:[s.jsx("h4",{className:"font-bold text-white group-hover:text-red-400 transition-colors mb-2 line-clamp-2",children:t.org_name}),s.jsxs("div",{className:"space-y-1.5 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(_q,{size:14}),s.jsx("span",{className:"truncate",children:t.sport})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[s.jsx(pd,{size:14}),s.jsx("span",{className:"truncate",children:t.location})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold ${n(t.priority_score)}`,children:["Priority: ",t.priority_score]}),s.jsxs("span",{className:"text-xs font-bold text-gray-600 uppercase",children:["Tier ",t.tier]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-800/50 space-y-1",children:[s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-bold",children:"Last Contact:"})," ",t.last_contact?new Date(t.last_contact).toLocaleDateString("en-AU"):"Never"]}),t.revenue_potential&&s.jsx("div",{className:"text-xs text-green-400 font-medium",children:t.revenue_potential})]})]})}function VDe({column:t,leads:e,onDrop:r,onDragOver:n}){return s.jsxs("div",{onDrop:r,onDragOver:n,className:"flex flex-col min-h-[500px]",children:[s.jsx("div",{className:`${t.color} rounded-t-xl px-4 py-3 mb-3`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-bold text-white text-sm uppercase tracking-wider",children:t.name}),s.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded-full text-xs font-bold text-white",children:e.length})]})}),s.jsx("div",{className:"flex-1 space-y-3 px-2",children:e.length===0?s.jsx("div",{className:"text-center text-gray-600 text-sm py-8",children:"No leads"}):e.map(i=>s.jsx(zDe,{lead:i,onDragStart:a=>{a.dataTransfer.effectAllowed="move",a.dataTransfer.setData("leadId",i.id)}},i.id))})]})}function KDe(){const t=$c(),[e,r]=T.useState([]),[n,i]=T.useState({totalLeads:0,activeLeads:0,meetingsThisWeek:0,pipelineValue:0}),[a,o]=T.useState(!0);T.useEffect(()=>{c()},[]);const c=async()=>{o(!0);try{const[f,m]=await Promise.all([y_(),$ne()]);r(f),i({totalLeads:m.totalLeads,activeLeads:m.activeLeads,meetingsThisWeek:m.meetingsThisWeek,pipelineValue:m.pipelineValue})}catch(f){console.error("Error loading pipeline data:",f)}finally{o(!1)}},u=async(f,m)=>{f.preventDefault();const p=f.dataTransfer.getData("leadId");if(p)try{await Fne(p,{stage:m}),await c()}catch(g){console.error("Error updating lead:",g)}},l=f=>{f.preventDefault()},d=f=>e.filter(m=>m.stage===f);return a?s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Loading pipeline..."})}):s.jsxs("div",{className:"min-h-screen bg-[#0d0d1a] pb-8",children:[s.jsx("div",{className:"bg-[#1a1a2e] border-b border-gray-800/50 mb-6",children:s.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>t("/portal/pipeline"),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Y0,{size:24})}),s.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight",children:[s.jsx("span",{className:"text-red-500",children:"PIPELINE"})," BOARD"]})]}),s.jsxs("button",{onClick:c,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 text-sm",children:[s.jsx(U0,{size:18}),"Refresh"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(sh,{size:18,className:"text-gray-500"}),s.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Total Leads"})]}),s.jsx("div",{className:"text-2xl font-black text-white",children:n.totalLeads})]}),s.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Tf,{size:18,className:"text-pink-500"}),s.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Active Pipeline"})]}),s.jsx("div",{className:"text-2xl font-black text-pink-500",children:n.activeLeads})]}),s.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cl,{size:18,className:"text-purple-500"}),s.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Meetings This Week"})]}),s.jsx("div",{className:"text-2xl font-black text-purple-500",children:n.meetingsThisWeek})]}),s.jsxs("div",{className:"bg-[#12122a] rounded-xl p-4 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Wh,{size:18,className:"text-red-400"}),s.jsx("div",{className:"text-[10px] font-bold text-gray-500 tracking-widest uppercase",children:"Pipeline Value"})]}),s.jsxs("div",{className:"text-2xl font-black text-red-400",children:["$",(n.pipelineValue/1e3).toFixed(0),"K"]})]})]})]})}),s.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:QDe.map(f=>s.jsx(VDe,{column:f,leads:d(f.id),onDrop:m=>u(m,f.id),onDragOver:l},f.id))})})]})}const xI=[{value:"new",label:"New",color:"bg-gray-600"},{value:"contacted",label:"Contacted",color:"bg-blue-600"},{value:"meeting",label:"Meeting Booked",color:"bg-purple-600"},{value:"proposal",label:"Proposal Sent",color:"bg-yellow-600"},{value:"negotiating",label:"Negotiating",color:"bg-orange-600"},{value:"signed",label:"Signed",color:"bg-green-600"},{value:"lost",label:"Lost",color:"bg-red-600"}],yI=[{value:"Phone Call",icon:""},{value:"Email",icon:""},{value:"Meeting",icon:""},{value:"Note",icon:""},{value:"Follow-up",icon:""}];function GDe(){const{id:t}=Lf(),e=$c(),[r,n]=T.useState(null),[i,a]=T.useState([]),[o,c]=T.useState(!1),[u,l]=T.useState(null),[d,f]=T.useState(!0),[m,p]=T.useState(!1),[g,x]=T.useState(!1),[y,w]=T.useState("Phone Call"),[E,_]=T.useState(""),[N,C]=T.useState(null),[I,D]=T.useState(""),[M,Y]=T.useState("");T.useEffect(()=>{t&&X()},[t]);const X=async()=>{f(!0);try{const[oe,Re]=await Promise.all([PDe(t),fw(t)]);oe&&(n(oe),l(oe),a(Re))}catch(oe){console.error("Error loading lead:",oe)}finally{f(!1)}};if(d)return s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Loading lead..."})});if(!r)return s.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:s.jsx("div",{className:"text-gray-400 text-lg",children:"Lead not found"})});const te=async()=>{p(!0);try{await Fne(t,u),n(u),c(!1)}catch(oe){console.error("Error saving lead:",oe),alert("Error saving lead")}finally{p(!1)}},de=async()=>{if(!E.trim()){alert("Please enter activity notes");return}try{await lK(t,{type:y,notes:E});const oe=await fw(t);a(oe),_(""),x(!1)}catch(oe){console.error("Error adding activity:",oe),alert("Error adding activity")}},ye=oe=>{C(oe.id),D(oe.type),Y(oe.notes)},we=async()=>{try{await ODe(N,{type:I,notes:M});const oe=await fw(t);a(oe),C(null)}catch(oe){console.error("Error updating activity:",oe),alert("Error updating activity")}},ve=async oe=>{if(confirm("Are you sure you want to delete this activity?"))try{await RDe(oe);const Re=await fw(t);a(Re)}catch(Re){console.error("Error deleting activity:",Re),alert("Error deleting activity")}},ne=async oe=>{try{await lK(t,{type:oe,notes:`Quick ${oe.toLowerCase()} logged`});const Re=await fw(t);a(Re)}catch(Re){console.error("Error logging activity:",Re)}},ae=xI.find(oe=>oe.value===r.stage)?.color||"bg-gray-600";return s.jsxs("div",{className:"min-h-screen bg-[#0d0d1a]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>e("/portal/pipeline/board"),className:"text-gray-400 hover:text-white transition-colors",children:s.jsx(Y0,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:r.org_name}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsx("span",{className:"text-sm text-gray-400",children:r.sport}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("span",{className:"text-sm text-gray-400",children:r.location}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("span",{className:"text-sm text-gray-400",children:r.type})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`${ae} px-4 py-2 rounded-lg text-white text-sm font-bold uppercase`,children:xI.find(oe=>oe.value===r.stage)?.label||r.stage}),o?s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:te,disabled:m,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 disabled:opacity-50",children:[s.jsx(yq,{size:16})," ",m?"Saving...":"Save"]}),s.jsxs("button",{onClick:()=>{c(!1),l(r)},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[s.jsx($0,{size:16})," Cancel"]})]}):s.jsxs("button",{onClick:()=>c(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[s.jsx(OB,{size:16})," Edit"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-red-600/20 border border-red-500/30 px-3 py-1 rounded-full",children:s.jsxs("span",{className:"text-red-400 font-bold text-sm",children:["Priority: ",r.priority_score]})}),s.jsx("div",{className:"bg-blue-600/20 border border-blue-500/30 px-3 py-1 rounded-full",children:s.jsxs("span",{className:"text-blue-400 font-bold text-sm",children:["Tier ",r.tier]})}),s.jsx("div",{className:`${r.verification_status==="verified"?"bg-green-600/20 border-green-500/30 text-green-400":"bg-yellow-600/20 border-yellow-500/30 text-yellow-400"} border px-3 py-1 rounded-full`,children:s.jsxs("span",{className:"font-bold text-sm flex items-center gap-1",children:[s.jsx(I0,{size:14})," ",r.verification_status]})})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Contact Information"}),o?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Email"}),s.jsx("input",{type:"email",value:u.contact?.email||"",onChange:oe=>l({...u,contact:{...u.contact,email:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"email@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Phone"}),s.jsx("input",{type:"tel",value:u.contact?.phone||"",onChange:oe=>l({...u,contact:{...u.contact,phone:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"0400 000 000"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Website"}),s.jsx("input",{type:"url",value:u.contact?.website||"",onChange:oe=>l({...u,contact:{...u.contact,website:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Instagram"}),s.jsx("input",{type:"text",value:u.contact?.instagram||"",onChange:oe=>l({...u,contact:{...u.contact,instagram:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"@username"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Facebook"}),s.jsx("input",{type:"text",value:u.contact?.facebook||"",onChange:oe=>l({...u,contact:{...u.contact,facebook:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"PageName"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Contact Form URL"}),s.jsx("input",{type:"url",value:u.contact?.contact_form||"",onChange:oe=>l({...u,contact:{...u.contact,contact_form:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com/contact"})]})]}),s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Decision Maker"}),s.jsx("input",{type:"text",value:u.contact?.decision_maker||"",onChange:oe=>l({...u,contact:{...u.contact,decision_maker:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"Name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1 block",children:"Avatar URL"}),s.jsx("input",{type:"url",value:u.contact?.avatar||"",onChange:oe=>l({...u,contact:{...u.contact,avatar:oe.target.value}}),className:"w-full bg-[#12122a] border border-gray-700 rounded-lg px-3 py-2 text-white text-sm focus:border-red-500 focus:outline-none",placeholder:"https://example.com/photo.jpg"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[(r.contact?.email||o)&&s.jsxs("a",{href:`mailto:${r.contact?.email}`,className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(nu,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Email"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.email||""})]})]}),(r.contact?.phone||o)&&s.jsxs("a",{href:`tel:${r.contact?.phone}`,className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(vx,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Phone"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.phone||""})]})]}),(r.contact?.website||o)&&s.jsxs("a",{href:r.contact?.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(p1,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Website"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.website||""})]})]}),(r.contact?.instagram||o)&&s.jsxs("a",{href:`https://instagram.com/${r.contact?.instagram?.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(XN,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Instagram"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.instagram||""})]})]}),r.contact?.facebook&&s.jsxs("a",{href:`https://facebook.com/${r.contact?.facebook}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(M2,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Facebook"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.facebook||""})]})]}),r.contact?.linkedin&&s.jsxs("a",{href:`https://linkedin.com/in/${r.contact?.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(afe,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"LinkedIn"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400 truncate",children:r.contact?.linkedin||""})]})]}),r.contact?.decision_maker_instagram&&s.jsxs("a",{href:`https://instagram.com/${r.contact?.decision_maker_instagram?.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-[#12122a] rounded-lg border border-gray-800/50 hover:border-red-500/30 transition-all group",children:[s.jsx(Jp,{size:20,className:"text-gray-500 group-hover:text-red-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-0.5",children:"Decision Maker IG"}),s.jsx("div",{className:"text-sm text-gray-300 group-hover:text-red-400",children:r.contact?.decision_maker_instagram||""})]})]})]}),(r.contact?.decision_maker||o)&&s.jsxs("div",{className:"mt-4 p-3 bg-[#12122a] rounded-lg border border-gray-800/50",children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Decision Maker"}),s.jsxs("div",{className:"flex items-center gap-3",children:[r.contact?.avatar&&s.jsx("img",{src:r.contact.avatar,alt:r.contact.decision_maker,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-700"}),s.jsx("div",{className:"text-white font-bold",children:r.contact?.decision_maker||""})]})]})]})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Event Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Cl,{size:20,className:"text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Frequency"}),s.jsx("div",{className:"text-gray-300",children:r.events?.frequency||"Not specified"})]})]}),r.events?.upcoming?.length>0&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(_q,{size:20,className:"text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Upcoming Events"}),s.jsx("div",{className:"text-gray-300 space-y-1",children:r.events.upcoming.map((oe,Re)=>s.jsx("div",{children:oe},Re))})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(pd,{size:20,className:"text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Typical Venue"}),s.jsx("div",{className:"text-gray-300",children:r.events?.typical_venue||"Not specified"})]})]})]})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Media & Revenue Assessment"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-2",children:"Media Quality"}),s.jsx("div",{className:"text-gray-300 text-sm",children:r.media_quality||"Not assessed"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wh,{size:20,className:"text-green-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] font-bold text-gray-600 uppercase mb-1",children:"Revenue Potential"}),s.jsx("div",{className:"text-green-400 font-bold",children:r.revenue_potential||"TBD"})]})]})]})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Internal Notes"}),o?s.jsx("textarea",{value:u.notes||"",onChange:oe=>l({...u,notes:oe.target.value}),rows:4,className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40"}):s.jsx("div",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:r.notes||"No notes"})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Activity Timeline"}),s.jsxs("button",{onClick:()=>x(!g),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 text-sm",children:[s.jsx(Zp,{size:16})," Add Activity"]})]}),g&&s.jsx("div",{className:"mb-6 p-4 bg-[#12122a] rounded-lg border border-gray-800/50",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Activity Type"}),s.jsx("select",{value:y,onChange:oe=>w(oe.target.value),className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:yI.map(oe=>s.jsxs("option",{value:oe.value,children:[oe.icon," ",oe.value]},oe.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Notes"}),s.jsx("textarea",{value:E,onChange:oe=>_(oe.target.value),rows:3,placeholder:"What happened?",className:"w-full px-4 py-3 bg-[#1a1a2e] border border-gray-800/50 rounded-xl text-white placeholder-gray-600 focus:outline-none focus:ring-2 focus:ring-red-500/40"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:de,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all",children:"Add Activity"}),s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg font-medium transition-all",children:"Cancel"})]})]})}),i.length===0?s.jsx("div",{className:"text-center text-gray-500 py-8",children:"No activities yet. Add your first activity above."}):s.jsx("div",{className:"space-y-3",children:i.map(oe=>{const Re=yI.find(be=>be.value===oe.type),Pe=N===oe.id;return s.jsxs("div",{className:"flex items-start gap-4 p-4 bg-[#12122a] rounded-lg border border-gray-800/50",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-600/20 rounded-full flex items-center justify-center text-xl",children:Re?.icon||""}),s.jsx("div",{className:"flex-1 min-w-0",children:Pe?s.jsxs("div",{className:"space-y-3",children:[s.jsx("select",{value:I,onChange:be=>D(be.target.value),className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-700 rounded-lg text-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40",children:yI.map(be=>s.jsxs("option",{value:be.value,children:[be.icon," ",be.value]},be.value))}),s.jsx("textarea",{value:M,onChange:be=>Y(be.target.value),rows:3,className:"w-full px-3 py-2 bg-[#1a1a2e] border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 focus:ring-red-500/40"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:we,className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm",children:"Save"}),s.jsx("button",{onClick:()=>C(null),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white rounded text-sm",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-bold text-gray-500 uppercase",children:oe.type}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("span",{className:"text-xs text-gray-600",children:new Date(oe.created_at).toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric"})})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>ye(oe),className:"p-1 text-gray-500 hover:text-blue-400 transition-colors",title:"Edit",children:s.jsx(OB,{size:14})}),s.jsx("button",{onClick:()=>ve(oe.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Delete",children:s.jsx($0,{size:14})})]})]}),s.jsx("p",{className:"text-sm text-gray-300",children:oe.notes})]})})]},oe.id)})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{onClick:()=>ne("Phone Call"),className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[s.jsx(vx,{size:18})," Log Call"]}),s.jsxs("button",{onClick:()=>e("/portal/outreach"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[s.jsx(nu,{size:18})," Send Email"]}),s.jsxs("button",{onClick:()=>ne("Meeting"),className:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[s.jsx(Cl,{size:18})," Schedule Meeting"]}),s.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-gray-700 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[s.jsx(Zp,{size:18})," Add Note"]})]})]}),o&&s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Change Stage"}),s.jsx("select",{value:u.stage,onChange:oe=>l({...u,stage:oe.target.value}),className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:xI.map(oe=>s.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(wq,{size:18})," Tags"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags?.map((oe,Re)=>s.jsx("span",{className:"px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-xs font-medium",children:oe},Re))})]})]})]})})]})}function WDe(){const[t]=T.useState(DDe()),[e,r]=T.useState(t[0]),[n,i]=T.useState(null),[a,o]=T.useState([]),[c,u]=T.useState(null),[l,d]=T.useState(!1),[f,m]=T.useState(!0),p=T.useRef(null);T.useEffect(()=>{(async()=>{m(!0);const w=await y_();o(w),m(!1)})()},[]),T.useEffect(()=>{if(e&&n){const y=MDe(e.id,n);u(y)}else u(null)},[e,n]);const g=async()=>{const y=c?`Subject: ${c.subject}

${c.body}`:"";if(navigator.clipboard&&window.isSecureContext)try{await navigator.clipboard.writeText(y),d(!0),setTimeout(()=>d(!1),2e3);return}catch{console.log("Clipboard API failed, falling back to textarea method")}if(p.current){p.current.value=y,p.current.style.display="block",p.current.select(),p.current.setSelectionRange(0,99999);try{document.execCommand("copy"),d(!0),setTimeout(()=>d(!1),2e3)}catch{alert("Copy failed. Please select and copy manually.")}p.current.style.display="none"}},x=()=>{if(!c||!n?.contact?.email){alert("No email address available for this lead");return}const y=encodeURIComponent(c.subject),w=encodeURIComponent(c.body),E=`mailto:${n.contact.email}?subject=${y}&body=${w}`;window.location.href=E};return s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("textarea",{ref:p,style:{position:"absolute",left:"-9999px",display:"none"},readOnly:!0}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight mb-2",children:[s.jsx("span",{className:"text-red-500",children:"OUTREACH"})," TEMPLATES"]}),s.jsx("p",{className:"text-gray-400",children:"Pre-built email templates for sales outreach"})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Templates"}),s.jsx("div",{className:"space-y-2",children:t.map(y=>s.jsx("button",{onClick:()=>r(y),className:`w-full text-left px-4 py-3 rounded-lg font-medium transition-all ${e?.id===y.id?"bg-red-600 text-white":"bg-[#12122a] text-gray-300 hover:bg-[#16162e]"}`,children:y.name},y.id))})]}),s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Select Lead"}),s.jsxs("select",{value:n?.id||"",onChange:y=>{const w=a.find(E=>E.id===y.target.value);i(w)},className:"w-full px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500/40",children:[s.jsx("option",{value:"",children:"-- Select a lead --"}),a.filter(y=>y.stage!=="lost"&&y.verification_status!=="do_not_contact").map(y=>s.jsx("option",{value:y.id,children:y.org_name},y.id))]}),n&&s.jsxs("div",{className:"mt-4 p-3 bg-[#12122a] rounded-lg border border-gray-800/50",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Selected Lead"}),s.jsx("div",{className:"text-white font-bold mb-1",children:n.org_name}),s.jsx("div",{className:"text-sm text-gray-400",children:n.sport}),s.jsx("div",{className:"text-sm text-gray-400",children:n.location}),n.contact.email&&s.jsxs("div",{className:"text-sm text-green-400 mt-2 flex items-center gap-1",children:[s.jsx(nu,{size:14})," ",n.contact.email]})]})]})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Preview"}),c&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:g,className:`${l?"bg-green-600":"bg-gray-700 hover:bg-gray-600"} text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2`,children:l?s.jsxs(s.Fragment,{children:[s.jsx(to,{size:16})," Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx($b,{size:16})," Copy to Clipboard"]})}),s.jsxs("button",{onClick:x,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2",children:[s.jsx(nu,{size:16})," Open in Email"]})]})]}),c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Subject Line"}),s.jsx("div",{className:"px-4 py-3 bg-[#12122a] border border-gray-800/50 rounded-xl text-white font-medium",children:c.subject})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-gray-500 uppercase mb-2",children:"Email Body"}),s.jsx("div",{className:"px-4 py-4 bg-[#12122a] border border-gray-800/50 rounded-xl text-gray-300 whitespace-pre-wrap font-mono text-sm leading-relaxed min-h-[400px]",children:c.body})]}),s.jsxs("div",{className:"p-4 bg-blue-600/10 border border-blue-500/20 rounded-lg",children:[s.jsx("div",{className:"text-xs font-bold text-blue-400 uppercase mb-2",children:"Available Variables"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-300",children:[s.jsx("div",{children:s.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{org_name}}"})}),s.jsx("div",{children:s.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{decision_maker}}"})}),s.jsx("div",{children:s.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{sport}}"})}),s.jsx("div",{children:s.jsx("code",{className:"bg-blue-900/30 px-2 py-1 rounded",children:"{{upcoming_event}}"})})]})]})]}):s.jsxs("div",{className:"text-center text-gray-500 py-12",children:[s.jsx(nu,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a template and lead to preview"})]})]}),s.jsxs("div",{className:"mt-4 p-4 bg-green-600/10 border border-green-500/20 rounded-lg",children:[s.jsx("div",{className:"text-xs font-bold text-green-400 uppercase mb-1",children:" Templates Ready"}),s.jsx("div",{className:"text-sm text-green-300",children:"All email templates are pre-configured with FFM branding. Select a lead and template to preview, then copy or open in your email client."})]})]})]}),s.jsxs("div",{className:"mt-8 bg-[#1a1a2e] rounded-xl p-6 border border-gray-800/50",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Outreach Strategy Guide"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Cold Outreach (First Contact)"}),s.jsxs("ul",{className:"space-y-1 text-gray-400",children:[s.jsx("li",{children:" Keep it short and personal"}),s.jsx("li",{children:" Lead with value, not features"}),s.jsx("li",{children:" Mention specific details about their organization"}),s.jsx("li",{children:" End with a clear, low-pressure CTA"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Follow-up #1 (3-5 days later)"}),s.jsxs("ul",{className:"space-y-1 text-gray-400",children:[s.jsx("li",{children:" Acknowledge they're busy"}),s.jsx("li",{children:" Share a relevant work example"}),s.jsx("li",{children:" Reiterate availability"}),s.jsx("li",{children:" Keep it brief"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Meeting Request (After engagement)"}),s.jsxs("ul",{className:"space-y-1 text-gray-400",children:[s.jsx("li",{children:" Be specific about what you'll cover"}),s.jsx("li",{children:" Show you've researched them"}),s.jsx("li",{children:" Offer flexible scheduling"}),s.jsx("li",{children:" Include calendar link if available"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"Post-Meeting (Same day)"}),s.jsxs("ul",{className:"space-y-1 text-gray-400",children:[s.jsx("li",{children:" Send within 2 hours of meeting"}),s.jsx("li",{children:" Recap what was discussed"}),s.jsx("li",{children:" Outline next steps clearly"}),s.jsx("li",{children:" Attach proposal or contract"})]})]})]})]})]})}const bI=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function YDe({session:t,onClose:e,onSave:r}){const[n,i]=T.useState("checklist"),[a,o]=T.useState(!1),[c,u]=T.useState({}),[l,d]=T.useState({}),[f,m]=T.useState({}),[p,g]=T.useState({});T.useEffect(()=>{if(!t)return;const D={};bI.forEach(M=>{D[M.id]={},M.items.forEach(Y=>{const X=t.checklist_config?.[M.id]?.[Y.id]||{};D[M.id][Y.id]={enabled:X.enabled!==!1,priority:X.priority||Y.priority,alreadyHave:X.alreadyHave||!1}})}),u(D),d(t.collected_data||{}),m(t.admin_item_notes||{}),g(t.manual_completions||{})},[t]);const x=(D,M)=>{u(Y=>({...Y,[D]:{...Y[D],[M]:{...Y[D][M],enabled:!Y[D][M].enabled}}}))},y=(D,M)=>{u(Y=>({...Y,[D]:{...Y[D],[M]:{...Y[D][M],alreadyHave:!Y[D][M].alreadyHave}}}))},w=(D,M,Y)=>{u(X=>({...X,[D]:{...X[D],[M]:{...X[D][M],priority:Y}}}))},E=(D,M,Y)=>{m(X=>({...X,[`${D}.${M}`]:Y}))},_=(D,M)=>{const Y=`${D}.${M}`;g(X=>({...X,[Y]:!X[Y]}))},N=(D,M,Y)=>{d(X=>({...X,[D]:{...X[D]||{},[M]:Y}}))},C=async()=>{o(!0);try{const D={checklist_config:c,collected_data:l,admin_item_notes:f,manual_completions:p};await O3e(t.id,D),r&&r(D),e()}catch(D){console.error("Error saving:",D),alert("Failed to save changes: "+D.message)}finally{o(!1)}},I=(D,M)=>{const Y=l[D]||{},X=Y[M]||Y[`${M}_url`],te=p[`${D}.${M}`],de=c[D]?.[M]?.alreadyHave;return te?{status:"manual",label:"Manually Complete",color:"blue"}:X?{status:"complete",label:"Client Provided",color:"green"}:de?{status:"already",label:"Already Have",color:"purple"}:{status:"pending",label:"Pending",color:"gray"}};return t?s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:e,children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-5xl my-8 border border-gray-700 shadow-2xl",onClick:D=>D.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Edit Session"}),s.jsx("p",{className:"text-gray-400",children:t.org_name})]}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-white text-xl",children:""})]}),s.jsx("div",{className:"border-b border-gray-700",children:s.jsx("div",{className:"flex gap-1 px-6",children:[{id:"checklist",label:"Checklist Config",icon:""},{id:"data",label:"Collected Data",icon:""}].map(D=>s.jsxs("button",{onClick:()=>i(D.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${n===D.id?"border-orange-500 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:[s.jsx("span",{children:D.icon})," ",D.label]},D.id))})}),s.jsxs("div",{className:"p-6 max-h-[600px] overflow-y-auto",children:[n==="checklist"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-blue-200 text-sm",children:[s.jsx("strong",{children:" What this does:"}),' Configure what items the client sees, set priorities, mark items as "already have", and add internal notes for your team.']})}),bI.map(D=>s.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:D.icon}),s.jsx("h3",{className:"font-bold text-white",children:D.category})]})}),s.jsx("div",{className:"p-4 space-y-4",children:D.items.map(M=>{const Y=c[D.id]?.[M.id]||{},X=I(D.id,M.id),te=f[`${D.id}.${M.id}`]||"";return s.jsx("div",{className:`p-4 rounded-lg border transition-all ${Y.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-60"}`,children:s.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("button",{onClick:()=>x(D.id,M.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${Y.enabled?"bg-orange-500 border-orange-500":"bg-transparent border-gray-600"}`,children:Y.enabled&&s.jsx("span",{className:"text-white text-sm",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`font-medium ${Y.enabled?"text-white":"text-gray-500"}`,children:M.label}),s.jsx("span",{className:`text-xs px-2 py-1 rounded-full bg-${X.color}-500/20 text-${X.color}-400 border border-${X.color}-500/30`,children:X.label})]}),Y.enabled&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("select",{value:Y.priority,onChange:de=>w(D.id,M.id,de.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-orange-500",children:[s.jsx("option",{value:"essential",children:"Essential"}),s.jsx("option",{value:"important",children:"Important"}),s.jsx("option",{value:"nice",children:"Nice to have"})]}),s.jsx("button",{onClick:()=>y(D.id,M.id),className:`text-xs px-3 py-1 rounded border transition-colors ${Y.alreadyHave?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:Y.alreadyHave?" Already Have":'Mark "Already Have"'}),s.jsx("button",{onClick:()=>_(D.id,M.id),className:`text-xs px-3 py-1 rounded border transition-colors ${p[`${D.id}.${M.id}`]?"bg-blue-500/20 text-blue-400 border-blue-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:p[`${D.id}.${M.id}`]?" Manually Complete":"Mark Complete"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Internal Note (not visible to client)"}),s.jsx("textarea",{value:te,onChange:de=>E(D.id,M.id,de.target.value),placeholder:"e.g., Client sent logo via email - see Drive folder",rows:2,className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500 resize-none"})]})]})]})]})},M.id)})})]},D.id))]}),n==="data"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-yellow-200 text-sm",children:[s.jsx("strong",{children:" Caution:"})," You're editing data the client submitted. Only modify if you need to correct errors or add information on their behalf."]})}),bI.map(D=>{const M=l[D.id]||{};return s.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:D.icon}),s.jsx("h3",{className:"font-bold text-white",children:D.category})]})}),s.jsx("div",{className:"p-4 space-y-4",children:D.items.filter(Y=>c[D.id]?.[Y.id]?.enabled!==!1).map(Y=>{const X=M[Y.id]||"",te=M[`${Y.id}_url`]||"";return s.jsxs("div",{className:"p-3 rounded-lg bg-gray-800/50 border border-gray-700",children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:Y.label}),Y.type==="file"&&s.jsxs("div",{children:[s.jsx("input",{type:"text",value:te,onChange:de=>N(D.id,`${Y.id}_url`,de.target.value),placeholder:"File URL (if uploaded)",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),te&&s.jsx("a",{href:te,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-orange-500 hover:underline mt-1 inline-block",children:"View uploaded file "})]}),Y.type==="text"&&s.jsx("input",{type:"text",value:X,onChange:de=>N(D.id,Y.id,de.target.value),placeholder:Y.placeholder||"",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),Y.type==="number"&&s.jsx("input",{type:"number",value:X,onChange:de=>N(D.id,Y.id,de.target.value),placeholder:Y.placeholder||"",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),Y.type==="textarea"&&s.jsx("textarea",{value:X,onChange:de=>N(D.id,Y.id,de.target.value),placeholder:Y.placeholder||"",rows:3,className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500 resize-none"}),Y.type==="contact"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:M[`${Y.id}_name`]||"",onChange:de=>N(D.id,`${Y.id}_name`,de.target.value),placeholder:"Contact name",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),s.jsx("input",{type:"tel",value:M[`${Y.id}_phone`]||"",onChange:de=>N(D.id,`${Y.id}_phone`,de.target.value),placeholder:"Phone number",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"}),s.jsx("input",{type:"email",value:M[`${Y.id}_email`]||"",onChange:de=>N(D.id,`${Y.id}_email`,de.target.value),placeholder:"Email address",className:"w-full text-sm bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white placeholder-gray-600 focus:outline-none focus:border-orange-500"})]})]},Y.id)})})]},D.id)})]})]}),s.jsxs("div",{className:"p-6 border-t border-gray-700 flex justify-end gap-3",children:[s.jsx("button",{onClick:e,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:C,disabled:a,className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white rounded-lg transition-colors flex items-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):s.jsx(s.Fragment,{children:" Save Changes"})})]})]})}):null}const cK=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list",type:"file"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan",type:"file"},{id:"internet_specs",label:"Internet specs",type:"textarea"},{id:"power_locations",label:"Power outlet locations",type:"textarea"},{id:"load_in_time",label:"Load-in/crew access time",type:"text"},{id:"venue_contact",label:"Venue contact for event day",type:"contact"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number"},{id:"schedule",label:"Event schedule/run sheet",type:"file"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text"},{id:"org_facebook",label:"Organization Facebook",type:"text"},{id:"org_website",label:"Organization Website",type:"text"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file"},{id:"existing_content_links",label:"Links to existing footage",type:"textarea"}]}],qDe=t=>{if(!t)return{icon:Z8,type:"file",isImage:!1};const e=t.toLowerCase();return e.match(/\.(jpg|jpeg|png|gif|webp|svg|bmp)(\?|$)/i)?{icon:L0,type:"image",isImage:!0}:e.match(/\.(mp4|mov|avi|webm|mkv)(\?|$)/i)?{icon:Vd,type:"video",isImage:!1}:e.match(/\.(mp3|wav|aac|ogg|m4a)(\?|$)/i)?{icon:yfe,type:"audio",isImage:!1}:e.match(/\.(pdf|doc|docx|xls|xlsx|ppt|pptx|txt|csv)(\?|$)/i)?{icon:Hb,type:"document",isImage:!1}:e.match(/\.(zip|rar|7z|tar|gz)(\?|$)/i)?{icon:fq,type:"archive",isImage:!1}:{icon:Z8,type:"file",isImage:!1}},XDe=t=>{if(!t)return"File";try{const n=new URL(t).pathname.split("/").pop(),i=decodeURIComponent(n);return i.length>40?i.substring(0,37)+"...":i}catch{return"File"}};function ZDe({url:t,label:e}){const{icon:r,type:n,isImage:i}=qDe(t),a=XDe(t);return s.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"group block",children:s.jsxs("div",{className:"border border-gray-700 rounded-xl overflow-hidden hover:border-orange-500/50 transition-all",children:[s.jsxs("div",{className:"bg-gray-900 aspect-video flex items-center justify-center relative overflow-hidden",children:[i?s.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:o=>{o.target.style.display="none",o.target.nextSibling.style.display="flex"}}):null,s.jsxs("div",{className:`flex flex-col items-center justify-center text-gray-500 ${i?"hidden":""}`,style:i?{display:"none"}:{},children:[s.jsx(r,{size:48,className:"mb-2"}),s.jsx("span",{className:"text-xs uppercase tracking-wide",children:n})]}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-3",children:s.jsx("div",{className:"bg-orange-500 text-white p-2 rounded-full",children:s.jsx(OE,{size:20})})})]}),s.jsxs("div",{className:"p-3 bg-gray-800",children:[s.jsx("p",{className:"text-sm text-white truncate",children:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e})]})]})})}function JDe({value:t,isUrl:e}){return t?Array.isArray(t)?t.length===0?s.jsx("span",{className:"text-gray-500 italic",children:"No links provided"}):s.jsx("div",{className:"space-y-1",children:t.map((r,n)=>s.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 break-all flex items-center gap-1 block",children:[" ",r.includes("drive.google")?"Google Drive":r.includes("dropbox")?"Dropbox":"External"," link",s.jsx(OE,{size:14})]},n))}):e||t.startsWith("http://")||t.startsWith("https://")?s.jsxs("a",{href:t.startsWith("http")?t:`https://${t}`,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-400 break-all flex items-center gap-1",children:[t,s.jsx(OE,{size:14})]}):t.includes(`
`)?s.jsx("p",{className:"text-white whitespace-pre-wrap",children:t}):s.jsx("span",{className:"text-white",children:t}):s.jsx("span",{className:"text-gray-500 italic",children:"Not provided"})}function eMe({data:t,itemId:e}){const r=t[`${e}_name`],n=t[`${e}_phone`],i=t[`${e}_email`];return!r&&!n&&!i?s.jsx("span",{className:"text-gray-500 italic",children:"Not provided"}):s.jsxs("div",{className:"space-y-1",children:[r&&s.jsx("p",{className:"text-white font-medium",children:r}),n&&s.jsxs("a",{href:`tel:${n}`,className:"text-orange-500 hover:text-orange-400 block",children:[" ",n]}),i&&s.jsxs("a",{href:`mailto:${i}`,className:"text-orange-500 hover:text-orange-400 block",children:[" ",i]})]})}function tMe({data:t,files:e=[],checklistConfig:r}){const[n,i]=T.useState(new Set(cK.map(f=>f.id))),a=r||cK,o=(f,m)=>{const p=a.find(x=>x.id===f);return p&&p.items.find(x=>x.id===m)?.label||null},c={};for(const f of e){if(!f.category)continue;c[f.category]||(c[f.category]=[]);const m=o(f.category,f.file_type);c[f.category].push({id:f.file_type||f.id,label:m||f.file_type||"Uploaded file",url:f.drive_file_url||f.public_url,fileName:f.file_name,mimeType:f.mime_type})}const u=f=>{i(m=>{const p=new Set(m);return p.has(f)?p.delete(f):p.add(f),p})},l=f=>{if(c[f]?.length>0)return!0;const m=t?.[f];return m?Object.values(m).some(p=>p&&p!==""):!1},d=f=>{const m=t?.[f.id]||{},p=c[f.id]||[];let g=0,x=f.items.length;const y=new Set(p.map(w=>w.id));return f.items.forEach(w=>{if(w.type==="file")(y.has(w.id)||m[`${w.id}_url`])&&g++;else if(w.type==="contact")(m[`${w.id}_name`]||m[`${w.id}_phone`]||m[`${w.id}_email`])&&g++;else{const E=m[w.id];E&&E!==""&&g++}}),{completed:g,total:x}};return!t||Object.keys(t).length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{children:"No information collected yet"})}):s.jsx("div",{className:"space-y-4",children:a.map(f=>{const m=t[f.id]||{},p=n.has(f.id),g=l(f.id),x=d(f),y=c[f.id]||[],w=new Set(y.map(C=>C.id)),E=f.items.filter(C=>C.type==="file").filter(C=>!w.has(C.id)).map(C=>({...C,url:m[`${C.id}_url`]||m[C.id]})).filter(C=>C.url&&C.url.startsWith("http")),_=[...y,...E],N=f.items.filter(C=>C.type!=="file");return s.jsxs("div",{className:`border rounded-xl overflow-hidden transition-colors ${g?"border-gray-700 bg-gray-800/50":"border-gray-800 bg-gray-900/30"}`,children:[s.jsxs("button",{onClick:()=>u(f.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:f.icon}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold text-white",children:f.category}),s.jsxs("p",{className:"text-xs text-gray-500",children:[x.completed,"/",x.total," items provided"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[x.completed===x.total?s.jsx("span",{className:"text-green-400 text-sm",children:" Complete"}):x.completed>0?s.jsxs("span",{className:"text-yellow-400 text-sm",children:[x.completed,"/",x.total]}):s.jsx("span",{className:"text-gray-500 text-sm",children:"Empty"}),p?s.jsx(MT,{size:20,className:"text-gray-400"}):s.jsx(px,{size:20,className:"text-gray-400"})]})]}),p&&s.jsxs("div",{className:"border-t border-gray-700 p-4",children:[_.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:["Files (",_.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:_.map((C,I)=>s.jsx(ZDe,{url:C.url,label:C.label||C.fileName||"Uploaded file"},C.id||I))})]}),N.length>0&&s.jsxs("div",{className:_.length>0?"mt-4 pt-4 border-t border-gray-700":"",children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"Details"}),s.jsx("div",{className:"space-y-4",children:N.map(C=>{const I=m[C.id],D=C.type==="contact"?m[`${C.id}_name`]||m[`${C.id}_phone`]||m[`${C.id}_email`]:I&&I!=="";return s.jsxs("div",{className:`${D?"":"opacity-50"}`,children:[s.jsx("label",{className:"text-sm text-gray-400 block mb-1",children:C.label}),C.type==="contact"?s.jsx(eMe,{data:m,itemId:C.id}):s.jsx(JDe,{value:I,isUrl:C.id.includes("website")||C.id.includes("facebook")||C.id.includes("instagram")})]},C.id)})})]}),Object.entries(m).filter(([C,I])=>C.endsWith("_links")&&Array.isArray(I)&&I.length>0).length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700",children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"External Links"}),s.jsx("div",{className:"space-y-4",children:Object.entries(m).filter(([C,I])=>C.endsWith("_links")&&Array.isArray(I)&&I.length>0).map(([C,I])=>{const D=C.replace(/_links$/,""),Y=f.items.find(X=>X.id===D)?.label||D.replace(/_/g," ").replace(/\b\w/g,X=>X.toUpperCase());return s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm text-gray-400 block mb-1",children:[Y," (external links)"]}),s.jsx("div",{className:"space-y-1",children:I.map((X,te)=>s.jsxs("a",{href:X,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 break-all flex items-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm",children:[s.jsx("span",{children:""}),s.jsxs("span",{className:"flex-1 truncate",children:[X.includes("drive.google")?"Google Drive":X.includes("dropbox")?"Dropbox":"External"," link"]}),s.jsx(OE,{size:14})]},te))})]},C)})})]}),_.length===0&&N.every(C=>{const I=m[C.id];return C.type==="contact"?!(m[`${C.id}_name`]||m[`${C.id}_phone`]||m[`${C.id}_email`]):!I||I===""})&&s.jsx("p",{className:"text-gray-500 text-center py-4 italic",children:"No information provided for this category"})]})]},f.id)})})}function rMe(){const t=$c(),[e,r]=T.useState([]),[n,i]=T.useState([]),[a,o]=T.useState(!0),[c,u]=T.useState(null),[l,d]=T.useState(null),[f,m]=T.useState([]),[p,g]=T.useState("all"),[x,y]=T.useState(""),[w,E]=T.useState(!1),[_,N]=T.useState(!1),[C,I]=T.useState(!1),[D,M]=T.useState(!1),[Y,X]=T.useState({org_name:"",contact_name:"",contact_email:"",contact_phone:"",event_name:"",event_date:"",event_location:""});T.useEffect(()=>{te()},[]);const te=async()=>{try{const[he,Ie]=await Promise.all([B3e(),gF()]);r(he||[]),i(Ie||[])}catch(he){u(he.message)}finally{o(!1)}},de=async he=>{he.preventDefault(),M(!0);try{const Ie=await Ine(Y);r(Oe=>[Ie,...Oe]),E(!1),X({org_name:"",contact_name:"",contact_email:"",contact_phone:"",event_name:"",event_date:"",event_location:""})}catch(Ie){alert("Error: "+Ie.message)}finally{M(!1)}},ye=async he=>{try{await M3e(he,"Brandon Hibbs"),await te(),d(null)}catch(Ie){alert("Error: "+Ie.message)}},we=async he=>{if(confirm("Are you sure you want to delete this onboarding session? This cannot be undone."))try{await F3e(he),r(Ie=>Ie.filter(Oe=>Oe.id!==he)),d(null)}catch(Ie){alert("Error deleting session: "+Ie.message)}},ve=he=>{r(Ie=>Ie.map(Oe=>Oe.id===l.id?{...Oe,...he}:Oe)),d(Ie=>({...Ie,...he})),I(!1)},ne=async he=>{d(he);try{const Ie=await H3e(he.id);m(Ie||[])}catch(Ie){console.error("Error fetching files:",Ie),m([])}},ae=he=>{const Ie={pending:"bg-yellow-500/20 text-yellow-400",in_progress:"bg-blue-500/20 text-blue-400",submitted:"bg-green-500/20 text-green-400",reviewed:"bg-purple-500/20 text-purple-400"},Oe={pending:"Pending",in_progress:"In Progress",submitted:"Submitted",reviewed:"Reviewed"};return s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${Ie[he]||Ie.pending}`,children:Oe[he]||"Unknown"})},oe=he=>{const Ie=he.checklist_progress||{},Oe=18,$e=Object.values(Ie).filter(De=>De).length;return Math.round($e/Oe*100)},Re=e.filter(he=>!(p!=="all"&&he.status!==p||x&&!he.org_name?.toLowerCase().includes(x.toLowerCase()))),Pe=he=>`${window.location.origin}/#/onboarding/${he}`,be=n.filter(he=>he.status==="signed");return a?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full"})}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[s.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>t("/portal/contracts"),className:"text-gray-400 hover:text-white",children:" Back"}),s.jsx("h1",{className:"text-xl font-bold",children:"Partner Onboarding"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>N(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:" From Contract"}),s.jsx("button",{onClick:()=>E(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-2",children:" New Session"})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total",value:e.length,color:"orange"},{label:"Pending",value:e.filter(he=>he.status==="pending").length,color:"yellow"},{label:"Submitted",value:e.filter(he=>he.status==="submitted").length,color:"green"},{label:"Reviewed",value:e.filter(he=>he.status==="reviewed").length,color:"purple"}].map((he,Ie)=>s.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[s.jsx("div",{className:`text-3xl font-bold text-${he.color}-500`,children:he.value}),s.jsx("div",{className:"text-sm text-gray-500",children:he.label})]},Ie))})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-6",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("input",{type:"text",placeholder:"Search organizations...",value:x,onChange:he=>y(he.target.value),className:"flex-1 max-w-xs px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),s.jsxs("select",{value:p,onChange:he=>g(he.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"submitted",children:"Submitted"}),s.jsx("option",{value:"reviewed",children:"Reviewed"})]})]})}),s.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-12",children:Re.length===0?s.jsxs("div",{className:"bg-gray-800 rounded-xl p-12 text-center border border-gray-700",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("p",{className:"text-gray-400",children:"No onboarding sessions found"}),s.jsx("button",{onClick:()=>E(!0),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg text-sm",children:"Create First Session"})]}):s.jsx("div",{className:"space-y-3",children:Re.map(he=>s.jsx("div",{onClick:()=>ne(he),className:"bg-gray-800 rounded-xl p-5 border border-gray-700 hover:border-gray-600 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:he.org_name}),ae(he.status)]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[he.event_name&&s.jsxs("span",{children:[" ",he.event_name]}),he.contact_name&&s.jsxs("span",{children:[" ",he.contact_name]}),he.event_date&&s.jsxs("span",{children:[" ",new Date(he.event_date).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-orange-500",children:[oe(he),"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Complete"})]})]})},he.id))})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>d(null),children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-auto border border-gray-700",onClick:he=>he.stopPropagation(),children:[s.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:l.org_name}),ae(l.status)]}),s.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-white text-xl",children:""})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Event Details"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[l.event_name&&s.jsxs("p",{children:[s.jsx("strong",{children:"Event:"})," ",l.event_name]}),l.event_date&&s.jsxs("p",{children:[s.jsx("strong",{children:"Date:"})," ",new Date(l.event_date).toLocaleDateString()]}),l.event_location&&s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",l.event_location]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Contact"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[l.contact_name&&s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",l.contact_name]}),l.contact_email&&s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("a",{href:`mailto:${l.contact_email}`,className:"text-orange-500",children:l.contact_email})]}),l.contact_phone&&s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",s.jsx("a",{href:`tel:${l.contact_phone}`,className:"text-orange-500",children:l.contact_phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Progress"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1 h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-orange-500",style:{width:`${oe(l)}%`}})}),s.jsxs("span",{className:"font-bold text-orange-500",children:[oe(l),"%"]})]})]}),l.collected_data&&Object.keys(l.collected_data).length>0||f.length>0?s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-3",children:"Collected Information"}),s.jsx(tMe,{data:l.collected_data,files:f})]}):null,s.jsxs("div",{children:[s.jsx("h4",{className:"text-xs text-gray-500 uppercase mb-2",children:"Google Drive Status"}),l.drive_folder_id?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-400",children:""}),s.jsx("span",{className:"text-sm",children:"Synced to Google Drive"})]}),(l.shared_with||[]).length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Team access:"}),l.shared_with.map((he,Ie)=>s.jsxs("span",{className:"text-xs text-gray-400",children:[he.email,Ie<l.shared_with.length-1?", ":""]},Ie))]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"text-sm text-gray-400",children:"Pending sync (runs every 10 min)"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>I(!0),className:"bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-sm",children:" Edit Session"}),s.jsx("a",{href:Pe(l.share_token),target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" View Portal"}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Pe(l.share_token)),alert("Link copied!")},className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" Copy Link"}),l.drive_folder_id&&s.jsx("a",{href:l.drive_folder_url||`https://drive.google.com/drive/folders/${l.drive_folder_id}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm",children:" View Drive Folder"}),l.status==="submitted"&&s.jsx("button",{onClick:()=>ye(l.id),className:"bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg text-sm",children:" Mark Reviewed"}),s.jsx("button",{onClick:()=>we(l.id),className:"bg-red-600 hover:bg-red-500 text-white px-4 py-2 rounded-lg text-sm",children:" Delete"})]})]})]})}),w&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>E(!1),children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full border border-gray-700",onClick:he=>he.stopPropagation(),children:[s.jsx("div",{className:"p-6 border-b border-gray-700",children:s.jsx("h2",{className:"text-lg font-bold",children:"Create Onboarding Session"})}),s.jsxs("form",{onSubmit:de,className:"p-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization Name *"}),s.jsx("input",{required:!0,value:Y.org_name,onChange:he=>X({...Y,org_name:he.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Name"}),s.jsx("input",{value:Y.contact_name,onChange:he=>X({...Y,contact_name:he.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Email"}),s.jsx("input",{type:"email",value:Y.contact_email,onChange:he=>X({...Y,contact_email:he.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),s.jsx("input",{value:Y.event_name,onChange:he=>X({...Y,event_name:he.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Date"}),s.jsx("input",{type:"date",value:Y.event_date,onChange:he=>X({...Y,event_date:he.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),s.jsx("input",{value:Y.event_location,onChange:he=>X({...Y,event_location:he.target.value}),className:"w-full px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:border-orange-500 focus:outline-none"})]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:D,className:"flex-1 py-2 bg-orange-500 hover:bg-orange-600 rounded-lg disabled:opacity-50",children:D?"Creating...":"Create"})]})]})]})}),_&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>N(!1),children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl max-w-md w-full border border-gray-700",onClick:he=>he.stopPropagation(),children:[s.jsx("div",{className:"p-6 border-b border-gray-700",children:s.jsx("h2",{className:"text-lg font-bold",children:"Create From Signed Contract"})}),s.jsxs("div",{className:"p-6",children:[be.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8",children:"No signed contracts available"}):s.jsx("div",{className:"space-y-2 max-h-80 overflow-auto",children:be.map(he=>{const Ie=e.some(Oe=>Oe.contract_id===he.id);return s.jsxs("button",{onClick:()=>!Ie&&t(`/portal/onboarding/new?contractId=${he.id}`),disabled:Ie,className:`w-full p-4 rounded-xl text-left transition-colors ${Ie?"bg-gray-700/50 cursor-not-allowed opacity-50":"bg-gray-700 hover:bg-gray-600"}`,children:[s.jsx("div",{className:"font-medium",children:he.org_name}),s.jsx("div",{className:"text-sm text-gray-400",children:he.promoter_name}),Ie&&s.jsx("div",{className:"text-xs text-orange-500 mt-1",children:"Session already exists"})]},he.id)})}),s.jsx("button",{onClick:()=>N(!1),className:"w-full mt-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Close"})]})]})}),C&&l&&s.jsx(YDe,{session:l,onClose:()=>I(!1),onSave:ve})]})}const mw=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",priority:"nice"}]}];function nMe(){const t=$c(),[e]=W0(),[r,n]=T.useState(1),[i,a]=T.useState([]),[o,c]=T.useState(null),[u,l]=T.useState(!0),[d,f]=T.useState(!1),[m]=T.useState(()=>e.get("contractId")),[p,g]=T.useState({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""}),[x,y]=T.useState(()=>{const qe={};return mw.forEach(Tt=>{qe[Tt.id]={},Tt.items.forEach(bt=>{qe[Tt.id][bt.id]={enabled:!0,priority:bt.priority,alreadyHave:!1,prefilledValue:""}})}),qe}),[w,E]=T.useState({}),[_,N]=T.useState({}),[C,I]=T.useState(null),[D,M]=T.useState(""),[Y,X]=T.useState("text"),[te,de]=T.useState(null);T.useEffect(()=>{ye()},[]),T.useEffect(()=>{m&&i.length>0&&!o&&i.find(Tt=>Tt.id===m)&&we(m)},[i,m]);const ye=async()=>{try{const Tt=(await gF()).filter(bt=>bt.status==="signed");a(Tt)}catch(qe){console.error("Error loading contracts:",qe)}finally{l(!1)}},we=async qe=>{if(!qe){c(null),oe();return}const Tt=i.find(rr=>rr.id===qe);if(!Tt)return;c(Tt);const bt=Tt.contract_data||{};let gt=null;try{gt=await j3e(Tt.org_name)}catch(rr){console.log("No CRM lead found:",rr)}const wt=gt?.contact||{};g({orgName:Tt.org_name||"",contactName:Tt.promoter_name||Tt.contact_name||"",email:Tt.promoter_email||Tt.contact_email||"",phone:Tt.promoter_phone||Tt.contact_phone||"",eventName:bt.event_name||"",eventDate:bt.event_date||"",eventLocation:bt.event_location||bt.venue||"",contractId:Tt.id,orgInstagram:ne(wt.instagram||bt.org_instagram||""),orgFacebook:ae(wt.facebook||bt.org_facebook||""),orgWebsite:wt.website||bt.org_website||""}),Re("social","org_instagram",ne(wt.instagram||bt.org_instagram||"")),Re("social","org_facebook",ae(wt.facebook||bt.org_facebook||"")),Re("social","org_website",wt.website||bt.org_website||"")},ve=async qe=>{const Tt=qe.target.value;we(Tt)},ne=qe=>qe?qe.startsWith("@")?qe:`@${qe}`:"",ae=qe=>qe?qe.startsWith("http")?qe:`https://facebook.com/${qe.replace(/^@/,"").replace(/^\//,"")}`:"",oe=()=>{g({orgName:"",contactName:"",email:"",phone:"",eventName:"",eventDate:"",eventLocation:"",contractId:"",orgInstagram:"",orgFacebook:"",orgWebsite:""})},Re=(qe,Tt,bt)=>{y(gt=>({...gt,[qe]:{...gt[qe],[Tt]:{...gt[qe][Tt],prefilledValue:bt}}}))},Pe=qe=>{const{name:Tt,value:bt}=qe.target;g(gt=>({...gt,[Tt]:bt})),w[Tt]&&E(gt=>({...gt,[Tt]:""}))},be=(qe,Tt)=>{y(bt=>({...bt,[qe]:{...bt[qe],[Tt]:{...bt[qe][Tt],enabled:!bt[qe][Tt].enabled}}}))},he=(qe,Tt)=>{y(bt=>({...bt,[qe]:{...bt[qe],[Tt]:{...bt[qe][Tt],alreadyHave:!bt[qe][Tt].alreadyHave}}}))},Ie=(qe,Tt,bt)=>{y(gt=>({...gt,[qe]:{...gt[qe],[Tt]:{...gt[qe][Tt],priority:bt}}}))},Oe=qe=>{if(!D.trim())return;const Tt=`custom_${Date.now()}`,bt={id:Tt,label:D.trim(),type:Y,priority:"important",isCustom:!0};N(gt=>({...gt,[qe]:[...gt[qe]||[],bt]})),y(gt=>({...gt,[qe]:{...gt[qe],[Tt]:{enabled:!0,priority:"important",alreadyHave:!1,prefilledValue:"",isCustom:!0,label:D.trim(),type:Y}}})),M(""),X("text"),I(null)},$e=(qe,Tt)=>{N(bt=>({...bt,[qe]:(bt[qe]||[]).filter(gt=>gt.id!==Tt)})),y(bt=>{const gt={...bt};return gt[qe][Tt]?.isCustom?delete gt[qe][Tt]:gt[qe][Tt]={...gt[qe][Tt],enabled:!1},gt})},De=(qe,Tt,bt)=>{bt.trim()&&(N(gt=>({...gt,[qe]:(gt[qe]||[]).map(wt=>wt.id===Tt?{...wt,label:bt.trim()}:wt)})),y(gt=>({...gt,[qe]:{...gt[qe],[Tt]:{...gt[qe][Tt],label:bt.trim()}}})),de(null))},ct=qe=>{const Tt=qe.items,bt=_[qe.id]||[];return[...Tt,...bt]},pt=()=>{const qe={};return p.orgName.trim()||(qe.orgName="Organization name is required"),p.contactName.trim()||(qe.contactName="Contact name is required"),p.email.trim()?/\S+@\S+\.\S+/.test(p.email)||(qe.email="Email is invalid"):qe.email="Email is required",p.eventDate||(qe.eventDate="Event date is required"),E(qe),Object.keys(qe).length===0},Ue=()=>{r===1?pt()&&n(2):r===2&&n(3)},He=()=>{r>1?n(r-1):t("/portal/onboarding")},Ye=async()=>{f(!0);try{const qe={};mw.forEach(wt=>{wt.items.forEach(rr=>{const Jt=x[wt.id][rr.id];Jt.enabled&&Jt.prefilledValue&&(qe[wt.id]||(qe[wt.id]={}),qe[wt.id][rr.id]=Jt.prefilledValue)})});const Tt={};Object.keys(x).forEach(wt=>{Tt[wt]={},Object.keys(x[wt]).forEach(rr=>{const Jt=x[wt][rr];Tt[wt][rr]={enabled:Jt.enabled,priority:Jt.priority,alreadyHave:Jt.alreadyHave,...Jt.isCustom?{isCustom:!0,label:Jt.label,type:Jt.type}:{}}})});const bt={org_name:p.orgName,contact_name:p.contactName,contact_email:p.email,contact_phone:p.phone,event_name:p.eventName,event_date:p.eventDate,event_location:p.eventLocation,contract_id:p.contractId||null,collected_data:qe,checklist_config:Tt},gt=await Ine(bt);t(`/portal/onboarding/${gt.id}`)}catch(qe){console.error("Error creating onboarding:",qe),alert("Failed to create onboarding session: "+qe.message)}finally{f(!1)}},mt=(()=>{let qe=0,Tt=0;return mw.forEach(bt=>{ct(bt).forEach(wt=>{Tt++,x[bt.id]?.[wt.id]?.enabled&&qe++})}),{enabled:qe,total:Tt}})();return u?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] flex items-center justify-center",children:s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-red-500 border-t-transparent rounded-full"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e] py-8 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("button",{onClick:He,className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[s.jsx(Y0,{size:20}),"Back"]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex items-center justify-center gap-4",children:[{num:1,label:"Contract & Details"},{num:2,label:"Customize Checklist"},{num:3,label:"Preview & Confirm"}].map((qe,Tt)=>s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:`flex items-center gap-3 ${r>=qe.num?"opacity-100":"opacity-40"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 ${r>=qe.num?"bg-red-500 border-red-500 text-white":"bg-transparent border-gray-600 text-gray-600"}`,children:r>qe.num?s.jsx(to,{size:20}):qe.num}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("div",{className:"text-sm font-medium text-white",children:qe.label})})]}),Tt<2&&s.jsx(gx,{size:20,className:r>qe.num?"text-red-500":"text-gray-600"})]},qe.num))})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs(Fr.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[r===1&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:s.jsx(Hb,{className:"text-red-500",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Contract & Details"}),s.jsx("p",{className:"text-gray-400",children:"Select contract or enter details manually"})]})]}),s.jsxs("div",{className:"space-y-5",children:[i.length>0&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-white mb-2",children:[s.jsx(nm,{className:"inline mr-2",size:16}),"Link to Existing Contract (Auto-fill)"]}),s.jsxs("select",{value:o?.id||"",onChange:ve,className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-red-500 transition-colors",children:[s.jsx("option",{value:"",children:"Create from scratch"}),s.jsx("optgroup",{label:"Signed Contracts",children:i.map(qe=>s.jsxs("option",{value:qe.id,children:[qe.org_name," - ",qe.promoter_name||qe.contact_name]},qe.id))})]}),o&&s.jsxs("p",{className:"text-sm text-green-400 mt-2 flex items-center gap-2",children:[s.jsx(to,{size:16})," Contract data loaded! Review and edit below."]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"orgName",className:"block text-sm font-bold text-white mb-2",children:["Organization Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"orgName",name:"orgName",value:p.orgName,onChange:Pe,placeholder:"e.g., Eternal MMA",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${w.orgName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.orgName&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.orgName})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"contactName",className:"block text-sm font-bold text-white mb-2",children:["Contact Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"contactName",name:"contactName",value:p.contactName,onChange:Pe,placeholder:"Primary contact person",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${w.contactName?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.contactName&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.contactName})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-bold text-white mb-2",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",name:"email",value:p.email,onChange:Pe,placeholder:"contact@org.com",className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none transition-colors ${w.email?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.email&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phone",className:"block text-sm font-bold text-white mb-2",children:"Phone"}),s.jsx("input",{type:"tel",id:"phone",name:"phone",value:p.phone,onChange:Pe,placeholder:"0400 000 000",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"eventName",className:"block text-sm font-bold text-white mb-2",children:"Event Name"}),s.jsx("input",{type:"text",id:"eventName",name:"eventName",value:p.eventName,onChange:Pe,placeholder:"e.g., Summer Showdown 2026",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"eventDate",className:"block text-sm font-bold text-white mb-2",children:["Event Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"date",id:"eventDate",name:"eventDate",value:p.eventDate,onChange:Pe,className:`w-full bg-gray-900/50 border rounded-lg px-4 py-3 text-white focus:outline-none transition-colors ${w.eventDate?"border-red-500":"border-gray-700 focus:border-red-500"}`}),w.eventDate&&s.jsx("p",{className:"text-red-400 text-sm mt-1",children:w.eventDate})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"eventLocation",className:"block text-sm font-bold text-white mb-2",children:"Event Location"}),s.jsx("input",{type:"text",id:"eventLocation",name:"eventLocation",value:p.eventLocation,onChange:Pe,placeholder:"e.g., Brisbane Convention Centre",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors"})]})]})]})]}),r===2&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:s.jsx(Mfe,{className:"text-red-500",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Customize Checklist"}),s.jsx("p",{className:"text-gray-400",children:"Toggle items, set priorities, mark what they already have"})]})]}),s.jsx("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/30 rounded-lg p-4",children:s.jsxs("p",{className:"text-blue-200 text-sm flex items-start gap-2",children:[s.jsx(M0,{size:18,className:"flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Disabled items won't show to the client."}),` Use "Already Have" to pre-check items they've provided. Change priorities to indicate urgency.`]})]})}),s.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto pr-2",children:mw.map(qe=>{const Tt=ct(qe),bt=Tt.filter(gt=>x[qe.id]?.[gt.id]?.enabled).length;return s.jsxs("div",{className:"bg-gray-900/50 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-700 bg-gray-800/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:qe.icon}),s.jsx("h3",{className:"font-bold text-white",children:qe.category}),s.jsxs("span",{className:"text-sm text-gray-400 ml-auto",children:[bt,"/",Tt.length," enabled"]})]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[Tt.map(gt=>{const wt=x[qe.id]?.[gt.id]||{enabled:!0,priority:gt.priority},rr=gt.isCustom||wt.isCustom,Jt=wt.label||gt.label,ar=te?.categoryId===qe.id&&te?.itemId===gt.id;return s.jsx("div",{className:`p-3 rounded-lg border transition-all ${wt.enabled?"bg-gray-800/50 border-gray-700":"bg-gray-900/30 border-gray-800 opacity-50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("button",{onClick:()=>be(qe.id,gt.id),className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${wt.enabled?"bg-red-500 border-red-500":"bg-transparent border-gray-600"}`,children:wt.enabled&&s.jsx(to,{size:16,className:"text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[ar?s.jsx("div",{className:"flex items-center gap-2 flex-1",children:s.jsx("input",{type:"text",defaultValue:Jt,autoFocus:!0,onKeyDown:Dr=>{Dr.key==="Enter"?De(qe.id,gt.id,Dr.target.value):Dr.key==="Escape"&&de(null)},onBlur:Dr=>De(qe.id,gt.id,Dr.target.value),className:"flex-1 bg-gray-900 border border-red-500 rounded px-2 py-1 text-white text-sm focus:outline-none"})}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`font-medium ${wt.enabled?"text-white":"text-gray-500"}`,children:Jt}),rr&&s.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded border border-purple-500/30",children:"Custom"}),rr&&wt.enabled&&s.jsx("button",{onClick:()=>de({categoryId:qe.id,itemId:gt.id,label:Jt}),className:"text-gray-500 hover:text-white transition-colors",children:s.jsx(Sfe,{size:14})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[wt.prefilledValue&&s.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full border border-green-500/30",children:"Pre-filled "}),s.jsx("button",{onClick:()=>$e(qe.id,gt.id),className:"text-gray-500 hover:text-red-400 transition-colors",title:rr?"Remove field":"Disable field",children:s.jsx(g1,{size:16})})]})]}),wt.enabled&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("select",{value:wt.priority||"important",onChange:Dr=>Ie(qe.id,gt.id,Dr.target.value),className:"text-xs bg-gray-900 border border-gray-700 rounded px-2 py-1 text-white focus:outline-none focus:border-red-500",children:[s.jsx("option",{value:"essential",children:"Essential"}),s.jsx("option",{value:"important",children:"Important"}),s.jsx("option",{value:"nice",children:"Nice to have"})]}),s.jsx("button",{onClick:()=>he(qe.id,gt.id),className:`text-xs px-3 py-1 rounded border transition-colors ${wt.alreadyHave?"bg-green-500/20 text-green-400 border-green-500/30":"bg-gray-900 text-gray-400 border-gray-700"}`,children:wt.alreadyHave?" Already Have":'Mark as "Already Have"'}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",gt.type||wt.type||"text",")"]})]})]})]})},gt.id)}),C===qe.id?s.jsxs("div",{className:"p-3 rounded-lg border border-dashed border-green-500/50 bg-green-500/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:D,onChange:gt=>M(gt.target.value),placeholder:"Field label...",autoFocus:!0,onKeyDown:gt=>{gt.key==="Enter"&&Oe(qe.id),gt.key==="Escape"&&I(null)},className:"flex-1 bg-gray-900 border border-gray-700 rounded px-3 py-2 text-white text-sm placeholder-gray-500 focus:outline-none focus:border-green-500"}),s.jsxs("select",{value:Y,onChange:gt=>X(gt.target.value),className:"bg-gray-900 border border-gray-700 rounded px-2 py-2 text-white text-sm focus:outline-none focus:border-green-500",children:[s.jsx("option",{value:"text",children:"Text"}),s.jsx("option",{value:"textarea",children:"Long Text"}),s.jsx("option",{value:"file",children:"File Upload"}),s.jsx("option",{value:"number",children:"Number"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Oe(qe.id),disabled:!D.trim(),className:"flex-1 bg-green-600 hover:bg-green-500 disabled:bg-gray-700 text-white text-sm font-medium py-2 rounded transition-colors",children:"Add Field"}),s.jsx("button",{onClick:()=>{I(null),M(""),X("text")},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded transition-colors",children:"Cancel"})]})]}):s.jsxs("button",{onClick:()=>I(qe.id),className:"w-full p-3 rounded-lg border border-dashed border-gray-700 hover:border-green-500/50 hover:bg-green-500/5 text-gray-500 hover:text-green-400 transition-all flex items-center justify-center gap-2",children:[s.jsx(_he,{size:18}),"Add Custom Field"]})]})]},qe.id)})})]}),r===3&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center",children:s.jsx(F0,{className:"text-red-500",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Review & Confirm"}),s.jsx("p",{className:"text-gray-400",children:"Everything looks good? Create the onboarding session!"})]})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[s.jsx("h3",{className:"font-bold text-white mb-3",children:"Organization Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Organization:"}),s.jsx("div",{className:"text-white font-medium",children:p.orgName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Contact:"}),s.jsx("div",{className:"text-white font-medium",children:p.contactName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Email:"}),s.jsx("div",{className:"text-white font-medium",children:p.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Phone:"}),s.jsx("div",{className:"text-white font-medium",children:p.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Event:"}),s.jsx("div",{className:"text-white font-medium",children:p.eventName||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Date:"}),s.jsx("div",{className:"text-white font-medium",children:p.eventDate})]})]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[s.jsx("h3",{className:"font-bold text-white mb-3",children:"Checklist Configuration"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-500",children:mt.enabled}),s.jsx("div",{className:"text-xs text-gray-500",children:"Enabled Items"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-500",children:mt.total-mt.enabled}),s.jsx("div",{className:"text-xs text-gray-500",children:"Disabled Items"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-500",children:Object.keys(x).reduce((qe,Tt)=>qe+Object.keys(x[Tt]).filter(bt=>x[Tt][bt].prefilledValue).length,0)}),s.jsx("div",{className:"text-xs text-gray-500",children:"Pre-filled"})]})]})]})]}),mt.enabled<mt.total/2&&s.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-yellow-200 text-sm flex items-start gap-2",children:[s.jsx(M0,{size:18,className:"flex-shrink-0 mt-0.5"}),s.jsx("span",{children:"You've disabled more than half the checklist items. Make sure this is intentional  clients need these details for quality coverage."})]})})]})]},r),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:He,className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all font-medium border border-gray-700",children:r===1?"Cancel":"Back"}),r<3?s.jsxs("button",{onClick:Ue,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white font-bold rounded-lg transition-all shadow-lg shadow-red-500/20 flex items-center justify-center gap-2",children:["Next Step",s.jsx(gx,{size:20})]}):s.jsx("button",{onClick:Ye,disabled:d,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 disabled:from-gray-600 disabled:to-gray-500 text-white font-bold rounded-lg transition-all shadow-lg shadow-green-500/20 flex items-center justify-center gap-2",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zp,{size:20}),"Create Onboarding Session"]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx("div",{className:"sticky top-6",children:s.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(F0,{size:20,className:"text-red-500"}),s.jsx("h3",{className:"font-bold text-white",children:"Client Preview"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["This is what ",p.orgName||"the client"," will see"]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-800 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-800 px-3 py-2 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-lg"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs font-semibold text-white",children:"Fit Focus Media"}),s.jsx("div",{className:"text-[10px] text-gray-500",children:p.orgName||"Organization"})]})]})}),s.jsxs("div",{className:"p-4 space-y-3 max-h-[500px] overflow-y-auto",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"text-gray-500 text-xs mb-2",children:"Event Details"}),s.jsx("div",{className:"text-white font-medium",children:p.eventName||"Event Name"}),s.jsx("div",{className:"text-gray-400 text-xs",children:p.eventDate||"Date not set"})]}),s.jsxs("div",{className:"border-t border-gray-800 pt-3",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Checklist (",mt.enabled," items)"]}),mw.map(qe=>{const bt=ct(qe).filter(gt=>x[qe.id]?.[gt.id]?.enabled);return bt.length===0?null:s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"text-xs font-medium text-white flex items-center gap-2 mb-1",children:[s.jsx("span",{children:qe.icon}),qe.category]}),s.jsx("div",{className:"space-y-1",children:bt.map(gt=>{const wt=x[qe.id]?.[gt.id]||{},rr=wt.label||gt.label;return s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("div",{className:`w-3 h-3 rounded border ${wt.alreadyHave?"bg-green-500 border-green-500":"border-gray-600"}`,children:wt.alreadyHave&&s.jsx(to,{size:10,className:"text-white"})}),s.jsxs("span",{className:`flex-1 ${wt.alreadyHave?"text-gray-500 line-through":"text-gray-400"}`,children:[rr,(gt.isCustom||wt.isCustom)&&s.jsx("span",{className:"text-purple-400 ml-1",children:"*"})]}),wt.prefilledValue&&s.jsx("span",{className:"text-green-400",children:""})]},gt.id)})})]},qe.id)})]})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[s.jsx("div",{className:"text-lg font-bold text-red-500",children:mt.enabled}),s.jsx("div",{className:"text-gray-500",children:"Items to collect"})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded p-2 text-center border border-gray-800",children:[s.jsx("div",{className:"text-lg font-bold text-green-500",children:Object.keys(x).reduce((qe,Tt)=>qe+Object.keys(x[Tt]).filter(bt=>x[Tt][bt].prefilledValue||x[Tt][bt].alreadyHave).length,0)}),s.jsx("div",{className:"text-gray-500",children:"Pre-filled/Have"})]})]})]})})})]})]})})}const wF="ffm_onboarding_workflows";function iMe(t,e){if(t.completed)return"complete";if(t.inProgress)return"in-progress";const r=new Date;r.setHours(0,0,0,0);const n=new Date(e);return n.setHours(0,0,0,0),n<r?"overdue":"pending"}function EF(){const t=localStorage.getItem(wF);return t?JSON.parse(t):[]}function Hne(t){return EF().find(r=>r.id===t)}function wI(t,e,r){const n=EF(),i=n.find(o=>o.id===t);return i?(i.steps[e]={...i.steps[e],...r},r.completed&&!i.steps[e].completedDate&&(i.steps[e].completedDate=new Date().toISOString().split("T")[0]),i.steps.every(o=>o.completed)&&i.status==="active"&&(i.status="completed"),localStorage.setItem(wF,JSON.stringify(n)),i):null}function sMe(t){const r=EF().filter(n=>n.id!==t);return localStorage.setItem(wF,JSON.stringify(r)),!0}function aMe(t){const e=Hne(t);return e?`
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Onboarding Checklist - ${e.orgName}</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
    h1 { color: #e51d1d; }
    .header { border-bottom: 2px solid #e51d1d; padding-bottom: 20px; margin-bottom: 30px; }
    .info { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 30px; }
    .phase { margin-bottom: 40px; }
    .phase-title { background: #f5f5f5; padding: 10px; font-weight: bold; margin-bottom: 15px; }
    .step { margin-bottom: 25px; padding-left: 30px; position: relative; }
    .step-number { position: absolute; left: 0; font-weight: bold; }
    .checkbox { display: inline-block; width: 18px; height: 18px; border: 2px solid #333; margin-right: 10px; }
    .subtasks { margin-top: 10px; padding-left: 20px; font-size: 0.9em; color: #666; }
    .subtasks li { margin-bottom: 5px; }
  </style>
</head>
<body>
  <div class="header">
    <h1>Client Onboarding Checklist</h1>
    <div class="info">
      <div><strong>Organization:</strong> ${e.orgName}</div>
      <div><strong>Contact:</strong> ${e.contactName}</div>
      <div><strong>Email:</strong> ${e.email}</div>
      <div><strong>Phone:</strong> ${e.phone}</div>
      <div><strong>Sport:</strong> ${e.sport}</div>
      <div><strong>First Event:</strong> ${e.firstEventDate}</div>
      <div><strong>Signing Date:</strong> ${e.signingDate}</div>
      <div><strong>Generated:</strong> ${new Date().toLocaleDateString()}</div>
    </div>
  </div>
  
  ${[1,2,3].map(n=>`
    <div class="phase">
      <div class="phase-title">
        ${n===1?"Phase 1: Welcome & Setup":n===2?"Phase 2: Pre-Event Prep":"Phase 3: Go-Live"}
      </div>
      ${e.steps.filter(i=>i.phase===n).map(i=>`
        <div class="step">
          <span class="step-number">${i.id}.</span>
          <div>
            <div><span class="checkbox"></span><strong>${i.title}</strong> (Due: ${i.dueDate})</div>
            <div style="color: #666; margin-top: 5px;">${i.description}</div>
            ${i.subTasks&&i.subTasks.length>0?`
              <ul class="subtasks">
                ${i.subTasks.map(a=>`<li>${a}</li>`).join("")}
              </ul>
            `:""}
          </div>
        </div>
      `).join("")}
    </div>
  `).join("")}
</body>
</html>
  `:null}function oMe(){const{id:t}=Lf(),e=$c(),[r,n]=T.useState(null),[i,a]=T.useState(null),[o,c]=T.useState(!1);T.useEffect(()=>{u()},[t]);const u=()=>{const D=Hne(t);D?n(D):e("/portal/onboarding")},l=D=>{const M=r.steps[D],Y=wI(t,D,{completed:!M.completed,completedDate:M.completed?null:new Date().toISOString().split("T")[0]});n(Y)},d=D=>{const M=r.steps[D],Y=wI(t,D,{inProgress:!M.inProgress});n(Y)},f=(D,M)=>{const Y=wI(t,D,{notes:M});n(Y)},m=()=>{sMe(t),e("/portal/onboarding")},p=()=>{const D=aMe(t),M=new Blob([D],{type:"text/html"}),Y=URL.createObjectURL(M),X=document.createElement("a");X.href=Y,X.download=`onboarding-${r.orgName.replace(/\s+/g,"-")}.html`,X.click(),URL.revokeObjectURL(Y)},g=()=>{const D=r.steps.findIndex(M=>!M.completed);D!==-1&&(a(D),document.getElementById(`step-${D}`)?.scrollIntoView({behavior:"smooth",block:"center"}))};if(!r)return null;const x=r.steps.filter(D=>D.completed).length,y=r.steps.length,w=Math.round(x/y*100),E=D=>r.steps.filter(M=>M.phase===D),_=D=>{const M=E(D),Y=M.filter(X=>X.completed).length;return{completed:Y,total:M.length,percentage:Math.round(Y/M.length*100)}},N={1:"Welcome & Setup",2:"Pre-Event Prep",3:"Go-Live"},C=D=>{switch(D){case"complete":return"text-green-400 bg-green-600/20 border-green-500/30";case"overdue":return"text-red-400 bg-red-600/20 border-red-500/30";case"in-progress":return"text-yellow-400 bg-yellow-600/20 border-yellow-500/30";default:return"text-gray-400 bg-gray-800/30 border-gray-700/30"}},I=D=>{switch(D){case"complete":return s.jsx(wb,{size:18,className:"text-green-400"});case"overdue":return s.jsx(M0,{size:18,className:"text-red-400"});case"in-progress":return s.jsx(jf,{size:18,className:"text-yellow-400"});default:return s.jsx(X8,{size:18,className:"text-gray-400"})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] to-[#1a1a2e]",children:[s.jsx("div",{className:"bg-gradient-to-r from-[#1a1a2e] to-[#16162a] border-b border-gray-800/50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("button",{onClick:()=>e("/portal/onboarding"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-4",children:[s.jsx(Y0,{size:20}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:r.orgName}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Jp,{size:16}),r.contactName]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(nu,{size:16}),r.email]}),r.phone&&s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(vx,{size:16}),r.phone]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Cl,{size:16}),"Event: ",new Date(r.firstEventDate).toLocaleDateString("en-AU")]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(Fr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:g,disabled:x===y,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-medium rounded-lg transition-all flex items-center gap-2",children:[s.jsx(jf,{size:18}),"Next Step"]}),s.jsxs(Fr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:p,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white font-medium rounded-lg transition-all flex items-center gap-2",children:[s.jsx(Rm,{size:18}),"Export"]}),s.jsxs(Fr.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(!0),className:"px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 font-medium rounded-lg transition-all flex items-center gap-2 border border-red-500/30",children:[s.jsx(g1,{size:18}),"Delete"]})]})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-400",children:["Overall Progress: ",x,"/",y," steps"]}),s.jsxs("span",{className:"text-lg font-bold text-white",children:[w,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-800 rounded-full h-3 overflow-hidden",children:s.jsx(Fr.div,{initial:{width:0},animate:{width:`${w}%`},transition:{duration:.5},className:`h-full rounded-full ${w===100?"bg-gradient-to-r from-green-600 to-green-500":"bg-gradient-to-r from-red-600 to-red-500"}`})})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6 sticky top-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Client Information"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Organization"}),s.jsx("span",{className:"text-white font-medium",children:r.orgName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Contact"}),s.jsx("span",{className:"text-white font-medium",children:r.contactName})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Email"}),s.jsx("span",{className:"text-white font-medium break-all",children:r.email})]}),r.phone&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Phone"}),s.jsx("span",{className:"text-white font-medium",children:r.phone})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Sport"}),s.jsx("span",{className:"text-white font-medium",children:r.sport})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"First Event Date"}),s.jsx("span",{className:"text-white font-medium",children:new Date(r.firstEventDate).toLocaleDateString("en-AU",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Signing Date"}),s.jsx("span",{className:"text-white font-medium",children:new Date(r.signingDate).toLocaleDateString("en-AU")})]}),r.contractId&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Contract ID"}),s.jsx("span",{className:"text-white font-medium font-mono text-xs",children:r.contractId})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 block mb-1",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold ${r.status==="completed"?"bg-green-600/20 text-green-400 border border-green-500/30":"bg-blue-600/20 text-blue-400 border border-blue-500/30"}`,children:r.status==="completed"?"Completed":"Active"})]})]})]})}),s.jsx("div",{className:"lg:col-span-2 space-y-6",children:[1,2,3].map(D=>{const M=_(D),Y=E(D);return s.jsxs("div",{className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-gray-800/50 rounded-xl p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h2",{className:"text-xl font-bold text-white",children:["Phase ",D,": ",N[D]]}),s.jsxs("span",{className:"text-sm font-bold text-gray-400",children:[M.completed,"/",M.total]})]}),s.jsx("div",{className:"w-full bg-gray-800 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${M.percentage===100?"bg-green-600":"bg-red-600"}`,style:{width:`${M.percentage}%`}})})]}),s.jsx("div",{className:"space-y-4",children:Y.map((X,te)=>{const de=r.steps.findIndex(oe=>oe.id===X.id),ye=iMe(X,X.dueDate),we=i===de,ve=new Date(X.dueDate),ae=Math.ceil((ve-new Date)/(1e3*60*60*24));return s.jsxs("div",{id:`step-${de}`,className:`border rounded-lg transition-all ${X.completed?"border-green-500/30 bg-green-600/5":ye==="overdue"?"border-red-500/30 bg-red-600/5":"border-gray-700/50"}`,children:[s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("button",{onClick:()=>l(de),className:"flex-shrink-0 mt-1",children:X.completed?s.jsx(wb,{size:24,className:"text-green-400"}):s.jsx(X8,{size:24,className:"text-gray-600 hover:text-gray-400 transition-colors"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-2",children:[s.jsxs("h3",{className:`text-lg font-bold ${X.completed?"text-green-400 line-through":"text-white"}`,children:[X.id,". ",X.title]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!X.completed&&s.jsx("button",{onClick:()=>d(de),className:`px-3 py-1 rounded-full text-xs font-bold transition-all ${X.inProgress?"bg-yellow-600/20 text-yellow-400 border border-yellow-500/30":"bg-gray-800 text-gray-500 border border-gray-700 hover:bg-gray-700"}`,children:X.inProgress?"In Progress":"Mark In Progress"}),s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${C(ye)}`,children:[I(ye),X.completed?"Complete":ye==="overdue"?`${Math.abs(ae)}d overdue`:ye==="in-progress"?"In Progress":ae===0?"Due today":ae===1?"Due tomorrow":`${ae}d remaining`]})]})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:X.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cl,{size:14}),"Due: ",new Date(X.dueDate).toLocaleDateString("en-AU")]}),X.completedDate&&s.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[s.jsx(wb,{size:14}),"Completed: ",new Date(X.completedDate).toLocaleDateString("en-AU")]})]}),s.jsx("button",{onClick:()=>a(we?null:de),className:"mt-3 text-sm text-red-500 hover:text-red-400 font-medium flex items-center gap-1 transition-colors",children:we?s.jsxs(s.Fragment,{children:[s.jsx(MT,{size:16}),"Hide Details"]}):s.jsxs(s.Fragment,{children:[s.jsx(px,{size:16}),"Show Details & Notes"]})})]})]})}),s.jsx(Kp,{children:we&&s.jsx(Fr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsxs("div",{className:"px-4 pb-4 pt-0 border-t border-gray-700/50 mt-4",children:[X.subTasks&&X.subTasks.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-bold text-white mb-2",children:"Checklist:"}),s.jsx("ul",{className:"space-y-1.5",children:X.subTasks.map((oe,Re)=>s.jsxs("li",{className:"text-sm text-gray-400 flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 mt-0.5",children:""}),s.jsx("span",{children:oe})]},Re))})]}),X.emailTemplate&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h4",{className:"text-sm font-bold text-white mb-2 flex items-center gap-2",children:[s.jsx(Vb,{size:14}),"Email Template:"]}),s.jsx("div",{className:"bg-gray-900/50 rounded-lg p-4 border border-gray-800",children:s.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono",children:X.emailTemplate.replace("[CLIENT_NAME]",r.contactName).replace("[ORG_NAME]",r.orgName)})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("label",{className:"text-sm font-bold text-white mb-2 block flex items-center gap-2",children:[s.jsx(Hb,{size:14}),"Notes:"]}),s.jsx("textarea",{value:X.notes,onChange:oe=>f(de,oe.target.value),placeholder:"Add notes, links, or details for this step...",className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-red-500 transition-colors text-sm min-h-[100px] resize-y"})]})]})})})]},X.id)})})]},D)})})]})}),s.jsx(Kp,{children:o&&s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>c(!1),children:s.jsxs(Fr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:D=>D.stopPropagation(),className:"bg-gradient-to-br from-[#1a1a2e] to-[#16162a] border border-red-500/30 rounded-xl p-6 max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Delete Onboarding?"}),s.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete the onboarding workflow for ",s.jsx("strong",{className:"text-white",children:r.orgName}),"? This action cannot be undone."]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:m,className:"flex-1 px-4 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg transition-all",children:"Yes, Delete"}),s.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white font-bold rounded-lg transition-all",children:"Cancel"})]})]})})})]})}const lMe=".pdf,.doc,.docx,.xls,.xlsx,.csv,.zip",Xg=`image/*,video/*,${lMe},.svg,.ai,.eps`,uK=[{id:"branding",category:"Branding & Assets",icon:"",items:[{id:"logo",label:"High-resolution logo",type:"file",accept:Xg,priority:"essential"},{id:"brand_kit",label:"Brand kit (colors, fonts, guidelines)",type:"file",accept:Xg,priority:"important"},{id:"event_graphics",label:"Event-specific graphics/banners",type:"file",accept:Xg,priority:"important"},{id:"sponsor_logos",label:"Sponsor logos for on-screen display",type:"file",accept:Xg,priority:"nice"}]},{id:"athletes",category:"Athlete Information",icon:"",items:[{id:"registration_list",label:"Registration list (Name, Email, Phone, Instagram)",type:"file",accept:Xg,priority:"essential"},{id:"notable_athletes",label:"Notable athletes to feature",type:"textarea",placeholder:"Champions, rising stars, fan favorites...",priority:"important"}]},{id:"venue",category:"Venue & Technical",icon:"",items:[{id:"floor_plan",label:"Venue floor plan (mat layout)",type:"file",accept:Xg,priority:"essential"},{id:"internet_specs",label:"Internet specs (upload speed, hardwired access)",type:"textarea",placeholder:"e.g., 100Mbps up/down, ethernet available at...",priority:"essential"},{id:"power_locations",label:"Power outlet locations",type:"textarea",placeholder:"Describe where power is available...",priority:"important"},{id:"load_in_time",label:"Load-in/crew access time",type:"text",placeholder:"e.g., 6:00 AM",priority:"important"},{id:"venue_contact",label:"Venue contact for event day",type:"contact",priority:"important"}]},{id:"event",category:"Event Operations",icon:"",items:[{id:"mat_count",label:"Number of mats running",type:"number",placeholder:"e.g., 4",priority:"essential"},{id:"schedule",label:"Event schedule/run sheet",type:"file",accept:Xg,priority:"essential"},{id:"bracket_system",label:"Bracket/scoring system used",type:"text",placeholder:"e.g., Smoothcomp, FloArena...",priority:"important"},{id:"match_comms_method",label:"How match order will be communicated",type:"textarea",placeholder:"e.g., WhatsApp group, printed sheets...",priority:"important"}]},{id:"social",category:"Social & Promotion",icon:"",items:[{id:"org_instagram",label:"Organization Instagram",type:"text",placeholder:"@yourorg",priority:"important"},{id:"org_facebook",label:"Organization Facebook",type:"text",placeholder:"facebook.com/yourorg",priority:"nice"},{id:"org_website",label:"Organization Website",type:"text",placeholder:"https://...",priority:"nice"},{id:"existing_content",label:"Existing footage/photos for promos",type:"file",accept:Xg,priority:"nice"},{id:"existing_content_links",label:"Links to existing footage (Google Drive, Dropbox, etc.)",type:"textarea",placeholder:"Paste links to your existing footage, one per line...",priority:"nice"}]}],cMe=[{id:1,title:"Information Gathering",description:"Complete the checklist so we can prepare everything perfectly",duration:"Week 1-2"},{id:2,title:"Pre-Production",description:"We create custom graphics, overlays, and streaming layouts",duration:"Week 2-3"},{id:3,title:"Technical Setup",description:"Site visit (if needed), equipment prep, streaming tests",duration:"Week 3-4"},{id:4,title:"Athlete Outreach",description:"We contact athletes about media packages and content options",duration:"Week 3-4"},{id:5,title:"Event Day",description:"Our crew arrives, sets up, and delivers world-class coverage",duration:"Show Time!"}];function uMe(){const{token:t}=Lf(),[e,r]=T.useState(null),[n,i]=T.useState(!0),[a,o]=T.useState(null),[c,u]=T.useState(new Set(["branding"])),[l,d]=T.useState(!0),[f,m]=T.useState("checklist"),[p,g]=T.useState(!1),[x,y]=T.useState(!1),[w,E]=T.useState(null),[_,N]=T.useState(0),[C,I]=T.useState({}),[D,M]=T.useState({}),[Y,X]=T.useState(!1),[te,de]=T.useState(null),[ye,we]=T.useState("");T.useEffect(()=>{if(!t){i(!1),o("No onboarding session found. Please use the link provided by Fit Focus Media.");return}ve()},[t]);const ve=async()=>{try{const Ue=await P3e(t);r(Ue),I(Ue.collected_data||{}),(Ue.status==="submitted"||Ue.status==="reviewed")&&(X(!0),d(!1))}catch(Ue){o(Ue.message)}finally{i(!1)}},ne=()=>e?.checklist_config?uK.map(Ue=>{const He=e.checklist_config[Ue.id]||{};let Ye=Ue.items.filter(Se=>He[Se.id]?.enabled!==!1).map(Se=>{const mt=He[Se.id];return{...Se,priority:mt?.priority||Se.priority,alreadyHave:mt?.alreadyHave||!1}});return Object.entries(He).forEach(([Se,mt])=>{mt.isCustom&&mt.enabled!==!1&&(Ue.items.some(Tt=>Tt.id===Se)||Ye.push({id:Se,label:mt.label,type:mt.type,priority:mt.priority,isCustom:!0,alreadyHave:mt.alreadyHave||!1,accept:mt.type==="file"?"image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.csv,.zip,.svg,.ai,.eps":void 0,placeholder:mt.placeholder||""}))}),{...Ue,items:Ye}}).filter(Ue=>Ue.items.length>0):uK,ae=ne(),oe=T.useCallback(async Ue=>{if(!(!e||!t)){g(!0);try{await R3e(t,{collected_data:Ue,checklist_progress:Re(Ue)})}catch(He){console.error("Save error:",He)}finally{g(!1)}}},[e,t]),Re=Ue=>{const He={};return ne().forEach(Se=>{Se.items.forEach(mt=>{const qe=Ue[Se.id]||{},Tt=qe[mt.id]||qe[`${mt.id}_url`];He[`${Se.id}.${mt.id}`]=!!Tt&&Tt!==""})}),He},Pe=(Ue,He,Ye)=>{const Se={...C,[Ue]:{...C[Ue]||{},[He]:Ye}};I(Se),clearTimeout(window.saveTimeout),window.saveTimeout=setTimeout(()=>oe(Se),1e3)},be=20*1024*1024,he=async(Ue,He,Ye)=>{if(!(!Ye||Ye.length===0||!e)){for(const Se of Ye)if(Se.size>be){const mt=(Se.size/1048576).toFixed(1);de({fileName:Se.name,sizeMB:mt,categoryId:Ue,itemId:He}),we("");return}E(`${Ue}.${He}`),N(0);try{for(const Se of Ye){const mt=setInterval(()=>{N(bt=>bt>=90?bt:bt+Math.random()*15)},200),qe=await U3e(e.id,Ue,He,Se);clearInterval(mt),N(100),M(bt=>({...bt,[`${Ue}.${He}`]:[...bt[`${Ue}.${He}`]||[],{name:Se.name,url:qe.url,id:qe.file.id}]}));const Tt={...C,[Ue]:{...C[Ue]||{},[`${He}_url`]:qe.url}};I(Tt),oe(Tt)}}catch(Se){console.error("Upload error:",Se),de({fileName:"Upload",sizeMB:null,error:Se.message})}finally{setTimeout(()=>{E(null),N(0)},500)}}},Ie=async()=>{if(!(!e||!t||x)){y(!0);try{await D3e(t),X(!0),m("checklist")}catch(Ue){console.error("Submit error:",Ue),alert("Submission failed: "+Ue.message)}finally{y(!1)}}},Oe=()=>{if(!ye.trim()||!te)return;const{categoryId:Ue,itemId:He}=te,Ye=`${He}_links`,Se=C[Ue]?.[Ye]||[],mt=ye.trim(),qe=Se.includes(mt)?Se:[...Se,mt],Tt={...C,[Ue]:{...C[Ue]||{},[Ye]:qe}};I(Tt),oe(Tt),de(null),we("")},De=(()=>{let Ue=0,He=0;return ae.forEach(Ye=>{Ye.items.forEach(Se=>{He++;const mt=C[Ye.id]||{},qe=mt[Se.id]||mt[`${Se.id}_url`];qe&&qe!==""&&Ue++})}),{completed:Ue,total:He,percent:Math.round(Ue/He*100)}})(),ct=Ue=>{u(He=>{const Ye=new Set(He);return Ye.has(Ue)?Ye.delete(Ue):Ye.add(Ue),Ye})},pt=Ue=>{const He={essential:"bg-red-500/20 text-red-400",important:"bg-yellow-500/20 text-yellow-400",nice:"bg-green-500/20 text-green-400"},Ye={essential:"Essential",important:"Important",nice:"Nice to have"};return s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${He[Ue]}`,children:Ye[Ue]})};return n?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading your onboarding portal..."})]})}):a&&!e?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md text-center border border-gray-700",children:[s.jsx("div",{className:"text-red-500 text-4xl mb-4",children:""}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Session Not Found"}),s.jsx("p",{className:"text-gray-400",children:a})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-900",children:[te&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-2xl p-6 max-w-md w-full border border-gray-700 shadow-xl",children:te.error?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"Upload Failed"}),s.jsx("p",{className:"text-gray-400 text-center mb-6",children:te.error}),s.jsx("button",{onClick:()=>de(null),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-xl transition-colors",children:"Close"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white text-center mb-2",children:"File Too Large"}),s.jsxs("p",{className:"text-gray-400 text-center mb-4",children:[s.jsxs("span",{className:"text-white font-medium",children:['"',te.fileName,'"']})," is ",te.sizeMB,"MB  our upload limit is 20MB."]}),s.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 mb-4",children:[s.jsx("p",{className:"text-orange-500 font-medium mb-3",children:" Paste a share link instead:"}),s.jsx("input",{type:"url",value:ye,onChange:Ue=>we(Ue.target.value),placeholder:"https://drive.google.com/... or Dropbox link",className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none mb-3"}),s.jsx("p",{className:"text-gray-500 text-xs",children:"Upload to Google Drive or Dropbox, then paste the share link above"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{de(null),we("")},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-3 rounded-xl transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Oe,disabled:!ye.trim(),className:"flex-1 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-3 rounded-xl transition-colors",children:"Save Link "})]})]})})}),l&&e&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-2xl p-8 max-w-md text-center border border-orange-500/30 shadow-xl shadow-orange-500/10",children:[s.jsx("div",{className:"w-20 h-20 bg-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:s.jsx("span",{className:"text-4xl",children:""})}),s.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:["Welcome, ",e.org_name,"! "]}),s.jsx("p",{className:"text-orange-500 font-medium mb-4",children:e.event_name}),s.jsx("p",{className:"text-gray-400 mb-6",children:"We're thrilled to partner with you! This portal will guide you through everything we need to deliver world-class coverage."}),s.jsx("button",{onClick:()=>d(!1),className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold px-8 py-3 rounded-full transition-colors flex items-center gap-2 mx-auto",children:"Let's Get Started "})]})}),s.jsx("header",{className:"sticky top-0 z-40 bg-gray-900/95 backdrop-blur-lg border-b border-gray-800",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 h-16 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:"/ffm-logo.jpg",alt:"Fit Focus Media",className:"w-10 h-10 rounded-xl object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-white",children:"Fit Focus Media"}),s.jsx("div",{className:"text-xs text-gray-500",children:e?.org_name||"Partner Onboarding"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[p&&s.jsx("span",{className:"text-orange-500 text-sm animate-pulse",children:"Saving..."}),s.jsxs("div",{className:"bg-orange-500/20 text-orange-500 px-3 py-1 rounded-full text-sm font-semibold",children:[De.percent,"% Complete"]})]})]})}),s.jsx("div",{className:"bg-gray-800/50",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4",children:s.jsx("div",{className:"h-1 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 transition-all duration-500",style:{width:`${De.percent}%`}})})})}),s.jsx("div",{className:"border-b border-gray-800",children:s.jsx("div",{className:"max-w-3xl mx-auto px-4",children:s.jsx("div",{className:"flex gap-1",children:[{id:"checklist",label:"What We Need",icon:""},{id:"timeline",label:"What's Next",icon:""},{id:"contact",label:"Get In Touch",icon:""}].map(Ue=>s.jsxs("button",{onClick:()=>m(Ue.id),className:`flex items-center gap-2 px-4 py-3 font-medium transition-colors border-b-2 ${f===Ue.id?"border-orange-500 text-white":"border-transparent text-gray-500 hover:text-white"}`,children:[s.jsx("span",{children:Ue.icon})," ",Ue.label]},Ue.id))})})}),s.jsxs("main",{className:"max-w-3xl mx-auto px-4 py-8",children:[f==="checklist"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Information Checklist"}),s.jsx("p",{className:"text-gray-400",children:"Upload files and provide details for the best coverage"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[s.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-500",children:De.completed}),s.jsx("div",{className:"text-xs text-gray-500",children:"Completed"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-500",children:De.total-De.completed}),s.jsx("div",{className:"text-xs text-gray-500",children:"Remaining"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center border border-gray-700",children:[s.jsx("div",{className:"text-2xl font-bold text-green-500",children:De.total}),s.jsx("div",{className:"text-xs text-gray-500",children:"Total"})]})]}),s.jsx("div",{className:"space-y-3",children:ae.map(Ue=>{const He=C[Ue.id]||{},Ye=Ue.items.filter(mt=>{const qe=He[mt.id]||He[`${mt.id}_url`];return qe&&qe!==""}).length,Se=c.has(Ue.id);return s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[s.jsxs("button",{onClick:()=>ct(Ue.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-700/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500/20 rounded-xl flex items-center justify-center text-xl",children:Ue.icon}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-semibold text-white",children:Ue.category}),s.jsxs("div",{className:"text-sm text-gray-500",children:[Ye,"/",Ue.items.length," completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-20 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-orange-500 transition-all duration-300",style:{width:`${Ye/Ue.items.length*100}%`}})}),s.jsx("span",{className:`text-gray-400 transition-transform ${Se?"rotate-180":""}`,children:""})]})]}),Se&&s.jsx("div",{className:"border-t border-gray-700 p-4 space-y-4",children:Ue.items.map(mt=>{const qe=He[mt.id]||He[`${mt.id}_url`]||"",Tt=qe!=="",bt=w===`${Ue.id}.${mt.id}`,gt=D[`${Ue.id}.${mt.id}`]||[],rr=e?.checklist_config?.[Ue.id]?.[mt.id]?.alreadyHave||!1;return s.jsxs("div",{className:`p-4 rounded-xl border ${Tt?"bg-orange-500/5 border-orange-500/30":"bg-gray-900/50 border-gray-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center text-xs ${Tt||rr?"bg-orange-500 border-orange-500 text-white":"border-gray-600"}`,children:(Tt||rr)&&""}),s.jsx("span",{className:"font-medium text-white",children:mt.label}),rr&&!Tt&&s.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded-full border border-blue-500/30",children:"Already Provided"})]}),pt(mt.priority)]}),mt.type==="file"&&s.jsxs("div",{children:[bt?s.jsxs("div",{className:"p-4 border-2 border-orange-500/50 rounded-xl bg-orange-500/5",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"animate-spin text-orange-500",children:""}),s.jsxs("span",{className:"text-white font-medium",children:["Uploading... ",Math.round(_),"%"]})]}),s.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-orange-400 transition-all duration-300 ease-out",style:{width:`${_}%`}})})]}):s.jsxs("label",{className:"flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer hover:border-orange-500/50 transition-colors",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsx("span",{className:"text-gray-400",children:"Click to upload"}),s.jsx("input",{type:"file",accept:mt.accept,onChange:Jt=>he(Ue.id,mt.id,Jt.target.files),className:"hidden"})]}),(gt.length>0||qe)&&s.jsxs("div",{className:"mt-2 space-y-1",children:[gt.map((Jt,ar)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg text-sm",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsx("span",{className:"flex-1 text-white truncate",children:Jt.name}),s.jsx("a",{href:Jt.url,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline",children:"View"})]},ar)),qe&&gt.length===0&&s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-500/10 rounded-lg text-sm",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsx("span",{className:"text-white",children:"File uploaded"}),s.jsx("a",{href:qe,target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:underline ml-auto",children:"View"})]})]}),He[`${mt.id}_links`]?.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:He[`${mt.id}_links`].map((Jt,ar)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-500/10 rounded-lg text-sm",children:[s.jsx("span",{className:"text-blue-400",children:""}),s.jsxs("span",{className:"flex-1 text-white truncate",children:[Jt.includes("drive.google")?"Google Drive":Jt.includes("dropbox")?"Dropbox":"External"," link"]}),s.jsx("a",{href:Jt,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"Open"})]},`link-${ar}`))})]}),mt.type==="text"&&s.jsx("input",{type:"text",value:qe,onChange:Jt=>Pe(Ue.id,mt.id,Jt.target.value),placeholder:mt.placeholder,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),mt.type==="number"&&s.jsx("input",{type:"number",value:qe,onChange:Jt=>Pe(Ue.id,mt.id,Jt.target.value),placeholder:mt.placeholder,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),mt.type==="textarea"&&s.jsx("textarea",{value:qe,onChange:Jt=>Pe(Ue.id,mt.id,Jt.target.value),placeholder:mt.placeholder,rows:3,className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none resize-none"}),mt.type==="contact"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:He[`${mt.id}_name`]||"",onChange:Jt=>Pe(Ue.id,`${mt.id}_name`,Jt.target.value),placeholder:"Contact name",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),s.jsx("input",{type:"tel",value:He[`${mt.id}_phone`]||"",onChange:Jt=>Pe(Ue.id,`${mt.id}_phone`,Jt.target.value),placeholder:"Phone number",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"}),s.jsx("input",{type:"email",value:He[`${mt.id}_email`]||"",onChange:Jt=>Pe(Ue.id,`${mt.id}_email`,Jt.target.value),placeholder:"Email address",className:"w-full p-3 bg-gray-900 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-orange-500 focus:outline-none"})]})]},mt.id)})})]},Ue.id)})}),s.jsxs("div",{className:"mt-8 text-center",children:[Y&&s.jsx("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500/30 rounded-xl inline-block",children:s.jsx("p",{className:"text-green-400 font-medium",children:" Already submitted  you can still make changes below"})}),s.jsx("button",{onClick:Ie,disabled:De.completed===0||x,className:"bg-orange-500 hover:bg-orange-600 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold px-8 py-4 rounded-full transition-all inline-flex items-center gap-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin",children:""})," Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""})," ",Y?"Update Submission":"Submit Onboarding Information"]})}),s.jsxs("p",{className:"text-gray-500 text-sm mt-3 flex items-center justify-center gap-2",children:[p&&s.jsx("span",{className:"text-orange-500 animate-pulse",children:" Saving..."}),!p&&(Y?"Changes are auto-saved  click to notify us of updates":"You can submit anytime  we'll reach out if we need anything else")]})]})]}),f==="timeline"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"What Happens Next"}),s.jsx("p",{className:"text-gray-400",children:"Here's our process from signup to showtime"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-orange-500 to-orange-500/20"}),s.jsx("div",{className:"space-y-6",children:cMe.map(Ue=>s.jsxs("div",{className:"flex gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-2xl border-2 border-orange-500 flex items-center justify-center text-orange-500 text-2xl font-bold relative z-10",children:Ue.id}),s.jsxs("div",{className:"flex-1 bg-gray-800 rounded-xl p-5 border border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"font-semibold text-white",children:Ue.title}),s.jsx("span",{className:"text-xs bg-orange-500/20 text-orange-500 px-2 py-1 rounded-full",children:Ue.duration})]}),s.jsx("p",{className:"text-gray-400 text-sm",children:Ue.description})]})]},Ue.id))})]})]}),f==="contact"&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Get In Touch"}),s.jsx("p",{className:"text-gray-400",children:"Have questions? We're here to help"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-500/20 rounded-2xl flex items-center justify-center text-3xl",children:""}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-white text-lg",children:"Brandon Hibbs"}),s.jsx("p",{className:"text-gray-400",children:"Founder, Fit Focus Media"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"mailto:brandon@fitfocusmedia.com.au",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsx("span",{className:"text-white",children:"brandon@fitfocusmedia.com.au"})]}),s.jsxs("a",{href:"tel:0411934935",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsx("span",{className:"text-white",children:"0411 934 935"})]}),s.jsxs("a",{href:"https://instagram.com/fitfocusmedia",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-gray-900 rounded-xl hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"text-orange-500",children:""}),s.jsx("span",{className:"text-white",children:"@fitfocusmedia"})]})]})]})]})]}),s.jsxs("footer",{className:"border-t border-gray-800 py-6 text-center",children:[s.jsx("p",{className:"text-gray-600 text-sm",children:" 2026 Fit Focus Media. All rights reserved."}),s.jsx("p",{className:"text-gray-700 text-xs mt-1",children:"Delivering world-class event coverage across Australia "})]})]})}const dMe=[{id:"event-wng3-2024",name:"WNG 3  Who's Next Grappling",date:"2024-03-15",venue:"Brisbane Convention Centre",org_name:"Who's Next",created_at:"2024-03-01T10:00:00Z"},{id:"event-afn8-2024",name:"Aggression Fight Night 8",date:"2024-02-10",venue:"The Fortitude Music Hall",org_name:"Aggression",created_at:"2024-02-01T10:00:00Z"}],hMe=[{id:"athlete-jsmith-001",name:"Jake Smith",email:"jake.smith@example.com",sport:"Brazilian Jiu-Jitsu",gym:"Gracie Brisbane",created_at:"2024-01-15T08:00:00Z"},{id:"athlete-mchen-002",name:"Michelle Chen",email:"michelle.chen@example.com",sport:"MMA",gym:"Integrated MMA",created_at:"2024-01-20T09:00:00Z"},{id:"athlete-rjones-003",name:"Ryan Jones",email:"ryan.jones@example.com",sport:"Muay Thai",gym:"Roundhouse Brisbane",created_at:"2024-02-01T10:00:00Z"}],fMe=[{id:"content-001",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Match Action - Guard Pass",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Guard+Pass",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Guard+Pass",package_type:"vip",created_at:"2024-03-16T10:00:00Z"},{id:"content-002",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Submission Attempt",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Submission",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Submission",package_type:"vip",created_at:"2024-03-16T10:05:00Z"},{id:"content-003",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Victory Moment",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/FFD700?text=Victory",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/FFD700?text=Victory",package_type:"vip",created_at:"2024-03-16T10:10:00Z"},{id:"content-004",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"photo",title:"Podium Celebration",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/FFD700?text=Podium",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/FFD700?text=Podium",package_type:"vip",created_at:"2024-03-16T10:15:00Z"},{id:"content-005",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Walkout",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Walkout+Video",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Walkout+Video",package_type:"vip",duration:"0:45",created_at:"2024-03-16T11:00:00Z"},{id:"content-006",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"vip",duration:"2:30",created_at:"2024-03-16T11:05:00Z"},{id:"content-007",athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",type:"video",title:"Victory Moment",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/FFD700?text=Victory+Video",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/FFD700?text=Victory+Video",package_type:"vip",duration:"0:30",created_at:"2024-03-16T11:10:00Z"},{id:"content-008",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Opening Exchange",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Opening+Exchange",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Opening+Exchange",package_type:"match",created_at:"2024-02-11T10:00:00Z"},{id:"content-009",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Head Kick",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Head+Kick",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Head+Kick",package_type:"match",created_at:"2024-02-11T10:05:00Z"},{id:"content-010",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"photo",title:"Ground Control",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Ground+Control",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Ground+Control",package_type:"match",created_at:"2024-02-11T10:10:00Z"},{id:"content-011",athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"match",duration:"1:45",created_at:"2024-02-11T11:00:00Z"},{id:"content-012",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"photo",title:"Clinch Work",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Clinch+Work",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Clinch+Work",package_type:"match",created_at:"2024-03-16T12:00:00Z"},{id:"content-013",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"photo",title:"Knee Strike",drive_url:"https://via.placeholder.com/1200x800/0d0d1a/e51d1d?text=Knee+Strike",thumbnail_url:"https://via.placeholder.com/400x300/0d0d1a/e51d1d?text=Knee+Strike",package_type:"match",created_at:"2024-03-16T12:05:00Z"},{id:"content-014",athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",type:"video",title:"Match Highlight",drive_url:"https://via.placeholder.com/1920x1080/0d0d1a/e51d1d?text=Match+Highlight",thumbnail_url:"https://via.placeholder.com/640x360/0d0d1a/e51d1d?text=Match+Highlight",package_type:"match",duration:"1:30",created_at:"2024-03-16T12:30:00Z"}],mMe=[{athlete_id:"athlete-jsmith-001",event_id:"event-wng3-2024",package_type:"vip",granted_at:"2024-03-16T09:00:00Z"},{athlete_id:"athlete-mchen-002",event_id:"event-afn8-2024",package_type:"match",granted_at:"2024-02-11T09:00:00Z"},{athlete_id:"athlete-rjones-003",event_id:"event-wng3-2024",package_type:"match",granted_at:"2024-03-16T09:00:00Z"}],AMe=()=>{const t=localStorage.getItem("ffm_athlete_profiles"),e=localStorage.getItem("ffm_athlete_events"),r=localStorage.getItem("ffm_athlete_content"),n=localStorage.getItem("ffm_athlete_access");t||localStorage.setItem("ffm_athlete_profiles",JSON.stringify(hMe)),e||localStorage.setItem("ffm_athlete_events",JSON.stringify(dMe)),r||localStorage.setItem("ffm_athlete_content",JSON.stringify(fMe)),n||localStorage.setItem("ffm_athlete_access",JSON.stringify(mMe)),console.log(" Athlete portal seed data loaded")};function pMe(){const t=$c(),[e,r]=T.useState(""),[n,i]=T.useState(""),[a,o]=T.useState(""),[c,u]=T.useState(!1);T.useEffect(()=>{AMe()},[]);const l=async d=>{d.preventDefault(),o(""),u(!0),setTimeout(()=>{const m=JSON.parse(localStorage.getItem("ffm_athlete_profiles")||"[]").find(p=>p.email===e);m?(sessionStorage.setItem("athlete_user",JSON.stringify(m)),t("/athlete/dashboard")):(o("Invalid email or password. Try: jake.smith@example.com"),u(!1))},800)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a] flex items-center justify-center px-4",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(Fr.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-black text-white mb-2",children:["FIT FOCUS ",s.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Athlete Portal"})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-[#1a1a2e]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Sign In"}),a&&s.jsxs(Fr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[s.jsx(M0,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-400",children:a})]}),s.jsxs("form",{onSubmit:l,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"email",type:"email",value:e,onChange:d=>r(d.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"your.email@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"password",type:"password",value:n,onChange:d=>i(d.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(ss,{to:"/athlete/forgot-password",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors",children:"Forgot password?"})}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(vq,{className:"w-5 h-5 animate-spin"}),"Signing in..."]}):"Sign In"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:s.jsxs("p",{className:"text-gray-400",children:["New athlete?"," ",s.jsx(ss,{to:"/athlete/register",className:"text-[#e51d1d] hover:text-red-400 font-semibold transition-colors",children:"Register here"})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(ss,{to:"/athlete/packages",className:"text-sm text-gray-500 hover:text-gray-300 transition-colors",children:"Browse Packages"})})]}),s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg text-center",children:s.jsxs("p",{className:"text-sm text-blue-300",children:[s.jsx("strong",{children:"Demo:"})," jake.smith@example.com | michelle.chen@example.com | ryan.jones@example.com"]})})]})})}const Gu={PROFILES:"ffm_athlete_profiles",EVENTS:"ffm_athlete_events",CONTENT:"ffm_athlete_content",ACCESS:"ffm_athlete_access"},Sh=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):[]}catch(e){return console.error(`Error reading ${t}:`,e),[]}},qC=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error(`Error writing ${t}:`,r)}},_F=()=>`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,gMe=t=>{const e=Sh(Gu.PROFILES),r={id:_F(),name:t.name,email:t.email,sport:t.sport||"",gym:t.gym||"",created_at:new Date().toISOString()};return e.push(r),qC(Gu.PROFILES,e),r},vMe=()=>Sh(Gu.PROFILES),xMe=()=>Sh(Gu.EVENTS).sort((t,e)=>new Date(e.date)-new Date(t.date)),yMe=t=>Sh(Gu.EVENTS).find(r=>r.id===t),bMe=t=>{const e=Sh(Gu.EVENTS),r={id:_F(),name:t.name,date:t.date,venue:t.venue||"",org_name:t.org_name||"",created_at:new Date().toISOString()};return e.push(r),qC(Gu.EVENTS,e),r},SF=t=>{const e=Sh(Gu.ACCESS),r=Sh(Gu.EVENTS),n=e.filter(a=>a.athlete_id===t),i=[...new Set(n.map(a=>a.event_id))];return r.filter(a=>i.includes(a.id)).map(a=>{const o=n.find(c=>c.event_id===a.id);return{...a,package_type:o?.package_type||"match",granted_at:o?.granted_at}}).sort((a,o)=>new Date(o.date)-new Date(a.date))},wMe=(t,e)=>{const r=Sh(Gu.CONTENT);return Sh(Gu.ACCESS).some(a=>a.athlete_id===t&&a.event_id===e)?r.filter(a=>a.athlete_id===t&&a.event_id===e).sort((a,o)=>new Date(o.created_at)-new Date(a.created_at)):[]},dK=t=>Sh(Gu.CONTENT).filter(r=>r.athlete_id===t).sort((r,n)=>new Date(n.created_at)-new Date(r.created_at)),EMe=t=>{const e=Sh(Gu.CONTENT),r=SF(t),n=e.filter(c=>c.athlete_id===t),i=n.filter(c=>c.type==="photo"),a=n.filter(c=>c.type==="video"),o=r.length>0?r[0].package_type:null;return{totalEvents:r.length,totalPhotos:i.length,totalVideos:a.length,activePackage:o}},_Me=(t,e,r,n)=>{const i=Sh(Gu.CONTENT),a=Sh(Gu.ACCESS),o=r.map(u=>({id:_F(),athlete_id:t,event_id:e,type:u.type,title:u.title||"",drive_url:u.drive_url,thumbnail_url:u.thumbnail_url||u.drive_url,package_type:n,duration:u.duration||null,created_at:new Date().toISOString()}));return i.push(...o),qC(Gu.CONTENT,i),a.find(u=>u.athlete_id===t&&u.event_id===e)||(a.push({athlete_id:t,event_id:e,package_type:n,granted_at:new Date().toISOString()}),qC(Gu.ACCESS,a)),o},SMe=t=>Sh(Gu.CONTENT).filter(r=>r.event_id===t),jMe=t=>{const r=Sh(Gu.CONTENT).filter(i=>i.athlete_id===t),n=SF(t);return{totalEvents:n.length,totalPhotos:r.filter(i=>i.type==="photo").length,totalVideos:r.filter(i=>i.type==="video").length,packages:n.map(i=>i.package_type)}},bO=t=>({vip:"VIP Package",match:"Match Package",season:"Season Pass"})[t]||t,Qne=t=>({vip:"from-yellow-500/20 to-amber-600/20 border-yellow-500/30",match:"from-blue-500/20 to-cyan-600/20 border-blue-500/30",season:"from-purple-500/20 to-pink-600/20 border-purple-500/30"})[t]||"from-gray-500/20 to-gray-600/20 border-gray-500/30",zne=t=>new Date(t).toLocaleDateString("en-AU",{year:"numeric",month:"long",day:"numeric"}),wS=t=>{const e=[/\/file\/d\/([a-zA-Z0-9_-]+)/,/id=([a-zA-Z0-9_-]+)/,/\/d\/([a-zA-Z0-9_-]+)/];for(const r of e){const n=t.match(r);if(n)return`https://drive.google.com/uc?export=download&id=${n[1]}`}return t},TMe=["Brazilian Jiu-Jitsu","MMA","Muay Thai","Boxing","Wrestling","Judo","Kickboxing","Other"];function CMe(){const t=$c(),[e,r]=T.useState({name:"",email:"",password:"",confirmPassword:"",sport:"",gym:""}),[n,i]=T.useState(""),[a,o]=T.useState(!1),c=l=>{r({...e,[l.target.name]:l.target.value})},u=async l=>{if(l.preventDefault(),i(""),e.password!==e.confirmPassword){i("Passwords do not match");return}if(e.password.length<6){i("Password must be at least 6 characters");return}o(!0),setTimeout(()=>{try{if(JSON.parse(localStorage.getItem("ffm_athlete_profiles")||"[]").find(p=>p.email===e.email)){i("An account with this email already exists"),o(!1);return}const m=gMe({name:e.name,email:e.email,sport:e.sport,gym:e.gym});sessionStorage.setItem("athlete_user",JSON.stringify(m)),t("/athlete/dashboard")}catch{i("Registration failed. Please try again."),o(!1)}},800)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a] flex items-center justify-center px-4 py-12",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs(Fr.h1,{initial:{scale:.9},animate:{scale:1},transition:{duration:.5,delay:.1},className:"text-4xl md:text-5xl font-black text-white mb-2",children:["FIT FOCUS ",s.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Athlete Portal"})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-[#1a1a2e]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 shadow-2xl",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"Join the FFM athlete community"}),n&&s.jsxs(Fr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[s.jsx(M0,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-400",children:n})]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"John Smith",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(nu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"your.email@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sport",className:"block text-sm font-medium text-gray-300 mb-2",children:"Sport / Discipline"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hhe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsxs("select",{id:"sport",name:"sport",value:e.sport,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all appearance-none",required:!0,children:[s.jsx("option",{value:"",children:"Select your sport"}),TMe.map(l=>s.jsx("option",{value:l,children:l},l))]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"gym",className:"block text-sm font-medium text-gray-300 mb-2",children:["Gym / Team ",s.jsx("span",{className:"text-gray-500 text-xs",children:"(optional)"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(uhe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"gym",name:"gym",type:"text",value:e.gym,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"Your gym or team"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(oE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:c,className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50 focus:border-[#e51d1d]/50 transition-all",placeholder:"",required:!0})]})]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-6",children:a?s.jsxs(s.Fragment,{children:[s.jsx(vq,{className:"w-5 h-5 animate-spin"}),"Creating account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:s.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",s.jsx(ss,{to:"/athlete",className:"text-[#e51d1d] hover:text-red-400 font-semibold transition-colors",children:"Sign in"})]})})]})]})})}const NMe=[{id:"match",name:"Match Package",price:175,icon:T0,color:"from-blue-500/20 to-cyan-600/20",borderColor:"border-blue-500/30",textColor:"text-blue-400",features:["All fight photos (high resolution)","Match highlight video clip","Instant download access","Share on social media","Available within 48 hours"]},{id:"vip",name:"VIP Package",price:350,icon:Ohe,color:"from-yellow-500/20 to-amber-600/20",borderColor:"border-yellow-500/30",textColor:"text-yellow-400",badge:"Most Popular",features:["All fight photos (high resolution)","Match highlight video","Walkout video","Victory moment video","Behind-the-scenes content","Priority delivery (24 hours)","Unlimited downloads"]},{id:"season",name:"Season Pass",price:899,priceNote:"/year",icon:xx,color:"from-purple-500/20 to-pink-600/20",borderColor:"border-purple-500/30",textColor:"text-purple-400",badge:"Best Value",features:["All content from every event","Unlimited events for full year","VIP package benefits for each event","Early access to content","Exclusive athlete portal access","Personalized highlight reels","Save over $1,000 per year"]}],kMe=[{question:"When will I get my content?",answer:"Match Package content is delivered within 48 hours of the event. VIP Package customers receive priority delivery within 24 hours. Season Pass holders get early access as soon as content is ready."},{question:"What format are the files?",answer:"Photos are delivered in high-resolution JPEG format (4K-6K resolution). Videos are provided in MP4 format at 1080p or 4K, optimized for both social media sharing and archival quality."},{question:"Can I share my content on social media?",answer:"Absolutely! All content is yours to share. We encourage you to share your highlight moments on Instagram, Facebook, TikTok, and other platforms. Your success is our success!"},{question:"How do I access my content?",answer:"After purchasing, you'll receive an email with login credentials to your personal athlete portal. All your content is organized by event and available for instant download anytime, anywhere."},{question:"Can I purchase content after the event?",answer:"Yes! Content is available for purchase for 90 days after the event. However, we recommend purchasing in advance to ensure priority processing and the best pricing."},{question:"What if I compete in multiple events?",answer:"If you compete in 3+ events per year, the Season Pass is your best value. It covers all events for an entire year and saves you over $1,000 compared to individual packages."}];function LMe(){const[t,e]=T.useState(null);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a]",children:[s.jsx("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border-b border-white/10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ss,{to:"/athlete",className:"text-2xl font-black text-white",children:["FIT FOCUS ",s.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ss,{to:"/athlete",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Sign In"}),s.jsx(ss,{to:"/athlete/register",className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-2 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-sm",children:"Get Started"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20",children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-16",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#e51d1d]/20 border border-[#e51d1d]/30 px-4 py-2 rounded-full mb-6",children:[s.jsx(Kb,{className:"w-4 h-4 text-[#e51d1d]"}),s.jsx("span",{className:"text-sm font-semibold text-[#e51d1d]",children:"Professional Fight Media"})]}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6",children:["Capture Your ",s.jsx("span",{className:"text-[#e51d1d]",children:"Victory"})]}),s.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"Professional fight photography and videography packages for combat sports athletes. Relive your moments, share your glory."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 mb-20",children:NMe.map((r,n)=>{const i=r.icon;return s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:`bg-gradient-to-br ${r.color} backdrop-blur-xl border ${r.borderColor} rounded-2xl p-8 hover:scale-105 transition-transform relative`,children:[r.badge&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:s.jsx("div",{className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white text-xs font-bold px-4 py-1 rounded-full",children:r.badge})}),s.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${r.color} border ${r.borderColor} flex items-center justify-center mb-4`,children:s.jsx(i,{className:`w-6 h-6 ${r.textColor}`})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:r.name}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("span",{className:"text-4xl font-black text-white",children:["$",r.price]}),r.priceNote&&s.jsx("span",{className:"text-gray-400 text-lg",children:r.priceNote})]}),s.jsx("ul",{className:"space-y-3 mb-8",children:r.features.map((a,o)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(to,{className:`w-5 h-5 ${r.textColor} flex-shrink-0 mt-0.5`}),s.jsx("span",{className:"text-gray-300 text-sm",children:a})]},o))}),s.jsx("a",{href:`mailto:info@fitfocusmedia.com.au?subject=Purchase ${r.name}&body=Hi Brandon, I'd like to purchase the ${r.name} ($${r.price}).`,className:`block w-full bg-gradient-to-r ${r.color} border ${r.borderColor} ${r.textColor} font-semibold py-3 rounded-lg hover:scale-105 transition-transform text-center`,children:"Purchase Now"})]},r.id)})}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden mb-20",children:[s.jsxs("div",{className:"p-8 border-b border-white/10",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Package Comparison"}),s.jsx("p",{className:"text-gray-400",children:"Choose the package that fits your needs"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#0d0d1a]/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Feature"}),s.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Match"}),s.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"VIP"}),s.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Season"})]})}),s.jsxs("tbody",{className:"divide-y divide-white/10",children:[s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-gray-300",children:"Fight Photos (High-Res)"}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-gray-300",children:"Match Highlight Video"}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-gray-300",children:"Walkout Video"}),s.jsx("td",{className:"text-center p-4 text-gray-600",children:""}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-gray-300",children:"Victory Moment Video"}),s.jsx("td",{className:"text-center p-4 text-gray-600",children:""}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})}),s.jsx("td",{className:"text-center p-4",children:s.jsx(to,{className:"w-5 h-5 text-green-400 mx-auto"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-gray-300",children:"Delivery Time"}),s.jsx("td",{className:"text-center p-4 text-gray-300",children:"48hrs"}),s.jsx("td",{className:"text-center p-4 text-yellow-400",children:"24hrs"}),s.jsx("td",{className:"text-center p-4 text-purple-400",children:"Priority"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"p-4 text-gray-300",children:"Number of Events"}),s.jsx("td",{className:"text-center p-4 text-gray-300",children:"1"}),s.jsx("td",{className:"text-center p-4 text-gray-300",children:"1"}),s.jsx("td",{className:"text-center p-4 text-purple-400",children:"Unlimited"})]})]})]})})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400",children:"Everything you need to know about our packages"})]}),s.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:kMe.map((r,n)=>s.jsxs(Fr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6+n*.05},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>e(t===n?null:n),className:"w-full p-6 flex items-center justify-between text-left hover:bg-white/5 transition-colors",children:[s.jsx("span",{className:"text-lg font-semibold text-white pr-4",children:r.question}),s.jsx(px,{className:`w-5 h-5 text-gray-400 flex-shrink-0 transition-transform ${t===n?"rotate-180":""}`})]}),t===n&&s.jsx(Fr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"px-6 pb-6",children:s.jsx("p",{className:"text-gray-400 leading-relaxed",children:r.answer})})]},n))})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-20 bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-12 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Capture Your Glory?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Create an account or contact us to purchase a package for your next event."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(ss,{to:"/athlete/register",className:"bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-bold px-8 py-4 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-lg",children:"Create Account"}),s.jsxs("a",{href:"mailto:info@fitfocusmedia.com.au?subject=Package Inquiry",className:"flex items-center gap-2 bg-white/10 border border-white/20 text-white font-semibold px-8 py-4 rounded-lg hover:bg-white/20 transition-all text-lg",children:[s.jsx(nu,{className:"w-5 h-5"}),"Contact Us"]})]})]})]})]})}function Vne({children:t}){const e=$c(),r=kf(),[n,i]=T.useState(null),[a,o]=T.useState(!1);T.useEffect(()=>{const l=sessionStorage.getItem("athlete_user");if(!l){e("/athlete");return}i(JSON.parse(l))},[e]);const c=()=>{sessionStorage.removeItem("athlete_user"),e("/athlete")},u=[{path:"/athlete/dashboard",label:"Dashboard",icon:tfe},{path:"/athlete/content",label:"My Content",icon:L0},{path:"/athlete/packages",label:"Packages",icon:T0},{path:"/athlete/account",label:"Account",icon:Jp}];return n?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#0d0d1a] via-[#1a1a2e] to-[#0d0d1a]",children:[s.jsxs("header",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border-b border-white/10 sticky top-0 z-50",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs(ss,{to:"/athlete/dashboard",className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-2xl font-black text-white",children:["FIT FOCUS ",s.jsx("span",{className:"text-[#e51d1d]",children:"MEDIA"})]}),s.jsx("div",{className:"hidden sm:block h-6 w-px bg-white/20"}),s.jsx("div",{className:"hidden sm:block text-sm text-gray-400",children:"Athlete Portal"})]}),s.jsx("nav",{className:"hidden md:flex items-center gap-1",children:u.map(l=>{const d=l.icon,f=r.pathname===l.path;return s.jsxs(ss,{to:l.path,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${f?"bg-[#e51d1d] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.path)})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-white",children:n.name}),s.jsx("div",{className:"text-xs text-gray-400",children:n.sport})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#e51d1d] to-red-600 flex items-center justify-center text-white font-bold",children:n.name.charAt(0)})]}),s.jsxs("button",{onClick:c,className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all",children:[s.jsx(PB,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign Out"})]}),s.jsx("button",{onClick:()=>o(!a),className:"md:hidden p-2 text-gray-400 hover:text-white transition-colors",children:a?s.jsx($0,{className:"w-6 h-6"}):s.jsx(xq,{className:"w-6 h-6"})})]})]})}),a&&s.jsx(Fr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-white/10 bg-[#0d0d1a]/95 backdrop-blur-xl",children:s.jsxs("div",{className:"px-4 py-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-white/10",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#e51d1d] to-red-600 flex items-center justify-center text-white font-bold text-lg",children:n.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-white",children:n.name}),s.jsx("div",{className:"text-xs text-gray-400",children:n.sport})]})]}),u.map(l=>{const d=l.icon,f=r.pathname===l.path;return s.jsxs(ss,{to:l.path,onClick:()=>o(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${f?"bg-[#e51d1d] text-white":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[s.jsx(d,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:l.label})]},l.path)}),s.jsxs("button",{onClick:c,className:"flex items-center gap-3 px-4 py-3 text-gray-400 hover:text-white hover:bg-white/5 rounded-lg transition-all w-full",children:[s.jsx(PB,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Sign Out"})]})]})})]}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),s.jsx("footer",{className:"border-t border-white/10 bg-[#0d0d1a]/50 mt-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(ss,{to:"/athlete/packages",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Packages"}),s.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Support"})]})]})})})]}):null}function IMe(){const t=$c(),[e,r]=T.useState(null),[n,i]=T.useState([]),[a,o]=T.useState([]),[c,u]=T.useState({totalEvents:0,totalPhotos:0,totalVideos:0,activePackage:null});return T.useEffect(()=>{const l=sessionStorage.getItem("athlete_user");if(!l){t("/athlete");return}const d=JSON.parse(l);r(d);const f=SF(d.id),m=dK(d.id),p=EMe(d.id);i(f),o(m.slice(0,6)),u(p)},[t]),e?s.jsxs(Vne,{children:[s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#e51d1d]/20 via-red-600/20 to-purple-600/20 border border-[#e51d1d]/30 rounded-2xl p-8 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(nm,{className:"w-6 h-6 text-[#e51d1d]"}),s.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",e.name.split(" ")[0],"!"]})]}),s.jsx("p",{className:"text-gray-300",children:"Access your fight photos, highlight videos, and exclusive content."})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:s.jsx(Cl,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalEvents}),s.jsx("div",{className:"text-sm text-gray-400",children:"Events"})]})]})}),s.jsx(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:s.jsx(L0,{className:"w-5 h-5 text-green-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalPhotos}),s.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]})]})}),s.jsx(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:s.jsx(Eh,{className:"w-5 h-5 text-purple-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:c.totalVideos}),s.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})}),s.jsx(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:s.jsx(T0,{className:"w-5 h-5 text-yellow-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-semibold text-white",children:c.activePackage?bO(c.activePackage):"None"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Active Package"})]})]})})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Events"}),s.jsxs(ss,{to:"/athlete/packages",className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors font-medium flex items-center gap-1",children:["Browse Packages",s.jsx(gx,{className:"w-4 h-4"})]})]}),n.length===0?s.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[s.jsx(T0,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No content yet"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Your media will appear here after your next event!"}),s.jsxs(ss,{to:"/athlete/packages",className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[s.jsx(T0,{className:"w-5 h-5"}),"Browse Packages"]})]}):s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:n.map((l,d)=>{const m=dK(e.id).filter(x=>x.event_id===l.id),p=m.filter(x=>x.type==="photo").length,g=m.filter(x=>x.type==="video").length;return s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6+d*.1},children:s.jsx(ss,{to:`/athlete/events/${l.id}`,className:"block group",children:s.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6 hover:border-[#e51d1d]/50 transition-all",children:[s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r ${Qne(l.package_type)} border mb-4`,children:[s.jsx(T0,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs font-semibold",children:bO(l.package_type)})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#e51d1d] transition-colors",children:l.name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cl,{className:"w-4 h-4"}),s.jsx("span",{children:zne(l.date)})]}),l.venue&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pd,{className:"w-4 h-4"}),s.jsx("span",{children:l.venue})]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[s.jsx(L0,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:[p," Photos"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-purple-400",children:[s.jsx(Eh,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-medium",children:[g," Videos"]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"View content"}),s.jsx(gx,{className:"w-5 h-5 text-[#e51d1d] group-hover:translate-x-1 transition-transform"})]})]})})},l.id)})})]}),a.length>0&&s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Recent Content"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:a.map((l,d)=>s.jsxs(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.8+d*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all",children:[s.jsx("img",{src:l.thumbnail_url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-3",children:s.jsxs("div",{className:"flex items-center gap-1 text-white",children:[l.type==="video"?s.jsx(Eh,{className:"w-4 h-4"}):s.jsx(L0,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium truncate",children:l.title})]})})]},l.id))})]})]}):null}function BMe(){const{eventId:t}=Lf(),e=$c(),[r,n]=T.useState(null),[i,a]=T.useState(null),[o,c]=T.useState([]),[u,l]=T.useState("photos"),[d,f]=T.useState(!1),[m,p]=T.useState(0);T.useEffect(()=>{const I=sessionStorage.getItem("athlete_user");if(!I){e("/athlete");return}const D=JSON.parse(I);n(D);const M=yMe(t);if(!M){e("/athlete/dashboard");return}const Y=wMe(D.id,t);a(M),c(Y);const X=Y.filter(de=>de.type==="photo"),te=Y.filter(de=>de.type==="video");X.length===0&&te.length>0&&l("videos")},[t,e]);const g=o.filter(I=>I.type==="photo"),x=o.filter(I=>I.type==="video"),y=I=>{(I==="photos"?g:x).forEach((M,Y)=>{setTimeout(()=>{const X=document.createElement("a");X.href=wS(M.drive_url),X.download=M.title||`${I}-${Y+1}`,X.click()},Y*500)})},w=(I,D)=>{const M=encodeURIComponent(I.drive_url),Y=encodeURIComponent(`Check out my ${I.title} from ${i.name}!`),X={facebook:`https://www.facebook.com/sharer/sharer.php?u=${M}`,instagram:I.drive_url,twitter:`https://twitter.com/intent/tweet?url=${M}&text=${Y}`};D==="instagram"?(navigator.clipboard.writeText(I.drive_url),alert("Link copied! Paste it in your Instagram post.")):window.open(X[D],"_blank","width=600,height=400")},E=I=>{p(I),f(!0)},_=()=>{f(!1)},N=()=>{p(I=>(I+1)%g.length)},C=()=>{p(I=>(I-1+g.length)%g.length)};return!r||!i?null:s.jsxs(Vne,{children:[s.jsxs(ss,{to:"/athlete/dashboard",className:"inline-flex items-center gap-2 text-gray-400 hover:text-white transition-colors mb-6",children:[s.jsx(BB,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Dashboard"})]}),s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-[#1a1a2e]/80 to-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-2xl p-8 mb-8",children:[s.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r ${Qne(o[0]?.package_type)} border mb-4`,children:[s.jsx(T0,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-semibold",children:bO(o[0]?.package_type)})]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:i.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-300",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"w-5 h-5 text-[#e51d1d]"}),s.jsx("span",{children:zne(i.date)})]}),i.venue&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pd,{className:"w-5 h-5 text-[#e51d1d]"}),s.jsx("span",{children:i.venue})]}),i.org_name&&s.jsxs("div",{className:"text-gray-400",children:["Organized by ",s.jsx("span",{className:"text-white font-semibold",children:i.org_name})]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>l("photos"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${u==="photos"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[s.jsx(L0,{className:"w-5 h-5"}),s.jsxs("span",{children:["Photos (",g.length,")"]})]}),s.jsxs("button",{onClick:()=>l("videos"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${u==="videos"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[s.jsx(Eh,{className:"w-5 h-5"}),s.jsxs("span",{children:["Videos (",x.length,")"]})]})]}),u==="photos"&&s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:g.length===0?s.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[s.jsx(L0,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No photos available"}),s.jsx("p",{className:"text-gray-400",children:"Photos for this event will be added soon."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{onClick:()=>y("photos"),className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[s.jsx(Rm,{className:"w-5 h-5"}),"Download All Photos"]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map((I,D)=>s.jsxs(Fr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:D*.05},className:"group relative aspect-square rounded-lg overflow-hidden bg-[#1a1a2e]/50 border border-white/10 hover:border-[#e51d1d]/50 transition-all cursor-pointer",onClick:()=>E(D),children:[s.jsx("img",{src:I.thumbnail_url,alt:I.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:s.jsx("p",{className:"text-white text-sm font-medium truncate",children:I.title})}),s.jsx("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("a",{href:wS(I.drive_url),download:!0,onClick:M=>M.stopPropagation(),className:"bg-black/50 backdrop-blur-sm p-2 rounded-lg hover:bg-[#e51d1d] transition-colors",children:s.jsx(Rm,{className:"w-4 h-4 text-white"})})})]},I.id))})]})}),u==="videos"&&s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:x.length===0?s.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-12 text-center",children:[s.jsx(Eh,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No videos available"}),s.jsx("p",{className:"text-gray-400",children:"Videos for this event will be added soon."})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{onClick:()=>y("videos"),className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-6 py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all",children:[s.jsx(Rm,{className:"w-5 h-5"}),"Download All Videos"]})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:x.map((I,D)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden hover:border-[#e51d1d]/50 transition-all",children:[s.jsxs("div",{className:"relative aspect-video bg-black group",children:[s.jsx("img",{src:I.thumbnail_url,alt:I.title,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-[#e51d1d]/80 backdrop-blur-sm flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(Vd,{className:"w-8 h-8 text-white ml-1"})})}),I.duration&&s.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 backdrop-blur-sm px-2 py-1 rounded text-xs text-white font-medium",children:I.duration})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:I.title}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("a",{href:wS(I.drive_url),download:!0,className:"flex items-center gap-2 bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold px-4 py-2 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all text-sm",children:[s.jsx(Rm,{className:"w-4 h-4"}),"Download"]}),s.jsxs("button",{onClick:()=>w(I,"facebook"),className:"flex items-center gap-2 bg-blue-600/20 border border-blue-500/30 text-blue-400 font-medium px-4 py-2 rounded-lg hover:bg-blue-600/30 transition-all text-sm",children:[s.jsx(M2,{className:"w-4 h-4"}),"Share"]}),s.jsxs("button",{onClick:()=>w(I,"instagram"),className:"flex items-center gap-2 bg-pink-600/20 border border-pink-500/30 text-pink-400 font-medium px-4 py-2 rounded-lg hover:bg-pink-600/30 transition-all text-sm",children:[s.jsx(XN,{className:"w-4 h-4"}),"Copy Link"]})]})]})]},I.id))})]})}),s.jsx(Kp,{children:d&&g[m]&&s.jsxs(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-xl flex items-center justify-center p-4",onClick:_,children:[s.jsx("button",{onClick:_,className:"absolute top-4 right-4 p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:s.jsx($0,{className:"w-6 h-6 text-white"})}),g.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:I=>{I.stopPropagation(),C()},className:"absolute left-4 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:s.jsx(BB,{className:"w-6 h-6 text-white"})}),s.jsx("button",{onClick:I=>{I.stopPropagation(),N()},className:"absolute right-4 p-3 rounded-lg bg-white/10 hover:bg-white/20 transition-colors z-10",children:s.jsx(gx,{className:"w-6 h-6 text-white"})})]}),s.jsx(Fr.img,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},src:g[m].drive_url,alt:g[m].title,className:"max-w-full max-h-full object-contain",onClick:I=>I.stopPropagation()},m),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold",children:g[m].title}),s.jsxs("p",{className:"text-gray-400 text-sm",children:[m+1," of ",g.length]})]}),s.jsxs("a",{href:wS(g[m].drive_url),download:!0,onClick:I=>I.stopPropagation(),className:"flex items-center gap-2 bg-[#e51d1d] text-white font-semibold px-6 py-3 rounded-lg hover:bg-red-600 transition-all",children:[s.jsx(Rm,{className:"w-5 h-5"}),"Download"]})]})})]})})]})}function PMe(){const[t,e]=T.useState("upload"),[r,n]=T.useState([]),[i,a]=T.useState([]),[o,c]=T.useState(""),[u,l]=T.useState(""),[d,f]=T.useState("match"),[m,p]=T.useState([{type:"photo",title:"",drive_url:"",thumbnail_url:""}]),[g,x]=T.useState(!1),[y,w]=T.useState({name:"",date:"",venue:"",org_name:""});T.useEffect(()=>{E()},[]);const E=()=>{n(vMe()),a(xMe())},_=()=>{p([...m,{type:"photo",title:"",drive_url:"",thumbnail_url:""}])},N=Y=>{p(m.filter((X,te)=>te!==Y))},C=(Y,X,te)=>{const de=[...m];de[Y][X]=te,p(de)},I=()=>{if(!o||!u){alert("Please select both an athlete and an event");return}const Y=m.filter(X=>X.drive_url.trim()!=="");if(Y.length===0){alert("Please add at least one content item with a Drive URL");return}_Me(o,u,Y,d),alert("Content assigned successfully!"),p([{type:"photo",title:"",drive_url:"",thumbnail_url:""}]),c(""),l(""),E()},D=()=>{if(!y.name||!y.date){alert("Please provide event name and date");return}bMe(y),w({name:"",date:"",venue:"",org_name:""}),x(!1),E()},M=Y=>{const te=Y.split(`
`).filter(de=>de.trim()!=="").map(de=>({type:"photo",title:"",drive_url:de.trim(),thumbnail_url:de.trim()}));p([...m,...te])};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Content Manager"}),s.jsx("p",{className:"text-gray-400",children:"Manage athlete content and access"})]}),s.jsxs("div",{className:"flex items-center gap-4 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>e("upload"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="upload"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[s.jsx(lme,{className:"w-5 h-5"}),s.jsx("span",{children:"Upload Content"})]}),s.jsxs("button",{onClick:()=>e("athletes"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="athletes"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[s.jsx(sh,{className:"w-5 h-5"}),s.jsx("span",{children:"Manage Athletes"})]}),s.jsxs("button",{onClick:()=>e("events"),className:`flex items-center gap-2 px-4 py-3 font-semibold transition-all ${t==="events"?"text-[#e51d1d] border-b-2 border-[#e51d1d]":"text-gray-400 hover:text-white"}`,children:[s.jsx(Cl,{className:"w-5 h-5"}),s.jsx("span",{children:"Manage Events"})]})]}),t==="upload"&&s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Assign Content to Athlete"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Athlete"}),s.jsxs("select",{value:o,onChange:Y=>c(Y.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50",children:[s.jsx("option",{value:"",children:"Choose an athlete..."}),r.map(Y=>s.jsxs("option",{value:Y.id,children:[Y.name," - ",Y.email]},Y.id))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Select Event"}),s.jsxs("button",{onClick:()=>x(!g),className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[s.jsx(Zp,{className:"w-4 h-4"}),"New Event"]})]}),g&&s.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4 mb-4 space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Event name",value:y.name,onChange:Y=>w({...y,name:Y.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),s.jsx("input",{type:"date",value:y.date,onChange:Y=>w({...y,date:Y.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),s.jsx("input",{type:"text",placeholder:"Venue (optional)",value:y.venue,onChange:Y=>w({...y,venue:Y.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),s.jsx("input",{type:"text",placeholder:"Organization name (optional)",value:y.org_name,onChange:Y=>w({...y,org_name:Y.target.value}),className:"w-full bg-[#1a1a2e]/50 border border-white/10 rounded px-3 py-2 text-white text-sm"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:D,className:"flex-1 bg-[#e51d1d] text-white px-4 py-2 rounded text-sm font-medium hover:bg-red-600 transition-colors",children:"Create Event"}),s.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-400 hover:text-white transition-colors text-sm",children:"Cancel"})]})]}),s.jsxs("select",{value:u,onChange:Y=>l(Y.target.value),className:"w-full bg-[#0d0d1a]/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-[#e51d1d]/50",children:[s.jsx("option",{value:"",children:"Choose an event..."}),i.map(Y=>s.jsxs("option",{value:Y.id,children:[Y.name," - ",new Date(Y.date).toLocaleDateString()]},Y.id))]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Package Type"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:["match","vip","season"].map(Y=>s.jsx("button",{onClick:()=>f(Y),className:`px-4 py-3 rounded-lg border-2 transition-all ${d===Y?"border-[#e51d1d] bg-[#e51d1d]/20 text-white":"border-white/10 text-gray-400 hover:border-white/30"}`,children:Y.charAt(0).toUpperCase()+Y.slice(1)},Y))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Content Items"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{const Y=prompt("Paste Google Drive URLs (one per line):");Y&&M(Y)},className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[s.jsx(gq,{className:"w-4 h-4"}),"Batch Add URLs"]}),s.jsxs("button",{onClick:_,className:"text-sm text-[#e51d1d] hover:text-red-400 transition-colors flex items-center gap-1",children:[s.jsx(Zp,{className:"w-4 h-4"}),"Add Row"]})]})]}),s.jsx("div",{className:"space-y-3",children:m.map((Y,X)=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[s.jsxs("select",{value:Y.type,onChange:te=>C(X,"type",te.target.value),className:"col-span-2 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm",children:[s.jsx("option",{value:"photo",children:"Photo"}),s.jsx("option",{value:"video",children:"Video"})]}),s.jsx("input",{type:"text",placeholder:"Title",value:Y.title,onChange:te=>C(X,"title",te.target.value),className:"col-span-3 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder:text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Google Drive URL",value:Y.drive_url,onChange:te=>C(X,"drive_url",te.target.value),className:"col-span-6 bg-[#0d0d1a]/50 border border-white/10 rounded px-3 py-2 text-white text-sm placeholder:text-gray-500"}),s.jsx("button",{onClick:()=>N(X),className:"col-span-1 p-2 text-red-400 hover:text-red-300 transition-colors",children:s.jsx($0,{className:"w-4 h-4"})})]},X))})]}),s.jsxs("button",{onClick:I,className:"w-full bg-gradient-to-r from-[#e51d1d] to-red-600 text-white font-semibold py-3 rounded-lg hover:from-red-600 hover:to-[#e51d1d] transition-all flex items-center justify-center gap-2",children:[s.jsx(yq,{className:"w-5 h-5"}),"Grant Access & Save"]})]}),t==="athletes"&&s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:s.jsx("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-[#0d0d1a]/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Athlete"}),s.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Sport"}),s.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Events"}),s.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Photos"}),s.jsx("th",{className:"text-center p-4 text-gray-400 font-semibold",children:"Videos"}),s.jsx("th",{className:"text-left p-4 text-gray-400 font-semibold",children:"Contact"})]})}),s.jsx("tbody",{className:"divide-y divide-white/10",children:r.map(Y=>{const X=jMe(Y.id);return s.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold text-white",children:Y.name}),Y.gym&&s.jsx("div",{className:"text-sm text-gray-400",children:Y.gym})]})}),s.jsx("td",{className:"p-4 text-gray-300",children:Y.sport}),s.jsx("td",{className:"text-center p-4 text-gray-300",children:X.totalEvents}),s.jsx("td",{className:"text-center p-4 text-green-400",children:X.totalPhotos}),s.jsx("td",{className:"text-center p-4 text-purple-400",children:X.totalVideos}),s.jsx("td",{className:"p-4 text-gray-400 text-sm",children:Y.email})]},Y.id)})})]})})}),t==="events"&&s.jsx(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:i.map(Y=>{const X=SMe(Y.id),te=[...new Set(X.map(de=>de.athlete_id))];return s.jsxs("div",{className:"bg-[#1a1a2e]/50 backdrop-blur-xl border border-white/10 rounded-xl p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:Y.name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsx("span",{children:new Date(Y.date).toLocaleDateString()}),Y.venue&&s.jsxs("span",{children:[" ",Y.venue]}),Y.org_name&&s.jsxs("span",{children:[" ",Y.org_name]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4",children:[s.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-white",children:te.length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Athletes"})]}),s.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:X.filter(de=>de.type==="photo").length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Photos"})]}),s.jsxs("div",{className:"bg-[#0d0d1a]/50 border border-white/10 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:X.filter(de=>de.type==="video").length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Videos"})]})]})]},Y.id)})})]})}function OMe(){const[t,e]=T.useState([]),[r,n]=T.useState(null),[i,a]=T.useState([]),[o,c]=T.useState([]),[u,l]=T.useState([]),[d,f]=T.useState([]),[m,p]=T.useState([]),[g,x]=T.useState(!0),[y,w]=T.useState("events"),[E,_]=T.useState(!1),[N,C]=T.useState(null),[I,D]=T.useState(null),[M,Y]=T.useState({}),[X,te]=T.useState(null),[de,ye]=T.useState([]),[we,ve]=T.useState(!1),[ne,ae]=T.useState([]),[oe,Re]=T.useState([]);T.useEffect(()=>{Pe()},[]),T.useEffect(()=>{r&&be(r.id)},[r]);async function Pe(){x(!0);const{data:Se}=await jr.from("organizations").select("*").order("name");e(Se||[]),x(!1)}async function be(Se){const[mt,qe,Tt]=await Promise.all([jr.from("events").select("*").eq("organization_id",Se).order("date",{ascending:!0}),jr.from("packages").select("*").eq("organization_id",Se).order("sort_order"),jr.from("content_orders").select("*, events(name), packages(name)").eq("organization_id",Se).order("created_at",{ascending:!1}).limit(50)]);a(mt.data||[]),c(qe.data||[]),p(Tt.data||[]);const bt=(mt.data||[]).map(gt=>gt.id);if(bt.length>0){const[gt,wt]=await Promise.all([jr.from("division_categories").select("*").in("event_id",bt).order("sort_order"),jr.from("division_subdivisions").select("*").order("sort_order")]);l(gt.data||[]);const rr=(gt.data||[]).map(Jt=>Jt.id);f((wt.data||[]).filter(Jt=>rr.includes(Jt.category_id)))}else l([]),f([])}async function he(){const{data:Se,error:mt}=await jr.from("packages").select("*, organizations(name, display_name)").neq("organization_id",r?.id).order("name");!mt&&Se&&ae(Se)}async function Ie(){if(oe.length===0||!r)return;const mt=ne.filter(Tt=>oe.includes(Tt.id)).map(Tt=>({name:Tt.name,description:Tt.description,price:Tt.price,sort_order:Tt.sort_order,active:Tt.active,organization_id:r.id})),{error:qe}=await jr.from("packages").insert(mt);qe?alert("Failed to import packages: "+qe.message):(ve(!1),Re([]),be(r.id))}function Oe(Se){return u.filter(mt=>mt.event_id===Se)}function $e(Se){return d.filter(mt=>mt.category_id===Se)}function De(Se,mt=null,qe=null){C(Se),D(mt),Se==="org"?Y(mt||{name:"",display_name:"",legal_name:"",slug:"",description:"",logo_url:"",active:!0}):Se==="event"?Y(mt||{organization_id:r?.id,name:"",date:"",location:"",status:"upcoming",active:!0,divisions_required:!1}):Se==="package"?Y(mt||{organization_id:r?.id,name:"",description:"",price:"",sort_order:0,active:!0}):Se==="division-cat"?Y(mt||{event_id:qe||X,name:"",sort_order:0,active:!0}):Se==="division-sub"&&Y(mt||{category_id:qe,name:"",sort_order:0,active:!0}),_(!0)}async function ct(){try{if(N==="org")I?.id?await jr.from("organizations").update(M).eq("id",I.id):await jr.from("organizations").insert(M),Pe();else if(N==="event"){const Se={...M,organization_id:r.id};I?.id?await jr.from("events").update(Se).eq("id",I.id):await jr.from("events").insert(Se),be(r.id)}else if(N==="package"){const Se={...M,organization_id:r.id,price:parseFloat(M.price)};I?.id?await jr.from("packages").update(Se).eq("id",I.id):await jr.from("packages").insert(Se),be(r.id)}else N==="division-cat"?(I?.id?await jr.from("division_categories").update(M).eq("id",I.id):await jr.from("division_categories").insert(M),be(r.id)):N==="division-sub"&&(I?.id?await jr.from("division_subdivisions").update(M).eq("id",I.id):await jr.from("division_subdivisions").insert(M),be(r.id));_(!1)}catch(Se){console.error("Save error:",Se),alert("Error saving. Check console.")}}async function pt(Se,mt){if(Se==="organizations"){await Ue(mt);return}if(!confirm("Are you sure you want to delete this item?"))return;const{error:qe}=await jr.from(Se).delete().eq("id",mt);if(qe){console.error("Delete error:",qe),alert(`Failed to delete: ${qe.message}`);return}be(r.id)}async function Ue(Se){const mt=t.find($r=>$r.id===Se);if(!mt)return;const[qe,Tt,bt,gt]=await Promise.all([jr.from("events").select("id, name").eq("organization_id",Se),jr.from("packages").select("id, name").eq("organization_id",Se),jr.from("content_orders").select("id").eq("organization_id",Se),jr.from("livestream_events").select("id, title").eq("organization_id",Se)]),wt=qe.data||[],rr=Tt.data||[],Jt=bt.data||[],ar=gt.data||[];let Dr=` DELETE "${mt.display_name||mt.name}"?

This will also delete:
`;if(wt.length>0&&(Dr+=`
 ${wt.length} event${wt.length>1?"s":""}`,wt.slice(0,3).forEach($r=>{Dr+=`
    ${$r.name}`}),wt.length>3&&(Dr+=`
    ...and ${wt.length-3} more`)),rr.length>0&&(Dr+=`

 ${rr.length} package${rr.length>1?"s":""}`,rr.slice(0,3).forEach($r=>{Dr+=`
    ${$r.name}`}),rr.length>3&&(Dr+=`
    ...and ${rr.length-3} more`)),ar.length>0&&(Dr+=`

 ${ar.length} livestream event${ar.length>1?"s":""}`,ar.slice(0,3).forEach($r=>{Dr+=`
    ${$r.title}`}),ar.length>3&&(Dr+=`
    ...and ${ar.length-3} more`)),Jt.length>0&&(Dr+=`

 ${Jt.length} order${Jt.length>1?"s":""}`),wt.length+rr.length+Jt.length+ar.length===0?Dr=`Delete "${mt.display_name||mt.name}"?

No related items will be affected.`:Dr+=`

 THIS CANNOT BE UNDONE!`,!!confirm(Dr))try{Jt.length>0&&await jr.from("content_orders").delete().eq("organization_id",Se),rr.length>0&&await jr.from("packages").delete().eq("organization_id",Se);for(const or of wt){const{data:vr}=await jr.from("division_categories").select("id").eq("event_id",or.id);if(vr&&vr.length>0){for(const cn of vr)await jr.from("division_subdivisions").delete().eq("category_id",cn.id);await jr.from("division_categories").delete().eq("event_id",or.id)}await jr.from("events").delete().eq("id",or.id)}ar.length>0&&await jr.from("livestream_events").update({organization_id:null}).eq("organization_id",Se);const{error:$r}=await jr.from("organizations").delete().eq("id",Se);if($r)throw $r;Pe(),r?.id===Se&&n(null)}catch($r){console.error("Cascade delete error:",$r),alert(`Failed to delete: ${$r.message}`)}}async function He(Se,mt,qe){await jr.from(Se).update({active:!qe}).eq("id",mt),Se==="organizations"?Pe():be(r.id)}if(g)return s.jsx("div",{className:"p-8 text-gray-400",children:"Loading..."});if(!r)return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Content Management"}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Select an organization to manage its events, packages, and divisions"})]}),s.jsx("button",{onClick:()=>De("org"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm font-medium",children:"+ Add Organization"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(Se=>s.jsxs("div",{onClick:()=>n(Se),className:"bg-gray-900/50 rounded-xl border border-gray-800 p-6 cursor-pointer hover:border-red-500/50 hover:bg-gray-900/80 transition-all group",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[Se.logo_url?s.jsx("img",{src:Uh(Se.logo_url),alt:Se.name,className:"w-12 h-12 rounded-lg object-cover"}):s.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-xl font-bold",children:Se.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg group-hover:text-red-400 transition-colors",children:Se.display_name||Se.name}),Se.display_name&&Se.display_name!==Se.name&&s.jsx("p",{className:"text-xs text-gray-400",children:Se.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["/",Se.slug]})]})]}),!Se.active&&s.jsx("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:"Inactive"})]}),Se.description&&s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2",children:Se.description}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:mt=>{mt.stopPropagation(),De("org",Se)},className:"text-xs text-blue-400 hover:text-blue-300",children:"Edit"}),s.jsx("button",{onClick:mt=>{mt.stopPropagation(),He("organizations",Se.id,Se.active)},className:"text-xs text-gray-400 hover:text-white",children:Se.active?"Deactivate":"Activate"}),s.jsx("button",{onClick:mt=>{mt.stopPropagation(),pt("organizations",Se.id)},className:"text-xs text-red-400 hover:text-red-300",children:"Delete"})]})]},Se.id))}),E&&Ye()]});return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-white transition-colors",children:" Back"}),s.jsxs("div",{className:"flex items-center gap-3",children:[r.logo_url?s.jsx("img",{src:Uh(r.logo_url),alt:r.name,className:"w-10 h-10 rounded-lg object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-600 to-red-800 flex items-center justify-center text-lg font-bold",children:r.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:r.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["/",r.slug]})]})]})]}),s.jsx("div",{className:"flex gap-2 mb-6 border-b border-gray-700 pb-2",children:["events","packages","divisions","orders"].map(Se=>s.jsxs("button",{onClick:()=>w(Se),className:`px-4 py-2 rounded-t-lg capitalize transition-colors ${y===Se?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:[Se," ",Se==="events"&&`(${i.length})`,Se==="packages"&&`(${o.length})`,Se==="orders"&&`(${m.length})`]},Se))}),y==="events"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Upcoming Events"}),s.jsx("button",{onClick:()=>De("event"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Event"})]}),i.length===0?s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No events yet. Add one to get started."}):s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Event Name"}),s.jsx("th",{className:"text-left p-3",children:"Date"}),s.jsx("th",{className:"text-left p-3",children:"Location"}),s.jsx("th",{className:"text-center p-3",children:"Status"}),s.jsx("th",{className:"text-center p-3",children:"Active"}),s.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),s.jsx("tbody",{children:i.map(Se=>s.jsxs("tr",{className:"border-t border-gray-800",children:[s.jsx("td",{className:"p-3 font-medium",children:Se.name}),s.jsx("td",{className:"p-3 text-gray-400",children:Se.date&&new Date(Se.date).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),s.jsx("td",{className:"p-3 text-gray-400",children:Se.location}),s.jsx("td",{className:"p-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Se.status==="upcoming"?"bg-blue-600":Se.status==="active"?"bg-green-600":"bg-gray-600"}`,children:Se.status})}),s.jsx("td",{className:"p-3 text-center",children:s.jsx("button",{onClick:()=>He("events",Se.id,Se.active),className:`px-2 py-1 rounded text-xs ${Se.active?"bg-green-600":"bg-gray-600"}`,children:Se.active?"Yes":"No"})}),s.jsxs("td",{className:"p-3 text-right space-x-2",children:[s.jsx("button",{onClick:()=>De("event",Se),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),s.jsx("button",{onClick:()=>pt("events",Se.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},Se.id))})]})})]}),y==="packages"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Content Packages"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{he(),ve(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm",children:"Import from..."}),s.jsx("button",{onClick:()=>De("package"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Package"})]})]}),o.length===0?s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No packages yet. Add one to get started, or import from another organization."}):s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Package Name"}),s.jsx("th",{className:"text-left p-3",children:"Description"}),s.jsx("th",{className:"text-right p-3",children:"Price"}),s.jsx("th",{className:"text-center p-3",children:"Active"}),s.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),s.jsx("tbody",{children:o.map(Se=>s.jsxs("tr",{className:"border-t border-gray-800",children:[s.jsx("td",{className:"p-3 font-medium",children:Se.name}),s.jsx("td",{className:"p-3 text-gray-400 truncate max-w-xs",children:Se.description}),s.jsxs("td",{className:"p-3 text-right font-semibold text-green-400",children:["$",Se.price]}),s.jsx("td",{className:"p-3 text-center",children:s.jsx("button",{onClick:()=>He("packages",Se.id,Se.active),className:`px-2 py-1 rounded text-xs ${Se.active?"bg-green-600":"bg-gray-600"}`,children:Se.active?"Yes":"No"})}),s.jsxs("td",{className:"p-3 text-right space-x-2",children:[s.jsx("button",{onClick:()=>De("package",Se),className:"text-blue-400 hover:text-blue-300",children:"Edit"}),s.jsx("button",{onClick:()=>pt("packages",Se.id),className:"text-red-400 hover:text-red-300",children:"Delete"})]})]},Se.id))})]})})]}),y==="divisions"&&s.jsx("div",{children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Divisions by Event"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select an event to manage its division categories and subdivisions"}),i.length===0?s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"Add events first, then you can manage their divisions."}):s.jsxs(s.Fragment,{children:[s.jsxs("select",{value:X||"",onChange:Se=>te(Se.target.value),className:"w-full max-w-md px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("option",{value:"",children:"Select an event..."}),i.map(Se=>s.jsxs("option",{value:Se.id,children:[Se.name," (",Se.date&&new Date(Se.date).toLocaleDateString("en-AU"),")"]},Se.id))]}),X&&s.jsxs("div",{className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Division Categories (",Oe(X).length,")"]}),s.jsx("button",{onClick:()=>De("division-cat",null,X),className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:"+ Add Category"})]}),Oe(X).length===0?s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-8 text-center text-gray-400",children:"No division categories for this event yet."}):s.jsx("div",{className:"space-y-3",children:Oe(X).map(Se=>s.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center bg-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>ye(mt=>mt.includes(Se.id)?mt.filter(qe=>qe!==Se.id):[...mt,Se.id]),className:"text-gray-400 hover:text-white",children:s.jsx("svg",{className:`w-5 h-5 transition-transform ${de.includes(Se.id)?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),s.jsx("span",{className:"font-semibold",children:Se.name}),s.jsxs("span",{className:"text-xs text-gray-400",children:["(",$e(Se.id).length," subdivisions)"]}),!Se.active&&s.jsx("span",{className:"text-xs bg-gray-600 px-2 py-0.5 rounded",children:"Inactive"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>De("division-cat",Se),className:"text-blue-400 hover:text-blue-300 text-sm",children:"Edit"}),s.jsx("button",{onClick:()=>pt("division_categories",Se.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Delete"})]})]}),de.includes(Se.id)&&s.jsxs("div",{className:"p-4 border-t border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Subdivisions:"}),s.jsx("button",{onClick:()=>De("division-sub",null,Se.id),className:"text-sm text-green-400 hover:text-green-300",children:"+ Add Subdivision"})]}),$e(Se.id).length===0?s.jsx("p",{className:"text-sm text-gray-500 italic",children:"No subdivisions yet"}):s.jsx("div",{className:"flex flex-wrap gap-2",children:$e(Se.id).map(mt=>s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border text-sm ${mt.active?"bg-gray-800 border-gray-600":"bg-gray-900 border-gray-700 opacity-50"}`,children:[s.jsx("span",{children:mt.name}),s.jsx("button",{onClick:()=>De("division-sub",mt,Se.id),className:"text-blue-400 hover:text-blue-300",children:""}),s.jsx("button",{onClick:()=>pt("division_subdivisions",mt.id),className:"text-red-400 hover:text-red-300",children:""})]},mt.id))})]})]},Se.id))}),r.slug==="nba"&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-800 rounded-xl",children:[s.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Quick Add: Standard NBA Divisions"}),s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Add all standard NBA bodybuilding divisions for this event"}),s.jsx("button",{onClick:async Se=>{const mt=Se.target,qe=mt.innerText;if(!X){alert("Please select an event first");return}if(window.confirm("Add all standard NBA divisions to this event?")){mt.disabled=!0,mt.innerText="Adding divisions...";try{const Tt={"Men's Physique":["Novice","Open","Masters 40+","Masters 50+","Junior"],"Classic Physique":["Novice","Open","Masters 40+","Masters 50+"],Bodybuilding:["Novice","Open","Masters 40+","Masters 50+","Junior"],Figure:["Novice","Open","Masters 35+","Masters 45+","Junior"],Bikini:["Novice","Open","Masters 35+","Masters 45+","Junior"],Wellness:["Novice","Open","Masters 35+","Masters 45+"],"Fitness Model":["Open","Masters"],"Sports Model":["Open","Masters"],Transformation:["Open"]};let bt=0,gt=0;for(const[wt,rr]of Object.entries(Tt)){const{data:Jt,error:ar}=await jr.from("division_categories").insert({event_id:X,name:wt,sort_order:bt++,active:!0}).select().single();if(ar){console.error("Error adding category:",wt,ar);continue}if(Jt){gt++;let Dr=0;for(const mn of rr){const{error:$r}=await jr.from("division_subdivisions").insert({category_id:Jt.id,name:mn,sort_order:Dr++,active:!0});$r&&console.error("Error adding subdivision:",mn,$r)}}}alert(`Added ${gt} division categories with subdivisions!`),await be(r.id)}catch(Tt){console.error("Error adding divisions:",Tt),alert("Error adding divisions: "+Tt.message)}finally{mt.disabled=!1,mt.innerText=qe}}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm disabled:opacity-50",children:"Add Standard NBA Divisions"})]})]})]})]})}),y==="orders"&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Orders"}),s.jsx("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3",children:"Date"}),s.jsx("th",{className:"text-left p-3",children:"Athlete"}),s.jsx("th",{className:"text-left p-3",children:"Email"}),s.jsx("th",{className:"text-left p-3",children:"Event"}),s.jsx("th",{className:"text-left p-3",children:"Package"}),s.jsx("th",{className:"text-right p-3",children:"Amount"}),s.jsx("th",{className:"text-center p-3",children:"Status"})]})}),s.jsx("tbody",{children:m.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"7",className:"p-8 text-center text-gray-400",children:"No orders yet"})}):m.map(Se=>s.jsxs("tr",{className:"border-t border-gray-800",children:[s.jsx("td",{className:"p-3 text-gray-400",children:new Date(Se.created_at).toLocaleDateString("en-AU")}),s.jsxs("td",{className:"p-3 font-medium",children:[Se.first_name," ",Se.last_name]}),s.jsx("td",{className:"p-3 text-gray-400",children:Se.email}),s.jsx("td",{className:"p-3 text-gray-400",children:Se.events?.name}),s.jsx("td",{className:"p-3 text-gray-400",children:Se.packages?.name}),s.jsxs("td",{className:"p-3 text-right font-semibold",children:["$",Se.amount]}),s.jsx("td",{className:"p-3 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${Se.status==="paid"?"bg-green-600":Se.status==="delivered"?"bg-blue-600":Se.status==="pending"?"bg-yellow-600":"bg-gray-600"}`,children:Se.status})})]},Se.id))})]})})]}),E&&Ye(),we&&s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Import Packages from Other Organizations"}),ne.length===0?s.jsx("p",{className:"text-gray-400 text-center py-8",children:"No packages available to import from other organizations."}):s.jsx("div",{className:"flex-1 overflow-y-auto mb-4 space-y-2",children:Object.entries(ne.reduce((Se,mt)=>{const qe=mt.organizations?.display_name||mt.organizations?.name||"Unknown";return Se[qe]||(Se[qe]=[]),Se[qe].push(mt),Se},{})).map(([Se,mt])=>s.jsxs("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-800 px-3 py-2 font-medium text-sm",children:Se}),s.jsx("div",{className:"divide-y divide-gray-800",children:mt.map(qe=>s.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-800/50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:oe.includes(qe.id),onChange:Tt=>{Tt.target.checked?Re(bt=>[...bt,qe.id]):Re(bt=>bt.filter(gt=>gt!==qe.id))},className:"w-4 h-4 rounded"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:qe.name}),qe.description&&s.jsx("div",{className:"text-xs text-gray-400 truncate",children:qe.description})]}),s.jsxs("div",{className:"text-green-400 font-semibold",children:["$",qe.price]})]},qe.id))})]},Se))}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-700",children:[s.jsx("button",{onClick:()=>{ve(!1),Re([])},className:"flex-1 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:"Cancel"}),s.jsxs("button",{onClick:Ie,disabled:oe.length===0,className:"flex-1 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:["Import ",oe.length>0&&`(${oe.length})`]})]})]})})]});function Ye(){return s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[I?"Edit":"Add"," ",N==="org"?"Organization":N==="event"?"Event":N==="package"?"Package":N==="division-cat"?"Division Category":N==="division-sub"?"Subdivision":""]}),s.jsxs("div",{className:"space-y-4",children:[N==="org"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization Name *"}),s.jsx("input",{type:"text",value:M.name||"",onChange:Se=>Y({...M,name:Se.target.value}),placeholder:"e.g., World Ninja Games",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Display Name (Short)"}),s.jsx("input",{type:"text",value:M.display_name||"",onChange:Se=>Y({...M,display_name:Se.target.value}),placeholder:"e.g., WNG",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shown on livestream cards & filters"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Legal Name"}),s.jsx("input",{type:"text",value:M.legal_name||"",onChange:Se=>Y({...M,legal_name:Se.target.value}),placeholder:"e.g., World Ninja Games Pty Ltd",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For contracts & invoices"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Slug (URL-friendly)"}),s.jsx("input",{type:"text",value:M.slug||"",onChange:Se=>Y({...M,slug:Se.target.value.toLowerCase().replace(/\s+/g,"-")}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Logo URL"}),s.jsx("input",{type:"text",value:M.logo_url||"",onChange:Se=>Y({...M,logo_url:Se.target.value}),placeholder:"https://...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),s.jsx("textarea",{value:M.description||"",onChange:Se=>Y({...M,description:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",rows:3})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4 mt-4",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-3 font-medium",children:"Contact / Organizer"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",value:M.contact_name||"",onChange:Se=>Y({...M,contact_name:Se.target.value}),placeholder:"e.g., Phil Cassidy",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Email"}),s.jsx("input",{type:"email",value:M.contact_email||"",onChange:Se=>Y({...M,contact_email:Se.target.value}),placeholder:"email@example.com",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Phone"}),s.jsx("input",{type:"tel",value:M.contact_phone||"",onChange:Se=>Y({...M,contact_phone:Se.target.value}),placeholder:"+61 400 000 000",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]})]})]})]}),N==="event"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),s.jsx("input",{type:"text",value:M.name||"",onChange:Se=>Y({...M,name:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date"}),s.jsx("input",{type:"date",value:M.date||"",onChange:Se=>Y({...M,date:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),s.jsx("input",{type:"text",value:M.location||"",onChange:Se=>Y({...M,location:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),s.jsxs("select",{value:M.status||"upcoming",onChange:Se=>Y({...M,status:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("option",{value:"upcoming",children:"Upcoming"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:M.divisions_required||!1,onChange:Se=>Y({...M,divisions_required:Se.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-white",children:"Require Divisions"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Athletes must select a division when ordering"})]})]})]}),N==="package"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Package Name"}),s.jsx("input",{type:"text",value:M.name||"",onChange:Se=>Y({...M,name:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:M.description||"",onChange:Se=>Y({...M,description:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Price (AUD)"}),s.jsx("input",{type:"number",value:M.price||"",onChange:Se=>Y({...M,price:Se.target.value}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),s.jsx("input",{type:"number",value:M.sort_order||0,onChange:Se=>Y({...M,sort_order:parseInt(Se.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]})]}),N==="division-cat"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category Name"}),s.jsx("input",{type:"text",value:M.name||"",onChange:Se=>Y({...M,name:Se.target.value}),placeholder:"e.g., Men's Physique, Bikini, Figure",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),s.jsx("input",{type:"number",value:M.sort_order||0,onChange:Se=>Y({...M,sort_order:parseInt(Se.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),N==="division-sub"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subdivision Name"}),s.jsx("input",{type:"text",value:M.name||"",onChange:Se=>Y({...M,name:Se.target.value}),placeholder:"e.g., Novice, Open, Masters 40+",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Sort Order"}),s.jsx("input",{type:"number",value:M.sort_order||0,onChange:Se=>Y({...M,sort_order:parseInt(Se.target.value)}),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:M.active??!0,onChange:Se=>Y({...M,active:Se.target.checked}),className:"rounded"}),s.jsx("label",{htmlFor:"active",className:"text-sm text-gray-400",children:"Active"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>_(!1),className:"flex-1 py-2 border border-gray-600 rounded-lg hover:bg-gray-800",children:"Cancel"}),s.jsx("button",{onClick:ct,className:"flex-1 py-2 bg-red-600 hover:bg-red-700 rounded-lg",children:"Save"})]})]})})}}function RMe(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[i,a]=T.useState([]),[o,c]=T.useState([]),[u,l]=T.useState(!0),[d,f]=T.useState("all"),[m,p]=T.useState("all"),[g,x]=T.useState(""),[y,w]=T.useState(""),[E,_]=T.useState(""),[N,C]=T.useState(null);T.useEffect(()=>{I()},[]);async function I(){l(!0);const{data:we}=await jr.from("organizations").select("*").order("name");n(we||[]);const{data:ve}=await jr.from("events").select("*").order("date",{ascending:!1});a(ve||[]);const{data:ne}=await jr.from("packages").select("*").order("name");c(ne||[]);const{data:ae}=await jr.from("content_orders").select("*").order("created_at",{ascending:!1});e(ae||[]),l(!1)}async function D(we){const{error:ve}=await jr.from("content_orders").update({status:"delivered",delivered_at:new Date().toISOString()}).eq("id",we);ve?alert("Failed to update order status"):I()}function M(we){return r.find(ve=>ve.id===we)?.name||"Unknown"}function Y(we){return i.find(ve=>ve.id===we)?.name||"Unknown"}function X(we){return o.find(ve=>ve.id===we)?.name||"Unknown"}const te=t.filter(we=>{if(d!=="all"&&we.organization_id!==d||m!=="all"&&we.status!==m||g&&new Date(we.created_at)<new Date(g)||y&&new Date(we.created_at)>new Date(y+"T23:59:59"))return!1;if(E){const ve=E.toLowerCase(),ne=`${we.first_name} ${we.last_name}`.toLowerCase(),ae=we.email?.toLowerCase()||"",oe=we.phone?.toLowerCase()||"";if(!ne.includes(ve)&&!ae.includes(ve)&&!oe.includes(ve))return!1}return!0}),de=te.filter(we=>we.status==="paid"||we.status==="delivered").reduce((we,ve)=>we+(parseFloat(ve.amount)||0),0);function ye(){const we=["Date","Customer","Email","Phone","Organization","Event","Package","Amount","Status"],ve=te.map(Pe=>[new Date(Pe.created_at).toLocaleDateString(),`${Pe.first_name} ${Pe.last_name}`,Pe.email,Pe.phone||"",M(Pe.organization_id),Y(Pe.event_id),X(Pe.package_id),Pe.amount,Pe.status]),ne=[we,...ve].map(Pe=>Pe.join(",")).join(`
`),ae=new Blob([ne],{type:"text/csv"}),oe=URL.createObjectURL(ae),Re=document.createElement("a");Re.href=oe,Re.download=`orders-${new Date().toISOString().split("T")[0]}.csv`,Re.click()}return u?s.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:s.jsx("div",{className:"text-gray-400",children:"Loading orders..."})}):s.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Order Management"}),s.jsxs("p",{className:"text-gray-400 mt-1",children:[te.length," orders  $",de.toFixed(2)," AUD revenue"]})]}),s.jsxs("button",{onClick:ye,className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg hover:bg-gray-700 flex items-center gap-2",children:[s.jsx("span",{children:""}),"Export CSV"]})]}),s.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 mb-6 border border-gray-800",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization"}),s.jsxs("select",{value:d,onChange:we=>f(we.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("option",{value:"all",children:"All Organizations"}),r.map(we=>s.jsx("option",{value:we.id,children:we.name},we.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),s.jsxs("select",{value:m,onChange:we=>p(we.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg",children:[s.jsx("option",{value:"all",children:"All Statuses"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"refunded",children:"Refunded"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"From Date"}),s.jsx("input",{type:"date",value:g,onChange:we=>x(we.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"To Date"}),s.jsx("input",{type:"date",value:y,onChange:we=>w(we.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Search (Name, Email, Phone)"}),s.jsx("input",{type:"text",value:E,onChange:we=>_(we.target.value),placeholder:"Search orders...",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg"})]})]}),s.jsx("div",{className:"bg-gray-900 rounded-lg overflow-hidden border border-gray-800",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Date"}),s.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Customer"}),s.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Organization"}),s.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Event"}),s.jsx("th",{className:"text-left p-4 text-sm font-semibold",children:"Package"}),s.jsx("th",{className:"text-right p-4 text-sm font-semibold",children:"Amount"}),s.jsx("th",{className:"text-center p-4 text-sm font-semibold",children:"Status"}),s.jsx("th",{className:"text-center p-4 text-sm font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:te.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"text-center p-8 text-gray-500",children:"No orders found"})}):te.map(we=>s.jsxs("tr",{className:"border-t border-gray-800 hover:bg-gray-800/50",children:[s.jsxs("td",{className:"p-4 text-sm",children:[new Date(we.created_at).toLocaleDateString(),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(we.created_at).toLocaleTimeString()})]}),s.jsxs("td",{className:"p-4",children:[s.jsxs("div",{className:"font-medium",children:[we.first_name," ",we.last_name]}),s.jsx("div",{className:"text-sm text-gray-400",children:we.email}),we.phone&&s.jsx("div",{className:"text-xs text-gray-500",children:we.phone})]}),s.jsx("td",{className:"p-4 text-sm",children:M(we.organization_id)}),s.jsx("td",{className:"p-4 text-sm",children:Y(we.event_id)}),s.jsx("td",{className:"p-4 text-sm",children:X(we.package_id)}),s.jsxs("td",{className:"p-4 text-right font-semibold",children:["$",we.amount]}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${we.status==="delivered"?"bg-green-500/20 text-green-400":we.status==="paid"?"bg-blue-500/20 text-blue-400":we.status==="processing"?"bg-yellow-500/20 text-yellow-400":we.status==="refunded"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:we.status})}),s.jsxs("td",{className:"p-4 text-center",children:[s.jsx("button",{onClick:()=>C(we),className:"text-blue-400 hover:text-blue-300 text-sm mr-3",children:"View"}),we.status==="paid"&&s.jsx("button",{onClick:()=>D(we.id),className:"text-green-400 hover:text-green-300 text-sm",children:"Mark Delivered"})]})]},we.id))})]})})]}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>C(null),children:s.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full p-6 border border-gray-800",onClick:we=>we.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),s.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Customer Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Name:"}),s.jsxs("div",{className:"font-medium",children:[N.first_name," ",N.last_name]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Email:"}),s.jsx("div",{className:"font-medium",children:N.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Phone:"}),s.jsx("div",{className:"font-medium",children:N.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Instagram:"}),s.jsxs("div",{className:"font-medium",children:["@",N.instagram||"N/A"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Division:"}),s.jsx("div",{className:"font-medium",children:N.division||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Coach:"}),s.jsxs("div",{className:"font-medium",children:[N.coach_name||"N/A"," (@",N.coach_instagram||"N/A",")"]})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Order Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Organization:"}),s.jsx("div",{className:"font-medium",children:M(N.organization_id)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Event:"}),s.jsx("div",{className:"font-medium",children:Y(N.event_id)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Package:"}),s.jsx("div",{className:"font-medium",children:X(N.package_id)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Amount:"}),s.jsxs("div",{className:"font-medium text-lg",children:["$",N.amount," ",N.currency]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Status:"}),s.jsx("div",{className:"font-medium",children:N.status})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Order Date:"}),s.jsx("div",{className:"font-medium",children:new Date(N.created_at).toLocaleString()})]}),N.paid_at&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Paid At:"}),s.jsx("div",{className:"font-medium",children:new Date(N.paid_at).toLocaleString()})]}),N.delivered_at&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Delivered At:"}),s.jsx("div",{className:"font-medium",children:new Date(N.delivered_at).toLocaleString()})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold mb-3 text-red-500",children:"Payment Information"}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Stripe Session ID:"}),s.jsx("div",{className:"font-mono text-xs break-all",children:N.stripe_session_id})]}),N.stripe_payment_id&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Payment Intent ID:"}),s.jsx("div",{className:"font-mono text-xs break-all",children:N.stripe_payment_id})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[N.status==="paid"&&s.jsx("button",{onClick:()=>{D(N.id),C(null)},className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium",children:"Mark as Delivered"}),s.jsx("button",{onClick:()=>C(null),className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium",children:"Close"})]})]})]})})]})}const DMe={1:1,2:1.8,3:2.4,4:2.9},MMe={1:"Base rate",2:"+80% for 2nd person",3:"+60% for 3rd person",4:"+50% for 4th person"},hK=[{id:"teleprompter",name:"Teleprompter",price:150},{id:"drone",name:"Drone Footage",price:300,perDay:!0},{id:"music",name:"Licensed Music",price:75},{id:"script",name:"Script Writing",price:250},{id:"skin",name:"Skin Smoothing",price:100},{id:"rush",name:"Rush Delivery",price:0,multiplier:1.5},{id:"revisions",name:"Extra Revisions",price:150,note:"3 rounds"}],fK=[{id:"horizontal",name:"Horizontal (16:9)",icon:""},{id:"vertical",name:"Vertical (9:16)",icon:""},{id:"square",name:"Square (1:1)",icon:""}];function FMe(){const[t,e]=T.useState(1e3),[r,n]=T.useState(2),[i,a]=T.useState(1),[o,c]=T.useState(4),[u,l]=T.useState(0),[d,f]=T.useState([{id:1,name:"Main Video",length:2,format:"horizontal"}]),[m,p]=T.useState(500),[g,x]=T.useState(300),[y,w]=T.useState(200),[E,_]=T.useState("none"),[N,C]=T.useState(0),[I,D]=T.useState({}),[M,Y]=T.useState({}),X=()=>{const ne=Math.max(...d.map(ae=>ae.id),0)+1;f([...d,{id:ne,name:`Video ${ne}`,length:1,format:"horizontal"}])},te=ne=>{d.length>1&&f(d.filter(ae=>ae.id!==ne))},de=(ne,ae,oe)=>{f(d.map(Re=>Re.id===ne?{...Re,[ae]:oe}:Re))},ye=T.useCallback(()=>{const ne=t*.4,ae=t*.6/7,oe=Math.max(0,o-1),Re=ne+oe*ae,Pe=DMe[r],he=Re*Pe*i,Ie=u*2,Oe=Math.ceil(Ie/50)*50,$e=u>0?Oe:0;let De=0;const ct=d.map((bt,gt)=>{const wt=gt===0?m:g,rr=Math.max(0,bt.length-1)*y,Jt=wt+rr;return De+=Jt,{...bt,cost:Jt}});let pt=0,Ue=[],He=1;Object.entries(I).forEach(([bt,gt])=>{if(!gt)return;const wt=hK.find(rr=>rr.id===bt);if(wt){if(wt.multiplier)He=wt.multiplier,Ue.push("Rush (+50%)");else if(wt.price>0){const rr=wt.perDay?wt.price*i:wt.price;pt+=rr,Ue.push(wt.name)}}});let Ye=(he+$e+De+pt)*He,Se=0;E==="percent"&&N>0?Se=Ye*(N/100):E==="fixed"&&N>0&&(Se=N);const mt=Ye-Se,qe=mt/1.1,Tt=mt-qe;Y({baseRate:Math.round(ne),hourlyRate:Math.round(ae),shootTotal:Math.round(he),roundTripKm:Ie,travelTotal:$e,deliverablesTotal:Math.round(De),deliverableBreakdown:ct,addonsTotal:Math.round(pt),addonsItems:Ue,discountAmount:Math.round(Se),grandTotal:Math.round(mt),exGst:Math.round(qe),gstAmount:Math.round(Tt)})},[t,r,i,o,u,d,m,g,y,E,N,I]);T.useEffect(()=>{ye()},[ye]);const we=ne=>{D(ae=>({...ae,[ne]:!ae[ne]}))},ve=()=>{const ne=d.map((oe,Re)=>{const Pe=fK.find(be=>be.id===oe.format);return` ${oe.name}: ${oe.length} min ${Pe?.name||""}  $${M.deliverableBreakdown?.[Re]?.cost?.toLocaleString()||0}`}).join(`
`),ae=`
FFM PROJECT QUOTE
==================

PRODUCTION
 Crew: ${r} person${r>1?"s":""}
 Duration: ${i} day${i>1?"s":""}  ${o} hours
 Production: $${M.shootTotal?.toLocaleString()}

TRAVEL
 ${M.roundTripKm>0?`${M.roundTripKm}km round trip`:"Local (no charge)"}
 Travel: $${M.travelTotal?.toLocaleString()}

DELIVERABLES (${d.length} video${d.length>1?"s":""})
${ne}
 Total Editing: $${M.deliverablesTotal?.toLocaleString()}

${M.addonsItems?.length>0?`ADD-ONS
 ${M.addonsItems.join(`
 `)}
 Add-ons: $${M.addonsTotal?.toLocaleString()}
`:""}
==================
TOTAL: $${M.grandTotal?.toLocaleString()} (Inc. GST)
Ex. GST: $${M.exGst?.toLocaleString()}

Valid for 30 days.
    `.trim();navigator.clipboard.writeText(ae).then(()=>{alert("Quote copied to clipboard!")})};return s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Project Pricing Calculator"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Structure-based pricing for video production"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," Base Day Rate"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Day Rate (AUD)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),s.jsx("input",{type:"number",value:t,onChange:ne=>e(parseFloat(ne.target.value)||0),min:"100",step:"50",className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-8 pr-4 py-3 text-lg font-semibold focus:border-red-500 focus:outline-none transition"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All prices auto-scale from this"})]}),s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Calculated Rates:"}),s.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Base Rate (40%):"}),s.jsxs("span",{className:"font-semibold text-green-400",children:["$",M.baseRate]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Hourly Rate:"}),s.jsxs("span",{className:"font-semibold text-green-400",children:["$",M.hourlyRate,"/hr"]})]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," Crew & Shooting Time"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Crew Size"}),s.jsxs("select",{value:r,onChange:ne=>n(parseInt(ne.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none",children:[s.jsx("option",{value:"1",children:"1 Person"}),s.jsx("option",{value:"2",children:"2 People"}),s.jsx("option",{value:"3",children:"3 People"}),s.jsx("option",{value:"4",children:"4 People"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:MMe[r]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Shoot Days"}),s.jsx("input",{type:"number",value:i,onChange:ne=>a(parseInt(ne.target.value)||1),min:"1",max:"30",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Hours Per Day"}),s.jsx("input",{type:"number",value:o,onChange:ne=>c(parseFloat(ne.target.value)||1),min:"1",max:"12",step:"0.5",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," Travel"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Distance (KM, one way)"}),s.jsx("input",{type:"number",value:u,onChange:ne=>l(parseFloat(ne.target.value)||0),min:"0",step:"10",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"$50 per 50km (round trip calculated)"})]}),s.jsx("div",{className:"bg-gray-700/50 rounded-lg p-4 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Round Trip"}),s.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[M.roundTripKm||0," km"]})]})})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," Deliverables"]}),s.jsx("button",{onClick:X,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition",children:"+ Add Video"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6 p-4 bg-gray-700/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"First Video Base"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),s.jsx("input",{type:"number",value:m,onChange:ne=>p(parseFloat(ne.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Additional Videos"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),s.jsx("input",{type:"number",value:g,onChange:ne=>x(parseFloat(ne.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Per Extra Minute"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-400 text-sm",children:"$"}),s.jsx("input",{type:"number",value:y,onChange:ne=>w(parseFloat(ne.target.value)||0),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-6 pr-2 py-2 text-sm focus:border-red-500 focus:outline-none"})]})]})]}),s.jsx("div",{className:"space-y-3",children:d.map((ne,ae)=>s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${ae===0?"bg-red-600 text-white":"bg-gray-600 text-gray-300"}`,children:ae===0?"Primary":`+${ae}`}),s.jsx("input",{type:"text",value:ne.name,onChange:oe=>de(ne.id,"name",oe.target.value),className:"bg-transparent border-b border-gray-600 focus:border-red-500 outline-none text-white font-medium",placeholder:"Video name"})]}),d.length>1&&s.jsx("button",{onClick:()=>te(ne.id),className:"text-red-400 hover:text-red-300 text-sm",children:"Remove"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Length (min)"}),s.jsx("input",{type:"number",value:ne.length,onChange:oe=>de(ne.id,"length",parseInt(oe.target.value)||1),min:"1",max:"60",className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-sm focus:border-red-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Format"}),s.jsx("select",{value:ne.format,onChange:oe=>de(ne.id,"format",oe.target.value),className:"w-full bg-gray-600 border border-gray-500 rounded px-3 py-2 text-sm focus:border-red-500 focus:outline-none",children:fK.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.icon," ",oe.name]},oe.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Cost"}),s.jsxs("div",{className:"bg-gray-600/50 rounded px-3 py-2 text-sm font-semibold text-green-400",children:["$",M.deliverableBreakdown?.[ae]?.cost?.toLocaleString()||0]})]})]})]},ne.id))}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg text-sm text-gray-400",children:[s.jsx("strong",{children:"Each video includes:"})," Color correction, color grading, audio mixing, lower thirds, file conversion"]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," Add-Ons"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:hK.map(ne=>s.jsxs("label",{className:`flex items-center gap-3 rounded-lg p-3 cursor-pointer transition ${I[ne.id]?"bg-red-600/20 border border-red-500/50":"bg-gray-700/50 hover:bg-gray-700"}`,children:[s.jsx("input",{type:"checkbox",checked:I[ne.id]||!1,onChange:()=>we(ne.id),className:"w-5 h-5 rounded accent-red-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ne.name}),s.jsxs("div",{className:"text-sm text-gray-400",children:[ne.multiplier?"+50%":`$${ne.price}${ne.perDay?"/day":""}`,ne.note&&` (${ne.note})`]})]})]},ne.id))})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700/50",children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""})," Package Discount"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discount Type"}),s.jsxs("select",{value:E,onChange:ne=>{_(ne.target.value),ne.target.value==="none"&&C(0)},className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none",children:[s.jsx("option",{value:"none",children:"No Discount"}),s.jsx("option",{value:"percent",children:"Percentage"}),s.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Discount Value"}),s.jsx("input",{type:"number",value:N,onChange:ne=>C(parseFloat(ne.target.value)||0),min:"0",disabled:E==="none",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 focus:border-red-500 focus:outline-none disabled:opacity-50"})]})]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-gradient-to-br from-red-600 to-red-800 rounded-xl p-6 sticky top-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Quote Summary"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-red-200",children:"Production (Shoot)"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",M.shootTotal?.toLocaleString()]}),s.jsxs("div",{className:"text-xs text-red-300 mt-1",children:[r," crew  ",o,"h  ",i," day",i>1?"s":""]})]}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-red-200",children:"Travel"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",M.travelTotal?.toLocaleString()]}),s.jsx("div",{className:"text-xs text-red-300 mt-1",children:u>0?`${M.roundTripKm}km round trip`:"Local (no charge)"})]}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[s.jsxs("div",{className:"text-sm text-red-200",children:["Deliverables (",d.length," video",d.length>1?"s":"",")"]}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",M.deliverablesTotal?.toLocaleString()]}),s.jsx("div",{className:"text-xs text-red-300 mt-1 space-y-0.5",children:M.deliverableBreakdown?.map((ne,ae)=>s.jsxs("div",{children:[ne.name,": ",ne.length,"min  $",ne.cost?.toLocaleString()]},ae))})]}),s.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-red-200",children:"Add-Ons"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",M.addonsTotal?.toLocaleString()]}),s.jsx("div",{className:"text-xs text-red-300 mt-1",children:M.addonsItems?.length>0?M.addonsItems.join(", "):"None selected"})]}),M.discountAmount>0&&s.jsxs("div",{className:"bg-black/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-red-200",children:"Discount"}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["-$",M.discountAmount?.toLocaleString()]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-red-400/30",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-red-200",children:"TOTAL QUOTE"}),s.jsx("div",{className:"text-xs text-red-300",children:"Inc. GST"})]}),s.jsxs("div",{className:"text-4xl font-bold",children:["$",M.grandTotal?.toLocaleString()]})]})}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-red-400/30",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-red-200",children:"Ex. GST:"}),s.jsxs("span",{className:"font-semibold",children:["$",M.exGst?.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[s.jsx("span",{className:"text-red-200",children:"GST (10%):"}),s.jsxs("span",{className:"font-semibold",children:["$",M.gstAmount?.toLocaleString()]})]})]}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:ve,className:"w-full bg-white text-red-600 font-semibold py-3 rounded-lg hover:bg-red-100 transition",children:" Copy Quote Text"})})]})})]}),s.jsx("div",{className:"mt-12 text-center text-gray-500 text-sm",children:s.jsx("p",{children:"Pricing based on structure-based methodology. All prices in AUD."})})]})}function UMe({event:t,crew:e,equipment:r,onClose:n}){if(!t)return null;const i=f=>(f||[]).map(m=>e.find(p=>p.id===m)).filter(Boolean),a=f=>(f||[]).map(m=>r.find(p=>p.id===m)).filter(Boolean);function o(f){return new Date(f).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}const c=i(t.crew_ids),u=a(t.equipment_ids),l=u.reduce((f,m)=>{const p=m.category||"Other";return f[p]||(f[p]=[]),f[p].push(m),f},{}),d={confirmed:"#10b981",tentative:"#f59e0b",completed:"#6b7280",cancelled:"#ef4444"};return s.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[s.jsxs("div",{className:"print:hidden fixed top-4 right-4 flex items-center gap-3 z-10",children:[s.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg text-white font-medium flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Brief"]}),s.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Close"})]}),s.jsxs("div",{id:"event-brief",className:"bg-white text-gray-900 w-full max-w-3xl my-4 rounded-xl overflow-hidden print:m-0 print:rounded-none print:shadow-none",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[s.jsx("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white",padding:"32px"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"2px",color:"#e5383b",fontWeight:"700",marginBottom:"8px"},children:"FIT FOCUS MEDIA  PRODUCTION BRIEF"}),s.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",margin:"0 0 8px"},children:t.name}),s.jsx("p",{style:{fontSize:"16px",color:"#e5383b",margin:"0"},children:t.client})]}),s.jsx("div",{style:{textAlign:"right"},children:s.jsx("span",{style:{background:d[t.status]||"#6b7280",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px"},children:t.status})})]})}),s.jsxs("div",{style:{padding:"32px"},children:[s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",marginBottom:"32px"},children:[s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"DATE"}),s.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:o(t.date)})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"LOCATION"}),s.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:t.location||"TBC"})]}),s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"CLIENT"}),s.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:t.client})]})]}),s.jsx("div",{style:{borderTop:"1px solid #e5e7eb",marginBottom:"28px"}}),s.jsxs("div",{style:{marginBottom:"28px"},children:[s.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[" Crew (",c.length,")"]}),c.length>0?s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"#f9fafb"},children:[s.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Name"}),s.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Role"}),s.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Phone"}),s.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Email"})]})}),s.jsx("tbody",{children:c.map((f,m)=>s.jsxs("tr",{style:{background:m%2===0?"white":"#f9fafb"},children:[s.jsx("td",{style:{padding:"10px 12px",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid #f3f4f6"},children:f.name}),s.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",color:"#6b7280",borderBottom:"1px solid #f3f4f6"},children:f.role||""}),s.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:f.phone||""}),s.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:f.email||""})]},f.id))})]}):s.jsx("p",{style:{color:"#9ca3af",fontSize:"14px",fontStyle:"italic"},children:"No crew assigned yet. Assign crew from the Crew & Logistics portal."})]}),u.length>0&&s.jsxs("div",{style:{marginBottom:"28px"},children:[s.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:[" Equipment (",u.length," items)"]}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:Object.entries(l).map(([f,m])=>s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:f}),m.map(p=>s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #f3f4f6",fontSize:"13px"},children:[s.jsx("span",{style:{color:"#111827"},children:p.name}),s.jsxs("span",{style:{color:"#6b7280"},children:["",p.quantity]})]},p.id))]},f))})]}),(t.flight_links?.length||0)+(t.accommodation_links?.length||0)+(t.rental_links?.length||0)>0&&s.jsxs("div",{style:{marginBottom:"28px"},children:[s.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Travel & Logistics"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[t.flight_links?.length>0&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Flights"}),t.flight_links.map((f,m)=>s.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Flight ",m+1]},m))]}),t.accommodation_links?.length>0&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Accommodation"}),t.accommodation_links.map((f,m)=>s.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Booking ",m+1]},m))]}),t.rental_links?.length>0&&s.jsxs("div",{children:[s.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Rental Cars"}),t.rental_links.map((f,m)=>s.jsxs("a",{href:f,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:[" Rental ",m+1]},m))]})]})]}),t.notes&&s.jsxs("div",{style:{marginBottom:"28px"},children:[s.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Notes"}),s.jsx("div",{style:{background:"#f9fafb",borderLeft:"3px solid #e5383b",padding:"12px 16px",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",color:"#374151"},children:t.notes})]}),s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:" Shot List / Run Sheet"}),s.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[s.jsx("thead",{children:s.jsxs("tr",{style:{background:"#f9fafb"},children:[s.jsx("th",{style:{width:"60px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"#"}),s.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Time"}),s.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Shot / Activity"}),s.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Done"})]})}),s.jsx("tbody",{children:[1,2,3,4,5,6,7,8].map(f=>s.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[s.jsx("td",{style:{padding:"12px",color:"#9ca3af",fontSize:"13px"},children:f}),s.jsx("td",{style:{padding:"12px"}}),s.jsx("td",{style:{padding:"12px"}}),s.jsx("td",{style:{padding:"12px",textAlign:"center"},children:""})]},f))})]})]}),s.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:["Generated by FIT FOCUS MEDIA Portal  ",new Date().toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),s.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"fitfocusmedia.com.au"})]})]})]})]})}const qk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function P1(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function jF(t){return"nodeType"in t}function jh(t){var e,r;return t?P1(t)?t:jF(t)&&(e=(r=t.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function TF(t){const{Document:e}=jh(t);return t instanceof e}function b_(t){return P1(t)?!1:t instanceof jh(t).HTMLElement}function Kne(t){return t instanceof jh(t).SVGElement}function O1(t){return t?P1(t)?t.document:jF(t)?TF(t)?t:b_(t)||Kne(t)?t.ownerDocument:document:document:document}const cg=qk?T.useLayoutEffect:T.useEffect;function Xk(t){const e=T.useRef(t);return cg(()=>{e.current=t}),T.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function $Me(){const t=T.useRef(null),e=T.useCallback((n,i)=>{t.current=setInterval(n,i)},[]),r=T.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,r]}function c2(t,e){e===void 0&&(e=[t]);const r=T.useRef(t);return cg(()=>{r.current!==t&&(r.current=t)},e),r}function w_(t,e){const r=T.useRef();return T.useMemo(()=>{const n=t(r.current);return r.current=n,n},[...e])}function XC(t){const e=Xk(t),r=T.useRef(null),n=T.useCallback(i=>{i!==r.current&&e?.(i,r.current),r.current=i},[]);return[r,n]}function ZC(t){const e=T.useRef();return T.useEffect(()=>{e.current=t},[t]),e.current}let EI={};function Zk(t,e){return T.useMemo(()=>{if(e)return e;const r=EI[t]==null?0:EI[t]+1;return EI[t]=r,t+"-"+r},[t,e])}function Gne(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,o)=>{const c=Object.entries(o);for(const[u,l]of c){const d=a[u];d!=null&&(a[u]=d+t*l)}return a},{...e})}}const Tb=Gne(1),JC=Gne(-1);function HMe(t){return"clientX"in t&&"clientY"in t}function CF(t){if(!t)return!1;const{KeyboardEvent:e}=jh(t.target);return e&&t instanceof e}function QMe(t){if(!t)return!1;const{TouchEvent:e}=jh(t.target);return e&&t instanceof e}function eN(t){if(QMe(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:r}=t.touches[0];return{x:e,y:r}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:r}=t.changedTouches[0];return{x:e,y:r}}}return HMe(t)?{x:t.clientX,y:t.clientY}:null}const u2=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:r}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:r}=t;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(t){if(t)return[u2.Translate.toString(t),u2.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:r,easing:n}=t;return e+" "+r+"ms "+n}}}),mK="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zMe(t){return t.matches(mK)?t:t.querySelector(mK)}const VMe={display:"none"};function KMe(t){let{id:e,value:r}=t;return Ao.createElement("div",{id:e,style:VMe},r)}function GMe(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ao.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function WMe(){const[t,e]=T.useState("");return{announce:T.useCallback(n=>{n!=null&&e(n)},[]),announcement:t}}const Wne=T.createContext(null);function YMe(t){const e=T.useContext(Wne);T.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function qMe(){const[t]=T.useState(()=>new Set),e=T.useCallback(n=>(t.add(n),()=>t.delete(n)),[t]);return[T.useCallback(n=>{let{type:i,event:a}=n;t.forEach(o=>{var c;return(c=o[i])==null?void 0:c.call(o,a)})},[t]),e]}const XMe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ZMe={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function JMe(t){let{announcements:e=ZMe,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=XMe}=t;const{announce:a,announcement:o}=WMe(),c=Zk("DndLiveRegion"),[u,l]=T.useState(!1);if(T.useEffect(()=>{l(!0)},[]),YMe(T.useMemo(()=>({onDragStart(f){let{active:m}=f;a(e.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;e.onDragMove&&a(e.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;a(e.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;a(e.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;a(e.onDragCancel({active:m,over:p}))}}),[a,e])),!u)return null;const d=Ao.createElement(Ao.Fragment,null,Ao.createElement(KMe,{id:n,value:i.draggable}),Ao.createElement(GMe,{id:c,announcement:o}));return r?j0.createPortal(d,r):d}var Hu;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(Hu||(Hu={}));function tN(){}function _I(t,e){return T.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function eFe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return T.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const zm=Object.freeze({x:0,y:0});function tFe(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function rFe(t,e){const r=eN(t);if(!r)return"0 0";const n={x:(r.x-e.left)/e.width*100,y:(r.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function nFe(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function iFe(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function sFe(t,e){if(!t||t.length===0)return null;const[r]=t;return r[e]}function AK(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}const aFe=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=AK(e,e.left,e.top),a=[];for(const o of n){const{id:c}=o,u=r.get(c);if(u){const l=tFe(AK(u),i);a.push({id:c,data:{droppableContainer:o,value:l}})}}return a.sort(nFe)};function oFe(t,e){const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height),o=i-n,c=a-r;if(n<i&&r<a){const u=e.width*e.height,l=t.width*t.height,d=o*c,f=d/(u+l-d);return Number(f.toFixed(4))}return 0}const lFe=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t;const i=[];for(const a of n){const{id:o}=a,c=r.get(o);if(c){const u=oFe(c,e);u>0&&i.push({id:o,data:{droppableContainer:a,value:u}})}}return i.sort(iFe)};function cFe(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Yne(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:zm}function uFe(t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((o,c)=>({...o,top:o.top+t*c.y,bottom:o.bottom+t*c.y,left:o.left+t*c.x,right:o.right+t*c.x}),{...r})}}const dFe=uFe(1);function qne(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function hFe(t,e,r){const n=qne(e);if(!n)return t;const{scaleX:i,scaleY:a,x:o,y:c}=n,u=t.left-o-(1-i)*parseFloat(r),l=t.top-c-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?t.width/i:t.width,f=a?t.height/a:t.height;return{width:d,height:f,top:l,right:u+d,bottom:l+f,left:u}}const fFe={ignoreTransform:!1};function E_(t,e){e===void 0&&(e=fFe);let r=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:l,transformOrigin:d}=jh(t).getComputedStyle(t);l&&(r=hFe(r,l,d))}const{top:n,left:i,width:a,height:o,bottom:c,right:u}=r;return{top:n,left:i,width:a,height:o,bottom:c,right:u}}function pK(t){return E_(t,{ignoreTransform:!0})}function mFe(t){const e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function AFe(t,e){return e===void 0&&(e=jh(t).getComputedStyle(t)),e.position==="fixed"}function pFe(t,e){e===void 0&&(e=jh(t).getComputedStyle(t));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=e[i];return typeof a=="string"?r.test(a):!1})}function NF(t,e){const r=[];function n(i){if(e!=null&&r.length>=e||!i)return r;if(TF(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!b_(i)||Kne(i)||r.includes(i))return r;const a=jh(t).getComputedStyle(i);return i!==t&&pFe(i,a)&&r.push(i),AFe(i,a)?r:n(i.parentNode)}return t?n(t):r}function Xne(t){const[e]=NF(t,1);return e??null}function SI(t){return!qk||!t?null:P1(t)?t:jF(t)?TF(t)||t===O1(t).scrollingElement?window:b_(t)?t:null:null}function Zne(t){return P1(t)?t.scrollX:t.scrollLeft}function Jne(t){return P1(t)?t.scrollY:t.scrollTop}function wO(t){return{x:Zne(t),y:Jne(t)}}var Ad;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ad||(Ad={}));function eie(t){return!qk||!t?!1:t===document.scrollingElement}function tie(t){const e={x:0,y:0},r=eie(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height},i=t.scrollTop<=e.y,a=t.scrollLeft<=e.x,o=t.scrollTop>=n.y,c=t.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:o,isRight:c,maxScroll:n,minScroll:e}}const gFe={x:.2,y:.2};function vFe(t,e,r,n,i){let{top:a,left:o,right:c,bottom:u}=r;n===void 0&&(n=10),i===void 0&&(i=gFe);const{isTop:l,isBottom:d,isLeft:f,isRight:m}=tie(t),p={x:0,y:0},g={x:0,y:0},x={height:e.height*i.y,width:e.width*i.x};return!l&&a<=e.top+x.height?(p.y=Ad.Backward,g.y=n*Math.abs((e.top+x.height-a)/x.height)):!d&&u>=e.bottom-x.height&&(p.y=Ad.Forward,g.y=n*Math.abs((e.bottom-x.height-u)/x.height)),!m&&c>=e.right-x.width?(p.x=Ad.Forward,g.x=n*Math.abs((e.right-x.width-c)/x.width)):!f&&o<=e.left+x.width&&(p.x=Ad.Backward,g.x=n*Math.abs((e.left+x.width-o)/x.width)),{direction:p,speed:g}}function xFe(t){if(t===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:e,left:r,right:n,bottom:i}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:i,width:t.clientWidth,height:t.clientHeight}}function rie(t){return t.reduce((e,r)=>Tb(e,wO(r)),zm)}function yFe(t){return t.reduce((e,r)=>e+Zne(r),0)}function bFe(t){return t.reduce((e,r)=>e+Jne(r),0)}function nie(t,e){if(e===void 0&&(e=E_),!t)return;const{top:r,left:n,bottom:i,right:a}=e(t);Xne(t)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const wFe=[["x",["left","right"],yFe],["y",["top","bottom"],bFe]];class kF{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=NF(r),i=rie(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[a,o,c]of wFe)for(const u of o)Object.defineProperty(this,u,{get:()=>{const l=c(n),d=i[a]-l;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gE{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=e}add(e,r,n){var i;(i=this.target)==null||i.addEventListener(e,r,n),this.listeners.push([e,r,n])}}function EFe(t){const{EventTarget:e}=jh(t);return t instanceof e?t:O1(t)}function jI(t,e){const r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Xf;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Xf||(Xf={}));function gK(t){t.preventDefault()}function _Fe(t){t.stopPropagation()}var ll;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ll||(ll={}));const iie={start:[ll.Space,ll.Enter],cancel:[ll.Esc],end:[ll.Space,ll.Enter,ll.Tab]},SFe=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case ll.Right:return{...r,x:r.x+25};case ll.Left:return{...r,x:r.x-25};case ll.Down:return{...r,y:r.y+25};case ll.Up:return{...r,y:r.y-25}}};class LF{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new gE(O1(r)),this.windowListeners=new gE(jh(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Xf.Resize,this.handleCancel),this.windowListeners.add(Xf.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Xf.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,n=e.node.current;n&&nie(n),r(zm)}handleKeyDown(e){if(CF(e)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=iie,coordinateGetter:o=SFe,scrollBehavior:c="smooth"}=i,{code:u}=e;if(a.end.includes(u)){this.handleEnd(e);return}if(a.cancel.includes(u)){this.handleCancel(e);return}const{collisionRect:l}=n.current,d=l?{x:l.left,y:l.top}:zm;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(e,{active:r,context:n.current,currentCoordinates:d});if(f){const m=JC(f,d),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const x of g){const y=e.code,{isTop:w,isRight:E,isLeft:_,isBottom:N,maxScroll:C,minScroll:I}=tie(x),D=xFe(x),M={x:Math.min(y===ll.Right?D.right-D.width/2:D.right,Math.max(y===ll.Right?D.left:D.left+D.width/2,f.x)),y:Math.min(y===ll.Down?D.bottom-D.height/2:D.bottom,Math.max(y===ll.Down?D.top:D.top+D.height/2,f.y))},Y=y===ll.Right&&!E||y===ll.Left&&!_,X=y===ll.Down&&!N||y===ll.Up&&!w;if(Y&&M.x!==f.x){const te=x.scrollLeft+m.x,de=y===ll.Right&&te<=C.x||y===ll.Left&&te>=I.x;if(de&&!m.y){x.scrollTo({left:te,behavior:c});return}de?p.x=x.scrollLeft-te:p.x=y===ll.Right?x.scrollLeft-C.x:x.scrollLeft-I.x,p.x&&x.scrollBy({left:-p.x,behavior:c});break}else if(X&&M.y!==f.y){const te=x.scrollTop+m.y,de=y===ll.Down&&te<=C.y||y===ll.Up&&te>=I.y;if(de&&!m.x){x.scrollTo({top:te,behavior:c});return}de?p.y=x.scrollTop-te:p.y=y===ll.Down?x.scrollTop-C.y:x.scrollTop-I.y,p.y&&x.scrollBy({top:-p.y,behavior:c});break}}this.handleMove(e,Tb(JC(f,this.referenceCoordinates),p))}}}handleMove(e,r){const{onMove:n}=this.props;e.preventDefault(),n(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}LF.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=iie,onActivation:i}=e,{active:a}=r;const{code:o}=t.nativeEvent;if(n.start.includes(o)){const c=a.activatorNode.current;return c&&t.target!==c?!1:(t.preventDefault(),i?.({event:t.nativeEvent}),!0)}return!1}}];function vK(t){return!!(t&&"distance"in t)}function xK(t){return!!(t&&"delay"in t)}class IF{constructor(e,r,n){var i;n===void 0&&(n=EFe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:a}=e,{target:o}=a;this.props=e,this.events=r,this.document=O1(o),this.documentListeners=new gE(this.document),this.listeners=new gE(n),this.windowListeners=new gE(jh(o)),this.initialCoordinates=(i=eN(a))!=null?i:zm,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Xf.Resize,this.handleCancel),this.windowListeners.add(Xf.DragStart,gK),this.windowListeners.add(Xf.VisibilityChange,this.handleCancel),this.windowListeners.add(Xf.ContextMenu,gK),this.documentListeners.add(Xf.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(xK(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(vK(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,r){const{active:n,onPending:i}=this.props;i(n,e,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(Xf.Click,_Fe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Xf.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:c}}=a;if(!i)return;const u=(r=eN(e))!=null?r:zm,l=JC(i,u);if(!n&&c){if(vK(c)){if(c.tolerance!=null&&jI(l,c.tolerance))return this.handleCancel();if(jI(l,c.distance))return this.handleStart()}if(xK(c)&&jI(l,c.tolerance))return this.handleCancel();this.handlePending(c,l);return}e.cancelable&&e.preventDefault(),o(u)}handleEnd(){const{onAbort:e,onEnd:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleCancel(){const{onAbort:e,onCancel:r}=this.props;this.detach(),this.activated||e(this.props.active),r()}handleKeydown(e){e.code===ll.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const jFe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class BF extends IF{constructor(e){const{event:r}=e,n=O1(r.target);super(e,jFe,n)}}BF.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n?.({event:r}),!0)}}];const TFe={move:{name:"mousemove"},end:{name:"mouseup"}};var EO;(function(t){t[t.RightClick=2]="RightClick"})(EO||(EO={}));class CFe extends IF{constructor(e){super(e,TFe,O1(e.event.target))}}CFe.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===EO.RightClick?!1:(n?.({event:r}),!0)}}];const TI={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class sie extends IF{constructor(e){super(e,TI)}static setup(){return window.addEventListener(TI.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(TI.move.name,e)};function e(){}}}sie.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;const{touches:i}=r;return i.length>1?!1:(n?.({event:r}),!0)}}];var vE;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(vE||(vE={}));var rN;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(rN||(rN={}));function NFe(t){let{acceleration:e,activator:r=vE.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:o=5,order:c=rN.TreeOrder,pointerCoordinates:u,scrollableAncestors:l,scrollableAncestorRects:d,delta:f,threshold:m}=t;const p=LFe({delta:f,disabled:!a}),[g,x]=$Me(),y=T.useRef({x:0,y:0}),w=T.useRef({x:0,y:0}),E=T.useMemo(()=>{switch(r){case vE.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case vE.DraggableRect:return i}},[r,i,u]),_=T.useRef(null),N=T.useCallback(()=>{const I=_.current;if(!I)return;const D=y.current.x*w.current.x,M=y.current.y*w.current.y;I.scrollBy(D,M)},[]),C=T.useMemo(()=>c===rN.TreeOrder?[...l].reverse():l,[c,l]);T.useEffect(()=>{if(!a||!l.length||!E){x();return}for(const I of C){if(n?.(I)===!1)continue;const D=l.indexOf(I),M=d[D];if(!M)continue;const{direction:Y,speed:X}=vFe(I,M,E,e,m);for(const te of["x","y"])p[te][Y[te]]||(X[te]=0,Y[te]=0);if(X.x>0||X.y>0){x(),_.current=I,g(N,o),y.current=X,w.current=Y;return}}y.current={x:0,y:0},w.current={x:0,y:0},x()},[e,N,n,x,a,o,JSON.stringify(E),JSON.stringify(p),g,l,C,d,JSON.stringify(m)])}const kFe={x:{[Ad.Backward]:!1,[Ad.Forward]:!1},y:{[Ad.Backward]:!1,[Ad.Forward]:!1}};function LFe(t){let{delta:e,disabled:r}=t;const n=ZC(e);return w_(i=>{if(r||!n||!i)return kFe;const a={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Ad.Backward]:i.x[Ad.Backward]||a.x===-1,[Ad.Forward]:i.x[Ad.Forward]||a.x===1},y:{[Ad.Backward]:i.y[Ad.Backward]||a.y===-1,[Ad.Forward]:i.y[Ad.Forward]||a.y===1}}},[r,e,n])}function IFe(t,e){const r=e!=null?t.get(e):void 0,n=r?r.node.current:null;return w_(i=>{var a;return e==null?null:(a=n??i)!=null?a:null},[n,e])}function BFe(t,e){return T.useMemo(()=>t.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(o=>({eventName:o.eventName,handler:e(o.handler,n)}));return[...r,...a]},[]),[t,e])}var d2;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(d2||(d2={}));var _O;(function(t){t.Optimized="optimized"})(_O||(_O={}));const yK=new Map;function PFe(t,e){let{dragging:r,dependencies:n,config:i}=e;const[a,o]=T.useState(null),{frequency:c,measure:u,strategy:l}=i,d=T.useRef(t),f=y(),m=c2(f),p=T.useCallback(function(w){w===void 0&&(w=[]),!m.current&&o(E=>E===null?w:E.concat(w.filter(_=>!E.includes(_))))},[m]),g=T.useRef(null),x=w_(w=>{if(f&&!r)return yK;if(!w||w===yK||d.current!==t||a!=null){const E=new Map;for(let _ of t){if(!_)continue;if(a&&a.length>0&&!a.includes(_.id)&&_.rect.current){E.set(_.id,_.rect.current);continue}const N=_.node.current,C=N?new kF(u(N),N):null;_.rect.current=C,C&&E.set(_.id,C)}return E}return w},[t,a,r,f,u]);return T.useEffect(()=>{d.current=t},[t]),T.useEffect(()=>{f||p()},[r,f]),T.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),T.useEffect(()=>{f||typeof c!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},c))},[c,f,p,...n]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:a!=null};function y(){switch(l){case d2.Always:return!1;case d2.BeforeDragging:return r;default:return!r}}}function PF(t,e){return w_(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function OFe(t,e){return PF(t,e)}function RFe(t){let{callback:e,disabled:r}=t;const n=Xk(e),i=T.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return T.useEffect(()=>()=>i?.disconnect(),[i]),i}function Jk(t){let{callback:e,disabled:r}=t;const n=Xk(e),i=T.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return T.useEffect(()=>()=>i?.disconnect(),[i]),i}function DFe(t){return new kF(E_(t),t)}function bK(t,e,r){e===void 0&&(e=DFe);const[n,i]=T.useState(null);function a(){i(u=>{if(!t)return null;if(t.isConnected===!1){var l;return(l=u??r)!=null?l:null}const d=e(t);return JSON.stringify(u)===JSON.stringify(d)?u:d})}const o=RFe({callback(u){if(t)for(const l of u){const{type:d,target:f}=l;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){a();break}}}}),c=Jk({callback:a});return cg(()=>{a(),t?(c?.observe(t),o?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),o?.disconnect())},[t]),n}function MFe(t){const e=PF(t);return Yne(t,e)}const wK=[];function FFe(t){const e=T.useRef(t),r=w_(n=>t?n&&n!==wK&&t&&e.current&&t.parentNode===e.current.parentNode?n:NF(t):wK,[t]);return T.useEffect(()=>{e.current=t},[t]),r}function UFe(t){const[e,r]=T.useState(null),n=T.useRef(t),i=T.useCallback(a=>{const o=SI(a.target);o&&r(c=>c?(c.set(o,wO(o)),new Map(c)):null)},[]);return T.useEffect(()=>{const a=n.current;if(t!==a){o(a);const c=t.map(u=>{const l=SI(u);return l?(l.addEventListener("scroll",i,{passive:!0}),[l,wO(l)]):null}).filter(u=>u!=null);r(c.length?new Map(c):null),n.current=t}return()=>{o(t),o(a)};function o(c){c.forEach(u=>{const l=SI(u);l?.removeEventListener("scroll",i)})}},[i,t]),T.useMemo(()=>t.length?e?Array.from(e.values()).reduce((a,o)=>Tb(a,o),zm):rie(t):zm,[t,e])}function EK(t,e){e===void 0&&(e=[]);const r=T.useRef(null);return T.useEffect(()=>{r.current=null},e),T.useEffect(()=>{const n=t!==zm;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?JC(t,r.current):zm}function $Fe(t){T.useEffect(()=>{if(!qk)return;const e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of e)r?.()}},t.map(e=>{let{sensor:r}=e;return r}))}function HFe(t,e){return T.useMemo(()=>t.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=o=>{a(o,e)},r},{}),[t,e])}function aie(t){return T.useMemo(()=>t?mFe(t):null,[t])}const _K=[];function QFe(t,e){e===void 0&&(e=E_);const[r]=t,n=aie(r?jh(r):null),[i,a]=T.useState(_K);function o(){a(()=>t.length?t.map(u=>eie(u)?n:new kF(e(u),u)):_K)}const c=Jk({callback:o});return cg(()=>{c?.disconnect(),o(),t.forEach(u=>c?.observe(u))},[t]),i}function oie(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return b_(e)?e:t}function zFe(t){let{measure:e}=t;const[r,n]=T.useState(null),i=T.useCallback(l=>{for(const{target:d}of l)if(b_(d)){n(f=>{const m=e(d);return f?{...f,width:m.width,height:m.height}:m});break}},[e]),a=Jk({callback:i}),o=T.useCallback(l=>{const d=oie(l);a?.disconnect(),d&&a?.observe(d),n(d?e(d):null)},[e,a]),[c,u]=XC(o);return T.useMemo(()=>({nodeRef:c,rect:r,setRef:u}),[r,c,u])}const VFe=[{sensor:BF,options:{}},{sensor:LF,options:{}}],KFe={current:{}},vj={draggable:{measure:pK},droppable:{measure:pK,strategy:d2.WhileDragging,frequency:_O.Optimized},dragOverlay:{measure:E_}};class xE extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,n;return(r=(n=this.get(e))==null?void 0:n.node.current)!=null?r:void 0}}const GFe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new xE,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:tN},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:vj,measureDroppableContainers:tN,windowRect:null,measuringScheduled:!1},lie={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:tN,draggableNodes:new Map,over:null,measureDroppableContainers:tN},__=T.createContext(lie),cie=T.createContext(GFe);function WFe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new xE}}}function YFe(t,e){switch(e.type){case Hu.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Hu.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case Hu.DragEnd:case Hu.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Hu.RegisterDroppable:{const{element:r}=e,{id:n}=r,i=new xE(t.droppable.containers);return i.set(n,r),{...t,droppable:{...t.droppable,containers:i}}}case Hu.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;const o=new xE(t.droppable.containers);return o.set(r,{...a,disabled:i}),{...t,droppable:{...t.droppable,containers:o}}}case Hu.UnregisterDroppable:{const{id:r,key:n}=e,i=t.droppable.containers.get(r);if(!i||n!==i.key)return t;const a=new xE(t.droppable.containers);return a.delete(r),{...t,droppable:{...t.droppable,containers:a}}}default:return t}}function qFe(t){let{disabled:e}=t;const{active:r,activatorEvent:n,draggableNodes:i}=T.useContext(__),a=ZC(n),o=ZC(r?.id);return T.useEffect(()=>{if(!e&&!n&&a&&o!=null){if(!CF(a)||document.activeElement===a.target)return;const c=i.get(o);if(!c)return;const{activatorNode:u,node:l}=c;if(!u.current&&!l.current)return;requestAnimationFrame(()=>{for(const d of[u.current,l.current]){if(!d)continue;const f=zMe(d);if(f){f.focus();break}}})}},[n,e,i,o,a]),null}function uie(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((i,a)=>a({transform:i,...n}),r):r}function XFe(t){return T.useMemo(()=>({draggable:{...vj.draggable,...t?.draggable},droppable:{...vj.droppable,...t?.droppable},dragOverlay:{...vj.dragOverlay,...t?.dragOverlay}}),[t?.draggable,t?.droppable,t?.dragOverlay])}function ZFe(t){let{activeNode:e,measure:r,initialRect:n,config:i=!0}=t;const a=T.useRef(!1),{x:o,y:c}=typeof i=="boolean"?{x:i,y:i}:i;cg(()=>{if(!o&&!c||!e){a.current=!1;return}if(a.current||!n)return;const l=e?.node.current;if(!l||l.isConnected===!1)return;const d=r(l),f=Yne(d,n);if(o||(f.x=0),c||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=Xne(l);m&&m.scrollBy({top:f.y,left:f.x})}},[e,o,c,n,r])}const e5=T.createContext({...zm,scaleX:1,scaleY:1});var g0;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(g0||(g0={}));const JFe=T.memo(function(e){var r,n,i,a;let{id:o,accessibility:c,autoScroll:u=!0,children:l,sensors:d=VFe,collisionDetection:f=lFe,measuring:m,modifiers:p,...g}=e;const x=T.useReducer(YFe,void 0,WFe),[y,w]=x,[E,_]=qMe(),[N,C]=T.useState(g0.Uninitialized),I=N===g0.Initialized,{draggable:{active:D,nodes:M,translate:Y},droppable:{containers:X}}=y,te=D!=null?M.get(D):null,de=T.useRef({initial:null,translated:null}),ye=T.useMemo(()=>{var Vr;return D!=null?{id:D,data:(Vr=te?.data)!=null?Vr:KFe,rect:de}:null},[D,te]),we=T.useRef(null),[ve,ne]=T.useState(null),[ae,oe]=T.useState(null),Re=c2(g,Object.values(g)),Pe=Zk("DndDescribedBy",o),be=T.useMemo(()=>X.getEnabled(),[X]),he=XFe(m),{droppableRects:Ie,measureDroppableContainers:Oe,measuringScheduled:$e}=PFe(be,{dragging:I,dependencies:[Y.x,Y.y],config:he.droppable}),De=IFe(M,D),ct=T.useMemo(()=>ae?eN(ae):null,[ae]),pt=on(),Ue=OFe(De,he.draggable.measure);ZFe({activeNode:D!=null?M.get(D):null,config:pt.layoutShiftCompensation,initialRect:Ue,measure:he.draggable.measure});const He=bK(De,he.draggable.measure,Ue),Ye=bK(De?De.parentElement:null),Se=T.useRef({activatorEvent:null,active:null,activeNode:De,collisionRect:null,collisions:null,droppableRects:Ie,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:X,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),mt=X.getNodeFor((r=Se.current.over)==null?void 0:r.id),qe=zFe({measure:he.dragOverlay.measure}),Tt=(n=qe.nodeRef.current)!=null?n:De,bt=I?(i=qe.rect)!=null?i:He:null,gt=!!(qe.nodeRef.current&&qe.rect),wt=MFe(gt?null:He),rr=aie(Tt?jh(Tt):null),Jt=FFe(I?mt??De:null),ar=QFe(Jt),Dr=uie(p,{transform:{x:Y.x-wt.x,y:Y.y-wt.y,scaleX:1,scaleY:1},activatorEvent:ae,active:ye,activeNodeRect:He,containerNodeRect:Ye,draggingNodeRect:bt,over:Se.current.over,overlayNodeRect:qe.rect,scrollableAncestors:Jt,scrollableAncestorRects:ar,windowRect:rr}),mn=ct?Tb(ct,Y):null,$r=UFe(Jt),or=EK($r),vr=EK($r,[He]),cn=Tb(Dr,or),bn=bt?dFe(bt,Dr):null,Un=ye&&bn?f({active:ye,collisionRect:bn,droppableRects:Ie,droppableContainers:be,pointerCoordinates:mn}):null,st=sFe(Un,"id"),[Ht,Lr]=T.useState(null),tr=gt?Dr:Tb(Dr,vr),Qt=cFe(tr,(a=Ht?.rect)!=null?a:null,He),dr=T.useRef(null),Wr=T.useCallback((Vr,xn)=>{let{sensor:An,options:Mn}=xn;if(we.current==null)return;const ci=M.get(we.current);if(!ci)return;const Cs=Vr.nativeEvent,Ms=new An({active:we.current,activeNode:ci,event:Cs,options:Mn,context:Se,onAbort(ti){if(!M.get(ti))return;const{onDragAbort:as}=Re.current,ta={id:ti};as?.(ta),E({type:"onDragAbort",event:ta})},onPending(ti,dn,as,ta){if(!M.get(ti))return;const{onDragPending:Ln}=Re.current,Fs={id:ti,constraint:dn,initialCoordinates:as,offset:ta};Ln?.(Fs),E({type:"onDragPending",event:Fs})},onStart(ti){const dn=we.current;if(dn==null)return;const as=M.get(dn);if(!as)return;const{onDragStart:ta}=Re.current,Tn={activatorEvent:Cs,active:{id:dn,data:as.data,rect:de}};j0.unstable_batchedUpdates(()=>{ta?.(Tn),C(g0.Initializing),w({type:Hu.DragStart,initialCoordinates:ti,active:dn}),E({type:"onDragStart",event:Tn}),ne(dr.current),oe(Cs)})},onMove(ti){w({type:Hu.DragMove,coordinates:ti})},onEnd:Ns(Hu.DragEnd),onCancel:Ns(Hu.DragCancel)});dr.current=Ms;function Ns(ti){return async function(){const{active:as,collisions:ta,over:Tn,scrollAdjustedTranslate:Ln}=Se.current;let Fs=null;if(as&&Ln){const{cancelDrop:Qs}=Re.current;Fs={activatorEvent:Cs,active:as,collisions:ta,delta:Ln,over:Tn},ti===Hu.DragEnd&&typeof Qs=="function"&&await Promise.resolve(Qs(Fs))&&(ti=Hu.DragCancel)}we.current=null,j0.unstable_batchedUpdates(()=>{w({type:ti}),C(g0.Uninitialized),Lr(null),ne(null),oe(null),dr.current=null;const Qs=ti===Hu.DragEnd?"onDragEnd":"onDragCancel";if(Fs){const Us=Re.current[Qs];Us?.(Fs),E({type:Qs,event:Fs})}})}}},[M]),Jr=T.useCallback((Vr,xn)=>(An,Mn)=>{const ci=An.nativeEvent,Cs=M.get(Mn);if(we.current!==null||!Cs||ci.dndKit||ci.defaultPrevented)return;const Ms={active:Cs};Vr(An,xn.options,Ms)===!0&&(ci.dndKit={capturedBy:xn.sensor},we.current=Mn,Wr(An,xn))},[M,Wr]),kn=BFe(d,Jr);$Fe(d),cg(()=>{He&&N===g0.Initializing&&C(g0.Initialized)},[He,N]),T.useEffect(()=>{const{onDragMove:Vr}=Re.current,{active:xn,activatorEvent:An,collisions:Mn,over:ci}=Se.current;if(!xn||!An)return;const Cs={active:xn,activatorEvent:An,collisions:Mn,delta:{x:cn.x,y:cn.y},over:ci};j0.unstable_batchedUpdates(()=>{Vr?.(Cs),E({type:"onDragMove",event:Cs})})},[cn.x,cn.y]),T.useEffect(()=>{const{active:Vr,activatorEvent:xn,collisions:An,droppableContainers:Mn,scrollAdjustedTranslate:ci}=Se.current;if(!Vr||we.current==null||!xn||!ci)return;const{onDragOver:Cs}=Re.current,Ms=Mn.get(st),Ns=Ms&&Ms.rect.current?{id:Ms.id,rect:Ms.rect.current,data:Ms.data,disabled:Ms.disabled}:null,ti={active:Vr,activatorEvent:xn,collisions:An,delta:{x:ci.x,y:ci.y},over:Ns};j0.unstable_batchedUpdates(()=>{Lr(Ns),Cs?.(ti),E({type:"onDragOver",event:ti})})},[st]),cg(()=>{Se.current={activatorEvent:ae,active:ye,activeNode:De,collisionRect:bn,collisions:Un,droppableRects:Ie,draggableNodes:M,draggingNode:Tt,draggingNodeRect:bt,droppableContainers:X,over:Ht,scrollableAncestors:Jt,scrollAdjustedTranslate:cn},de.current={initial:bt,translated:bn}},[ye,De,Un,bn,M,Tt,bt,Ie,X,Ht,Jt,cn]),NFe({...pt,delta:Y,draggingRect:bn,pointerCoordinates:mn,scrollableAncestors:Jt,scrollableAncestorRects:ar});const un=T.useMemo(()=>({active:ye,activeNode:De,activeNodeRect:He,activatorEvent:ae,collisions:Un,containerNodeRect:Ye,dragOverlay:qe,draggableNodes:M,droppableContainers:X,droppableRects:Ie,over:Ht,measureDroppableContainers:Oe,scrollableAncestors:Jt,scrollableAncestorRects:ar,measuringConfiguration:he,measuringScheduled:$e,windowRect:rr}),[ye,De,He,ae,Un,Ye,qe,M,X,Ie,Ht,Oe,Jt,ar,he,$e,rr]),Yn=T.useMemo(()=>({activatorEvent:ae,activators:kn,active:ye,activeNodeRect:He,ariaDescribedById:{draggable:Pe},dispatch:w,draggableNodes:M,over:Ht,measureDroppableContainers:Oe}),[ae,kn,ye,He,w,Pe,M,Ht,Oe]);return Ao.createElement(Wne.Provider,{value:_},Ao.createElement(__.Provider,{value:Yn},Ao.createElement(cie.Provider,{value:un},Ao.createElement(e5.Provider,{value:Qt},l)),Ao.createElement(qFe,{disabled:c?.restoreFocus===!1})),Ao.createElement(JMe,{...c,hiddenTextDescribedById:Pe}));function on(){const Vr=ve?.autoScrollEnabled===!1,xn=typeof u=="object"?u.enabled===!1:u===!1,An=I&&!Vr&&!xn;return typeof u=="object"?{...u,enabled:An}:{enabled:An}}}),eUe=T.createContext(null),SK="button",tUe="Draggable";function rUe(t){let{id:e,data:r,disabled:n=!1,attributes:i}=t;const a=Zk(tUe),{activators:o,activatorEvent:c,active:u,activeNodeRect:l,ariaDescribedById:d,draggableNodes:f,over:m}=T.useContext(__),{role:p=SK,roleDescription:g="draggable",tabIndex:x=0}=i??{},y=u?.id===e,w=T.useContext(y?e5:eUe),[E,_]=XC(),[N,C]=XC(),I=HFe(o,e),D=c2(r);cg(()=>(f.set(e,{id:e,key:a,node:E,activatorNode:N,data:D}),()=>{const Y=f.get(e);Y&&Y.key===a&&f.delete(e)}),[f,e]);const M=T.useMemo(()=>({role:p,tabIndex:x,"aria-disabled":n,"aria-pressed":y&&p===SK?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,p,x,y,g,d.draggable]);return{active:u,activatorEvent:c,activeNodeRect:l,attributes:M,isDragging:y,listeners:n?void 0:I,node:E,over:m,setNodeRef:_,setActivatorNodeRef:C,transform:w}}function nUe(){return T.useContext(cie)}const iUe="Droppable",sUe={timeout:25};function aUe(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:i}=t;const a=Zk(iUe),{active:o,dispatch:c,over:u,measureDroppableContainers:l}=T.useContext(__),d=T.useRef({disabled:r}),f=T.useRef(!1),m=T.useRef(null),p=T.useRef(null),{disabled:g,updateMeasurementsFor:x,timeout:y}={...sUe,...i},w=c2(x??n),E=T.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(w.current)?w.current:[w.current]),p.current=null},y)},[y]),_=Jk({callback:E,disabled:g||!o}),N=T.useCallback((M,Y)=>{_&&(Y&&(_.unobserve(Y),f.current=!1),M&&_.observe(M))},[_]),[C,I]=XC(N),D=c2(e);return T.useEffect(()=>{!_||!C.current||(_.disconnect(),f.current=!1,_.observe(C.current))},[C,_]),T.useEffect(()=>(c({type:Hu.RegisterDroppable,element:{id:n,key:a,disabled:r,node:C,rect:m,data:D}}),()=>c({type:Hu.UnregisterDroppable,key:a,id:n})),[n]),T.useEffect(()=>{r!==d.current.disabled&&(c({type:Hu.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,c]),{active:o,rect:m,isOver:u?.id===n,node:C,over:u,setNodeRef:I}}function oUe(t){let{animation:e,children:r}=t;const[n,i]=T.useState(null),[a,o]=T.useState(null),c=ZC(r);return!r&&!n&&c&&i(c),cg(()=>{if(!a)return;const u=n?.key,l=n?.props.id;if(u==null||l==null){i(null);return}Promise.resolve(e(l,a)).then(()=>{i(null)})},[e,n,a]),Ao.createElement(Ao.Fragment,null,r,n?T.cloneElement(n,{ref:o}):null)}const lUe={x:0,y:0,scaleX:1,scaleY:1};function cUe(t){let{children:e}=t;return Ao.createElement(__.Provider,{value:lie},Ao.createElement(e5.Provider,{value:lUe},e))}const uUe={position:"fixed",touchAction:"none"},dUe=t=>CF(t)?"transform 250ms ease":void 0,hUe=T.forwardRef((t,e)=>{let{as:r,activatorEvent:n,adjustScale:i,children:a,className:o,rect:c,style:u,transform:l,transition:d=dUe}=t;if(!c)return null;const f=i?l:{...l,scaleX:1,scaleY:1},m={...uUe,width:c.width,height:c.height,top:c.top,left:c.left,transform:u2.Transform.toString(f),transformOrigin:i&&n?rFe(n,c):void 0,transition:typeof d=="function"?d(n):d,...u};return Ao.createElement(r,{className:o,style:m,ref:e},a)}),fUe=t=>e=>{let{active:r,dragOverlay:n}=e;const i={},{styles:a,className:o}=t;if(a!=null&&a.active)for(const[c,u]of Object.entries(a.active))u!==void 0&&(i[c]=r.node.style.getPropertyValue(c),r.node.style.setProperty(c,u));if(a!=null&&a.dragOverlay)for(const[c,u]of Object.entries(a.dragOverlay))u!==void 0&&n.node.style.setProperty(c,u);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[u,l]of Object.entries(i))r.node.style.setProperty(u,l);o!=null&&o.active&&r.node.classList.remove(o.active)}},mUe=t=>{let{transform:{initial:e,final:r}}=t;return[{transform:u2.Transform.toString(e)},{transform:u2.Transform.toString(r)}]},AUe={duration:250,easing:"ease",keyframes:mUe,sideEffects:fUe({styles:{active:{opacity:"0"}}})};function pUe(t){let{config:e,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=t;return Xk((a,o)=>{if(e===null)return;const c=r.get(a);if(!c)return;const u=c.node.current;if(!u)return;const l=oie(o);if(!l)return;const{transform:d}=jh(o).getComputedStyle(o),f=qne(d);if(!f)return;const m=typeof e=="function"?e:gUe(e);return nie(u,i.draggable.measure),m({active:{id:a,data:c.data,node:u,rect:i.draggable.measure(u)},draggableNodes:r,dragOverlay:{node:o,rect:i.dragOverlay.measure(l)},droppableContainers:n,measuringConfiguration:i,transform:f})})}function gUe(t){const{duration:e,easing:r,sideEffects:n,keyframes:i}={...AUe,...t};return a=>{let{active:o,dragOverlay:c,transform:u,...l}=a;if(!e)return;const d={x:c.rect.left-o.rect.left,y:c.rect.top-o.rect.top},f={scaleX:u.scaleX!==1?o.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?o.rect.height*u.scaleY/c.rect.height:1},m={x:u.x-d.x,y:u.y-d.y,...f},p=i({...l,active:o,dragOverlay:c,transform:{initial:u,final:m}}),[g]=p,x=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(x))return;const y=n?.({active:o,dragOverlay:c,...l}),w=c.node.animate(p,{duration:e,easing:r,fill:"forwards"});return new Promise(E=>{w.onfinish=()=>{y?.(),E()}})}}let jK=0;function vUe(t){return T.useMemo(()=>{if(t!=null)return jK++,jK},[t])}const xUe=Ao.memo(t=>{let{adjustScale:e=!1,children:r,dropAnimation:n,style:i,transition:a,modifiers:o,wrapperElement:c="div",className:u,zIndex:l=999}=t;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:p,draggableNodes:g,droppableContainers:x,dragOverlay:y,over:w,measuringConfiguration:E,scrollableAncestors:_,scrollableAncestorRects:N,windowRect:C}=nUe(),I=T.useContext(e5),D=vUe(f?.id),M=uie(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:p,draggingNodeRect:y.rect,over:w,overlayNodeRect:y.rect,scrollableAncestors:_,scrollableAncestorRects:N,transform:I,windowRect:C}),Y=PF(m),X=pUe({config:n,draggableNodes:g,droppableContainers:x,measuringConfiguration:E}),te=Y?y.setRef:void 0;return Ao.createElement(cUe,null,Ao.createElement(oUe,{animation:X},f&&D?Ao.createElement(hUe,{key:D,id:f.id,ref:te,as:c,activatorEvent:d,adjustScale:e,className:u,transition:a,rect:Y,style:{zIndex:l,...i},transform:M},r):null))});function TK({id:t,children:e,data:r}){const{attributes:n,listeners:i,setNodeRef:a,transform:o,isDragging:c}=rUe({id:t,data:r}),u=o?{transform:`translate3d(${o.x}px, ${o.y}px, 0)`}:void 0;return s.jsx("div",{ref:a,style:u,...i,...n,className:`cursor-grab active:cursor-grabbing ${c?"opacity-50":""}`,children:e})}function yUe({event:t,children:e,isOver:r}){const{setNodeRef:n}=aUe({id:`event-${t.id}`,data:{event:t}});return s.jsx("div",{ref:n,className:`bg-gray-800/50 rounded-xl border-2 transition-all ${r?"border-orange-500 bg-orange-500/10":"border-gray-700/50"}`,children:e})}function bUe({events:t,crewMembers:e,equipment:r,onAssignCrew:n,onUnassignCrew:i,onAssignEquipment:a,onUnassignEquipment:o}){const[c,u]=T.useState(null),[l,d]=T.useState(null),[f,m]=T.useState(null),p=eFe(_I(BF,{activationConstraint:{distance:8}}),_I(sie,{activationConstraint:{delay:250,tolerance:5}}),_I(LF)),g=new Date;g.setHours(0,0,0,0);const x=t.filter(C=>new Date(C.date)>=g&&C.status!=="cancelled"&&C.status!=="completed").sort((C,I)=>new Date(C.date)-new Date(I.date));function y(C){u(C.active.id),d(C.active.data.current)}function w(C){m(C.over?.id||null)}function E(C){const{active:I,over:D}=C;if(D&&D.id.toString().startsWith("event-")){const M=D.id.toString().replace("event-",""),Y=t.find(X=>X.id===M);if(Y&&I.data.current){const{type:X,item:te}=I.data.current;X==="crew"?n(Y,te):X==="equipment"&&a(Y,te)}}u(null),d(null),m(null)}function _(){u(null),d(null),m(null)}function N(C){return new Date(C+"T00:00:00").toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}return new Set(x.flatMap(C=>C.crew_ids||[])),new Set(x.flatMap(C=>C.equipment_ids||[])),s.jsxs(JFe,{sensors:p,collisionDetection:aFe,onDragStart:y,onDragOver:w,onDragEnd:E,onDragCancel:_,children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[" Upcoming Events",s.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Drop crew & equipment here"})]}),s.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:[x.map(C=>{const I=f===`event-${C.id}`,D=e.filter(Y=>(C.crew_ids||[]).includes(Y.id)),M=r.filter(Y=>(C.equipment_ids||[]).includes(Y.id));return s.jsx(yUe,{event:C,isOver:I,children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-white",children:C.name}),s.jsx("p",{className:"text-orange-500 text-sm",children:C.client})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-400",children:N(C.date)}),s.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full inline-block mt-1 ${C.status==="confirmed"?"bg-green-500/20 text-green-400":C.status==="tentative"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:C.status})]})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[" Crew (",D.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:D.length===0?s.jsx("span",{className:"text-xs text-gray-600 italic",children:"No crew assigned"}):D.map(Y=>s.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded flex items-center gap-1 group",children:[Y.name,s.jsx("button",{onClick:()=>i(C,Y),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:""})]},Y.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[" Equipment (",M.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:M.length===0?s.jsx("span",{className:"text-xs text-gray-600 italic",children:"No equipment assigned"}):M.map(Y=>s.jsxs("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded flex items-center gap-1 group",children:[Y.name,s.jsx("button",{onClick:()=>o(C,Y),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:""})]},Y.id))})]})]})},C.id)}),x.length===0&&s.jsx("div",{className:"text-center text-gray-500 py-12",children:"No upcoming events to assign"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:" Crew Pool"}),s.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[e.map(C=>s.jsx(TK,{id:`crew-${C.id}`,data:{type:"crew",item:C},children:s.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-green-500/50 transition",children:[s.jsx("div",{className:"font-medium text-white text-sm",children:C.name}),s.jsx("div",{className:"text-xs text-gray-400",children:C.role||"No role"})]})},C.id)),e.length===0&&s.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No crew members"})]})]}),s.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:" Equipment Pool"}),s.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[r.map(C=>s.jsx(TK,{id:`equip-${C.id}`,data:{type:"equipment",item:C},children:s.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-blue-500/50 transition",children:[s.jsx("div",{className:"font-medium text-white text-sm",children:C.name}),s.jsxs("div",{className:"text-xs text-gray-400",children:[C.category,"  ",C.quantity]})]})},C.id)),r.length===0&&s.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No equipment"})]})]})]})]}),s.jsx(xUe,{children:c&&l&&s.jsx("div",{className:`p-2 rounded-lg border shadow-xl ${l.type==="crew"?"bg-green-600 border-green-500":"bg-blue-600 border-blue-500"}`,children:s.jsx("div",{className:"font-medium text-white text-sm",children:l.item.name})})})]})}function wUe(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[i,a]=T.useState([]),[o,c]=T.useState(!0),[u,l]=T.useState("grid"),[d,f]=T.useState(null),[m,p]=T.useState("events"),[g,x]=T.useState(!1),[y,w]=T.useState(!1),[E,_]=T.useState(!1),[N,C]=T.useState(null),[I,D]=T.useState(null),[M,Y]=T.useState(null),[X,te]=T.useState(null),[de,ye]=T.useState({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""}),[we,ve]=T.useState({name:"",role:"",phone:"",email:""}),[ne,ae]=T.useState({name:"",category:"Camera",quantity:1,notes:""}),[oe,Re]=T.useState("upcoming"),[Pe,be]=T.useState(new Date);T.useEffect(()=>{he()},[]);async function he(){c(!0);const[st,Ht,Lr]=await Promise.all([jr.from("production_events").select("*").order("date",{ascending:!0}),jr.from("crew_members").select("*").order("name"),jr.from("equipment_inventory").select("*").order("category, name")]);e(st.data||[]),n(Ht.data||[]),a(Lr.data||[]),c(!1)}const Ie=new Date;Ie.setHours(0,0,0,0);const Oe=t.filter(st=>new Date(st.date)>=Ie&&st.status!=="cancelled").length,$e=t.filter(st=>{const Ht=new Date(st.date);return Ht.getMonth()===Ie.getMonth()&&Ht.getFullYear()===Ie.getFullYear()&&st.status!=="cancelled"}).length,De=t.filter(st=>new Date(st.date)>=Ie&&(!st.crew_ids||st.crew_ids.length===0)).length,ct=t.filter(st=>{const Ht=new Date(st.date);return oe==="upcoming"?Ht>=Ie&&st.status!=="completed"&&st.status!=="cancelled":oe==="completed"?st.status==="completed":oe==="thisMonth"?Ht.getMonth()===Ie.getMonth()&&Ht.getFullYear()===Ie.getFullYear():!0});async function pt(st){st.preventDefault();const Ht={name:de.name,client:de.client,date:de.date,location:de.location,status:de.status,notes:de.notes,crew_ids:de.crew_ids,equipment_ids:de.equipment_ids,flight_links:de.flight_links.split(",").map(Lr=>Lr.trim()).filter(Boolean),accommodation_links:de.accommodation_links.split(",").map(Lr=>Lr.trim()).filter(Boolean),rental_links:de.rental_links.split(",").map(Lr=>Lr.trim()).filter(Boolean)};I?await jr.from("production_events").update(Ht).eq("id",I.id):await jr.from("production_events").insert([Ht]),x(!1),D(null),Ye(),he()}async function Ue(st){confirm("Delete this event? This cannot be undone.")&&(await jr.from("production_events").delete().eq("id",st),C(null),he())}function He(st){D(st),ye({name:st.name,client:st.client,date:st.date,location:st.location||"",status:st.status,notes:st.notes||"",crew_ids:st.crew_ids||[],equipment_ids:st.equipment_ids||[],flight_links:(st.flight_links||[]).join(", "),accommodation_links:(st.accommodation_links||[]).join(", "),rental_links:(st.rental_links||[]).join(", ")}),x(!0)}function Ye(){ye({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""})}async function Se(st){st.preventDefault(),M?await jr.from("crew_members").update(we).eq("id",M.id):await jr.from("crew_members").insert([we]),w(!1),Y(null),ve({name:"",role:"",phone:"",email:""}),he()}function mt(st){Y(st),ve({name:st.name,role:st.role||"",phone:st.phone||"",email:st.email||""}),w(!0)}async function qe(st){confirm("Delete this crew member?")&&(await jr.from("crew_members").delete().eq("id",st),he())}async function Tt(st){st.preventDefault(),X?await jr.from("equipment_inventory").update(ne).eq("id",X.id):await jr.from("equipment_inventory").insert([ne]),_(!1),te(null),ae({name:"",category:"Camera",quantity:1,notes:""}),he()}function bt(st){te(st),ae({name:st.name,category:st.category||"Camera",quantity:st.quantity||1,notes:st.notes||""}),_(!0)}async function gt(st){confirm("Delete this equipment?")&&(await jr.from("equipment_inventory").delete().eq("id",st),he())}async function wt(st,Ht,Lr){const tr=t.find(dr=>dr.id===st);if(!tr)return;const Qt=Lr?[...tr.crew_ids||[],Ht]:(tr.crew_ids||[]).filter(dr=>dr!==Ht);await jr.from("production_events").update({crew_ids:Qt}).eq("id",st),he(),N?.id===st&&C({...N,crew_ids:Qt})}async function rr(st,Ht,Lr){const tr=t.find(dr=>dr.id===st);if(!tr)return;const Qt=Lr?[...tr.equipment_ids||[],Ht]:(tr.equipment_ids||[]).filter(dr=>dr!==Ht);await jr.from("production_events").update({equipment_ids:Qt}).eq("id",st),he(),N?.id===st&&C({...N,equipment_ids:Qt})}function Jt(st){return new Date(st).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}function ar(st){return new Date(st).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function Dr(st){return(st||[]).map(Ht=>r.find(Lr=>Lr.id===Ht)).filter(Boolean)}function mn(st){return(st||[]).map(Ht=>i.find(Lr=>Lr.id===Ht)).filter(Boolean)}function $r(st){const[Ht,Lr,tr]=st.split("-").map(Number),Qt=new Date(Ht,Lr-1,tr),dr=new Date;dr.setHours(0,0,0,0);const Wr=Math.round((Qt-dr)/(1e3*60*60*24));return Wr===0?"Today":Wr===1?"Tomorrow":Wr<0?`${Math.abs(Wr)}d ago`:`${Wr}d`}const or={confirmed:"bg-green-500",tentative:"bg-yellow-500",completed:"bg-gray-500",cancelled:"bg-red-500"},vr={confirmed:"border-green-500/30",tentative:"border-yellow-500/30",completed:"border-gray-500/30",cancelled:"border-red-500/30"},cn=["Camera","Lens","Audio","Lighting","Support","Monitor","Power","Media","Transport","Other"];function bn(){const st=Pe.getFullYear(),Ht=Pe.getMonth(),Lr=new Date(st,Ht,1),tr=new Date(st,Ht+1,0),Qt=Lr.getDay(),dr=[];for(let Jr=Qt-1;Jr>=0;Jr--){const kn=new Date(st,Ht,-Jr);dr.push({date:kn,isCurrentMonth:!1})}for(let Jr=1;Jr<=tr.getDate();Jr++)dr.push({date:new Date(st,Ht,Jr),isCurrentMonth:!0});const Wr=42-dr.length;for(let Jr=1;Jr<=Wr;Jr++)dr.push({date:new Date(st,Ht+1,Jr),isCurrentMonth:!1});return dr}function Un(st){const Ht=st.getFullYear(),Lr=String(st.getMonth()+1).padStart(2,"0"),tr=String(st.getDate()).padStart(2,"0"),Qt=`${Ht}-${Lr}-${tr}`;return t.filter(dr=>dr.date===Qt)}return o?s.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:s.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Crew & Logistics"}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage teams, equipment, and travel for events"})]}),m==="events"&&s.jsxs("button",{onClick:()=>{Ye(),D(null),x(!0)},className:"bg-orange-600 hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]}),m==="crew"&&s.jsxs("button",{onClick:()=>{Y(null),ve({name:"",role:"",phone:"",email:""}),w(!0)},className:"bg-green-600 hover:bg-green-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Crew"]}),m==="equipment"&&s.jsxs("button",{onClick:()=>{te(null),ae({name:"",category:"Camera",quantity:1,notes:""}),_(!0)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Equipment"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-800/50 rounded-xl p-1 border border-gray-700/50",children:[s.jsxs("button",{onClick:()=>p("events"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${m==="events"?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Events"}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m==="events"?"bg-orange-700":"bg-gray-700"}`,children:Oe})]}),s.jsxs("button",{onClick:()=>p("crew"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${m==="crew"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Crew"}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m==="crew"?"bg-green-700":"bg-gray-700"}`,children:r.length})]}),s.jsxs("button",{onClick:()=>p("equipment"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${m==="equipment"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"Equipment"}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m==="equipment"?"bg-blue-700":"bg-gray-700"}`,children:i.length})]}),s.jsxs("button",{onClick:()=>p("assign"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${m==="assign"?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[s.jsx("span",{children:""}),s.jsx("span",{className:"hidden sm:inline",children:"Assign"})]})]}),m==="events"&&s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-orange-500",children:Oe}),s.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Upcoming Events"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:r.length}),s.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Crew Members"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[s.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:i.length}),s.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Equipment Items"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[s.jsx("div",{className:`text-2xl sm:text-3xl font-bold ${De>0?"text-red-500":"text-purple-500"}`,children:De>0?De:$e}),s.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:De>0?" Need Crew":"This Month"})]})]}),m==="events"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center overflow-x-auto pb-2 sm:pb-0 -mx-1 px-1",children:[s.jsx("span",{className:"text-gray-400 text-sm mr-3 whitespace-nowrap",children:"Filter:"}),s.jsx("div",{className:"flex space-x-2",children:[{key:"upcoming",label:"Upcoming"},{key:"all",label:"All"},{key:"thisMonth",label:"This Month"},{key:"completed",label:"Completed"}].map(st=>s.jsx("button",{onClick:()=>Re(st.key),className:`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap transition ${oe===st.key?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:st.label},st.key))})]}),s.jsxs("div",{className:"flex items-center space-x-1 bg-gray-800 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded ${u==="grid"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Grid View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),s.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded ${u==="list"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"List View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),s.jsx("button",{onClick:()=>l("calendar"),className:`p-2 rounded ${u==="calendar"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Calendar View",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),u==="grid"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[ct.map(st=>s.jsxs("div",{onClick:()=>C(st),className:`bg-gray-800/50 rounded-xl border ${vr[st.status]} p-4 sm:p-5 hover:border-orange-500/50 transition cursor-pointer`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("span",{className:`${or[st.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:st.status}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:Jt(st.date)}),s.jsx("div",{className:`text-xs ${new Date(st.date)<Ie?"text-gray-500":"text-orange-400"}`,children:$r(st.date)})]})]}),s.jsx("h3",{className:"font-bold text-white mb-1 line-clamp-1",children:st.name}),s.jsx("p",{className:"text-orange-500 text-sm mb-3",children:st.client}),st.location&&s.jsxs("p",{className:"text-gray-400 text-sm mb-3 flex items-center",children:[s.jsx("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),s.jsx("span",{className:"truncate",children:st.location})]}),s.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:`px-2 py-1 rounded ${(st.crew_ids?.length||0)>0?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:[" ",st.crew_ids?.length||0," crew"]}),s.jsxs("span",{className:`px-2 py-1 rounded ${(st.equipment_ids?.length||0)>0?"bg-blue-500/20 text-blue-400":"bg-gray-700 text-gray-500"}`,children:[" ",st.equipment_ids?.length||0," items"]}),(st.flight_links?.length||0)+(st.accommodation_links?.length||0)+(st.rental_links?.length||0)>0&&s.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/20 text-purple-400",children:" Travel"})]})]},st.id)),ct.length===0&&s.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:s.jsx("p",{children:"No events found."})})]}),u==="list"&&s.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[600px]",children:[s.jsx("thead",{className:"bg-gray-800/50",children:s.jsxs("tr",{className:"text-left text-gray-400 text-xs uppercase",children:[s.jsx("th",{className:"px-4 py-3",children:"Date"}),s.jsx("th",{className:"px-4 py-3",children:"Event"}),s.jsx("th",{className:"px-4 py-3 hidden sm:table-cell",children:"Client"}),s.jsx("th",{className:"px-4 py-3",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Crew"}),s.jsx("th",{className:"px-4 py-3 text-center",children:"Gear"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700/50",children:ct.map(st=>s.jsxs("tr",{onClick:()=>C(st),className:"hover:bg-gray-800/50 cursor-pointer transition",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"text-white text-sm",children:Jt(st.date)}),s.jsx("div",{className:`text-xs ${new Date(st.date)<Ie?"text-gray-500":"text-orange-400"}`,children:$r(st.date)})]}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-medium text-white",children:st.name}),s.jsx("div",{className:"text-sm text-gray-400 sm:hidden",children:st.client})]}),s.jsx("td",{className:"px-4 py-3 text-orange-500 text-sm hidden sm:table-cell",children:st.client}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`${or[st.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:st.status})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`text-sm ${(st.crew_ids?.length||0)>0?"text-green-400":"text-gray-500"}`,children:st.crew_ids?.length||0})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:`text-sm ${(st.equipment_ids?.length||0)>0?"text-blue-400":"text-gray-500"}`,children:st.equipment_ids?.length||0})})]},st.id))})]})}),ct.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500",children:"No events found."})]}),u==="calendar"&&s.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{onClick:()=>be(new Date(Pe.getFullYear(),Pe.getMonth()-1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),s.jsx("h3",{className:"text-lg font-bold text-white",children:Pe.toLocaleDateString("en-AU",{month:"long",year:"numeric"})}),s.jsx("button",{onClick:()=>be(new Date(Pe.getFullYear(),Pe.getMonth()+1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(st=>s.jsx("div",{className:"text-center text-xs text-gray-500 py-2 font-medium",children:st},st)),bn().map((st,Ht)=>{const Lr=Un(st.date),tr=st.date.toDateString()===new Date().toDateString();return s.jsxs("div",{className:`min-h-[80px] sm:min-h-[100px] p-1 border border-gray-700/30 rounded ${st.isCurrentMonth?"bg-gray-800/30":"bg-gray-900/30"} ${tr?"ring-2 ring-orange-500":""}`,children:[s.jsx("div",{className:`text-xs mb-1 ${st.isCurrentMonth?"text-gray-400":"text-gray-600"} ${tr?"text-orange-500 font-bold":""}`,children:st.date.getDate()}),s.jsxs("div",{className:"space-y-1",children:[Lr.slice(0,2).map(Qt=>s.jsx("div",{onClick:dr=>{dr.stopPropagation(),C(Qt)},className:`text-xs px-1 py-0.5 rounded truncate cursor-pointer ${or[Qt.status]} text-white`,children:Qt.name},Qt.id)),Lr.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 px-1",children:["+",Lr.length-2," more"]})]})]},Ht)})]})]})]}),m==="crew"&&s.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-lg font-bold text-white",children:" Crew Members"})}),s.jsxs("div",{className:"space-y-2",children:[r.map(st=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>mt(st),children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"font-medium text-white",children:st.name}),s.jsx("div",{className:"text-sm text-gray-400 truncate",children:st.role||"No role assigned"})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[st.phone&&s.jsx("a",{href:`tel:${st.phone}`,onClick:Ht=>Ht.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:""}),st.email&&s.jsx("a",{href:`mailto:${st.email}`,onClick:Ht=>Ht.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:""}),s.jsx("button",{onClick:Ht=>{Ht.stopPropagation(),qe(st.id)},className:"p-2 text-red-500/50 hover:text-red-500 hover:bg-red-500/10 rounded",children:""})]})]},st.id)),r.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:'No crew members yet. Click "Add Crew" to add one.'})]})]}),m==="equipment"&&s.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h3",{className:"text-lg font-bold text-white",children:" Equipment Inventory"})}),s.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[cn.filter(st=>i.some(Ht=>Ht.category===st)).map(st=>s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2 sticky top-0 bg-gray-800/90 py-1",children:st}),i.filter(Ht=>Ht.category===st).map(Ht=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700/30 rounded mb-1 hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>bt(Ht),children:[s.jsx("span",{className:"text-white text-sm",children:Ht.name}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:["",Ht.quantity]}),s.jsx("button",{onClick:Lr=>{Lr.stopPropagation(),gt(Ht.id)},className:"text-red-500/50 hover:text-red-500 text-xs",children:""})]})]},Ht.id))]},st)),i.length===0&&s.jsx("p",{className:"text-gray-500 text-center py-8",children:'No equipment yet. Click "Add Equipment" to add some.'})]})]}),m==="assign"&&s.jsx(bUe,{events:t,crewMembers:r,equipment:i,onAssignCrew:async(st,Ht)=>{const Lr=[...st.crew_ids||[],Ht.id];await jr.from("production_events").update({crew_ids:Lr}).eq("id",st.id),e(t.map(tr=>tr.id===st.id?{...tr,crew_ids:Lr}:tr))},onUnassignCrew:async(st,Ht)=>{const Lr=(st.crew_ids||[]).filter(tr=>tr!==Ht.id);await jr.from("production_events").update({crew_ids:Lr}).eq("id",st.id),e(t.map(tr=>tr.id===st.id?{...tr,crew_ids:Lr}:tr))},onAssignEquipment:async(st,Ht)=>{const Lr=[...st.equipment_ids||[],Ht.id];await jr.from("production_events").update({equipment_ids:Lr}).eq("id",st.id),e(t.map(tr=>tr.id===st.id?{...tr,equipment_ids:Lr}:tr))},onUnassignEquipment:async(st,Ht)=>{const Lr=(st.equipment_ids||[]).filter(tr=>tr!==Ht.id);await jr.from("production_events").update({equipment_ids:Lr}).eq("id",st.id),e(t.map(tr=>tr.id===st.id?{...tr,equipment_ids:Lr}:tr))}}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl my-4",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:I?"Edit Event":"New Event"}),s.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),s.jsxs("form",{onSubmit:pt,className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name *"}),s.jsx("input",{type:"text",required:!0,value:de.name,onChange:st=>ye({...de,name:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Client *"}),s.jsx("input",{type:"text",required:!0,value:de.client,onChange:st=>ye({...de,client:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date *"}),s.jsx("input",{type:"date",required:!0,value:de.date,onChange:st=>ye({...de,date:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),s.jsxs("select",{value:de.status,onChange:st=>ye({...de,status:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none",children:[s.jsx("option",{value:"tentative",children:"Tentative"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),s.jsx("input",{type:"text",value:de.location,onChange:st=>ye({...de,location:st.target.value}),placeholder:"Venue, City",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),s.jsx("textarea",{rows:"2",value:de.notes,onChange:st=>ye({...de,notes:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Crew"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[r.map(st=>s.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[s.jsx("input",{type:"checkbox",checked:de.crew_ids.includes(st.id),onChange:Ht=>{const Lr=Ht.target.checked?[...de.crew_ids,st.id]:de.crew_ids.filter(tr=>tr!==st.id);ye({...de,crew_ids:Lr})},className:"rounded border-gray-600 text-orange-500 focus:ring-orange-500"}),s.jsx("span",{className:"text-white text-sm",children:st.name})]},st.id)),r.length===0&&s.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No crew members to assign"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Equipment"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-40 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[i.map(st=>s.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[s.jsx("input",{type:"checkbox",checked:de.equipment_ids.includes(st.id),onChange:Ht=>{const Lr=Ht.target.checked?[...de.equipment_ids,st.id]:de.equipment_ids.filter(tr=>tr!==st.id);ye({...de,equipment_ids:Lr})},className:"rounded border-gray-600 text-blue-500 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-white truncate",children:st.name})]},st.id)),i.length===0&&s.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No equipment to assign"})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[s.jsx("h4",{className:"font-medium text-white mb-3",children:" Travel & Logistics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Flight Links"}),s.jsx("input",{type:"text",value:de.flight_links,onChange:st=>ye({...de,flight_links:st.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Accommodation Links"}),s.jsx("input",{type:"text",value:de.accommodation_links,onChange:st=>ye({...de,accommodation_links:st.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Rental Car Links"}),s.jsx("input",{type:"text",value:de.rental_links,onChange:st=>ye({...de,rental_links:st.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]})]})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:I?"Save Changes":"Create Event"})]})]})]})}),N&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-3xl my-4",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:N.name}),s.jsx("p",{className:"text-orange-500 text-sm",children:N.client})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{f(N),C(null)},className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium flex items-center gap-1",children:" Brief"}),s.jsx("button",{onClick:()=>{He(N),C(null)},className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-700 rounded text-sm font-medium",children:"Edit"}),s.jsx("button",{onClick:()=>C(null),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Date"}),s.jsx("p",{className:"font-medium text-white",children:ar(N.date)}),s.jsx("p",{className:`text-sm ${new Date(N.date)<Ie?"text-gray-500":"text-orange-400"}`,children:$r(N.date)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Location"}),s.jsx("p",{className:"font-medium text-white",children:N.location||"TBD"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Status"}),s.jsx("p",{children:s.jsx("span",{className:`${or[N.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:N.status})})]})]}),N.notes&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Notes"}),s.jsx("p",{className:"mt-1 text-gray-300 text-sm",children:N.notes})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-medium text-white",children:[" Crew (",Dr(N.crew_ids).length,")"]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(st=>{const Ht=(N.crew_ids||[]).includes(st.id);return s.jsxs("div",{onClick:()=>wt(N.id,st.id,!Ht),className:`p-3 rounded-lg cursor-pointer transition flex items-center justify-between ${Ht?"bg-green-500/20 border border-green-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white",children:st.name}),s.jsx("span",{className:"text-gray-400 text-sm ml-2",children:st.role})]}),Ht?s.jsx("span",{className:"text-green-400 text-sm",children:" Assigned"}):s.jsx("span",{className:"text-gray-500 text-sm",children:"+ Add"})]},st.id)})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-3",children:s.jsxs("h4",{className:"font-medium text-white",children:[" Equipment (",mn(N.equipment_ids).length,")"]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:i.map(st=>{const Ht=(N.equipment_ids||[]).includes(st.id);return s.jsxs("div",{onClick:()=>rr(N.id,st.id,!Ht),className:`p-2 rounded-lg cursor-pointer transition flex items-center justify-between ${Ht?"bg-blue-500/20 border border-blue-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[s.jsx("span",{className:"text-white text-sm truncate",children:st.name}),Ht?s.jsx("span",{className:"text-blue-400 text-xs ml-2",children:""}):s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"+"})]},st.id)})})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[s.jsx("h4",{className:"font-medium text-white mb-4",children:" Travel & Logistics"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Flights"}),N.flight_links?.length?N.flight_links.map((st,Ht)=>s.jsxs("a",{href:st,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Flight ",Ht+1]},Ht)):s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Accommodation"}),N.accommodation_links?.length?N.accommodation_links.map((st,Ht)=>s.jsxs("a",{href:st,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Booking ",Ht+1]},Ht)):s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Rental Cars"}),N.rental_links?.length?N.rental_links.map((st,Ht)=>s.jsxs("a",{href:st,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:[" Rental ",Ht+1]},Ht)):s.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:s.jsx("button",{onClick:()=>Ue(N.id),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg text-sm",children:" Delete Event"})})]})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:M?"Edit Crew Member":"Add Crew Member"}),s.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),s.jsxs("form",{onSubmit:Se,className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name *"}),s.jsx("input",{type:"text",required:!0,value:we.name,onChange:st=>ve({...we,name:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),s.jsx("input",{type:"text",value:we.role,onChange:st=>ve({...we,role:st.target.value}),placeholder:"e.g. Camera Operator, Director, Audio",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:we.phone,onChange:st=>ve({...we,phone:st.target.value}),placeholder:"0400 000 000",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:we.email,onChange:st=>ve({...we,email:st.target.value}),placeholder:"name@email.com",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:M?"Save Changes":"Add Crew"})]})]})]})}),d&&s.jsx(UMe,{event:d,crew:r,equipment:i,onClose:()=>f(null)}),E&&s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:X?"Edit Equipment":"Add Equipment"}),s.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:""})]}),s.jsxs("form",{onSubmit:Tt,className:"p-4 sm:p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Equipment Name *"}),s.jsx("input",{type:"text",required:!0,value:ne.name,onChange:st=>ae({...ne,name:st.target.value}),placeholder:"e.g. Sony FX6",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),s.jsx("select",{value:ne.category,onChange:st=>ae({...ne,category:st.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none",children:cn.map(st=>s.jsx("option",{value:st,children:st},st))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Quantity"}),s.jsx("input",{type:"number",min:"1",value:ne.quantity,onChange:st=>ae({...ne,quantity:parseInt(st.target.value)||1}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),s.jsx("input",{type:"text",value:ne.notes||"",onChange:st=>ae({...ne,notes:st.target.value}),placeholder:"Serial number, condition, etc.",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-white",children:X?"Save Changes":"Add Equipment"})]})]})]})})]})}function EUe(t,e){const r=T.useRef(e);T.useEffect(function(){e!==r.current&&t.attributionControl!=null&&(r.current!=null&&t.attributionControl.removeAttribution(r.current),e!=null&&t.attributionControl.addAttribution(e)),r.current=e},[t,e])}function _Ue(t,e,r){e.center!==r.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==r.radius&&t.setRadius(e.radius)}const SUe=1;function jUe(t){return Object.freeze({__version:SUe,map:t})}function die(t,e){return Object.freeze({...t,...e})}const OF=T.createContext(null);function RF(){const t=T.use(OF);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function hie(t){function e(r,n){const{instance:i,context:a}=t(r).current;T.useImperativeHandle(n,()=>i);const{children:o}=r;return o==null?null:Ao.createElement(OF,{value:a},o)}return T.forwardRef(e)}function TUe(t){function e(r,n){const{instance:i}=t(r).current;return T.useImperativeHandle(n,()=>i),null}return T.forwardRef(e)}function fie(t,e){const r=T.useRef(void 0);T.useEffect(function(){return e!=null&&t.instance.on(e),r.current=e,function(){r.current!=null&&t.instance.off(r.current),r.current=null}},[t,e])}function DF(t,e){const r=t.pane??e.pane;return r?{...t,pane:r}:t}var Rw={exports:{}};var CUe=Rw.exports,CK;function NUe(){return CK||(CK=1,(function(t,e){(function(r,n){n(e)})(CUe,(function(r){var n="1.9.4";function i(v){var S,Q,le,Ee;for(Q=1,le=arguments.length;Q<le;Q++){Ee=arguments[Q];for(S in Ee)v[S]=Ee[S]}return v}var a=Object.create||(function(){function v(){}return function(S){return v.prototype=S,new v}})();function o(v,S){var Q=Array.prototype.slice;if(v.bind)return v.bind.apply(v,Q.call(arguments,1));var le=Q.call(arguments,2);return function(){return v.apply(S,le.length?le.concat(Q.call(arguments)):arguments)}}var c=0;function u(v){return"_leaflet_id"in v||(v._leaflet_id=++c),v._leaflet_id}function l(v,S,Q){var le,Ee,Ke,kt;return kt=function(){le=!1,Ee&&(Ke.apply(Q,Ee),Ee=!1)},Ke=function(){le?Ee=arguments:(v.apply(Q,arguments),setTimeout(kt,S),le=!0)},Ke}function d(v,S,Q){var le=S[1],Ee=S[0],Ke=le-Ee;return v===le&&Q?v:((v-Ee)%Ke+Ke)%Ke+Ee}function f(){return!1}function m(v,S){if(S===!1)return v;var Q=Math.pow(10,S===void 0?6:S);return Math.round(v*Q)/Q}function p(v){return v.trim?v.trim():v.replace(/^\s+|\s+$/g,"")}function g(v){return p(v).split(/\s+/)}function x(v,S){Object.prototype.hasOwnProperty.call(v,"options")||(v.options=v.options?a(v.options):{});for(var Q in S)v.options[Q]=S[Q];return v.options}function y(v,S,Q){var le=[];for(var Ee in v)le.push(encodeURIComponent(Q?Ee.toUpperCase():Ee)+"="+encodeURIComponent(v[Ee]));return(!S||S.indexOf("?")===-1?"?":"&")+le.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function E(v,S){return v.replace(w,function(Q,le){var Ee=S[le];if(Ee===void 0)throw new Error("No value provided for variable "+Q);return typeof Ee=="function"&&(Ee=Ee(S)),Ee})}var _=Array.isArray||function(v){return Object.prototype.toString.call(v)==="[object Array]"};function N(v,S){for(var Q=0;Q<v.length;Q++)if(v[Q]===S)return Q;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(v){return window["webkit"+v]||window["moz"+v]||window["ms"+v]}var D=0;function M(v){var S=+new Date,Q=Math.max(0,16-(S-D));return D=S+Q,window.setTimeout(v,Q)}var Y=window.requestAnimationFrame||I("RequestAnimationFrame")||M,X=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(v){window.clearTimeout(v)};function te(v,S,Q){if(Q&&Y===M)v.call(S);else return Y.call(window,o(v,S))}function de(v){v&&X.call(window,v)}var ye={__proto__:null,extend:i,create:a,bind:o,get lastId(){return c},stamp:u,throttle:l,wrapNum:d,falseFn:f,formatNum:m,trim:p,splitWords:g,setOptions:x,getParamString:y,template:E,isArray:_,indexOf:N,emptyImageUrl:C,requestFn:Y,cancelFn:X,requestAnimFrame:te,cancelAnimFrame:de};function we(){}we.extend=function(v){var S=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Q=S.__super__=this.prototype,le=a(Q);le.constructor=S,S.prototype=le;for(var Ee in this)Object.prototype.hasOwnProperty.call(this,Ee)&&Ee!=="prototype"&&Ee!=="__super__"&&(S[Ee]=this[Ee]);return v.statics&&i(S,v.statics),v.includes&&(ve(v.includes),i.apply(null,[le].concat(v.includes))),i(le,v),delete le.statics,delete le.includes,le.options&&(le.options=Q.options?a(Q.options):{},i(le.options,v.options)),le._initHooks=[],le.callInitHooks=function(){if(!this._initHooksCalled){Q.callInitHooks&&Q.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ke=0,kt=le._initHooks.length;Ke<kt;Ke++)le._initHooks[Ke].call(this)}},S},we.include=function(v){var S=this.prototype.options;return i(this.prototype,v),v.options&&(this.prototype.options=S,this.mergeOptions(v.options)),this},we.mergeOptions=function(v){return i(this.prototype.options,v),this},we.addInitHook=function(v){var S=Array.prototype.slice.call(arguments,1),Q=typeof v=="function"?v:function(){this[v].apply(this,S)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Q),this};function ve(v){if(!(typeof L>"u"||!L||!L.Mixin)){v=_(v)?v:[v];for(var S=0;S<v.length;S++)v[S]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(v,S,Q){if(typeof v=="object")for(var le in v)this._on(le,v[le],S);else{v=g(v);for(var Ee=0,Ke=v.length;Ee<Ke;Ee++)this._on(v[Ee],S,Q)}return this},off:function(v,S,Q){if(!arguments.length)delete this._events;else if(typeof v=="object")for(var le in v)this._off(le,v[le],S);else{v=g(v);for(var Ee=arguments.length===1,Ke=0,kt=v.length;Ke<kt;Ke++)Ee?this._off(v[Ke]):this._off(v[Ke],S,Q)}return this},_on:function(v,S,Q,le){if(typeof S!="function"){console.warn("wrong listener type: "+typeof S);return}if(this._listens(v,S,Q)===!1){Q===this&&(Q=void 0);var Ee={fn:S,ctx:Q};le&&(Ee.once=!0),this._events=this._events||{},this._events[v]=this._events[v]||[],this._events[v].push(Ee)}},_off:function(v,S,Q){var le,Ee,Ke;if(this._events&&(le=this._events[v],!!le)){if(arguments.length===1){if(this._firingCount)for(Ee=0,Ke=le.length;Ee<Ke;Ee++)le[Ee].fn=f;delete this._events[v];return}if(typeof S!="function"){console.warn("wrong listener type: "+typeof S);return}var kt=this._listens(v,S,Q);if(kt!==!1){var er=le[kt];this._firingCount&&(er.fn=f,this._events[v]=le=le.slice()),le.splice(kt,1)}}},fire:function(v,S,Q){if(!this.listens(v,Q))return this;var le=i({},S,{type:v,target:this,sourceTarget:S&&S.sourceTarget||this});if(this._events){var Ee=this._events[v];if(Ee){this._firingCount=this._firingCount+1||1;for(var Ke=0,kt=Ee.length;Ke<kt;Ke++){var er=Ee[Ke],Sr=er.fn;er.once&&this.off(v,Sr,er.ctx),Sr.call(er.ctx||this,le)}this._firingCount--}}return Q&&this._propagateEvent(le),this},listens:function(v,S,Q,le){typeof v!="string"&&console.warn('"string" type argument expected');var Ee=S;typeof S!="function"&&(le=!!S,Ee=void 0,Q=void 0);var Ke=this._events&&this._events[v];if(Ke&&Ke.length&&this._listens(v,Ee,Q)!==!1)return!0;if(le){for(var kt in this._eventParents)if(this._eventParents[kt].listens(v,S,Q,le))return!0}return!1},_listens:function(v,S,Q){if(!this._events)return!1;var le=this._events[v]||[];if(!S)return!!le.length;Q===this&&(Q=void 0);for(var Ee=0,Ke=le.length;Ee<Ke;Ee++)if(le[Ee].fn===S&&le[Ee].ctx===Q)return Ee;return!1},once:function(v,S,Q){if(typeof v=="object")for(var le in v)this._on(le,v[le],S,!0);else{v=g(v);for(var Ee=0,Ke=v.length;Ee<Ke;Ee++)this._on(v[Ee],S,Q,!0)}return this},addEventParent:function(v){return this._eventParents=this._eventParents||{},this._eventParents[u(v)]=v,this},removeEventParent:function(v){return this._eventParents&&delete this._eventParents[u(v)],this},_propagateEvent:function(v){for(var S in this._eventParents)this._eventParents[S].fire(v.type,i({layer:v.target,propagatedFrom:v.target},v),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var ae=we.extend(ne);function oe(v,S,Q){this.x=Q?Math.round(v):v,this.y=Q?Math.round(S):S}var Re=Math.trunc||function(v){return v>0?Math.floor(v):Math.ceil(v)};oe.prototype={clone:function(){return new oe(this.x,this.y)},add:function(v){return this.clone()._add(Pe(v))},_add:function(v){return this.x+=v.x,this.y+=v.y,this},subtract:function(v){return this.clone()._subtract(Pe(v))},_subtract:function(v){return this.x-=v.x,this.y-=v.y,this},divideBy:function(v){return this.clone()._divideBy(v)},_divideBy:function(v){return this.x/=v,this.y/=v,this},multiplyBy:function(v){return this.clone()._multiplyBy(v)},_multiplyBy:function(v){return this.x*=v,this.y*=v,this},scaleBy:function(v){return new oe(this.x*v.x,this.y*v.y)},unscaleBy:function(v){return new oe(this.x/v.x,this.y/v.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(v){v=Pe(v);var S=v.x-this.x,Q=v.y-this.y;return Math.sqrt(S*S+Q*Q)},equals:function(v){return v=Pe(v),v.x===this.x&&v.y===this.y},contains:function(v){return v=Pe(v),Math.abs(v.x)<=Math.abs(this.x)&&Math.abs(v.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function Pe(v,S,Q){return v instanceof oe?v:_(v)?new oe(v[0],v[1]):v==null?v:typeof v=="object"&&"x"in v&&"y"in v?new oe(v.x,v.y):new oe(v,S,Q)}function be(v,S){if(v)for(var Q=S?[v,S]:v,le=0,Ee=Q.length;le<Ee;le++)this.extend(Q[le])}be.prototype={extend:function(v){var S,Q;if(!v)return this;if(v instanceof oe||typeof v[0]=="number"||"x"in v)S=Q=Pe(v);else if(v=he(v),S=v.min,Q=v.max,!S||!Q)return this;return!this.min&&!this.max?(this.min=S.clone(),this.max=Q.clone()):(this.min.x=Math.min(S.x,this.min.x),this.max.x=Math.max(Q.x,this.max.x),this.min.y=Math.min(S.y,this.min.y),this.max.y=Math.max(Q.y,this.max.y)),this},getCenter:function(v){return Pe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,v)},getBottomLeft:function(){return Pe(this.min.x,this.max.y)},getTopRight:function(){return Pe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(v){var S,Q;return typeof v[0]=="number"||v instanceof oe?v=Pe(v):v=he(v),v instanceof be?(S=v.min,Q=v.max):S=Q=v,S.x>=this.min.x&&Q.x<=this.max.x&&S.y>=this.min.y&&Q.y<=this.max.y},intersects:function(v){v=he(v);var S=this.min,Q=this.max,le=v.min,Ee=v.max,Ke=Ee.x>=S.x&&le.x<=Q.x,kt=Ee.y>=S.y&&le.y<=Q.y;return Ke&&kt},overlaps:function(v){v=he(v);var S=this.min,Q=this.max,le=v.min,Ee=v.max,Ke=Ee.x>S.x&&le.x<Q.x,kt=Ee.y>S.y&&le.y<Q.y;return Ke&&kt},isValid:function(){return!!(this.min&&this.max)},pad:function(v){var S=this.min,Q=this.max,le=Math.abs(S.x-Q.x)*v,Ee=Math.abs(S.y-Q.y)*v;return he(Pe(S.x-le,S.y-Ee),Pe(Q.x+le,Q.y+Ee))},equals:function(v){return v?(v=he(v),this.min.equals(v.getTopLeft())&&this.max.equals(v.getBottomRight())):!1}};function he(v,S){return!v||v instanceof be?v:new be(v,S)}function Ie(v,S){if(v)for(var Q=S?[v,S]:v,le=0,Ee=Q.length;le<Ee;le++)this.extend(Q[le])}Ie.prototype={extend:function(v){var S=this._southWest,Q=this._northEast,le,Ee;if(v instanceof $e)le=v,Ee=v;else if(v instanceof Ie){if(le=v._southWest,Ee=v._northEast,!le||!Ee)return this}else return v?this.extend(De(v)||Oe(v)):this;return!S&&!Q?(this._southWest=new $e(le.lat,le.lng),this._northEast=new $e(Ee.lat,Ee.lng)):(S.lat=Math.min(le.lat,S.lat),S.lng=Math.min(le.lng,S.lng),Q.lat=Math.max(Ee.lat,Q.lat),Q.lng=Math.max(Ee.lng,Q.lng)),this},pad:function(v){var S=this._southWest,Q=this._northEast,le=Math.abs(S.lat-Q.lat)*v,Ee=Math.abs(S.lng-Q.lng)*v;return new Ie(new $e(S.lat-le,S.lng-Ee),new $e(Q.lat+le,Q.lng+Ee))},getCenter:function(){return new $e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $e(this.getNorth(),this.getWest())},getSouthEast:function(){return new $e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(v){typeof v[0]=="number"||v instanceof $e||"lat"in v?v=De(v):v=Oe(v);var S=this._southWest,Q=this._northEast,le,Ee;return v instanceof Ie?(le=v.getSouthWest(),Ee=v.getNorthEast()):le=Ee=v,le.lat>=S.lat&&Ee.lat<=Q.lat&&le.lng>=S.lng&&Ee.lng<=Q.lng},intersects:function(v){v=Oe(v);var S=this._southWest,Q=this._northEast,le=v.getSouthWest(),Ee=v.getNorthEast(),Ke=Ee.lat>=S.lat&&le.lat<=Q.lat,kt=Ee.lng>=S.lng&&le.lng<=Q.lng;return Ke&&kt},overlaps:function(v){v=Oe(v);var S=this._southWest,Q=this._northEast,le=v.getSouthWest(),Ee=v.getNorthEast(),Ke=Ee.lat>S.lat&&le.lat<Q.lat,kt=Ee.lng>S.lng&&le.lng<Q.lng;return Ke&&kt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(v,S){return v?(v=Oe(v),this._southWest.equals(v.getSouthWest(),S)&&this._northEast.equals(v.getNorthEast(),S)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Oe(v,S){return v instanceof Ie?v:new Ie(v,S)}function $e(v,S,Q){if(isNaN(v)||isNaN(S))throw new Error("Invalid LatLng object: ("+v+", "+S+")");this.lat=+v,this.lng=+S,Q!==void 0&&(this.alt=+Q)}$e.prototype={equals:function(v,S){if(!v)return!1;v=De(v);var Q=Math.max(Math.abs(this.lat-v.lat),Math.abs(this.lng-v.lng));return Q<=(S===void 0?1e-9:S)},toString:function(v){return"LatLng("+m(this.lat,v)+", "+m(this.lng,v)+")"},distanceTo:function(v){return pt.distance(this,De(v))},wrap:function(){return pt.wrapLatLng(this)},toBounds:function(v){var S=180*v/40075017,Q=S/Math.cos(Math.PI/180*this.lat);return Oe([this.lat-S,this.lng-Q],[this.lat+S,this.lng+Q])},clone:function(){return new $e(this.lat,this.lng,this.alt)}};function De(v,S,Q){return v instanceof $e?v:_(v)&&typeof v[0]!="object"?v.length===3?new $e(v[0],v[1],v[2]):v.length===2?new $e(v[0],v[1]):null:v==null?v:typeof v=="object"&&"lat"in v?new $e(v.lat,"lng"in v?v.lng:v.lon,v.alt):S===void 0?null:new $e(v,S,Q)}var ct={latLngToPoint:function(v,S){var Q=this.projection.project(v),le=this.scale(S);return this.transformation._transform(Q,le)},pointToLatLng:function(v,S){var Q=this.scale(S),le=this.transformation.untransform(v,Q);return this.projection.unproject(le)},project:function(v){return this.projection.project(v)},unproject:function(v){return this.projection.unproject(v)},scale:function(v){return 256*Math.pow(2,v)},zoom:function(v){return Math.log(v/256)/Math.LN2},getProjectedBounds:function(v){if(this.infinite)return null;var S=this.projection.bounds,Q=this.scale(v),le=this.transformation.transform(S.min,Q),Ee=this.transformation.transform(S.max,Q);return new be(le,Ee)},infinite:!1,wrapLatLng:function(v){var S=this.wrapLng?d(v.lng,this.wrapLng,!0):v.lng,Q=this.wrapLat?d(v.lat,this.wrapLat,!0):v.lat,le=v.alt;return new $e(Q,S,le)},wrapLatLngBounds:function(v){var S=v.getCenter(),Q=this.wrapLatLng(S),le=S.lat-Q.lat,Ee=S.lng-Q.lng;if(le===0&&Ee===0)return v;var Ke=v.getSouthWest(),kt=v.getNorthEast(),er=new $e(Ke.lat-le,Ke.lng-Ee),Sr=new $e(kt.lat-le,kt.lng-Ee);return new Ie(er,Sr)}},pt=i({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(v,S){var Q=Math.PI/180,le=v.lat*Q,Ee=S.lat*Q,Ke=Math.sin((S.lat-v.lat)*Q/2),kt=Math.sin((S.lng-v.lng)*Q/2),er=Ke*Ke+Math.cos(le)*Math.cos(Ee)*kt*kt,Sr=2*Math.atan2(Math.sqrt(er),Math.sqrt(1-er));return this.R*Sr}}),Ue=6378137,He={R:Ue,MAX_LATITUDE:85.0511287798,project:function(v){var S=Math.PI/180,Q=this.MAX_LATITUDE,le=Math.max(Math.min(Q,v.lat),-Q),Ee=Math.sin(le*S);return new oe(this.R*v.lng*S,this.R*Math.log((1+Ee)/(1-Ee))/2)},unproject:function(v){var S=180/Math.PI;return new $e((2*Math.atan(Math.exp(v.y/this.R))-Math.PI/2)*S,v.x*S/this.R)},bounds:(function(){var v=Ue*Math.PI;return new be([-v,-v],[v,v])})()};function Ye(v,S,Q,le){if(_(v)){this._a=v[0],this._b=v[1],this._c=v[2],this._d=v[3];return}this._a=v,this._b=S,this._c=Q,this._d=le}Ye.prototype={transform:function(v,S){return this._transform(v.clone(),S)},_transform:function(v,S){return S=S||1,v.x=S*(this._a*v.x+this._b),v.y=S*(this._c*v.y+this._d),v},untransform:function(v,S){return S=S||1,new oe((v.x/S-this._b)/this._a,(v.y/S-this._d)/this._c)}};function Se(v,S,Q,le){return new Ye(v,S,Q,le)}var mt=i({},pt,{code:"EPSG:3857",projection:He,transformation:(function(){var v=.5/(Math.PI*He.R);return Se(v,.5,-v,.5)})()}),qe=i({},mt,{code:"EPSG:900913"});function Tt(v){return document.createElementNS("http://www.w3.org/2000/svg",v)}function bt(v,S){var Q="",le,Ee,Ke,kt,er,Sr;for(le=0,Ke=v.length;le<Ke;le++){for(er=v[le],Ee=0,kt=er.length;Ee<kt;Ee++)Sr=er[Ee],Q+=(Ee?"L":"M")+Sr.x+" "+Sr.y;Q+=S?Ln.svg?"z":"x":""}return Q||"M0 0"}var gt=document.documentElement.style,wt="ActiveXObject"in window,rr=wt&&!document.addEventListener,Jt="msLaunchUri"in navigator&&!("documentMode"in document),ar=Tn("webkit"),Dr=Tn("android"),mn=Tn("android 2")||Tn("android 3"),$r=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),or=Dr&&Tn("Google")&&$r<537&&!("AudioNode"in window),vr=!!window.opera,cn=!Jt&&Tn("chrome"),bn=Tn("gecko")&&!ar&&!vr&&!wt,Un=!cn&&Tn("safari"),st=Tn("phantom"),Ht="OTransition"in gt,Lr=navigator.platform.indexOf("Win")===0,tr=wt&&"transition"in gt,Qt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!mn,dr="MozPerspective"in gt,Wr=!window.L_DISABLE_3D&&(tr||Qt||dr)&&!Ht&&!st,Jr=typeof orientation<"u"||Tn("mobile"),kn=Jr&&ar,un=Jr&&Qt,Yn=!window.PointerEvent&&window.MSPointerEvent,on=!!(window.PointerEvent||Yn),Vr="ontouchstart"in window||!!window.TouchEvent,xn=!window.L_NO_TOUCH&&(Vr||on),An=Jr&&vr,Mn=Jr&&bn,ci=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cs=(function(){var v=!1;try{var S=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("testPassiveEventSupport",f,S),window.removeEventListener("testPassiveEventSupport",f,S)}catch{}return v})(),Ms=(function(){return!!document.createElement("canvas").getContext})(),Ns=!!(document.createElementNS&&Tt("svg").createSVGRect),ti=!!Ns&&(function(){var v=document.createElement("div");return v.innerHTML="<svg/>",(v.firstChild&&v.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),dn=!Ns&&(function(){try{var v=document.createElement("div");v.innerHTML='<v:shape adj="1"/>';var S=v.firstChild;return S.style.behavior="url(#default#VML)",S&&typeof S.adj=="object"}catch{return!1}})(),as=navigator.platform.indexOf("Mac")===0,ta=navigator.platform.indexOf("Linux")===0;function Tn(v){return navigator.userAgent.toLowerCase().indexOf(v)>=0}var Ln={ie:wt,ielt9:rr,edge:Jt,webkit:ar,android:Dr,android23:mn,androidStock:or,opera:vr,chrome:cn,gecko:bn,safari:Un,phantom:st,opera12:Ht,win:Lr,ie3d:tr,webkit3d:Qt,gecko3d:dr,any3d:Wr,mobile:Jr,mobileWebkit:kn,mobileWebkit3d:un,msPointer:Yn,pointer:on,touch:xn,touchNative:Vr,mobileOpera:An,mobileGecko:Mn,retina:ci,passiveEvents:Cs,canvas:Ms,svg:Ns,vml:dn,inlineSvg:ti,mac:as,linux:ta},Fs=Ln.msPointer?"MSPointerDown":"pointerdown",Qs=Ln.msPointer?"MSPointerMove":"pointermove",Us=Ln.msPointer?"MSPointerUp":"pointerup",rs=Ln.msPointer?"MSPointerCancel":"pointercancel",qs={touchstart:Fs,touchmove:Qs,touchend:Us,touchcancel:rs},Rs={touchstart:Ws,touchmove:Ya,touchend:Ya,touchcancel:Ya},Qa={},hs=!1;function _u(v,S,Q){return S==="touchstart"&&ra(),Rs[S]?(Q=Rs[S].bind(this,Q),v.addEventListener(qs[S],Q,!1),Q):(console.warn("wrong event specified:",S),f)}function ro(v,S,Q){if(!qs[S]){console.warn("wrong event specified:",S);return}v.removeEventListener(qs[S],Q,!1)}function $l(v){Qa[v.pointerId]=v}function su(v){Qa[v.pointerId]&&(Qa[v.pointerId]=v)}function pl(v){delete Qa[v.pointerId]}function ra(){hs||(document.addEventListener(Fs,$l,!0),document.addEventListener(Qs,su,!0),document.addEventListener(Us,pl,!0),document.addEventListener(rs,pl,!0),hs=!0)}function Ya(v,S){if(S.pointerType!==(S.MSPOINTER_TYPE_MOUSE||"mouse")){S.touches=[];for(var Q in Qa)S.touches.push(Qa[Q]);S.changedTouches=[S],v(S)}}function Ws(v,S){S.MSPOINTER_TYPE_TOUCH&&S.pointerType===S.MSPOINTER_TYPE_TOUCH&&xe(S),Ya(v,S)}function ba(v){var S={},Q,le;for(le in v)Q=v[le],S[le]=Q&&Q.bind?Q.bind(v):Q;return v=S,S.type="dblclick",S.detail=2,S.isTrusted=!1,S._simulated=!0,S}var $s=200;function Il(v,S){v.addEventListener("dblclick",S);var Q=0,le;function Ee(Ke){if(Ke.detail!==1){le=Ke.detail;return}if(!(Ke.pointerType==="mouse"||Ke.sourceCapabilities&&!Ke.sourceCapabilities.firesTouchEvents)){var kt=Ae(Ke);if(!(kt.some(function(Sr){return Sr instanceof HTMLLabelElement&&Sr.attributes.for})&&!kt.some(function(Sr){return Sr instanceof HTMLInputElement||Sr instanceof HTMLSelectElement}))){var er=Date.now();er-Q<=$s?(le++,le===2&&S(ba(Ke))):le=1,Q=er}}}return v.addEventListener("click",Ee),{dblclick:S,simDblclick:Ee}}function vo(v,S){v.removeEventListener("dblclick",S.dblclick),v.removeEventListener("click",S.simDblclick)}var no=Ea(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gl=Ea(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Hl=gl==="webkitTransition"||gl==="OTransition"?gl+"End":"transitionend";function pc(v){return typeof v=="string"?document.getElementById(v):v}function zs(v,S){var Q=v.style[S]||v.currentStyle&&v.currentStyle[S];if((!Q||Q==="auto")&&document.defaultView){var le=document.defaultView.getComputedStyle(v,null);Q=le?le[S]:null}return Q==="auto"?null:Q}function ui(v,S,Q){var le=document.createElement(v);return le.className=S||"",Q&&Q.appendChild(le),le}function ks(v){var S=v.parentNode;S&&S.removeChild(v)}function ja(v){for(;v.firstChild;)v.removeChild(v.firstChild)}function za(v){var S=v.parentNode;S&&S.lastChild!==v&&S.appendChild(v)}function Ta(v){var S=v.parentNode;S&&S.firstChild!==v&&S.insertBefore(v,S.firstChild)}function vi(v,S){if(v.classList!==void 0)return v.classList.contains(S);var Q=Qo(v);return Q.length>0&&new RegExp("(^|\\s)"+S+"(\\s|$)").test(Q)}function ei(v,S){if(v.classList!==void 0)for(var Q=g(S),le=0,Ee=Q.length;le<Ee;le++)v.classList.add(Q[le]);else if(!vi(v,S)){var Ke=Qo(v);wa(v,(Ke?Ke+" ":"")+S)}}function fs(v,S){v.classList!==void 0?v.classList.remove(S):wa(v,p((" "+Qo(v)+" ").replace(" "+S+" "," ")))}function wa(v,S){v.className.baseVal===void 0?v.className=S:v.className.baseVal=S}function Qo(v){return v.correspondingElement&&(v=v.correspondingElement),v.className.baseVal===void 0?v.className:v.className.baseVal}function Hi(v,S){"opacity"in v.style?v.style.opacity=S:"filter"in v.style&&zo(v,S)}function zo(v,S){var Q=!1,le="DXImageTransform.Microsoft.Alpha";try{Q=v.filters.item(le)}catch{if(S===1)return}S=Math.round(S*100),Q?(Q.Enabled=S!==100,Q.Opacity=S):v.style.filter+=" progid:"+le+"(opacity="+S+")"}function Ea(v){for(var S=document.documentElement.style,Q=0;Q<v.length;Q++)if(v[Q]in S)return v[Q];return!1}function Xs(v,S,Q){var le=S||new oe(0,0);v.style[no]=(Ln.ie3d?"translate("+le.x+"px,"+le.y+"px)":"translate3d("+le.x+"px,"+le.y+"px,0)")+(Q?" scale("+Q+")":"")}function ms(v,S){v._leaflet_pos=S,Ln.any3d?Xs(v,S):(v.style.left=S.x+"px",v.style.top=S.y+"px")}function jo(v){return v._leaflet_pos||new oe(0,0)}var Va,Vs,qa;if("onselectstart"in document)Va=function(){me(window,"selectstart",xe)},Vs=function(){Qe(window,"selectstart",xe)};else{var xo=Ea(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Va=function(){if(xo){var v=document.documentElement.style;qa=v[xo],v[xo]="none"}},Vs=function(){xo&&(document.documentElement.style[xo]=qa,qa=void 0)}}function io(){me(window,"dragstart",xe)}function Vo(){Qe(window,"dragstart",xe)}var zt,V;function se(v){for(;v.tabIndex===-1;)v=v.parentNode;v.style&&(ce(),zt=v,V=v.style.outlineStyle,v.style.outlineStyle="none",me(window,"keydown",ce))}function ce(){zt&&(zt.style.outlineStyle=V,zt=void 0,V=void 0,Qe(window,"keydown",ce))}function $(v){do v=v.parentNode;while((!v.offsetWidth||!v.offsetHeight)&&v!==document.body);return v}function K(v){var S=v.getBoundingClientRect();return{x:S.width/v.offsetWidth||1,y:S.height/v.offsetHeight||1,boundingClientRect:S}}var ie={__proto__:null,TRANSFORM:no,TRANSITION:gl,TRANSITION_END:Hl,get:pc,getStyle:zs,create:ui,remove:ks,empty:ja,toFront:za,toBack:Ta,hasClass:vi,addClass:ei,removeClass:fs,setClass:wa,getClass:Qo,setOpacity:Hi,testProp:Ea,setTransform:Xs,setPosition:ms,getPosition:jo,get disableTextSelection(){return Va},get enableTextSelection(){return Vs},disableImageDrag:io,enableImageDrag:Vo,preventOutline:se,restoreOutline:ce,getSizedParentNode:$,getScale:K};function me(v,S,Q,le){if(S&&typeof S=="object")for(var Ee in S)k(v,Ee,S[Ee],Q);else{S=g(S);for(var Ke=0,kt=S.length;Ke<kt;Ke++)k(v,S[Ke],Q,le)}return this}var je="_leaflet_events";function Qe(v,S,Q,le){if(arguments.length===1)ut(v),delete v[je];else if(S&&typeof S=="object")for(var Ee in S)F(v,Ee,S[Ee],Q);else if(S=g(S),arguments.length===2)ut(v,function(er){return N(S,er)!==-1});else for(var Ke=0,kt=S.length;Ke<kt;Ke++)F(v,S[Ke],Q,le);return this}function ut(v,S){for(var Q in v[je]){var le=Q.split(/\d/)[0];(!S||S(le))&&F(v,le,null,null,Q)}}var P={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function k(v,S,Q,le){var Ee=S+u(Q)+(le?"_"+u(le):"");if(v[je]&&v[je][Ee])return this;var Ke=function(er){return Q.call(le||v,er||window.event)},kt=Ke;!Ln.touchNative&&Ln.pointer&&S.indexOf("touch")===0?Ke=_u(v,S,Ke):Ln.touch&&S==="dblclick"?Ke=Il(v,Ke):"addEventListener"in v?S==="touchstart"||S==="touchmove"||S==="wheel"||S==="mousewheel"?v.addEventListener(P[S]||S,Ke,Ln.passiveEvents?{passive:!1}:!1):S==="mouseenter"||S==="mouseleave"?(Ke=function(er){er=er||window.event,lt(v,er)&&kt(er)},v.addEventListener(P[S],Ke,!1)):v.addEventListener(S,kt,!1):v.attachEvent("on"+S,Ke),v[je]=v[je]||{},v[je][Ee]=Ke}function F(v,S,Q,le,Ee){Ee=Ee||S+u(Q)+(le?"_"+u(le):"");var Ke=v[je]&&v[je][Ee];if(!Ke)return this;!Ln.touchNative&&Ln.pointer&&S.indexOf("touch")===0?ro(v,S,Ke):Ln.touch&&S==="dblclick"?vo(v,Ke):"removeEventListener"in v?v.removeEventListener(P[S]||S,Ke,!1):v.detachEvent("on"+S,Ke),v[je][Ee]=null}function G(v){return v.stopPropagation?v.stopPropagation():v.originalEvent?v.originalEvent._stopped=!0:v.cancelBubble=!0,this}function Z(v){return k(v,"wheel",G),this}function re(v){return me(v,"mousedown touchstart dblclick contextmenu",G),v._leaflet_disable_click=!0,this}function xe(v){return v.preventDefault?v.preventDefault():v.returnValue=!1,this}function fe(v){return xe(v),G(v),this}function Ae(v){if(v.composedPath)return v.composedPath();for(var S=[],Q=v.target;Q;)S.push(Q),Q=Q.parentNode;return S}function ke(v,S){if(!S)return new oe(v.clientX,v.clientY);var Q=K(S),le=Q.boundingClientRect;return new oe((v.clientX-le.left)/Q.x-S.clientLeft,(v.clientY-le.top)/Q.y-S.clientTop)}var Ve=Ln.linux&&Ln.chrome?window.devicePixelRatio:Ln.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Je(v){return Ln.edge?v.wheelDeltaY/2:v.deltaY&&v.deltaMode===0?-v.deltaY/Ve:v.deltaY&&v.deltaMode===1?-v.deltaY*20:v.deltaY&&v.deltaMode===2?-v.deltaY*60:v.deltaX||v.deltaZ?0:v.wheelDelta?(v.wheelDeltaY||v.wheelDelta)/2:v.detail&&Math.abs(v.detail)<32765?-v.detail*20:v.detail?v.detail/-32765*60:0}function lt(v,S){var Q=S.relatedTarget;if(!Q)return!0;try{for(;Q&&Q!==v;)Q=Q.parentNode}catch{return!1}return Q!==v}var Te={__proto__:null,on:me,off:Qe,stopPropagation:G,disableScrollPropagation:Z,disableClickPropagation:re,preventDefault:xe,stop:fe,getPropagationPath:Ae,getMousePosition:ke,getWheelDelta:Je,isExternalTarget:lt,addListener:me,removeListener:Qe},jt=ae.extend({run:function(v,S,Q,le){this.stop(),this._el=v,this._inProgress=!0,this._duration=Q||.25,this._easeOutPower=1/Math.max(le||.5,.2),this._startPos=jo(v),this._offset=S.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(v){var S=+new Date-this._startTime,Q=this._duration*1e3;S<Q?this._runFrame(this._easeOut(S/Q),v):(this._runFrame(1),this._complete())},_runFrame:function(v,S){var Q=this._startPos.add(this._offset.multiplyBy(v));S&&Q._round(),ms(this._el,Q),this.fire("step")},_complete:function(){de(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(v){return 1-Math.pow(1-v,this._easeOutPower)}}),ot=ae.extend({options:{crs:mt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(v,S){S=x(this,S),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(v),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),S.maxBounds&&this.setMaxBounds(S.maxBounds),S.zoom!==void 0&&(this._zoom=this._limitZoom(S.zoom)),S.center&&S.zoom!==void 0&&this.setView(De(S.center),S.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gl&&Ln.any3d&&!Ln.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),me(this._proxy,Hl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(v,S,Q){if(S=S===void 0?this._zoom:this._limitZoom(S),v=this._limitCenter(De(v),S,this.options.maxBounds),Q=Q||{},this._stop(),this._loaded&&!Q.reset&&Q!==!0){Q.animate!==void 0&&(Q.zoom=i({animate:Q.animate},Q.zoom),Q.pan=i({animate:Q.animate,duration:Q.duration},Q.pan));var le=this._zoom!==S?this._tryAnimatedZoom&&this._tryAnimatedZoom(v,S,Q.zoom):this._tryAnimatedPan(v,Q.pan);if(le)return clearTimeout(this._sizeTimer),this}return this._resetView(v,S,Q.pan&&Q.pan.noMoveStart),this},setZoom:function(v,S){return this._loaded?this.setView(this.getCenter(),v,{zoom:S}):(this._zoom=v,this)},zoomIn:function(v,S){return v=v||(Ln.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+v,S)},zoomOut:function(v,S){return v=v||(Ln.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-v,S)},setZoomAround:function(v,S,Q){var le=this.getZoomScale(S),Ee=this.getSize().divideBy(2),Ke=v instanceof oe?v:this.latLngToContainerPoint(v),kt=Ke.subtract(Ee).multiplyBy(1-1/le),er=this.containerPointToLatLng(Ee.add(kt));return this.setView(er,S,{zoom:Q})},_getBoundsCenterZoom:function(v,S){S=S||{},v=v.getBounds?v.getBounds():Oe(v);var Q=Pe(S.paddingTopLeft||S.padding||[0,0]),le=Pe(S.paddingBottomRight||S.padding||[0,0]),Ee=this.getBoundsZoom(v,!1,Q.add(le));if(Ee=typeof S.maxZoom=="number"?Math.min(S.maxZoom,Ee):Ee,Ee===1/0)return{center:v.getCenter(),zoom:Ee};var Ke=le.subtract(Q).divideBy(2),kt=this.project(v.getSouthWest(),Ee),er=this.project(v.getNorthEast(),Ee),Sr=this.unproject(kt.add(er).divideBy(2).add(Ke),Ee);return{center:Sr,zoom:Ee}},fitBounds:function(v,S){if(v=Oe(v),!v.isValid())throw new Error("Bounds are not valid.");var Q=this._getBoundsCenterZoom(v,S);return this.setView(Q.center,Q.zoom,S)},fitWorld:function(v){return this.fitBounds([[-90,-180],[90,180]],v)},panTo:function(v,S){return this.setView(v,this._zoom,{pan:S})},panBy:function(v,S){if(v=Pe(v).round(),S=S||{},!v.x&&!v.y)return this.fire("moveend");if(S.animate!==!0&&!this.getSize().contains(v))return this._resetView(this.unproject(this.project(this.getCenter()).add(v)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),S.noMoveStart||this.fire("movestart"),S.animate!==!1){ei(this._mapPane,"leaflet-pan-anim");var Q=this._getMapPanePos().subtract(v).round();this._panAnim.run(this._mapPane,Q,S.duration||.25,S.easeLinearity)}else this._rawPanBy(v),this.fire("move").fire("moveend");return this},flyTo:function(v,S,Q){if(Q=Q||{},Q.animate===!1||!Ln.any3d)return this.setView(v,S,Q);this._stop();var le=this.project(this.getCenter()),Ee=this.project(v),Ke=this.getSize(),kt=this._zoom;v=De(v),S=S===void 0?kt:S;var er=Math.max(Ke.x,Ke.y),Sr=er*this.getZoomScale(kt,S),qr=Ee.distanceTo(le)||1,En=1.42,di=En*En;function As(ao){var Cu=ao?-1:1,Go=ao?Sr:er,Td=Sr*Sr-er*er+Cu*di*di*qr*qr,Ec=2*Go*di*qr,Gd=Td/Ec,Zl=Math.sqrt(Gd*Gd+1)-Gd,Nu=Zl<1e-9?-18:Math.log(Zl);return Nu}function Da(ao){return(Math.exp(ao)-Math.exp(-ao))/2}function Co(ao){return(Math.exp(ao)+Math.exp(-ao))/2}function il(ao){return Da(ao)/Co(ao)}var Zs=As(0);function la(ao){return er*(Co(Zs)/Co(Zs+En*ao))}function In(ao){return er*(Co(Zs)*il(Zs+En*ao)-Da(Zs))/di}function Ju(ao){return 1-Math.pow(1-ao,1.5)}var wc=Date.now(),jd=(As(1)-Zs)/En,Xl=Q.duration?1e3*Q.duration:1e3*jd*.8;function Tu(){var ao=(Date.now()-wc)/Xl,Cu=Ju(ao)*jd;ao<=1?(this._flyToFrame=te(Tu,this),this._move(this.unproject(le.add(Ee.subtract(le).multiplyBy(In(Cu)/qr)),kt),this.getScaleZoom(er/la(Cu),kt),{flyTo:!0})):this._move(v,S)._moveEnd(!0)}return this._moveStart(!0,Q.noMoveStart),Tu.call(this),this},flyToBounds:function(v,S){var Q=this._getBoundsCenterZoom(v,S);return this.flyTo(Q.center,Q.zoom,S)},setMaxBounds:function(v){return v=Oe(v),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),v.isValid()?(this.options.maxBounds=v,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(v){var S=this.options.minZoom;return this.options.minZoom=v,this._loaded&&S!==v&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(v):this},setMaxZoom:function(v){var S=this.options.maxZoom;return this.options.maxZoom=v,this._loaded&&S!==v&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(v):this},panInsideBounds:function(v,S){this._enforcingBounds=!0;var Q=this.getCenter(),le=this._limitCenter(Q,this._zoom,Oe(v));return Q.equals(le)||this.panTo(le,S),this._enforcingBounds=!1,this},panInside:function(v,S){S=S||{};var Q=Pe(S.paddingTopLeft||S.padding||[0,0]),le=Pe(S.paddingBottomRight||S.padding||[0,0]),Ee=this.project(this.getCenter()),Ke=this.project(v),kt=this.getPixelBounds(),er=he([kt.min.add(Q),kt.max.subtract(le)]),Sr=er.getSize();if(!er.contains(Ke)){this._enforcingBounds=!0;var qr=Ke.subtract(er.getCenter()),En=er.extend(Ke).getSize().subtract(Sr);Ee.x+=qr.x<0?-En.x:En.x,Ee.y+=qr.y<0?-En.y:En.y,this.panTo(this.unproject(Ee),S),this._enforcingBounds=!1}return this},invalidateSize:function(v){if(!this._loaded)return this;v=i({animate:!1,pan:!0},v===!0?{animate:!0}:v);var S=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Q=this.getSize(),le=S.divideBy(2).round(),Ee=Q.divideBy(2).round(),Ke=le.subtract(Ee);return!Ke.x&&!Ke.y?this:(v.animate&&v.pan?this.panBy(Ke):(v.pan&&this._rawPanBy(Ke),this.fire("move"),v.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:S,newSize:Q}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(v){if(v=this._locateOptions=i({timeout:1e4,watch:!1},v),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var S=o(this._handleGeolocationResponse,this),Q=o(this._handleGeolocationError,this);return v.watch?this._locationWatchId=navigator.geolocation.watchPosition(S,Q,v):navigator.geolocation.getCurrentPosition(S,Q,v),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(v){if(this._container._leaflet_id){var S=v.code,Q=v.message||(S===1?"permission denied":S===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:S,message:"Geolocation error: "+Q+"."})}},_handleGeolocationResponse:function(v){if(this._container._leaflet_id){var S=v.coords.latitude,Q=v.coords.longitude,le=new $e(S,Q),Ee=le.toBounds(v.coords.accuracy*2),Ke=this._locateOptions;if(Ke.setView){var kt=this.getBoundsZoom(Ee);this.setView(le,Ke.maxZoom?Math.min(kt,Ke.maxZoom):kt)}var er={latlng:le,bounds:Ee,timestamp:v.timestamp};for(var Sr in v.coords)typeof v.coords[Sr]=="number"&&(er[Sr]=v.coords[Sr]);this.fire("locationfound",er)}},addHandler:function(v,S){if(!S)return this;var Q=this[v]=new S(this);return this._handlers.push(Q),this.options[v]&&Q.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ks(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(de(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var v;for(v in this._layers)this._layers[v].remove();for(v in this._panes)ks(this._panes[v]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(v,S){var Q="leaflet-pane"+(v?" leaflet-"+v.replace("Pane","")+"-pane":""),le=ui("div",Q,S||this._mapPane);return v&&(this._panes[v]=le),le},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var v=this.getPixelBounds(),S=this.unproject(v.getBottomLeft()),Q=this.unproject(v.getTopRight());return new Ie(S,Q)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(v,S,Q){v=Oe(v),Q=Pe(Q||[0,0]);var le=this.getZoom()||0,Ee=this.getMinZoom(),Ke=this.getMaxZoom(),kt=v.getNorthWest(),er=v.getSouthEast(),Sr=this.getSize().subtract(Q),qr=he(this.project(er,le),this.project(kt,le)).getSize(),En=Ln.any3d?this.options.zoomSnap:1,di=Sr.x/qr.x,As=Sr.y/qr.y,Da=S?Math.max(di,As):Math.min(di,As);return le=this.getScaleZoom(Da,le),En&&(le=Math.round(le/(En/100))*(En/100),le=S?Math.ceil(le/En)*En:Math.floor(le/En)*En),Math.max(Ee,Math.min(Ke,le))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new oe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(v,S){var Q=this._getTopLeftPoint(v,S);return new be(Q,Q.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(v){return this.options.crs.getProjectedBounds(v===void 0?this.getZoom():v)},getPane:function(v){return typeof v=="string"?this._panes[v]:v},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(v,S){var Q=this.options.crs;return S=S===void 0?this._zoom:S,Q.scale(v)/Q.scale(S)},getScaleZoom:function(v,S){var Q=this.options.crs;S=S===void 0?this._zoom:S;var le=Q.zoom(v*Q.scale(S));return isNaN(le)?1/0:le},project:function(v,S){return S=S===void 0?this._zoom:S,this.options.crs.latLngToPoint(De(v),S)},unproject:function(v,S){return S=S===void 0?this._zoom:S,this.options.crs.pointToLatLng(Pe(v),S)},layerPointToLatLng:function(v){var S=Pe(v).add(this.getPixelOrigin());return this.unproject(S)},latLngToLayerPoint:function(v){var S=this.project(De(v))._round();return S._subtract(this.getPixelOrigin())},wrapLatLng:function(v){return this.options.crs.wrapLatLng(De(v))},wrapLatLngBounds:function(v){return this.options.crs.wrapLatLngBounds(Oe(v))},distance:function(v,S){return this.options.crs.distance(De(v),De(S))},containerPointToLayerPoint:function(v){return Pe(v).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(v){return Pe(v).add(this._getMapPanePos())},containerPointToLatLng:function(v){var S=this.containerPointToLayerPoint(Pe(v));return this.layerPointToLatLng(S)},latLngToContainerPoint:function(v){return this.layerPointToContainerPoint(this.latLngToLayerPoint(De(v)))},mouseEventToContainerPoint:function(v){return ke(v,this._container)},mouseEventToLayerPoint:function(v){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(v))},mouseEventToLatLng:function(v){return this.layerPointToLatLng(this.mouseEventToLayerPoint(v))},_initContainer:function(v){var S=this._container=pc(v);if(S){if(S._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");me(S,"scroll",this._onScroll,this),this._containerId=u(S)},_initLayout:function(){var v=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ln.any3d,ei(v,"leaflet-container"+(Ln.touch?" leaflet-touch":"")+(Ln.retina?" leaflet-retina":"")+(Ln.ielt9?" leaflet-oldie":"")+(Ln.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var S=zs(v,"position");S!=="absolute"&&S!=="relative"&&S!=="fixed"&&S!=="sticky"&&(v.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var v=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ms(this._mapPane,new oe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ei(v.markerPane,"leaflet-zoom-hide"),ei(v.shadowPane,"leaflet-zoom-hide"))},_resetView:function(v,S,Q){ms(this._mapPane,new oe(0,0));var le=!this._loaded;this._loaded=!0,S=this._limitZoom(S),this.fire("viewprereset");var Ee=this._zoom!==S;this._moveStart(Ee,Q)._move(v,S)._moveEnd(Ee),this.fire("viewreset"),le&&this.fire("load")},_moveStart:function(v,S){return v&&this.fire("zoomstart"),S||this.fire("movestart"),this},_move:function(v,S,Q,le){S===void 0&&(S=this._zoom);var Ee=this._zoom!==S;return this._zoom=S,this._lastCenter=v,this._pixelOrigin=this._getNewPixelOrigin(v),le?Q&&Q.pinch&&this.fire("zoom",Q):((Ee||Q&&Q.pinch)&&this.fire("zoom",Q),this.fire("move",Q)),this},_moveEnd:function(v){return v&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return de(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(v){ms(this._mapPane,this._getMapPanePos().subtract(v))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(v){this._targets={},this._targets[u(this._container)]=this;var S=v?Qe:me;S(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&S(window,"resize",this._onResize,this),Ln.any3d&&this.options.transform3DLimit&&(v?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){de(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var v=this._getMapPanePos();Math.max(Math.abs(v.x),Math.abs(v.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(v,S){for(var Q=[],le,Ee=S==="mouseout"||S==="mouseover",Ke=v.target||v.srcElement,kt=!1;Ke;){if(le=this._targets[u(Ke)],le&&(S==="click"||S==="preclick")&&this._draggableMoved(le)){kt=!0;break}if(le&&le.listens(S,!0)&&(Ee&&!lt(Ke,v)||(Q.push(le),Ee))||Ke===this._container)break;Ke=Ke.parentNode}return!Q.length&&!kt&&!Ee&&this.listens(S,!0)&&(Q=[this]),Q},_isClickDisabled:function(v){for(;v&&v!==this._container;){if(v._leaflet_disable_click)return!0;v=v.parentNode}},_handleDOMEvent:function(v){var S=v.target||v.srcElement;if(!(!this._loaded||S._leaflet_disable_events||v.type==="click"&&this._isClickDisabled(S))){var Q=v.type;Q==="mousedown"&&se(S),this._fireDOMEvent(v,Q)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(v,S,Q){if(v.type==="click"){var le=i({},v);le.type="preclick",this._fireDOMEvent(le,le.type,Q)}var Ee=this._findEventTargets(v,S);if(Q){for(var Ke=[],kt=0;kt<Q.length;kt++)Q[kt].listens(S,!0)&&Ke.push(Q[kt]);Ee=Ke.concat(Ee)}if(Ee.length){S==="contextmenu"&&xe(v);var er=Ee[0],Sr={originalEvent:v};if(v.type!=="keypress"&&v.type!=="keydown"&&v.type!=="keyup"){var qr=er.getLatLng&&(!er._radius||er._radius<=10);Sr.containerPoint=qr?this.latLngToContainerPoint(er.getLatLng()):this.mouseEventToContainerPoint(v),Sr.layerPoint=this.containerPointToLayerPoint(Sr.containerPoint),Sr.latlng=qr?er.getLatLng():this.layerPointToLatLng(Sr.layerPoint)}for(kt=0;kt<Ee.length;kt++)if(Ee[kt].fire(S,Sr,!0),Sr.originalEvent._stopped||Ee[kt].options.bubblingMouseEvents===!1&&N(this._mouseEvents,S)!==-1)return}},_draggableMoved:function(v){return v=v.dragging&&v.dragging.enabled()?v:this,v.dragging&&v.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var v=0,S=this._handlers.length;v<S;v++)this._handlers[v].disable()},whenReady:function(v,S){return this._loaded?v.call(S||this,{target:this}):this.on("load",v,S),this},_getMapPanePos:function(){return jo(this._mapPane)||new oe(0,0)},_moved:function(){var v=this._getMapPanePos();return v&&!v.equals([0,0])},_getTopLeftPoint:function(v,S){var Q=v&&S!==void 0?this._getNewPixelOrigin(v,S):this.getPixelOrigin();return Q.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(v,S){var Q=this.getSize()._divideBy(2);return this.project(v,S)._subtract(Q)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(v,S,Q){var le=this._getNewPixelOrigin(Q,S);return this.project(v,S)._subtract(le)},_latLngBoundsToNewLayerBounds:function(v,S,Q){var le=this._getNewPixelOrigin(Q,S);return he([this.project(v.getSouthWest(),S)._subtract(le),this.project(v.getNorthWest(),S)._subtract(le),this.project(v.getSouthEast(),S)._subtract(le),this.project(v.getNorthEast(),S)._subtract(le)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(v){return this.latLngToLayerPoint(v).subtract(this._getCenterLayerPoint())},_limitCenter:function(v,S,Q){if(!Q)return v;var le=this.project(v,S),Ee=this.getSize().divideBy(2),Ke=new be(le.subtract(Ee),le.add(Ee)),kt=this._getBoundsOffset(Ke,Q,S);return Math.abs(kt.x)<=1&&Math.abs(kt.y)<=1?v:this.unproject(le.add(kt),S)},_limitOffset:function(v,S){if(!S)return v;var Q=this.getPixelBounds(),le=new be(Q.min.add(v),Q.max.add(v));return v.add(this._getBoundsOffset(le,S))},_getBoundsOffset:function(v,S,Q){var le=he(this.project(S.getNorthEast(),Q),this.project(S.getSouthWest(),Q)),Ee=le.min.subtract(v.min),Ke=le.max.subtract(v.max),kt=this._rebound(Ee.x,-Ke.x),er=this._rebound(Ee.y,-Ke.y);return new oe(kt,er)},_rebound:function(v,S){return v+S>0?Math.round(v-S)/2:Math.max(0,Math.ceil(v))-Math.max(0,Math.floor(S))},_limitZoom:function(v){var S=this.getMinZoom(),Q=this.getMaxZoom(),le=Ln.any3d?this.options.zoomSnap:1;return le&&(v=Math.round(v/le)*le),Math.max(S,Math.min(Q,v))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fs(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(v,S){var Q=this._getCenterOffset(v)._trunc();return(S&&S.animate)!==!0&&!this.getSize().contains(Q)?!1:(this.panBy(Q,S),!0)},_createAnimProxy:function(){var v=this._proxy=ui("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(v),this.on("zoomanim",function(S){var Q=no,le=this._proxy.style[Q];Xs(this._proxy,this.project(S.center,S.zoom),this.getZoomScale(S.zoom,1)),le===this._proxy.style[Q]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ks(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var v=this.getCenter(),S=this.getZoom();Xs(this._proxy,this.project(v,S),this.getZoomScale(S,1))},_catchTransitionEnd:function(v){this._animatingZoom&&v.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(v,S,Q){if(this._animatingZoom)return!0;if(Q=Q||{},!this._zoomAnimated||Q.animate===!1||this._nothingToAnimate()||Math.abs(S-this._zoom)>this.options.zoomAnimationThreshold)return!1;var le=this.getZoomScale(S),Ee=this._getCenterOffset(v)._divideBy(1-1/le);return Q.animate!==!0&&!this.getSize().contains(Ee)?!1:(te(function(){this._moveStart(!0,Q.noMoveStart||!1)._animateZoom(v,S,!0)},this),!0)},_animateZoom:function(v,S,Q,le){this._mapPane&&(Q&&(this._animatingZoom=!0,this._animateToCenter=v,this._animateToZoom=S,ei(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:v,zoom:S,noUpdate:le}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fs(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nt(v,S){return new ot(v,S)}var nt=we.extend({options:{position:"topright"},initialize:function(v){x(this,v)},getPosition:function(){return this.options.position},setPosition:function(v){var S=this._map;return S&&S.removeControl(this),this.options.position=v,S&&S.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var S=this._container=this.onAdd(v),Q=this.getPosition(),le=v._controlCorners[Q];return ei(S,"leaflet-control"),Q.indexOf("bottom")!==-1?le.insertBefore(S,le.firstChild):le.appendChild(S),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ks(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(v){this._map&&v&&v.screenX>0&&v.screenY>0&&this._map.getContainer().focus()}}),Ot=function(v){return new nt(v)};ot.include({addControl:function(v){return v.addTo(this),this},removeControl:function(v){return v.remove(),this},_initControlPos:function(){var v=this._controlCorners={},S="leaflet-",Q=this._controlContainer=ui("div",S+"control-container",this._container);function le(Ee,Ke){var kt=S+Ee+" "+S+Ke;v[Ee+Ke]=ui("div",kt,Q)}le("top","left"),le("top","right"),le("bottom","left"),le("bottom","right")},_clearControlPos:function(){for(var v in this._controlCorners)ks(this._controlCorners[v]);ks(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qt=nt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(v,S,Q,le){return Q<le?-1:le<Q?1:0}},initialize:function(v,S,Q){x(this,Q),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var le in v)this._addLayer(v[le],le);for(le in S)this._addLayer(S[le],le,!0)},onAdd:function(v){this._initLayout(),this._update(),this._map=v,v.on("zoomend",this._checkDisabledLayers,this);for(var S=0;S<this._layers.length;S++)this._layers[S].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(v){return nt.prototype.addTo.call(this,v),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(v,S){return this._addLayer(v,S),this._map?this._update():this},addOverlay:function(v,S){return this._addLayer(v,S,!0),this._map?this._update():this},removeLayer:function(v){v.off("add remove",this._onLayerChange,this);var S=this._getLayer(u(v));return S&&this._layers.splice(this._layers.indexOf(S),1),this._map?this._update():this},expand:function(){ei(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var v=this._map.getSize().y-(this._container.offsetTop+50);return v<this._section.clientHeight?(ei(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=v+"px"):fs(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fs(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var v="leaflet-control-layers",S=this._container=ui("div",v),Q=this.options.collapsed;S.setAttribute("aria-haspopup",!0),re(S),Z(S);var le=this._section=ui("section",v+"-list");Q&&(this._map.on("click",this.collapse,this),me(S,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Ee=this._layersLink=ui("a",v+"-toggle",S);Ee.href="#",Ee.title="Layers",Ee.setAttribute("role","button"),me(Ee,{keydown:function(Ke){Ke.keyCode===13&&this._expandSafely()},click:function(Ke){xe(Ke),this._expandSafely()}},this),Q||this.expand(),this._baseLayersList=ui("div",v+"-base",le),this._separator=ui("div",v+"-separator",le),this._overlaysList=ui("div",v+"-overlays",le),S.appendChild(le)},_getLayer:function(v){for(var S=0;S<this._layers.length;S++)if(this._layers[S]&&u(this._layers[S].layer)===v)return this._layers[S]},_addLayer:function(v,S,Q){this._map&&v.on("add remove",this._onLayerChange,this),this._layers.push({layer:v,name:S,overlay:Q}),this.options.sortLayers&&this._layers.sort(o(function(le,Ee){return this.options.sortFunction(le.layer,Ee.layer,le.name,Ee.name)},this)),this.options.autoZIndex&&v.setZIndex&&(this._lastZIndex++,v.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ja(this._baseLayersList),ja(this._overlaysList),this._layerControlInputs=[];var v,S,Q,le,Ee=0;for(Q=0;Q<this._layers.length;Q++)le=this._layers[Q],this._addItem(le),S=S||le.overlay,v=v||!le.overlay,Ee+=le.overlay?0:1;return this.options.hideSingleBase&&(v=v&&Ee>1,this._baseLayersList.style.display=v?"":"none"),this._separator.style.display=S&&v?"":"none",this},_onLayerChange:function(v){this._handlingClick||this._update();var S=this._getLayer(u(v.target)),Q=S.overlay?v.type==="add"?"overlayadd":"overlayremove":v.type==="add"?"baselayerchange":null;Q&&this._map.fire(Q,S)},_createRadioElement:function(v,S){var Q='<input type="radio" class="leaflet-control-layers-selector" name="'+v+'"'+(S?' checked="checked"':"")+"/>",le=document.createElement("div");return le.innerHTML=Q,le.firstChild},_addItem:function(v){var S=document.createElement("label"),Q=this._map.hasLayer(v.layer),le;v.overlay?(le=document.createElement("input"),le.type="checkbox",le.className="leaflet-control-layers-selector",le.defaultChecked=Q):le=this._createRadioElement("leaflet-base-layers_"+u(this),Q),this._layerControlInputs.push(le),le.layerId=u(v.layer),me(le,"click",this._onInputClick,this);var Ee=document.createElement("span");Ee.innerHTML=" "+v.name;var Ke=document.createElement("span");S.appendChild(Ke),Ke.appendChild(le),Ke.appendChild(Ee);var kt=v.overlay?this._overlaysList:this._baseLayersList;return kt.appendChild(S),this._checkDisabledLayers(),S},_onInputClick:function(){if(!this._preventClick){var v=this._layerControlInputs,S,Q,le=[],Ee=[];this._handlingClick=!0;for(var Ke=v.length-1;Ke>=0;Ke--)S=v[Ke],Q=this._getLayer(S.layerId).layer,S.checked?le.push(Q):S.checked||Ee.push(Q);for(Ke=0;Ke<Ee.length;Ke++)this._map.hasLayer(Ee[Ke])&&this._map.removeLayer(Ee[Ke]);for(Ke=0;Ke<le.length;Ke++)this._map.hasLayer(le[Ke])||this._map.addLayer(le[Ke]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var v=this._layerControlInputs,S,Q,le=this._map.getZoom(),Ee=v.length-1;Ee>=0;Ee--)S=v[Ee],Q=this._getLayer(S.layerId).layer,S.disabled=Q.options.minZoom!==void 0&&le<Q.options.minZoom||Q.options.maxZoom!==void 0&&le>Q.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var v=this._section;this._preventClick=!0,me(v,"click",xe),this.expand();var S=this;setTimeout(function(){Qe(v,"click",xe),S._preventClick=!1})}}),It=function(v,S,Q){return new qt(v,S,Q)},rt=nt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(v){var S="leaflet-control-zoom",Q=ui("div",S+" leaflet-bar"),le=this.options;return this._zoomInButton=this._createButton(le.zoomInText,le.zoomInTitle,S+"-in",Q,this._zoomIn),this._zoomOutButton=this._createButton(le.zoomOutText,le.zoomOutTitle,S+"-out",Q,this._zoomOut),this._updateDisabled(),v.on("zoomend zoomlevelschange",this._updateDisabled,this),Q},onRemove:function(v){v.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(v){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(v.shiftKey?3:1))},_zoomOut:function(v){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(v.shiftKey?3:1))},_createButton:function(v,S,Q,le,Ee){var Ke=ui("a",Q,le);return Ke.innerHTML=v,Ke.href="#",Ke.title=S,Ke.setAttribute("role","button"),Ke.setAttribute("aria-label",S),re(Ke),me(Ke,"click",fe),me(Ke,"click",Ee,this),me(Ke,"click",this._refocusOnMap,this),Ke},_updateDisabled:function(){var v=this._map,S="leaflet-disabled";fs(this._zoomInButton,S),fs(this._zoomOutButton,S),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||v._zoom===v.getMinZoom())&&(ei(this._zoomOutButton,S),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||v._zoom===v.getMaxZoom())&&(ei(this._zoomInButton,S),this._zoomInButton.setAttribute("aria-disabled","true"))}});ot.mergeOptions({zoomControl:!0}),ot.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rt,this.addControl(this.zoomControl))});var Kt=function(v){return new rt(v)},Nr=nt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(v){var S="leaflet-control-scale",Q=ui("div",S),le=this.options;return this._addScales(le,S+"-line",Q),v.on(le.updateWhenIdle?"moveend":"move",this._update,this),v.whenReady(this._update,this),Q},onRemove:function(v){v.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(v,S,Q){v.metric&&(this._mScale=ui("div",S,Q)),v.imperial&&(this._iScale=ui("div",S,Q))},_update:function(){var v=this._map,S=v.getSize().y/2,Q=v.distance(v.containerPointToLatLng([0,S]),v.containerPointToLatLng([this.options.maxWidth,S]));this._updateScales(Q)},_updateScales:function(v){this.options.metric&&v&&this._updateMetric(v),this.options.imperial&&v&&this._updateImperial(v)},_updateMetric:function(v){var S=this._getRoundNum(v),Q=S<1e3?S+" m":S/1e3+" km";this._updateScale(this._mScale,Q,S/v)},_updateImperial:function(v){var S=v*3.2808399,Q,le,Ee;S>5280?(Q=S/5280,le=this._getRoundNum(Q),this._updateScale(this._iScale,le+" mi",le/Q)):(Ee=this._getRoundNum(S),this._updateScale(this._iScale,Ee+" ft",Ee/S))},_updateScale:function(v,S,Q){v.style.width=Math.round(this.options.maxWidth*Q)+"px",v.innerHTML=S},_getRoundNum:function(v){var S=Math.pow(10,(Math.floor(v)+"").length-1),Q=v/S;return Q=Q>=10?10:Q>=5?5:Q>=3?3:Q>=2?2:1,S*Q}}),lr=function(v){return new Nr(v)},Mt='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_r=nt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ln.inlineSvg?Mt+" ":"")+"Leaflet</a>"},initialize:function(v){x(this,v),this._attributions={}},onAdd:function(v){v.attributionControl=this,this._container=ui("div","leaflet-control-attribution"),re(this._container);for(var S in v._layers)v._layers[S].getAttribution&&this.addAttribution(v._layers[S].getAttribution());return this._update(),v.on("layeradd",this._addAttribution,this),this._container},onRemove:function(v){v.off("layeradd",this._addAttribution,this)},_addAttribution:function(v){v.layer.getAttribution&&(this.addAttribution(v.layer.getAttribution()),v.layer.once("remove",function(){this.removeAttribution(v.layer.getAttribution())},this))},setPrefix:function(v){return this.options.prefix=v,this._update(),this},addAttribution:function(v){return v?(this._attributions[v]||(this._attributions[v]=0),this._attributions[v]++,this._update(),this):this},removeAttribution:function(v){return v?(this._attributions[v]&&(this._attributions[v]--,this._update()),this):this},_update:function(){if(this._map){var v=[];for(var S in this._attributions)this._attributions[S]&&v.push(S);var Q=[];this.options.prefix&&Q.push(this.options.prefix),v.length&&Q.push(v.join(", ")),this._container.innerHTML=Q.join(' <span aria-hidden="true">|</span> ')}}});ot.mergeOptions({attributionControl:!0}),ot.addInitHook(function(){this.options.attributionControl&&new _r().addTo(this)});var at=function(v){return new _r(v)};nt.Layers=qt,nt.Zoom=rt,nt.Scale=Nr,nt.Attribution=_r,Ot.layers=It,Ot.zoom=Kt,Ot.scale=lr,Ot.attribution=at;var At=we.extend({initialize:function(v){this._map=v},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});At.addTo=function(v,S){return v.addHandler(S,this),this};var Rt={Events:ne},Dt=Ln.touch?"touchstart mousedown":"mousedown",xr=ae.extend({options:{clickTolerance:3},initialize:function(v,S,Q,le){x(this,le),this._element=v,this._dragStartTarget=S||v,this._preventOutline=Q},enable:function(){this._enabled||(me(this._dragStartTarget,Dt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(xr._dragging===this&&this.finishDrag(!0),Qe(this._dragStartTarget,Dt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(v){if(this._enabled&&(this._moved=!1,!vi(this._element,"leaflet-zoom-anim"))){if(v.touches&&v.touches.length!==1){xr._dragging===this&&this.finishDrag();return}if(!(xr._dragging||v.shiftKey||v.which!==1&&v.button!==1&&!v.touches)&&(xr._dragging=this,this._preventOutline&&se(this._element),io(),Va(),!this._moving)){this.fire("down");var S=v.touches?v.touches[0]:v,Q=$(this._element);this._startPoint=new oe(S.clientX,S.clientY),this._startPos=jo(this._element),this._parentScale=K(Q);var le=v.type==="mousedown";me(document,le?"mousemove":"touchmove",this._onMove,this),me(document,le?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(v){if(this._enabled){if(v.touches&&v.touches.length>1){this._moved=!0;return}var S=v.touches&&v.touches.length===1?v.touches[0]:v,Q=new oe(S.clientX,S.clientY)._subtract(this._startPoint);!Q.x&&!Q.y||Math.abs(Q.x)+Math.abs(Q.y)<this.options.clickTolerance||(Q.x/=this._parentScale.x,Q.y/=this._parentScale.y,xe(v),this._moved||(this.fire("dragstart"),this._moved=!0,ei(document.body,"leaflet-dragging"),this._lastTarget=v.target||v.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ei(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Q),this._moving=!0,this._lastEvent=v,this._updatePosition())}},_updatePosition:function(){var v={originalEvent:this._lastEvent};this.fire("predrag",v),ms(this._element,this._newPos),this.fire("drag",v)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(v){fs(document.body,"leaflet-dragging"),this._lastTarget&&(fs(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qe(document,"mousemove touchmove",this._onMove,this),Qe(document,"mouseup touchend touchcancel",this._onUp,this),Vo(),Vs();var S=this._moved&&this._moving;this._moving=!1,xr._dragging=!1,S&&this.fire("dragend",{noInertia:v,distance:this._newPos.distanceTo(this._startPos)})}});function Br(v,S,Q){var le,Ee=[1,4,2,8],Ke,kt,er,Sr,qr,En,di,As;for(Ke=0,En=v.length;Ke<En;Ke++)v[Ke]._code=Ir(v[Ke],S);for(er=0;er<4;er++){for(di=Ee[er],le=[],Ke=0,En=v.length,kt=En-1;Ke<En;kt=Ke++)Sr=v[Ke],qr=v[kt],Sr._code&di?qr._code&di||(As=Pr(qr,Sr,di,S,Q),As._code=Ir(As,S),le.push(As)):(qr._code&di&&(As=Pr(qr,Sr,di,S,Q),As._code=Ir(As,S),le.push(As)),le.push(Sr));v=le}return v}function Mr(v,S){var Q,le,Ee,Ke,kt,er,Sr,qr,En;if(!v||v.length===0)throw new Error("latlngs not passed");jn(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var di=De([0,0]),As=Oe(v),Da=As.getNorthWest().distanceTo(As.getSouthWest())*As.getNorthEast().distanceTo(As.getNorthWest());Da<1700&&(di=ur(v));var Co=v.length,il=[];for(Q=0;Q<Co;Q++){var Zs=De(v[Q]);il.push(S.project(De([Zs.lat-di.lat,Zs.lng-di.lng])))}for(er=Sr=qr=0,Q=0,le=Co-1;Q<Co;le=Q++)Ee=il[Q],Ke=il[le],kt=Ee.y*Ke.x-Ke.y*Ee.x,Sr+=(Ee.x+Ke.x)*kt,qr+=(Ee.y+Ke.y)*kt,er+=kt*3;er===0?En=il[0]:En=[Sr/er,qr/er];var la=S.unproject(Pe(En));return De([la.lat+di.lat,la.lng+di.lng])}function ur(v){for(var S=0,Q=0,le=0,Ee=0;Ee<v.length;Ee++){var Ke=De(v[Ee]);S+=Ke.lat,Q+=Ke.lng,le++}return De([S/le,Q/le])}var Rr={__proto__:null,clipPolygon:Br,polygonCenter:Mr,centroid:ur};function gn(v,S){if(!S||!v.length)return v.slice();var Q=S*S;return v=Wt(v,Q),v=Ct(v,Q),v}function an(v,S,Q){return Math.sqrt(pn(v,S,Q,!0))}function Xe(v,S,Q){return pn(v,S,Q)}function Ct(v,S){var Q=v.length,le=typeof Uint8Array<"u"?Uint8Array:Array,Ee=new le(Q);Ee[0]=Ee[Q-1]=1,Lt(v,Ee,S,0,Q-1);var Ke,kt=[];for(Ke=0;Ke<Q;Ke++)Ee[Ke]&&kt.push(v[Ke]);return kt}function Lt(v,S,Q,le,Ee){var Ke=0,kt,er,Sr;for(er=le+1;er<=Ee-1;er++)Sr=pn(v[er],v[le],v[Ee],!0),Sr>Ke&&(kt=er,Ke=Sr);Ke>Q&&(S[kt]=1,Lt(v,S,Q,le,kt),Lt(v,S,Q,kt,Ee))}function Wt(v,S){for(var Q=[v[0]],le=1,Ee=0,Ke=v.length;le<Ke;le++)Zr(v[le],v[Ee])>S&&(Q.push(v[le]),Ee=le);return Ee<Ke-1&&Q.push(v[Ke-1]),Q}var Xt;function mr(v,S,Q,le,Ee){var Ke=le?Xt:Ir(v,Q),kt=Ir(S,Q),er,Sr,qr;for(Xt=kt;;){if(!(Ke|kt))return[v,S];if(Ke&kt)return!1;er=Ke||kt,Sr=Pr(v,S,er,Q,Ee),qr=Ir(Sr,Q),er===Ke?(v=Sr,Ke=qr):(S=Sr,kt=qr)}}function Pr(v,S,Q,le,Ee){var Ke=S.x-v.x,kt=S.y-v.y,er=le.min,Sr=le.max,qr,En;return Q&8?(qr=v.x+Ke*(Sr.y-v.y)/kt,En=Sr.y):Q&4?(qr=v.x+Ke*(er.y-v.y)/kt,En=er.y):Q&2?(qr=Sr.x,En=v.y+kt*(Sr.x-v.x)/Ke):Q&1&&(qr=er.x,En=v.y+kt*(er.x-v.x)/Ke),new oe(qr,En,Ee)}function Ir(v,S){var Q=0;return v.x<S.min.x?Q|=1:v.x>S.max.x&&(Q|=2),v.y<S.min.y?Q|=4:v.y>S.max.y&&(Q|=8),Q}function Zr(v,S){var Q=S.x-v.x,le=S.y-v.y;return Q*Q+le*le}function pn(v,S,Q,le){var Ee=S.x,Ke=S.y,kt=Q.x-Ee,er=Q.y-Ke,Sr=kt*kt+er*er,qr;return Sr>0&&(qr=((v.x-Ee)*kt+(v.y-Ke)*er)/Sr,qr>1?(Ee=Q.x,Ke=Q.y):qr>0&&(Ee+=kt*qr,Ke+=er*qr)),kt=v.x-Ee,er=v.y-Ke,le?kt*kt+er*er:new oe(Ee,Ke)}function jn(v){return!_(v[0])||typeof v[0][0]!="object"&&typeof v[0][0]<"u"}function Fn(v){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),jn(v)}function yi(v,S){var Q,le,Ee,Ke,kt,er,Sr,qr;if(!v||v.length===0)throw new Error("latlngs not passed");jn(v)||(console.warn("latlngs are not flat! Only the first ring will be used"),v=v[0]);var En=De([0,0]),di=Oe(v),As=di.getNorthWest().distanceTo(di.getSouthWest())*di.getNorthEast().distanceTo(di.getNorthWest());As<1700&&(En=ur(v));var Da=v.length,Co=[];for(Q=0;Q<Da;Q++){var il=De(v[Q]);Co.push(S.project(De([il.lat-En.lat,il.lng-En.lng])))}for(Q=0,le=0;Q<Da-1;Q++)le+=Co[Q].distanceTo(Co[Q+1])/2;if(le===0)qr=Co[0];else for(Q=0,Ke=0;Q<Da-1;Q++)if(kt=Co[Q],er=Co[Q+1],Ee=kt.distanceTo(er),Ke+=Ee,Ke>le){Sr=(Ke-le)/Ee,qr=[er.x-Sr*(er.x-kt.x),er.y-Sr*(er.y-kt.y)];break}var Zs=S.unproject(Pe(qr));return De([Zs.lat+En.lat,Zs.lng+En.lng])}var vt={__proto__:null,simplify:gn,pointToSegmentDistance:an,closestPointOnSegment:Xe,clipSegment:mr,_getEdgeIntersection:Pr,_getBitCode:Ir,_sqClosestPointOnSegment:pn,isFlat:jn,_flat:Fn,polylineCenter:yi},Cn={project:function(v){return new oe(v.lng,v.lat)},unproject:function(v){return new $e(v.y,v.x)},bounds:new be([-180,-90],[180,90])},Ri={R:6378137,R_MINOR:6356752314245179e-9,bounds:new be([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(v){var S=Math.PI/180,Q=this.R,le=v.lat*S,Ee=this.R_MINOR/Q,Ke=Math.sqrt(1-Ee*Ee),kt=Ke*Math.sin(le),er=Math.tan(Math.PI/4-le/2)/Math.pow((1-kt)/(1+kt),Ke/2);return le=-Q*Math.log(Math.max(er,1e-10)),new oe(v.lng*S*Q,le)},unproject:function(v){for(var S=180/Math.PI,Q=this.R,le=this.R_MINOR/Q,Ee=Math.sqrt(1-le*le),Ke=Math.exp(-v.y/Q),kt=Math.PI/2-2*Math.atan(Ke),er=0,Sr=.1,qr;er<15&&Math.abs(Sr)>1e-7;er++)qr=Ee*Math.sin(kt),qr=Math.pow((1-qr)/(1+qr),Ee/2),Sr=Math.PI/2-2*Math.atan(Ke*qr)-kt,kt+=Sr;return new $e(kt*S,v.x*S/Q)}},Nn={__proto__:null,LonLat:Cn,Mercator:Ri,SphericalMercator:He},ln=i({},pt,{code:"EPSG:3395",projection:Ri,transformation:(function(){var v=.5/(Math.PI*Ri.R);return Se(v,.5,-v,.5)})()}),Ni=i({},pt,{code:"EPSG:4326",projection:Cn,transformation:Se(1/180,1,-1/180,.5)}),Hn=i({},ct,{projection:Cn,transformation:Se(1,0,-1,0),scale:function(v){return Math.pow(2,v)},zoom:function(v){return Math.log(v)/Math.LN2},distance:function(v,S){var Q=S.lng-v.lng,le=S.lat-v.lat;return Math.sqrt(Q*Q+le*le)},infinite:!0});ct.Earth=pt,ct.EPSG3395=ln,ct.EPSG3857=mt,ct.EPSG900913=qe,ct.EPSG4326=Ni,ct.Simple=Hn;var Vn=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(v){return v.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(v){return v&&v.removeLayer(this),this},getPane:function(v){return this._map.getPane(v?this.options[v]||v:this.options.pane)},addInteractiveTarget:function(v){return this._map._targets[u(v)]=this,this},removeInteractiveTarget:function(v){return delete this._map._targets[u(v)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(v){var S=v.target;if(S.hasLayer(this)){if(this._map=S,this._zoomAnimated=S._zoomAnimated,this.getEvents){var Q=this.getEvents();S.on(Q,this),this.once("remove",function(){S.off(Q,this)},this)}this.onAdd(S),this.fire("add"),S.fire("layeradd",{layer:this})}}});ot.include({addLayer:function(v){if(!v._layerAdd)throw new Error("The provided object is not a Layer.");var S=u(v);return this._layers[S]?this:(this._layers[S]=v,v._mapToAdd=this,v.beforeAdd&&v.beforeAdd(this),this.whenReady(v._layerAdd,v),this)},removeLayer:function(v){var S=u(v);return this._layers[S]?(this._loaded&&v.onRemove(this),delete this._layers[S],this._loaded&&(this.fire("layerremove",{layer:v}),v.fire("remove")),v._map=v._mapToAdd=null,this):this},hasLayer:function(v){return u(v)in this._layers},eachLayer:function(v,S){for(var Q in this._layers)v.call(S,this._layers[Q]);return this},_addLayers:function(v){v=v?_(v)?v:[v]:[];for(var S=0,Q=v.length;S<Q;S++)this.addLayer(v[S])},_addZoomLimit:function(v){(!isNaN(v.options.maxZoom)||!isNaN(v.options.minZoom))&&(this._zoomBoundLayers[u(v)]=v,this._updateZoomLevels())},_removeZoomLimit:function(v){var S=u(v);this._zoomBoundLayers[S]&&(delete this._zoomBoundLayers[S],this._updateZoomLevels())},_updateZoomLevels:function(){var v=1/0,S=-1/0,Q=this._getZoomSpan();for(var le in this._zoomBoundLayers){var Ee=this._zoomBoundLayers[le].options;v=Ee.minZoom===void 0?v:Math.min(v,Ee.minZoom),S=Ee.maxZoom===void 0?S:Math.max(S,Ee.maxZoom)}this._layersMaxZoom=S===-1/0?void 0:S,this._layersMinZoom=v===1/0?void 0:v,Q!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zn=Vn.extend({initialize:function(v,S){x(this,S),this._layers={};var Q,le;if(v)for(Q=0,le=v.length;Q<le;Q++)this.addLayer(v[Q])},addLayer:function(v){var S=this.getLayerId(v);return this._layers[S]=v,this._map&&this._map.addLayer(v),this},removeLayer:function(v){var S=v in this._layers?v:this.getLayerId(v);return this._map&&this._layers[S]&&this._map.removeLayer(this._layers[S]),delete this._layers[S],this},hasLayer:function(v){var S=typeof v=="number"?v:this.getLayerId(v);return S in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(v){var S=Array.prototype.slice.call(arguments,1),Q,le;for(Q in this._layers)le=this._layers[Q],le[v]&&le[v].apply(le,S);return this},onAdd:function(v){this.eachLayer(v.addLayer,v)},onRemove:function(v){this.eachLayer(v.removeLayer,v)},eachLayer:function(v,S){for(var Q in this._layers)v.call(S,this._layers[Q]);return this},getLayer:function(v){return this._layers[v]},getLayers:function(){var v=[];return this.eachLayer(v.push,v),v},setZIndex:function(v){return this.invoke("setZIndex",v)},getLayerId:function(v){return u(v)}}),ga=function(v,S){return new zn(v,S)},Di=zn.extend({addLayer:function(v){return this.hasLayer(v)?this:(v.addEventParent(this),zn.prototype.addLayer.call(this,v),this.fire("layeradd",{layer:v}))},removeLayer:function(v){return this.hasLayer(v)?(v in this._layers&&(v=this._layers[v]),v.removeEventParent(this),zn.prototype.removeLayer.call(this,v),this.fire("layerremove",{layer:v})):this},setStyle:function(v){return this.invoke("setStyle",v)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var v=new Ie;for(var S in this._layers){var Q=this._layers[S];v.extend(Q.getBounds?Q.getBounds():Q.getLatLng())}return v}}),qn=function(v,S){return new Di(v,S)},ns=we.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(v){x(this,v)},createIcon:function(v){return this._createIcon("icon",v)},createShadow:function(v){return this._createIcon("shadow",v)},_createIcon:function(v,S){var Q=this._getIconUrl(v);if(!Q){if(v==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var le=this._createImg(Q,S&&S.tagName==="IMG"?S:null);return this._setIconStyles(le,v),(this.options.crossOrigin||this.options.crossOrigin==="")&&(le.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),le},_setIconStyles:function(v,S){var Q=this.options,le=Q[S+"Size"];typeof le=="number"&&(le=[le,le]);var Ee=Pe(le),Ke=Pe(S==="shadow"&&Q.shadowAnchor||Q.iconAnchor||Ee&&Ee.divideBy(2,!0));v.className="leaflet-marker-"+S+" "+(Q.className||""),Ke&&(v.style.marginLeft=-Ke.x+"px",v.style.marginTop=-Ke.y+"px"),Ee&&(v.style.width=Ee.x+"px",v.style.height=Ee.y+"px")},_createImg:function(v,S){return S=S||document.createElement("img"),S.src=v,S},_getIconUrl:function(v){return Ln.retina&&this.options[v+"RetinaUrl"]||this.options[v+"Url"]}});function Si(v){return new ns(v)}var Qn=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(v){return typeof Qn.imagePath!="string"&&(Qn.imagePath=this._detectIconPath()),(this.options.imagePath||Qn.imagePath)+ns.prototype._getIconUrl.call(this,v)},_stripUrl:function(v){var S=function(Q,le,Ee){var Ke=le.exec(Q);return Ke&&Ke[Ee]};return v=S(v,/^url\((['"])?(.+)\1\)$/,2),v&&S(v,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var v=ui("div","leaflet-default-icon-path",document.body),S=zs(v,"background-image")||zs(v,"backgroundImage");if(document.body.removeChild(v),S=this._stripUrl(S),S)return S;var Q=document.querySelector('link[href$="leaflet.css"]');return Q?Q.href.substring(0,Q.href.length-11-1):""}}),Li=At.extend({initialize:function(v){this._marker=v},addHooks:function(){var v=this._marker._icon;this._draggable||(this._draggable=new xr(v,v,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ei(v,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fs(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(v){var S=this._marker,Q=S._map,le=this._marker.options.autoPanSpeed,Ee=this._marker.options.autoPanPadding,Ke=jo(S._icon),kt=Q.getPixelBounds(),er=Q.getPixelOrigin(),Sr=he(kt.min._subtract(er).add(Ee),kt.max._subtract(er).subtract(Ee));if(!Sr.contains(Ke)){var qr=Pe((Math.max(Sr.max.x,Ke.x)-Sr.max.x)/(kt.max.x-Sr.max.x)-(Math.min(Sr.min.x,Ke.x)-Sr.min.x)/(kt.min.x-Sr.min.x),(Math.max(Sr.max.y,Ke.y)-Sr.max.y)/(kt.max.y-Sr.max.y)-(Math.min(Sr.min.y,Ke.y)-Sr.min.y)/(kt.min.y-Sr.min.y)).multiplyBy(le);Q.panBy(qr,{animate:!1}),this._draggable._newPos._add(qr),this._draggable._startPos._add(qr),ms(S._icon,this._draggable._newPos),this._onDrag(v),this._panRequest=te(this._adjustPan.bind(this,v))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(v){this._marker.options.autoPan&&(de(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,v)))},_onDrag:function(v){var S=this._marker,Q=S._shadow,le=jo(S._icon),Ee=S._map.layerPointToLatLng(le);Q&&ms(Q,le),S._latlng=Ee,v.latlng=Ee,v.oldLatLng=this._oldLatLng,S.fire("move",v).fire("drag",v)},_onDragEnd:function(v){de(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",v)}}),Xn=Vn.extend({options:{icon:new Qn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(v,S){x(this,S),this._latlng=De(v)},onAdd:function(v){this._zoomAnimated=this._zoomAnimated&&v.options.markerZoomAnimation,this._zoomAnimated&&v.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(v){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&v.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(v){var S=this._latlng;return this._latlng=De(v),this.update(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},setZIndexOffset:function(v){return this.options.zIndexOffset=v,this.update()},getIcon:function(){return this.options.icon},setIcon:function(v){return this.options.icon=v,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var v=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(v)}return this},_initIcon:function(){var v=this.options,S="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Q=v.icon.createIcon(this._icon),le=!1;Q!==this._icon&&(this._icon&&this._removeIcon(),le=!0,v.title&&(Q.title=v.title),Q.tagName==="IMG"&&(Q.alt=v.alt||"")),ei(Q,S),v.keyboard&&(Q.tabIndex="0",Q.setAttribute("role","button")),this._icon=Q,v.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(Q,"focus",this._panOnFocus,this);var Ee=v.icon.createShadow(this._shadow),Ke=!1;Ee!==this._shadow&&(this._removeShadow(),Ke=!0),Ee&&(ei(Ee,S),Ee.alt=""),this._shadow=Ee,v.opacity<1&&this._updateOpacity(),le&&this.getPane().appendChild(this._icon),this._initInteraction(),Ee&&Ke&&this.getPane(v.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(this._icon,"focus",this._panOnFocus,this),ks(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ks(this._shadow),this._shadow=null},_setPos:function(v){this._icon&&ms(this._icon,v),this._shadow&&ms(this._shadow,v),this._zIndex=v.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(v){this._icon&&(this._icon.style.zIndex=this._zIndex+v)},_animateZoom:function(v){var S=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center).round();this._setPos(S)},_initInteraction:function(){if(this.options.interactive&&(ei(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Li)){var v=this.options.draggable;this.dragging&&(v=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Li(this),v&&this.dragging.enable()}},setOpacity:function(v){return this.options.opacity=v,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var v=this.options.opacity;this._icon&&Hi(this._icon,v),this._shadow&&Hi(this._shadow,v)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var v=this._map;if(v){var S=this.options.icon.options,Q=S.iconSize?Pe(S.iconSize):Pe(0,0),le=S.iconAnchor?Pe(S.iconAnchor):Pe(0,0);v.panInside(this._latlng,{paddingTopLeft:le,paddingBottomRight:Q.subtract(le)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gi(v,S){return new Xn(v,S)}var is=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(v){this._renderer=v.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(v){return x(this,v),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&v&&Object.prototype.hasOwnProperty.call(v,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zi=is.extend({options:{fill:!0,radius:10},initialize:function(v,S){x(this,S),this._latlng=De(v),this._radius=this.options.radius},setLatLng:function(v){var S=this._latlng;return this._latlng=De(v),this.redraw(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(v){return this.options.radius=this._radius=v,this.redraw()},getRadius:function(){return this._radius},setStyle:function(v){var S=v&&v.radius||this._radius;return is.prototype.setStyle.call(this,v),this.setRadius(S),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var v=this._radius,S=this._radiusY||v,Q=this._clickTolerance(),le=[v+Q,S+Q];this._pxBounds=new be(this._point.subtract(le),this._point.add(le))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(v){return v.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function xs(v,S){return new Zi(v,S)}var Ca=Zi.extend({initialize:function(v,S,Q){if(typeof S=="number"&&(S=i({},Q,{radius:S})),x(this,S),this._latlng=De(v),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(v){return this._mRadius=v,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var v=[this._radius,this._radiusY||this._radius];return new Ie(this._map.layerPointToLatLng(this._point.subtract(v)),this._map.layerPointToLatLng(this._point.add(v)))},setStyle:is.prototype.setStyle,_project:function(){var v=this._latlng.lng,S=this._latlng.lat,Q=this._map,le=Q.options.crs;if(le.distance===pt.distance){var Ee=Math.PI/180,Ke=this._mRadius/pt.R/Ee,kt=Q.project([S+Ke,v]),er=Q.project([S-Ke,v]),Sr=kt.add(er).divideBy(2),qr=Q.unproject(Sr).lat,En=Math.acos((Math.cos(Ke*Ee)-Math.sin(S*Ee)*Math.sin(qr*Ee))/(Math.cos(S*Ee)*Math.cos(qr*Ee)))/Ee;(isNaN(En)||En===0)&&(En=Ke/Math.cos(Math.PI/180*S)),this._point=Sr.subtract(Q.getPixelOrigin()),this._radius=isNaN(En)?0:Sr.x-Q.project([qr,v-En]).x,this._radiusY=Sr.y-kt.y}else{var di=le.unproject(le.project(this._latlng).subtract([this._mRadius,0]));this._point=Q.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Q.latLngToLayerPoint(di).x}this._updateBounds()}});function bi(v,S,Q){return new Ca(v,S,Q)}var Ys=is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(v,S){x(this,S),this._setLatLngs(v)},getLatLngs:function(){return this._latlngs},setLatLngs:function(v){return this._setLatLngs(v),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(v){for(var S=1/0,Q=null,le=pn,Ee,Ke,kt=0,er=this._parts.length;kt<er;kt++)for(var Sr=this._parts[kt],qr=1,En=Sr.length;qr<En;qr++){Ee=Sr[qr-1],Ke=Sr[qr];var di=le(v,Ee,Ke,!0);di<S&&(S=di,Q=le(v,Ee,Ke))}return Q&&(Q.distance=Math.sqrt(S)),Q},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(v,S){return S=S||this._defaultShape(),v=De(v),S.push(v),this._bounds.extend(v),this.redraw()},_setLatLngs:function(v){this._bounds=new Ie,this._latlngs=this._convertLatLngs(v)},_defaultShape:function(){return jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(v){for(var S=[],Q=jn(v),le=0,Ee=v.length;le<Ee;le++)Q?(S[le]=De(v[le]),this._bounds.extend(S[le])):S[le]=this._convertLatLngs(v[le]);return S},_project:function(){var v=new be;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,v),this._bounds.isValid()&&v.isValid()&&(this._rawPxBounds=v,this._updateBounds())},_updateBounds:function(){var v=this._clickTolerance(),S=new oe(v,v);this._rawPxBounds&&(this._pxBounds=new be([this._rawPxBounds.min.subtract(S),this._rawPxBounds.max.add(S)]))},_projectLatlngs:function(v,S,Q){var le=v[0]instanceof $e,Ee=v.length,Ke,kt;if(le){for(kt=[],Ke=0;Ke<Ee;Ke++)kt[Ke]=this._map.latLngToLayerPoint(v[Ke]),Q.extend(kt[Ke]);S.push(kt)}else for(Ke=0;Ke<Ee;Ke++)this._projectLatlngs(v[Ke],S,Q)},_clipPoints:function(){var v=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}var S=this._parts,Q,le,Ee,Ke,kt,er,Sr;for(Q=0,Ee=0,Ke=this._rings.length;Q<Ke;Q++)for(Sr=this._rings[Q],le=0,kt=Sr.length;le<kt-1;le++)er=mr(Sr[le],Sr[le+1],v,le,!0),er&&(S[Ee]=S[Ee]||[],S[Ee].push(er[0]),(er[1]!==Sr[le+1]||le===kt-2)&&(S[Ee].push(er[1]),Ee++))}},_simplifyPoints:function(){for(var v=this._parts,S=this.options.smoothFactor,Q=0,le=v.length;Q<le;Q++)v[Q]=gn(v[Q],S)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(v,S){var Q,le,Ee,Ke,kt,er,Sr=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(Q=0,Ke=this._parts.length;Q<Ke;Q++)for(er=this._parts[Q],le=0,kt=er.length,Ee=kt-1;le<kt;Ee=le++)if(!(!S&&le===0)&&an(v,er[Ee],er[le])<=Sr)return!0;return!1}});function Qi(v,S){return new Ys(v,S)}Ys._flat=Fn;var oi=Ys.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(v){var S=Ys.prototype._convertLatLngs.call(this,v),Q=S.length;return Q>=2&&S[0]instanceof $e&&S[0].equals(S[Q-1])&&S.pop(),S},_setLatLngs:function(v){Ys.prototype._setLatLngs.call(this,v),jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var v=this._renderer._bounds,S=this.options.weight,Q=new oe(S,S);if(v=new be(v.min.subtract(Q),v.max.add(Q)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(v))){if(this.options.noClip){this._parts=this._rings;return}for(var le=0,Ee=this._rings.length,Ke;le<Ee;le++)Ke=Br(this._rings[le],v,!0),Ke.length&&this._parts.push(Ke)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(v){var S=!1,Q,le,Ee,Ke,kt,er,Sr,qr;if(!this._pxBounds||!this._pxBounds.contains(v))return!1;for(Ke=0,Sr=this._parts.length;Ke<Sr;Ke++)for(Q=this._parts[Ke],kt=0,qr=Q.length,er=qr-1;kt<qr;er=kt++)le=Q[kt],Ee=Q[er],le.y>v.y!=Ee.y>v.y&&v.x<(Ee.x-le.x)*(v.y-le.y)/(Ee.y-le.y)+le.x&&(S=!S);return S||Ys.prototype._containsPoint.call(this,v,!0)}});function da(v,S){return new oi(v,S)}var Ii=Di.extend({initialize:function(v,S){x(this,S),this._layers={},v&&this.addData(v)},addData:function(v){var S=_(v)?v:v.features,Q,le,Ee;if(S){for(Q=0,le=S.length;Q<le;Q++)Ee=S[Q],(Ee.geometries||Ee.geometry||Ee.features||Ee.coordinates)&&this.addData(Ee);return this}var Ke=this.options;if(Ke.filter&&!Ke.filter(v))return this;var kt=_n(v,Ke);return kt?(kt.feature=Ra(v),kt.defaultOptions=kt.options,this.resetStyle(kt),Ke.onEachFeature&&Ke.onEachFeature(v,kt),this.addLayer(kt)):this},resetStyle:function(v){return v===void 0?this.eachLayer(this.resetStyle,this):(v.options=i({},v.defaultOptions),this._setLayerStyle(v,this.options.style),this)},setStyle:function(v){return this.eachLayer(function(S){this._setLayerStyle(S,v)},this)},_setLayerStyle:function(v,S){v.setStyle&&(typeof S=="function"&&(S=S(v.feature)),v.setStyle(S))}});function _n(v,S){var Q=v.type==="Feature"?v.geometry:v,le=Q?Q.coordinates:null,Ee=[],Ke=S&&S.pointToLayer,kt=S&&S.coordsToLatLng||Su,er,Sr,qr,En;if(!le&&!Q)return null;switch(Q.type){case"Point":return er=kt(le),cs(Ke,v,er,S);case"MultiPoint":for(qr=0,En=le.length;qr<En;qr++)er=kt(le[qr]),Ee.push(cs(Ke,v,er,S));return new Di(Ee);case"LineString":case"MultiLineString":return Sr=so(le,Q.type==="LineString"?0:1,kt),new Ys(Sr,S);case"Polygon":case"MultiPolygon":return Sr=so(le,Q.type==="Polygon"?1:2,kt),new oi(Sr,S);case"GeometryCollection":for(qr=0,En=Q.geometries.length;qr<En;qr++){var di=_n({geometry:Q.geometries[qr],type:"Feature",properties:v.properties},S);di&&Ee.push(di)}return new Di(Ee);case"FeatureCollection":for(qr=0,En=Q.features.length;qr<En;qr++){var As=_n(Q.features[qr],S);As&&Ee.push(As)}return new Di(Ee);default:throw new Error("Invalid GeoJSON object.")}}function cs(v,S,Q,le){return v?v(S,Q):new Xn(Q,le&&le.markersInheritOptions&&le)}function Su(v){return new $e(v[1],v[0],v[2])}function so(v,S,Q){for(var le=[],Ee=0,Ke=v.length,kt;Ee<Ke;Ee++)kt=S?so(v[Ee],S-1,Q):(Q||Su)(v[Ee]),le.push(kt);return le}function Ko(v,S){return v=De(v),v.alt!==void 0?[m(v.lng,S),m(v.lat,S),m(v.alt,S)]:[m(v.lng,S),m(v.lat,S)]}function rc(v,S,Q,le){for(var Ee=[],Ke=0,kt=v.length;Ke<kt;Ke++)Ee.push(S?rc(v[Ke],jn(v[Ke])?0:S-1,Q,le):Ko(v[Ke],le));return!S&&Q&&Ee.length>0&&Ee.push(Ee[0].slice()),Ee}function wi(v,S){return v.feature?i({},v.feature,{geometry:S}):Ra(S)}function Ra(v){return v.type==="Feature"||v.type==="FeatureCollection"?v:{type:"Feature",properties:{},geometry:v}}var Xa={toGeoJSON:function(v){return wi(this,{type:"Point",coordinates:Ko(this.getLatLng(),v)})}};Xn.include(Xa),Ca.include(Xa),Zi.include(Xa),Ys.include({toGeoJSON:function(v){var S=!jn(this._latlngs),Q=rc(this._latlngs,S?1:0,!1,v);return wi(this,{type:(S?"Multi":"")+"LineString",coordinates:Q})}}),oi.include({toGeoJSON:function(v){var S=!jn(this._latlngs),Q=S&&!jn(this._latlngs[0]),le=rc(this._latlngs,Q?2:S?1:0,!0,v);return S||(le=[le]),wi(this,{type:(Q?"Multi":"")+"Polygon",coordinates:le})}}),zn.include({toMultiPoint:function(v){var S=[];return this.eachLayer(function(Q){S.push(Q.toGeoJSON(v).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:S})},toGeoJSON:function(v){var S=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(S==="MultiPoint")return this.toMultiPoint(v);var Q=S==="GeometryCollection",le=[];return this.eachLayer(function(Ee){if(Ee.toGeoJSON){var Ke=Ee.toGeoJSON(v);if(Q)le.push(Ke.geometry);else{var kt=Ra(Ke);kt.type==="FeatureCollection"?le.push.apply(le,kt.features):le.push(kt)}}}),Q?wi(this,{geometries:le,type:"GeometryCollection"}):{type:"FeatureCollection",features:le}}});function Ql(v,S){return new Ii(v,S)}var zl=Ql,ha=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(v,S,Q){this._url=v,this._bounds=Oe(S),x(this,Q)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ei(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ks(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(v){return this.options.opacity=v,this._image&&this._updateOpacity(),this},setStyle:function(v){return v.opacity&&this.setOpacity(v.opacity),this},bringToFront:function(){return this._map&&za(this._image),this},bringToBack:function(){return this._map&&Ta(this._image),this},setUrl:function(v){return this._url=v,this._image&&(this._image.src=v),this},setBounds:function(v){return this._bounds=Oe(v),this._map&&this._reset(),this},getEvents:function(){var v={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var v=this._url.tagName==="IMG",S=this._image=v?this._url:ui("img");if(ei(S,"leaflet-image-layer"),this._zoomAnimated&&ei(S,"leaflet-zoom-animated"),this.options.className&&ei(S,this.options.className),S.onselectstart=f,S.onmousemove=f,S.onload=o(this.fire,this,"load"),S.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),v){this._url=S.src;return}S.src=this._url,S.alt=this.options.alt},_animateZoom:function(v){var S=this._map.getZoomScale(v.zoom),Q=this._map._latLngBoundsToNewLayerBounds(this._bounds,v.zoom,v.center).min;Xs(this._image,Q,S)},_reset:function(){var v=this._image,S=new be(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Q=S.getSize();ms(v,S.min),v.style.width=Q.x+"px",v.style.height=Q.y+"px"},_updateOpacity:function(){Hi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var v=this.options.errorOverlayUrl;v&&this._url!==v&&(this._url=v,this._image.src=v)},getCenter:function(){return this._bounds.getCenter()}}),yo=function(v,S,Q){return new ha(v,S,Q)},Za=ha.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var v=this._url.tagName==="VIDEO",S=this._image=v?this._url:ui("video");if(ei(S,"leaflet-image-layer"),this._zoomAnimated&&ei(S,"leaflet-zoom-animated"),this.options.className&&ei(S,this.options.className),S.onselectstart=f,S.onmousemove=f,S.onloadeddata=o(this.fire,this,"load"),v){for(var Q=S.getElementsByTagName("source"),le=[],Ee=0;Ee<Q.length;Ee++)le.push(Q[Ee].src);this._url=Q.length>0?le:[S.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(S.style,"objectFit")&&(S.style.objectFit="fill"),S.autoplay=!!this.options.autoplay,S.loop=!!this.options.loop,S.muted=!!this.options.muted,S.playsInline=!!this.options.playsInline;for(var Ke=0;Ke<this._url.length;Ke++){var kt=ui("source");kt.src=this._url[Ke],S.appendChild(kt)}}});function zc(v,S,Q){return new Za(v,S,Q)}var To=ha.extend({_initImage:function(){var v=this._image=this._url;ei(v,"leaflet-image-layer"),this._zoomAnimated&&ei(v,"leaflet-zoom-animated"),this.options.className&&ei(v,this.options.className),v.onselectstart=f,v.onmousemove=f}});function gc(v,S,Q){return new To(v,S,Q)}var Ka=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(v,S){v&&(v instanceof $e||_(v))?(this._latlng=De(v),x(this,S)):(x(this,v),this._source=S),this.options.content&&(this._content=this.options.content)},openOn:function(v){return v=arguments.length?v:this._source._map,v.hasLayer(this)||v.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(v){return this._map?this.close():(arguments.length?this._source=v:v=this._source,this._prepareOpen(),this.openOn(v._map)),this},onAdd:function(v){this._zoomAnimated=v._zoomAnimated,this._container||this._initLayout(),v._fadeAnimated&&Hi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),v._fadeAnimated&&Hi(this._container,1),this.bringToFront(),this.options.interactive&&(ei(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(v){v._fadeAnimated?(Hi(this._container,0),this._removeTimeout=setTimeout(o(ks,void 0,this._container),200)):ks(this._container),this.options.interactive&&(fs(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(v){return this._latlng=De(v),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(v){return this._content=v,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var v={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&za(this._container),this},bringToBack:function(){return this._map&&Ta(this._container),this},_prepareOpen:function(v){var S=this._source;if(!S._map)return!1;if(S instanceof Di){S=null;var Q=this._source._layers;for(var le in Q)if(Q[le]._map){S=Q[le];break}if(!S)return!1;this._source=S}if(!v)if(S.getCenter)v=S.getCenter();else if(S.getLatLng)v=S.getLatLng();else if(S.getBounds)v=S.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(v),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var v=this._contentNode,S=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof S=="string")v.innerHTML=S;else{for(;v.hasChildNodes();)v.removeChild(v.firstChild);v.appendChild(S)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var v=this._map.latLngToLayerPoint(this._latlng),S=Pe(this.options.offset),Q=this._getAnchor();this._zoomAnimated?ms(this._container,v.add(Q)):S=S.add(v).add(Q);var le=this._containerBottom=-S.y,Ee=this._containerLeft=-Math.round(this._containerWidth/2)+S.x;this._container.style.bottom=le+"px",this._container.style.left=Ee+"px"}},_getAnchor:function(){return[0,0]}});ot.include({_initOverlay:function(v,S,Q,le){var Ee=S;return Ee instanceof v||(Ee=new v(le).setContent(S)),Q&&Ee.setLatLng(Q),Ee}}),Vn.include({_initOverlay:function(v,S,Q,le){var Ee=Q;return Ee instanceof v?(x(Ee,le),Ee._source=this):(Ee=S&&!le?S:new v(le,this),Ee.setContent(Q)),Ee}});var Vl=Ka.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(v){return v=arguments.length?v:this._source._map,!v.hasLayer(this)&&v._popup&&v._popup.options.autoClose&&v.removeLayer(v._popup),v._popup=this,Ka.prototype.openOn.call(this,v)},onAdd:function(v){Ka.prototype.onAdd.call(this,v),v.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof is||this._source.on("preclick",G))},onRemove:function(v){Ka.prototype.onRemove.call(this,v),v.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof is||this._source.off("preclick",G))},getEvents:function(){var v=Ka.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(v.preclick=this.close),this.options.keepInView&&(v.moveend=this._adjustPan),v},_initLayout:function(){var v="leaflet-popup",S=this._container=ui("div",v+" "+(this.options.className||"")+" leaflet-zoom-animated"),Q=this._wrapper=ui("div",v+"-content-wrapper",S);if(this._contentNode=ui("div",v+"-content",Q),re(S),Z(this._contentNode),me(S,"contextmenu",G),this._tipContainer=ui("div",v+"-tip-container",S),this._tip=ui("div",v+"-tip",this._tipContainer),this.options.closeButton){var le=this._closeButton=ui("a",v+"-close-button",S);le.setAttribute("role","button"),le.setAttribute("aria-label","Close popup"),le.href="#close",le.innerHTML='<span aria-hidden="true">&#215;</span>',me(le,"click",function(Ee){xe(Ee),this.close()},this)}},_updateLayout:function(){var v=this._contentNode,S=v.style;S.width="",S.whiteSpace="nowrap";var Q=v.offsetWidth;Q=Math.min(Q,this.options.maxWidth),Q=Math.max(Q,this.options.minWidth),S.width=Q+1+"px",S.whiteSpace="",S.height="";var le=v.offsetHeight,Ee=this.options.maxHeight,Ke="leaflet-popup-scrolled";Ee&&le>Ee?(S.height=Ee+"px",ei(v,Ke)):fs(v,Ke),this._containerWidth=this._container.offsetWidth},_animateZoom:function(v){var S=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center),Q=this._getAnchor();ms(this._container,S.add(Q))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var v=this._map,S=parseInt(zs(this._container,"marginBottom"),10)||0,Q=this._container.offsetHeight+S,le=this._containerWidth,Ee=new oe(this._containerLeft,-Q-this._containerBottom);Ee._add(jo(this._container));var Ke=v.layerPointToContainerPoint(Ee),kt=Pe(this.options.autoPanPadding),er=Pe(this.options.autoPanPaddingTopLeft||kt),Sr=Pe(this.options.autoPanPaddingBottomRight||kt),qr=v.getSize(),En=0,di=0;Ke.x+le+Sr.x>qr.x&&(En=Ke.x+le-qr.x+Sr.x),Ke.x-En-er.x<0&&(En=Ke.x-er.x),Ke.y+Q+Sr.y>qr.y&&(di=Ke.y+Q-qr.y+Sr.y),Ke.y-di-er.y<0&&(di=Ke.y-er.y),(En||di)&&(this.options.keepInView&&(this._autopanning=!0),v.fire("autopanstart").panBy([En,di]))}},_getAnchor:function(){return Pe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Kl=function(v,S){return new Vl(v,S)};ot.mergeOptions({closePopupOnClick:!0}),ot.include({openPopup:function(v,S,Q){return this._initOverlay(Vl,v,S,Q).openOn(this),this},closePopup:function(v){return v=arguments.length?v:this._popup,v&&v.close(),this}}),Vn.include({bindPopup:function(v,S){return this._popup=this._initOverlay(Vl,this._popup,v,S),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(v){return this._popup&&(this instanceof Di||(this._popup._source=this),this._popup._prepareOpen(v||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(v){return this._popup&&this._popup.setContent(v),this},getPopup:function(){return this._popup},_openPopup:function(v){if(!(!this._popup||!this._map)){fe(v);var S=v.layer||v.target;if(this._popup._source===S&&!(S instanceof is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(v.latlng);return}this._popup._source=S,this.openPopup(v.latlng)}},_movePopup:function(v){this._popup.setLatLng(v.latlng)},_onKeyPress:function(v){v.originalEvent.keyCode===13&&this._openPopup(v)}});var Bl=Ka.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(v){Ka.prototype.onAdd.call(this,v),this.setOpacity(this.options.opacity),v.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(v){Ka.prototype.onRemove.call(this,v),v.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var v=Ka.prototype.getEvents.call(this);return this.options.permanent||(v.preclick=this.close),v},_initLayout:function(){var v="leaflet-tooltip",S=v+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ui("div",S),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(v){var S,Q,le=this._map,Ee=this._container,Ke=le.latLngToContainerPoint(le.getCenter()),kt=le.layerPointToContainerPoint(v),er=this.options.direction,Sr=Ee.offsetWidth,qr=Ee.offsetHeight,En=Pe(this.options.offset),di=this._getAnchor();er==="top"?(S=Sr/2,Q=qr):er==="bottom"?(S=Sr/2,Q=0):er==="center"?(S=Sr/2,Q=qr/2):er==="right"?(S=0,Q=qr/2):er==="left"?(S=Sr,Q=qr/2):kt.x<Ke.x?(er="right",S=0,Q=qr/2):(er="left",S=Sr+(En.x+di.x)*2,Q=qr/2),v=v.subtract(Pe(S,Q,!0)).add(En).add(di),fs(Ee,"leaflet-tooltip-right"),fs(Ee,"leaflet-tooltip-left"),fs(Ee,"leaflet-tooltip-top"),fs(Ee,"leaflet-tooltip-bottom"),ei(Ee,"leaflet-tooltip-"+er),ms(Ee,v)},_updatePosition:function(){var v=this._map.latLngToLayerPoint(this._latlng);this._setPosition(v)},setOpacity:function(v){this.options.opacity=v,this._container&&Hi(this._container,v)},_animateZoom:function(v){var S=this._map._latLngToNewLayerPoint(this._latlng,v.zoom,v.center);this._setPosition(S)},_getAnchor:function(){return Pe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ed=function(v,S){return new Bl(v,S)};ot.include({openTooltip:function(v,S,Q){return this._initOverlay(Bl,v,S,Q).openOn(this),this},closeTooltip:function(v){return v.close(),this}}),Vn.include({bindTooltip:function(v,S){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bl,this._tooltip,v,S),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(v){if(!(!v&&this._tooltipHandlersAdded)){var S=v?"off":"on",Q={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Q.add=this._openTooltip:(Q.mouseover=this._openTooltip,Q.mouseout=this.closeTooltip,Q.click=this._openTooltip,this._map?this._addFocusListeners():Q.add=this._addFocusListeners),this._tooltip.options.sticky&&(Q.mousemove=this._moveTooltip),this[S](Q),this._tooltipHandlersAdded=!v}},openTooltip:function(v){return this._tooltip&&(this instanceof Di||(this._tooltip._source=this),this._tooltip._prepareOpen(v)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(v){return this._tooltip&&this._tooltip.setContent(v),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(v){var S=typeof v.getElement=="function"&&v.getElement();S&&(me(S,"focus",function(){this._tooltip._source=v,this.openTooltip()},this),me(S,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(v){var S=typeof v.getElement=="function"&&v.getElement();S&&S.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(v){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var S=this;this._map.once("moveend",function(){S._openOnceFlag=!1,S._openTooltip(v)});return}this._tooltip._source=v.layer||v.target,this.openTooltip(this._tooltip.options.sticky?v.latlng:void 0)}},_moveTooltip:function(v){var S=v.latlng,Q,le;this._tooltip.options.sticky&&v.originalEvent&&(Q=this._map.mouseEventToContainerPoint(v.originalEvent),le=this._map.containerPointToLayerPoint(Q),S=this._map.layerPointToLatLng(le)),this._tooltip.setLatLng(S)}});var nc=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(v){var S=v&&v.tagName==="DIV"?v:document.createElement("div"),Q=this.options;if(Q.html instanceof Element?(ja(S),S.appendChild(Q.html)):S.innerHTML=Q.html!==!1?Q.html:"",Q.bgPos){var le=Pe(Q.bgPos);S.style.backgroundPosition=-le.x+"px "+-le.y+"px"}return this._setIconStyles(S,"icon"),S},createShadow:function(){return null}});function Gl(v){return new nc(v)}ns.Default=Qn;var vc=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ln.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(v){x(this,v)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(v){v._addZoomLimit(this)},onRemove:function(v){this._removeAllTiles(),ks(this._container),v._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(za(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ta(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(v){return this.options.opacity=v,this._updateOpacity(),this},setZIndex:function(v){return this.options.zIndex=v,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var v=this._clampZoom(this._map.getZoom());v!==this._tileZoom&&(this._tileZoom=v,this._updateLevels()),this._update()}return this},getEvents:function(){var v={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=l(this._onMoveEnd,this.options.updateInterval,this)),v.move=this._onMove),this._zoomAnimated&&(v.zoomanim=this._animateZoom),v},createTile:function(){return document.createElement("div")},getTileSize:function(){var v=this.options.tileSize;return v instanceof oe?v:new oe(v,v)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(v){for(var S=this.getPane().children,Q=-v(-1/0,1/0),le=0,Ee=S.length,Ke;le<Ee;le++)Ke=S[le].style.zIndex,S[le]!==this._container&&Ke&&(Q=v(Q,+Ke));isFinite(Q)&&(this.options.zIndex=Q+v(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ln.ielt9){Hi(this._container,this.options.opacity);var v=+new Date,S=!1,Q=!1;for(var le in this._tiles){var Ee=this._tiles[le];if(!(!Ee.current||!Ee.loaded)){var Ke=Math.min(1,(v-Ee.loaded)/200);Hi(Ee.el,Ke),Ke<1?S=!0:(Ee.active?Q=!0:this._onOpaqueTile(Ee),Ee.active=!0)}}Q&&!this._noPrune&&this._pruneTiles(),S&&(de(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=ui("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var v=this._tileZoom,S=this.options.maxZoom;if(v!==void 0){for(var Q in this._levels)Q=Number(Q),this._levels[Q].el.children.length||Q===v?(this._levels[Q].el.style.zIndex=S-Math.abs(v-Q),this._onUpdateLevel(Q)):(ks(this._levels[Q].el),this._removeTilesAtZoom(Q),this._onRemoveLevel(Q),delete this._levels[Q]);var le=this._levels[v],Ee=this._map;return le||(le=this._levels[v]={},le.el=ui("div","leaflet-tile-container leaflet-zoom-animated",this._container),le.el.style.zIndex=S,le.origin=Ee.project(Ee.unproject(Ee.getPixelOrigin()),v).round(),le.zoom=v,this._setZoomTransform(le,Ee.getCenter(),Ee.getZoom()),f(le.el.offsetWidth),this._onCreateLevel(le)),this._level=le,le}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var v,S,Q=this._map.getZoom();if(Q>this.options.maxZoom||Q<this.options.minZoom){this._removeAllTiles();return}for(v in this._tiles)S=this._tiles[v],S.retain=S.current;for(v in this._tiles)if(S=this._tiles[v],S.current&&!S.active){var le=S.coords;this._retainParent(le.x,le.y,le.z,le.z-5)||this._retainChildren(le.x,le.y,le.z,le.z+2)}for(v in this._tiles)this._tiles[v].retain||this._removeTile(v)}},_removeTilesAtZoom:function(v){for(var S in this._tiles)this._tiles[S].coords.z===v&&this._removeTile(S)},_removeAllTiles:function(){for(var v in this._tiles)this._removeTile(v)},_invalidateAll:function(){for(var v in this._levels)ks(this._levels[v].el),this._onRemoveLevel(Number(v)),delete this._levels[v];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(v,S,Q,le){var Ee=Math.floor(v/2),Ke=Math.floor(S/2),kt=Q-1,er=new oe(+Ee,+Ke);er.z=+kt;var Sr=this._tileCoordsToKey(er),qr=this._tiles[Sr];return qr&&qr.active?(qr.retain=!0,!0):(qr&&qr.loaded&&(qr.retain=!0),kt>le?this._retainParent(Ee,Ke,kt,le):!1)},_retainChildren:function(v,S,Q,le){for(var Ee=2*v;Ee<2*v+2;Ee++)for(var Ke=2*S;Ke<2*S+2;Ke++){var kt=new oe(Ee,Ke);kt.z=Q+1;var er=this._tileCoordsToKey(kt),Sr=this._tiles[er];if(Sr&&Sr.active){Sr.retain=!0;continue}else Sr&&Sr.loaded&&(Sr.retain=!0);Q+1<le&&this._retainChildren(Ee,Ke,Q+1,le)}},_resetView:function(v){var S=v&&(v.pinch||v.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),S,S)},_animateZoom:function(v){this._setView(v.center,v.zoom,!0,v.noUpdate)},_clampZoom:function(v){var S=this.options;return S.minNativeZoom!==void 0&&v<S.minNativeZoom?S.minNativeZoom:S.maxNativeZoom!==void 0&&S.maxNativeZoom<v?S.maxNativeZoom:v},_setView:function(v,S,Q,le){var Ee=Math.round(S);this.options.maxZoom!==void 0&&Ee>this.options.maxZoom||this.options.minZoom!==void 0&&Ee<this.options.minZoom?Ee=void 0:Ee=this._clampZoom(Ee);var Ke=this.options.updateWhenZooming&&Ee!==this._tileZoom;(!le||Ke)&&(this._tileZoom=Ee,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Ee!==void 0&&this._update(v),Q||this._pruneTiles(),this._noPrune=!!Q),this._setZoomTransforms(v,S)},_setZoomTransforms:function(v,S){for(var Q in this._levels)this._setZoomTransform(this._levels[Q],v,S)},_setZoomTransform:function(v,S,Q){var le=this._map.getZoomScale(Q,v.zoom),Ee=v.origin.multiplyBy(le).subtract(this._map._getNewPixelOrigin(S,Q)).round();Ln.any3d?Xs(v.el,Ee,le):ms(v.el,Ee)},_resetGrid:function(){var v=this._map,S=v.options.crs,Q=this._tileSize=this.getTileSize(),le=this._tileZoom,Ee=this._map.getPixelWorldBounds(this._tileZoom);Ee&&(this._globalTileRange=this._pxBoundsToTileRange(Ee)),this._wrapX=S.wrapLng&&!this.options.noWrap&&[Math.floor(v.project([0,S.wrapLng[0]],le).x/Q.x),Math.ceil(v.project([0,S.wrapLng[1]],le).x/Q.y)],this._wrapY=S.wrapLat&&!this.options.noWrap&&[Math.floor(v.project([S.wrapLat[0],0],le).y/Q.x),Math.ceil(v.project([S.wrapLat[1],0],le).y/Q.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(v){var S=this._map,Q=S._animatingZoom?Math.max(S._animateToZoom,S.getZoom()):S.getZoom(),le=S.getZoomScale(Q,this._tileZoom),Ee=S.project(v,this._tileZoom).floor(),Ke=S.getSize().divideBy(le*2);return new be(Ee.subtract(Ke),Ee.add(Ke))},_update:function(v){var S=this._map;if(S){var Q=this._clampZoom(S.getZoom());if(v===void 0&&(v=S.getCenter()),this._tileZoom!==void 0){var le=this._getTiledPixelBounds(v),Ee=this._pxBoundsToTileRange(le),Ke=Ee.getCenter(),kt=[],er=this.options.keepBuffer,Sr=new be(Ee.getBottomLeft().subtract([er,-er]),Ee.getTopRight().add([er,-er]));if(!(isFinite(Ee.min.x)&&isFinite(Ee.min.y)&&isFinite(Ee.max.x)&&isFinite(Ee.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var qr in this._tiles){var En=this._tiles[qr].coords;(En.z!==this._tileZoom||!Sr.contains(new oe(En.x,En.y)))&&(this._tiles[qr].current=!1)}if(Math.abs(Q-this._tileZoom)>1){this._setView(v,Q);return}for(var di=Ee.min.y;di<=Ee.max.y;di++)for(var As=Ee.min.x;As<=Ee.max.x;As++){var Da=new oe(As,di);if(Da.z=this._tileZoom,!!this._isValidTile(Da)){var Co=this._tiles[this._tileCoordsToKey(Da)];Co?Co.current=!0:kt.push(Da)}}if(kt.sort(function(Zs,la){return Zs.distanceTo(Ke)-la.distanceTo(Ke)}),kt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var il=document.createDocumentFragment();for(As=0;As<kt.length;As++)this._addTile(kt[As],il);this._level.el.appendChild(il)}}}},_isValidTile:function(v){var S=this._map.options.crs;if(!S.infinite){var Q=this._globalTileRange;if(!S.wrapLng&&(v.x<Q.min.x||v.x>Q.max.x)||!S.wrapLat&&(v.y<Q.min.y||v.y>Q.max.y))return!1}if(!this.options.bounds)return!0;var le=this._tileCoordsToBounds(v);return Oe(this.options.bounds).overlaps(le)},_keyToBounds:function(v){return this._tileCoordsToBounds(this._keyToTileCoords(v))},_tileCoordsToNwSe:function(v){var S=this._map,Q=this.getTileSize(),le=v.scaleBy(Q),Ee=le.add(Q),Ke=S.unproject(le,v.z),kt=S.unproject(Ee,v.z);return[Ke,kt]},_tileCoordsToBounds:function(v){var S=this._tileCoordsToNwSe(v),Q=new Ie(S[0],S[1]);return this.options.noWrap||(Q=this._map.wrapLatLngBounds(Q)),Q},_tileCoordsToKey:function(v){return v.x+":"+v.y+":"+v.z},_keyToTileCoords:function(v){var S=v.split(":"),Q=new oe(+S[0],+S[1]);return Q.z=+S[2],Q},_removeTile:function(v){var S=this._tiles[v];S&&(ks(S.el),delete this._tiles[v],this.fire("tileunload",{tile:S.el,coords:this._keyToTileCoords(v)}))},_initTile:function(v){ei(v,"leaflet-tile");var S=this.getTileSize();v.style.width=S.x+"px",v.style.height=S.y+"px",v.onselectstart=f,v.onmousemove=f,Ln.ielt9&&this.options.opacity<1&&Hi(v,this.options.opacity)},_addTile:function(v,S){var Q=this._getTilePos(v),le=this._tileCoordsToKey(v),Ee=this.createTile(this._wrapCoords(v),o(this._tileReady,this,v));this._initTile(Ee),this.createTile.length<2&&te(o(this._tileReady,this,v,null,Ee)),ms(Ee,Q),this._tiles[le]={el:Ee,coords:v,current:!0},S.appendChild(Ee),this.fire("tileloadstart",{tile:Ee,coords:v})},_tileReady:function(v,S,Q){S&&this.fire("tileerror",{error:S,tile:Q,coords:v});var le=this._tileCoordsToKey(v);Q=this._tiles[le],Q&&(Q.loaded=+new Date,this._map._fadeAnimated?(Hi(Q.el,0),de(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(Q.active=!0,this._pruneTiles()),S||(ei(Q.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Q.el,coords:v})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ln.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(v){return v.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(v){var S=new oe(this._wrapX?d(v.x,this._wrapX):v.x,this._wrapY?d(v.y,this._wrapY):v.y);return S.z=v.z,S},_pxBoundsToTileRange:function(v){var S=this.getTileSize();return new be(v.min.unscaleBy(S).floor(),v.max.unscaleBy(S).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var v in this._tiles)if(!this._tiles[v].loaded)return!1;return!0}});function _d(v){return new vc(v)}var Wl=vc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(v,S){this._url=v,S=x(this,S),S.detectRetina&&Ln.retina&&S.maxZoom>0?(S.tileSize=Math.floor(S.tileSize/2),S.zoomReverse?(S.zoomOffset--,S.minZoom=Math.min(S.maxZoom,S.minZoom+1)):(S.zoomOffset++,S.maxZoom=Math.max(S.minZoom,S.maxZoom-1)),S.minZoom=Math.max(0,S.minZoom)):S.zoomReverse?S.minZoom=Math.min(S.maxZoom,S.minZoom):S.maxZoom=Math.max(S.minZoom,S.maxZoom),typeof S.subdomains=="string"&&(S.subdomains=S.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(v,S){return this._url===v&&S===void 0&&(S=!0),this._url=v,S||this.redraw(),this},createTile:function(v,S){var Q=document.createElement("img");return me(Q,"load",o(this._tileOnLoad,this,S,Q)),me(Q,"error",o(this._tileOnError,this,S,Q)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Q.referrerPolicy=this.options.referrerPolicy),Q.alt="",Q.src=this.getTileUrl(v),Q},getTileUrl:function(v){var S={r:Ln.retina?"@2x":"",s:this._getSubdomain(v),x:v.x,y:v.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Q=this._globalTileRange.max.y-v.y;this.options.tms&&(S.y=Q),S["-y"]=Q}return E(this._url,i(S,this.options))},_tileOnLoad:function(v,S){Ln.ielt9?setTimeout(o(v,this,null,S),0):v(null,S)},_tileOnError:function(v,S,Q){var le=this.options.errorTileUrl;le&&S.getAttribute("src")!==le&&(S.src=le),v(Q,S)},_onTileRemove:function(v){v.tile.onload=null},_getZoomForUrl:function(){var v=this._tileZoom,S=this.options.maxZoom,Q=this.options.zoomReverse,le=this.options.zoomOffset;return Q&&(v=S-v),v+le},_getSubdomain:function(v){var S=Math.abs(v.x+v.y)%this.options.subdomains.length;return this.options.subdomains[S]},_abortLoading:function(){var v,S;for(v in this._tiles)if(this._tiles[v].coords.z!==this._tileZoom&&(S=this._tiles[v].el,S.onload=f,S.onerror=f,!S.complete)){S.src=C;var Q=this._tiles[v].coords;ks(S),delete this._tiles[v],this.fire("tileabort",{tile:S,coords:Q})}},_removeTile:function(v){var S=this._tiles[v];if(S)return S.el.setAttribute("src",C),vc.prototype._removeTile.call(this,v)},_tileReady:function(v,S,Q){if(!(!this._map||Q&&Q.getAttribute("src")===C))return vc.prototype._tileReady.call(this,v,S,Q)}});function Yl(v,S){return new Wl(v,S)}var ju=Wl.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(v,S){this._url=v;var Q=i({},this.defaultWmsParams);for(var le in S)le in this.options||(Q[le]=S[le]);S=x(this,S);var Ee=S.detectRetina&&Ln.retina?2:1,Ke=this.getTileSize();Q.width=Ke.x*Ee,Q.height=Ke.y*Ee,this.wmsParams=Q},onAdd:function(v){this._crs=this.options.crs||v.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var S=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[S]=this._crs.code,Wl.prototype.onAdd.call(this,v)},getTileUrl:function(v){var S=this._tileCoordsToNwSe(v),Q=this._crs,le=he(Q.project(S[0]),Q.project(S[1])),Ee=le.min,Ke=le.max,kt=(this._wmsVersion>=1.3&&this._crs===Ni?[Ee.y,Ee.x,Ke.y,Ke.x]:[Ee.x,Ee.y,Ke.x,Ke.y]).join(","),er=Wl.prototype.getTileUrl.call(this,v);return er+y(this.wmsParams,er,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+kt},setParams:function(v,S){return i(this.wmsParams,v),S||this.redraw(),this}});function ql(v,S){return new ju(v,S)}Wl.WMS=ju,Yl.wms=ql;var Io=Vn.extend({options:{padding:.1},initialize:function(v){x(this,v),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ei(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var v={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(v.zoomanim=this._onAnimZoom),v},_onAnimZoom:function(v){this._updateTransform(v.center,v.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(v,S){var Q=this._map.getZoomScale(S,this._zoom),le=this._map.getSize().multiplyBy(.5+this.options.padding),Ee=this._map.project(this._center,S),Ke=le.multiplyBy(-Q).add(Ee).subtract(this._map._getNewPixelOrigin(v,S));Ln.any3d?Xs(this._container,Ke,Q):ms(this._container,Ke)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var v in this._layers)this._layers[v]._reset()},_onZoomEnd:function(){for(var v in this._layers)this._layers[v]._project()},_updatePaths:function(){for(var v in this._layers)this._layers[v]._update()},_update:function(){var v=this.options.padding,S=this._map.getSize(),Q=this._map.containerPointToLayerPoint(S.multiplyBy(-v)).round();this._bounds=new be(Q,Q.add(S.multiplyBy(1+v*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vl=Io.extend({options:{tolerance:0},getEvents:function(){var v=Io.prototype.getEvents.call(this);return v.viewprereset=this._onViewPreReset,v},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Io.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var v=this._container=document.createElement("canvas");me(v,"mousemove",this._onMouseMove,this),me(v,"click dblclick mousedown mouseup contextmenu",this._onClick,this),me(v,"mouseout",this._handleMouseOut,this),v._leaflet_disable_events=!0,this._ctx=v.getContext("2d")},_destroyContainer:function(){de(this._redrawRequest),delete this._ctx,ks(this._container),Qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var v;this._redrawBounds=null;for(var S in this._layers)v=this._layers[S],v._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var v=this._bounds,S=this._container,Q=v.getSize(),le=Ln.retina?2:1;ms(S,v.min),S.width=le*Q.x,S.height=le*Q.y,S.style.width=Q.x+"px",S.style.height=Q.y+"px",Ln.retina&&this._ctx.scale(2,2),this._ctx.translate(-v.min.x,-v.min.y),this.fire("update")}},_reset:function(){Io.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(v){this._updateDashArray(v),this._layers[u(v)]=v;var S=v._order={layer:v,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=S),this._drawLast=S,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(v){this._requestRedraw(v)},_removePath:function(v){var S=v._order,Q=S.next,le=S.prev;Q?Q.prev=le:this._drawLast=le,le?le.next=Q:this._drawFirst=Q,delete v._order,delete this._layers[u(v)],this._requestRedraw(v)},_updatePath:function(v){this._extendRedrawBounds(v),v._project(),v._update(),this._requestRedraw(v)},_updateStyle:function(v){this._updateDashArray(v),this._requestRedraw(v)},_updateDashArray:function(v){if(typeof v.options.dashArray=="string"){var S=v.options.dashArray.split(/[, ]+/),Q=[],le,Ee;for(Ee=0;Ee<S.length;Ee++){if(le=Number(S[Ee]),isNaN(le))return;Q.push(le)}v.options._dashArray=Q}else v.options._dashArray=v.options.dashArray},_requestRedraw:function(v){this._map&&(this._extendRedrawBounds(v),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(v){if(v._pxBounds){var S=(v.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new be,this._redrawBounds.extend(v._pxBounds.min.subtract([S,S])),this._redrawBounds.extend(v._pxBounds.max.add([S,S]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var v=this._redrawBounds;if(v){var S=v.getSize();this._ctx.clearRect(v.min.x,v.min.y,S.x,S.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var v,S=this._redrawBounds;if(this._ctx.save(),S){var Q=S.getSize();this._ctx.beginPath(),this._ctx.rect(S.min.x,S.min.y,Q.x,Q.y),this._ctx.clip()}this._drawing=!0;for(var le=this._drawFirst;le;le=le.next)v=le.layer,(!S||v._pxBounds&&v._pxBounds.intersects(S))&&v._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(v,S){if(this._drawing){var Q,le,Ee,Ke,kt=v._parts,er=kt.length,Sr=this._ctx;if(er){for(Sr.beginPath(),Q=0;Q<er;Q++){for(le=0,Ee=kt[Q].length;le<Ee;le++)Ke=kt[Q][le],Sr[le?"lineTo":"moveTo"](Ke.x,Ke.y);S&&Sr.closePath()}this._fillStroke(Sr,v)}}},_updateCircle:function(v){if(!(!this._drawing||v._empty())){var S=v._point,Q=this._ctx,le=Math.max(Math.round(v._radius),1),Ee=(Math.max(Math.round(v._radiusY),1)||le)/le;Ee!==1&&(Q.save(),Q.scale(1,Ee)),Q.beginPath(),Q.arc(S.x,S.y/Ee,le,0,Math.PI*2,!1),Ee!==1&&Q.restore(),this._fillStroke(Q,v)}},_fillStroke:function(v,S){var Q=S.options;Q.fill&&(v.globalAlpha=Q.fillOpacity,v.fillStyle=Q.fillColor||Q.color,v.fill(Q.fillRule||"evenodd")),Q.stroke&&Q.weight!==0&&(v.setLineDash&&v.setLineDash(S.options&&S.options._dashArray||[]),v.globalAlpha=Q.opacity,v.lineWidth=Q.weight,v.strokeStyle=Q.color,v.lineCap=Q.lineCap,v.lineJoin=Q.lineJoin,v.stroke())},_onClick:function(v){for(var S=this._map.mouseEventToLayerPoint(v),Q,le,Ee=this._drawFirst;Ee;Ee=Ee.next)Q=Ee.layer,Q.options.interactive&&Q._containsPoint(S)&&(!(v.type==="click"||v.type==="preclick")||!this._map._draggableMoved(Q))&&(le=Q);this._fireEvent(le?[le]:!1,v)},_onMouseMove:function(v){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var S=this._map.mouseEventToLayerPoint(v);this._handleMouseHover(v,S)}},_handleMouseOut:function(v){var S=this._hoveredLayer;S&&(fs(this._container,"leaflet-interactive"),this._fireEvent([S],v,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(v,S){if(!this._mouseHoverThrottled){for(var Q,le,Ee=this._drawFirst;Ee;Ee=Ee.next)Q=Ee.layer,Q.options.interactive&&Q._containsPoint(S)&&(le=Q);le!==this._hoveredLayer&&(this._handleMouseOut(v),le&&(ei(this._container,"leaflet-interactive"),this._fireEvent([le],v,"mouseover"),this._hoveredLayer=le)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,v),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(v,S,Q){this._map._fireDOMEvent(S,Q||S.type,v)},_bringToFront:function(v){var S=v._order;if(S){var Q=S.next,le=S.prev;if(Q)Q.prev=le;else return;le?le.next=Q:Q&&(this._drawFirst=Q),S.prev=this._drawLast,this._drawLast.next=S,S.next=null,this._drawLast=S,this._requestRedraw(v)}},_bringToBack:function(v){var S=v._order;if(S){var Q=S.next,le=S.prev;if(le)le.next=Q;else return;Q?Q.prev=le:le&&(this._drawLast=le),S.prev=null,S.next=this._drawFirst,this._drawFirst.prev=S,this._drawFirst=S,this._requestRedraw(v)}}});function au(v){return Ln.canvas?new vl(v):null}var xc=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(v){return document.createElement("<lvml:"+v+' class="lvml">')}}catch{}return function(v){return document.createElement("<"+v+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Kd={_initContainer:function(){this._container=ui("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Io.prototype._update.call(this),this.fire("update"))},_initPath:function(v){var S=v._container=xc("shape");ei(S,"leaflet-vml-shape "+(this.options.className||"")),S.coordsize="1 1",v._path=xc("path"),S.appendChild(v._path),this._updateStyle(v),this._layers[u(v)]=v},_addPath:function(v){var S=v._container;this._container.appendChild(S),v.options.interactive&&v.addInteractiveTarget(S)},_removePath:function(v){var S=v._container;ks(S),v.removeInteractiveTarget(S),delete this._layers[u(v)]},_updateStyle:function(v){var S=v._stroke,Q=v._fill,le=v.options,Ee=v._container;Ee.stroked=!!le.stroke,Ee.filled=!!le.fill,le.stroke?(S||(S=v._stroke=xc("stroke")),Ee.appendChild(S),S.weight=le.weight+"px",S.color=le.color,S.opacity=le.opacity,le.dashArray?S.dashStyle=_(le.dashArray)?le.dashArray.join(" "):le.dashArray.replace(/( *, *)/g," "):S.dashStyle="",S.endcap=le.lineCap.replace("butt","flat"),S.joinstyle=le.lineJoin):S&&(Ee.removeChild(S),v._stroke=null),le.fill?(Q||(Q=v._fill=xc("fill")),Ee.appendChild(Q),Q.color=le.fillColor||le.color,Q.opacity=le.fillOpacity):Q&&(Ee.removeChild(Q),v._fill=null)},_updateCircle:function(v){var S=v._point.round(),Q=Math.round(v._radius),le=Math.round(v._radiusY||Q);this._setPath(v,v._empty()?"M0 0":"AL "+S.x+","+S.y+" "+Q+","+le+" 0,"+65535*360)},_setPath:function(v,S){v._path.v=S},_bringToFront:function(v){za(v._container)},_bringToBack:function(v){Ta(v._container)}},ic=Ln.vml?xc:Tt,Xu=Io.extend({_initContainer:function(){this._container=ic("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ic("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ks(this._container),Qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Io.prototype._update.call(this);var v=this._bounds,S=v.getSize(),Q=this._container;(!this._svgSize||!this._svgSize.equals(S))&&(this._svgSize=S,Q.setAttribute("width",S.x),Q.setAttribute("height",S.y)),ms(Q,v.min),Q.setAttribute("viewBox",[v.min.x,v.min.y,S.x,S.y].join(" ")),this.fire("update")}},_initPath:function(v){var S=v._path=ic("path");v.options.className&&ei(S,v.options.className),v.options.interactive&&ei(S,"leaflet-interactive"),this._updateStyle(v),this._layers[u(v)]=v},_addPath:function(v){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(v._path),v.addInteractiveTarget(v._path)},_removePath:function(v){ks(v._path),v.removeInteractiveTarget(v._path),delete this._layers[u(v)]},_updatePath:function(v){v._project(),v._update()},_updateStyle:function(v){var S=v._path,Q=v.options;S&&(Q.stroke?(S.setAttribute("stroke",Q.color),S.setAttribute("stroke-opacity",Q.opacity),S.setAttribute("stroke-width",Q.weight),S.setAttribute("stroke-linecap",Q.lineCap),S.setAttribute("stroke-linejoin",Q.lineJoin),Q.dashArray?S.setAttribute("stroke-dasharray",Q.dashArray):S.removeAttribute("stroke-dasharray"),Q.dashOffset?S.setAttribute("stroke-dashoffset",Q.dashOffset):S.removeAttribute("stroke-dashoffset")):S.setAttribute("stroke","none"),Q.fill?(S.setAttribute("fill",Q.fillColor||Q.color),S.setAttribute("fill-opacity",Q.fillOpacity),S.setAttribute("fill-rule",Q.fillRule||"evenodd")):S.setAttribute("fill","none"))},_updatePoly:function(v,S){this._setPath(v,bt(v._parts,S))},_updateCircle:function(v){var S=v._point,Q=Math.max(Math.round(v._radius),1),le=Math.max(Math.round(v._radiusY),1)||Q,Ee="a"+Q+","+le+" 0 1,0 ",Ke=v._empty()?"M0 0":"M"+(S.x-Q)+","+S.y+Ee+Q*2+",0 "+Ee+-Q*2+",0 ";this._setPath(v,Ke)},_setPath:function(v,S){v._path.setAttribute("d",S)},_bringToFront:function(v){za(v._path)},_bringToBack:function(v){Ta(v._path)}});Ln.vml&&Xu.include(Kd);function Sd(v){return Ln.svg||Ln.vml?new Xu(v):null}ot.include({getRenderer:function(v){var S=v.options.renderer||this._getPaneRenderer(v.options.pane)||this.options.renderer||this._renderer;return S||(S=this._renderer=this._createRenderer()),this.hasLayer(S)||this.addLayer(S),S},_getPaneRenderer:function(v){if(v==="overlayPane"||v===void 0)return!1;var S=this._paneRenderers[v];return S===void 0&&(S=this._createRenderer({pane:v}),this._paneRenderers[v]=S),S},_createRenderer:function(v){return this.options.preferCanvas&&au(v)||Sd(v)}});var xl=oi.extend({initialize:function(v,S){oi.prototype.initialize.call(this,this._boundsToLatLngs(v),S)},setBounds:function(v){return this.setLatLngs(this._boundsToLatLngs(v))},_boundsToLatLngs:function(v){return v=Oe(v),[v.getSouthWest(),v.getNorthWest(),v.getNorthEast(),v.getSouthEast()]}});function ch(v,S){return new xl(v,S)}Xu.create=ic,Xu.pointsToPath=bt,Ii.geometryToLayer=_n,Ii.coordsToLatLng=Su,Ii.coordsToLatLngs=so,Ii.latLngToCoords=Ko,Ii.latLngsToCoords=rc,Ii.getFeature=wi,Ii.asFeature=Ra,ot.mergeOptions({boxZoom:!0});var Pl=At.extend({initialize:function(v){this._map=v,this._container=v._container,this._pane=v._panes.overlayPane,this._resetStateTimeout=0,v.on("unload",this._destroy,this)},addHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ks(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(v){if(!v.shiftKey||v.which!==1&&v.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Va(),io(),this._startPoint=this._map.mouseEventToContainerPoint(v),me(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(v){this._moved||(this._moved=!0,this._box=ui("div","leaflet-zoom-box",this._container),ei(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(v);var S=new be(this._point,this._startPoint),Q=S.getSize();ms(this._box,S.min),this._box.style.width=Q.x+"px",this._box.style.height=Q.y+"px"},_finish:function(){this._moved&&(ks(this._box),fs(this._container,"leaflet-crosshair")),Vs(),Vo(),Qe(document,{contextmenu:fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(v){if(!(v.which!==1&&v.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var S=new Ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(S).fire("boxzoomend",{boxZoomBounds:S})}},_onKeyDown:function(v){v.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ot.addInitHook("addHandler","boxZoom",Pl),ot.mergeOptions({doubleClickZoom:!0});var Fi=At.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(v){var S=this._map,Q=S.getZoom(),le=S.options.zoomDelta,Ee=v.originalEvent.shiftKey?Q-le:Q+le;S.options.doubleClickZoom==="center"?S.setZoom(Ee):S.setZoomAround(v.containerPoint,Ee)}});ot.addInitHook("addHandler","doubleClickZoom",Fi),ot.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var yc=At.extend({addHooks:function(){if(!this._draggable){var v=this._map;this._draggable=new xr(v._mapPane,v._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),v.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),v.on("zoomend",this._onZoomEnd,this),v.whenReady(this._onZoomEnd,this))}ei(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fs(this._map._container,"leaflet-grab"),fs(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var v=this._map;if(v._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var S=Oe(this._map.options.maxBounds);this._offsetLimit=he(this._map.latLngToContainerPoint(S.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(S.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;v.fire("movestart").fire("dragstart"),v.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(v){if(this._map.options.inertia){var S=this._lastTime=+new Date,Q=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Q),this._times.push(S),this._prunePositions(S)}this._map.fire("move",v).fire("drag",v)},_prunePositions:function(v){for(;this._positions.length>1&&v-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var v=this._map.getSize().divideBy(2),S=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=S.subtract(v).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(v,S){return v-(v-S)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var v=this._draggable._newPos.subtract(this._draggable._startPos),S=this._offsetLimit;v.x<S.min.x&&(v.x=this._viscousLimit(v.x,S.min.x)),v.y<S.min.y&&(v.y=this._viscousLimit(v.y,S.min.y)),v.x>S.max.x&&(v.x=this._viscousLimit(v.x,S.max.x)),v.y>S.max.y&&(v.y=this._viscousLimit(v.y,S.max.y)),this._draggable._newPos=this._draggable._startPos.add(v)}},_onPreDragWrap:function(){var v=this._worldWidth,S=Math.round(v/2),Q=this._initialWorldOffset,le=this._draggable._newPos.x,Ee=(le-S+Q)%v+S-Q,Ke=(le+S+Q)%v-S-Q,kt=Math.abs(Ee+Q)<Math.abs(Ke+Q)?Ee:Ke;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=kt},_onDragEnd:function(v){var S=this._map,Q=S.options,le=!Q.inertia||v.noInertia||this._times.length<2;if(S.fire("dragend",v),le)S.fire("moveend");else{this._prunePositions(+new Date);var Ee=this._lastPos.subtract(this._positions[0]),Ke=(this._lastTime-this._times[0])/1e3,kt=Q.easeLinearity,er=Ee.multiplyBy(kt/Ke),Sr=er.distanceTo([0,0]),qr=Math.min(Q.inertiaMaxSpeed,Sr),En=er.multiplyBy(qr/Sr),di=qr/(Q.inertiaDeceleration*kt),As=En.multiplyBy(-di/2).round();!As.x&&!As.y?S.fire("moveend"):(As=S._limitOffset(As,S.options.maxBounds),te(function(){S.panBy(As,{duration:di,easeLinearity:kt,noMoveStart:!0,animate:!0})}))}}});ot.addInitHook("addHandler","dragging",yc),ot.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vc=At.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(v){this._map=v,this._setPanDelta(v.options.keyboardPanDelta),this._setZoomDelta(v.options.zoomDelta)},addHooks:function(){var v=this._map._container;v.tabIndex<=0&&(v.tabIndex="0"),me(v,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var v=document.body,S=document.documentElement,Q=v.scrollTop||S.scrollTop,le=v.scrollLeft||S.scrollLeft;this._map._container.focus(),window.scrollTo(le,Q)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(v){var S=this._panKeys={},Q=this.keyCodes,le,Ee;for(le=0,Ee=Q.left.length;le<Ee;le++)S[Q.left[le]]=[-1*v,0];for(le=0,Ee=Q.right.length;le<Ee;le++)S[Q.right[le]]=[v,0];for(le=0,Ee=Q.down.length;le<Ee;le++)S[Q.down[le]]=[0,v];for(le=0,Ee=Q.up.length;le<Ee;le++)S[Q.up[le]]=[0,-1*v]},_setZoomDelta:function(v){var S=this._zoomKeys={},Q=this.keyCodes,le,Ee;for(le=0,Ee=Q.zoomIn.length;le<Ee;le++)S[Q.zoomIn[le]]=v;for(le=0,Ee=Q.zoomOut.length;le<Ee;le++)S[Q.zoomOut[le]]=-v},_addHooks:function(){me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(v){if(!(v.altKey||v.ctrlKey||v.metaKey)){var S=v.keyCode,Q=this._map,le;if(S in this._panKeys){if(!Q._panAnim||!Q._panAnim._inProgress)if(le=this._panKeys[S],v.shiftKey&&(le=Pe(le).multiplyBy(3)),Q.options.maxBounds&&(le=Q._limitOffset(Pe(le),Q.options.maxBounds)),Q.options.worldCopyJump){var Ee=Q.wrapLatLng(Q.unproject(Q.project(Q.getCenter()).add(le)));Q.panTo(Ee)}else Q.panBy(le)}else if(S in this._zoomKeys)Q.setZoom(Q.getZoom()+(v.shiftKey?3:1)*this._zoomKeys[S]);else if(S===27&&Q._popup&&Q._popup.options.closeOnEscapeKey)Q.closePopup();else return;fe(v)}}});ot.addInitHook("addHandler","keyboard",Vc),ot.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kc=At.extend({addHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(v){var S=Je(v),Q=this._map.options.wheelDebounceTime;this._delta+=S,this._lastMousePos=this._map.mouseEventToContainerPoint(v),this._startTime||(this._startTime=+new Date);var le=Math.max(Q-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),le),fe(v)},_performZoom:function(){var v=this._map,S=v.getZoom(),Q=this._map.options.zoomSnap||0;v._stop();var le=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Ee=4*Math.log(2/(1+Math.exp(-Math.abs(le))))/Math.LN2,Ke=Q?Math.ceil(Ee/Q)*Q:Ee,kt=v._limitZoom(S+(this._delta>0?Ke:-Ke))-S;this._delta=0,this._startTime=null,kt&&(v.options.scrollWheelZoom==="center"?v.setZoom(S+kt):v.setZoomAround(this._lastMousePos,S+kt))}});ot.addInitHook("addHandler","scrollWheelZoom",Kc);var Zu=600;ot.mergeOptions({tapHold:Ln.touchNative&&Ln.safari&&Ln.mobile,tapTolerance:15});var bc=At.extend({addHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(v){if(clearTimeout(this._holdTimeout),v.touches.length===1){var S=v.touches[0];this._startPos=this._newPos=new oe(S.clientX,S.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(me(document,"touchend",xe),me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",S))},this),Zu),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function v(){Qe(document,"touchend",xe),Qe(document,"touchend touchcancel",v)},_cancel:function(){clearTimeout(this._holdTimeout),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)},_onMove:function(v){var S=v.touches[0];this._newPos=new oe(S.clientX,S.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(v,S){var Q=new MouseEvent(v,{bubbles:!0,cancelable:!0,view:window,screenX:S.screenX,screenY:S.screenY,clientX:S.clientX,clientY:S.clientY});Q._simulated=!0,S.target.dispatchEvent(Q)}});ot.addInitHook("addHandler","tapHold",bc),ot.mergeOptions({touchZoom:Ln.touch,bounceAtZoomLimits:!0});var Bo=At.extend({addHooks:function(){ei(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fs(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(v){var S=this._map;if(!(!v.touches||v.touches.length!==2||S._animatingZoom||this._zooming)){var Q=S.mouseEventToContainerPoint(v.touches[0]),le=S.mouseEventToContainerPoint(v.touches[1]);this._centerPoint=S.getSize()._divideBy(2),this._startLatLng=S.containerPointToLatLng(this._centerPoint),S.options.touchZoom!=="center"&&(this._pinchStartLatLng=S.containerPointToLatLng(Q.add(le)._divideBy(2))),this._startDist=Q.distanceTo(le),this._startZoom=S.getZoom(),this._moved=!1,this._zooming=!0,S._stop(),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),xe(v)}},_onTouchMove:function(v){if(!(!v.touches||v.touches.length!==2||!this._zooming)){var S=this._map,Q=S.mouseEventToContainerPoint(v.touches[0]),le=S.mouseEventToContainerPoint(v.touches[1]),Ee=Q.distanceTo(le)/this._startDist;if(this._zoom=S.getScaleZoom(Ee,this._startZoom),!S.options.bounceAtZoomLimits&&(this._zoom<S.getMinZoom()&&Ee<1||this._zoom>S.getMaxZoom()&&Ee>1)&&(this._zoom=S._limitZoom(this._zoom)),S.options.touchZoom==="center"){if(this._center=this._startLatLng,Ee===1)return}else{var Ke=Q._add(le)._divideBy(2)._subtract(this._centerPoint);if(Ee===1&&Ke.x===0&&Ke.y===0)return;this._center=S.unproject(S.project(this._pinchStartLatLng,this._zoom).subtract(Ke),this._zoom)}this._moved||(S._moveStart(!0,!1),this._moved=!0),de(this._animRequest);var kt=o(S._move,S,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(kt,this,!0),xe(v)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,de(this._animRequest),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ot.addInitHook("addHandler","touchZoom",Bo),ot.BoxZoom=Pl,ot.DoubleClickZoom=Fi,ot.Drag=yc,ot.Keyboard=Vc,ot.ScrollWheelZoom=Kc,ot.TapHold=bc,ot.TouchZoom=Bo,r.Bounds=be,r.Browser=Ln,r.CRS=ct,r.Canvas=vl,r.Circle=Ca,r.CircleMarker=Zi,r.Class=we,r.Control=nt,r.DivIcon=nc,r.DivOverlay=Ka,r.DomEvent=Te,r.DomUtil=ie,r.Draggable=xr,r.Evented=ae,r.FeatureGroup=Di,r.GeoJSON=Ii,r.GridLayer=vc,r.Handler=At,r.Icon=ns,r.ImageOverlay=ha,r.LatLng=$e,r.LatLngBounds=Ie,r.Layer=Vn,r.LayerGroup=zn,r.LineUtil=vt,r.Map=ot,r.Marker=Xn,r.Mixin=Rt,r.Path=is,r.Point=oe,r.PolyUtil=Rr,r.Polygon=oi,r.Polyline=Ys,r.Popup=Vl,r.PosAnimation=jt,r.Projection=Nn,r.Rectangle=xl,r.Renderer=Io,r.SVG=Xu,r.SVGOverlay=To,r.TileLayer=Wl,r.Tooltip=Bl,r.Transformation=Ye,r.Util=ye,r.VideoOverlay=Za,r.bind=o,r.bounds=he,r.canvas=au,r.circle=bi,r.circleMarker=xs,r.control=Ot,r.divIcon=Gl,r.extend=i,r.featureGroup=qn,r.geoJSON=Ql,r.geoJson=zl,r.gridLayer=_d,r.icon=Si,r.imageOverlay=yo,r.latLng=De,r.latLngBounds=Oe,r.layerGroup=ga,r.map=Nt,r.marker=Gi,r.point=Pe,r.polygon=da,r.polyline=Qi,r.popup=Kl,r.rectangle=ch,r.setOptions=x,r.stamp=u,r.svg=Sd,r.svgOverlay=gc,r.tileLayer=Yl,r.tooltip=Ed,r.transformation=Se,r.version=n,r.videoOverlay=zc;var ou=window.L;r.noConflict=function(){return window.L=ou,this},window.L=r}))})(Rw,Rw.exports)),Rw.exports}var S_=NUe();const mie=Gh(S_);function MF(t,e,r){return Object.freeze({instance:t,context:e,container:r})}function FF(t,e){return e==null?function(n,i){const a=T.useRef(void 0);return a.current||(a.current=t(n,i)),a}:function(n,i){const a=T.useRef(void 0);a.current||(a.current=t(n,i));const o=T.useRef(n),{instance:c}=a.current;return T.useEffect(function(){o.current!==n&&(e(c,n,o.current),o.current=n)},[c,n,e]),a}}function Aie(t,e){T.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){e.layerContainer?.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function pie(t){return function(r){const n=RF(),i=t(DF(r,n),n);return EUe(n.map,r.attribution),fie(i.current,r.eventHandlers),Aie(i.current,n),i}}function kUe(t,e){const r=T.useRef(void 0);T.useEffect(function(){if(e.pathOptions!==r.current){const i=e.pathOptions??{};t.instance.setStyle(i),r.current=i}},[t,e])}function LUe(t){return function(r){const n=RF(),i=t(DF(r,n),n);return fie(i.current,r.eventHandlers),Aie(i.current,n),kUe(i.current,r),i}}function IUe(t,e){const r=FF(t,e),n=pie(r);return hie(n)}function BUe(t,e){const r=FF(t,e),n=LUe(r);return hie(n)}function PUe(t,e){const r=FF(t,e),n=pie(r);return TUe(n)}function OUe(t,e,r){const{opacity:n,zIndex:i}=e;n!=null&&n!==r.opacity&&t.setOpacity(n),i!=null&&i!==r.zIndex&&t.setZIndex(i)}function gie(){return RF().map}function RUe(t){const e=gie();return T.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}const DUe=BUe(function({center:e,children:r,...n},i){const a=new S_.Circle(e,n);return MF(a,die(i,{overlayContainer:a}))},_Ue);function MUe({bounds:t,boundsOptions:e,center:r,children:n,className:i,id:a,placeholder:o,style:c,whenReady:u,zoom:l,...d},f){const[m]=T.useState({className:i,id:a,style:c}),[p,g]=T.useState(null),x=T.useRef(void 0);T.useImperativeHandle(f,()=>p?.map??null,[p]);const y=T.useCallback(E=>{if(E!==null&&!x.current){const _=new S_.Map(E,d);x.current=_,r!=null&&l!=null?_.setView(r,l):t!=null&&_.fitBounds(t,e),u!=null&&_.whenReady(u),g(jUe(_))}},[]);T.useEffect(()=>()=>{p?.map.remove()},[p]);const w=p?Ao.createElement(OF,{value:p},n):o??null;return Ao.createElement("div",{...m,ref:y},w)}const FUe=T.forwardRef(MUe),UUe=IUe(function({position:e,...r},n){const i=new S_.Marker(e,r);return MF(i,die(n,{overlayContainer:i}))},function(e,r,n){r.position!==n.position&&e.setLatLng(r.position),r.icon!=null&&r.icon!==n.icon&&e.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==n.opacity&&e.setOpacity(r.opacity),e.dragging!=null&&r.draggable!==n.draggable&&(r.draggable===!0?e.dragging.enable():e.dragging.disable())}),$Ue=PUe(function({url:e,...r},n){const i=new S_.TileLayer(e,DF(r,n));return MF(i,n)},function(e,r,n){OUe(e,r,n);const{url:i}=r;i!=null&&i!==n.url&&e.setUrl(i)});delete mie.Icon.Default.prototype._getIconUrl;mie.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function HUe({center:t,zoom:e}){const r=gie();return T.useEffect(()=>{t&&r.setView(t,e)},[t,e,r]),null}function QUe({onMapClick:t}){return RUe({click:e=>{t&&t(e.latlng)}}),null}function zUe({latitude:t,longitude:e,radius:r=50,address:n="",onLocationChange:i,onRadiusChange:a,className:o=""}){const[c,u]=T.useState(n),[l,d]=T.useState(!1),[f,m]=T.useState(null),[p,g]=T.useState([t||-27.4698,e||153.0251]),[x,y]=T.useState(t&&e?[t,e]:null),[w,E]=T.useState(r),_=async()=>{if(c.trim()){d(!0),m(null);try{const D=await(await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(c)}&format=json&limit=1&countrycodes=au`)).json();if(D.length===0){m("Location not found. Try a more specific address.");return}const M=D[0],Y=parseFloat(M.lat),X=parseFloat(M.lon);g([Y,X]),y([Y,X]),i&&i({latitude:Y,longitude:X,address:M.display_name})}catch(I){m("Search failed. Please try again."),console.error("Geocoding error:",I)}finally{d(!1)}}},N=I=>{y([I.lat,I.lng]),i&&i({latitude:I.lat,longitude:I.lng,address:""})},C=I=>{const D=parseInt(I.target.value)||50;E(D),a&&a(D)};return T.useEffect(()=>{t&&e&&(g([t,e]),y([t,e]))},[t,e]),T.useEffect(()=>{E(r||50)},[r]),s.jsxs("div",{className:`space-y-4 ${o}`,children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Search Venue Address"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500"}),s.jsx("input",{type:"text",value:c,onChange:I=>u(I.target.value),onKeyDown:I=>I.key==="Enter"&&_(),placeholder:"Enter venue address (e.g., '8 Annerley Rd, Woolloongabba QLD')",className:"w-full pl-10 pr-4 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-red-500"})]}),s.jsx("button",{type:"button",onClick:_,disabled:l||!c.trim(),className:"px-4 py-2 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors",children:l?"Searching...":"Search"})]}),f&&s.jsx("p",{className:"mt-2 text-sm text-red-500",children:f}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Or click on the map to manually place the venue marker"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Geo-Blocking Radius: ",w,"km"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("input",{type:"range",min:"1",max:"200",step:"1",value:w,onChange:C,className:"flex-1 h-2 bg-dark-700 rounded-lg appearance-none cursor-pointer slider"}),s.jsx("input",{type:"number",min:"1",max:"200",value:w,onChange:C,className:"w-20 px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white text-center focus:outline-none focus:border-red-500"})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Viewers within this radius will be blocked from purchasing online access"})]}),s.jsxs("div",{className:"relative rounded-lg overflow-hidden border border-dark-700",style:{height:"400px"},children:[s.jsxs(FUe,{center:p,zoom:x?11:10,style:{height:"100%",width:"100%"},className:"z-0",children:[s.jsx($Ue,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(HUe,{center:p,zoom:x?11:10}),s.jsx(QUe,{onMapClick:N}),x&&s.jsxs(s.Fragment,{children:[s.jsx(UUe,{position:x}),s.jsx(DUe,{center:x,radius:(w||50)*1e3,pathOptions:{color:"#e63946",fillColor:"#e63946",fillOpacity:.2,weight:2}})]})]}),!x&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-dark-900/50 pointer-events-none z-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(pd,{className:"w-12 h-12 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400",children:"Search for a venue or click on the map"})]})})]}),x&&s.jsxs("div",{className:"p-4 bg-dark-800 rounded-lg border border-dark-700",children:[s.jsx("h4",{className:"text-sm font-medium text-white mb-2",children:"Current Settings"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Latitude:"}),s.jsx("span",{className:"ml-2 text-white font-mono",children:x[0].toFixed(6)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Longitude:"}),s.jsx("span",{className:"ml-2 text-white font-mono",children:x[1].toFixed(6)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Radius:"}),s.jsxs("span",{className:"ml-2 text-white font-mono",children:[w,"km"]})]})]})]})]})}function VUe({event:t,onStatusUpdate:e,compact:r=!1}){const[n,i]=T.useState(!1),[a,o]=T.useState(!1),[c,u]=T.useState(0),[l,d]=T.useState(0),[f,m]=T.useState(!1);T.useEffect(()=>{if(!t?.id)return;const g=async()=>{try{if(t.is_multi_stream){const y=await YC(t.id);if(u(y?.length||0),m(y&&y.length>0),y&&y.length>0){const w=y.filter(_=>_.mux_stream_id);let E=0;for(const _ of w)try{const{data:N,error:C}=await jr.functions.invoke("mux-stream",{body:{action:"stream-status",mux_stream_id:_.mux_stream_id}});!C&&N?.isLive&&E++}catch(N){console.warn("Stream status check failed:",N)}d(E),o(E>0)}}else{const y=t.mux_stream_id||t.mux_live_stream_id;if(m(!!y||!!t.mux_stream_key),y)try{const{data:w,error:E}=await jr.functions.invoke("mux-stream",{body:{action:"stream-status",mux_stream_id:y}});!E&&w&&(o(w.isLive||!1),e&&e(w))}catch(w){console.warn("Single stream status check failed:",w),o(!1)}else o(!1)}}catch(y){console.error("Status check failed:",y)}};g();const x=setInterval(g,3e4);return()=>clearInterval(x)},[t?.id,t?.is_multi_stream,t?.mux_stream_id]);const p=async()=>{i(!0);try{if(t.is_multi_stream){const g=await YC(t.id);if(u(g?.length||0),g&&g.length>0){const x=g.filter(w=>w.mux_stream_id);let y=0;for(const w of x)try{const{data:E,error:_}=await jr.functions.invoke("mux-stream",{body:{action:"stream-status",mux_stream_id:w.mux_stream_id}});!_&&E?.isLive&&y++}catch(E){console.warn("Stream status check failed:",E)}d(y),o(y>0)}}else{const g=t.mux_stream_id||t.mux_live_stream_id;if(g){const{data:x,error:y}=await jr.functions.invoke("mux-stream",{body:{action:"stream-status",mux_stream_id:g}});!y&&x&&(o(x.isLive||!1),e&&e(x))}}}catch(g){console.error("Manual status check failed:",g)}finally{i(!1)}};return!f&&!t?.mux_stream_key?s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium bg-gray-500/20 text-gray-400 ${r?"":"mr-2"}`,children:[s.jsx(fme,{className:"w-3 h-3"}),!r&&"No Stream"]}):t?.is_multi_stream?s.jsxs("div",{className:`inline-flex items-center gap-2 ${r?"":"mr-2"}`,children:[s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium ${a?"bg-red-500 text-white":"bg-purple-500/20 text-purple-400"}`,children:[s.jsx(zb,{className:`w-3 h-3 ${a?"animate-pulse":""}`}),a?`LIVE (${l}/${c})`:`${c} streams`]}),!r&&s.jsx("button",{onClick:p,disabled:n,className:"p-1 text-gray-500 hover:text-white transition-colors disabled:opacity-50",title:"Check stream status",children:s.jsx(U0,{className:`w-3.5 h-3.5 ${n?"animate-spin":""}`})})]}):s.jsxs("div",{className:`inline-flex items-center gap-2 ${r?"":"mr-2"}`,children:[s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium ${a?"bg-red-500 text-white":"bg-yellow-500/20 text-yellow-500"}`,children:[s.jsx(zb,{className:`w-3 h-3 ${a?"animate-pulse":""}`}),a?"LIVE":"Ready"]}),!r&&s.jsx("button",{onClick:p,disabled:n,className:"p-1 text-gray-500 hover:text-white transition-colors disabled:opacity-50",title:"Check stream status",children:s.jsx(U0,{className:`w-3.5 h-3.5 ${n?"animate-spin":""}`})})]})}function KUe(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[i,a]=T.useState({demo_mode:!1}),[o,c]=T.useState(!0),[u,l]=T.useState(!1),[d,f]=T.useState(null),[m,p]=T.useState("events"),[g,x]=T.useState({funnel:[],blockedLocations:[],recentEvents:[]}),[y,w]=T.useState("all"),[E,_]=T.useState([]),[N,C]=T.useState(!1),[I,D]=T.useState("all");T.useEffect(()=>{M()},[]);const M=async()=>{try{const[ae,oe,Re]=await Promise.all([Bne(),W3e(),Pne()]);e(ae||[]),n(oe||[]),a(Re||{demo_mode:!1}),await Y()}catch(ae){console.error("Failed to load data:",ae)}finally{c(!1)}},Y=async(ae=null)=>{try{let oe=jr.from("livestream_funnel_summary").select("*");ae&&ae!=="all"&&(oe=oe.eq("event_id",ae));const{data:Re}=await oe;let Pe=jr.from("livestream_blocked_locations").select("*").limit(50);ae&&ae!=="all"&&(Pe=Pe.eq("event_id",ae));const{data:be}=await Pe;let he=jr.from("livestream_analytics").select("*").order("created_at",{ascending:!1}).limit(100);ae&&ae!=="all"&&(he=he.eq("event_id",ae));const{data:Ie}=await he;x({funnel:Re||[],blockedLocations:be||[],recentEvents:Ie||[]})}catch(oe){console.error("Failed to load analytics:",oe)}},X=async()=>{C(!0);try{const{data:ae,error:oe}=await jr.functions.invoke("mux-assets",{body:{action:"list"}});if(oe)throw oe;_(ae?.assets||[])}catch(ae){console.error("Failed to load recordings:",ae)}finally{C(!1)}},te=async ae=>{if(confirm("End this stream? This will finalize the recording."))try{await mb(ae,{status:"ended",is_live:!1,ended_at:new Date().toISOString()});const oe=t.find(Re=>Re.id===ae);oe?.mux_stream_id&&await jr.functions.invoke("mux-stream",{body:{action:"disable",stream_id:oe.mux_stream_id}}),M()}catch(oe){console.error("Failed to end stream:",oe),alert("Failed to end stream")}},de=async()=>{try{const ae=!i.demo_mode,oe=await G3e({demo_mode:ae});oe&&a(oe)}catch(ae){console.error("Failed to toggle demo mode:",ae),alert("Failed to toggle demo mode: "+ae.message)}},ye=async ae=>{if(confirm("Delete this event? This cannot be undone."))try{await K3e(ae),e(t.filter(oe=>oe.id!==ae))}catch{alert("Failed to delete event")}},we=r.filter(ae=>ae.status==="completed").reduce((ae,oe)=>ae+Number(oe.amount),0),ve=r.filter(ae=>ae.status==="completed").length,ne=t.filter(ae=>ae.status==="live"||ae.is_live).length;return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Livestream Events"}),s.jsx("p",{className:"text-gray-400",children:"Manage PPV events and view orders"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:de,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${i.demo_mode?"bg-yellow-500/20 text-yellow-500 border border-yellow-500/30":"bg-dark-800 text-gray-400 border border-dark-700"}`,children:[i.demo_mode?s.jsx(Jfe,{className:"w-5 h-5"}):s.jsx(Xfe,{className:"w-5 h-5"}),"Demo Mode ",i.demo_mode?"ON":"OFF"]}),s.jsxs("button",{onClick:()=>{f(null),l(!0)},className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-colors",children:[s.jsx(Zp,{className:"w-5 h-5"}),"New Event"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:s.jsx(Wh,{className:"w-6 h-6 text-green-500"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",we.toFixed(2)]}),s.jsx("p",{className:"text-sm text-gray-400",children:"Total Revenue"})]})]})}),s.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:s.jsx(sh,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:ve}),s.jsx("p",{className:"text-sm text-gray-400",children:"Total Orders"})]})]})}),s.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 bg-red-500/10 rounded-lg",children:s.jsx(Cl,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:t.length}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Total Events (",ne," live)"]})]})]})})]}),s.jsx("div",{className:"border-b border-dark-800",children:s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("button",{onClick:()=>p("events"),className:`pb-3 px-1 font-medium transition-colors ${m==="events"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:["Events (",t.length,")"]}),s.jsxs("button",{onClick:()=>p("orders"),className:`pb-3 px-1 font-medium transition-colors ${m==="orders"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:["Orders (",r.length,")"]}),s.jsxs("button",{onClick:()=>{p("analytics"),Y(y)},className:`pb-3 px-1 font-medium transition-colors flex items-center gap-2 ${m==="analytics"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:[s.jsx(DT,{size:16})," Analytics"]}),s.jsxs("button",{onClick:()=>{p("recordings"),X()},className:`pb-3 px-1 font-medium transition-colors flex items-center gap-2 ${m==="recordings"?"text-red-500 border-b-2 border-red-500":"text-gray-400 hover:text-white"}`,children:[s.jsx(Fp,{size:16})," Recordings"]})]})}),m==="events"&&s.jsx("div",{className:"flex gap-2",children:["all","upcoming","live","ended"].map(ae=>s.jsx("button",{onClick:()=>D(ae),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${I===ae?"bg-red-500 text-white":"bg-dark-800 text-gray-400 hover:text-white"}`,children:ae.charAt(0).toUpperCase()+ae.slice(1)},ae))}),m==="events"&&s.jsx("div",{className:"space-y-4",children:t.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:"No events yet. Create your first event!"}):t.filter(ae=>I==="all"?!0:I==="live"?ae.is_live||ae.status==="live":I==="ended"?ae.status==="ended":I==="upcoming"?!ae.is_live&&ae.status!=="ended"&&new Date(ae.start_time)>new Date:!0).map(ae=>s.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:ae.title}),s.jsx(VUe,{event:ae,compact:!0}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${ae.status==="live"?"bg-red-500 text-white":ae.status==="published"?"bg-green-500/20 text-green-500":ae.status==="ended"?"bg-gray-500/20 text-gray-400":"bg-yellow-500/20 text-yellow-500"}`,children:ae.status||"draft"}),ae.category&&s.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium rounded bg-purple-500/20 text-purple-400 flex items-center gap-1",children:[s.jsx(wq,{className:"w-3 h-3"}),ae.category]}),ae.vod_enabled&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded bg-blue-500/20 text-blue-400",children:"VOD"})]}),s.jsx("p",{className:"text-gray-400 mb-2",children:ae.org_display_name||ae.organization}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[s.jsx("span",{children:new Date(ae.start_time).toLocaleDateString("en-AU")}),s.jsx("span",{children:ae.venue}),s.jsxs("span",{className:"font-medium text-green-500",children:["$",ae.price," AUD"]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[ae.status!=="ended"&&s.jsx("button",{onClick:async()=>{const oe=!ae.doors_open;await mb(ae.id,{doors_open:oe}),M()},className:`p-2 rounded-lg transition-colors ${ae.doors_open?"text-green-500 bg-green-500/20 hover:bg-green-500/30":"text-gray-400 hover:text-green-500 hover:bg-dark-800"}`,title:ae.doors_open?"Close Doors (block viewers)":"Open Doors (allow viewers)",children:ae.doors_open?s.jsx(Fhe,{className:"w-5 h-5"}):s.jsx(pq,{className:"w-5 h-5"})}),ae.status!=="ended"?s.jsx("button",{onClick:async()=>{const oe=!ae.is_live;await mb(ae.id,{is_live:oe,status:oe?"live":"published"}),M()},className:`p-2 rounded-lg transition-colors ${ae.is_live?"text-red-500 bg-red-500/20 hover:bg-red-500/30":"text-gray-400 hover:text-red-500 hover:bg-dark-800"}`,title:ae.is_live?"Stop Live":"Go Live",children:s.jsx(zb,{className:"w-5 h-5"})}):s.jsx("span",{className:"p-2 text-gray-600",title:"Event Ended",children:s.jsx(fq,{className:"w-5 h-5"})}),(ae.is_live||ae.status==="live"||ae.status==="published")&&s.jsx("button",{onClick:()=>te(ae.id),className:"p-2 text-gray-400 hover:text-orange-500 hover:bg-dark-800 rounded-lg transition-colors",title:"End & Archive Stream",children:s.jsx(Che,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`https://fitfocusmedia.com.au/#/live/${ae.id}`),alert("Event link copied!")},className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"Copy Link",children:s.jsx($b,{className:"w-5 h-5"})}),s.jsx("a",{href:`#/live/${ae.id}`,target:"_blank",className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"View Event Page",children:s.jsx(F0,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>{f(ae),l(!0)},className:"p-2 text-gray-400 hover:text-white hover:bg-dark-800 rounded-lg transition-colors",title:"Edit",children:s.jsx(Vfe,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>ye(ae.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-dark-800 rounded-lg transition-colors",title:"Delete",children:s.jsx(g1,{className:"w-5 h-5"})})]})]})},ae.id))}),m==="orders"&&s.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-800 overflow-hidden",children:[r.length>0&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-800",children:[s.jsxs("p",{className:"text-sm text-gray-400",children:[r.filter(ae=>ae.status==="completed").length," completed orders",s.jsxs("span",{className:"text-green-500 ml-2",children:["$",r.filter(ae=>ae.status==="completed").reduce((ae,oe)=>ae+parseFloat(oe.amount||0),0).toFixed(2)," total"]})]}),s.jsxs("button",{onClick:()=>{const ae=["Order ID","Email","Event","Amount","Status","Date","Payment Method"],oe=r.map(Ie=>[Ie.id,Ie.email,Ie.event?.title||"",Ie.amount,Ie.status,new Date(Ie.created_at).toLocaleString("en-AU"),Ie.payment_method||"stripe"]),Re=[ae,...oe].map(Ie=>Ie.map(Oe=>`"${Oe}"`).join(",")).join(`
`),Pe=new Blob([Re],{type:"text/csv"}),be=URL.createObjectURL(Pe),he=document.createElement("a");he.href=be,he.download=`livestream-orders-${new Date().toISOString().slice(0,10)}.csv`,he.click(),URL.revokeObjectURL(be)},className:"flex items-center gap-2 px-3 py-1.5 bg-dark-800 hover:bg-dark-700 text-gray-300 hover:text-white rounded-lg text-sm transition-colors",children:[s.jsx(Rm,{className:"w-4 h-4"}),"Export CSV"]})]}),r.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:"No orders yet."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-dark-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Order"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Email"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Event"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Amount"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-400",children:"Date"})]})}),s.jsx("tbody",{className:"divide-y divide-dark-800",children:r.map(ae=>s.jsxs("tr",{className:"hover:bg-dark-800/50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("code",{className:"text-xs text-gray-400",children:ae.id.slice(0,8)})}),s.jsx("td",{className:"px-4 py-3 text-white",children:ae.email}),s.jsx("td",{className:"px-4 py-3 text-gray-400",children:ae.event?.title||"Unknown"}),s.jsxs("td",{className:"px-4 py-3 text-green-500 font-medium",children:["$",ae.amount]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${ae.status==="completed"?"bg-green-500/20 text-green-500":ae.status==="pending"?"bg-yellow-500/20 text-yellow-500":"bg-red-500/20 text-red-500"}`,children:ae.payment_method==="demo"?" Demo":ae.status})}),s.jsx("td",{className:"px-4 py-3 text-gray-400 text-sm",children:new Date(ae.created_at).toLocaleString("en-AU")})]},ae.id))})]})})]}),m==="analytics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-gray-400",children:"Filter by Event:"}),s.jsxs("select",{value:y,onChange:ae=>{w(ae.target.value),Y(ae.target.value)},className:"bg-dark-800 border border-dark-700 rounded-lg px-3 py-2 text-white",children:[s.jsx("option",{value:"all",children:"All Events"}),t.map(ae=>s.jsx("option",{value:ae.id,children:ae.title},ae.id))]})]}),s.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-800 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(Tf,{className:"text-red-500"})," Conversion Funnel"]}),g.funnel.length===0?s.jsx("p",{className:"text-gray-400",children:"No analytics data yet. Data will appear after users visit event pages."}):s.jsx("div",{className:"space-y-4",children:g.funnel.map((ae,oe)=>{const Re=t.find(Pe=>Pe.id===ae.event_id)?.title||"Unknown Event";return s.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-white mb-3",children:Re}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:ae.page_views||0}),s.jsx("p",{className:"text-xs text-gray-400",children:"Page Views"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-500",children:ae.geo_blocked||0}),s.jsx("p",{className:"text-xs text-gray-400",children:"Geo Blocked"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-500",children:ae.geo_passed||0}),s.jsx("p",{className:"text-xs text-gray-400",children:"Geo Passed"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-blue-500",children:ae.purchase_views||0}),s.jsx("p",{className:"text-xs text-gray-400",children:"Saw Checkout"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-purple-500",children:ae.checkout_starts||0}),s.jsx("p",{className:"text-xs text-gray-400",children:"Started Checkout"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-green-400",children:ae.purchases||0}),s.jsx("p",{className:"text-xs text-gray-400",children:"Purchased"})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold text-red-500",children:[ae.checkout_conversion_pct||0,"%"]}),s.jsx("p",{className:"text-xs text-gray-400",children:"Conversion"})]})]})]},oe)})})]}),s.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-800 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(pd,{className:"text-yellow-500"})," Blocked User Locations"]}),g.blockedLocations.length===0?s.jsx("p",{className:"text-gray-400",children:"No blocked users yet."}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-dark-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-400",children:"City"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-400",children:"Region"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-400",children:"Country"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-400",children:"Blocked Count"}),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-400",children:"Avg Distance"})]})}),s.jsx("tbody",{className:"divide-y divide-dark-800",children:g.blockedLocations.map((ae,oe)=>s.jsxs("tr",{className:"hover:bg-dark-800/50",children:[s.jsx("td",{className:"px-4 py-2 text-white",children:ae.city||""}),s.jsx("td",{className:"px-4 py-2 text-gray-400",children:ae.region||""}),s.jsx("td",{className:"px-4 py-2 text-gray-400",children:ae.country||""}),s.jsx("td",{className:"px-4 py-2 text-yellow-500 font-medium",children:ae.blocked_count}),s.jsx("td",{className:"px-4 py-2 text-gray-400",children:ae.avg_distance_km?`${ae.avg_distance_km}km`:""})]},oe))})]})})]}),s.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-800 p-6",children:[s.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx(DT,{className:"text-blue-500"})," Recent Activity (Last 100)"]}),g.recentEvents.length===0?s.jsx("p",{className:"text-gray-400",children:"No recent activity."}):s.jsx("div",{className:"overflow-x-auto max-h-96 overflow-y-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-dark-800 sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400",children:"Time"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400",children:"Event Type"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400",children:"Device"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400",children:"Location"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400",children:"Accuracy"}),s.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-400",children:"Email"})]})}),s.jsx("tbody",{className:"divide-y divide-dark-800",children:g.recentEvents.map((ae,oe)=>s.jsxs("tr",{className:"hover:bg-dark-800/50",children:[s.jsx("td",{className:"px-3 py-2 text-gray-400 whitespace-nowrap",children:new Date(ae.created_at).toLocaleString("en-AU",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx("td",{className:"px-3 py-2",children:s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${ae.event_type==="purchase_complete"?"bg-green-500/20 text-green-500":ae.event_type==="geo_blocked"?"bg-yellow-500/20 text-yellow-500":ae.event_type==="geo_passed"?"bg-blue-500/20 text-blue-500":ae.event_type==="checkout_start"?"bg-purple-500/20 text-purple-500":"bg-gray-500/20 text-gray-400"}`,children:ae.event_type})}),s.jsx("td",{className:"px-3 py-2 text-gray-400",children:ae.device_type||""}),s.jsx("td",{className:"px-3 py-2 text-gray-400",children:ae.latitude&&ae.longitude?`${ae.latitude.toFixed(4)}, ${ae.longitude.toFixed(4)}`:""}),s.jsx("td",{className:"px-3 py-2 text-gray-400",children:ae.accuracy_meters?`${Math.round(ae.accuracy_meters)}m`:""}),s.jsx("td",{className:"px-3 py-2 text-gray-400",children:ae.customer_email||""})]},oe))})]})})]})]}),m==="recordings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-gray-400",children:"Video recordings from your livestreams"}),s.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-3 py-1.5 bg-dark-800 hover:bg-dark-700 text-gray-300 rounded-lg text-sm transition-colors",children:[s.jsx(U0,{className:"w-4 h-4"}),"Refresh"]})]}),N?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-red-500"})}):E.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(Fp,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No recordings yet."}),s.jsx("p",{className:"text-sm",children:"Recordings appear here after streams end."})]}):s.jsx("div",{className:"grid gap-4",children:E.map(ae=>s.jsx("div",{className:"bg-dark-900 rounded-xl p-5 border border-dark-800",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[ae.thumbnail_url?s.jsx("img",{src:ae.thumbnail_url,alt:"",className:"w-32 h-20 object-cover rounded-lg"}):s.jsx("div",{className:"w-32 h-20 bg-dark-800 rounded-lg flex items-center justify-center",children:s.jsx(Fp,{className:"w-8 h-8 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-white",children:ae.event_title||"Untitled Recording"}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400 mt-1",children:[s.jsx("span",{children:ae.duration?`${Math.floor(ae.duration/60)}m ${Math.round(ae.duration%60)}s`:""}),s.jsx("span",{children:ae.created_at?new Date(ae.created_at*1e3).toLocaleDateString("en-AU"):""}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${ae.status==="ready"?"bg-green-500/20 text-green-500":ae.status==="preparing"?"bg-yellow-500/20 text-yellow-500":"bg-gray-500/20 text-gray-400"}`,children:ae.status})]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:ae.playback_id&&ae.status==="ready"&&s.jsxs(s.Fragment,{children:[s.jsxs("a",{href:`https://stream.mux.com/${ae.playback_id}.m3u8`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-dark-800 hover:bg-dark-700 text-gray-300 rounded-lg text-sm transition-colors",children:[s.jsx(Vd,{className:"w-4 h-4"}),"Preview"]}),s.jsxs("a",{href:`https://stream.mux.com/${ae.playback_id}/high.mp4`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm transition-colors",children:[s.jsx(Rm,{className:"w-4 h-4"}),"Download MP4"]})]})})]})},ae.id))})]}),u&&s.jsx(GUe,{event:d,onClose:()=>{l(!1),f(null)},onSave:async ae=>{try{let oe=d?.id;const{category:Re,crew_bypass_token:Pe,bypass_created_at:be,geo_venue_address:he,...Ie}=ae;if(Ie.start_time===""&&(Ie.start_time=null),Ie.end_time===""&&(Ie.end_time=null),Ie.vod_available_until===""&&(Ie.vod_available_until=null),(Ie.vod_price===""||Ie.vod_price===void 0)&&(Ie.vod_price=null),(Ie.price===""||Ie.price===void 0)&&(Ie.price=null),d)await mb(d.id,Ie);else{oe=(await V3e(Ie)).id;try{const{data:$e,error:De}=await jr.functions.invoke("mux-stream",{body:{action:"create",event_id:oe}});if(De)console.error("MUX stream creation failed:",De);else if($e?.stream_key){const ct=`Server: ${$e.rtmp_url}
Stream Key: ${$e.stream_key}`;navigator.clipboard.writeText($e.stream_key).then(()=>{alert(`MUX Stream Created! 

Stream Key copied to clipboard!

For OBS:
 Server: ${$e.rtmp_url}
 Stream Key: (already copied)

Just paste (Cmd+V) in OBS Stream Key field.`)}).catch(()=>{prompt("MUX Stream Created! Copy this Stream Key:",$e.stream_key)})}}catch($e){console.error("MUX stream creation failed:",$e)}}await M(),l(!1),f(null)}catch(oe){console.error("Save event error:",oe),alert(`Failed to save event: ${oe.message||oe}`)}}})]})}function GUe({event:t,onClose:e,onSave:r}){const[n,i]=T.useState(t),[a,o]=T.useState({title:t?.title||"",organization:t?.organization||"",organization_id:t?.organization_id||null,venue:t?.venue||"",start_time:t?.start_time?.slice(0,16)||"",end_time:t?.end_time?.slice(0,16)||"",price:t?.price||29.99,description:t?.description||"",category:t?.category||"",thumbnail_url:t?.thumbnail_url||"",player_poster_url:t?.player_poster_url||"",ticket_url:t?.ticket_url||"",vod_enabled:t?.vod_enabled??!0,vod_asset_id:t?.vod_asset_id||"",vod_playback_id:t?.vod_playback_id||"",vod_price:t?.vod_price||"",vod_available_until:t?.vod_available_until||"",status:t?.status||"draft",mux_playback_id:t?.mux_playback_id||"",mux_stream_key:t?.mux_stream_key||"",geo_blocking_enabled:t?.geo_blocking_enabled||!1,geo_lat:t?.geo_lat||null,geo_lng:t?.geo_lng||null,geo_radius_km:t?.geo_radius_km||50,geo_venue_address:t?.geo_venue_address||"",crew_bypass_token:t?.crew_bypass_token||null,bypass_created_at:t?.bypass_created_at||null}),[c,u]=T.useState(!1),[l,d]=T.useState([]),[f,m]=T.useState(!0),p=async()=>{if(t?.id)try{const{data:E,error:_}=await jr.from("livestream_events").select("*").eq("id",t.id).single();E&&!_&&(i(E),o(N=>({...N,mux_playback_id:E.mux_playback_id||"",mux_stream_key:E.mux_stream_key||""})))}catch(E){console.error("Failed to reload event:",E)}};T.useEffect(()=>{n?m(!1):(async()=>{try{const _=await Q3e(),N=await Bne(),C=_.map(I=>{const D=N.find(M=>M.title?.toLowerCase().trim()===I.name?.toLowerCase().trim());return{id:`content-${I.id}`,source:"Content",title:I.name,organization:I.org_display_name,organizationId:I.organization_id,venue:D?.venue||I.location||"",geo_venue_address:D?.geo_venue_address||"",date:I.date,status:I.status}});d(C)}catch(_){console.error("Failed to load existing events:",_)}finally{m(!1)}})()},[n]);const g=E=>{const _=N=>N.toString().padStart(2,"0");return`${E.getFullYear()}-${_(E.getMonth()+1)}-${_(E.getDate())}T${_(E.getHours())}:${_(E.getMinutes())}`},x=E=>{if(!E)return;const _=l.find(I=>I.id===E);if(!_)return;let N="",C="";if(_.date){const I=new Date(_.date);isNaN(I.getTime())||(I.setHours(18,0,0,0),N=g(I),I.setHours(22,0,0,0),C=g(I))}o(I=>({...I,title:_.title||I.title,organization:_.organization||I.organization,organization_id:_.organizationId||I.organization_id,venue:_.venue||I.venue,geo_venue_address:_.geo_venue_address||_.venue||I.geo_venue_address,start_time:N||I.start_time,end_time:C||I.end_time}))},y=E=>{if(!E||E.trim()==="")return"";const _=E.trim();return _.startsWith("http://")||_.startsWith("https://")?_:"https://"+_},w=async E=>{E.preventDefault(),u(!0);const _={...a,thumbnail_url:y(a.thumbnail_url),ticket_url:y(a.ticket_url)};await r(_),u(!1)};return s.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-dark-900 rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-dark-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:n?"Edit Event":"Create Event"})}),s.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[!n&&l.length>0&&s.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsxs("label",{className:"block text-sm font-medium text-blue-400 mb-2 flex items-center gap-2",children:[s.jsx(Rm,{className:"w-4 h-4"}),"Import from existing event"]}),s.jsxs("select",{onChange:E=>x(E.target.value),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",defaultValue:"",children:[s.jsx("option",{value:"",children:" Select to auto-fill "}),l.map(E=>s.jsxs("option",{value:E.id,children:["[",E.source,"] ",E.title,"  ",E.organization]},E.id))]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:a.title,onChange:E=>o(_=>({..._,title:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Organization (Legal Name) *"}),s.jsx("input",{type:"text",value:a.organization,onChange:E=>o(_=>({..._,organization:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"Queensland Brazilian Jiu Jitsu Circuit Pty Ltd",required:!0})]})]}),s.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Display name is set in Content  Organizations"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Venue *"}),s.jsx("input",{type:"text",value:a.venue,onChange:E=>o(_=>({..._,venue:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Start Time *"}),s.jsx("input",{type:"datetime-local",value:a.start_time,onChange:E=>o(_=>({..._,start_time:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"End Time *"}),s.jsx("input",{type:"datetime-local",value:a.end_time,onChange:E=>{const _=E.target.value;let N="";if(_){const C=new Date(_);C.setDate(C.getDate()+7),N=C.toISOString()}o(C=>({...C,end_time:_,vod_available_until:C.vod_available_until||N}))},className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Price (AUD) *"}),s.jsx("input",{type:"number",step:"0.01",value:a.price,onChange:E=>o(_=>({..._,price:parseFloat(E.target.value)})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Status"}),s.jsxs("select",{value:a.status,onChange:E=>o(_=>({..._,status:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"live",children:"Live"}),s.jsx("option",{value:"ended",children:"Ended"})]})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Category"}),s.jsxs("select",{value:a.category,onChange:E=>o(_=>({..._,category:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",children:[s.jsx("option",{value:"",children:"Select Category"}),s.jsx("option",{value:"boxing",children:"Boxing"}),s.jsx("option",{value:"mma",children:"MMA"}),s.jsx("option",{value:"kickboxing",children:"Kickboxing"}),s.jsx("option",{value:"muay-thai",children:"Muay Thai"}),s.jsx("option",{value:"bjj",children:"BJJ / Grappling"}),s.jsx("option",{value:"wrestling",children:"Wrestling"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.vod_enabled,onChange:E=>o(_=>({..._,vod_enabled:E.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-dark-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-red-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"VOD Replay"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Allow replay after event ends"})]})]})]}),a.vod_enabled&&s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-lg p-4 space-y-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-blue-400 flex items-center gap-2",children:[s.jsx(Fp,{className:"w-4 h-4"}),"VOD Replay Settings"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"VOD Price (leave empty = same as live)"}),s.jsx("input",{type:"number",step:"0.01",value:a.vod_price,onChange:E=>o(_=>({..._,vod_price:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"e.g., 19.99"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"VOD Available Until (optional)"}),s.jsx("input",{type:"datetime-local",value:a.vod_available_until?a.vod_available_until.slice(0,16):"",onChange:E=>o(_=>({..._,vod_available_until:E.target.value?new Date(E.target.value).toISOString():""})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"VOD Asset ID (from MUX)"}),s.jsx("input",{type:"text",value:a.vod_asset_id,onChange:E=>o(_=>({..._,vod_asset_id:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"Auto-linked after event ends"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"VOD Playback ID"}),s.jsx("input",{type:"text",value:a.vod_playback_id,onChange:E=>o(_=>({..._,vod_playback_id:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"Auto-linked after event ends"})]})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"VOD assets are automatically created by MUX when the livestream ends. Live ticket purchasers automatically get VOD access."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"MUX Playback ID"}),s.jsx("input",{type:"text",value:a.mux_playback_id,onChange:E=>o(_=>({..._,mux_playback_id:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"Auto-generated on create"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"MUX Stream Key (for OBS)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:a.mux_stream_key,readOnly:!0,className:"flex-1 px-3 py-2 bg-dark-900 border border-dark-700 rounded-lg text-gray-400 font-mono text-sm",placeholder:a.mux_stream_key?"":"Click Generate to create"}),a.mux_stream_key?s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(a.mux_stream_key),alert("Stream Key copied!")},className:"px-3 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg transition-colors",children:"Copy"}):n?.id&&s.jsx("button",{type:"button",onClick:async()=>{try{const{data:E,error:_}=await jr.functions.invoke("mux-stream",{body:{action:"create",event_id:n.id}});if(_){alert("Failed to create stream: "+_.message);return}E?.stream_key&&(o(N=>({...N,mux_stream_key:E.stream_key,mux_playback_id:E.playback_id})),navigator.clipboard.writeText(E.stream_key),alert("MUX Stream created! Stream Key copied to clipboard."))}catch(E){alert("Failed to create stream: "+E.message)}},className:"px-3 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors whitespace-nowrap",children:"Generate"})]}),s.jsx("p",{className:"text-sm text-amber-400 mt-1 font-medium",children:" RTMP Server: rtmps://global-live.mux.com:443/app"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Description"}),s.jsx("textarea",{value:a.description,onChange:E=>o(_=>({..._,description:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",rows:3})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Thumbnail URL"}),s.jsx("input",{type:"text",value:a.thumbnail_url,onChange:E=>o(_=>({..._,thumbnail_url:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"For event cards"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used on event listing cards"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Player Poster URL"}),s.jsx("input",{type:"text",value:a.player_poster_url,onChange:E=>o(_=>({..._,player_poster_url:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"For video player (optional)"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shows before/after stream. Falls back to thumbnail if empty."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Ticket URL"}),s.jsx("input",{type:"text",value:a.ticket_url,onChange:E=>o(_=>({..._,ticket_url:E.target.value})),className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white",placeholder:"www.instagram.com/fitfocusmedia"})]}),s.jsxs("div",{className:"pt-6 border-t border-dark-800",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Geo-Blocking"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Block online streaming near the venue"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:a.geo_blocking_enabled,onChange:E=>o(_=>({..._,geo_blocking_enabled:E.target.checked})),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-dark-700 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-red-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-400",children:a.geo_blocking_enabled?"Enabled":"Disabled"})]})]}),a.geo_blocking_enabled&&s.jsx(zUe,{latitude:a.geo_lat,longitude:a.geo_lng,radius:a.geo_radius_km,address:a.geo_venue_address||a.venue,onLocationChange:({latitude:E,longitude:_,address:N})=>{o({...a,geo_lat:E,geo_lng:_,geo_venue_address:N||a.venue})},onRadiusChange:E=>{o(_=>({..._,geo_radius_km:E}))}}),n?.id&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(I0,{className:"w-5 h-5 text-blue-500"}),s.jsx("h4",{className:"font-semibold text-white",children:"Crew Access"})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Generate a bypass link for crew members at the venue who need to access the stream."}),a.crew_bypass_token?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:" Live Stream (for monitoring during event)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:`https://fitfocusmedia.com.au/#/watch/${n.id}?bypass=${a.crew_bypass_token}`,className:"flex-1 px-3 py-2 bg-dark-900 border border-dark-700 rounded-lg text-gray-400 font-mono text-xs"}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://fitfocusmedia.com.au/#/watch/${n.id}?bypass=${a.crew_bypass_token}`),alert("Live stream link copied!")},className:"px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",title:"Copy Link",children:s.jsx($b,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:" Preview Player (for design testing before event)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:`https://fitfocusmedia.com.au/#/watch/${n.id}?bypass=${a.crew_bypass_token}&preview=player`,className:"flex-1 px-3 py-2 bg-dark-900 border border-dark-700 rounded-lg text-gray-400 font-mono text-xs"}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://fitfocusmedia.com.au/#/watch/${n.id}?bypass=${a.crew_bypass_token}&preview=player`),alert("Preview player link copied!")},className:"px-3 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",title:"Copy Link",children:s.jsx($b,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dark-700",children:[s.jsxs("p",{className:"text-xs text-gray-500",children:["Created: ",a.bypass_created_at?new Date(a.bypass_created_at).toLocaleString("en-AU"):"Unknown"]}),s.jsxs("button",{type:"button",onClick:async()=>{if(!confirm("Regenerate bypass token? Both links will stop working immediately."))return;const E=crypto.randomUUID(),_=new Date().toISOString();await mb(n.id,{crew_bypass_token:E,bypass_created_at:_}),o(N=>({...N,crew_bypass_token:E,bypass_created_at:_})),alert("New bypass token generated!")},className:"flex items-center gap-1 px-3 py-1.5 bg-yellow-600 hover:bg-yellow-500 text-white text-sm rounded-lg transition-colors",children:[s.jsx(U0,{className:"w-3 h-3"}),"Regenerate"]})]})]}):s.jsxs("button",{type:"button",onClick:async()=>{const E=crypto.randomUUID(),_=new Date().toISOString();await mb(n.id,{crew_bypass_token:E,bypass_created_at:_}),o(N=>({...N,crew_bypass_token:E,bypass_created_at:_})),navigator.clipboard.writeText(`https://fitfocusmedia.com.au/#/watch/${n.id}?bypass=${E}`),alert("Crew bypass link generated and copied to clipboard!")},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:[s.jsx(I0,{className:"w-4 h-4"}),"Generate Crew Bypass Link"]})]})]}),n?.id&&s.jsx(WUe,{eventId:n.id,event:n,onEventUpdate:p}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-800",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 text-white font-medium rounded-lg transition-colors",children:c?"Saving...":n?"Update Event":"Create Event"})]})]})]})})}function WUe({eventId:t,event:e,onEventUpdate:r}){const[n,i]=T.useState([]),[a,o]=T.useState(!0),[c,u]=T.useState(!1),[l,d]=T.useState(!1),[f,m]=T.useState(""),[p,g]=T.useState(""),[x,y]=T.useState(!1),[w,E]=T.useState(null),_=e?.mux_stream_id&&!e?.is_multi_stream;T.useEffect(()=>{N()},[t]);const N=async()=>{try{const X=await YC(t);i(X||[])}catch(X){console.error("Failed to load streams:",X)}finally{o(!1)}},C=async()=>{if(f.trim()){u(!0);try{const X=await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/mux-stream/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f.trim(),event_id:t})});let te=null;X.ok?(te=await X.json(),console.log("MUX stream created:",te)):console.warn("Failed to auto-create MUX stream, creating without MUX");const de={event_id:t,name:f.trim(),display_order:n.length,is_default:n.length===0,...te&&{mux_stream_id:te.mux_stream_id,mux_stream_key:te.mux_stream_key,mux_playback_id:te.mux_playback_id,status:"idle"}};await X3e(de),n.length===0&&await sK(t,!0),m(""),await N(),te?.mux_stream_key&&(navigator.clipboard.writeText(te.mux_stream_key),alert(` Stream "${f.trim()}" created!

RTMP Server: rtmps://global-live.mux.com:443/app
Stream Key: ${te.mux_stream_key}

(Stream key copied to clipboard)`))}catch(X){console.error("Failed to add stream:",X),alert("Failed to add stream: "+X.message)}finally{u(!1)}}},I=async X=>{if(confirm("Delete this stream? This cannot be undone."))try{await Z3e(X),n.length<=1&&await sK(t,!1),await N()}catch(te){console.error("Failed to delete stream:",te),alert("Failed to delete stream")}},D=async X=>{try{const te=await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/mux-stream/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:X.name,event_id:t})});if(!te.ok){const ye=await te.json();alert("Failed to create MUX stream: "+(ye.error||"Unknown error"));return}const de=await te.json();de?.mux_stream_key&&(await pI(X.id,{mux_stream_key:de.mux_stream_key,mux_playback_id:de.mux_playback_id,mux_stream_id:de.mux_stream_id,status:"idle"}),navigator.clipboard.writeText(de.mux_stream_key),alert(` Stream Key for ${X.name} created and copied!

Server: rtmps://global-live.mux.com:443/app
Stream Key: ${de.mux_stream_key}`),await N())}catch(te){console.error("Failed to generate stream key:",te),alert("Failed to generate stream key: "+te.message)}},M=async X=>{try{for(const te of n)te.is_default&&await pI(te.id,{is_default:!1});await pI(X,{is_default:!0}),await N()}catch(te){console.error("Failed to set default stream:",te)}},Y=async()=>{if(!p.trim()){alert("Please enter a name for the existing stream");return}d(!0);try{const{data:X,error:te}=await jr.functions.invoke("mux-stream",{body:{action:"migrate",event_id:t,stream_name:p.trim()}});if(te)throw new Error(te.message||"Migration failed");if(X?.error)throw new Error(X.error);y(!1),g(""),await N(),r&&await r(),alert(`Successfully converted to multi-stream! "${p.trim()}" is now your first stream.`)}catch(X){console.error("Failed to convert to multi-stream:",X),alert("Failed to convert: "+X.message)}finally{d(!1)}};return s.jsxs("div",{className:"pt-6 border-t border-dark-800",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c4,{className:"w-5 h-5 text-purple-500"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Multi-Stream"}),n.length>0&&s.jsxs("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs font-medium rounded-full",children:[n.length," stream",n.length!==1?"s":""]})]})}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add multiple streams for events with multiple mats/stages. Each stream gets its own OBS stream key."}),_&&n.length===0&&s.jsx("div",{className:"mb-4 p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-amber-500/20 rounded-lg",children:s.jsx(Up,{className:"w-5 h-5 text-amber-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-amber-400 mb-1",children:"Existing Stream Detected"}),s.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"This event has a stream key already generated. To add multiple streams, convert it to multi-stream mode first."}),s.jsxs("button",{type:"button",onClick:()=>y(!0),className:"px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(c4,{className:"w-4 h-4"}),"Convert to Multi-Stream"]})]})]})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-dark-900 rounded-xl border border-dark-700 p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Convert to Multi-Stream"}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Name your existing stream. This will become the first stream in multi-stream mode."}),s.jsx("input",{type:"text",value:p,onChange:X=>g(X.target.value),placeholder:"e.g., Main Stage, Mat 1, Ring A",className:"w-full px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 mb-4",autoFocus:!0}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{type:"button",onClick:()=>{y(!1),g("")},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{type:"button",onClick:Y,disabled:l||!p.trim(),className:"px-4 py-2 bg-amber-600 hover:bg-amber-500 disabled:bg-dark-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Converting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(c4,{className:"w-4 h-4"}),"Convert"]})})]})]})}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"text",value:f,onChange:X=>m(X.target.value),placeholder:"Stream name (e.g., Mat 1, Main Stage)",className:"flex-1 px-3 py-2 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500"}),s.jsxs("button",{type:"button",onClick:C,disabled:c||!f.trim(),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 disabled:bg-dark-700 text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:[c?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):s.jsx(Zp,{className:"w-4 h-4"}),"Add"]})]}),a?s.jsx("div",{className:"text-center py-4",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-purple-500 border-t-transparent mx-auto"})}):n.length===0?s.jsxs("div",{className:"text-center py-6 text-gray-500 bg-dark-800/50 rounded-lg border border-dashed border-dark-700",children:[s.jsx(Up,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No streams configured yet."}),s.jsx("p",{className:"text-sm",children:"Add streams above for multi-mat/stage events."})]}):s.jsx("div",{className:"space-y-3",children:n.map((X,te)=>s.jsxs("div",{className:`bg-dark-800 rounded-lg border ${X.is_default?"border-purple-500/50":"border-dark-700"} overflow-hidden`,children:[s.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-dark-700/50",onClick:()=>E(w===X.id?null:X.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-500/20 rounded-lg",children:s.jsx(zb,{className:"w-4 h-4 text-purple-500"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-white",children:X.name}),X.is_default&&s.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 text-xs rounded",children:"Default"}),X.mux_stream_key&&s.jsx("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded",children:"Ready"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:X.mux_stream_key?"Stream key configured":"No stream key yet"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!X.is_default&&s.jsx("button",{type:"button",onClick:de=>{de.stopPropagation(),M(X.id)},className:"px-2 py-1 text-xs text-gray-400 hover:text-purple-400 transition-colors",children:"Set Default"}),s.jsx("button",{type:"button",onClick:de=>{de.stopPropagation(),I(X.id)},className:"p-1.5 text-gray-500 hover:text-red-500 transition-colors",children:s.jsx(g1,{className:"w-4 h-4"})})]})]}),w===X.id&&s.jsx("div",{className:"px-3 pb-3 pt-0 space-y-3 border-t border-dark-700",children:X.mux_stream_key?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Stream Key (for OBS)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",readOnly:!0,value:X.mux_stream_key,className:"flex-1 px-3 py-2 bg-dark-900 border border-dark-700 rounded-lg text-gray-400 font-mono text-xs"}),s.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(X.mux_stream_key),alert("Stream key copied!")},className:"px-3 py-2 bg-dark-700 hover:bg-dark-600 text-white rounded-lg transition-colors",children:s.jsx($b,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Playback ID"}),s.jsx("input",{type:"text",readOnly:!0,value:X.mux_playback_id||"",className:"w-full px-3 py-2 bg-dark-900 border border-dark-700 rounded-lg text-gray-400 font-mono text-xs"})]}),s.jsx("p",{className:"text-xs text-amber-400 font-medium",children:" RTMP Server: rtmps://global-live.mux.com:443/app"})]}):s.jsxs("button",{type:"button",onClick:()=>D(X),className:"w-full px-4 py-3 bg-green-600 hover:bg-green-500 text-white font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[s.jsx(Vd,{className:"w-4 h-4"}),"Generate MUX Stream Key"]})})]},X.id))}),n.length>0&&s.jsx("p",{className:"text-xs text-gray-500 mt-3",children:" Viewers will see a stream selector to switch between streams during the event."})]})}function YUe(){const[t,e]=T.useState(!0),[r,n]=T.useState([]),[i,a]=T.useState([]),[o,c]=T.useState(null),[u,l]=T.useState(!0),[d,f]=T.useState(new Date),[m,p]=T.useState("all"),[g,x]=T.useState("all"),[y,w]=T.useState(!1);T.useEffect(()=>{if(E(),u){const C=setInterval(()=>{E()},3e4);return()=>clearInterval(C)}},[u,m,g]);const E=async()=>{try{e(!0);let C=jr.from("livestream_events").select("*, organizations(id, name, display_name)").order("start_time",{ascending:!1});g!=="all"&&(C=C.eq("status",g));const{data:I,error:D}=await C;if(D)throw D;const{data:M,error:Y}=await jr.from("livestream_orders").select("*").eq("status","completed");if(Y)throw Y;const X=_(I||[],M||[]);n(I||[]),a(M||[]),c(X),f(new Date)}catch(C){console.error("Failed to load analytics:",C)}finally{e(!1)}},_=(C,I)=>{const D=I.reduce((de,ye)=>de+parseFloat(ye.amount||0),0),M=I.length,Y=C.map(de=>{const ye=I.filter(ne=>ne.event_id===de.id),we=ye.reduce((ne,ae)=>ne+parseFloat(ae.amount||0),0),ve=ye.length;return{...de,purchases:ve,revenue:we,avgOrderValue:ve>0?we/ve:0}});Y.sort((de,ye)=>ye.revenue-de.revenue);const X={};I.forEach(de=>{const ye=new Date(de.created_at).toISOString().split("T")[0];X[ye]=(X[ye]||0)+parseFloat(de.amount||0)});const te=Object.entries(X).sort((de,ye)=>de[0].localeCompare(ye[0])).slice(-30);return{totalRevenue:D,totalPurchases:M,totalEvents:C.length,avgOrderValue:M>0?D/M:0,eventStats:Y,dailyRevenue:te}},N=()=>{if(!o)return;const C=[["Event","Organization","Purchases","Revenue","Avg Order Value","Status"].join(","),...o.eventStats.map(Y=>[`"${Y.title}"`,`"${Y.organizations?.display_name||Y.organization}"`,Y.purchases,`$${Y.revenue.toFixed(2)}`,`$${Y.avgOrderValue.toFixed(2)}`,Y.status].join(","))].join(`
`),I=new Blob([C],{type:"text/csv"}),D=URL.createObjectURL(I),M=document.createElement("a");M.href=D,M.download=`livestream-analytics-${new Date().toISOString().split("T")[0]}.csv`,M.click()};return t&&!o?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-red-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading analytics..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[s.jsx(DT,{className:"w-8 h-8 text-red-500"}),"Livestream Analytics"]}),s.jsx("p",{className:"text-gray-400",children:"Real-time performance metrics and insights"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>w(!y),className:"px-4 py-2 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg text-gray-300 flex items-center gap-2 transition-all border border-gray-700",children:[s.jsx(L3,{className:"w-4 h-4"}),y?"Hide":"Show"," Filters"]}),s.jsxs("button",{onClick:N,className:"px-4 py-2 bg-gray-800/50 hover:bg-gray-700/50 rounded-lg text-gray-300 flex items-center gap-2 transition-all border border-gray-700",children:[s.jsx(Rm,{className:"w-4 h-4"}),"Export CSV"]}),s.jsxs("button",{onClick:E,disabled:t,className:"px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-white flex items-center gap-2 transition-all disabled:opacity-50",children:[s.jsx(U0,{className:`w-4 h-4 ${t?"animate-spin":""}`}),"Refresh"]})]})]}),y&&s.jsx("div",{className:"mb-6 p-4 bg-gray-800/30 backdrop-blur-md rounded-lg border border-gray-700",children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Status"}),s.jsxs("select",{value:g,onChange:C=>x(C.target.value),className:"px-4 py-2 bg-gray-900 border border-gray-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-red-500",children:[s.jsx("option",{value:"all",children:"All Events"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"live",children:"Live"}),s.jsx("option",{value:"ended",children:"Ended"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Auto-Refresh"}),s.jsx("button",{onClick:()=>l(!u),className:`px-4 py-2 rounded-lg border transition-all ${u?"bg-red-600 border-red-500 text-white":"bg-gray-900 border-gray-700 text-gray-400"}`,children:u?"ON (30s)":"OFF"})]}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"text-sm text-gray-500 self-end",children:["Last updated: ",d.toLocaleTimeString()]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-red-500/20 to-red-600/10 backdrop-blur-md rounded-xl p-6 border border-red-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Wh,{className:"w-8 h-8 text-red-400"}),s.jsx("span",{className:"text-2xl",children:""})]}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:["$",o?.totalRevenue.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Revenue"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 backdrop-blur-md rounded-xl p-6 border border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Hfe,{className:"w-8 h-8 text-blue-400"}),s.jsx("span",{className:"text-2xl",children:""})]}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:o?.totalPurchases}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Purchases"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/10 backdrop-blur-md rounded-xl p-6 border border-green-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Cl,{className:"w-8 h-8 text-green-400"}),s.jsx("span",{className:"text-2xl",children:""})]}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:o?.totalEvents}),s.jsx("div",{className:"text-sm text-gray-400",children:"Total Events"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 backdrop-blur-md rounded-xl p-6 border border-purple-500/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Tf,{className:"w-8 h-8 text-purple-400"}),s.jsx("span",{className:"text-2xl",children:""})]}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:["$",o?.avgOrderValue.toFixed(2)]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Avg Order Value"})]})]}),s.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-md rounded-xl border border-gray-700 overflow-hidden mb-8",children:[s.jsx("div",{className:"p-6 border-b border-gray-700",children:s.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[s.jsx(DT,{className:"w-5 h-5 text-red-500"}),"Event Performance"]})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-900/50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Event"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Organization"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Purchases"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Revenue"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Avg Order"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:o?.eventStats.map(C=>s.jsxs("tr",{className:"hover:bg-gray-700/30 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-white",children:C.title}),s.jsx("div",{className:"text-xs text-gray-400",children:new Date(C.start_time).toLocaleDateString()})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:C.organizations?.display_name||C.organization}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsx("div",{className:"text-sm font-medium text-white",children:C.purchases})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"text-sm font-bold text-green-400",children:["$",C.revenue.toFixed(2)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"text-sm text-gray-300",children:["$",C.avgOrderValue.toFixed(2)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C.status==="live"?"bg-green-500/20 text-green-400":C.status==="published"?"bg-blue-500/20 text-blue-400":C.status==="ended"?"bg-gray-500/20 text-gray-400":"bg-yellow-500/20 text-yellow-400"}`,children:C.status})})]},C.id))})]})}),o?.eventStats.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500",children:"No events found"})]}),s.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-md rounded-xl border border-gray-700 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Tf,{className:"w-5 h-5 text-red-500"}),"Revenue Trend (Last 30 Days)"]}),o?.dailyRevenue&&o.dailyRevenue.length>0?s.jsx("div",{className:"space-y-2",children:o.dailyRevenue.map(([C,I])=>{const D=Math.max(...o.dailyRevenue.map(Y=>Y[1])),M=I/D*100;return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-xs text-gray-400 w-24",children:new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("div",{className:"flex-1 bg-gray-700/30 rounded-full h-8 overflow-hidden relative",children:s.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-full rounded-full transition-all duration-500 flex items-center px-3",style:{width:`${M}%`},children:I>0&&s.jsxs("span",{className:"text-xs font-medium text-white whitespace-nowrap",children:["$",I.toFixed(2)]})})})]},C)})}):s.jsx("div",{className:"text-center py-12 text-gray-500",children:"No revenue data available"})]})]})})}const qUe=[{id:"standard",name:"Standard",description:"Single-camera livestream coverage"},{id:"premium",name:"Premium",description:"Multi-camera with graphics package"},{id:"enterprise",name:"Enterprise",description:"Full production with replays & commentary"}],NK={standard:["Professional single-camera livestream","Basic graphics overlay","YouTube/Facebook streaming","Post-event highlight reel (60-90s)"],premium:["Multi-camera setup (2-3 cameras)","Professional graphics package","Multi-platform streaming","On-screen score/time overlays","Post-event highlight reel (2-3 mins)","Full event replay access"],enterprise:["Full multi-camera production (4+ cameras)","Premium graphics & animations","Live instant replays","Commentary integration","Multi-platform streaming","Athlete social media clips","Full event replay with chapters","Dedicated production manager"]},XUe=["Combat Sports","MMA","Boxing","BJJ/Grappling","Muay Thai/Kickboxing","Bodybuilding/Fitness","Powerlifting","CrossFit","Other"],ZUe={draft:"bg-gray-500/20 text-gray-300",sent:"bg-blue-500/20 text-blue-300",viewed:"bg-yellow-500/20 text-yellow-300",accepted:"bg-green-500/20 text-green-300",declined:"bg-red-500/20 text-red-300"};function JUe(){const[t,e]=T.useState([]),[r,n]=T.useState(!0),[i,a]=T.useState(null),[o,c]=T.useState(""),[u,l]=T.useState("all"),[d,f]=T.useState(!1),[m,p]=T.useState(null),[g,x]=T.useState(null),[y,w]=T.useState(null),[E,_]=T.useState(!1);T.useEffect(()=>{N()},[]);async function N(){try{n(!0);const te=await sDe();e(te||[])}catch(te){console.error("Error loading proposals:",te),a(te.message)}finally{n(!1)}}const C=t.filter(te=>{const de=te.org_name?.toLowerCase().includes(o.toLowerCase())||te.contact_name?.toLowerCase().includes(o.toLowerCase())||te.event_name?.toLowerCase().includes(o.toLowerCase()),ye=u==="all"||te.status===u;return de&&ye});function I(te){const de=`${window.location.origin}/#/proposals/${te}`;navigator.clipboard.writeText(de),x(te),setTimeout(()=>x(null),2e3)}async function D(te,de){try{await dDe(te,de),e(ye=>ye.map(we=>we.id===te?{...we,status:de}:we))}catch(ye){console.error("Error updating status:",ye)}}async function M(te){if(confirm("Are you sure you want to delete this proposal?"))try{await cDe(te),e(de=>de.filter(ye=>ye.id!==te))}catch(de){console.error("Error deleting proposal:",de)}}async function Y(te,de=""){_(!0);try{await hDe(te,null,de),e(ye=>ye.map(we=>we.id===te?{...we,status:"sent",sent_at:new Date().toISOString()}:we)),w(null),alert("Email sent successfully!")}catch(ye){console.error("Error sending email:",ye),alert("Failed to send email: "+ye.message)}finally{_(!1)}}const X={total:t.length,sent:t.filter(te=>te.status==="sent").length,viewed:t.filter(te=>te.status==="viewed").length,accepted:t.filter(te=>te.status==="accepted").length,totalViews:t.reduce((te,de)=>te+(de.views||0),0)};return s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] text-white p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Proposal Generator"}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Create and manage custom proposals for prospects"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-orange-600 rounded-lg font-medium hover:opacity-90 transition-opacity",children:[s.jsx(Zp,{size:20}),"New Proposal"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[s.jsx(Aw,{label:"Total",value:X.total,icon:Hb}),s.jsx(Aw,{label:"Sent",value:X.sent,icon:Vb,color:"blue"}),s.jsx(Aw,{label:"Viewed",value:X.viewed,icon:F0,color:"yellow"}),s.jsx(Aw,{label:"Accepted",value:X.accepted,icon:to,color:"green"}),s.jsx(Aw,{label:"Total Views",value:X.totalViews,icon:Tf,color:"purple"})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search proposals...",value:o,onChange:te=>c(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50"})]}),s.jsxs("select",{value:u,onChange:te=>l(te.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"sent",children:"Sent"}),s.jsx("option",{value:"viewed",children:"Viewed"}),s.jsx("option",{value:"accepted",children:"Accepted"}),s.jsx("option",{value:"declined",children:"Declined"})]})]}),r?s.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading proposals..."}):i?s.jsx("div",{className:"text-center py-12 text-red-400",children:i}):C.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Hb,{size:48,className:"mx-auto text-gray-600 mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No proposals found"}),s.jsx("button",{onClick:()=>f(!0),className:"mt-4 text-red-400 hover:text-red-300",children:"Create your first proposal"})]}):s.jsx("div",{className:"space-y-4",children:C.map(te=>s.jsx(e6e,{proposal:te,onEdit:()=>p(te),onDelete:()=>M(te.id),onCopyLink:()=>I(te.slug),onStatusChange:de=>D(te.id,de),onSendEmail:()=>w(te),copied:g===te.slug},te.id))}),s.jsx(Kp,{children:(d||m)&&s.jsx(t6e,{proposal:m,onClose:()=>{f(!1),p(null)},onSave:async te=>{m?await vF(m.id,te):await lDe(te),N(),f(!1),p(null)}})}),s.jsx(Kp,{children:y&&s.jsx(n6e,{proposal:y,sending:E,onClose:()=>w(null),onSend:te=>Y(y.id,te)})})]})})}function Aw({label:t,value:e,icon:r,color:n="gray"}){const i={gray:"from-gray-600 to-gray-700",blue:"from-blue-600 to-blue-700",yellow:"from-yellow-600 to-yellow-700",green:"from-green-600 to-green-700",purple:"from-purple-600 to-purple-700"};return s.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${i[n]}`,children:s.jsx(r,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:e}),s.jsx("p",{className:"text-sm text-gray-400",children:t})]})]})})}function e6e({proposal:t,onEdit:e,onDelete:r,onCopyLink:n,onStatusChange:i,onSendEmail:a,copied:o}){const[c,u]=T.useState(!1);return s.jsx(Fr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-xl p-6 hover:border-white/20 transition-colors",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold",children:t.org_name}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ZUe[t.status]}`,children:t.status})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400",children:[t.event_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cl,{size:14}),t.event_name]}),t.contact_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jp,{size:14}),t.contact_name]}),t.price&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wh,{size:14}),"$",t.price.toLocaleString()]}),t.views>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(F0,{size:14}),t.views," view",t.views!==1?"s":""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-1 px-3 py-1.5 bg-white/5 rounded-lg hover:bg-white/10 transition-colors text-sm",children:["Status",s.jsx(px,{size:14})]}),c&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>u(!1)}),s.jsx("div",{className:"absolute right-0 top-full mt-1 bg-[#1a1a2e] border border-white/10 rounded-lg shadow-xl z-20 min-w-[120px]",children:["draft","sent","viewed","accepted","declined"].map(l=>s.jsx("button",{onClick:()=>{i(l),u(!1)},className:`w-full text-left px-3 py-2 hover:bg-white/5 text-sm capitalize ${t.status===l?"text-red-400":""}`,children:l},l))})]})]}),t.contact_email&&s.jsx("button",{onClick:a,className:"p-2 bg-white/5 rounded-lg hover:bg-blue-500/20 hover:text-blue-400 transition-colors",title:`Send to ${t.contact_email}`,children:s.jsx(Vb,{size:18})}),s.jsx("button",{onClick:n,className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",title:"Copy proposal link",children:o?s.jsx(to,{size:18,className:"text-green-400"}):s.jsx($b,{size:18})}),s.jsx("a",{href:`/#/proposals/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",title:"View proposal",children:s.jsx(OE,{size:18})}),s.jsx("button",{onClick:e,className:"p-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",title:"Edit proposal",children:s.jsx(OB,{size:18})}),s.jsx("button",{onClick:r,className:"p-2 bg-white/5 rounded-lg hover:bg-red-500/20 hover:text-red-400 transition-colors",title:"Delete proposal",children:s.jsx(g1,{size:18})})]})]})})}function t6e({proposal:t,onClose:e,onSave:r}){const[n,i]=T.useState(!1),[a,o]=T.useState("form"),[c,u]=T.useState({org_name:t?.org_name||"",contact_name:t?.contact_name||"",contact_email:t?.contact_email||"",contact_phone:t?.contact_phone||"",event_name:t?.event_name||"",event_date:t?.event_date||"",event_type:t?.event_type||"Combat Sports",package:t?.package||"premium",price:t?.price||"",inclusions:t?.inclusions||NK.premium,custom_notes:t?.custom_notes||"",status:t?.status||"draft"});function l(g){u(x=>({...x,package:g,inclusions:NK[g]||[]}))}function d(){u(g=>({...g,inclusions:[...g.inclusions||[],""]}))}function f(g,x){u(y=>({...y,inclusions:y.inclusions.map((w,E)=>E===g?x:w)}))}function m(g){u(x=>({...x,inclusions:x.inclusions.filter((y,w)=>w!==g)}))}async function p(g){g.preventDefault(),i(!0);try{await r({...c,price:c.price?parseFloat(c.price):null,inclusions:c.inclusions.filter(x=>x.trim())})}catch(x){console.error("Error saving proposal:",x),alert("Error saving proposal: "+x.message)}finally{i(!1)}}return s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 flex items-stretch z-50",onClick:e,children:s.jsxs(Fr.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},onClick:g=>g.stopPropagation(),className:"flex flex-col lg:flex-row w-full h-full",children:[s.jsxs("div",{className:"lg:hidden flex border-b border-white/10 bg-[#12121a]",children:[s.jsx("button",{onClick:()=>o("form"),className:`flex-1 py-3 text-center font-medium ${a==="form"?"text-red-400 border-b-2 border-red-400":"text-gray-400"}`,children:"Edit Form"}),s.jsx("button",{onClick:()=>o("preview"),className:`flex-1 py-3 text-center font-medium ${a==="preview"?"text-red-400 border-b-2 border-red-400":"text-gray-400"}`,children:"Live Preview"})]}),s.jsx("div",{className:`lg:w-1/2 bg-[#12121a] flex flex-col overflow-hidden ${a==="form"?"flex":"hidden lg:flex"}`,children:s.jsxs("form",{onSubmit:p,className:"flex flex-col h-full",children:[s.jsxs("div",{className:"shrink-0 border-b border-white/10 p-4 lg:p-6 flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-bold",children:t?"Edit Proposal":"Create New Proposal"}),s.jsx("button",{type:"button",onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:""})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 lg:p-6 space-y-6",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mq,{size:20,className:"text-red-400"}),"Organization Details"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Organization Name *"}),s.jsx("input",{type:"text",required:!0,value:c.org_name,onChange:g=>u(x=>({...x,org_name:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",placeholder:"e.g., Inception Fight Series"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Type"}),s.jsx("select",{value:c.event_type,onChange:g=>u(x=>({...x,event_type:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",children:XUe.map(g=>s.jsx("option",{value:g,children:g},g))})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Jp,{size:20,className:"text-red-400"}),"Contact Details"]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",value:c.contact_name,onChange:g=>u(x=>({...x,contact_name:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:c.contact_email,onChange:g=>u(x=>({...x,contact_email:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:c.contact_phone,onChange:g=>u(x=>({...x,contact_phone:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",placeholder:"0400 000 000"})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Cl,{size:20,className:"text-red-400"}),"Event Details"]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name"}),s.jsx("input",{type:"text",value:c.event_name,onChange:g=>u(x=>({...x,event_name:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",placeholder:"e.g., Fight Night 12"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Date"}),s.jsx("input",{type:"date",value:c.event_date,onChange:g=>u(x=>({...x,event_date:g.target.value})),className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50"})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Wh,{size:20,className:"text-red-400"}),"Package & Pricing"]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-3 mb-4",children:qUe.map(g=>s.jsxs("button",{type:"button",onClick:()=>l(g.id),className:`p-3 rounded-xl border-2 text-left transition-all ${c.package===g.id?"border-red-500 bg-red-500/10":"border-white/10 hover:border-white/20"}`,children:[s.jsx("p",{className:"font-semibold text-sm",children:g.name}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g.description})]},g.id))}),s.jsxs("div",{className:"max-w-xs",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Price (AUD)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),s.jsx("input",{type:"number",value:c.price,onChange:g=>u(x=>({...x,price:g.target.value})),className:"w-full pl-8 pr-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",placeholder:"0.00",step:"0.01",min:"0"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Leave blank for "Contact for pricing"'})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(wb,{size:20,className:"text-red-400"}),"What's Included"]}),s.jsxs("div",{className:"space-y-2",children:[(c.inclusions||[]).map((g,x)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:y=>f(x,y.target.value),className:"flex-1 px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50 text-sm",placeholder:"Inclusion item..."}),s.jsx("button",{type:"button",onClick:()=>m(x),className:"p-2 text-gray-400 hover:text-red-400",children:s.jsx(g1,{size:18})})]},x)),s.jsxs("button",{type:"button",onClick:d,className:"text-sm text-red-400 hover:text-red-300 flex items-center gap-1",children:[s.jsx(Zp,{size:16}),"Add inclusion"]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Hb,{size:20,className:"text-red-400"}),"Custom Notes"]}),s.jsx("textarea",{value:c.custom_notes,onChange:g=>u(x=>({...x,custom_notes:g.target.value})),rows:3,className:"w-full px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50 resize-none text-sm",placeholder:"Any additional notes or custom terms..."})]}),s.jsxs("section",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),s.jsxs("select",{value:c.status,onChange:g=>u(x=>({...x,status:g.target.value})),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-red-500/50",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"sent",children:"Sent"}),s.jsx("option",{value:"viewed",children:"Viewed"}),s.jsx("option",{value:"accepted",children:"Accepted"}),s.jsx("option",{value:"declined",children:"Declined"})]})]})]}),s.jsxs("div",{className:"shrink-0 border-t border-white/10 p-4 lg:p-6 flex justify-end gap-4 bg-[#12121a]",children:[s.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n||!c.org_name,className:"px-6 py-2 bg-gradient-to-r from-red-600 to-orange-600 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50",children:n?"Saving...":t?"Update Proposal":"Create Proposal"})]})]})}),s.jsxs("div",{className:`lg:w-1/2 bg-[#0a0a0f] flex flex-col overflow-hidden border-l border-white/10 ${a==="preview"?"flex":"hidden lg:flex"}`,children:[s.jsx("div",{className:"shrink-0 border-b border-white/10 p-4 lg:p-6 bg-[#0a0a0f]",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(F0,{size:18}),s.jsx("span",{className:"font-medium",children:"Live Preview"}),s.jsx("span",{className:"text-xs text-gray-500 ml-auto",children:"Updates as you type"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(r6e,{form:c})})]})]})})}function r6e({form:t}){const e=[{value:"25+",label:"Events",icon:Eh},{value:"4",label:"Countries",icon:p1},{value:"50K+",label:"Viewers",icon:sh},{value:"100%",label:"Satisfaction",icon:qN}];return s.jsxs("div",{className:"min-h-full bg-[#0a0a0f] text-white",children:[s.jsxs("section",{className:"relative py-12 px-6 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-600/10 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-red-600/20 rounded-full blur-3xl"}),s.jsxs("div",{className:"max-w-2xl mx-auto text-center relative z-10",children:[s.jsx("p",{className:"text-red-400 font-medium mb-3 tracking-wide text-sm",children:"PREPARED FOR"}),s.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-4 bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent",children:t.org_name||"Organization Name"}),(t.event_name||t.event_date)&&s.jsxs("p",{className:"text-lg text-gray-300 mb-6",children:[t.event_name||"Event Name",t.event_date&&s.jsxs("span",{className:"text-gray-500",children:["  ",new Date(t.event_date).toLocaleDateString("en-AU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("p",{className:"text-sm text-gray-400 max-w-xl mx-auto",children:"Professional livestream production that brings your events to audiences worldwide  at zero upfront cost to you."})]})]}),s.jsx("section",{className:"py-4 border-y border-white/10 bg-white/5",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsx("div",{className:"grid grid-cols-4 gap-4",children:e.map((r,n)=>s.jsxs("div",{className:"text-center",children:[s.jsx(r.icon,{className:"w-4 h-4 mx-auto mb-1 text-red-400"}),s.jsx("p",{className:"text-lg font-bold",children:r.value}),s.jsx("p",{className:"text-xs text-gray-400",children:r.label})]},n))})})}),s.jsx("section",{className:"py-8 px-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6 pb-6 border-b border-white/10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-red-400 font-medium mb-1 text-sm",children:"YOUR PACKAGE"}),s.jsxs("h2",{className:"text-xl font-bold capitalize",children:[t.package||"Custom"," Package"]}),t.event_type&&s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:t.event_type})]}),s.jsx("div",{className:"text-right",children:t.price?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",parseFloat(t.price).toLocaleString()]}),s.jsx("p",{className:"text-xs text-gray-400",children:"AUD"})]}):s.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Contact for pricing"})})]}),t.inclusions&&t.inclusions.filter(r=>r.trim()).length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[s.jsx(wb,{className:"text-green-400",size:16}),"What's Included"]}),s.jsx("ul",{className:"grid md:grid-cols-2 gap-2",children:t.inclusions.filter(r=>r.trim()).map((r,n)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[s.jsx(to,{className:"w-4 h-4 text-green-400 shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300",children:r})]},n))})]}),t.custom_notes&&s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 mb-6",children:[s.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"Additional Notes"}),s.jsx("p",{className:"text-gray-300 whitespace-pre-wrap text-sm",children:t.custom_notes})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-600/20 to-emerald-600/20 border border-green-500/30 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:s.jsx(Wh,{className:"w-5 h-5 text-green-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-1",children:"Zero Upfront Cost Model"}),s.jsx("p",{className:"text-gray-300 text-xs",children:"FFM operates on a revenue-share model. You pay nothing upfront  we earn through pay-per-view ticket sales."})]})]})})]})})}),s.jsx("section",{className:"py-8 px-6 bg-white/5",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsx("h2",{className:"text-lg font-bold text-center mb-6",children:"How It Works"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{step:"1",title:"We Produce",icon:Eh},{step:"2",title:"Fans Watch",icon:sh},{step:"3",title:"You Earn",icon:Tf}].map((r,n)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-10 h-10 mx-auto mb-2 bg-gradient-to-br from-red-600 to-orange-600 rounded-xl flex items-center justify-center",children:s.jsx(r.icon,{size:18})}),s.jsx("h3",{className:"text-sm font-semibold",children:r.title})]},n))})]})}),s.jsx("section",{className:"py-8 px-6",children:s.jsx("div",{className:"max-w-2xl mx-auto",children:s.jsxs("div",{className:"bg-gradient-to-br from-red-600/20 to-orange-600/20 border border-red-500/30 rounded-2xl p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Ready to Get Started?"}),s.jsxs("p",{className:"text-gray-300 mb-4 text-sm",children:["Let's discuss how we can bring professional livestream production to ",t.org_name||"your organization","."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-orange-600 rounded-xl font-medium text-sm",children:[s.jsx(vx,{size:16}),"0411 934 935"]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-white/20 rounded-xl font-medium text-sm",children:[s.jsx(nu,{size:16}),"Email Us"]})]}),t.contact_name&&s.jsxs("p",{className:"mt-4 text-xs text-gray-400",children:["Prepared for ",t.contact_name,t.contact_email&&` (${t.contact_email})`]})]})})}),s.jsx("footer",{className:"py-4 px-6 border-t border-white/10 text-center text-gray-400 text-xs",children:s.jsxs("p",{children:[" ",new Date().getFullYear()," Fit Focus Media"]})})]})}function n6e({proposal:t,sending:e,onClose:r,onSend:n}){const[i,a]=T.useState("");return s.jsx(Fr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:r,children:s.jsxs(Fr.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-[#12121a] border border-white/10 rounded-2xl max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:s.jsx(Vb,{size:24,className:"text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Send Proposal"}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Email to ",t.contact_email]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[s.jsx("p",{className:"font-semibold",children:t.org_name}),t.event_name&&s.jsx("p",{className:"text-sm text-gray-400",children:t.event_name}),t.price&&s.jsxs("p",{className:"text-lg font-bold text-red-400 mt-2",children:["$",t.price.toLocaleString()," AUD"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Add a personal message (optional)"}),s.jsx("textarea",{value:i,onChange:o=>a(o.target.value),rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg focus:outline-none focus:border-blue-500/50 resize-none text-sm",placeholder:"e.g., Looking forward to working with you on this event..."})]}),t.sent_at&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-400 bg-yellow-500/10 rounded-lg px-3 py-2",children:[s.jsx(jf,{size:16}),"Previously sent ",new Date(t.sent_at).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-white/5 rounded-lg hover:bg-white/10 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>n(i),disabled:e,className:"flex-1 px-4 py-3 bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg font-medium hover:opacity-90 transition-opacity disabled:opacity-50 flex items-center justify-center gap-2",children:e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vb,{size:18}),"Send Email"]})})]})]})})}const i6e=[{value:"25+",label:"Events Produced",icon:Eh},{value:"4",label:"Countries",icon:p1},{value:"50K+",label:"Viewers Reached",icon:sh},{value:"100%",label:"Client Satisfaction",icon:qN}],CI=[{quote:"FFM transformed how we share our events with the world. Professional quality, zero hassle.",author:"Phil Cassidy",role:"Inception Fight Series"},{quote:"The athlete content packages have been a game-changer for our fighters' social media presence.",author:"Event Promoter",role:"Combat Sports Organisation"}];function s6e(){const{slug:t}=Lf(),[e,r]=T.useState(null),[n,i]=T.useState(!0),[a,o]=T.useState(null);T.useEffect(()=>{c()},[t]);async function c(){try{i(!0);const u=await oDe(t);r(u),uDe(t).catch(console.error)}catch(u){console.error("Error loading proposal:",u),o("Proposal not found")}finally{i(!1)}}return n?s.jsx("div",{className:"min-h-screen bg-[#0a0a0f] flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading proposal..."})}):a||!e?s.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] flex flex-col items-center justify-center text-center p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Proposal Not Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"This proposal may have expired or been removed."}),s.jsx(ss,{to:"/",className:"px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 rounded-lg font-medium",children:"Visit Our Website"})]}):s.jsxs("div",{className:"min-h-screen bg-[#0a0a0f] text-white",children:[s.jsxs("section",{className:"relative py-20 px-6 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-red-600/10 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-red-600/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-orange-600/20 rounded-full blur-3xl"}),s.jsx("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:"/logo.png",alt:"Fit Focus Media",className:"h-16 w-auto",onError:u=>u.target.style.display="none"})}),s.jsx("p",{className:"text-red-400 font-medium mb-4 tracking-wide",children:"PREPARED FOR"}),s.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white via-gray-200 to-gray-400 bg-clip-text text-transparent",children:e.org_name}),e.event_name&&s.jsxs("p",{className:"text-xl text-gray-300 mb-8",children:[e.event_name,e.event_date&&s.jsxs("span",{className:"text-gray-500",children:["  ",new Date(e.event_date).toLocaleDateString("en-AU",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]}),s.jsx("p",{className:"text-lg text-gray-400 max-w-2xl mx-auto",children:"Professional livestream production that brings your events to audiences worldwide  at zero upfront cost to you."})]})})]}),s.jsx("section",{className:"py-8 border-y border-white/10 bg-white/5",children:s.jsx("div",{className:"max-w-6xl mx-auto px-6",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:i6e.map((u,l)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"text-center",children:[s.jsx(u.icon,{className:"w-6 h-6 mx-auto mb-2 text-red-400"}),s.jsx("p",{className:"text-2xl font-bold",children:u.value}),s.jsx("p",{className:"text-sm text-gray-400",children:u.label})]},l))})})}),s.jsx("section",{className:"py-16 px-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-white/10 to-white/5 border border-white/20 rounded-3xl p-8 md:p-12",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6 mb-8 pb-8 border-b border-white/10",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-red-400 font-medium mb-2",children:"YOUR PACKAGE"}),s.jsxs("h2",{className:"text-3xl font-bold capitalize",children:[e.package||"Custom"," Package"]}),e.event_type&&s.jsx("p",{className:"text-gray-400 mt-1",children:e.event_type})]}),s.jsx("div",{className:"text-right",children:e.price?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",e.price.toLocaleString()]}),s.jsx("p",{className:"text-sm text-gray-400",children:"AUD"})]}):s.jsx("p",{className:"text-xl font-medium text-gray-300",children:"Contact for pricing"})})]}),e.inclusions&&e.inclusions.length>0&&s.jsxs("div",{className:"mb-8",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(wb,{className:"text-green-400",size:20}),"What's Included"]}),s.jsx("ul",{className:"grid md:grid-cols-2 gap-3",children:e.inclusions.map((u,l)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(to,{className:"w-5 h-5 text-green-400 shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300",children:u})]},l))})]}),e.custom_notes&&s.jsxs("div",{className:"bg-white/5 rounded-xl p-6 mb-8",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Additional Notes"}),s.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:e.custom_notes})]}),s.jsx("div",{className:"bg-gradient-to-r from-green-600/20 to-emerald-600/20 border border-green-500/30 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-green-500/20 rounded-xl",children:s.jsx(Wh,{className:"w-6 h-6 text-green-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-green-400 mb-2",children:"Zero Upfront Cost Model"}),s.jsx("p",{className:"text-gray-300",children:"FFM operates on a revenue-share model for livestream events. You pay nothing upfront  we earn through pay-per-view ticket sales. Your success is our success."})]})]})})]})})}),s.jsx("section",{className:"py-16 px-6 bg-white/5",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-center mb-12",children:"How It Works"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{step:"1",title:"We Produce",description:"Professional multi-camera production, graphics, and streaming setup.",icon:Eh},{step:"2",title:"Fans Watch",description:"Viewers purchase pay-per-view access through our platform.",icon:sh},{step:"3",title:"You Earn",description:"Revenue is shared  you profit from your event without the production headache.",icon:Tf}].map((u,l)=>s.jsxs(Fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+l*.1},className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-red-600 to-orange-600 rounded-2xl flex items-center justify-center",children:s.jsx(u.icon,{size:28})}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:u.title}),s.jsx("p",{className:"text-gray-400",children:u.description})]},l))})]})}),s.jsx("section",{className:"py-16 px-6",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:[...Array(5)].map((u,l)=>s.jsx(xx,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"},l))}),s.jsxs("blockquote",{className:"text-xl md:text-2xl text-gray-200 italic mb-6",children:['"',CI[0].quote,'"']}),s.jsxs("p",{className:"text-gray-400",children:[s.jsx("span",{className:"font-semibold text-white",children:CI[0].author}),"  ",CI[0].role]})]})}),s.jsx("section",{className:"py-16 px-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs(Fr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-gradient-to-br from-red-600/20 to-orange-600/20 border border-red-500/30 rounded-3xl p-8 md:p-12 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),s.jsxs("p",{className:"text-gray-300 mb-8 max-w-xl mx-auto",children:["Let's discuss how we can bring professional livestream production to ",e.org_name,"."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsxs("a",{href:"tel:0411934935",className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-600 to-orange-600 rounded-xl font-medium hover:opacity-90 transition-opacity",children:[s.jsx(vx,{size:20}),"Call Brandon: 0411 934 935"]}),s.jsxs("a",{href:"mailto:brandon@fitfocusmedia.com.au",className:"flex items-center gap-2 px-6 py-3 bg-white/10 border border-white/20 rounded-xl font-medium hover:bg-white/15 transition-colors",children:[s.jsx(nu,{size:20}),"Email Us"]})]}),e.contact_name&&s.jsxs("p",{className:"mt-6 text-sm text-gray-400",children:["This proposal was prepared for ",e.contact_name,e.contact_email&&` (${e.contact_email})`]})]})})}),s.jsxs("footer",{className:"py-8 px-6 border-t border-white/10 text-center text-gray-400 text-sm",children:[s.jsxs("p",{children:[" ",new Date().getFullYear()," Fit Focus Media. All rights reserved."]}),s.jsx("p",{className:"mt-2",children:s.jsx("a",{href:"https://fitfocusmedia.com.au",className:"hover:text-white transition-colors",children:"fitfocusmedia.com.au"})})]})]})}function vie({targetDate:t,large:e=!1}){const[r,n]=T.useState(i(t));T.useEffect(()=>{const a=setInterval(()=>{n(i(t))},1e3);return()=>clearInterval(a)},[t]);function i(a){const o=new Date(a)-new Date;return o<=0?null:{days:Math.floor(o/(1e3*60*60*24)),hours:Math.floor(o/(1e3*60*60)%24),minutes:Math.floor(o/1e3/60%60),seconds:Math.floor(o/1e3%60)}}return r?e?s.jsx("div",{className:"flex gap-4 md:gap-6",children:[{value:r.days,label:"DAYS"},{value:r.hours,label:"HOURS"},{value:r.minutes,label:"MINS"},{value:r.seconds,label:"SECS"}].map((a,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-black/50 backdrop-blur-md rounded-xl px-4 py-3 md:px-6 md:py-4 min-w-[70px] md:min-w-[90px] border border-white/10",children:s.jsx("span",{className:"text-3xl md:text-5xl lg:text-6xl font-bold text-white tabular-nums",children:String(a.value).padStart(2,"0")})}),s.jsx("span",{className:"text-xs md:text-sm text-gray-400 mt-2 block font-medium tracking-wider",children:a.label})]},o))}):s.jsx("div",{className:"flex gap-3 md:gap-4",children:[{value:r.days,label:"DAYS"},{value:r.hours,label:"HRS"},{value:r.minutes,label:"MIN"},{value:r.seconds,label:"SEC"}].map((a,o)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"bg-dark-800/80 backdrop-blur-sm rounded-lg px-3 py-2 md:px-4 md:py-3 min-w-[50px] md:min-w-[70px]",children:s.jsx("span",{className:"text-2xl md:text-4xl font-bold text-white tabular-nums",children:String(a.value).padStart(2,"0")})}),s.jsx("span",{className:"text-[10px] md:text-xs text-gray-400 mt-1 block",children:a.label})]},o))}):s.jsx("span",{className:"text-green-400 font-bold text-2xl",children:"Starting Soon!"})}function NI({title:t,events:e,icon:r,accentColor:n="red"}){const i=T.useState(null);return!e||e.length===0?null:s.jsxs("section",{className:"mb-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[s.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-white flex items-center gap-2",children:[r,t]}),e.length>3&&s.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," events"]})]}),s.jsx("div",{className:"relative group",children:s.jsx("div",{ref:i,className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(a=>s.jsx("div",{className:"flex-shrink-0 w-[280px] md:w-[320px] snap-start",children:s.jsx(SO,{event:a,compact:!0})},a.id))})})]})}function SO({event:t,featured:e=!1,compact:r=!1}){const[n,i]=T.useState(!1),a=new Date(t.start_time),o=new Date,c=t.status==="live"||t.is_live,u=t.status==="ended"||new Date(t.end_time)<o,l=!c&&!u,d=a.toDateString()===o.toDateString(),f=a.toDateString()===new Date(o.getTime()+864e5).toDateString();return e?s.jsx(ss,{to:`/live/${t.id}`,className:"block group",children:s.jsxs("div",{className:"relative rounded-2xl overflow-hidden aspect-[21/9] md:aspect-[21/8]",children:[s.jsxs("div",{className:"absolute inset-0",children:[t.thumbnail_url&&!n?s.jsx("img",{src:Uh(t.thumbnail_url),alt:t.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",onError:()=>i(!0)}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-900 to-dark-900"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-transparent to-transparent"})]}),s.jsxs("div",{className:"absolute inset-0 p-6 md:p-10 flex flex-col justify-end",children:[s.jsxs("div",{className:"mb-3",children:[c&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-red-500 text-white text-sm font-bold rounded-full",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE NOW"]}),l&&d&&s.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-amber-500 text-black text-sm font-bold rounded-full",children:"TODAY"}),l&&f&&s.jsx("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-blue-500 text-white text-sm font-bold rounded-full",children:"TOMORROW"})]}),s.jsx("p",{className:"text-red-400 font-semibold text-sm md:text-base mb-1",children:t.org_display_name||t.organization}),s.jsx("h2",{className:"text-2xl md:text-4xl lg:text-5xl font-bold text-white mb-3 group-hover:text-red-400 transition-colors",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm md:text-base text-gray-300 mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Cl,{className:"w-4 h-4"}),a.toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",timeZone:"UTC"})]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(jf,{className:"w-4 h-4"}),a.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(pd,{className:"w-4 h-4"}),t.venue]})]}),s.jsxs("div",{className:"flex items-end justify-between gap-4",children:[l&&s.jsx(vie,{targetDate:t.start_time}),c&&s.jsxs("span",{className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors flex items-center gap-2",children:[s.jsx(Vd,{className:"w-5 h-5 fill-current"}),"Watch Now"]}),s.jsxs("div",{className:"ml-auto",children:[s.jsxs("span",{className:"text-3xl md:text-4xl font-bold text-white",children:["$",t.price]}),s.jsx("span",{className:"text-gray-400 ml-1",children:"AUD"})]})]})]})]})}):s.jsxs(ss,{to:`/live/${t.id}`,className:"group bg-dark-900 rounded-xl overflow-hidden border border-dark-800 hover:border-red-500/50 hover:shadow-lg hover:shadow-red-500/10 transition-all duration-300 ",children:[s.jsxs("div",{className:"relative aspect-video bg-dark-800 overflow-hidden",children:[t.thumbnail_url&&!n?s.jsx("img",{src:Uh(t.thumbnail_url),alt:t.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:()=>i(!0)}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-dark-800 to-dark-900",children:s.jsx(Vd,{className:"w-12 h-12 text-dark-600"})}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity transform scale-90 group-hover:scale-100",children:s.jsx("div",{className:"w-14 h-14 rounded-full bg-red-500/90 flex items-center justify-center",children:s.jsx(Vd,{className:"w-6 h-6 text-white fill-current ml-1"})})})}),c&&s.jsxs("div",{className:"absolute top-3 left-3 px-2.5 py-1 bg-red-500 text-white text-xs font-bold rounded-full flex items-center gap-1.5 shadow-lg",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),"LIVE"]}),u&&t.mux_playback_id&&s.jsx("div",{className:"absolute top-3 left-3 px-2.5 py-1 bg-green-600 text-white text-xs font-medium rounded-full shadow-lg",children:"Replay"}),l&&d&&s.jsx("div",{className:"absolute top-3 left-3 px-2.5 py-1 bg-amber-500 text-black text-xs font-bold rounded-full shadow-lg",children:"TODAY"}),l&&f&&s.jsx("div",{className:"absolute top-3 left-3 px-2.5 py-1 bg-blue-500 text-white text-xs font-bold rounded-full shadow-lg",children:"TOMORROW"}),s.jsxs("div",{className:"absolute bottom-3 right-3 px-2.5 py-1 bg-black/80 backdrop-blur-sm text-white font-bold text-sm rounded-lg",children:["$",t.price]}),s.jsx("div",{className:"absolute bottom-3 left-3 px-2.5 py-1 bg-dark-900/80 backdrop-blur-sm text-gray-300 text-xs font-medium rounded-lg truncate max-w-[60%]",children:t.org_display_name||t.organization})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-red-400 transition-colors line-clamp-1",children:t.title}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Cl,{className:"w-3.5 h-3.5"}),a.toLocaleDateString("en-AU",{day:"numeric",month:"short",timeZone:"UTC"})]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jf,{className:"w-3.5 h-3.5"}),a.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})]})]})]})]})}function a6e({event:t}){const[e,r]=T.useState(!1),n=new Date(t.start_time),i=t.status==="live"||t.is_live;return s.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[t.thumbnail_url&&!e?s.jsx("img",{src:Uh(t.thumbnail_url),alt:t.title,className:"w-full h-full object-cover scale-105",onError:()=>r(!0)}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-red-900 via-dark-900 to-black"}),s.jsx("div",{className:"absolute inset-0 bg-black/60"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/50"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-transparent to-black/70"})]}),s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-red-500/20 rounded-full blur-[150px] animate-pulse"})}),s.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto px-4 text-center",children:[i?s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-2 bg-red-500 text-white font-bold rounded-full mb-6 animate-pulse",children:[s.jsx("span",{className:"w-3 h-3 bg-white rounded-full animate-ping"}),"LIVE NOW"]}):s.jsx("div",{className:"inline-flex items-center gap-2 px-6 py-2 bg-white/10 backdrop-blur-sm text-white font-semibold rounded-full mb-6 border border-white/20",children:s.jsx("span",{className:"text-red-400",children:"NEXT EVENT"})}),s.jsx("p",{className:"text-red-400 font-bold text-lg md:text-xl mb-4 tracking-wide",children:t.org_display_name||t.organization}),s.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl xl:text-8xl font-black text-white mb-6 leading-tight",children:t.title}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 md:gap-8 text-gray-300 mb-10",children:[s.jsxs("span",{className:"flex items-center gap-2 text-lg",children:[s.jsx(Cl,{className:"w-5 h-5 text-red-400"}),n.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",timeZone:"UTC"})]}),s.jsxs("span",{className:"flex items-center gap-2 text-lg",children:[s.jsx(jf,{className:"w-5 h-5 text-red-400"}),n.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit",timeZone:"UTC"})]}),s.jsxs("span",{className:"flex items-center gap-2 text-lg",children:[s.jsx(pd,{className:"w-5 h-5 text-red-400"}),t.venue]})]}),!i&&s.jsx("div",{className:"mb-10",children:s.jsx(vie,{targetDate:t.start_time,large:!0})}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx(ss,{to:`/live/${t.id}`,className:"group px-10 py-4 bg-red-500 hover:bg-red-600 text-white font-bold text-xl rounded-xl transition-all hover:scale-105 hover:shadow-xl hover:shadow-red-500/30 flex items-center gap-3",children:i?s.jsxs(s.Fragment,{children:[s.jsx(Vd,{className:"w-6 h-6 fill-current"}),"Watch Live"]}):s.jsxs(s.Fragment,{children:[s.jsx(UT,{className:"w-6 h-6"}),"Get Tickets  $",t.price]})}),s.jsx("button",{onClick:()=>document.getElementById("upcoming-events")?.scrollIntoView({behavior:"smooth"}),className:"px-10 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-bold text-xl rounded-xl transition-all border border-white/20 hover:border-white/40",children:"View All Events"})]})]}),s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-8 h-12 rounded-full border-2 border-white/30 flex items-start justify-center p-2",children:s.jsx("div",{className:"w-1.5 h-3 bg-white/50 rounded-full animate-pulse"})})})]})}function o6e(){const t=[{icon:s.jsx(Up,{className:"w-8 h-8"}),title:"Multi-Camera Production",description:"Professional broadcast quality with multiple angles"},{icon:s.jsx(p1,{className:"w-8 h-8"}),title:"Watch Anywhere",description:"Stream on any device, anywhere in the world"},{icon:s.jsx(Kb,{className:"w-8 h-8"}),title:"Instant Replays",description:"Never miss a moment with on-demand access"},{icon:s.jsx(sh,{className:"w-8 h-8"}),title:"Premium Experience",description:"Commentary, graphics, and cinematic quality"}];return s.jsx("section",{className:"py-16 bg-gradient-to-b from-black to-dark-950",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8",children:t.map((e,r)=>s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-400 group-hover:bg-red-500/20 group-hover:scale-110 transition-all",children:e.icon}),s.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500",children:e.description})]},r))})})})}function l6e({organizations:t}){return!t||t.length===0?null:s.jsx("section",{className:"py-12 bg-dark-950 border-y border-dark-800",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("p",{className:"text-center text-gray-500 text-sm font-medium mb-8 tracking-wider uppercase",children:"Trusted by Leading Organizations"}),s.jsx("div",{className:"flex flex-wrap items-center justify-center gap-8 md:gap-12",children:t.map((e,r)=>s.jsx("div",{className:"flex items-center justify-center h-12 px-4 opacity-60 hover:opacity-100 transition-opacity grayscale hover:grayscale-0",children:e.logo_url?s.jsx("img",{src:Uh(e.logo_url),alt:e.name,className:"h-full w-auto object-contain"}):s.jsx("span",{className:"text-xl font-bold text-gray-400",children:e.name})},r))})]})})}function c6e(){const[t,e]=T.useState([]),[r,n]=T.useState([]),[i,a]=T.useState(!0),[o,c]=T.useState(null),[u,l]=T.useState(""),[d,f]=T.useState("all");T.useEffect(()=>{m(),p()},[]);const m=async()=>{try{const M=await z3e();e(M||[])}catch(M){c("Failed to load events"),console.error(M)}finally{a(!1)}},p=async()=>{try{const{data:M}=await jr.from("organizations").select("id, name, display_name, logo_url").eq("active",!0).order("name");n(M||[])}catch(M){console.error("Failed to load organizations:",M)}},g=T.useMemo(()=>{const M=new Map;return t.forEach(Y=>{const X=Y.org_display_name||Y.organization;X&&!M.has(X)&&M.set(X,{display:X,original:Y.organization})}),Array.from(M.keys()).sort()},[t]),x=T.useMemo(()=>{let M=t;if(d!=="all"&&(M=M.filter(Y=>(Y.org_display_name||Y.organization)===d)),u.trim()){const Y=u.toLowerCase();M=M.filter(X=>X.title?.toLowerCase().includes(Y)||X.organization?.toLowerCase().includes(Y)||X.org_display_name?.toLowerCase().includes(Y)||X.venue?.toLowerCase().includes(Y))}return M},[t,d,u]),y=new Date,w=x.filter(M=>M.status==="live"||M.is_live),E=x.filter(M=>new Date(M.start_time)>y&&M.status!=="ended"&&M.status!=="live"&&!M.is_live).sort((M,Y)=>new Date(M.start_time)-new Date(Y.start_time)),_=E.filter(M=>(new Date(M.start_time)-y)/36e5<=168),N=E.filter(M=>(new Date(M.start_time)-y)/36e5>168),C=x.filter(M=>M.status==="ended"||new Date(M.end_time)<y).sort((M,Y)=>new Date(Y.start_time)-new Date(M.start_time)),I=w[0]||E[0],D=u||d!=="all";return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-red-500 mx-auto mb-6"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading events..."})]})}):o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-500 mb-4 text-lg",children:o}),s.jsx("button",{onClick:m,className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors",children:"Try Again"})]})}):s.jsxs("div",{className:"min-h-screen bg-black",children:[I&&!D&&s.jsx(a6e,{event:I}),!D&&s.jsx(o6e,{}),!D&&s.jsx(l6e,{organizations:r}),s.jsxs("div",{id:"upcoming-events",className:"bg-dark-950",children:[s.jsx("div",{className:"sticky top-16 sm:top-20 z-20 bg-dark-950/95 backdrop-blur-md border-b border-dark-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{type:"text",placeholder:"Search events, organizations, venues...",value:u,onChange:M=>l(M.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"}),u&&s.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white transition-colors",children:s.jsx($0,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[s.jsx("button",{onClick:()=>f("all"),className:`flex-shrink-0 px-4 py-2 rounded-lg font-medium transition-all ${d==="all"?"bg-red-500 text-white":"bg-dark-800 text-gray-400 hover:bg-dark-700 hover:text-white"}`,children:"All Events"}),g.map(M=>s.jsx("button",{onClick:()=>f(M),className:`flex-shrink-0 px-4 py-2 rounded-lg font-medium transition-all ${d===M?"bg-red-500 text-white":"bg-dark-800 text-gray-400 hover:bg-dark-700 hover:text-white"}`,children:M},M))]}),s.jsxs(ss,{to:"/my-purchases",className:"flex-shrink-0 flex items-center justify-center gap-2 px-4 py-2 bg-dark-800 hover:bg-dark-700 text-white rounded-lg transition-colors",children:[s.jsx(UT,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"My Purchases"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[!D&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"Upcoming Events"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Don't miss the action  secure your tickets now"})]}),D&&s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-gray-400",children:[x.length," ",x.length===1?"event":"events"," found",u&&s.jsxs("span",{children:[' for "',u,'"']}),d!=="all"&&s.jsxs("span",{children:[" in ",d]})]})}),w.length>0&&s.jsxs("section",{className:"mb-10",children:[s.jsxs("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),"Live Now"]}),s.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:w.map(M=>s.jsx(SO,{event:M},M.id))})]}),_.length>0&&!D&&s.jsx(NI,{title:"This Week",events:_,icon:s.jsx(Cl,{className:"w-5 h-5 text-amber-500"})}),N.length>0&&!D&&s.jsx(NI,{title:"Coming Soon",events:N,icon:s.jsx(jf,{className:"w-5 h-5 text-blue-500"})}),D&&E.length>0&&s.jsxs("section",{className:"mb-10",children:[s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-4",children:"Upcoming Events"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(M=>s.jsx(SO,{event:M},M.id))})]}),C.filter(M=>M.mux_playback_id).length>0&&s.jsx(NI,{title:"Replays Available",events:C.filter(M=>M.mux_playback_id),icon:s.jsx(Vd,{className:"w-5 h-5 text-green-500"})}),x.length===0&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-dark-800 flex items-center justify-center mx-auto mb-4",children:s.jsx(FT,{className:"w-8 h-8 text-gray-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No events found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:u?`No events match "${u}"`:d!=="all"?`No events from ${d}`:"No events scheduled yet. Check back soon!"}),D&&s.jsx("button",{onClick:()=>{l(""),f("all")},className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Clear Filters"})]})]})]}),!D&&s.jsx("section",{className:"py-20 bg-gradient-to-b from-dark-950 to-black",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Want Your Event Livestreamed?"}),s.jsx("p",{className:"text-xl text-gray-400 mb-8",children:"Professional multi-camera production with global reach. Let's talk."}),s.jsxs(ss,{to:"/work-with-us",className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-black font-bold text-lg rounded-xl hover:bg-gray-100 transition-all hover:scale-105",children:["Work With Us",s.jsx(gx,{className:"w-5 h-5"})]})]})})]})}const u6e=()=>{let t=localStorage.getItem("ffm_session_id");return t||(t="sess_"+Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("ffm_session_id",t)),t},Fx=async(t,e=null,r={})=>{try{await jr.from("livestream_analytics").insert({event_type:t,event_id:e,session_id:u6e(),device_type:/mobile/i.test(navigator.userAgent)?"mobile":/tablet|ipad/i.test(navigator.userAgent)?"tablet":"desktop",user_agent:navigator.userAgent?.substring(0,500),...r,created_at:new Date().toISOString()})}catch(n){console.warn("Analytics tracking failed:",n.message)}},d6e=t=>Fx("page_view",t),h6e=t=>Fx("geo_check",t),f6e=(t,e,r,n,i,a,o,c)=>Fx("geo_blocked",t,{blocked_distance_km:e,venue_lat:r,venue_lng:n,block_radius_km:i,latitude:a,longitude:o,accuracy_meters:c}),m6e=(t,e,r,n)=>Fx("geo_passed",t,{latitude:e,longitude:r,accuracy_meters:n}),kK=t=>Fx("purchase_view",t),A6e=(t,e)=>Fx("checkout_start",t,{customer_email:e}),p6e=(t,e,r)=>Fx("purchase_complete",t,{customer_email:e,customer_id:r});function g6e(t){if(!t||typeof t!="string")return null;const e=t.toLowerCase().trim();return e.length<5||e.length>254||!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)||/<[^>]*>/.test(e)?null:e}const kI=new Map;function v6e(t,e=5,r=6e4){const n=Date.now(),i=kI.get(t);return i?n-i.start>r?(kI.set(t,{count:1,start:n}),{allowed:!0,remaining:e-1}):i.count>=e?{allowed:!1,remaining:0,waitSeconds:Math.ceil((i.start+r-n)/1e3)}:(i.count++,{allowed:!0,remaining:e-i.count}):(kI.set(t,{count:1,start:n}),{allowed:!0,remaining:e-1})}function xie({targetDate:t,onComplete:e,className:r=""}){const n=m=>{if(!m)return new Date;const p=m.replace(/[Z+].*$/,"").replace(/\.000$/,"");return new Date(p)},i=()=>{const m=n(t)-new Date;return m<=0?null:{days:Math.floor(m/864e5),hours:Math.floor(m/36e5%24),minutes:Math.floor(m/1e3/60%60),seconds:Math.floor(m/1e3%60)}},[a,o]=T.useState(i()),[c,u]=T.useState(null),l=T.useRef(!1);if(T.useEffect(()=>{l.current=!1;const m=setInterval(()=>{const p=i();u(a),o(p),!p&&e&&!l.current&&(l.current=!0,e())},1e3);return()=>clearInterval(m)},[t]),!a)return s.jsx("div",{className:`text-center ${r}`,children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white font-bold rounded-full animate-pulse",children:[s.jsx("span",{className:"w-3 h-3 bg-white rounded-full animate-ping"}),"Event Starting Now"]})});const d=({value:m,label:p,prevValue:g})=>{const x=g!==void 0&&g!==m;return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative w-12 h-14 sm:w-16 sm:h-20 md:w-24 md:h-28 perspective-1000",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-dark-700 to-dark-800 rounded-lg shadow-xl border border-dark-600",children:s.jsx("div",{className:"absolute top-1/2 left-0 right-0 h-px bg-dark-900/50"})}),s.jsx("div",{className:`relative z-10 w-full h-full flex items-center justify-center ${x?"animate-flip":""}`,children:s.jsx("span",{className:"text-xl sm:text-3xl md:text-5xl font-bold text-white tabular-nums tracking-tight",children:String(m).padStart(2,"0")})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent rounded-lg pointer-events-none"})]})}),s.jsx("span",{className:"text-[9px] sm:text-xs md:text-sm text-gray-500 mt-1 sm:mt-2 uppercase tracking-normal sm:tracking-widest font-medium",children:p})]})},f=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 sm:gap-2 px-0.5 sm:px-1 md:px-3 h-14 sm:h-20 md:h-28",children:[s.jsx("div",{className:"w-1 h-1 sm:w-2 sm:h-2 rounded-full bg-red-500 animate-pulse"}),s.jsx("div",{className:"w-1 h-1 sm:w-2 sm:h-2 rounded-full bg-red-500 animate-pulse",style:{animationDelay:"0.5s"}})]});return s.jsxs("div",{className:`${r} overflow-x-hidden`,children:[s.jsx("p",{className:"text-center text-gray-400 mb-4 text-sm uppercase tracking-widest font-medium",children:" Event Starts In"}),s.jsxs("div",{className:"flex items-start justify-center overflow-x-hidden",children:[a.days>0&&s.jsxs(s.Fragment,{children:[s.jsx(d,{value:a.days,label:"Days",prevValue:c?.days}),s.jsx(f,{})]}),s.jsx(d,{value:a.hours,label:"Hours",prevValue:c?.hours}),s.jsx(f,{}),s.jsx(d,{value:a.minutes,label:"Mins",prevValue:c?.minutes}),s.jsx(f,{}),s.jsx(d,{value:a.seconds,label:"Secs",prevValue:c?.seconds})]}),a.days===0&&a.hours<2&&s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-red-500/10 border border-red-500/20 rounded-full text-red-400 text-sm",children:[s.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"Starting soon  Don't miss it!"]})})]})}function x6e({price:t,originalPrice:e=null,currency:r="AUD",email:n,onEmailChange:i,onPurchase:a,purchasing:o=!1,error:c=null,demoMode:u=!1,isLive:l=!1,isPast:d=!1,isVod:f=!1,vodExpired:m=!1,className:p=""}){const[g,x]=T.useState(!1),y=e?Math.round((1-t/e)*100):null,_=f?[{icon:jhe,text:"Instant access to full replay",highlight:!0},{icon:Fp,text:"Watch anytime, any device",highlight:!0},{icon:xx,text:"HD quality streaming",highlight:!0},{icon:I0,text:"Secure payment via Stripe",highlight:!0}]:[{icon:Kb,text:"Instant access after payment",highlight:!0},{icon:Vd,text:"Watch live + replay for 7 days",highlight:!0},{icon:xx,text:"HD quality streaming",highlight:!0},{icon:I0,text:"Secure payment via Stripe",highlight:!0}];return m?s.jsxs("div",{className:`relative ${p}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-500/10 to-gray-500/10 blur-xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/90 backdrop-blur-xl border border-dark-700/50 rounded-2xl overflow-hidden p-8 text-center",children:[s.jsx(Fp,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Replay No Longer Available"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"The VOD replay for this event has expired."})]})]}):d&&!f?s.jsxs("div",{className:`relative ${p}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-500/10 to-gray-500/10 blur-xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/90 backdrop-blur-xl border border-dark-700/50 rounded-2xl overflow-hidden p-8 text-center",children:[s.jsx(Vd,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Event Has Ended"}),s.jsx("p",{className:"text-gray-400",children:"This event has concluded and replay is not available."})]})]}):s.jsxs("div",{className:`relative ${p}`,children:[s.jsx("div",{className:`absolute inset-0 blur-xl rounded-3xl ${f?"bg-gradient-to-r from-blue-500/20 to-purple-500/20":"bg-gradient-to-r from-red-500/20 to-orange-500/20"}`}),s.jsxs("div",{className:"relative bg-dark-900/90 backdrop-blur-xl border border-dark-700/50 rounded-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-dark-800 to-dark-800/50 px-6 py-4 border-b border-dark-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400 font-medium flex items-center gap-2",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Fp,{className:"w-4 h-4 text-blue-400"}),"VOD Replay"]}):"Stream Access"}),f&&s.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs font-bold rounded-full",children:"REPLAY"}),y&&!f&&s.jsxs("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs font-bold rounded-full",children:[y,"% OFF"]})]}),s.jsxs("div",{className:"mt-2 flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-4xl font-bold text-white",children:["$",t]}),s.jsx("span",{className:"text-lg text-gray-500",children:r}),e&&s.jsxs("span",{className:"text-lg text-gray-600 line-through",children:["$",e]})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),s.jsxs("div",{className:`relative transition-all duration-300 ${g?"scale-[1.02]":""}`,children:[s.jsx(nu,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 transition-colors ${g?"text-red-500":"text-gray-500"}`}),s.jsx("input",{type:"email",value:n,onChange:N=>i(N.target.value),onFocus:()=>x(!0),onBlur:()=>x(!1),placeholder:"your@email.com",className:`w-full pl-12 pr-4 py-4 bg-dark-800/50 border rounded-xl text-white placeholder-gray-500 outline-none transition-all duration-300 ${g?"border-red-500 ring-2 ring-red-500/20":"border-dark-700 hover:border-dark-600"}`,required:!0})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[s.jsx(Qb,{className:"w-3 h-3"}),"Your access link will be sent here"]})]}),c&&s.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:s.jsx("p",{className:"text-red-400 text-sm",children:c})}),s.jsx("button",{onClick:a,disabled:o||!n,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3 ${o||!n?"bg-dark-700 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg shadow-red-500/25 hover:shadow-red-500/40 hover:scale-[1.02] active:scale-[0.98]"}`,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[f?s.jsx(Fp,{className:"w-5 h-5"}):s.jsx(Bhe,{className:"w-5 h-5"}),f?"Buy Replay Access":d?"Event Ended":l?"Watch Now":"Buy Access"]})}),s.jsx("div",{className:"mt-6 space-y-3",children:_.map((N,C)=>s.jsxs("div",{className:`flex items-center gap-3 text-sm ${N.highlight?"text-white":"text-gray-400"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center ${N.highlight?"bg-green-500/20 text-green-400":"bg-dark-700 text-gray-500"}`,children:s.jsx(to,{className:"w-3 h-3"})}),N.text]},C))}),u&&s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:a,disabled:o||!n,className:"w-full py-3 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-500/30 text-yellow-400 font-semibold rounded-xl hover:from-yellow-500/30 hover:to-orange-500/30 transition-all duration-300 flex items-center justify-center gap-2",children:[s.jsx(Kb,{className:"w-4 h-4"}),"Demo Mode  No payment required"]})})]}),s.jsx("div",{className:"px-6 py-4 bg-dark-800/30 border-t border-dark-700/30",children:s.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Qb,{className:"w-3 h-3"}),"SSL Secured"]}),s.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(I0,{className:"w-3 h-3"}),"Stripe Payments"]}),s.jsx("div",{className:"w-1 h-1 bg-gray-600 rounded-full"}),s.jsx("span",{children:" Australian Business"})]})})]})]})}function y6e({url:t,title:e,description:r,className:n=""}){const[i,a]=T.useState(!1),[o,c]=T.useState(!1),u=t||window.location.href,l=e||document.title,d=r||"",f={twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(l)}&url=${encodeURIComponent(u)}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(u)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(l+" "+u)}`},m=async()=>{try{await navigator.clipboard.writeText(u),a(!0),setTimeout(()=>a(!1),2e3)}catch(g){console.error("Failed to copy:",g)}},p=async()=>{if(navigator.share)try{await navigator.share({title:l,text:d,url:u})}catch{c(!0)}else c(!o)};return s.jsxs("div",{className:`relative ${n}`,children:[s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-dark-800 hover:bg-dark-700 border border-dark-700 rounded-lg text-gray-300 hover:text-white transition-colors",children:[s.jsx(bq,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Share Event"})]}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-dark-800 border border-dark-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[s.jsxs("a",{href:f.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>c(!1),children:[s.jsx(ame,{className:"w-4 h-4 text-[#1DA1F2]"}),s.jsx("span",{className:"text-sm",children:"Twitter"})]}),s.jsxs("a",{href:f.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>c(!1),children:[s.jsx(M2,{className:"w-4 h-4 text-[#4267B2]"}),s.jsx("span",{className:"text-sm",children:"Facebook"})]}),s.jsxs("a",{href:f.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>c(!1),children:[s.jsx(pfe,{className:"w-4 h-4 text-[#25D366]"}),s.jsx("span",{className:"text-sm",children:"WhatsApp"})]}),s.jsxs("button",{onClick:()=>{m(),c(!1)},className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors w-full border-t border-dark-700",children:[s.jsx(gq,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:i?"Copied!":"Copy Link"})]})]})]})]})}function b6e({title:t,description:e,image:r,url:n,type:i="website"}){return T.useEffect(()=>{t&&(document.title=`${t} | Fit Focus Media`);const a=(o,c)=>{if(!c)return;let u=document.querySelector(`meta[property="${o}"]`)||document.querySelector(`meta[name="${o}"]`);u||(u=document.createElement("meta"),o.startsWith("og:")||o.startsWith("twitter:")?u.setAttribute("property",o):u.setAttribute("name",o),document.head.appendChild(u)),u.setAttribute("content",c)};return a("og:title",t),a("og:description",e),a("og:image",r),a("og:url",n||window.location.href),a("og:type",i),a("twitter:card","summary_large_image"),a("twitter:title",t),a("twitter:description",e),a("twitter:image",r),a("description",e),()=>{document.title="Fit Focus Media"}},[t,e,r,n,i]),null}function w6e({event:t,className:e=""}){const[r,n]=T.useState(!1);if(!t)return null;const i=new Date(t.start_time),a=t.end_time?new Date(t.end_time):new Date(i.getTime()+10800*1e3),o=g=>g.toISOString().replace(/-|:|\.\d+/g,""),c=g=>g.toISOString().replace(/-|:|\.\d+/g,"").slice(0,15)+"Z",u=encodeURIComponent(t.title),l=encodeURIComponent(`${t.org_display_name||t.organization}

Watch live at: https://fitfocusmedia.com.au/#/live/${t.id}`),d=encodeURIComponent(t.venue||"Online"),f=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${u}&dates=${o(i)}/${o(a)}&details=${l}&location=${d}`,m=`https://outlook.live.com/calendar/0/deeplink/compose?subject=${u}&startdt=${i.toISOString()}&enddt=${a.toISOString()}&body=${l}&location=${d}`,p=()=>{const g=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Fit Focus Media//Livestream//EN
BEGIN:VEVENT
UID:${t.id}@fitfocusmedia.com.au
DTSTAMP:${c(new Date)}
DTSTART:${c(i)}
DTEND:${c(a)}
SUMMARY:${t.title}
DESCRIPTION:${t.org_display_name||t.organization}\\n\\nWatch live at: https://fitfocusmedia.com.au/#/live/${t.id}
LOCATION:${t.venue||"Online"}
END:VEVENT
END:VCALENDAR`,x=new Blob([g],{type:"text/calendar;charset=utf-8"}),y=URL.createObjectURL(x),w=document.createElement("a");w.href=y,w.download=`${t.title.replace(/[^a-z0-9]/gi,"_")}.ics`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(y),n(!1)};return s.jsxs("div",{className:`relative ${e}`,children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-dark-800 hover:bg-dark-700 border border-dark-700 rounded-lg text-gray-300 hover:text-white transition-colors",title:"Add to Calendar",children:[s.jsx(Cl,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Add to Calendar"}),s.jsx(px,{className:`w-4 h-4 flex-shrink-0 transition-transform ${r?"rotate-180":""}`})]}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),s.jsxs("div",{className:"absolute left-0 sm:right-0 sm:left-auto mt-2 w-48 bg-dark-800 border border-dark-700 rounded-lg shadow-xl z-50 overflow-hidden",children:[s.jsxs("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>n(!1),children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm",children:"Google Calendar"})]}),s.jsxs("button",{onClick:p,className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors w-full",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm",children:"Apple Calendar"})]}),s.jsxs("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-4 py-3 hover:bg-dark-700 text-gray-300 hover:text-white transition-colors",onClick:()=>n(!1),children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"text-sm",children:"Outlook"})]})]})]})]})}function E6e(){const{eventId:t}=Lf(),[e]=W0(),[r,n]=T.useState(null),[i,a]=T.useState({demo_mode:!1}),[o,c]=T.useState(""),[u,l]=T.useState(!0),[d,f]=T.useState(!1),[m,p]=T.useState(null),[g,x]=T.useState(null),[y,w]=T.useState(null),[E,_]=T.useState(!1),[N,C]=T.useState(!1),[I,D]=T.useState(!1),[M,Y]=T.useState(!1),[X,te]=T.useState(null),[de,ye]=T.useState(!1),we=T.useRef({pageView:!1,geoCheck:!1,purchaseView:!1});T.useEffect(()=>{oe(),we.current.pageView||(d6e(t),we.current.pageView=!0)},[t]),T.useEffect(()=>{r&&r.geo_blocking_enabled?ve():r&&!r.geo_blocking_enabled&&(Y(!0),we.current.purchaseView||(kK(t),we.current.purchaseView=!0))},[r]);const ve=async()=>{try{const Ue=await navigator.permissions.query({name:"geolocation"});Ue.state==="granted"?ne():Ue.state==="denied"?(D(!0),Y(!0)):C(!0)}catch{C(!0)}},ne=()=>{_(!0),C(!1),we.current.geoCheck||(h6e(t),we.current.geoCheck=!0),navigator.geolocation.getCurrentPosition(async Ue=>{const He=Ue.coords.latitude,Ye=Ue.coords.longitude,Se=Ue.coords.accuracy;try{const mt=e.get("bypass"),Tt=await(await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/geo-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venue_lat:r.geo_lat,venue_lng:r.geo_lng,radius_km:r.geo_radius_km||50,user_lat:He,user_lng:Ye,event_id:t,bypass_token:mt})})).json();Tt.bypass?(x(!1),w({...Tt,crew_bypass:!0})):(x(Tt.blocked),w(Tt)),te({lat:He,lng:Ye,distance_km:Tt.distance_km,accuracy_meters:Se}),Tt.blocked?f6e(t,Tt.distance_km,r.geo_lat,r.geo_lng,r.geo_radius_km,He,Ye,Se):(m6e(t,He,Ye,Se),we.current.purchaseView||(kK(t),we.current.purchaseView=!0))}catch(mt){console.error("Geo check failed:",mt),x(!1),te({lat:He,lng:Ye})}finally{_(!1),Y(!0)}},Ue=>{console.error("Geolocation error:",Ue),Ue.code===Ue.PERMISSION_DENIED&&D(!0),_(!1),Y(!0)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},ae=()=>{ne()},oe=async()=>{try{const[Ue,He]=await Promise.all([gO(t),Pne()]);n(Ue),a(He||{demo_mode:!1})}catch(Ue){p("Event not found"),console.error(Ue)}finally{l(!1)}},Re=async Ue=>{Ue&&Ue.preventDefault();const He=g6e(o);if(!He){p("Please enter a valid email address");return}const Ye=v6e(`checkout:${He}`,3,6e4);if(!Ye.allowed){p(`Too many attempts. Please wait ${Ye.waitSeconds} seconds.`);return}f(!0),p(null),A6e(t,He);try{const Se="https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/livestream_checkout",mt=r.end_time?new Date(r.end_time):null,qe=new Date(r.start_time),Tt=new Date(qe.getTime()+480*60*1e3),gt=(mt?new Date>mt:new Date>Tt)&&r.vod_enabled&&r.vod_playback_id,wt=await fetch(Se,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event_id:t,email:He,buyer_lat:X?.lat,buyer_lng:X?.lng,distance_from_venue_km:X?.distance_km,is_vod_purchase:gt})}),rr=await wt.json();if(!wt.ok)throw new Error(rr.error||`Checkout failed (${wt.status})`);if(rr.demo&&rr.redirect)window.location.href=rr.redirect;else if(rr.url)window.location.href=rr.url;else throw new Error(rr.error||"Checkout failed")}catch(Se){console.error("Checkout error:",Se),p("Unable to process your request. Please try again or contact support.")}finally{f(!1)}};if(u)return s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-dark-700 border-t-red-500 mx-auto"}),s.jsx(nm,{className:"absolute inset-0 m-auto w-6 h-6 text-red-500 animate-pulse"})]}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Loading event..."})]})});if(m&&!r)return s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(RB,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-400",children:m})]})});if(N&&r?.geo_blocking_enabled)return s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/20 to-orange-500/20 blur-2xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-500/20 to-orange-500/20 flex items-center justify-center",children:s.jsx(wfe,{className:"w-10 h-10 text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Location Verification"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"To protect ticket sales at the venue, we verify your location before streaming."}),s.jsxs("p",{className:"text-gray-500 text-sm mb-6",children:["Online streaming is restricted within ",r.geo_radius_km||50,"km of ",r.venue,"."]}),s.jsxs("label",{className:"flex items-start gap-3 text-left mb-6 cursor-pointer group",children:[s.jsx("div",{className:"relative mt-1",children:s.jsx("input",{type:"checkbox",checked:de,onChange:Ue=>ye(Ue.target.checked),className:"w-5 h-5 rounded border-dark-600 bg-dark-800 text-red-500 focus:ring-red-500 focus:ring-offset-dark-900 cursor-pointer"})}),s.jsxs("span",{className:"text-gray-400 text-sm group-hover:text-gray-300 transition-colors",children:["I agree to the"," ",s.jsx("a",{href:"/#/privacy",target:"_blank",className:"text-red-500 hover:text-red-400 underline",children:"Privacy Policy"})," ","and"," ",s.jsx("a",{href:"/#/terms",target:"_blank",className:"text-red-500 hover:text-red-400 underline",children:"Terms of Service"})]})]}),s.jsxs("button",{onClick:ae,disabled:!de,className:"w-full py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:from-dark-700 disabled:to-dark-700 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-all duration-300 flex items-center justify-center gap-2 shadow-lg shadow-red-500/25 disabled:shadow-none",children:[s.jsx(pd,{className:"w-5 h-5"}),"Enable Location Access"]}),s.jsx("p",{className:"text-gray-600 text-xs mt-4",children:'Click "Allow" when your browser asks for permission'})]})]})});if(I&&r?.geo_blocking_enabled)return s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 p-8 text-center",children:[s.jsx(RB,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Location Access Blocked"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Location access is required to verify you're not at the venue."}),s.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 mb-6 text-left border border-dark-700/50",children:[s.jsx("p",{className:"text-white font-semibold mb-2",children:"To enable location:"}),s.jsxs("ol",{className:"text-gray-400 text-sm space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:"1."}),"Click the  icon in your address bar"]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:"2."}),'Find "Location" and change it to "Allow"']}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-red-500 font-bold",children:"3."}),"Click the button below to try again"]})]})]}),s.jsx("button",{onClick:()=>{D(!1),C(!0)},className:"w-full py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg shadow-red-500/25",children:"Try Again"})]})});if(E)return s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-dark-700 border-t-red-500 mx-auto"}),s.jsx(pd,{className:"absolute inset-0 m-auto w-6 h-6 text-red-500"})]}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Verifying your location..."}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This only takes a moment"})]})});if(g)return s.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 blur-2xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:s.jsx(pd,{className:"w-10 h-10 text-yellow-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"You're Close to the Venue!"}),s.jsxs("p",{className:"text-gray-400 mb-4",children:["Online streaming is not available within ",r.geo_radius_km||50,"km of the venue."]}),y?.user_location&&s.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Distance from venue: ",s.jsxs("span",{className:"text-white font-semibold",children:[y.distance_km,"km"]})]}),s.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 mb-6 border border-dark-700/50",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Great news  watch live in person!"}),s.jsx("p",{className:"text-white font-semibold",children:r.venue})]}),r.ticket_url?s.jsxs("a",{href:r.ticket_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg shadow-red-500/25",children:[s.jsx(Vd,{className:"w-5 h-5"}),"Get Tickets"]}):s.jsx("p",{className:"text-gray-500",children:"Contact the venue for ticket information."})]})]})});const Pe=Ue=>{if(!Ue)return new Date;const He=Ue.replace(/[Z+].*$/,"").replace(/\.000$/,"");return new Date(He)},be=Pe(r.start_time),he=r.is_live||r.status==="live",Ie=r.end_time?Pe(r.end_time):null,Oe=new Date(be.getTime()+480*60*1e3),$e=r.status==="ended"||(Ie?Ie<new Date:Oe<new Date),De=$e&&r.vod_enabled&&r.vod_playback_id,ct=r.vod_available_until&&new Date(r.vod_available_until)<new Date,pt=r.vod_price||r.price;return s.jsxs(s.Fragment,{children:[s.jsx(b6e,{title:`${r.title} - ${r.org_display_name||r.organization}`,description:`Watch ${r.title} live! ${be.toLocaleDateString("en-AU")} at ${r.venue}. Stream access $${r.price} AUD.`,image:Uh(r.thumbnail_url),type:"video.other"}),s.jsx("div",{className:"py-12 md:py-16 px-4",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6 lg:gap-12",children:[s.jsxs("div",{className:"col-span-1 lg:col-span-3 space-y-6",children:[s.jsxs("div",{className:"relative w-full aspect-video bg-dark-800 rounded-2xl overflow-hidden group",children:[r.thumbnail_url?s.jsx("img",{src:Uh(r.thumbnail_url),alt:r.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-dark-800 to-dark-900",children:s.jsx("span",{className:"text-8xl",children:""})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 via-transparent to-transparent opacity-60"}),he&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs("div",{className:"px-4 py-2 bg-red-500 text-white font-bold rounded-full flex items-center gap-2 shadow-lg shadow-red-500/50",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE NOW"]})}),s.jsx("div",{className:"absolute bottom-4 left-4",children:s.jsx("span",{className:"px-3 py-1 bg-dark-900/80 backdrop-blur-sm text-white text-sm font-medium rounded-full border border-dark-700/50",children:r.org_display_name||r.organization})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-2",children:r.title}),s.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[s.jsx(sh,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:r.org_display_name||r.organization}),y?.crew_bypass&&s.jsx("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs font-medium rounded-full",children:"Crew Access"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(w6e,{event:r}),s.jsx(y6e,{title:`Watch ${r.title} Live!`,description:`${r.org_display_name||r.organization} - ${be.toLocaleDateString("en-AU")}`})]})]}),!he&&!$e&&s.jsx("div",{className:"p-6 md:p-8 bg-dark-800/30 rounded-2xl border border-dark-700/50 backdrop-blur-sm",children:s.jsx(xie,{targetDate:r.start_time,onComplete:()=>oe()})}),s.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-dark-800/30 rounded-xl border border-dark-700/30",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center",children:s.jsx(Cl,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Date"}),s.jsx("p",{className:"text-white font-medium",children:be.toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-dark-800/30 rounded-xl border border-dark-700/30",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center",children:s.jsx(jf,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Time"}),s.jsxs("p",{className:"text-white font-medium",children:[be.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})," AEST"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-dark-800/30 rounded-xl border border-dark-700/30 sm:col-span-1",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-500/10 flex items-center justify-center",children:s.jsx(pd,{className:"w-6 h-6 text-red-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Venue"}),s.jsx("p",{className:"text-white font-medium",children:r.venue})]})]})]}),r.description&&s.jsxs("div",{className:"p-6 bg-dark-800/20 rounded-2xl border border-dark-700/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(xx,{className:"w-5 h-5 text-red-500"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"About This Event"})]}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:r.description})]})]}),s.jsx("div",{className:"col-span-1 lg:col-span-2",children:s.jsx("div",{className:"lg:sticky lg:top-24",children:s.jsx(x6e,{price:De?pt:r.price,currency:"AUD",email:o,onEmailChange:c,onPurchase:Re,purchasing:d,error:m,demoMode:i.demo_mode,isLive:he,isPast:$e,isVod:De&&!ct,vodExpired:ct})})})]})})})]})}var _6e=Object.create,yie=Object.defineProperty,S6e=Object.getOwnPropertyDescriptor,j6e=Object.getOwnPropertyNames,T6e=Object.getPrototypeOf,C6e=Object.prototype.hasOwnProperty,bie=function(t,e){return function(){return t&&(e=t(t=0)),e}},qh=function(t,e){return function(){return e||t((e={exports:{}}).exports,e),e.exports}},N6e=function(t,e,r,n){if(e&&typeof e=="object"||typeof e=="function")for(var i=j6e(e),a=0,o=i.length,c;a<o;a++)c=i[a],!C6e.call(t,c)&&c!==r&&yie(t,c,{get:(function(u){return e[u]}).bind(null,c),enumerable:!(n=S6e(e,c))||n.enumerable});return t},lm=function(t,e,r){return r=t!=null?_6e(T6e(t)):{},N6e(!t||!t.__esModule?yie(r,"default",{value:t,enumerable:!0}):r,t)},rp=qh(function(t,e){var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r={},e.exports=r});function Ux(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):Ux(t,e)}var $x=bie(function(){$x()});function wie(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}var Eie=bie(function(){}),_ie=qh(function(t,e){var r=Array.prototype.slice;e.exports=n;function n(i,a){for(("length"in i)||(i=[i]),i=r.call(i);i.length;){var o=i.shift(),c=a(o);if(c)return c;o.childNodes&&o.childNodes.length&&(i=r.call(o.childNodes).concat(i))}}}),k6e=qh(function(t,e){$x(),e.exports=r;function r(n,i){if(!Ux(this,r))return new r(n,i);this.data=n,this.nodeValue=n,this.length=n.length,this.ownerDocument=i||null}r.prototype.nodeType=8,r.prototype.nodeName="#comment",r.prototype.toString=function(){return"[object Comment]"}}),L6e=qh(function(t,e){$x(),e.exports=r;function r(n,i){if(!Ux(this,r))return new r(n);this.data=n||"",this.length=this.data.length,this.ownerDocument=i||null}r.prototype.type="DOMTextNode",r.prototype.nodeType=3,r.prototype.nodeName="#text",r.prototype.toString=function(){return this.data},r.prototype.replaceData=function(n,i,a){var o=this.data,c=o.substring(0,n),u=o.substring(n+i,o.length);this.data=c+a+u,this.length=this.data.length}}),Sie=qh(function(t,e){e.exports=r;function r(n){var i=this,a=n.type;n.target||(n.target=i),i.listeners||(i.listeners={});var o=i.listeners[a];if(o)return o.forEach(function(c){n.currentTarget=i,typeof c=="function"?c(n):c.handleEvent(n)});i.parentNode&&i.parentNode.dispatchEvent(n)}}),jie=qh(function(t,e){e.exports=r;function r(n,i){var a=this;a.listeners||(a.listeners={}),a.listeners[n]||(a.listeners[n]=[]),a.listeners[n].indexOf(i)===-1&&a.listeners[n].push(i)}}),Tie=qh(function(t,e){e.exports=r;function r(n,i){var a=this;if(a.listeners&&a.listeners[n]){var o=a.listeners[n],c=o.indexOf(i);c!==-1&&o.splice(c,1)}}}),I6e=qh(function(t,e){Eie(),e.exports=n;var r=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"];function n(m){switch(m.nodeType){case 3:return d(m.data);case 8:return"<!--"+m.data+"-->";default:return i(m)}}function i(m){var p=[],g=m.tagName;return m.namespaceURI==="http://www.w3.org/1999/xhtml"&&(g=g.toLowerCase()),p.push("<"+g+l(m)+c(m)),r.indexOf(g)>-1?p.push(" />"):(p.push(">"),m.childNodes.length?p.push.apply(p,m.childNodes.map(n)):m.textContent||m.innerText?p.push(d(m.textContent||m.innerText)):m.innerHTML&&p.push(m.innerHTML),p.push("</"+g+">")),p.join("")}function a(m,p){var g=wie(m[p]);return p==="style"&&Object.keys(m.style).length>0?!0:m.hasOwnProperty(p)&&(g==="string"||g==="boolean"||g==="number")&&p!=="nodeName"&&p!=="className"&&p!=="tagName"&&p!=="textContent"&&p!=="innerText"&&p!=="namespaceURI"&&p!=="innerHTML"}function o(m){if(typeof m=="string")return m;var p="";return Object.keys(m).forEach(function(g){var x=m[g];g=g.replace(/[A-Z]/g,function(y){return"-"+y.toLowerCase()}),p+=g+":"+x+";"}),p}function c(m){var p=m.dataset,g=[];for(var x in p)g.push({name:"data-"+x,value:p[x]});return g.length?u(g):""}function u(m){var p=[];return m.forEach(function(g){var x=g.name,y=g.value;x==="style"&&(y=o(y)),p.push(x+'="'+f(y)+'"')}),p.length?" "+p.join(" "):""}function l(m){var p=[];for(var g in m)a(m,g)&&p.push({name:g,value:m[g]});for(var x in m._attributes)for(var y in m._attributes[x]){var w=m._attributes[x][y],E=(w.prefix?w.prefix+":":"")+y;p.push({name:E,value:w.value})}return m.className&&p.push({name:"class",value:m.className}),p.length?u(p):""}function d(m){var p="";return typeof m=="string"?p=m:m&&(p=m.toString()),p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(m){return d(m).replace(/"/g,"&quot;")}}),Cie=qh(function(t,e){$x();var r=_ie(),n=Sie(),i=jie(),a=Tie(),o=I6e(),c="http://www.w3.org/1999/xhtml";e.exports=u;function u(l,d,f){if(!Ux(this,u))return new u(l);var m=f===void 0?c:f||null;this.tagName=m===c?String(l).toUpperCase():l,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=d||null,this.namespaceURI=m,this._attributes={},this.tagName==="INPUT"&&(this.type="text")}u.prototype.type="DOMElement",u.prototype.nodeType=1,u.prototype.appendChild=function(l){return l.parentNode&&l.parentNode.removeChild(l),this.childNodes.push(l),l.parentNode=this,l},u.prototype.replaceChild=function(l,d){l.parentNode&&l.parentNode.removeChild(l);var f=this.childNodes.indexOf(d);return d.parentNode=null,this.childNodes[f]=l,l.parentNode=this,d},u.prototype.removeChild=function(l){var d=this.childNodes.indexOf(l);return this.childNodes.splice(d,1),l.parentNode=null,l},u.prototype.insertBefore=function(l,d){l.parentNode&&l.parentNode.removeChild(l);var f=d==null?-1:this.childNodes.indexOf(d);return f>-1?this.childNodes.splice(f,0,l):this.childNodes.push(l),l.parentNode=this,l},u.prototype.setAttributeNS=function(l,d,f){var m=null,p=d,g=d.indexOf(":");if(g>-1&&(m=d.substr(0,g),p=d.substr(g+1)),this.tagName==="INPUT"&&d==="type")this.type=f;else{var x=this._attributes[l]||(this._attributes[l]={});x[p]={value:f,prefix:m}}},u.prototype.getAttributeNS=function(l,d){var f=this._attributes[l],m=f&&f[d]&&f[d].value;return this.tagName==="INPUT"&&d==="type"?this.type:typeof m!="string"?null:m},u.prototype.removeAttributeNS=function(l,d){var f=this._attributes[l];f&&delete f[d]},u.prototype.hasAttributeNS=function(l,d){var f=this._attributes[l];return!!f&&d in f},u.prototype.setAttribute=function(l,d){return this.setAttributeNS(null,l,d)},u.prototype.getAttribute=function(l){return this.getAttributeNS(null,l)},u.prototype.removeAttribute=function(l){return this.removeAttributeNS(null,l)},u.prototype.hasAttribute=function(l){return this.hasAttributeNS(null,l)},u.prototype.removeEventListener=a,u.prototype.addEventListener=i,u.prototype.dispatchEvent=n,u.prototype.focus=function(){},u.prototype.toString=function(){return o(this)},u.prototype.getElementsByClassName=function(l){var d=l.split(" "),f=[];return r(this,function(m){if(m.nodeType===1){var p=m.className||"",g=p.split(" ");d.every(function(x){return g.indexOf(x)!==-1})&&f.push(m)}}),f},u.prototype.getElementsByTagName=function(l){l=l.toLowerCase();var d=[];return r(this.childNodes,function(f){f.nodeType===1&&(l==="*"||f.tagName.toLowerCase()===l)&&d.push(f)}),d},u.prototype.contains=function(l){return r(this,function(d){return l===d})||!1}}),B6e=qh(function(t,e){$x();var r=Cie();e.exports=n;function n(i){if(!Ux(this,n))return new n;this.childNodes=[],this.parentNode=null,this.ownerDocument=i||null}n.prototype.type="DocumentFragment",n.prototype.nodeType=11,n.prototype.nodeName="#document-fragment",n.prototype.appendChild=r.prototype.appendChild,n.prototype.replaceChild=r.prototype.replaceChild,n.prototype.removeChild=r.prototype.removeChild,n.prototype.toString=function(){return this.childNodes.map(function(i){return String(i)}).join("")}}),P6e=qh(function(t,e){e.exports=r;function r(n){}r.prototype.initEvent=function(n,i,a){this.type=n,this.bubbles=i,this.cancelable=a},r.prototype.preventDefault=function(){}}),O6e=qh(function(t,e){$x();var r=_ie(),n=k6e(),i=L6e(),a=Cie(),o=B6e(),c=P6e(),u=Sie(),l=jie(),d=Tie();e.exports=f;function f(){if(!Ux(this,f))return new f;this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],this.nodeType=9}var m=f.prototype;m.createTextNode=function(p){return new i(p,this)},m.createElementNS=function(p,g){var x=p===null?null:String(p);return new a(g,this,x)},m.createElement=function(p){return new a(p,this)},m.createDocumentFragment=function(){return new o(this)},m.createEvent=function(p){return new c(p)},m.createComment=function(p){return new n(p,this)},m.getElementById=function(p){p=String(p);var g=r(this.childNodes,function(x){if(String(x.id)===p)return x});return g||null},m.getElementsByClassName=a.prototype.getElementsByClassName,m.getElementsByTagName=a.prototype.getElementsByTagName,m.contains=a.prototype.contains,m.removeEventListener=d,m.addEventListener=l,m.dispatchEvent=u}),R6e=qh(function(t,e){var r=O6e();e.exports=new r}),Nie=qh(function(t,e){var r=typeof global<"u"?global:typeof window<"u"?window:{},n=R6e(),i;typeof document<"u"?i=document:(i=r["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=n)),e.exports=i});function D6e(t){if(Array.isArray(t))return t}function M6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,c;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function F6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kie(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function ug(t,e){return D6e(t)||M6e(t,e)||kie(t,e)||F6e()}var yE=lm(rp()),LK=lm(rp()),U6e=lm(rp()),$6e={now:function(){var t=U6e.default.performance,e=t&&t.timing,r=e&&e.navigationStart,n=typeof r=="number"&&typeof t.now=="function"?r+t.now():Date.now();return Math.round(n)}},xd=$6e,h2=function(){var t,e,r;if(typeof((t=LK.default.crypto)===null||t===void 0?void 0:t.getRandomValues)=="function"){r=new Uint8Array(32),LK.default.crypto.getRandomValues(r);for(var n=0;n<32;n++)r[n]=r[n]%16}else{r=[];for(var i=0;i<32;i++)r[i]=Math.random()*16|0}var a=0;e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var l=u==="x"?r[a]:r[a]&3|8;return a++,l.toString(16)});var o=xd.now(),c=o?.toString(16).substring(3);return c?e.substring(0,28)+c:e},Lie=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},_m=function(t){if(t&&typeof t.nodeName<"u")return t.muxId||(t.muxId=Lie()),t.muxId;var e;try{e=document.querySelector(t)}catch{}return e&&!e.muxId&&(e.muxId=t),e?.muxId||t},nN=function(t){var e;t&&typeof t.nodeName<"u"?(e=t,t=_m(e)):e=document.querySelector(t);var r=e&&e.nodeName?e.nodeName.toLowerCase():"";return[e,t,r]};function H6e(t){if(Array.isArray(t))return jO(t)}function Q6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sm(t){return H6e(t)||Q6e(t)||kie(t)||z6e()}var Hv={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},V6e=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,r,n,i,a,o,c=[console,t],u=(r=console.trace).bind.apply(r,Sm(c)),l=(n=console.info).bind.apply(n,Sm(c)),d=(i=console.debug).bind.apply(i,Sm(c)),f=(a=console.warn).bind.apply(a,Sm(c)),m=(o=console.error).bind.apply(o,Sm(c)),p=e;return{trace:function(){for(var g=arguments.length,x=new Array(g),y=0;y<g;y++)x[y]=arguments[y];if(!(p>Hv.TRACE))return u.apply(void 0,Sm(x))},debug:function(){for(var g=arguments.length,x=new Array(g),y=0;y<g;y++)x[y]=arguments[y];if(!(p>Hv.DEBUG))return d.apply(void 0,Sm(x))},info:function(){for(var g=arguments.length,x=new Array(g),y=0;y<g;y++)x[y]=arguments[y];if(!(p>Hv.INFO))return l.apply(void 0,Sm(x))},warn:function(){for(var g=arguments.length,x=new Array(g),y=0;y<g;y++)x[y]=arguments[y];if(!(p>Hv.WARN))return f.apply(void 0,Sm(x))},error:function(){for(var g=arguments.length,x=new Array(g),y=0;y<g;y++)x[y]=arguments[y];if(!(p>Hv.ERROR))return m.apply(void 0,Sm(x))},get level(){return p},set level(g){g!==this.level&&(p=g??e)}}},cl=V6e("[mux]"),LI=lm(rp());function TO(){var t=LI.default.doNotTrack||LI.default.navigator&&LI.default.navigator.doNotTrack;return t==="1"}function gs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}$x();function Eu(t,e){if(!Ux(t,e))throw new TypeError("Cannot call a class as a function")}function K6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gm(t,e,r){return e&&K6e(t.prototype,e),t}function On(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n1(t)}function G6e(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=n1(t),t!==null););return t}function xj(t,e,r){return typeof Reflect<"u"&&Reflect.get?xj=Reflect.get:xj=function(n,i,a){var o=G6e(n,i);if(o){var c=Object.getOwnPropertyDescriptor(o,i);return c.get?c.get.call(a||n):c.value}},xj(t,e,r||t)}function CO(t,e){return CO=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},CO(t,e)}function W6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CO(t,e)}function Y6e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function q6e(t,e){if(t==null)return{};var r=Y6e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}Eie();function Z6e(t,e){return e&&(wie(e)==="object"||typeof e=="function")?e:gs(t)}function J6e(t){var e=X6e();return function(){var r=n1(t),n;if(e){var i=n1(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Z6e(this,n)}}var Pm=function(t){return f2(t)[0]},f2=function(t){if(typeof t!="string"||t==="")return["localhost"];var e=/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,r=t.match(e)||[],n=r[4],i;return n&&(i=(n.match(/[^\.]+\.[^\.]+$/)||[])[0]),[n,i]},II=lm(rp()),e8e={exists:function(){var t=II.default.performance,e=t&&t.timing;return e!==void 0},domContentLoadedEventEnd:function(){var t=II.default.performance,e=t&&t.timing;return e&&e.domContentLoadedEventEnd},navigationStart:function(){var t=II.default.performance,e=t&&t.timing;return e&&e.navigationStart}},iN=e8e;function Vu(t,e,r){r=r===void 0?1:r,t[e]=t[e]||0,t[e]+=r}function sN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable}))),n.forEach(function(i){On(t,i,r[i])})}return t}function t8e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r.push.apply(r,n)}return r}function UF(t,e){return e=e??{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):t8e(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var r8e=["x-cdn","content-type"],Iie=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],n8e=r8e.concat(Iie);function $F(t){t=t||"";var e={},r=t.trim().split(/[\r\n]+/);return r.forEach(function(n){if(n){var i=n.split(": "),a=i.shift();a&&(n8e.indexOf(a.toLowerCase())>=0||a.toLowerCase().indexOf("x-litix-")===0)&&(e[a]=i.join(": "))}}),e}function aN(t){if(t){var e=Iie.find(function(r){return t[r]!==void 0});return e?t[e]:void 0}}var i8e=function(t){var e={};for(var r in t){var n=t[r],i=n["DATA-ID"].search("io.litix.data.");if(i!==-1){var a=n["DATA-ID"].replace("io.litix.data.","");e[a]=n.VALUE}}return e},Bie=i8e,ES=function(t){if(!t)return{};var e=iN.navigationStart(),r=t.loading,n=r?r.start:t.trequest,i=r?r.first:t.tfirst,a=r?r.end:t.tload;return{bytesLoaded:t.total,requestStart:Math.round(e+n),responseStart:Math.round(e+i),responseEnd:Math.round(e+a)}},pw=function(t){if(!(!t||typeof t.getAllResponseHeaders!="function"))return $F(t.getAllResponseHeaders())},s8e=function(t,e,r){var n=arguments.length>4?arguments[4]:void 0,i=t.log,a=t.utils.secondsToMs,o=function(y){var w=parseInt(n.version),E;return w===1&&y.programDateTime!==null&&(E=y.programDateTime),w===0&&y.pdt!==null&&(E=y.pdt),E};if(!iN.exists()){i.warn("performance timing not supported. Not tracking HLS.js.");return}var c=function(y,w){return t.emit(e,y,w)},u=function(y,w){var E=w.levels,_=w.audioTracks,N=w.url,C=w.stats,I=w.networkDetails,D=w.sessionData,M={},Y={};E.forEach(function(ve,ne){M[ne]={width:ve.width,height:ve.height,bitrate:ve.bitrate,attrs:ve.attrs}}),_.forEach(function(ve,ne){Y[ne]={name:ve.name,language:ve.lang,bitrate:ve.bitrate}});var X=ES(C),te=X.bytesLoaded,de=X.requestStart,ye=X.responseStart,we=X.responseEnd;c("requestcompleted",UF(sN({},Bie(D)),{request_event_type:y,request_bytes_loaded:te,request_start:de,request_response_start:ye,request_response_end:we,request_type:"manifest",request_hostname:Pm(N),request_response_headers:pw(I),request_rendition_lists:{media:M,audio:Y,video:{}}}))};r.on(n.Events.MANIFEST_LOADED,u);var l=function(y,w){var E=w.details,_=w.level,N=w.networkDetails,C=w.stats,I=ES(C),D=I.bytesLoaded,M=I.requestStart,Y=I.responseStart,X=I.responseEnd,te=E.fragments[E.fragments.length-1],de=o(te)+a(te.duration);c("requestcompleted",{request_event_type:y,request_bytes_loaded:D,request_start:M,request_response_start:Y,request_response_end:X,request_current_level:_,request_type:"manifest",request_hostname:Pm(E.url),request_response_headers:pw(N),video_holdback:E.holdBack&&a(E.holdBack),video_part_holdback:E.partHoldBack&&a(E.partHoldBack),video_part_target_duration:E.partTarget&&a(E.partTarget),video_target_duration:E.targetduration&&a(E.targetduration),video_source_is_live:E.live,player_manifest_newest_program_time:isNaN(de)?void 0:de})};r.on(n.Events.LEVEL_LOADED,l);var d=function(y,w){var E=w.details,_=w.networkDetails,N=w.stats,C=ES(N),I=C.bytesLoaded,D=C.requestStart,M=C.responseStart,Y=C.responseEnd;c("requestcompleted",{request_event_type:y,request_bytes_loaded:I,request_start:D,request_response_start:M,request_response_end:Y,request_type:"manifest",request_hostname:Pm(E.url),request_response_headers:pw(_)})};r.on(n.Events.AUDIO_TRACK_LOADED,d);var f=function(y,w){var E=w.stats,_=w.networkDetails,N=w.frag;E=E||N.stats;var C=ES(E),I=C.bytesLoaded,D=C.requestStart,M=C.responseStart,Y=C.responseEnd,X=_?pw(_):void 0,te={request_event_type:y,request_bytes_loaded:I,request_start:D,request_response_start:M,request_response_end:Y,request_hostname:_?Pm(_.responseURL):void 0,request_id:X?aN(X):void 0,request_response_headers:X,request_media_duration:N.duration,request_url:_?.responseURL};N.type==="main"?(te.request_type="media",te.request_current_level=N.level,te.request_video_width=(r.levels[N.level]||{}).width,te.request_video_height=(r.levels[N.level]||{}).height,te.request_labeled_bitrate=(r.levels[N.level]||{}).bitrate):te.request_type=N.type,c("requestcompleted",te)};r.on(n.Events.FRAG_LOADED,f);var m=function(y,w){var E=w.frag,_=E.start,N=o(E),C={currentFragmentPDT:N,currentFragmentStart:a(_)};c("fragmentchange",C)};r.on(n.Events.FRAG_CHANGED,m);var p=function(y,w){var E=w.type,_=w.details,N=w.response,C=w.fatal,I=w.frag,D=w.networkDetails,M=I?.url||w.url||"",Y=D?pw(D):void 0;if((_===n.ErrorDetails.MANIFEST_LOAD_ERROR||_===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||_===n.ErrorDetails.FRAG_LOAD_ERROR||_===n.ErrorDetails.FRAG_LOAD_TIMEOUT||_===n.ErrorDetails.LEVEL_LOAD_ERROR||_===n.ErrorDetails.LEVEL_LOAD_TIMEOUT||_===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||_===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT||_===n.ErrorDetails.SUBTITLE_LOAD_ERROR||_===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT||_===n.ErrorDetails.KEY_LOAD_ERROR||_===n.ErrorDetails.KEY_LOAD_TIMEOUT)&&c("requestfailed",{request_error:_,request_url:M,request_hostname:Pm(M),request_id:Y?aN(Y):void 0,request_type:_===n.ErrorDetails.FRAG_LOAD_ERROR||_===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":_===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||_===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":_===n.ErrorDetails.SUBTITLE_LOAD_ERROR||_===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":_===n.ErrorDetails.KEY_LOAD_ERROR||_===n.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:N?.code,request_error_text:N?.text}),C){var X,te="".concat(M?"url: ".concat(M,`
`):"")+"".concat(N&&(N.code||N.text)?"response: ".concat(N.code,", ").concat(N.text,`
`):"")+"".concat(w.reason?"failure reason: ".concat(w.reason,`
`):"")+"".concat(w.level?"level: ".concat(w.level,`
`):"")+"".concat(w.parent?"parent stream controller: ".concat(w.parent,`
`):"")+"".concat(w.buffer?"buffer length: ".concat(w.buffer,`
`):"")+"".concat(w.error?"error: ".concat(w.error,`
`):"")+"".concat(w.event?"event: ".concat(w.event,`
`):"")+"".concat(w.err?"error message: ".concat((X=w.err)===null||X===void 0?void 0:X.message,`
`):"");c("error",{player_error_code:E,player_error_message:_,player_error_context:te})}};r.on(n.Events.ERROR,p);var g=function(y,w){var E=w.frag,_=E&&E._url||"";c("requestcanceled",{request_event_type:y,request_url:_,request_type:"media",request_hostname:Pm(_)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,g);var x=function(y,w){var E=w.level,_=r.levels[E];if(_&&_.attrs&&_.attrs.BANDWIDTH){var N=_.attrs.BANDWIDTH,C,I=parseFloat(_.attrs["FRAME-RATE"]);isNaN(I)||(C=I),N?c("renditionchange",{video_source_fps:C,video_source_bitrate:N,video_source_width:_.width,video_source_height:_.height,video_source_rendition_name:_.name,video_source_codec:_?.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};r.on(n.Events.LEVEL_SWITCHED,x),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,u),r.off(n.Events.LEVEL_LOADED,l),r.off(n.Events.AUDIO_TRACK_LOADED,d),r.off(n.Events.FRAG_LOADED,f),r.off(n.Events.FRAG_CHANGED,m),r.off(n.Events.ERROR,p),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,g),r.off(n.Events.LEVEL_SWITCHED,x),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)},a8e=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},IK=function(t,e){if(!t||!t.requestEndDate)return{};var r=Pm(t.url),n=t.url,i=t.bytesLoaded,a=new Date(t.requestStartDate).getTime(),o=new Date(t.firstByteDate).getTime(),c=new Date(t.requestEndDate).getTime(),u=isNaN(t.duration)?0:t.duration,l=typeof e.getMetricsFor=="function"?e.getMetricsFor(t.mediaType).HttpList:e.getDashMetrics().getHttpRequests(t.mediaType),d;l.length>0&&(d=$F(l[l.length-1]._responseHeaders||""));var f=d?aN(d):void 0;return{requestStart:a,requestResponseStart:o,requestResponseEnd:c,requestBytesLoaded:i,requestResponseHeaders:d,requestMediaDuration:u,requestHostname:r,requestUrl:n,requestId:f}},o8e=function(t,e){var r=e.getQualityFor(t),n=e.getCurrentTrackFor(t).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}},l8e=function(t){var e;return(e=t.match(/.*codecs\*?="(.*)"/))===null||e===void 0?void 0:e[1]},c8e=function(t){try{var e,r,n=(r=t.getVersion)===null||r===void 0||(e=r.call(t))===null||e===void 0?void 0:e.split(".").map(function(i){return parseInt(i)})[0];return n}catch{return!1}},u8e=function(t,e,r){var n=t.log;if(!r||!r.on){n.warn("Invalid dash.js player reference. Monitoring blocked.");return}var i=c8e(r),a=function(E,_){return t.emit(e,E,_)},o=function(E){var _=E.type,N=E.data,C=(N||{}).url;a("requestcompleted",{request_event_type:_,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:Pm(C),request_url:C})};r.on("manifestLoaded",o);var c={},u=function(E){if(typeof E.getRequests!="function")return null;var _=E.getRequests({state:"executed"});return _.length===0?null:_[_.length-1]},l=function(E){var _=E.type,N=E.fragmentModel,C=E.chunk,I=u(N);d({type:_,request:I,chunk:C})},d=function(E){var _=E.type,N=E.chunk,C=E.request,I=(N||{}).mediaInfo,D=I||{},M=D.type,Y=D.bitrateList;Y=Y||[];var X={};Y.forEach(function(Pe,be){X[be]={},X[be].width=Pe.width,X[be].height=Pe.height,X[be].bitrate=Pe.bandwidth,X[be].attrs={}}),M==="video"?c.video=X:M==="audio"?c.audio=X:c.media=X;var te=IK(C,r),de=te.requestStart,ye=te.requestResponseStart,we=te.requestResponseEnd,ve=te.requestResponseHeaders,ne=te.requestMediaDuration,ae=te.requestHostname,oe=te.requestUrl,Re=te.requestId;a("requestcompleted",{request_event_type:_,request_start:de,request_response_start:ye,request_response_end:we,request_bytes_loaded:-1,request_type:M+"_init",request_response_headers:ve,request_hostname:ae,request_id:Re,request_url:oe,request_media_duration:ne,request_rendition_lists:c})};i>=4?r.on("initFragmentLoaded",d):r.on("initFragmentLoaded",l);var f=function(E){var _=E.type,N=E.fragmentModel,C=E.chunk,I=u(N);m({type:_,request:I,chunk:C})},m=function(E){var _=E.type,N=E.chunk,C=E.request,I=N||{},D=I.mediaInfo,M=I.start,Y=D||{},X=Y.type,te=IK(C,r),de=te.requestStart,ye=te.requestResponseStart,we=te.requestResponseEnd,ve=te.requestBytesLoaded,ne=te.requestResponseHeaders,ae=te.requestMediaDuration,oe=te.requestHostname,Re=te.requestUrl,Pe=te.requestId,be=o8e(X,r),he=be.currentLevel,Ie=be.renditionWidth,Oe=be.renditionHeight,$e=be.renditionBitrate;a("requestcompleted",{request_event_type:_,request_start:de,request_response_start:ye,request_response_end:we,request_bytes_loaded:ve,request_type:X,request_response_headers:ne,request_hostname:oe,request_id:Pe,request_url:Re,request_media_start_time:M,request_media_duration:ae,request_current_level:he,request_labeled_bitrate:$e,request_video_width:Ie,request_video_height:Oe})};i>=4?r.on("mediaFragmentLoaded",m):r.on("mediaFragmentLoaded",f);var p={video:void 0,audio:void 0,totalBitrate:void 0},g=function(){if(p.video&&typeof p.video.bitrate=="number"){if(!(p.video.width&&p.video.height)){n.warn("have bitrate info for video but missing width/height");return}var E=p.video.bitrate;if(p.audio&&typeof p.audio.bitrate=="number"&&(E+=p.audio.bitrate),E!==p.totalBitrate)return p.totalBitrate=E,{video_source_bitrate:E,video_source_height:p.video.height,video_source_width:p.video.width,video_source_codec:l8e(p.video.codec)}}},x=function(E,_,N){if(typeof E.newQuality!="number"){n.warn("missing evt.newQuality in qualityChangeRendered event",E);return}var C=E.mediaType;if(C==="audio"||C==="video"){var I=r.getBitrateInfoListFor(C).find(function(M){var Y=M.qualityIndex;return Y===E.newQuality});if(!(I&&typeof I.bitrate=="number")){n.warn("missing bitrate info for ".concat(C));return}p[C]=UF(sN({},I),{codec:r.getCurrentTrackFor(C).codec});var D=g();D&&a("renditionchange",D)}};r.on("qualityChangeRendered",x);var y=function(E){var _=E.request,N=E.mediaType;_=_||{},a("requestcanceled",{request_event_type:_.type+"_"+_.action,request_url:_.url,request_type:N,request_hostname:Pm(_.url)})};r.on("fragmentLoadingAbandoned",y);var w=function(E){var _=E.error,N,C,I=(_==null||(N=_.data)===null||N===void 0?void 0:N.request)||{},D=(_==null||(C=_.data)===null||C===void 0?void 0:C.response)||{};_?.code===27&&a("requestfailed",{request_error:I.type+"_"+I.action,request_url:I.url,request_hostname:Pm(I.url),request_type:I.mediaType,request_error_code:D.status,request_error_text:D.statusText});var M="".concat(I!=null&&I.url?"url: ".concat(I.url,`
`):"")+"".concat(D!=null&&D.status||D!=null&&D.statusText?"response: ".concat(D?.status,", ").concat(D?.statusText,`
`):"");a("error",{player_error_code:_?.code,player_error_message:_?.message,player_error_context:M})};r.on("error",w),r._stopMuxMonitor=function(){r.off("manifestLoaded",o),r.off("initFragmentLoaded",d),r.off("mediaFragmentLoaded",m),r.off("qualityChangeRendered",x),r.off("error",w),r.off("fragmentLoadingAbandoned",y),delete r._stopMuxMonitor}},d8e=function(t){t&&typeof t._stopMuxMonitor=="function"&&t._stopMuxMonitor()},BK=0,h8e=(function(){function t(){Eu(this,t),On(this,"_listeners",void 0)}return Gm(t,[{key:"on",value:function(e,r,n){return r._eventEmitterGuid=r._eventEmitterGuid||++BK,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],n&&(r=r.bind(n)),this._listeners[e].push(r),r}},{key:"off",value:function(e,r){var n=this._listeners&&this._listeners[e];n&&n.forEach(function(i,a){i._eventEmitterGuid===r._eventEmitterGuid&&n.splice(a,1)})}},{key:"one",value:function(e,r,n){var i=this;r._eventEmitterGuid=r._eventEmitterGuid||++BK;var a=function(){i.off(e,a),r.apply(n||this,arguments)};a._eventEmitterGuid=r._eventEmitterGuid,this.on(e,a)}},{key:"emit",value:function(e,r){var n=this;if(this._listeners){r=r||{};var i=this._listeners["before"+e]||[],a=this._listeners["before*"]||[],o=this._listeners[e]||[],c=this._listeners["after"+e]||[],u=function(l,d){l=l.slice(),l.forEach(function(f){f.call(n,{type:e},d)})};u(i,r),u(a,r),u(o,r),u(c,r)}}}]),t})(),f8e=h8e,BI=lm(rp()),m8e=(function(){function t(e){var r=this;Eu(this,t),On(this,"_playbackHeartbeatInterval",void 0),On(this,"_playheadShouldBeProgressing",void 0),On(this,"pm",void 0),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){r._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?r._stopPlaybackHeartbeatInterval():r._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){r._playbackHeartbeatInterval!==null&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(n,i){r._playbackHeartbeatInterval!==null&&(BI.default.clearInterval(r._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:i.viewer_time}),r._playbackHeartbeatInterval=null)})}return Gm(t,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=BI.default.setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(BI.default.clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),t})(),A8e=m8e,p8e=function t(e){var r=this;Eu(this,t),On(this,"viewErrored",void 0),e.on("viewinit",function(){r.viewErrored=!1}),e.on("error",function(n,i){try{var a=e.errorTranslator({player_error_code:i.player_error_code,player_error_message:i.player_error_message,player_error_context:i.player_error_context,player_error_severity:i.player_error_severity,player_error_business_exception:i.player_error_business_exception});a&&(e.data.player_error_code=a.player_error_code||i.player_error_code,e.data.player_error_message=a.player_error_message||i.player_error_message,e.data.player_error_context=a.player_error_context||i.player_error_context,e.data.player_error_severity=a.player_error_severity||i.player_error_severity,e.data.player_error_business_exception=a.player_error_business_exception||i.player_error_business_exception,r.viewErrored=!0)}catch(o){e.mux.log.warn("Exception in error translator callback.",o),r.viewErrored=!0}}),e.on("aftererror",function(){var n,i,a,o,c;(n=e.data)===null||n===void 0||delete n.player_error_code,(i=e.data)===null||i===void 0||delete i.player_error_message,(a=e.data)===null||a===void 0||delete a.player_error_context,(o=e.data)===null||o===void 0||delete o.player_error_severity,(c=e.data)===null||c===void 0||delete c.player_error_business_exception})},g8e=p8e,v8e=(function(){function t(e){Eu(this,t),On(this,"_watchTimeTrackerLastCheckedTime",void 0),On(this,"pm",void 0),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return Gm(t,[{key:"_updateWatchTime",value:function(e,r){var n=r.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=n),Vu(this.pm.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n}},{key:"_clearWatchTimeState",value:function(e,r){this._updateWatchTime(e,r),this._watchTimeTrackerLastCheckedTime=null}}]),t})(),x8e=v8e,y8e=(function(){function t(e){var r=this;Eu(this,t),On(this,"_playbackTimeTrackerLastPlayheadPosition",void 0),On(this,"_lastTime",void 0),On(this,"_isAdPlaying",void 0),On(this,"_callbackUpdatePlaybackTime",void 0),On(this,"pm",void 0),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=xd.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null,e.on("viewinit",function(){r.pm.data.view_playing_time_ms_cumulative=0});var n=this._startPlaybackTimeTracking.bind(this);e.on("playing",n),e.on("adplaying",n),e.on("seeked",n),e.on("rebufferend",n);var i=this._stopPlaybackTimeTracking.bind(this);e.on("playbackheartbeatend",i),e.on("seeking",i),e.on("rebufferstart",i),e.on("adplaying",function(){r._isAdPlaying=!0}),e.on("adended",function(){r._isAdPlaying=!1}),e.on("adpause",function(){r._isAdPlaying=!1}),e.on("adbreakstart",function(){r._isAdPlaying=!1}),e.on("adbreakend",function(){r._isAdPlaying=!1}),e.on("adplay",function(){r._isAdPlaying=!1}),e.on("viewinit",function(){r._playbackTimeTrackerLastPlayheadPosition=-1,r._lastTime=xd.now(),r._isAdPlaying=!1,r._callbackUpdatePlaybackTime=null})}return Gm(t,[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this._lastTime=xd.now(),this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time||0,r=xd.now(),n=r-this._lastTime,i=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?i=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(i=n),i>0&&i<=1e3&&Vu(this.pm.data,"view_content_playback_time",i),this._callbackUpdatePlaybackTime!==null&&n>0&&n<=1e3&&(this._isAdPlaying&&Vu(this.pm.data,"ad_playing_time_ms_cumulative",n),Vu(this.pm.data,"view_playing_time_ms_cumulative",n)),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=r}}]),t})(),b8e=y8e,w8e=(function(){function t(e){Eu(this,t),On(this,"pm",void 0),this.pm=e;var r=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",r),e.on("playbackheartbeatend",r),e.on("timeupdate",r),e.on("destroy",function(){e.off("timeupdate",r)})}return Gm(t,[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=typeof this.pm.data.view_max_playhead_position>"u"?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,r){var n=this,i=function(){n.pm.currentFragmentPDT&&n.pm.currentFragmentStart&&(n.pm.data.player_program_time=n.pm.currentFragmentPDT+n.pm.data.player_playhead_time-n.pm.currentFragmentStart)};if(r&&r.player_playhead_time)this.pm.data.player_playhead_time=r.player_playhead_time,i(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var a=this.pm.getPlayheadTime();typeof a<"u"&&(this.pm.data.player_playhead_time=a,i(),this._updateMaxPlayheadPosition())}}}]),t})(),E8e=w8e,PK=300*1e3,_8e=function t(e){if(Eu(this,t),!e.disableRebufferTracking){var r,n=function(a,o){i(o),r=void 0},i=function(a){if(r){var o=a.viewer_time-r;Vu(e.data,"view_rebuffer_duration",o),r=a.viewer_time,e.data.view_rebuffer_duration>PK&&(e.emit("viewend"),e.send("viewend"),e.mux.log.warn("Ending view after rebuffering for longer than ".concat(PK,"ms, future events will be ignored unless a programchange or videochange occurs.")))}e.data.view_watch_time>=0&&e.data.view_rebuffer_count>0&&(e.data.view_rebuffer_frequency=e.data.view_rebuffer_count/e.data.view_watch_time,e.data.view_rebuffer_percentage=e.data.view_rebuffer_duration/e.data.view_watch_time)};e.on("playbackheartbeat",function(a,o){return i(o)}),e.on("rebufferstart",function(a,o){r||(Vu(e.data,"view_rebuffer_count",1),r=o.viewer_time,e.one("rebufferend",n))}),e.on("viewinit",function(){r=void 0,e.off("rebufferend",n)})}},S8e=_8e,j8e=(function(){function t(e){var r=this;Eu(this,t),On(this,"_lastCheckedTime",void 0),On(this,"_lastPlayheadTime",void 0),On(this,"_lastPlayheadTimeUpdatedTime",void 0),On(this,"_rebuffering",void 0),On(this,"pm",void 0),this.pm=e,!(e.disableRebufferTracking||e.disablePlayheadRebufferTracking)&&(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){r._cleanupRebufferTracker(null,{viewer_time:xd.now()})}))}return Gm(t,[{key:"_checkIfRebuffering",value:function(e,r){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing){this._cleanupRebufferTracker(e,r);return}if(this._lastCheckedTime===null){this._prepareRebufferTrackerState(r.viewer_time);return}if(this._lastPlayheadTime!==this.pm.data.player_playhead_time){this._cleanupRebufferTracker(e,r,!0);return}var n=r.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&n>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=r.viewer_time}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:r.viewer_time});else{if(this._lastCheckedTime===null)return;var i=this.pm.data.player_playhead_time-this._lastPlayheadTime,a=r.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&i>0&&a-i>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+a-i}))}n?this._prepareRebufferTrackerState(r.viewer_time):this._clearRebufferTrackerState()}}]),t})(),T8e=j8e,C8e=(function(){function t(e){var r=this;Eu(this,t),On(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){var n=e.data,i=n.view_id;if(!n.view_program_changed){var a=function(o,c){var u=c.viewer_time;(o.type==="playing"&&typeof e.data.view_time_to_first_frame>"u"||o.type==="adplaying"&&(typeof e.data.view_time_to_first_frame>"u"||r._inPrerollPosition()))&&r.calculateTimeToFirstFrame(u||xd.now(),i)};e.one("playing",a),e.one("adplaying",a),e.one("viewend",function(){e.off("playing",a),e.off("adplaying",a)})}})}return Gm(t,[{key:"_inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,r){r===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.pm.pageLoadInitTime&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.pm.pageLoadInitTime))}}]),t})(),N8e=C8e,k8e=function t(e){var r=this;Eu(this,t),On(this,"_lastPlayerHeight",void 0),On(this,"_lastPlayerWidth",void 0),On(this,"_lastPlayheadPosition",void 0),On(this,"_lastSourceHeight",void 0),On(this,"_lastSourceWidth",void 0),e.on("viewinit",function(){r._lastPlayheadPosition=-1});var n=["pause","rebufferstart","seeking","error","adbreakstart","hb","renditionchange","orientationchange","viewend","playbackmodechange"],i=["playing","hb","renditionchange","orientationchange","playbackmodechange"];n.forEach(function(a){e.on(a,function(){if(r._lastPlayheadPosition>=0&&e.data.player_playhead_time>=0&&r._lastPlayerWidth>=0&&r._lastSourceWidth>0&&r._lastPlayerHeight>=0&&r._lastSourceHeight>0){var o=e.data.player_playhead_time-r._lastPlayheadPosition;if(o<0){r._lastPlayheadPosition=-1;return}var c=Math.min(r._lastPlayerWidth/r._lastSourceWidth,r._lastPlayerHeight/r._lastSourceHeight),u=Math.max(0,c-1),l=Math.max(0,1-c);e.data.view_max_upscale_percentage=Math.max(e.data.view_max_upscale_percentage||0,u),e.data.view_max_downscale_percentage=Math.max(e.data.view_max_downscale_percentage||0,l),Vu(e.data,"view_total_content_playback_time",o),Vu(e.data,"view_total_upscaling",u*o),Vu(e.data,"view_total_downscaling",l*o)}r._lastPlayheadPosition=-1})}),i.forEach(function(a){e.on(a,function(){r._lastPlayheadPosition=e.data.player_playhead_time,r._lastPlayerWidth=e.data.player_width,r._lastPlayerHeight=e.data.player_height,r._lastSourceWidth=e.data.video_source_width,r._lastSourceHeight=e.data.video_source_height})})},L8e=k8e,I8e=2e3,B8e=function t(e){var r=this;Eu(this,t),On(this,"isSeeking",void 0),this.isSeeking=!1;var n=-1,i=function(){var a=xd.now(),o=(e.data.viewer_time||a)-(n||a);Vu(e.data,"view_seek_duration",o),e.data.view_max_seek_time=Math.max(e.data.view_max_seek_time||0,o),r.isSeeking=!1,n=-1};e.on("seeking",function(a,o){if(Object.assign(e.data,o),r.isSeeking&&o.viewer_time-n<=I8e){n=o.viewer_time;return}r.isSeeking&&i(),r.isSeeking=!0,n=o.viewer_time,Vu(e.data,"view_seek_count",1),e.send("seeking")}),e.on("seeked",function(){i()}),e.on("viewend",function(){r.isSeeking&&(i(),e.send("seeked")),r.isSeeking=!1,n=-1})},P8e=B8e,OK=function(t,e){t.push(e),t.sort(function(r,n){return r.viewer_time-n.viewer_time})},O8e=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],R8e=(function(){function t(e){var r=this;Eu(this,t),On(this,"_adHasPlayed",void 0),On(this,"_adRequests",void 0),On(this,"_adResponses",void 0),On(this,"_currentAdRequestNumber",void 0),On(this,"_currentAdResponseNumber",void 0),On(this,"_prerollPlayTime",void 0),On(this,"_wouldBeNewAdPlay",void 0),On(this,"isAdBreak",void 0),On(this,"pm",void 0),this.pm=e,e.on("viewinit",function(){r.isAdBreak=!1,r._currentAdRequestNumber=0,r._currentAdResponseNumber=0,r._adRequests=[],r._adResponses=[],r._adHasPlayed=!1,r._wouldBeNewAdPlay=!0,r._prerollPlayTime=void 0}),O8e.forEach(function(i){return e.on(i,r._updateAdData.bind(r))});var n=function(){r.isAdBreak=!1};e.on("adbreakstart",function(){r.isAdBreak=!0}),e.on("play",n),e.on("playing",n),e.on("viewend",n),e.on("adrequest",function(i,a){a=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdRequestNumber++},a),OK(r._adRequests,a),Vu(e.data,"view_ad_request_count"),r.inPrerollPosition()&&(e.data.view_preroll_requested=!0,r._adHasPlayed||Vu(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(i,a){a=Object.assign({ad_request_id:"generatedAdRequestId"+r._currentAdResponseNumber++},a),OK(r._adResponses,a);var o=r.findAdRequest(a.ad_request_id);o&&Vu(e.data,"view_ad_request_time",Math.max(0,a.viewer_time-o.viewer_time))}),e.on("adplay",function(i,a){r._adHasPlayed=!0,r._wouldBeNewAdPlay&&(r._wouldBeNewAdPlay=!1,Vu(e.data,"view_ad_played_count")),r.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,r._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,a.viewer_time-r._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,a.viewer_time-e.data.view_start)),r._prerollPlayTime=a.viewer_time)}),e.on("adplaying",function(i,a){r.inPrerollPosition()&&typeof e.data.view_preroll_load_time>"u"&&typeof r._prerollPlayTime<"u"&&(e.data.view_preroll_load_time=a.viewer_time-r._prerollPlayTime,e.data.view_startup_preroll_load_time=a.viewer_time-r._prerollPlayTime)}),e.on("adclicked",function(i,a){r._wouldBeNewAdPlay||Vu(e.data,"view_ad_clicked_count")}),e.on("adskipped",function(i,a){r._wouldBeNewAdPlay||Vu(e.data,"view_ad_skipped_count")}),e.on("adended",function(){r._wouldBeNewAdPlay=!0}),e.on("aderror",function(){r._wouldBeNewAdPlay=!0})}return Gm(t,[{key:"inPrerollPosition",value:function(){return typeof this.pm.data.view_content_playback_time>"u"||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var r=0;r<this._adRequests.length;r++)if(this._adRequests[r].ad_request_id===e)return this._adRequests[r]}},{key:"_updateAdData",value:function(e,r){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&r.ad_tag_url){var n=ug(f2(r.ad_tag_url),2),i=n[0],a=n[1];this.pm.data.view_preroll_ad_tag_domain=a,this.pm.data.view_preroll_ad_tag_hostname=i}if(!this.pm.data.view_preroll_ad_asset_hostname&&r.ad_asset_url){var o=ug(f2(r.ad_asset_url),2),c=o[0],u=o[1];this.pm.data.view_preroll_ad_asset_domain=u,this.pm.data.view_preroll_ad_asset_hostname=c}this.pm.data.ad_type="preroll"}this.pm.data.ad_asset_url=r?.ad_asset_url,this.pm.data.ad_tag_url=r?.ad_tag_url,this.pm.data.ad_creative_id=r?.ad_creative_id,this.pm.data.ad_id=r?.ad_id,this.pm.data.ad_universal_id=r?.ad_universal_id,r!=null&&r.ad_type&&(this.pm.data.ad_type=r?.ad_type)}}]),t})(),D8e=R8e,M8e=function t(e){var r=this;Eu(this,t),On(this,"lastWallClockTime",void 0);var n=function(){r.lastWallClockTime=xd.now(),e.on("before*",i)},i=function(a){var o=xd.now(),c=r.lastWallClockTime;r.lastWallClockTime=o,o-c>3e4&&(e.emit("devicesleep",{viewer_time:c}),Object.assign(e.data,{viewer_time:c}),e.send("devicesleep"),e.emit("devicewake",{viewer_time:o}),Object.assign(e.data,{viewer_time:o}),e.send("devicewake"))};e.one("playbackheartbeat",n),e.on("playbackheartbeatend",function(){e.off("before*",i),e.one("playbackheartbeat",n)})},F8e=M8e,PI=lm(rp()),Pie=(function(t){return t()})(function(){var t=function(){for(var r=0,n={};r<arguments.length;r++){var i=arguments[r];for(var a in i)n[a]=i[a]}return n};function e(r){function n(i,a,o){var c;if(typeof document<"u"){if(arguments.length>1){if(o=t({path:"/"},n.defaults,o),typeof o.expires=="number"){var u=new Date;u.setMilliseconds(u.getMilliseconds()+o.expires*864e5),o.expires=u}try{c=JSON.stringify(a),/^[\{\[]/.test(c)&&(a=c)}catch{}return r.write?a=r.write(a,i):a=encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),i=encodeURIComponent(String(i)),i=i.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),i=i.replace(/[\(\)]/g,escape),document.cookie=[i,"=",a,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}i||(c={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<l.length;f++){var m=l[f].split("="),p=m.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{var g=m[0].replace(d,decodeURIComponent);if(p=r.read?r.read(p,g):r(p,g)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch{}if(i===g){c=p;break}i||(c[g]=p)}catch{}}return c}}return n.set=n,n.get=function(i){return n.call(n,i)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(i,a){n(i,"",t(a,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),Oie="muxData",U8e=function(t){return Object.entries(t).map(function(e){var r=ug(e,2),n=r[0],i=r[1];return"".concat(n,"=").concat(i)}).join("&")},$8e=function(t){return t.split("&").reduce(function(e,r){var n=ug(r.split("="),2),i=n[0],a=n[1],o=+a,c=a&&o==a?o:a;return e[i]=c,e},{})},Rie=function(){var t;try{t=$8e(Pie.get(Oie)||"")}catch{t={}}return t},Die=function(t){try{Pie.set(Oie,U8e(t),{expires:365})}catch{}},H8e=function(){var t=Rie();return t.mux_viewer_id=t.mux_viewer_id||h2(),t.msn=t.msn||Math.random(),Die(t),{mux_viewer_id:t.mux_viewer_id,mux_sample_number:t.msn}},Q8e=function(){var t=Rie(),e=xd.now();return t.session_start&&(t.sst=t.session_start,delete t.session_start),t.session_id&&(t.sid=t.session_id,delete t.session_id),t.session_expires&&(t.sex=t.session_expires,delete t.session_expires),(!t.sex||t.sex<e)&&(t.sid=h2(),t.sst=e),t.sex=e+1500*1e3,Die(t),{session_id:t.sid,session_start:t.sst,session_expires:t.sex}};function z8e(t,e){var r=e.beaconCollectionDomain,n=e.beaconDomain;if(r)return"https://"+r;t=t||"inferred";var i=n||"litix.io";return t.match(/^[a-z0-9]+$/)?"https://"+t+"."+i:"https://img.litix.io/a.gif"}var V8e=lm(rp()),Mie=function(){var t;switch(Fie()){case"cellular":t="cellular";break;case"ethernet":t="wired";break;case"wifi":t="wifi";break;case void 0:break;default:t="other"}return t},Fie=function(){var t=V8e.default.navigator,e=t&&(t.connection||t.mozConnection||t.webkitConnection);return e&&e.type};Mie.getConnectionFromAPI=Fie;var K8e=Mie,G8e={a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"},W8e=Uie(G8e),Y8e={ad:"ad",af:"affiliate",ag:"aggregate",ap:"api",al:"application",ao:"audio",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",bn:"brand",br:"break",bw:"browser",by:"bytes",bz:"business",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ci:"client",ck:"clicked",cl:"canceled",cm:"cmcd",cn:"config",co:"count",ce:"counter",cp:"complete",cq:"creator",cr:"creative",cs:"captions",ct:"content",cu:"current",cv:"cumulative",cx:"connection",cz:"context",da:"data",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",dy:"dynamic",eb:"enabled",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",ep:"experiments",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ez:"exception",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mp:"mode",ms:"ms",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",or:"origin",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pp:"pip",pr:"preload",ps:"position",pt:"part",pv:"previous",py:"property",px:"pop",pz:"plan",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rg:"range",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sh:"shift",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",ss:"status",st:"start",su:"startup",sv:"server",sw:"software",sy:"severity",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"},RK=Uie(Y8e);function Uie(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function NO(t){var e={},r={};return Object.keys(t).forEach(function(n){var i=!1;if(t.hasOwnProperty(n)&&t[n]!==void 0){var a=n.split("_"),o=a[0],c=W8e[o];c||(cl.info("Data key word `"+a[0]+"` not expected in "+n),c=o+"_"),a.splice(1).forEach(function(u){u==="url"&&(i=!0),RK[u]?c+=RK[u]:Number.isInteger(Number(u))?c+=u:(cl.info("Data key word `"+u+"` not expected in "+n),c+="_"+u+"_")}),i?r[c]=t[n]:e[c]=t[n]}}),Object.assign(e,r)}var Zv=lm(rp()),q8e=lm(Nie()),X8e={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},Z8e=56*1024,J8e=["hb","requestcompleted","requestfailed","requestcanceled"],e7e="https://img.litix.io",bg=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=t||e7e,this._eventQueue=[],this._postInFlight=!1,this._resendAfterPost=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},X8e,e)};bg.prototype.queueEvent=function(t,e){var r=Object.assign({},e);return this._eventQueue.length<=this._options.maxQueueLength||t==="eventrateexceeded"?(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):!1};bg.prototype.flushEvents=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(t&&this._eventQueue.length===1){this._eventQueue.pop();return}this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending()};bg.prototype.destroy=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.destroyed=!0,t?this._clearBeaconQueue():this.flushEvents(),Zv.default.clearTimeout(this._sendTimeout)};bg.prototype._clearBeaconQueue=function(){var t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,e=this._eventQueue.slice(t);t>0&&Object.assign(e[e.length-1],NO({mux_view_message:"event queue truncated"}));var r=this._createPayload(e);$ie(this._beaconUrl,r,!0,function(){})};bg.prototype._sendBeaconQueue=function(){var t=this;if(this._postInFlight){this._resendAfterPost=!0;return}var e=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var r=this._createPayload(e),n=xd.now();$ie(this._beaconUrl,r,!1,function(i,a){a?(t._eventQueue=e.concat(t._eventQueue),t._failureCount+=1,cl.info("Error sending beacon: "+a)):t._failureCount=0,t._roundTripTime=xd.now()-n,t._postInFlight=!1,t._resendAfterPost&&(t._resendAfterPost=!1,t._eventQueue.length>0&&t._sendBeaconQueue())})};bg.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var t=Math.pow(2,this._failureCount-1);return t=t*Math.random(),(1+t)*this._options.baseTimeBetweenBeacons};bg.prototype._startBeaconSending=function(){var t=this;Zv.default.clearTimeout(this._sendTimeout),!this.destroyed&&(this._sendTimeout=Zv.default.setTimeout(function(){t._eventQueue.length&&t._sendBeaconQueue(),t._startBeaconSending()},this._getNextBeaconTime()))};bg.prototype._createPayload=function(t){var e=this,r={transmission_timestamp:Math.round(xd.now())};this._roundTripTime&&(r.rtt_ms=Math.round(this._roundTripTime));var n,i,a,o=function(){n=JSON.stringify({metadata:r,events:i||t}),a=n.length/1024},c=function(){return a<=e._options.maxPayloadKBSize};return o(),c()||(cl.info("Payload size is too big ("+a+" kb). Removing unnecessary events."),i=t.filter(function(u){return J8e.indexOf(u.e)===-1}),o()),c()||(cl.info("Payload size still too big ("+a+" kb). Cropping fields.."),i.forEach(function(u){for(var l in u){var d=u[l],f=50*1024;typeof d=="string"&&d.length>f&&(u[l]=d.substring(0,f))}}),o()),n};var t7e=typeof q8e.default.exitPictureInPicture=="function"?function(t){return t.length<=Z8e}:function(t){return!1},$ie=function(t,e,r,n){if(r&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(t,e)){n();return}if(Zv.default.fetch){Zv.default.fetch(t,{method:"POST",body:e,headers:{"Content-Type":"text/plain"},keepalive:t7e(e)}).then(function(a){return n(null,a.ok?null:"Error")}).catch(function(a){return n(null,a)});return}if(Zv.default.XMLHttpRequest){var i=new Zv.default.XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===4)return n(null,i.status!==200?"error":void 0)},i.open("POST",t),i.setRequestHeader("Content-Type","text/plain"),i.send(e);return}n()},r7e=bg,n7e=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id","player_error_code","player_error_message","player_error_context","player_error_severity","player_error_business_exception","view_playing_time_ms_cumulative","ad_playing_time_ms_cumulative"],i7e=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],s7e=["ad_id","ad_creative_id","ad_universal_id"],a7e=["viewstart","error","ended","viewend"],o7e=600*1e3,l7e=(function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Eu(this,t);var i,a,o,c,u,l,d,f,m,p,g,x;On(this,"mux",void 0),On(this,"envKey",void 0),On(this,"options",void 0),On(this,"eventQueue",void 0),On(this,"sampleRate",void 0),On(this,"disableCookies",void 0),On(this,"respectDoNotTrack",void 0),On(this,"previousBeaconData",void 0),On(this,"lastEventTime",void 0),On(this,"rateLimited",void 0),On(this,"pageLevelData",void 0),On(this,"viewerData",void 0),this.mux=e,this.envKey=r,this.options=n,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.eventQueue=new r7e(z8e(this.envKey,this.options));var y;this.sampleRate=(y=this.options.sampleRate)!==null&&y!==void 0?y:1;var w;this.disableCookies=(w=this.options.disableCookies)!==null&&w!==void 0?w:!1;var E;this.respectDoNotTrack=(E=this.options.respectDoNotTrack)!==null&&E!==void 0?E:!1,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(i=this.options.platform)===null||i===void 0?void 0:i.name,viewer_application_version:(a=this.options.platform)===null||a===void 0?void 0:a.version,viewer_application_engine:(o=this.options.platform)===null||o===void 0?void 0:o.layout,viewer_device_name:(c=this.options.platform)===null||c===void 0?void 0:c.product,viewer_device_category:"",viewer_device_manufacturer:(u=this.options.platform)===null||u===void 0?void 0:u.manufacturer,viewer_os_family:(d=this.options.platform)===null||d===void 0||(l=d.os)===null||l===void 0?void 0:l.family,viewer_os_architecture:(m=this.options.platform)===null||m===void 0||(f=m.os)===null||f===void 0?void 0:f.architecture,viewer_os_version:(g=this.options.platform)===null||g===void 0||(p=g.os)===null||p===void 0?void 0:p.version,viewer_connection_type:K8e(),page_url:PI.default===null||PI.default===void 0||(x=PI.default.location)===null||x===void 0?void 0:x.href},this.viewerData=this.disableCookies?{}:H8e()}return Gm(t,[{key:"send",value:function(e,r){if(!(!e||!(r!=null&&r.view_id))){if(this.respectDoNotTrack&&TO())return cl.info("Not sending `"+e+"` because Do Not Track is enabled");if(!r||typeof r!="object")return cl.error("A data object was expected in send() but was not provided");var n=this.disableCookies?{}:Q8e(),i=UF(sN({},this.pageLevelData,r,n,this.viewerData),{event:e,env_key:this.envKey});i.user_id&&(i.viewer_user_id=i.user_id,delete i.user_id);var a,o=((a=i.mux_sample_number)!==null&&a!==void 0?a:0)>=this.sampleRate,c=this._deduplicateBeaconData(e,i),u=NO(c);if(this.lastEventTime=this.mux.utils.now(),o)return cl.info("Not sending event due to sample rate restriction",e,i,u);if(this.envKey||cl.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,i,u),!this.rateLimited)if(cl.info("Sending event",e,i,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&e==="viewend")this.eventQueue.destroy(!0);else{if(this.mux.WINDOW_HIDDEN&&e==="hb")this.eventQueue.flushEvents(!0);else if(a7e.indexOf(e)>=0){if(e==="error"&&r.player_error_severity==="warning")return;this.eventQueue.flushEvents()}if(this.rateLimited)return i.event="eventrateexceeded",u=NO(i),this.eventQueue.queueEvent(i.event,u),cl.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,r){var n=this,i={},a=r.view_id;if(a==="-1"||e==="viewstart"||e==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=o7e)i=sN({},r),a&&(this.previousBeaconData=i),a&&e==="viewend"&&(this.previousBeaconData=null);else{var o=e.indexOf("request")===0;Object.entries(r).forEach(function(c){var u=ug(c,2),l=u[0],d=u[1];n.previousBeaconData&&(d!==n.previousBeaconData[l]||n7e.indexOf(l)>-1||n.objectHasChanged(o,l,d,n.previousBeaconData[l])||n.eventRequiresKey(e,l))&&(i[l]=d,n.previousBeaconData[l]=d)})}return i}},{key:"objectHasChanged",value:function(e,r,n,i){return!e||r.indexOf("request_")!==0?!1:r==="request_response_headers"||typeof n!="object"||typeof i!="object"?!0:Object.keys(n||{}).length!==Object.keys(i||{}).length}},{key:"eventRequiresKey",value:function(e,r){return!!(e==="renditionchange"&&r.indexOf("video_source_")===0||s7e.includes(r)&&i7e.includes(e))}}]),t})(),c7e=function t(e){Eu(this,t);var r=0,n=0,i=0,a=0,o=0,c=0,u=0,l=function(m,p){var g=p.request_start,x=p.request_response_start,y=p.request_response_end,w=p.request_bytes_loaded;a++;var E,_;if(x?(E=x-(g??0),_=(y??0)-x):_=(y??0)-(g??0),_>0&&w&&w>0){var N=w/_*8e3;o++,n+=w,i+=_,e.data.view_min_request_throughput=Math.min(e.data.view_min_request_throughput||1/0,N),e.data.view_average_request_throughput=n/i*8e3,e.data.view_request_count=a,E>0&&(r+=E,e.data.view_max_request_latency=Math.max(e.data.view_max_request_latency||0,E),e.data.view_average_request_latency=r/o)}},d=function(m,p){a++,c++,e.data.view_request_count=a,e.data.view_request_failed_count=c},f=function(m,p){a++,u++,e.data.view_request_count=a,e.data.view_request_canceled_count=u};e.on("requestcompleted",l),e.on("requestfailed",d),e.on("requestcanceled",f)},u7e=c7e,d7e=3600*1e3,h7e=function t(e){var r=this;Eu(this,t),On(this,"_lastEventTime",void 0),e.on("before*",function(n,i){var a=i.viewer_time,o=xd.now(),c=r._lastEventTime;if(r._lastEventTime=o,c&&o-c>d7e){var u=Object.keys(e.data).reduce(function(d,f){return f.indexOf("video_")===0?Object.assign(d,On({},f,e.data[f])):d},{});e.mux.log.info("Received event after at least an hour inactivity, creating a new view");var l=e.playbackHeartbeat._playheadShouldBeProgressing;e._resetView(Object.assign({viewer_time:a},u)),e.playbackHeartbeat._playheadShouldBeProgressing=l,e.playbackHeartbeat._playheadShouldBeProgressing&&n.type!=="play"&&n.type!=="adbreakstart"&&(e.emit("play",{viewer_time:a}),n.type!=="playing"&&e.emit("playing",{viewer_time:a}))}})},f7e=h7e,m7e=function t(e){Eu(this,t);var r=function(c){var u=A7e(c),l=p7e(c);if(u!=null&&!DK(u,a)&&o<=l){a=u,o=l;var d={video_cdn:u};e.emit("cdnchange",d)}},n=null,i=null,a=null,o=0;e.on("viewinit",function(){n=null,i=null,a=null,o=0}),e.on("beforecdnchange",function(c,u){var l=u?.video_cdn;l&&(typeof u.video_previous_cdn>"u"||u.video_previous_cdn===null)&&(DK(l,i)?u.video_previous_cdn=n??void 0:(u.video_previous_cdn=i??void 0,n=i,i=l))}),e.on("requestcompleted",function(c,u){r(u)})};function DK(t,e){return t?.toLowerCase()===e?.toLowerCase()}function A7e(t){var e;return t!=null&&t.request_type&&(t.request_type==="media"||t.request_type==="video")&&!((e=t.request_response_headers)===null||e===void 0)&&e["x-cdn"]?t.request_response_headers["x-cdn"]:t!=null&&t.video_cdn?t.video_cdn:null}function p7e(t){return t!=null&&t.request_start?t.request_start:t!=null&&t.viewer_time?t.viewer_time:Date.now()}var g7e=m7e,v7e=function(t){try{return JSON.parse(t),!0}catch{return!1}},x7e=function t(e){var r=this;Eu(this,t),On(this,"_emittingAutomaticEvent",!1),On(this,"_hasInitialized",!1),On(this,"_currentMode","standard"),e.on("viewstart",function(){r._hasInitialized||(r._hasInitialized=!0,r._currentMode=e.data.player_playback_mode||"standard",r._emittingAutomaticEvent=!0,e.emit("playbackmodechange",{player_playback_mode:r._currentMode,player_playback_mode_data:"{}"}),r._emittingAutomaticEvent=!1)}),e.on("viewend",function(){r._hasInitialized=!1}),e.on("playbackmodechange",function(n,i){r._emittingAutomaticEvent||(i.player_playback_mode_data?v7e(i.player_playback_mode_data)||(e.mux.log.warn("Invalid JSON string for player_playback_mode_data"),i.player_playback_mode_data="{}"):i.player_playback_mode_data="{}",e.data.player_playback_mode_data=i.player_playback_mode_data,e.data.player_playback_mode=i.player_playback_mode,r._currentMode=i.player_playback_mode)})},y7e=x7e,b7e=(function(){function t(e){Eu(this,t),On(this,"pm",void 0),On(this,"_currentRangeStart",void 0),On(this,"_lastPlayheadTime",void 0),this.pm=e,this._currentRangeStart=null,this._lastPlayheadTime=null,e.on("playbackheartbeat",this._updatePlaybackRange.bind(this)),e.on("playbackheartbeatend",this._endPlaybackRange.bind(this))}return Gm(t,[{key:"_updateLastRangeEnd",value:function(){var e=this.pm.data.video_playback_ranges;if(e&&e.length>0){var r=this.pm.data.player_playhead_time||0;e[e.length-1][1]=r}}},{key:"_updatePlaybackRange",value:function(){var e,r=this.pm.data.player_playhead_time||0;if(!(!this.pm.disableAdPlaybackRangeFiltering&&!((e=this.pm.adTracker)===null||e===void 0)&&e.isAdBreak&&this._lastPlayheadTime!==null&&r<this._lastPlayheadTime)){if(this._lastPlayheadTime!==null&&this._currentRangeStart!==null){var n=Math.abs(r-this._lastPlayheadTime);if(n>1e3){var i=this.pm.data.video_playback_ranges;i&&i.length>0&&(i[i.length-1][1]=this._lastPlayheadTime),this._currentRangeStart=null}}if(this._currentRangeStart===null){var a=this.pm.data.video_playback_ranges||[];a.length>0&&a[a.length-1][1]===r?this._currentRangeStart=a[a.length-1][0]:(this._currentRangeStart=r,a.push([r,r])),this.pm.data.video_playback_ranges=a}else this._updateLastRangeEnd();this._lastPlayheadTime=r}}},{key:"_endPlaybackRange",value:function(){this._currentRangeStart!==null&&(this._updateLastRangeEnd(),this._currentRangeStart=null,this._lastPlayheadTime=null)}}]),t})(),w7e=b7e,E7e=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange","cdnchange","playbackmodechange"],_7e=new Set(["requestcompleted","requestfailed","requestcanceled"]),S7e=(function(t){W6e(r,t);var e=J6e(r);function r(n,i,a){Eu(this,r);var o;o=e.call(this),On(gs(o),"pageLoadEndTime",void 0),On(gs(o),"pageLoadInitTime",void 0),On(gs(o),"_destroyed",void 0),On(gs(o),"_heartBeatTimeout",void 0),On(gs(o),"adTracker",void 0),On(gs(o),"dashjs",void 0),On(gs(o),"data",void 0),On(gs(o),"disablePlayheadRebufferTracking",void 0),On(gs(o),"disableRebufferTracking",void 0),On(gs(o),"disableAdPlaybackRangeFiltering",void 0),On(gs(o),"errorTracker",void 0),On(gs(o),"errorTranslator",void 0),On(gs(o),"emitTranslator",void 0),On(gs(o),"getAdData",void 0),On(gs(o),"getPlayheadTime",void 0),On(gs(o),"getStateData",void 0),On(gs(o),"stateDataTranslator",void 0),On(gs(o),"hlsjs",void 0),On(gs(o),"id",void 0),On(gs(o),"longResumeTracker",void 0),On(gs(o),"minimumRebufferDuration",void 0),On(gs(o),"mux",void 0),On(gs(o),"playbackEventDispatcher",void 0),On(gs(o),"playbackHeartbeat",void 0),On(gs(o),"playbackHeartbeatTime",void 0),On(gs(o),"playheadTime",void 0),On(gs(o),"seekingTracker",void 0),On(gs(o),"sustainedRebufferThreshold",void 0),On(gs(o),"watchTimeTracker",void 0),On(gs(o),"currentFragmentPDT",void 0),On(gs(o),"currentFragmentStart",void 0),o.pageLoadInitTime=iN.navigationStart(),o.pageLoadEndTime=iN.domContentLoadedEventEnd();var c={debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,disableAdPlaybackRangeFiltering:!1,errorTranslator:function(m){return m},emitTranslator:function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];return p},stateDataTranslator:function(m){return m}};o.mux=n,o.id=i,a!=null&&a.beaconDomain&&o.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),a=Object.assign(c,a),a.data=a.data||{},a.data.property_key&&(a.data.env_key=a.data.property_key,delete a.data.property_key),cl.level=a.debug?Hv.DEBUG:Hv.WARN,o.getPlayheadTime=a.getPlayheadTime,o.getStateData=a.getStateData||function(){return{}},o.getAdData=a.getAdData||function(){},o.minimumRebufferDuration=a.minimumRebufferDuration,o.sustainedRebufferThreshold=a.sustainedRebufferThreshold,o.playbackHeartbeatTime=a.playbackHeartbeatTime,o.disableRebufferTracking=a.disableRebufferTracking,o.disableRebufferTracking&&o.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),o.disablePlayheadRebufferTracking=a.disablePlayheadRebufferTracking,o.disableAdPlaybackRangeFiltering=a.disableAdPlaybackRangeFiltering,o.errorTranslator=a.errorTranslator,o.emitTranslator=a.emitTranslator,o.stateDataTranslator=a.stateDataTranslator,o.playbackEventDispatcher=new l7e(n,a.data.env_key,a),o.data={player_instance_id:h2(),mux_sample_rate:a.sampleRate,beacon_domain:a.beaconCollectionDomain||a.beaconDomain},o.data.view_sequence_number=1,o.data.player_sequence_number=1;var u=(function(){typeof this.data.view_start>"u"&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"),this.emit("renditionchange"))}).bind(gs(o));if(o.on("viewinit",function(m,p){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,p),this._initializeViewData(),this.one("play",u),this.one("adbreakstart",u)}),o.on("videochange",function(m,p){this._resetView(p)}),o.on("programchange",function(m,p){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),this._resetView(Object.assign(p,{view_program_changed:!0})),u(),this.emit("play"),this.emit("playing")}),o.on("fragmentchange",function(m,p){this.currentFragmentPDT=p.currentFragmentPDT,this.currentFragmentStart=p.currentFragmentStart}),o.on("destroy",o.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var l=function(){var m=typeof o.data.view_start<"u";o.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",m&&o.mux.WINDOW_HIDDEN&&(o.data.player_is_paused||o.emit("hb"))};window.addEventListener("visibilitychange",l,!1);var d=function(m){m.persisted||o.destroy()};window.addEventListener("pagehide",d,!1),o.on("destroy",function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("pagehide",d)})}o.on("playerready",function(m,p){Object.assign(this.data,p)}),E7e.forEach(function(m){o.on(m,function(p,g){m.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,g),this._sanitizeData()}),o.on("after"+m,function(){(m!=="error"||this.errorTracker.viewErrored)&&this.send(m)})}),o.on("viewend",function(m,p){Object.assign(o.data,p)});var f=function(m){var p=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=p-this.data.player_init_time),this.pageLoadInitTime=this.data.page_load_init_time||this.pageLoadInitTime,this.pageLoadEndTime=this.data.page_load_end_time||this.pageLoadEndTime,!this.mux.PLAYER_TRACKED&&this.pageLoadInitTime&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.pageLoadEndTime)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.pageLoadEndTime||1/0)-this.pageLoadInitTime)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time};return o.one("playerready",f),o.longResumeTracker=new f7e(gs(o)),o.errorTracker=new g8e(gs(o)),new F8e(gs(o)),o.seekingTracker=new P8e(gs(o)),o.playheadTime=new E8e(gs(o)),o.playbackHeartbeat=new A8e(gs(o)),new L8e(gs(o)),o.watchTimeTracker=new x8e(gs(o)),new b8e(gs(o)),new w7e(gs(o)),o.adTracker=new D8e(gs(o)),new T8e(gs(o)),new S8e(gs(o)),new N8e(gs(o)),new u7e(gs(o)),new g7e(gs(o)),new y7e(gs(o)),a.hlsjs&&o.addHLSJS(a),a.dashjs&&o.addDashJS(a),o.emit("viewinit",a.data),o}return Gm(r,[{key:"emit",value:function(n,i){var a,o=Object.assign({viewer_time:this.mux.utils.now()},i),c=[n,o];if(this.emitTranslator)try{c=this.emitTranslator(n,o)}catch(u){this.mux.log.warn("Exception in emit translator callback.",u)}c!=null&&c.length&&(a=xj(n1(r.prototype),"emit",this)).call.apply(a,[this].concat(Sm(c)))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,typeof this.data.view_start<"u"&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(n){if(this.data.view_id){var i=Object.assign({},this.data),a=["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"];if(i.video_source_is_live===void 0&&(i.player_source_duration===1/0||i.video_source_duration===1/0?i.video_source_is_live=!0:(i.player_source_duration>0||i.video_source_duration>0)&&(i.video_source_is_live=!1)),i.video_source_is_live||a.forEach(function(l){i[l]=void 0}),i.video_source_url=i.video_source_url||i.player_source_url,i.video_source_url){var o=ug(f2(i.video_source_url),2),c=o[0],u=o[1];i.video_source_domain=u,i.video_source_hostname=c}delete i.ad_request_id,i.video_playback_ranges&&(i.video_playback_range=JSON.stringify(i.video_playback_ranges.filter(function(l){return l[0]!==l[1]}).map(function(l){return"".concat(l[0],":").concat(l[1])})),delete i.video_playback_ranges),this.playbackEventDispatcher.send(n,i),this.data.view_sequence_number++,this.data.player_sequence_number++,_7e.has(n)||this._restartHeartBeat(),n==="viewend"&&delete this.data.view_id}}},{key:"_resetView",value:function(n){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",n)}},{key:"_updateStateData",value:function(){var n,i=this.getStateData();if(typeof this.stateDataTranslator=="function")try{i=this.stateDataTranslator(i)}catch(o){this.mux.log.warn("Exception in stateDataTranslator translator callback.",o)}if(!((n=this.data)===null||n===void 0)&&n.video_cdn&&i!=null&&i.video_cdn){i.video_cdn;var a=q6e(i,["video_cdn"]);i=a}Object.assign(this.data,i),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var n=this,i=["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"];i.forEach(function(o){var c=parseInt(n.data[o],10);n.data[o]=isNaN(c)?void 0:c});var a=["player_source_url","video_source_url"];a.forEach(function(o){if(n.data[o]){var c=n.data[o].toLowerCase();(c.indexOf("data:")===0||c.indexOf("blob:")===0)&&(n.data[o]="MSE style URL")}})}},{key:"_resetVideoData",value:function(){var n=this;Object.keys(this.data).forEach(function(i){i.indexOf("video_")===0&&delete n.data[i]})}},{key:"_resetViewData",value:function(){var n=this;Object.keys(this.data).forEach(function(i){i.indexOf("view_")===0&&delete n.data[i]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(){delete this.data.player_error_code,delete this.data.player_error_message,delete this.data.player_error_context,delete this.data.player_error_severity,delete this.data.player_error_business_exception}},{key:"_initializeViewData",value:function(){var n=this,i=this.data.view_id=h2(),a=function(){i===n.data.view_id&&Vu(n.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",a):a()}},{key:"_restartHeartBeat",value:function(){var n=this;window.clearTimeout(this._heartBeatTimeout),this._heartBeatTimeout=window.setTimeout(function(){n.data.player_is_paused||n.emit("hb")},1e4)}},{key:"addHLSJS",value:function(n){if(!n.hlsjs){this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.");return}if(this.hlsjs){this.mux.log.warn("An instance of HLS.js is already being monitored for this player.");return}this.hlsjs=n.hlsjs,s8e(this.mux,this.id,n.hlsjs,{},n.Hls||window.Hls)}},{key:"removeHLSJS",value:function(){this.hlsjs&&(a8e(this.hlsjs),this.hlsjs=void 0)}},{key:"addDashJS",value:function(n){if(!n.dashjs){this.mux.log.warn("You must pass a valid dashjs instance in order to track it.");return}if(this.dashjs){this.mux.log.warn("An instance of Dash.js is already being monitored for this player.");return}this.dashjs=n.dashjs,u8e(this.mux,this.id,n.dashjs)}},{key:"removeDashJS",value:function(){this.dashjs&&(d8e(this.dashjs),this.dashjs=void 0)}}]),r})(f8e),j7e=S7e,gw=lm(Nie());function OI(){return gw.default&&!!(gw.default.fullscreenElement||gw.default.webkitFullscreenElement||gw.default.mozFullScreenElement||gw.default.msFullscreenElement)}var T7e=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],C7e={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};function N7e(t,e,r){var n=ug(nN(e),3),i=n[0],a=n[1],o=n[2],c=t.log,u=t.utils.getComputedStyle,l=t.utils.secondsToMs,d={automaticErrorTracking:!0};if(i){if(o!=="video"&&o!=="audio")return c.error("The element of `"+a+"` was not a media element.")}else return c.error("No element was found with the `"+a+"` query selector.");i.mux&&(i.mux.destroy(),delete i.mux,c.warn("Already monitoring this video element, replacing existing event listeners"));var f={getPlayheadTime:function(){return l(i.currentTime)},getStateData:function(){var p,g,x,y=((p=(g=this).getPlayheadTime)===null||p===void 0?void 0:p.call(g))||l(i.currentTime),w=this.hlsjs&&this.hlsjs.url,E=this.dashjs&&typeof this.dashjs.getSource=="function"&&this.dashjs.getSource(),_={player_is_paused:i.paused,player_width:parseInt(u(i,"width")),player_height:parseInt(u(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:OI(),video_poster_url:i.poster,video_source_url:w||E||i.currentSrc,video_source_duration:l(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:i==null||(x=i.getVideoPlaybackQuality)===null||x===void 0?void 0:x.call(i).droppedVideoFrames};if(i.getStartDate&&y>0){var N=i.getStartDate();if(N&&typeof N.getTime=="function"&&N.getTime()){var C=N.getTime();if(_.player_program_time=C+y,i.seekable.length>0){var I=C+i.seekable.end(i.seekable.length-1);_.player_live_edge_program_time=I}}}return _}};r=Object.assign(d,r,f),r.data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:t.VERSION},r.data),i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(p,g){t.emit(a,p,g)},i.mux.updateData=function(p){i.mux.emit("hb",p)};var m=function(){c.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(p){i.removeEventListener(p,i.mux.listeners[p],!1)}),delete i.mux.listeners,i.mux.fullscreenChangeListener&&(document.removeEventListener("fullscreenchange",i.mux.fullscreenChangeListener,!1),delete i.mux.fullscreenChangeListener),i.mux.destroy=m,i.mux.swapElement=m,i.mux.emit=m,i.mux.addHLSJS=m,i.mux.addDashJS=m,i.mux.removeHLSJS=m,i.mux.removeDashJS=m,i.mux.updateData=m,i.mux.setEmitTranslator=m,i.mux.setStateDataTranslator=m,i.mux.setGetPlayheadTime=m,i.mux.deleted=!0,t.emit(a,"destroy")},i.mux.swapElement=function(p){var g=ug(nN(p),3),x=g[0],y=g[1],w=g[2];if(x){if(w!=="video"&&w!=="audio")return t.log.error("The element of `"+y+"` was not a media element.")}else return t.log.error("No element was found with the `"+y+"` query selector.");x.muxId=i.muxId,delete i.muxId,x.mux=x.mux||{},x.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(x.mux.listeners).forEach(function(E){i.removeEventListener(E,x.mux.listeners[E],!1),x.addEventListener(E,x.mux.listeners[E],!1)}),x.mux.fullscreenChangeListener=i.mux.fullscreenChangeListener,delete i.mux.fullscreenChangeListener,x.mux.swapElement=i.mux.swapElement,x.mux.destroy=i.mux.destroy,delete i.mux,i=x},i.mux.addHLSJS=function(p){t.addHLSJS(a,p)},i.mux.addDashJS=function(p){t.addDashJS(a,p)},i.mux.removeHLSJS=function(){t.removeHLSJS(a)},i.mux.removeDashJS=function(){t.removeDashJS(a)},i.mux.setEmitTranslator=function(p){t.setEmitTranslator(a,p)},i.mux.setStateDataTranslator=function(p){t.setStateDataTranslator(a,p)},i.mux.setGetPlayheadTime=function(p){p||(p=r.getPlayheadTime),t.setGetPlayheadTime(a,p)},t.init(a,r),t.emit(a,"playerready"),i.paused||(t.emit(a,"play"),i.readyState>2&&t.emit(a,"playing")),i.mux.listeners={},T7e.forEach(function(p){p==="error"&&!r.automaticErrorTracking||(i.mux.listeners[p]=function(){var g={};if(p==="error"){if(!i.error||i.error.code===1)return;g.player_error_code=i.error.code,g.player_error_message=C7e[i.error.code]||i.error.message}t.emit(a,p,g)},i.addEventListener(p,i.mux.listeners[p],!1))}),i.mux.listeners.enterpictureinpicture=function(){t.emit(a,"playbackmodechange",{player_playback_mode:"pip",player_playback_mode_data:"{}"})},i.mux.listeners.leavepictureinpicture=function(){var p=OI()?"fullscreen":"standard";t.emit(a,"playbackmodechange",{player_playback_mode:p,player_playback_mode_data:"{}"})},i.addEventListener("enterpictureinpicture",i.mux.listeners.enterpictureinpicture,!1),i.addEventListener("leavepictureinpicture",i.mux.listeners.leavepictureinpicture,!1),i.mux.fullscreenChangeListener=function(){var p=OI(),g=document.fullscreenElement;if(p&&(g===i||g!=null&&g.contains(i)))t.emit(a,"playbackmodechange",{player_playback_mode:"fullscreen",player_playback_mode_data:"{}"});else if(!p){var x=document.pictureInPictureElement===i,y=x?"pip":"standard";t.emit(a,"playbackmodechange",{player_playback_mode:y,player_playback_mode_data:"{}"})}},document.addEventListener("fullscreenchange",i.mux.fullscreenChangeListener,!1)}function k7e(t,e,r,n){var i=n;if(t&&typeof t[e]=="function")try{i=t[e].apply(t,r)}catch(a){cl.info("safeCall error",a)}return i}var bE=lm(rp()),By;bE.default&&bE.default.WeakMap&&(By=new WeakMap);function L7e(t,e){if(!t||!e||!bE.default||typeof bE.default.getComputedStyle!="function")return"";var r;return By&&By.has(t)&&(r=By.get(t)),r||(r=bE.default.getComputedStyle(t,null),By&&By.set(t,r)),r.getPropertyValue(e)}function I7e(t){return Math.floor(t*1e3)}var xv={TARGET_DURATION:"#EXT-X-TARGETDURATION",PART_INF:"#EXT-X-PART-INF",SERVER_CONTROL:"#EXT-X-SERVER-CONTROL",INF:"#EXTINF",PROGRAM_DATE_TIME:"#EXT-X-PROGRAM-DATE-TIME",VERSION:"#EXT-X-VERSION",SESSION_DATA:"#EXT-X-SESSION-DATA"},t5=function(t){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(t),this.manifest};t5.prototype.process=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf(`
`);e>-1;e=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)};t5.prototype.processLine=function(t){var e=t.indexOf(":"),r=R7e(t,e),n=r[0],i=r.length===2?HF(r[1]):void 0;if(n[0]!=="#")this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case xv.TARGET_DURATION:{if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break}case xv.PART_INF:{RI(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break}case xv.SERVER_CONTROL:{RI(this.manifest,r),this.setHoldBack();break}case xv.INF:{i===0?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break}case xv.PROGRAM_DATE_TIME:{var a=i,o=new Date(a);this.manifest.dateTimeString||(this.manifest.dateTimeString=a,this.manifest.dateTimeObject=o),this.currentUri.dateTimeString=a,this.currentUri.dateTimeObject=o;break}case xv.VERSION:{RI(this.manifest,r);break}case xv.SESSION_DATA:{var c=D7e(r[1]),u=Bie(c);Object.assign(this.manifest.sessionData,u)}}};t5.prototype.setHoldBack=function(){var t=this.manifest,e=t.serverControl,r=t.targetDuration,n=t.partTargetDuration;if(e){var i="holdBack",a="partHoldBack",o=r&&r*3,c=n&&n*2;r&&!e.hasOwnProperty(i)&&(e[i]=o),o&&e[i]<o&&(e[i]=o),n&&!e.hasOwnProperty(a)&&(e[a]=n*3),n&&e[a]<c&&(e[a]=c)}};var RI=function(t,e){var r=Hie(e[0].replace("#EXT-X-","")),n;O7e(e[1])?(n={},n=Object.assign(P7e(e[1]),n)):n=HF(e[1]),t[r]=n},Hie=function(t){return t.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},HF=function(t){if(t.toLowerCase()==="yes"||t.toLowerCase()==="no")return t.toLowerCase()==="yes";var e=t.indexOf(":")!==-1?t:parseFloat(t);return isNaN(e)?t:e},B7e=function(t){var e={},r=t.split("=");if(r.length>1){var n=Hie(r[0]);e[n]=HF(r[1])}return e},P7e=function(t){for(var e=t.split(","),r={},n=0;e.length>n;n++){var i=e[n],a=B7e(i);r=Object.assign(a,r)}return r},O7e=function(t){return t.indexOf("=")>-1},R7e=function(t,e){return e===-1?[t]:[t.substring(0,e),t.substring(e+1)]},D7e=function(t){var e={};if(t){var r=t.search(","),n=t.slice(0,r),i=t.slice(r+1),a=[n,i];return a.forEach(function(o,c){for(var u=o.replace(/['"]+/g,"").split("="),l=0;l<u.length;l++)u[l]==="DATA-ID"&&(e["DATA-ID"]=u[1-l]),u[l]==="VALUE"&&(e.VALUE=u[1-l])}),{data:e}}},M7e=t5,F7e={safeCall:k7e,safeIncrement:Vu,getComputedStyle:L7e,secondsToMs:I7e,assign:Object.assign,headersStringToObject:$F,cdnHeadersToRequestId:aN,extractHostnameAndDomain:f2,extractHostname:Pm,manifestParser:M7e,generateShortID:Lie,generateUUID:h2,now:xd.now,findMediaElement:nN},U7e=F7e,$7e={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",PLAYBACK_MODE_CHANGE:"playbackmodechange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled",HEARTBEAT:"hb",DESTROY:"destroy"},H7e=$7e,Q7e="mux-embed",z7e="5.16.1",V7e="2.1",mu={},O0=function(t){var e=arguments;typeof t=="string"?O0.hasOwnProperty(t)?yE.default.setTimeout(function(){e=Array.prototype.splice.call(e,1),O0[t].apply(null,e)},0):cl.warn("`"+t+"` is an unknown task"):typeof t=="function"?yE.default.setTimeout(function(){t(O0)},0):cl.warn("`"+t+"` is invalid.")},K7e={loaded:xd.now(),NAME:Q7e,VERSION:z7e,API_VERSION:V7e,PLAYER_TRACKED:!1,monitor:function(t,e){return N7e(O0,t,e)},destroyMonitor:function(t){var e=ug(nN(t),1),r=e[0];r&&r.mux&&typeof r.mux.destroy=="function"?r.mux.destroy():cl.error("A video element monitor for `"+t+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(t,e){var r=_m(t);mu[r]?mu[r].addHLSJS(e):cl.error("A monitor for `"+r+"` has not been initialized.")},addDashJS:function(t,e){var r=_m(t);mu[r]?mu[r].addDashJS(e):cl.error("A monitor for `"+r+"` has not been initialized.")},removeHLSJS:function(t){var e=_m(t);mu[e]?mu[e].removeHLSJS():cl.error("A monitor for `"+e+"` has not been initialized.")},removeDashJS:function(t){var e=_m(t);mu[e]?mu[e].removeDashJS():cl.error("A monitor for `"+e+"` has not been initialized.")},init:function(t,e){TO()&&e&&e.respectDoNotTrack&&cl.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var r=_m(t);mu[r]=new j7e(O0,r,e)},emit:function(t,e,r){var n=_m(t);mu[n]?(mu[n].emit(e,r),e==="destroy"&&delete mu[n]):cl.error("A monitor for `"+n+"` has not been initialized.")},updateData:function(t,e){var r=_m(t);mu[r]?mu[r].emit("hb",e):cl.error("A monitor for `"+r+"` has not been initialized.")},setEmitTranslator:function(t,e){var r=_m(t);mu[r]?mu[r].emitTranslator=e:cl.error("A monitor for `"+r+"` has not been initialized.")},setStateDataTranslator:function(t,e){var r=_m(t);mu[r]?mu[r].stateDataTranslator=e:cl.error("A monitor for `"+r+"` has not been initialized.")},setGetPlayheadTime:function(t,e){var r=_m(t);mu[r]?mu[r].getPlayheadTime=e:cl.error("A monitor for `"+r+"` has not been initialized.")},checkDoNotTrack:TO,log:cl,utils:U7e,events:H7e,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(O0,K7e);typeof yE.default<"u"&&typeof yE.default.addEventListener=="function"&&yE.default.addEventListener("pagehide",function(t){t.persisted||(O0.WINDOW_UNLOADING=!0)},!1);var QF=O0;const Jn=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},G7e=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=W7e},W7e=Number.MAX_SAFE_INTEGER||9007199254740991;let Oi=(function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t})({}),wr=(function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t})({}),Le=(function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t})({});var ya={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},mi={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class gy{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Y7e{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new gy(e),this.fast_=new gy(r),this.defaultTTFB_=i,this.ttfb_=new gy(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:a}=this;n.halfLife!==e&&(this.slow_=new gy(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new gy(r,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new gy(e,a.getEstimate(),a.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function q7e(t,e,r){return(e=Z7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nl.apply(null,arguments)}function MK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MK(Object(r),!0).forEach(function(n){q7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z7e(t){var e=X7e(t,"string");return typeof e=="symbol"?e:e+""}class cm{constructor(e,r){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const n=`[${e}]:`;this.trace=v0,this.debug=r.debug.bind(null,n),this.log=r.log.bind(null,n),this.warn=r.warn.bind(null,n),this.info=r.info.bind(null,n),this.error=r.error.bind(null,n)}}const v0=function(){},J7e={trace:v0,debug:v0,log:v0,warn:v0,info:v0,error:v0};function kO(){return nl({},J7e)}function e$e(t,e){const r=self.console[t];return r?r.bind(self.console,`${e?"["+e+"] ":""}[${t}] >`):v0}function FK(t,e,r){return e[t]?e[t].bind(e):e$e(t,r)}const LO=kO();function t$e(t,e,r){const n=kO();if(typeof console=="object"&&t===!0||typeof t=="object"){const i=["debug","log","info","warn","error"];i.forEach(a=>{n[a]=FK(a,t,r)});try{n.log(`Debug logs enabled for "${e}" in hls.js version 1.6.15`)}catch{return kO()}i.forEach(a=>{LO[a]=FK(a,t)})}else nl(LO,n);return n}const Ho=LO;function V0(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function r$e(t){return typeof self<"u"&&t===self.ManagedMediaSource}function Qie(t,e){const r=Object.keys(t),n=Object.keys(e),i=r.length,a=n.length;return!i||!a||i===a&&!r.some(o=>n.indexOf(o)===-1)}function _f(t,e=!1){if(typeof TextDecoder<"u"){const l=new TextDecoder("utf-8").decode(t);if(e){const d=l.indexOf("\0");return d!==-1?l.substring(0,d):l}return l.replace(/\0/g,"")}const r=t.length;let n,i,a,o="",c=0;for(;c<r;){if(n=t[c++],n===0&&e)return o;if(n===0||n===3)continue;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(n);break;case 12:case 13:i=t[c++],o+=String.fromCharCode((n&31)<<6|i&63);break;case 14:i=t[c++],a=t[c++],o+=String.fromCharCode((n&15)<<12|(i&63)<<6|(a&63)<<0);break}}return o}function Qd(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}function zie(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function n$e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DI={exports:{}},UK;function i$e(){return UK||(UK=1,(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(u,l,d){if(d=d||{},u=u.trim(),l=l.trim(),!l){if(!d.alwaysNormalize)return u;var f=c.parseURL(u);if(!f)throw new Error("Error trying to parse base URL.");return f.path=c.normalizePath(f.path),c.buildURLFromParts(f)}var m=c.parseURL(l);if(!m)throw new Error("Error trying to parse relative URL.");if(m.scheme)return d.alwaysNormalize?(m.path=c.normalizePath(m.path),c.buildURLFromParts(m)):l;var p=c.parseURL(u);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var g=i.exec(p.path);p.netLoc=g[1],p.path=g[2]}p.netLoc&&!p.path&&(p.path="/");var x={scheme:p.scheme,netLoc:m.netLoc,path:null,params:m.params,query:m.query,fragment:m.fragment};if(!m.netLoc&&(x.netLoc=p.netLoc,m.path[0]!=="/"))if(!m.path)x.path=p.path,m.params||(x.params=p.params,m.query||(x.query=p.query));else{var y=p.path,w=y.substring(0,y.lastIndexOf("/")+1)+m.path;x.path=c.normalizePath(w)}return x.path===null&&(x.path=d.alwaysNormalize?c.normalizePath(m.path):m.path),c.buildURLFromParts(x)},parseURL:function(u){var l=n.exec(u);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(a,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};t.exports=c})()})(DI)),DI.exports}var zF=i$e();class VF{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var ul={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class Vie{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,a$e(this,"stats")}setByteRange(e,r){const n=e.split("@",2);let i;n.length===1?i=r?.byteRangeEndOffset||0:i=parseInt(n[1]),this._byteRange=[i,parseInt(n[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[ul.AUDIO]:null,[ul.VIDEO]:null,[ul.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new VF),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=zF.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[ul.AUDIO]=null,e[ul.VIDEO]=null,e[ul.AUDIOVIDEO]=null}}function ru(t){return t.sn!=="initSegment"}class MI extends Vie{constructor(e,r){super(r),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange.length){const e=this.byteRange[0],r=this.byteRange[1];if(Jn(e)&&Jn(r))return r-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){var e;const{levelkeys:r}=this;if(!r||r.NONE)return null;if(r.identity)this._decryptdata||(this._decryptdata=r.identity.getDecryptData(this.sn));else if(!((e=this._decryptdata)!=null&&e.keyId)){const n=Object.keys(r);if(n.length===1){const i=this._decryptdata=r[n[0]]||null;i&&(this._decryptdata=i.getDecryptData(this.sn,r))}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=Jn(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){var r;const n=Object.keys(this.levelkeys),i=n.length;if(i>1||i===1&&(r=this.levelkeys[n[0]])!=null&&r.encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!Jn(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return ru(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){const r=this.levelkeys;if(r){var n;const i=r[e];i&&!((n=this._decryptdata)!=null&&n.keyId)&&(this._decryptdata=i.getDecryptData(this.sn,r))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,a,o=!1){const{elementaryStreams:c}=this,u=c[e];if(!u){c[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:a,partial:o};return}u.startPTS=Math.min(u.startPTS,r),u.endPTS=Math.max(u.endPTS,n),u.startDTS=Math.min(u.startDTS,i),u.endDTS=Math.max(u.endDTS,a)}}let s$e=class extends Vie{constructor(e,r,n,i,a){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};function Kie(t,e){const r=Object.getPrototypeOf(t);if(r){const n=Object.getOwnPropertyDescriptor(r,e);return n||Kie(r,e)}}function a$e(t,e){const r=Kie(t,e);r&&(r.enumerable=!0,Object.defineProperty(t,e,r))}const $K=Math.pow(2,32)-1,o$e=[].push,Gie={video:1,audio:2,id3:3,text:4};function Uu(t){return String.fromCharCode.apply(null,t)}function Wie(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function Os(t,e){const r=Yie(t,e);return r<0?4294967296+r:r}function HK(t,e){let r=Os(t,e);return r*=Math.pow(2,32),r+=Os(t,e+4),r}function Yie(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function l$e(t){const e=t.byteLength;for(let r=0;r<e;){const n=Os(t,r);if(n>8&&t[r+4]===109&&t[r+5]===111&&t[r+6]===111&&t[r+7]===102)return!0;r=n>1?r+n:e}return!1}function pa(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const a=Os(t,i),o=Uu(t.subarray(i+4,i+8)),c=a>1?i+a:n;if(o===e[0])if(e.length===1)r.push(t.subarray(i+8,c));else{const u=pa(t.subarray(i+8,c),e.slice(1));u.length&&o$e.apply(r,u)}i=c}return r}function c$e(t){const e=[],r=t[0];let n=8;const i=Os(t,n);n+=4;let a=0,o=0;r===0?(a=Os(t,n),o=Os(t,n+4),n+=8):(a=HK(t,n),o=HK(t,n+8),n+=16),n+=2;let c=t.length+o;const u=Wie(t,n);n+=2;for(let l=0;l<u;l++){let d=n;const f=Os(t,d);d+=4;const m=f&2147483647;if((f&2147483648)>>>31===1)return Ho.warn("SIDX has hierarchical references (not supported)"),null;const g=Os(t,d);d+=4,e.push({referenceSize:m,subsegmentDuration:g,info:{duration:g/i,start:c,end:c+m-1}}),c+=m,d+=4,n=d}return{earliestPresentationTime:a,timescale:i,version:r,referencesCount:u,references:e}}function qie(t){const e=[],r=pa(t,["moov","trak"]);for(let i=0;i<r.length;i++){const a=r[i],o=pa(a,["tkhd"])[0];if(o){let c=o[0];const u=Os(o,c===0?12:20),l=pa(a,["mdia","mdhd"])[0];if(l){c=l[0];const d=Os(l,c===0?12:20),f=pa(a,["mdia","hdlr"])[0];if(f){const m=Uu(f.subarray(8,12)),p={soun:ul.AUDIO,vide:ul.VIDEO}[m],g=pa(a,["mdia","minf","stbl","stsd"])[0],x=u$e(g);p?(e[u]={timescale:d,type:p,stsd:x},e[p]=Uo({timescale:d,id:u},x)):e[u]={timescale:d,type:m,stsd:x}}}}}return pa(t,["moov","mvex","trex"]).forEach(i=>{const a=Os(i,4),o=e[a];o&&(o.default={duration:Os(i,12),flags:Os(i,20)})}),e}function u$e(t){const e=t.subarray(8),r=e.subarray(86),n=Uu(e.subarray(4,8));let i=n,a;const o=n==="enca"||n==="encv";if(o){const l=pa(e,[n])[0].subarray(n==="enca"?28:78);pa(l,["sinf"]).forEach(f=>{const m=pa(f,["schm"])[0];if(m){const p=Uu(m.subarray(4,8));if(p==="cbcs"||p==="cenc"){const g=pa(f,["frma"])[0];g&&(i=Uu(g))}}})}const c=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const u=pa(r,["avcC"])[0];u&&u.length>3&&(i+="."+SS(u[1])+SS(u[2])+SS(u[3]),a=_S(c==="avc1"?"dva1":"dvav",r));break}case"mp4a":{const u=pa(e,[n])[0],l=pa(u.subarray(28),["esds"])[0];if(l&&l.length>7){let d=4;if(l[d++]!==3)break;d=FI(l,d),d+=2;const f=l[d++];if(f&128&&(d+=2),f&64&&(d+=l[d++]),l[d++]!==4)break;d=FI(l,d);const m=l[d++];if(m===64)i+="."+SS(m);else break;if(d+=12,l[d++]!==5)break;d=FI(l,d);const p=l[d++];let g=(p&248)>>3;g===31&&(g+=1+((p&7)<<3)+((l[d]&224)>>5)),i+="."+g}break}case"hvc1":case"hev1":{const u=pa(r,["hvcC"])[0];if(u&&u.length>12){const l=u[1],d=["","A","B","C"][l>>6],f=l&31,m=Os(u,2),p=(l&32)>>5?"H":"L",g=u[12],x=u.subarray(6,12);i+="."+d+f,i+="."+d$e(m).toString(16).toUpperCase(),i+="."+p+g;let y="";for(let w=x.length;w--;){const E=x[w];(E||y)&&(y="."+E.toString(16).toUpperCase()+y)}i+=y}a=_S(c=="hev1"?"dvhe":"dvh1",r);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=_S(i,r)||i;break}case"vp09":{const u=pa(r,["vpcC"])[0];if(u&&u.length>6){const l=u[4],d=u[5],f=u[6]>>4&15;i+="."+LA(l)+"."+LA(d)+"."+LA(f)}break}case"av01":{const u=pa(r,["av1C"])[0];if(u&&u.length>2){const l=u[1]>>>5,d=u[1]&31,f=u[2]>>>7?"H":"M",m=(u[2]&64)>>6,p=(u[2]&32)>>5,g=l===2&&m?p?12:10:m?10:8,x=(u[2]&16)>>4,y=(u[2]&8)>>3,w=(u[2]&4)>>2,E=u[2]&3;i+="."+l+"."+LA(d)+f+"."+LA(g)+"."+x+"."+y+w+E+"."+LA(1)+"."+LA(1)+"."+LA(1)+"."+0,a=_S("dav1",r)}break}}return{codec:i,encrypted:o,supplemental:a}}function _S(t,e){const r=pa(e,["dvvC"]),n=r.length?r[0]:pa(e,["dvcC"])[0];if(n){const i=n[2]>>1&127,a=n[2]<<5&32|n[3]>>3&31;return t+"."+LA(i)+"."+LA(a)}}function d$e(t){let e=0;for(let r=0;r<32;r++)e|=(t>>r&1)<<31-r;return e>>>0}function FI(t,e){const r=e+5;for(;t[e++]&128&&e<r;);return e}function SS(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function LA(t){return(t<10?"0":"")+t}function h$e(t,e){if(!t||!e)return;const r=e.keyId;r&&e.isCommonEncryption&&Xie(t,(n,i)=>{const a=n.subarray(8,24);a.some(o=>o!==0)||(Ho.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${Qd(a)} -> ${Qd(r)}`),n.set(r,8))})}function f$e(t){const e=[];return Xie(t,r=>e.push(r.subarray(8,24))),e}function Xie(t,e){pa(t,["moov","trak"]).forEach(n=>{const i=pa(n,["mdia","minf","stbl","stsd"])[0];if(!i)return;const a=i.subarray(8);let o=pa(a,["enca"]);const c=o.length>0;c||(o=pa(a,["encv"])),o.forEach(u=>{const l=c?u.subarray(28):u.subarray(78);pa(l,["sinf"]).forEach(f=>{const m=Zie(f);m&&e(m,c)})})})}function Zie(t){const e=pa(t,["schm"])[0];if(e){const r=Uu(e.subarray(4,8));if(r==="cbcs"||r==="cenc"){const n=pa(t,["schi","tenc"])[0];if(n)return n}}}function m$e(t,e,r){const n={},i=pa(t,["moof","traf"]);for(let a=0;a<i.length;a++){const o=i[a],c=pa(o,["tfhd"])[0],u=Os(c,4),l=e[u];if(!l)continue;n[u]||(n[u]={start:NaN,duration:0,sampleCount:0,timescale:l.timescale,type:l.type});const d=n[u],f=pa(o,["tfdt"])[0];if(f){const _=f[0];let N=Os(f,4);_===1&&(N===$K?r.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(N*=$K+1,N+=Os(f,8))),Jn(N)&&(!Jn(d.start)||N<d.start)&&(d.start=N)}const m=l.default,p=Os(c,0)|m?.flags;let g=m?.duration||0;p&8&&(p&2?g=Os(c,12):g=Os(c,8));const x=pa(o,["trun"]);let y=d.start||0,w=0,E=g;for(let _=0;_<x.length;_++){const N=x[_],C=Os(N,4),I=d.sampleCount;d.sampleCount+=C;const D=N[3]&1,M=N[3]&4,Y=N[2]&1,X=N[2]&2,te=N[2]&4,de=N[2]&8;let ye=8,we=C;for(D&&(ye+=4),M&&C&&(!(N[ye+1]&1)&&d.keyFrameIndex===void 0&&(d.keyFrameIndex=I),ye+=4,Y?(E=Os(N,ye),ye+=4):E=g,X&&(ye+=4),de&&(ye+=4),y+=E,w+=E,we--);we--;)Y?(E=Os(N,ye),ye+=4):E=g,X&&(ye+=4),te&&(N[ye+1]&1||d.keyFrameIndex===void 0&&(d.keyFrameIndex=d.sampleCount-(we+1),d.keyFrameStart=y),ye+=4),de&&(ye+=4),y+=E,w+=E;!w&&g&&(w+=g*C)}d.duration+=w}if(!Object.keys(n).some(a=>n[a].duration)){let a=1/0,o=0;const c=pa(t,["sidx"]);for(let u=0;u<c.length;u++){const l=c$e(c[u]);if(l!=null&&l.references){a=Math.min(a,l.earliestPresentationTime/l.timescale);const d=l.references.reduce((f,m)=>f+m.info.duration||0,0);o=Math.max(o,d+l.earliestPresentationTime/l.timescale)}}o&&Jn(o)&&Object.keys(n).forEach(u=>{n[u].duration||(n[u].duration=o*n[u].timescale-n[u].start)})}return n}function A$e(t){const e={valid:null,remainder:null},r=pa(t,["moof"]);if(r.length<2)return e.remainder=t,e;const n=r[r.length-1];return e.valid=t.slice(0,n.byteOffset-8),e.remainder=t.slice(n.byteOffset-8),e}function am(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function QK(t,e){const r=[],n=e.samples,i=e.timescale,a=e.id;let o=!1;return pa(n,["moof"]).map(u=>{const l=u.byteOffset-8;pa(u,["traf"]).map(f=>{const m=pa(f,["tfdt"]).map(p=>{const g=p[0];let x=Os(p,4);return g===1&&(x*=Math.pow(2,32),x+=Os(p,8)),x/i})[0];return m!==void 0&&(t=m),pa(f,["tfhd"]).map(p=>{const g=Os(p,4),x=Os(p,0)&16777215,y=(x&1)!==0,w=(x&2)!==0,E=(x&8)!==0;let _=0;const N=(x&16)!==0;let C=0;const I=(x&32)!==0;let D=8;g===a&&(y&&(D+=8),w&&(D+=4),E&&(_=Os(p,D),D+=4),N&&(C=Os(p,D),D+=4),I&&(D+=4),e.type==="video"&&(o=r5(e.codec)),pa(f,["trun"]).map(M=>{const Y=M[0],X=Os(M,0)&16777215,te=(X&1)!==0;let de=0;const ye=(X&4)!==0,we=(X&256)!==0;let ve=0;const ne=(X&512)!==0;let ae=0;const oe=(X&1024)!==0,Re=(X&2048)!==0;let Pe=0;const be=Os(M,4);let he=8;te&&(de=Os(M,he),he+=4),ye&&(he+=4);let Ie=de+l;for(let Oe=0;Oe<be;Oe++){if(we?(ve=Os(M,he),he+=4):ve=_,ne?(ae=Os(M,he),he+=4):ae=C,oe&&(he+=4),Re&&(Y===0?Pe=Os(M,he):Pe=Yie(M,he),he+=4),e.type===ul.VIDEO){let $e=0;for(;$e<ae;){const De=Os(n,Ie);if(Ie+=4,p$e(o,n[Ie])){const ct=n.subarray(Ie,Ie+De);KF(ct,o?2:1,t+Pe/i,r)}Ie+=De,$e+=De+4}}t+=ve/i}}))})})}),r}function r5(t){if(!t)return!1;const e=t.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function p$e(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function KF(t,e,r,n){const i=Jie(t);let a=0;a+=e;let o=0,c=0,u=0;for(;a<i.length;){o=0;do{if(a>=i.length)break;u=i[a++],o+=u}while(u===255);c=0;do{if(a>=i.length)break;u=i[a++],c+=u}while(u===255);const l=i.length-a;let d=a;if(c<l)a+=c;else if(c>l){Ho.error(`Malformed SEI payload. ${c} is too small, only ${l} bytes left to parse.`);break}if(o===4){if(i[d++]===181){const m=Wie(i,d);if(d+=2,m===49){const p=Os(i,d);if(d+=4,p===1195456820){const g=i[d++];if(g===3){const x=i[d++],y=31&x,w=64&x,E=w?2+y*3:0,_=new Uint8Array(E);if(w){_[0]=x;for(let N=1;N<E;N++)_[N]=i[d++]}n.push({type:g,payloadType:o,pts:r,bytes:_})}}}}}else if(o===5&&c>16){const f=[];for(let g=0;g<16;g++){const x=i[d++].toString(16);f.push(x.length==1?"0"+x:x),(g===3||g===5||g===7||g===9)&&f.push("-")}const m=c-16,p=new Uint8Array(m);for(let g=0;g<m;g++)p[g]=i[d++];n.push({payloadType:o,pts:r,uuid:f.join(""),userData:_f(p),userDataBytes:p})}}}function Jie(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,a=new Uint8Array(i);let o=0;for(n=0;n<i;o++,n++)o===r[0]&&(o++,r.shift()),a[n]=t[o];return a}function g$e(t){const e=t[0];let r="",n="",i=0,a=0,o=0,c=0,u=0,l=0;if(e===0){for(;Uu(t.subarray(l,l+1))!=="\0";)r+=Uu(t.subarray(l,l+1)),l+=1;for(r+=Uu(t.subarray(l,l+1)),l+=1;Uu(t.subarray(l,l+1))!=="\0";)n+=Uu(t.subarray(l,l+1)),l+=1;n+=Uu(t.subarray(l,l+1)),l+=1,i=Os(t,12),a=Os(t,16),c=Os(t,20),u=Os(t,24),l=28}else if(e===1){l+=4,i=Os(t,l),l+=4;const f=Os(t,l);l+=4;const m=Os(t,l);for(l+=4,o=2**32*f+m,G7e(o)||(o=Number.MAX_SAFE_INTEGER,Ho.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=Os(t,l),l+=4,u=Os(t,l),l+=4;Uu(t.subarray(l,l+1))!=="\0";)r+=Uu(t.subarray(l,l+1)),l+=1;for(r+=Uu(t.subarray(l,l+1)),l+=1;Uu(t.subarray(l,l+1))!=="\0";)n+=Uu(t.subarray(l,l+1)),l+=1;n+=Uu(t.subarray(l,l+1)),l+=1}const d=t.subarray(l,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:o,presentationTimeDelta:a,eventDuration:c,id:u,payload:d}}function v$e(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(t,4),i=0,n=8;i<r;i++)a.set(e[i],n),n+=e[i].byteLength;return a}function x$e(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;n=0,i=new Uint8Array;let a;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const o=new Uint8Array(4);return r.byteLength>0&&new DataView(o.buffer).setUint32(0,r.byteLength,!1),v$e([112,115,115,104],new Uint8Array([n,0,0,0]),t,a,i,o,r)}function y$e(t){const e=[];if(t instanceof ArrayBuffer){const r=t.byteLength;let n=0;for(;n+32<r;){const i=new DataView(t,n),a=b$e(i);e.push(a),n+=a.size}}return e}function b$e(t){const e=t.getUint32(0),r=t.byteOffset,n=t.byteLength;if(n<e)return{offset:r,size:n};if(t.getUint32(4)!==1886614376)return{offset:r,size:e};const a=t.getUint32(8)>>>24;if(a!==0&&a!==1)return{offset:r,size:e};const o=t.buffer,c=Qd(new Uint8Array(o,r+12,16));let u=null,l=null,d=0;if(a===0)d=28;else{const m=t.getUint32(28);if(!m||n<32+m*16)return{offset:r,size:e};u=[];for(let p=0;p<m;p++)u.push(new Uint8Array(o,r+32+p*16,16));d=32+m*16}if(!d)return{offset:r,size:e};const f=t.getUint32(d);return e-32<f?{offset:r,size:e}:(l=new Uint8Array(o,r+d+4,f),{version:a,systemId:c,kids:u,data:l,offset:r,size:e})}const ese=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),i1={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function GF(t,e){const r=i1[e];return!!r&&!!r[t.slice(0,4)]}function m2(t,e,r=!0){return!t.split(",").some(n=>!WF(n,e,r))}function WF(t,e,r=!0){var n;const i=V0(r);return(n=i?.isTypeSupported(A2(t,e)))!=null?n:!1}function A2(t,e){return`${e}/mp4;codecs=${t}`}function zK(t){if(t){const e=t.substring(0,4);return i1.video[e]}return 2}function oN(t){const e=ese();return t.split(",").reduce((r,n)=>{const a=e&&r5(n)?9:i1.video[n];return a?(a*2+r)/(r?3:2):(i1.audio[n]+r)/(r?2:1)},0)}const UI={};function w$e(t,e=!0){if(UI[t])return UI[t];const r={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t];for(let i=0;i<r.length;i++){var n;if(WF(r[i],"audio",e))return UI[t]=r[i],r[i];if(r[i]==="mp3"&&(n=V0(e))!=null&&n.isTypeSupported("audio/mpeg"))return""}return t}const E$e=/flac|opus|mp4a\.40\.34/i;function lN(t,e=!0){return t.replace(E$e,r=>w$e(r.toLowerCase(),e))}function _$e(t,e){const r=[];if(t){const n=t.split(",");for(let i=0;i<n.length;i++)GF(n[i],"video")||r.push(n[i])}return e&&r.push(e),r.join(",")}function yj(t,e){if(t&&(t.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)!==-1)&&(VK(t,"audio")||VK(t,"video")))return t;if(e){const r=e.split(",");if(r.length>1){if(t){for(let n=r.length;n--;)if(r[n].substring(0,4)===t.substring(0,4))return r[n]}return r[0]}}return e||t}function VK(t,e){return GF(t,e)&&WF(t,e)}function S$e(t){const e=t.split(",");for(let r=0;r<e.length;r++){const n=e[r].split(".");n.length>2&&n[0]==="avc1"&&(e[r]=`avc1.${parseInt(n[1]).toString(16)}${("000"+parseInt(n[2]).toString(16)).slice(-4)}`)}return e.join(",")}function j$e(t){if(t.startsWith("av01.")){const e=t.split("."),r=["0","111","01","01","01","0"];for(let n=e.length;n>4&&n<10;n++)e[n]=r[n-4];return e.join(".")}return t}function KK(t){const e=V0(t)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function IO(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const T$e={supported:!0,powerEfficient:!0,smooth:!0},C$e={supported:!1,smooth:!1,powerEfficient:!1},tse={supported:!0,configurations:[],decodingInfoResults:[T$e]};function rse(t,e){return{supported:!1,configurations:e,decodingInfoResults:[C$e],error:t}}function N$e(t,e,r,n,i,a){const o=t.videoCodec,c=t.audioCodec?t.audioGroups:null,u=a?.audioCodec,l=a?.channels,d=l?parseInt(l):u?1/0:2;let f=null;if(c!=null&&c.length)try{c.length===1&&c[0]?f=e.groups[c[0]].channels:f=c.reduce((m,p)=>{if(p){const g=e.groups[p];if(!g)throw new Error(`Audio track group ${p} not found`);Object.keys(g.channels).forEach(x=>{m[x]=(m[x]||0)+g.channels[x]})}return m},{2:0})}catch{return!0}return o!==void 0&&(o.split(",").some(m=>r5(m))||t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==r||t.bitrate>Math.max(i,8e6))||!!f&&Jn(d)&&Object.keys(f).some(m=>parseInt(m)>d)}function nse(t,e,r,n={}){const i=t.videoCodec;if(!i&&!t.audioCodec||!r)return Promise.resolve(tse);const a=[],o=k$e(t),c=o.length,u=L$e(t,e,c>0),l=u.length;for(let d=c||1*l||1;d--;){const f={type:"media-source"};if(c&&(f.video=o[d%c]),l){f.audio=u[d%l];const m=f.audio.bitrate;f.video&&m&&(f.video.bitrate-=m)}a.push(f)}if(i){const d=navigator.userAgent;if(i.split(",").some(f=>r5(f))&&ese())return Promise.resolve(rse(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${d})`),a))}return Promise.all(a.map(d=>{const f=B$e(d);return n[f]||(n[f]=r.decodingInfo(d))})).then(d=>({supported:!d.some(f=>!f.supported),configurations:a,decodingInfoResults:d})).catch(d=>({supported:!1,configurations:a,decodingInfoResults:[],error:d}))}function k$e(t){var e;const r=(e=t.videoCodec)==null?void 0:e.split(","),n=ise(t),i=t.width||640,a=t.height||480,o=t.frameRate||30,c=t.videoRange.toLowerCase();return r?r.map(u=>{const l={contentType:A2(j$e(u),"video"),width:i,height:a,bitrate:n,framerate:o};return c!=="sdr"&&(l.transferFunction=c),l}):[]}function L$e(t,e,r){var n;const i=(n=t.audioCodec)==null?void 0:n.split(","),a=ise(t);return i&&t.audioGroups?t.audioGroups.reduce((o,c)=>{var u;const l=c?(u=e.groups[c])==null?void 0:u.tracks:null;return l?l.reduce((d,f)=>{if(f.groupId===c){const m=parseFloat(f.channels||"");i.forEach(p=>{const g={contentType:A2(p,"audio"),bitrate:r?I$e(p,a):a};m&&(g.channels=""+m),d.push(g)})}return d},o):o},[]):[]}function I$e(t,e){if(e<=1)return 1;let r=128e3;return t==="ec-3"?r=768e3:t==="ac-3"&&(r=64e4),Math.min(e/2,r)}function ise(t){return Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)/1e3)*1e3||1}function B$e(t){let e="";const{audio:r,video:n}=t;if(n){const i=IO(n.contentType);e+=`${i}_r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${Math.ceil(n.bitrate/1e5)}`}if(r){const i=IO(r.contentType);e+=`${n?"_":""}${i}_c${r.channels}`}return e}const BO=["NONE","TYPE-0","TYPE-1",null];function P$e(t){return BO.indexOf(t)>-1}const cN=["SDR","PQ","HLG"];function O$e(t){return!!t&&cN.indexOf(t)>-1}var bj={No:"",Yes:"YES",v2:"v2"};function GK(t){const{canSkipUntil:e,canSkipDateRanges:r,age:n}=t,i=n<e/2;return e&&i?r?bj.v2:bj.Yes:bj.No}class WK{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class p2{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),"supplemental"in e){var r;this.supplemental=e.supplemental;const n=(r=e.supplemental)==null?void 0:r.videoCodec;n&&n!==e.videoCodec&&(this.codecSet+=`,${n.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return YK(this._audioGroups,e)}hasSubtitleGroup(e){return YK(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,r){if(r){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(r)===-1&&n.push(r)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(r)===-1&&n.push(r)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function YK(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function R$e(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function D$e(t,e){let r=!1,n=[];if(t&&(r=t!=="SDR",n=[t]),e){n=e.allowedVideoRanges||cN.slice(0);const i=n.join("")!=="SDR"&&!e.videoCodec;r=e.preferHDR!==void 0?e.preferHDR:i&&R$e(),r||(n=["SDR"])}return{preferHDR:r,allowedVideoRanges:n}}const M$e=t=>{const e=new WeakSet;return(r,n)=>{if(t&&(n=t(r,n)),typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},ml=(t,e)=>JSON.stringify(t,M$e(e));function F$e(t,e,r,n,i){const a=Object.keys(t),o=n?.channels,c=n?.audioCodec,u=i?.videoCodec,l=o&&parseInt(o)===2;let d=!1,f=!1,m=1/0,p=1/0,g=1/0,x=1/0,y=0,w=[];const{preferHDR:E,allowedVideoRanges:_}=D$e(e,i);for(let M=a.length;M--;){const Y=t[a[M]];d||(d=Y.channels[2]>0),m=Math.min(m,Y.minHeight),p=Math.min(p,Y.minFramerate),g=Math.min(g,Y.minBitrate),_.filter(te=>Y.videoRanges[te]>0).length>0&&(f=!0)}m=Jn(m)?m:0,p=Jn(p)?p:0;const N=Math.max(1080,m),C=Math.max(30,p);g=Jn(g)?g:r,r=Math.max(g,r),f||(e=void 0);const I=a.length>1;return{codecSet:a.reduce((M,Y)=>{const X=t[Y];if(Y===M)return M;if(w=f?_.filter(te=>X.videoRanges[te]>0):[],I){if(X.minBitrate>r)return fA(Y,`min bitrate of ${X.minBitrate} > current estimate of ${r}`),M;if(!X.hasDefaultAudio)return fA(Y,"no renditions with default or auto-select sound found"),M;if(c&&Y.indexOf(c.substring(0,4))%5!==0)return fA(Y,`audio codec preference "${c}" not found`),M;if(o&&!l){if(!X.channels[o])return fA(Y,`no renditions with ${o} channel sound found (channels options: ${Object.keys(X.channels)})`),M}else if((!c||l)&&d&&X.channels[2]===0)return fA(Y,"no renditions with stereo sound found"),M;if(X.minHeight>N)return fA(Y,`min resolution of ${X.minHeight} > maximum of ${N}`),M;if(X.minFramerate>C)return fA(Y,`min framerate of ${X.minFramerate} > maximum of ${C}`),M;if(!w.some(te=>X.videoRanges[te]>0))return fA(Y,`no variants with VIDEO-RANGE of ${ml(w)} found`),M;if(u&&Y.indexOf(u.substring(0,4))%5!==0)return fA(Y,`video codec preference "${u}" not found`),M;if(X.maxScore<y)return fA(Y,`max score of ${X.maxScore} < selected max of ${y}`),M}return M&&(oN(Y)>=oN(M)||X.fragmentError>t[M].fragmentError)?M:(x=X.minIndex,y=X.maxScore,Y)},void 0),videoRanges:w,preferHDR:E,minFramerate:p,minBitrate:g,minIndex:x}}function fA(t,e){Ho.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function sse(t){return t.reduce((e,r)=>{let n=e.groups[r.groupId];n||(n=e.groups[r.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(r);const i=r.channels||"2";return n.channels[i]=(n.channels[i]||0)+1,n.hasDefault=n.hasDefault||r.default,n.hasAutoSelect=n.hasAutoSelect||r.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function U$e(t,e,r,n){return t.slice(r,n+1).reduce((i,a,o)=>{if(!a.codecSet)return i;const c=a.audioGroups;let u=i[a.codecSet];u||(i[a.codecSet]=u={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:o,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),u.minBitrate=Math.min(u.minBitrate,a.bitrate);const l=Math.min(a.height,a.width);return u.minHeight=Math.min(u.minHeight,l),u.minFramerate=Math.min(u.minFramerate,a.frameRate),u.minIndex=Math.min(u.minIndex,o),u.maxScore=Math.max(u.maxScore,a.score),u.fragmentError+=a.fragmentError,u.videoRanges[a.videoRange]=(u.videoRanges[a.videoRange]||0)+1,c&&c.forEach(d=>{if(!d)return;const f=e.groups[d];f&&(u.hasDefaultAudio=u.hasDefaultAudio||e.hasDefaultAudio?f.hasDefault:f.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(f.channels).forEach(m=>{u.channels[m]=(u.channels[m]||0)+f.channels[m]}))}),i},{})}function qK(t){if(!t)return t;const{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:a}=t;return{lang:e,assocLang:r,characteristics:n,channels:i,audioCodec:a}}function FA(t,e,r){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const i=e[n];if(lx(t,i,r))return n}return-1}function lx(t,e,r){const{groupId:n,name:i,lang:a,assocLang:o,default:c}=t,u=t.forced;return(n===void 0||e.groupId===n)&&(i===void 0||e.name===i)&&(a===void 0||$$e(a,e.lang))&&(a===void 0||e.assocLang===o)&&(c===void 0||e.default===c)&&(u===void 0||e.forced===u)&&(!("characteristics"in t)||H$e(t.characteristics||"",e.characteristics))&&(r===void 0||r(t,e))}function $$e(t,e="--"){return t.length===e.length?t===e:t.startsWith(e)||e.startsWith(t)}function H$e(t,e=""){const r=t.split(","),n=e.split(",");return r.length===n.length&&!r.some(i=>n.indexOf(i)===-1)}function kv(t,e){const{audioCodec:r,channels:n}=t;return(r===void 0||(e.audioCodec||"").substring(0,4)===r.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function Q$e(t,e,r,n,i){const a=e[n],c=e.reduce((m,p,g)=>{const x=p.uri;return(m[x]||(m[x]=[])).push(g),m},{})[a.uri];c.length>1&&(n=Math.max.apply(Math,c));const u=a.videoRange,l=a.frameRate,d=a.codecSet.substring(0,4),f=XK(e,n,m=>{if(m.videoRange!==u||m.frameRate!==l||m.codecSet.substring(0,4)!==d)return!1;const p=m.audioGroups,g=r.filter(x=>!p||p.indexOf(x.groupId)!==-1);return FA(t,g,i)>-1});return f>-1?f:XK(e,n,m=>{const p=m.audioGroups,g=r.filter(x=>!p||p.indexOf(x.groupId)!==-1);return FA(t,g,i)>-1})}function XK(t,e,r){for(let n=e;n>-1;n--)if(r(t[n]))return n;for(let n=e+1;n<t.length;n++)if(r(t[n]))return n;return-1}function uN(t,e){var r;return!!t&&t!==((r=e.loadLevelObj)==null?void 0:r.uri)}class z$e extends cm{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=r=>{var n;const{fragCurrent:i,partCurrent:a,hls:o}=this,{autoLevelEnabled:c,media:u}=o;if(!i||!u)return;const l=performance.now(),d=a?a.stats:i.stats,f=a?a.duration:i.duration,m=l-d.loading.start,p=o.minAutoLevel,g=i.level,x=this._nextAutoLevel;if(d.aborted||d.loaded&&d.loaded===d.total||g<=p){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const y=x>-1&&x!==g,w=!!r||y;if(!w&&(u.paused||!u.playbackRate||!u.readyState))return;const E=o.mainForwardBufferInfo;if(!w&&E===null)return;const _=this.bwEstimator.getEstimateTTFB(),N=Math.abs(u.playbackRate);if(m<=Math.max(_,1e3*(f/(N*2))))return;const C=E?E.len/N:0,I=d.loading.first?d.loading.first-d.loading.start:-1,D=d.loaded&&I>-1,M=this.getBwEstimate(),Y=o.levels,X=Y[g],te=Math.max(d.loaded,Math.round(f*(i.bitrate||X.averageBitrate)/8));let de=D?m-I:m;de<1&&D&&(de=Math.min(m,d.loaded*8/M));const ye=D?d.loaded*1e3/de:0,we=_/1e3,ve=ye?(te-d.loaded)/ye:te*8/M+we;if(ve<=C)return;const ne=ye?ye*8:M,ae=((n=r?.details||this.hls.latestLevelDetails)==null?void 0:n.live)===!0,oe=this.hls.config.abrBandWidthUpFactor;let Re=Number.POSITIVE_INFINITY,Pe;for(Pe=g-1;Pe>p;Pe--){const Oe=Y[Pe].maxBitrate,$e=!Y[Pe].details||ae;if(Re=this.getTimeToLoadFrag(we,ne,f*Oe,$e),Re<Math.min(C,f+we))break}if(Re>=ve||Re>f*10)return;D?this.bwEstimator.sample(m-Math.min(_,I),d.loaded):this.bwEstimator.sampleTTFB(m);const be=Y[Pe].maxBitrate;this.getBwEstimate()*oe>be&&this.resetEstimator(be);const he=this.findBestLevel(be,p,Pe,0,C,1,1);he>-1&&(Pe=he),this.warn(`Fragment ${i.sn}${a?" part "+a.index:""} of level ${g} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${C.toFixed(3)} s
      Estimated load time for current fragment: ${ve.toFixed(3)} s
      Estimated load time for down switch fragment: ${Re.toFixed(3)} s
      TTFB estimate: ${I|0} ms
      Current BW estimate: ${Jn(M)?M|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${Pe} @ ${be|0} bps`),o.nextLoadLevel=o.nextAutoLevel=Pe,this.clearTimer();const Ie=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===Pe&&Pe>0){const Oe=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${Pe>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${Oe.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,Pe>p){let $e=this.findBestLevel(this.hls.levels[p].bitrate,p,Pe,0,Oe,1,1);$e===-1&&($e=p),this.hls.nextLoadLevel=this.hls.nextAutoLevel=$e,this.resetEstimator(this.hls.levels[$e].bitrate)}}};y||ve>Re*2?Ie():this.timer=self.setInterval(Ie,Re*1e3),o.trigger(Le.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:a,stats:d})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Y7e(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.FRAG_LOADING,this.onFragLoading,this),e.on(Le.FRAG_LOADED,this.onFragLoaded,this),e.on(Le.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Le.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Le.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(Le.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.FRAG_LOADING,this.onFragLoading,this),e.off(Le.FRAG_LOADED,this.onFragLoaded,this),e.off(Le.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Le.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Le.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(Le.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,r){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,r){const n=r.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var i;this.fragCurrent=n,this.partCurrent=(i=r.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,r){this.clearTimer()}onError(e,r){if(!r.fatal)switch(r.details){case wr.BUFFER_ADD_CODEC_ERROR:case wr.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case wr.FRAG_LOAD_TIMEOUT:{const n=r.frag,{fragCurrent:i,partCurrent:a}=this;if(n&&i&&n.sn===i.sn&&n.level===i.level){const o=performance.now(),c=a?a.stats:n.stats,u=o-c.loading.start,l=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&l>-1){const f=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(u-Math.min(f,l),c.loaded)}else this.bwEstimator.sampleTTFB(u)}break}}}getTimeToLoadFrag(e,r,n,i){const a=e+n/r,o=i?e+this.lastLevelLoadSec:0;return a+o}onLevelLoaded(e,r){const n=this.hls.config,{loading:i}=r.stats,a=i.end-i.first;Jn(a)&&(this.lastLevelLoadSec=a/1e3),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(r.levelInfo)}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===mi.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),r.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const a=n?n.duration:r.duration,o=this.hls.levels[r.level],c=(o.loaded?o.loaded.bytes:0)+i.loaded,u=(o.loaded?o.loaded.duration:0)+a;o.loaded={bytes:c,duration:u},o.realBitrate=Math.round(8*c/u)}if(r.bitrateTest){const a={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(Le.FRAG_BUFFERED,a),r.bitrateTest=!1}else this.lastLoadedFragLevel=r.level}}onFragBuffered(e,r){const{frag:n,part:i}=r,a=i!=null&&i.stats.loaded?i.stats:n.stats;if(a.aborted||this.ignoreFragment(n))return;const o=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,a.loaded),a.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==mi.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:r}=this.hls,n=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,a=this.findBestLevel(n,r,e,0,i,1,1);if(a>-1)return a;const o=this.hls.firstLevel,c=Math.min(Math.max(o,r),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const a=n&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,a)&&o[e].loadError<=o[a].loadError)return e}return this._nextAutoLevel=a,this.nextAutoLevelKey=this.getAutoLevelKey(),a}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this;if(n.levels.length<=1)return n.loadLevel;const{maxAutoLevel:i,config:a,minAutoLevel:o}=n,c=r?r.duration:e?e.duration:0,u=this.getBwEstimate(),l=this.getStarvationDelay();let d=a.abrBandWidthFactor,f=a.abrBandWidthUpFactor;if(l){const y=this.findBestLevel(u,o,i,l,0,d,f);if(y>=0)return this.rebufferNotice=-1,y}let m=c?Math.min(c,a.maxStarvationDelay):a.maxStarvationDelay;if(!l){const y=this.bitrateTestDelay;y&&(m=(c?Math.min(c,a.maxLoadingDelay):a.maxLoadingDelay)-y,this.info(`bitrate test took ${Math.round(1e3*y)}ms, set first fragment max fetchDuration to ${Math.round(1e3*m)} ms`),d=f=1)}const p=this.findBestLevel(u,o,i,l,m,d,f);if(this.rebufferNotice!==p&&(this.rebufferNotice=p,this.info(`${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${p}`)),p>-1)return p;const g=n.levels[o],x=n.loadLevelObj;return x&&g?.bitrate<x.bitrate?o:n.loadLevel}getStarvationDelay(){const e=this.hls,r=e.media;if(!r)return 1/0;const n=r&&r.playbackRate!==0?Math.abs(r.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,r,n,i,a,o,c){var u;const l=i+a,d=this.lastLoadedFragLevel,f=d===-1?this.hls.firstLevel:d,{fragCurrent:m,partCurrent:p}=this,{levels:g,allAudioTracks:x,loadLevel:y,config:w}=this.hls;if(g.length===1)return 0;const E=g[f],_=!!((u=this.hls.latestLevelDetails)!=null&&u.live),N=y===-1||d===-1;let C,I="SDR",D=E?.frameRate||0;const{audioPreference:M,videoPreference:Y}=w,X=this.audioTracksByGroup||(this.audioTracksByGroup=sse(x));let te=-1;if(N){if(this.firstSelection!==-1)return this.firstSelection;const ne=this.codecTiers||(this.codecTiers=U$e(g,X,r,n)),ae=F$e(ne,I,e,M,Y),{codecSet:oe,videoRanges:Re,minFramerate:Pe,minBitrate:be,minIndex:he,preferHDR:Ie}=ae;te=he,C=oe,I=Ie?Re[Re.length-1]:Re[0],D=Pe,e=Math.max(e,be),this.log(`picked start tier ${ml(ae)}`)}else C=E?.codecSet,I=E?.videoRange;const de=p?p.duration:m?m.duration:0,ye=this.bwEstimator.getEstimateTTFB()/1e3,we=[];for(let ne=n;ne>=r;ne--){var ve;const ae=g[ne],oe=ne>f;if(!ae)continue;if(w.useMediaCapabilities&&!ae.supportedResult&&!ae.supportedPromise){const $e=navigator.mediaCapabilities;typeof $e?.decodingInfo=="function"&&N$e(ae,X,I,D,e,M)?(ae.supportedPromise=nse(ae,X,$e,this.supportedCache),ae.supportedPromise.then(De=>{if(!this.hls)return;ae.supportedResult=De;const ct=this.hls.levels,pt=ct.indexOf(ae);De.error?this.warn(`MediaCapabilities decodingInfo error: "${De.error}" for level ${pt} ${ml(De)}`):De.supported?De.decodingInfoResults.some(Ue=>Ue.smooth===!1||Ue.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${pt} not smooth or powerEfficient: ${ml(De)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${pt} ${ml(De)}`),pt>-1&&ct.length>1&&(this.log(`Removing unsupported level ${pt}`),this.hls.removeLevel(pt),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))}).catch(De=>{this.warn(`Error handling MediaCapabilities decodingInfo: ${De}`)})):ae.supportedResult=tse}if((C&&ae.codecSet!==C||I&&ae.videoRange!==I||oe&&D>ae.frameRate||!oe&&D>0&&D<ae.frameRate||(ve=ae.supportedResult)!=null&&(ve=ve.decodingInfoResults)!=null&&ve.some($e=>$e.smooth===!1))&&(!N||ne!==te)){we.push(ne);continue}const Re=ae.details,Pe=(p?Re?.partTarget:Re?.averagetargetduration)||de;let be;oe?be=c*e:be=o*e;const he=de&&i>=de*2&&a===0?ae.averageBitrate:ae.maxBitrate,Ie=this.getTimeToLoadFrag(ye,be,he*Pe,Re===void 0);if(be>=he&&(ne===d||ae.loadError===0&&ae.fragmentError===0)&&(Ie<=ye||!Jn(Ie)||_&&!this.bitrateTestDelay||Ie<l)){const $e=this.forcedAutoLevel;return ne!==y&&($e===-1||$e!==y)&&(we.length&&this.trace(`Skipped level(s) ${we.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${g[we[0]].codecs}" ${g[we[0]].videoRange}; not compatible with "${C}" ${I}`),this.info(`switch candidate:${f}->${ne} adjustedbw(${Math.round(be)})-bitrate=${Math.round(be-he)} ttfb:${ye.toFixed(1)} avgDuration:${Pe.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${Ie.toFixed(1)} firstSelection:${N} codecSet:${ae.codecSet} videoRange:${ae.videoRange} hls.loadLevel:${y}`)),N&&(this.firstSelection=ne),ne}}return-1}set nextAutoLevel(e){const r=this.deriveNextAutoLevel(e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}deriveNextAutoLevel(e){const{maxAutoLevel:r,minAutoLevel:n}=this.hls;return Math.min(Math.max(e,n),r)}}const ase={search:function(t,e){let r=0,n=t.length-1,i=null,a=null;for(;r<=n;){i=(r+n)/2|0,a=t[i];const o=e(a);if(o>0)r=i+1;else if(o<0)n=i-1;else return a}return null}};function V$e(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!Jn(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let a=0;a<t.length;++a){const o=t[a];if(G$e(e,r,o))return o}return null}function Lx(t,e,r=0,n=0,i=.005){let a=null;if(t){a=e[1+t.sn-e[0].sn]||null;const c=t.endDTS-r;c>0&&c<15e-7&&(r+=15e-7),a&&t.level!==a.level&&a.end<=t.end&&(a=e[2+t.sn-e[0].sn]||null)}else r===0&&e[0].start===0&&(a=e[0]);if(a&&((!t||t.level===a.level)&&ZK(r,n,a)===0||K$e(a,t,Math.min(i,n))))return a;const o=ase.search(e,ZK.bind(null,r,n));return o&&(o!==t||!a)?o:a}function K$e(t,e,r){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((i,a)=>(a[0]==="INF"&&(i+=parseFloat(a[1])),i),r);return t.start<=n}return!1}function ZK(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function G$e(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function ose(t,e,r){if(t&&t.startCC<=e&&t.endCC>=e){let n=t.fragments;const{fragmentHint:i}=t;i&&(n=n.concat(i));let a;return ase.search(n,o=>o.cc<e?1:o.cc>e?-1:(a=o,o.end<=r?1:o.start>r?-1:0)),a||null}return null}function dN(t){switch(t.details){case wr.FRAG_LOAD_TIMEOUT:case wr.KEY_LOAD_TIMEOUT:case wr.LEVEL_LOAD_TIMEOUT:case wr.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function lse(t){return t.details.startsWith("key")}function cse(t){return lse(t)&&!!t.frag&&!t.frag.decryptdata}function JK(t,e){const r=dN(e);return t.default[`${r?"timeout":"error"}Retry`]}function YF(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function eG(t){return Uo(Uo({},t),{errorRetry:null,timeoutRetry:null})}function hN(t,e,r,n){if(!t)return!1;const i=n?.code,a=e<t.maxNumRetry&&(W$e(i)||!!r);return t.shouldRetry?t.shouldRetry(t,e,r,n,a):a}function W$e(t){return PO(t)||!!t&&(t<400||t>499)}function PO(t){return t===0&&navigator.onLine===!1}var Hd={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ff={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,MoveAllAlternatesMatchingKey:4};class Y$e extends cm{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Le.ERROR,this.onError,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Le.ERROR,this.onError,this),e.off(Le.ERROR,this.onErrorOut,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===mi.MAIN?e.level:this.getVariantIndex()}getVariantIndex(){var e;const r=this.hls,n=r.currentLevel;return(e=r.loadLevelObj)!=null&&e.details||n===-1?r.loadLevel:n}variantHasKey(e,r){if(e){var n;if((n=e.details)!=null&&n.hasKey(r))return!0;const i=e.audioGroups;if(i)return this.hls.allAudioTracks.filter(o=>i.indexOf(o.groupId)>=0).some(o=>{var c;return(c=o.details)==null?void 0:c.hasKey(r)})}return!1}onManifestLoading(){this.playlistError=0}onLevelUpdated(){this.playlistError=0}onError(e,r){var n;if(r.fatal)return;const i=this.hls,a=r.context;switch(r.details){case wr.FRAG_LOAD_ERROR:case wr.FRAG_LOAD_TIMEOUT:case wr.KEY_LOAD_ERROR:case wr.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case wr.FRAG_PARSING_ERROR:if((n=r.frag)!=null&&n.gap){r.errorAction=Cb();return}case wr.FRAG_GAP:case wr.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Hd.SendAlternateToPenaltyBox;return}case wr.LEVEL_EMPTY_ERROR:case wr.LEVEL_PARSING_ERROR:{var o;const u=r.parent===mi.MAIN?r.level:i.loadLevel;r.details===wr.LEVEL_EMPTY_ERROR&&((o=r.context)!=null&&(o=o.levelDetails)!=null&&o.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,u):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u))}return;case wr.LEVEL_LOAD_ERROR:case wr.LEVEL_LOAD_TIMEOUT:typeof a?.level=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,a.level));return;case wr.AUDIO_TRACK_LOAD_ERROR:case wr.AUDIO_TRACK_LOAD_TIMEOUT:case wr.SUBTITLE_LOAD_ERROR:case wr.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const u=i.loadLevelObj;if(u&&(a.type===ya.AUDIO_TRACK&&u.hasAudioGroup(a.groupId)||a.type===ya.SUBTITLE_TRACK&&u.hasSubtitleGroup(a.groupId))){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,i.loadLevel),r.errorAction.action=Hd.SendAlternateToPenaltyBox,r.errorAction.flags=ff.MoveAllAlternatesMatchingHost;return}}return;case wr.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:r.errorAction={action:Hd.SendAlternateToPenaltyBox,flags:ff.MoveAllAlternatesMatchingHDCP};return;case wr.KEY_SYSTEM_SESSION_UPDATE_FAILED:case wr.KEY_SYSTEM_STATUS_INTERNAL_ERROR:case wr.KEY_SYSTEM_NO_SESSION:r.errorAction={action:Hd.SendAlternateToPenaltyBox,flags:ff.MoveAllAlternatesMatchingKey};return;case wr.BUFFER_ADD_CODEC_ERROR:case wr.REMUX_ALLOC_ERROR:case wr.BUFFER_APPEND_ERROR:if(!r.errorAction){var c;r.errorAction=this.getLevelSwitchAction(r,(c=r.level)!=null?c:i.loadLevel)}return;case wr.INTERNAL_EXCEPTION:case wr.BUFFER_APPENDING_ERROR:case wr.BUFFER_FULL_ERROR:case wr.LEVEL_SWITCH_ERROR:case wr.BUFFER_STALLED_ERROR:case wr.BUFFER_SEEK_OVER_HOLE:case wr.BUFFER_NUDGE_ON_STALL:r.errorAction=Cb();return}r.type===Oi.KEY_SYSTEM_ERROR&&(r.levelRetry=!1,r.errorAction=Cb())}getPlaylistRetryOrSwitchAction(e,r){const n=this.hls,i=JK(n.config.playlistLoadPolicy,e),a=this.playlistError++;if(hN(i,a,dN(e),e.response))return{action:Hd.RetryRequest,flags:ff.None,retryConfig:i,retryCount:a};const c=this.getLevelSwitchAction(e,r);return i&&(c.retryConfig=i,c.retryCount=a),c}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:a,keyLoadPolicy:o}=r.config,c=JK(lse(e)?o:a,e),u=r.levels.reduce((d,f)=>d+f.fragmentError,0);if(i&&(e.details!==wr.FRAG_GAP&&i.fragmentError++,!cse(e)&&hN(c,u,dN(e),e.response)))return{action:Hd.RetryRequest,flags:ff.None,retryConfig:c,retryCount:u};const l=this.getLevelSwitchAction(e,n);return c&&(l.retryConfig=c,l.retryCount=u),l}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i){var a,o;const l=e.details;i.loadError++,l===wr.BUFFER_APPEND_ERROR&&i.fragmentError++;let d=-1;const{levels:f,loadLevel:m,minAutoLevel:p,maxAutoLevel:g}=n;!n.autoLevelEnabled&&!n.config.preserveManualLevelOnError&&(n.loadLevel=-1);const x=(a=e.frag)==null?void 0:a.type,w=(x===mi.AUDIO&&l===wr.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(l===wr.BUFFER_ADD_CODEC_ERROR||l===wr.BUFFER_APPEND_ERROR))&&f.some(({audioCodec:I})=>i.audioCodec!==I),_=e.sourceBufferName==="video"&&(l===wr.BUFFER_ADD_CODEC_ERROR||l===wr.BUFFER_APPEND_ERROR)&&f.some(({codecSet:I,audioCodec:D})=>i.codecSet!==I&&i.audioCodec===D),{type:N,groupId:C}=(o=e.context)!=null?o:{};for(let I=f.length;I--;){const D=(I+m)%f.length;if(D!==m&&D>=p&&D<=g&&f[D].loadError===0){var c,u;const M=f[D];if(l===wr.FRAG_GAP&&x===mi.MAIN&&e.frag){const Y=f[D].details;if(Y){const X=Lx(e.frag,Y.fragments,e.frag.start);if(X!=null&&X.gap)continue}}else{if(N===ya.AUDIO_TRACK&&M.hasAudioGroup(C)||N===ya.SUBTITLE_TRACK&&M.hasSubtitleGroup(C))continue;if(x===mi.AUDIO&&(c=i.audioGroups)!=null&&c.some(Y=>M.hasAudioGroup(Y))||x===mi.SUBTITLE&&(u=i.subtitleGroups)!=null&&u.some(Y=>M.hasSubtitleGroup(Y))||w&&i.audioCodec===M.audioCodec||_&&i.codecSet===M.codecSet||!w&&i.codecSet!==M.codecSet)continue}d=D;break}}if(d>-1&&n.loadLevel!==d)return e.levelRetry=!0,this.playlistError=0,{action:Hd.SendAlternateToPenaltyBox,flags:ff.None,nextAutoLevel:d}}return{action:Hd.SendAlternateToPenaltyBox,flags:ff.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case Hd.DoNothing:break;case Hd.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==wr.FRAG_GAP?r.fatal=!0:/MediaSource readyState: ended/.test(r.error.message)&&(this.warn(`MediaSource ended after "${r.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i}=n,a=n.nextAutoLevel;switch(i){case ff.None:this.switchLevel(e,a);break;case ff.MoveAllAlternatesMatchingHDCP:{const u=this.getVariantLevelIndex(e.frag),l=r.levels[u],d=l?.attrs["HDCP-LEVEL"];if(n.hdcpLevel=d,d==="NONE")this.warn("HDCP policy resticted output with HDCP-LEVEL=NONE");else if(d){r.maxHdcpLevel=BO[BO.indexOf(d)-1],n.resolved=!0,this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}}case ff.MoveAllAlternatesMatchingKey:{const u=e.decryptdata;if(u){const l=this.hls.levels,d=l.length;for(let m=d;m--;)if(this.variantHasKey(l[m],u)){var o,c;this.log(`Banned key found in level ${m} (${l[m].bitrate}bps) or audio group "${(o=l[m].audioGroups)==null?void 0:o.join(",")}" (${(c=e.frag)==null?void 0:c.type} fragment) ${Qd(u.keyId||[])}`),l[m].fragmentError++,l[m].loadError++,this.log(`Removing level ${m} with key error (${e.error})`),this.hls.removeLevel(m)}const f=e.frag;if(this.hls.levels.length<d)n.resolved=!0;else if(f&&f.type!==mi.MAIN){const m=f.decryptdata;m&&!u.matches(m)&&(n.resolved=!0)}}break}}n.resolved||this.switchLevel(e,a)}switchLevel(e,r){if(r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===wr.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const n=IO(e.mimeType),i=this.hls.levels;for(let a=i.length;a--;)i[a][`${e.sourceBufferName}Codec`]===n&&(this.log(`Removing level ${a} for ${e.details} ("${n}" not supported)`),this.hls.removeLevel(a))}}}function Cb(t){const e={action:Hd.DoNothing,flags:ff.None};return t&&(e.resolved=!0),e}var Qu={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class q$e{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e&&(e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Le.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Le.FRAG_LOADED,this.onFragLoaded,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Le.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Le.FRAG_LOADED,this.onFragLoaded,this))}destroy(){this._unregisterListeners(),this.hls=this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const n=this.activePartLists[r];if(n)for(let i=n.length;i--;){const a=n[i];if(!a)break;if(a.start<=e&&e<=a.end&&a.loaded)return a}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){return this.getFragAtPos(e,r,!0)}getFragAtPos(e,r,n){const{fragments:i}=this,a=Object.keys(i);for(let o=a.length;o--;){const c=i[a[o]];if(c?.body.type===r&&(!n||c.buffered)){const u=c.body;if(u.start<=e&&e<=u.end)return u}}return null}detectEvictedFragments(e,r,n,i,a){this.timeRanges&&(this.timeRanges[e]=r);const o=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const u=this.fragments[c];if(!u||o>=u.body.sn)return;if(!u.buffered&&(!u.loaded||a)){u.body.type===n&&this.removeFragment(u.body);return}const l=u.range[e];if(l){if(l.time.length===0){this.removeFragment(u.body);return}l.time.some(d=>{const f=!this.isTimeBuffered(d.startPTS,d.endPTS,r);return f&&this.removeFragment(u.body),f})}})}detectPartialFragments(e){const r=this.timeRanges;if(!r||e.frag.sn==="initSegment")return;const n=e.frag,i=vy(n),a=this.fragments[i];if(!a||a.buffered&&n.gap)return;const o=!n.relurl;Object.keys(r).forEach(c=>{const u=n.elementaryStreams[c];if(!u)return;const l=r[c],d=o||u.partial===!0;a.range[c]=this.getBufferedTimes(n,e.part,d,l)}),a.loaded=null,Object.keys(a.range).length?(this.bufferedEnd(a,n),jS(a)||this.removeParts(n.sn-1,n.type)):this.removeFragment(a.body)}bufferedEnd(e,r){e.buffered=!0,(e.body.endList=r.endList||e.body.endList)&&(this.endListFragments[e.body.type]=e)}removeParts(e,r){const n=this.activePartLists[r];n&&(this.activePartLists[r]=tG(n,i=>i.fragment.sn>=e))}fragBuffered(e,r){const n=vy(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,this.bufferedEnd(i,e))}getBufferedTimes(e,r,n,i){const a={time:[],partial:n},o=e.start,c=e.end,u=e.minEndPTS||c,l=e.maxStartPTS||o;for(let d=0;d<i.length;d++){const f=i.start(d)-this.bufferPadding,m=i.end(d)+this.bufferPadding;if(l>=f&&u<=m){a.time.push({startPTS:Math.max(o,i.start(d)),endPTS:Math.min(c,i.end(d))});break}else if(o<m&&c>f){const p=Math.max(o,i.start(d)),g=Math.min(c,i.end(d));g>p&&(a.partial=!0,a.time.push({startPTS:p,endPTS:g}))}else if(c<=f)break}return a}getPartialFragment(e){let r=null,n,i,a,o=0;const{bufferPadding:c,fragments:u}=this;return Object.keys(u).forEach(l=>{const d=u[l];d&&jS(d)&&(i=d.body.start-c,a=d.body.end+c,e>=i&&e<=a&&(n=Math.min(e-i,a-e),o<=n&&(r=d.body,o=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||jS(r))}getState(e){const r=vy(e),n=this.fragments[r];return n?n.buffered?jS(n)?Qu.PARTIAL:Qu.OK:Qu.APPENDING:Qu.NOT_LOADED}isTimeBuffered(e,r,n){let i,a;for(let o=0;o<n.length;o++){if(i=n.start(o)-this.bufferPadding,a=n.end(o)+this.bufferPadding,e>=i&&r<=a)return!0;if(r<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,r){if(r.frag.sn==="initSegment"||r.frag.bitrateTest)return;const n=r.frag,i=r.part?null:r,a=vy(n);this.fragments[a]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:a,type:o}=r;if(n.sn==="initSegment")return;const c=n.type;if(i){let l=this.activePartLists[c];l||(this.activePartLists[c]=l=[]),l.push(i)}this.timeRanges=a;const u=a[o];this.detectEvictedFragments(o,u,c,i)}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=vy(e);return!!this.fragments[r]}hasFragments(e){const{fragments:r}=this,n=Object.keys(r);if(!e)return n.length>0;for(let i=n.length;i--;){const a=r[n[i]];if(a?.body.type===e)return!0}return!1}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,n,i,a){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const c=this.fragments[o];if(!c)return;const u=c.body;u.type!==n||i&&!u.gap||u.start<r&&u.end>e&&(c.buffered||a)&&this.removeFragment(u)})}removeFragment(e){const r=vy(e);e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const i=e.sn;this.activePartLists[e.type]=tG(n,a=>a.fragment.sn!==i)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const r=(e=this.hls)==null||(e=e.latestLevelDetails)==null?void 0:e.partList;r&&r.forEach(n=>n.clearElementaryStreamInfo())}}function jS(t){var e,r,n;return t.buffered&&!!(t.body.gap||(e=t.range.video)!=null&&e.partial||(r=t.range.audio)!=null&&r.partial||(n=t.range.audiovideo)!=null&&n.partial)}function vy(t){return`${t.type}_${t.level}_${t.sn}`}function tG(t,e){return t.filter(r=>{const n=e(r);return n||r.clearElementaryStreamInfo(),n})}var K0={cbc:0,ctr:1};class X$e{constructor(e,r,n){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=r,this.aesMode=n}decrypt(e,r){switch(this.aesMode){case K0.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e);case K0.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},r,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function Z$e(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?t.slice(0,e-r):t}class J$e{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],a=n[1],o=n[2],c=n[3],u=this.invSubMix,l=u[0],d=u[1],f=u[2],m=u[3],p=new Uint32Array(256);let g=0,x=0,y=0;for(y=0;y<256;y++)y<128?p[y]=y<<1:p[y]=y<<1^283;for(y=0;y<256;y++){let w=x^x<<1^x<<2^x<<3^x<<4;w=w>>>8^w&255^99,e[g]=w,r[w]=g;const E=p[g],_=p[E],N=p[_];let C=p[w]*257^w*16843008;i[g]=C<<24|C>>>8,a[g]=C<<16|C>>>16,o[g]=C<<8|C>>>24,c[g]=C,C=N*16843009^_*65537^E*257^g*16843008,l[w]=C<<24|C>>>8,d[w]=C<<16|C>>>16,f[w]=C<<8|C>>>24,m[w]=C,g?(g=E^p[p[p[N^E]]],x^=p[p[x]]):g=x=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const a=this.keySize=r.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const o=this.ksRows=(a+6+1)*4;let c,u;const l=this.keySchedule=new Uint32Array(o),d=this.invKeySchedule=new Uint32Array(o),f=this.sBox,m=this.rcon,p=this.invSubMix,g=p[0],x=p[1],y=p[2],w=p[3];let E,_;for(c=0;c<o;c++){if(c<a){E=l[c]=r[c];continue}_=E,c%a===0?(_=_<<8|_>>>24,_=f[_>>>24]<<24|f[_>>>16&255]<<16|f[_>>>8&255]<<8|f[_&255],_^=m[c/a|0]<<24):a>6&&c%a===4&&(_=f[_>>>24]<<24|f[_>>>16&255]<<16|f[_>>>8&255]<<8|f[_&255]),l[c]=E=(l[c-a]^_)>>>0}for(u=0;u<o;u++)c=o-u,u&3?_=l[c]:_=l[c-4],u<4||c<=4?d[u]=_:d[u]=g[f[_>>>24]]^x[f[_>>>16&255]]^y[f[_>>>8&255]]^w[f[_&255]],d[u]=d[u]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,a=this.invKeySchedule,o=this.invSBox,c=this.invSubMix,u=c[0],l=c[1],d=c[2],f=c[3],m=this.uint8ArrayToUint32Array_(n);let p=m[0],g=m[1],x=m[2],y=m[3];const w=new Int32Array(e),E=new Int32Array(w.length);let _,N,C,I,D,M,Y,X,te,de,ye,we,ve,ne;const ae=this.networkToHostOrderSwap;for(;r<w.length;){for(te=ae(w[r]),de=ae(w[r+1]),ye=ae(w[r+2]),we=ae(w[r+3]),D=te^a[0],M=we^a[1],Y=ye^a[2],X=de^a[3],ve=4,ne=1;ne<i;ne++)_=u[D>>>24]^l[M>>16&255]^d[Y>>8&255]^f[X&255]^a[ve],N=u[M>>>24]^l[Y>>16&255]^d[X>>8&255]^f[D&255]^a[ve+1],C=u[Y>>>24]^l[X>>16&255]^d[D>>8&255]^f[M&255]^a[ve+2],I=u[X>>>24]^l[D>>16&255]^d[M>>8&255]^f[Y&255]^a[ve+3],D=_,M=N,Y=C,X=I,ve=ve+4;_=o[D>>>24]<<24^o[M>>16&255]<<16^o[Y>>8&255]<<8^o[X&255]^a[ve],N=o[M>>>24]<<24^o[Y>>16&255]<<16^o[X>>8&255]<<8^o[D&255]^a[ve+1],C=o[Y>>>24]<<24^o[X>>16&255]<<16^o[D>>8&255]<<8^o[M&255]^a[ve+2],I=o[X>>>24]<<24^o[D>>16&255]<<16^o[M>>8&255]<<8^o[Y&255]^a[ve+3],E[r]=ae(_^p),E[r+1]=ae(I^g),E[r+2]=ae(C^x),E[r+3]=ae(N^y),p=te,g=de,x=ye,y=we,r=r+4}return E.buffer}}class e9e{constructor(e,r,n){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=r,this.aesMode=n}expandKey(){const e=t9e(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function t9e(t){switch(t){case K0.cbc:return"AES-CBC";case K0.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${t}`)}}const r9e=16;class qF{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Z$e(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n,i){return this.useSoftware?new Promise((a,o)=>{const c=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(c,r,n,i);const u=this.flush();u?a(u.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n,i)}softwareDecrypt(e,r,n,i){const{currentIV:a,currentResult:o,remainderData:c}=this;if(i!==K0.cbc||r.byteLength!==16)return Ho.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(e=am(c,e),this.remainderData=null);const u=this.getValidChunk(e);if(!u.length)return null;a&&(n=a);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new J$e),l.expandKey(r);const d=o;return this.currentResult=l.decrypt(u.buffer,0,n),this.currentIV=u.slice(-16).buffer,d||null}webCryptoDecrypt(e,r,n,i){if(this.key!==r||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,r,n,i));this.key=r,this.fastAesKey=new e9e(this.subtle,r,i)}return this.fastAesKey.expandKey().then(a=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new X$e(this.subtle,new Uint8Array(n),i).decrypt(e.buffer,a)):Promise.reject(new Error("web crypto not initialized"))).catch(a=>(Ho.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,r,n,i)))}onWebCryptoError(e,r,n,i){const a=this.enableSoftwareAES;if(a){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n,i);const o=this.flush();if(o)return o.buffer}throw new Error("WebCrypto"+(a?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%r9e;return n!==e.length&&(r=e.slice(0,n),this.remainderData=e.slice(n)),r}logOnce(e){this.logEnabled&&(Ho.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const rG=Math.pow(2,17);class n9e{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new Bp({type:Oi.NETWORK_ERROR,details:wr.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,a=i.fLoader,o=i.loader;return new Promise((c,u)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){u(iG(e));return}else e.gap=!1;const l=this.loader=a?new a(i):new o(i),d=nG(e);e.loader=l;const f=eG(i.fragLoadPolicy.default),m={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:rG};e.stats=l.stats;const p={onSuccess:(g,x,y,w)=>{this.resetLoader(e,l);let E=g.data;y.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(E.slice(0,16)),E=E.slice(16)),c({frag:e,part:null,payload:E,networkDetails:w})},onError:(g,x,y,w)=>{this.resetLoader(e,l),u(new Bp({type:Oi.NETWORK_ERROR,details:wr.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Uo({url:n,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:w}))},onAbort:(g,x,y)=>{this.resetLoader(e,l),u(new Bp({type:Oi.NETWORK_ERROR,details:wr.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,x,y)=>{this.resetLoader(e,l),u(new Bp({type:Oi.NETWORK_ERROR,details:wr.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${m.timeout}ms`),networkDetails:y,stats:g}))}};r&&(p.onProgress=(g,x,y,w)=>r({frag:e,part:null,payload:y,networkDetails:w})),l.load(d,m,p)})}loadPart(e,r,n){this.abort();const i=this.config,a=i.fLoader,o=i.loader;return new Promise((c,u)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){u(iG(e,r));return}const l=this.loader=a?new a(i):new o(i),d=nG(e,r);e.loader=l;const f=eG(i.fragLoadPolicy.default),m={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:rG};r.stats=l.stats,l.load(d,m,{onSuccess:(p,g,x,y)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,r);const w={frag:e,part:r,payload:p.data,networkDetails:y};n(w),c(w)},onError:(p,g,x,y)=>{this.resetLoader(e,l),u(new Bp({type:Oi.NETWORK_ERROR,details:wr.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:Uo({url:d.url,data:void 0},p),error:new Error(`HTTP Error ${p.code} ${p.text}`),networkDetails:x,stats:y}))},onAbort:(p,g,x)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,l),u(new Bp({type:Oi.NETWORK_ERROR,details:wr.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:x,stats:p}))},onTimeout:(p,g,x)=>{this.resetLoader(e,l),u(new Bp({type:Oi.NETWORK_ERROR,details:wr.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${m.timeout}ms`),networkDetails:x,stats:p}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,a=i.total;if(n.loaded+=i.loaded,a){const u=Math.round(e.duration/r.duration),l=Math.min(Math.round(n.loaded/a),u),f=(u-l)*Math.round(n.loaded/l);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const o=n.loading,c=i.loading;o.start?o.first+=c.first-c.start:(o.start=c.start,o.first=c.first),o.end=c.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function nG(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(Jn(i)&&Jn(a)){var o;let c=i,u=a;if(t.sn==="initSegment"&&i9e((o=t.decryptdata)==null?void 0:o.method)){const l=a-i;l%16&&(u=a+(16-l%16)),i!==0&&(n.resetIV=!0,c=i-16)}n.rangeStart=c,n.rangeEnd=u}return n}function iG(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:Oi.MEDIA_ERROR,details:wr.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new Bp(n)}function i9e(t){return t==="AES-128"||t==="AES-256"}class Bp extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class use extends cm{constructor(e,r){super(e,r),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class XF{constructor(e,r,n,i=0,a=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=TS(),this.buffering={audio:TS(),video:TS(),audiovideo:TS()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=a,this.partial=o}}function TS(){return{start:0,executeStart:0,executeEnd:0,end:0}}const sG={length:0,start:()=>0,end:()=>0};class Hs{static isBuffered(e,r){if(e){const n=Hs.getBuffered(e);for(let i=n.length;i--;)if(r>=n.start(i)&&r<=n.end(i))return!0}return!1}static bufferedRanges(e){if(e){const r=Hs.getBuffered(e);return Hs.timeRangesToArray(r)}return[]}static timeRangesToArray(e){const r=[];for(let n=0;n<e.length;n++)r.push({start:e.start(n),end:e.end(n)});return r}static bufferInfo(e,r,n){if(e){const i=Hs.bufferedRanges(e);if(i.length)return Hs.bufferedInfo(i,r,n)}return{len:0,start:r,end:r,bufferedIndex:-1}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.length>1&&e.sort((d,f)=>d.start-f.start||f.end-d.end);let i=-1,a=[];if(n)for(let d=0;d<e.length;d++){r>=e[d].start&&r<=e[d].end&&(i=d);const f=a.length;if(f){const m=a[f-1].end;e[d].start-m<n?e[d].end>m&&(a[f-1].end=e[d].end):a.push(e[d])}else a.push(e[d])}else a=e;let o=0,c,u=r,l=r;for(let d=0;d<a.length;d++){const f=a[d].start,m=a[d].end;if(i===-1&&r>=f&&r<=m&&(i=d),r+n>=f&&r<m)u=f,l=m,o=l-r;else if(r+n<f){c=f;break}}return{len:o,start:u||0,end:l||0,nextStart:c,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||sG}catch(r){return Ho.log("failed to get media.buffered",r),sG}}}const dse=/\{\$([a-zA-Z0-9-_]+)\}/g;function aG(t){return dse.test(t)}function OO(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(dse,n=>{const i=n.substring(2,n.length-1),a=r?.[i];return a===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):a})}return e}function oG(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,a;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(r).searchParams;if(o.has(i))a=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(o){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,a=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=a||""}function s9e(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const a9e=/^(\d+)x(\d+)$/,lG=/(.+?)=(".*?"|.*?)(?:,|$)/g;class dc{constructor(e,r){typeof e=="string"&&(e=dc.parseAttrList(e,r)),nl(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}enumeratedStringList(e,r){const n=this[e];return(n?n.split(/[ ,]+/):[]).reduce((i,a)=>(i[a.toLowerCase()]=!0,i),r)}bool(e){return this[e]==="YES"}decimalResolution(e){const r=a9e.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e,r){let n;const i={};for(lG.lastIndex=0;(n=lG.exec(e))!==null;){const o=n[1].trim();let c=n[2];const u=c.indexOf('"')===0&&c.lastIndexOf('"')===c.length-1;let l=!1;if(u)c=c.slice(1,-1);else switch(o){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":l=!0}if(r&&(u||l))c=OO(r,c);else if(!l&&!u)switch(o){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":Ho.warn(`${e}: attribute ${o} is missing quotes`)}i[o]=c}return i}}const o9e="com.apple.hls.interstitial";function l9e(t){return t!=="ID"&&t!=="CLASS"&&t!=="CUE"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function c9e(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"||t==="SCTE35-CMD"}class hse{constructor(e,r,n=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=r?.tagAnchor||null,this.tagOrder=(i=r?.tagOrder)!=null?i:n,r){const a=r.attr;for(const o in a)if(Object.prototype.hasOwnProperty.call(e,o)&&e[o]!==a[o]){Ho.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=o;break}e=nl(new dc({}),a,e)}if(this.attr=e,r?(this._startDate=r._startDate,this._cue=r._cue,this._endDate=r._endDate,this._dateAtEnd=r._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const a=r?.endDate||new Date(this.attr["END-DATE"]);Jn(a.getTime())&&(this._endDate=a)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(Ho.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const r=this.duration;return r!==null?this._dateAtEnd=new Date(this._startDate.getTime()+r*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Jn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===o9e}get isValid(){return!!this.id&&!this._badValueForSameId&&Jn(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const u9e=10;class d9e{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}hasKey(e){return this.encryptedFragments.some(r=>{let n=r.decryptdata;return n||(r.setKeyFormat(e.keyFormat),n=r.decryptdata),!!n&&e.matches(n)})}get hasProgramDateTime(){return this.fragments.length?Jn(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||u9e}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){return this.fragments.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){return this.fragments.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const r=this.lastPartIndex;if(r!==-1){for(let n=e.length;n--;)if(e[n].index>r)return e[n].index;return r}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function fN(t,e){return t.length===e.length?!t.some((r,n)=>r!==e[n]):!1}function cG(t,e){return!t&&!e?!0:!t||!e?!1:fN(t,e)}function Nb(t){return t==="AES-128"||t==="AES-256"||t==="AES-256-CTR"}function ZF(t){switch(t){case"AES-128":case"AES-256":return K0.cbc;case"AES-256-CTR":return K0.ctr;default:throw new Error(`invalid full segment method ${t}`)}}function JF(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function RO(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}function h9e(t){const e=RO(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function fse(t){const e=function(n,i,a){const o=n[i];n[i]=n[a],n[a]=o};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function mse(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const a=i[0]==="base64",o=i[1];a?(n.splice(-1,1),r=JF(o)):r=h9e(o)}}return r}const mN=typeof self<"u"?self:void 0;var mc={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},zd={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function wj(t){switch(t){case zd.FAIRPLAY:return mc.FAIRPLAY;case zd.PLAYREADY:return mc.PLAYREADY;case zd.WIDEVINE:return mc.WIDEVINE;case zd.CLEARKEY:return mc.CLEARKEY}}function $I(t){switch(t){case mc.FAIRPLAY:return zd.FAIRPLAY;case mc.PLAYREADY:return zd.PLAYREADY;case mc.WIDEVINE:return zd.WIDEVINE;case mc.CLEARKEY:return zd.CLEARKEY}}function Dw(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[mc.FAIRPLAY,mc.WIDEVINE,mc.PLAYREADY,mc.CLEARKEY].filter(i=>!!e[i]):[];return!n[mc.WIDEVINE]&&r&&n.push(mc.WIDEVINE),n}const Ase=(function(t){return mN!=null&&(t=mN.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null})();function f9e(t,e,r,n){let i;switch(t){case mc.FAIRPLAY:i=["cenc","sinf"];break;case mc.WIDEVINE:case mc.PLAYREADY:i=["cenc"];break;case mc.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return m9e(i,e,r,n)}function m9e(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs=${a}`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(a=>({contentType:`video/mp4; codecs=${a}`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function A9e(t){var e;return!!t&&(t.sessionType==="persistent-license"||!!((e=t.sessionTypes)!=null&&e.some(r=>r==="persistent-license")))}function pse(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),r=String.fromCharCode.apply(null,Array.from(e)),n=r.substring(r.indexOf("<"),r.length),o=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(o){const c=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(c){const u=JF(c).subarray(0,16);return fse(u),u}}return null}let xy={};class R0{static clearKeyUriToKeyIdMap(){xy={}}static setKeyIdForUri(e,r){xy[e]=r}static addKeyIdForUri(e){const r=Object.keys(xy).length%Number.MAX_SAFE_INTEGER,n=new Uint8Array(16);return new DataView(n.buffer,12,4).setUint32(0,r),xy[e]=n,n}constructor(e,r,n,i=[1],a=null,o){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!Nb(e),o!=null&&o.startsWith("0x")&&(this.keyId=new Uint8Array(zie(o)))}matches(e){return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&fN(e.keyFormatVersions,this.keyFormatVersions)&&cG(e.iv,this.iv)&&cG(e.keyId,this.keyId)}isSupported(){if(this.method){if(Nb(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case zd.FAIRPLAY:case zd.WIDEVINE:case zd.PLAYREADY:case zd.CLEARKEY:return["SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e,r){if(!this.encrypted||!this.uri)return null;if(Nb(this.method)){let a=this.iv;return a||(typeof e!="number"&&(Ho.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0),a=g9e(e)),new R0(this.method,this.uri,"identity",this.keyFormatVersions,a)}if(this.keyId){const a=xy[this.uri];if(a&&!fN(this.keyId,a)&&R0.setKeyIdForUri(this.uri,this.keyId),this.pssh)return this}const n=mse(this.uri);if(n)switch(this.keyFormat){case zd.WIDEVINE:if(this.pssh=n,!this.keyId){const a=y$e(n.buffer);if(a.length){var i;const o=a[0];this.keyId=(i=o.kids)!=null&&i.length?o.kids[0]:null}}this.keyId||(this.keyId=uG(r));break;case zd.PLAYREADY:{const a=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=x$e(a,null,n),this.keyId=pse(n);break}default:{let a=n.subarray(0,16);if(a.length!==16){const o=new Uint8Array(16);o.set(a,16-a.length),a=o}this.keyId=a;break}}if(!this.keyId||this.keyId.byteLength!==16){let a;a=p9e(r),a||(a=uG(r),a||(a=xy[this.uri])),a&&(this.keyId=a,R0.setKeyIdForUri(this.uri,a))}return this}}function p9e(t){const e=t?.[zd.WIDEVINE];return e?e.keyId:null}function uG(t){const e=t?.[zd.PLAYREADY];if(e){const r=mse(e.uri);if(r)return pse(r)}return null}function g9e(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const dG=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,hG=/#EXT-X-MEDIA:(.*)/g,v9e=/^#EXT(?:INF|-X-TARGETDURATION):/m,HI=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),x9e=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class UA{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static resolve(e,r){return zF.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return v9e.test(e)}static parseMasterPlaylist(e,r){const n=aG(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];if(dG.lastIndex=0,!e.startsWith("#EXTM3U"))return i.playlistParsingError=new Error("no EXTM3U delimiter"),i;let o;for(;(o=dG.exec(e))!=null;)if(o[1]){var c;const l=new dc(o[1],i),d=OO(i,o[2]),f={attrs:l,bitrate:l.decimalInteger("BANDWIDTH")||l.decimalInteger("AVERAGE-BANDWIDTH"),name:l.NAME,url:UA.resolve(d,r)},m=l.decimalResolution("RESOLUTION");m&&(f.width=m.width,f.height=m.height),AG(l.CODECS,f);const p=l["SUPPLEMENTAL-CODECS"];p&&(f.supplemental={},AG(p,f.supplemental)),(c=f.unknownCodecs)!=null&&c.length||a.push(f),i.levels.push(f)}else if(o[3]){const l=o[3],d=o[4];switch(l){case"SESSION-DATA":{const f=new dc(d,i),m=f["DATA-ID"];m&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[m]=f);break}case"SESSION-KEY":{const f=fG(d,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):Ho.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${d}"`);break}case"DEFINE":{{const f=new dc(d,i);oG(i,f,r)}break}case"CONTENT-STEERING":{const f=new dc(d,i);i.contentSteering={uri:UA.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=mG(d);break}}}const u=a.length>0&&a.length<i.levels.length;return i.levels=u?a:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const a={},o=n.levels,c={AUDIO:o.map(l=>({id:l.attrs.AUDIO,audioCodec:l.audioCodec})),SUBTITLES:o.map(l=>({id:l.attrs.SUBTITLES,textCodec:l.textCodec})),"CLOSED-CAPTIONS":[]};let u=0;for(hG.lastIndex=0;(i=hG.exec(e))!==null;){const l=new dc(i[1],n),d=l.TYPE;if(d){const f=c[d],m=a[d]||[];a[d]=m;const p=l.LANGUAGE,g=l["ASSOC-LANGUAGE"],x=l.CHANNELS,y=l.CHARACTERISTICS,w=l["INSTREAM-ID"],E={attrs:l,bitrate:0,id:u++,groupId:l["GROUP-ID"]||"",name:l.NAME||p||"",type:d,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:p,url:l.URI?UA.resolve(l.URI,r):""};if(g&&(E.assocLang=g),x&&(E.channels=x),y&&(E.characteristics=y),w&&(E.instreamId=w),f!=null&&f.length){const _=UA.findGroup(f,E.groupId)||f[0];pG(E,_,"audioCodec"),pG(E,_,"textCodec")}m.push(E)}}return a}static parseLevelPlaylist(e,r,n,i,a,o){var c;const u={url:r},l=new d9e(r),d=l.fragments,f=[];let m=null,p=0,g=0,x=0,y=0,w=0,E=null,_=new MI(i,u),N,C,I,D=-1,M=!1,Y=null,X;if(HI.lastIndex=0,l.m3u8=e,l.hasVariableRefs=aG(e),((c=HI.exec(e))==null?void 0:c[0])!=="#EXTM3U")return l.playlistParsingError=new Error("Missing format identifier #EXTM3U"),l;for(;(N=HI.exec(e))!==null;){M&&(M=!1,_=new MI(i,u),_.playlistOffset=x,_.setStart(x),_.sn=p,_.cc=y,w&&(_.bitrate=w),_.level=n,m&&(_.initSegment=m,m.rawProgramDateTime&&(_.rawProgramDateTime=m.rawProgramDateTime,m.rawProgramDateTime=null),Y&&(_.setByteRange(Y),Y=null)));const we=N[1];if(we){_.duration=parseFloat(we);const ve=(" "+N[2]).slice(1);_.title=ve||null,_.tagList.push(ve?["INF",we,ve]:["INF",we])}else if(N[3]){if(Jn(_.duration)){_.playlistOffset=x,_.setStart(x),I&&vG(_,I,l),_.sn=p,_.level=n,_.cc=y,d.push(_);const ve=(" "+N[3]).slice(1);_.relurl=OO(l,ve),DO(_,E,f),E=_,x+=_.duration,p++,g=0,M=!0}}else{if(N=N[0].match(x9e),!N){Ho.warn("No matches on slow regex match for level playlist!");continue}for(C=1;C<N.length&&N[C]===void 0;C++);const ve=(" "+N[C]).slice(1),ne=(" "+N[C+1]).slice(1),ae=N[C+2]?(" "+N[C+2]).slice(1):null;switch(ve){case"BYTERANGE":E?_.setByteRange(ne,E):_.setByteRange(ne);break;case"PROGRAM-DATE-TIME":_.rawProgramDateTime=ne,_.tagList.push(["PROGRAM-DATE-TIME",ne]),D===-1&&(D=d.length);break;case"PLAYLIST-TYPE":l.type&&jp(l,ve,N),l.type=ne.toUpperCase();break;case"MEDIA-SEQUENCE":l.startSN!==0?jp(l,ve,N):d.length>0&&xG(l,ve,N),p=l.startSN=parseInt(ne);break;case"SKIP":{l.skippedSegments&&jp(l,ve,N);const oe=new dc(ne,l),Re=oe.decimalInteger("SKIPPED-SEGMENTS");if(Jn(Re)){l.skippedSegments+=Re;for(let be=Re;be--;)d.push(null);p+=Re}const Pe=oe.enumeratedString("RECENTLY-REMOVED-DATERANGES");Pe&&(l.recentlyRemovedDateranges=(l.recentlyRemovedDateranges||[]).concat(Pe.split("	")));break}case"TARGETDURATION":l.targetduration!==0&&jp(l,ve,N),l.targetduration=Math.max(parseInt(ne),1);break;case"VERSION":l.version!==null&&jp(l,ve,N),l.version=parseInt(ne);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":l.live||jp(l,ve,N),l.live=!1;break;case"#":(ne||ae)&&_.tagList.push(ae?[ne,ae]:[ne]);break;case"DISCONTINUITY":y++,_.tagList.push(["DIS"]);break;case"GAP":_.gap=!0,_.tagList.push([ve]);break;case"BITRATE":_.tagList.push([ve,ne]),w=parseInt(ne)*1e3,Jn(w)?_.bitrate=w:w=0;break;case"DATERANGE":{const oe=new dc(ne,l),Re=new hse(oe,l.dateRanges[oe.ID],l.dateRangeTagCount);l.dateRangeTagCount++,Re.isValid||l.skippedSegments?l.dateRanges[Re.id]=Re:Ho.warn(`Ignoring invalid DATERANGE tag: "${ne}"`),_.tagList.push(["EXT-X-DATERANGE",ne]);break}case"DEFINE":{{const oe=new dc(ne,l);"IMPORT"in oe?s9e(l,oe,o):oG(l,oe,r)}break}case"DISCONTINUITY-SEQUENCE":l.startCC!==0?jp(l,ve,N):d.length>0&&xG(l,ve,N),l.startCC=y=parseInt(ne);break;case"KEY":{const oe=fG(ne,r,l);if(oe.isSupported()){if(oe.method==="NONE"){I=void 0;break}I||(I={});const Re=I[oe.keyFormat];Re!=null&&Re.matches(oe)||(Re&&(I=nl({},I)),I[oe.keyFormat]=oe)}else Ho.warn(`[Keys] Ignoring unsupported EXT-X-KEY tag: "${ne}"`);break}case"START":l.startTimeOffset=mG(ne);break;case"MAP":{const oe=new dc(ne,l);if(_.duration){const Re=new MI(i,u);gG(Re,oe,n,I),m=Re,_.initSegment=m,m.rawProgramDateTime&&!_.rawProgramDateTime&&(_.rawProgramDateTime=m.rawProgramDateTime)}else{const Re=_.byteRangeEndOffset;if(Re){const Pe=_.byteRangeStartOffset;Y=`${Re-Pe}@${Pe}`}else Y=null;gG(_,oe,n,I),m=_,M=!0}m.cc=y;break}case"SERVER-CONTROL":{X&&jp(l,ve,N),X=new dc(ne),l.canBlockReload=X.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=X.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&X.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=X.optionalFloat("PART-HOLD-BACK",0),l.holdBack=X.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{l.partTarget&&jp(l,ve,N);const oe=new dc(ne);l.partTarget=oe.decimalFloatingPoint("PART-TARGET");break}case"PART":{let oe=l.partList;oe||(oe=l.partList=[]);const Re=g>0?oe[oe.length-1]:void 0,Pe=g++,be=new dc(ne,l),he=new s$e(be,_,u,Pe,Re);oe.push(he),_.duration+=he.duration;break}case"PRELOAD-HINT":{const oe=new dc(ne,l);l.preloadHint=oe;break}case"RENDITION-REPORT":{const oe=new dc(ne,l);l.renditionReports=l.renditionReports||[],l.renditionReports.push(oe);break}default:Ho.warn(`line parsed but not handled: ${N}`);break}}}E&&!E.relurl?(d.pop(),x-=E.duration,l.partList&&(l.fragmentHint=E)):l.partList&&(DO(_,E,f),_.cc=y,l.fragmentHint=_,I&&vG(_,I,l)),l.targetduration||(l.playlistParsingError=new Error("Missing Target Duration"));const te=d.length,de=d[0],ye=d[te-1];if(x+=l.skippedSegments*l.targetduration,x>0&&te&&ye){l.averagetargetduration=x/te;const we=ye.sn;l.endSN=we!=="initSegment"?we:0,l.live||(ye.endList=!0),D>0&&(b9e(d,D),de&&f.unshift(de))}return l.fragmentHint&&(x+=l.fragmentHint.duration),l.totalduration=x,f.length&&l.dateRangeTagCount&&de&&gse(f,l),l.endCC=y,l}}function gse(t,e){let r=t.length;if(!r)if(e.hasProgramDateTime){const c=e.fragments[e.fragments.length-1];t.push(c),r++}else return;const n=t[r-1],i=e.live?1/0:e.totalduration,a=Object.keys(e.dateRanges);for(let c=a.length;c--;){const u=e.dateRanges[a[c]],l=u.startDate.getTime();u.tagAnchor=n.ref;for(let d=r;d--;){var o;if(((o=t[d])==null?void 0:o.sn)<e.startSN)break;const f=y9e(e,l,t,d,i);if(f!==-1){u.tagAnchor=e.fragments[f].ref;break}}}}function y9e(t,e,r,n,i){const a=r[n];if(a){const c=a.programDateTime;if(e>=c||n===0){var o;const u=(((o=r[n+1])==null?void 0:o.start)||i)-a.start;if(e<=c+u*1e3){const l=r[n].sn-t.startSN;if(l<0)return-1;const d=t.fragments;if(d.length>r.length){const m=(r[n+1]||d[d.length-1]).sn-t.startSN;for(let p=m;p>l;p--){const g=d[p].programDateTime;if(e>=g&&e<g+d[p].duration*1e3)return p}}return l}}}return-1}function fG(t,e,r){var n,i;const a=new dc(t,r),o=(n=a.METHOD)!=null?n:"",c=a.URI,u=a.hexadecimalInteger("IV"),l=a.KEYFORMATVERSIONS,d=(i=a.KEYFORMAT)!=null?i:"identity";c&&a.IV&&!u&&Ho.error(`Invalid IV: ${a.IV}`);const f=c?UA.resolve(c,e):"",m=(l||"1").split("/").map(Number).filter(Number.isFinite);return new R0(o,f,d,m,u,a.KEYID)}function mG(t){const r=new dc(t).decimalFloatingPoint("TIME-OFFSET");return Jn(r)?r:null}function AG(t,e){let r=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const i=r.filter(a=>GF(a,n));i.length&&(e[`${n}Codec`]=i.map(a=>a.split("/")[0]).join(","),r=r.filter(a=>i.indexOf(a)===-1))}),e.unknownCodecs=r}function pG(t,e,r){const n=e[r];n&&(t[r]=n)}function b9e(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function DO(t,e,r){t.rawProgramDateTime?r.push(t):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime)}function gG(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function vG(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}function jp(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${r[0]})`)}function xG(t,e,r){t.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${r[0]})`)}function QI(t,e){const r=e.startPTS;if(Jn(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&i.setDuration(n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.setStart(t.start+(t.minEndPTS-t.start)):e.setStart(t.start+t.duration):e.setStart(Math.max(t.start-e.duration,0))}function vse(t,e,r,n,i,a,o){n-r<=0&&(o.warn("Fragment should have a positive duration",e),n=r+e.duration,a=i+e.duration);let u=r,l=n;const d=e.startPTS,f=e.endPTS;if(Jn(d)){const w=Math.abs(d-r);t&&w>t.totalduration?o.warn(`media timestamps and playlist times differ by ${w}s for level ${e.level} ${t.url}`):Jn(e.deltaPTS)?e.deltaPTS=Math.max(w,e.deltaPTS):e.deltaPTS=w,u=Math.max(r,d),r=Math.min(r,d),i=e.startDTS!==void 0?Math.min(i,e.startDTS):i,l=Math.min(n,f),n=Math.max(n,f),a=e.endDTS!==void 0?Math.max(a,e.endDTS):a}const m=r-e.start;e.start!==0&&e.setStart(r),e.setDuration(n-e.start),e.startPTS=r,e.maxStartPTS=u,e.startDTS=i,e.endPTS=n,e.minEndPTS=l,e.endDTS=a;const p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;let g;const x=p-t.startSN,y=t.fragments;for(y[x]=e,g=x;g>0;g--)QI(y[g],y[g-1]);for(g=x;g<y.length-1;g++)QI(y[g],y[g+1]);return t.fragmentHint&&QI(y[y.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,m}function w9e(t,e,r){if(t===e)return;let n=null;const i=t.fragments;for(let d=i.length-1;d>=0;d--){const f=i[d].initSegment;if(f){n=f;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let a;S9e(t,e,(d,f,m,p)=>{if((!e.startCC||e.skippedSegments)&&f.cc!==d.cc){const g=d.cc-f.cc;for(let x=m;x<p.length;x++)p[x].cc+=g;e.endCC=p[p.length-1].cc}Jn(d.startPTS)&&Jn(d.endPTS)&&(f.setStart(f.startPTS=d.startPTS),f.startDTS=d.startDTS,f.maxStartPTS=d.maxStartPTS,f.endPTS=d.endPTS,f.endDTS=d.endDTS,f.minEndPTS=d.minEndPTS,f.setDuration(d.endPTS-d.startPTS),f.duration&&(a=f),e.PTSKnown=e.alignedSliding=!0),d.hasStreams&&(f.elementaryStreams=d.elementaryStreams),f.loader=d.loader,d.hasStats&&(f.stats=d.stats),d.initSegment&&(f.initSegment=d.initSegment,n=d.initSegment)});const o=e.fragments,c=e.fragmentHint?o.concat(e.fragmentHint):o;if(n&&c.forEach(d=>{var f;d&&(!d.initSegment||d.initSegment.relurl===((f=n)==null?void 0:f.relurl))&&(d.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=o.some(d=>!d),e.deltaUpdateFailed){r.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let d=e.skippedSegments;d--;)o.shift();e.startSN=o[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=E9e(t.dateRanges,e,r));const d=t.fragments.filter(f=>f.rawProgramDateTime);if(t.hasProgramDateTime&&!e.hasProgramDateTime)for(let f=1;f<c.length;f++)c[f].programDateTime===null&&DO(c[f],c[f-1],d);gse(d,e)}e.endCC=o[o.length-1].cc}if(!e.startCC){var u;const d=bse(t,e.startSN-1);e.startCC=(u=d?.cc)!=null?u:o[0].cc}_9e(t.partList,e.partList,(d,f)=>{f.elementaryStreams=d.elementaryStreams,f.stats=d.stats}),a?vse(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS,r):xse(t,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const l=e.advancedDateTime;if(e.advanced&&l){const d=e.edge;e.driftStart||(e.driftStartTime=l,e.driftStart=d),e.driftEndTime=l,e.driftEnd=d}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=t.requestScheduled)}function E9e(t,e,r){const{dateRanges:n,recentlyRemovedDateranges:i}=e,a=nl({},t);i&&i.forEach(u=>{delete a[u]});const c=Object.keys(a).length;return c?(Object.keys(n).forEach(u=>{const l=a[u],d=new hse(n[u].attr,l);d.isValid?(a[u]=d,l||(d.tagOrder+=c)):r.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${ml(n[u].attr)}"`)}),a):n}function _9e(t,e,r){if(t&&e){let n=0;for(let i=0,a=t.length;i<=a;i++){const o=t[i],c=e[i+n];o&&c&&o.index===c.index&&o.fragment.sn===c.fragment.sn?r(o,c):n--}}}function S9e(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,o=e.startSN-t.startSN,c=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=i;l<=a;l++){const d=u[o+l];let f=c[l];if(n&&!f&&d&&(f=e.fragments[l]=d),d&&f){r(d,f,l,c);const m=d.relurl,p=f.relurl;if(m&&j9e(m,p)){e.playlistParsingError=yG(`media sequence mismatch ${f.sn}:`,t,e,d,f);return}else if(d.cc!==f.cc){e.playlistParsingError=yG(`discontinuity sequence mismatch (${d.cc}!=${f.cc})`,t,e,d,f);return}}}}function yG(t,e,r,n,i){return new Error(`${t} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${r.startSN}
${r.m3u8}`)}function xse(t,e,r=!0){const n=e.startSN+e.skippedSegments-t.startSN,i=t.fragments,a=n>=0;let o=0;if(a&&n<i.length)o=i[n].start;else if(a&&e.startSN===t.endSN+1)o=t.fragmentEnd;else if(a&&r)o=t.fragmentStart+n*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)o=t.fragmentStart;else return;MO(e,o)}function MO(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].addStart(e);t.fragmentHint&&t.fragmentHint.addStart(e)}}function yse(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&r*4>e){const a=n[n.length-1].duration*1e3;a<r&&(r=a)}}else r/=2;return Math.round(r)}function bse(t,e,r){if(!t)return null;let n=t.fragments[e-t.startSN];return n||(n=t.fragmentHint,n&&n.sn===e)?n:e<t.startSN&&r&&r.sn===e?r:null}function bG(t,e,r){return t?wse(t.partList,e,r):null}function wse(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function Ese(t){t.forEach((e,r)=>{var n;(n=e.details)==null||n.fragments.forEach(i=>{i.level=r,i.initSegment&&(i.initSegment.level=r)})})}function j9e(t,e){return t!==e&&e?wG(t)!==wG(e):!1}function wG(t){return t.replace(/\?[^?]*$/,"")}function wE(t,e){for(let n=0,i=t.length;n<i;n++){var r;if(((r=t[n])==null?void 0:r.cc)===e)return t[n]}return null}function T9e(t,e){return!!(t&&e.startCC<t.endCC&&e.endCC>t.startCC)}function EG(t,e){const r=t.start+e;t.startPTS=r,t.setStart(r),t.endPTS=r+t.duration}function _se(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)EG(r[n],t);e.fragmentHint&&EG(e.fragmentHint,t),e.alignedSliding=!0}function C9e(t,e){t&&(Sse(e,t),e.alignedSliding||AN(e,t),!e.alignedSliding&&!e.skippedSegments&&xse(t,e,!1))}function Sse(t,e){if(!T9e(e,t))return;const r=Math.min(e.endCC,t.endCC),n=wE(e.fragments,r),i=wE(t.fragments,r);if(!n||!i)return;Ho.log(`Aligning playlist at start of dicontinuity sequence ${r}`);const a=n.start-i.start;_se(a,t)}function AN(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;let i,a;const o=Math.min(e.endCC,t.endCC);e.startCC<o&&t.startCC<o&&(i=wE(n,o),a=wE(r,o)),(!i||!a)&&(i=n[Math.floor(n.length/2)],a=wE(r,i.cc)||r[Math.floor(r.length/2)]);const c=i.programDateTime,u=a.programDateTime;if(!c||!u)return;const l=(u-c)/1e3-(a.start-i.start);_se(l,t)}function wh(t,e,r){Vh(t,e,r),t.addEventListener(e,r)}function Vh(t,e,r){t.removeEventListener(e,r)}const N9e={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},Xr={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class eU extends use{constructor(e,r,n,i,a){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Xr.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:o,fragCurrent:c,media:u,mediaBuffer:l,state:d}=this,f=u?u.currentTime:0,m=Hs.bufferInfo(l||u,f,o.maxBufferHole),p=!m.len;if(this.log(`Media seeking to ${Jn(f)?f.toFixed(3):f}, state: ${d}, ${p?"out of":"in"} buffer`),this.state===Xr.ENDED)this.resetLoadingState();else if(c){const g=o.maxFragLookUpTolerance,x=c.start-g,y=c.start+c.duration+g;if(p||y<m.start||x>m.end){const w=f>y;(f<x||w)&&(w&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(u){this.fragmentTracker.removeFragmentsInRange(f,1/0,this.playlistType,!0);const g=this.lastCurrentTime;if(f>g&&(this.lastCurrentTime=f),!this.loadingParts){const x=Math.max(m.end,f),y=this.shouldLoadParts(this.getLevelDetails(),x);y&&(this.log(`LL-Part loading ON after seeking to ${f.toFixed(2)} with buffer @${x.toFixed(2)}`),this.loadingParts=y)}}this.hls.hasEnoughToStart||(this.log(`Setting ${p?"startPosition":"nextLoadPosition"} to ${f} for seek without enough to start`),this.nextLoadPosition=f,p&&(this.startPosition=f)),p&&this.state===Xr.IDLE&&this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=a,this.hls=e,this.fragmentLoader=new n9e(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new qF(e.config)}registerListeners(){const{hls:e}=this;e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Le.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Le.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===Xr.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Xr.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:r}=this;return r===-1&&e?e:r}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,r){if(r.live||!this.media)return!1;const n=e.end||0,i=this.config.timelineOffset||0;if(n<=i)return!1;const a=e.buffered;this.config.maxBufferHole&&a&&a.length>1&&(e=Hs.bufferedInfo(a,e.start,0));const o=e.nextStart;if(o&&o>i&&o<r.edge||this.media.currentTime<e.start)return!1;const u=r.partList;if(u!=null&&u.length){const d=u[u.length-1];return Hs.isBuffered(this.media,d.start+d.duration/2)}const l=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(l)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null)return this.levelLastLoaded.details}get timelineOffset(){const e=this.config.timelineOffset;if(e){var r;return((r=this.getLevelDetails())==null?void 0:r.appliedTimelineOffset)||e}return 0}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;wh(n,"seeking",this.onMediaSeeking),wh(n,"ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===Xr.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),Vh(i,"seeking",this.onMediaSeeking),Vh(i,"ended",this.onMediaEnded),this.keyLoader&&!n&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,n){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,r){}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=Xr.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this.startFragRequested=!0,this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=a=>{const o=a.frag;if(this.fragContextChanged(o)){this.warn(`${o.type} sn: ${o.sn}${a.part?" part: "+a.part.index:""} of ${this.fragInfo(o,!1,a.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(o);return}o.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,r,n,i).then(a=>{if(!a)return;const o=this.state,c=a.frag;if(this.fragContextChanged(c)){(o===Xr.FRAG_LOADING||!this.fragCurrent&&o===Xr.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=Xr.IDLE);return}"payload"in a&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(Le.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===Xr.STOPPED||this.state===Xr.ERROR||(this.warn(`Frag error: ${a?.message||a}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:n}=this;if(n.getState(e)===Qu.APPENDING){const a=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,a),c=Math.max(e.duration,o?o.len:this.config.maxBufferLength),u=this.backtrackFragment;((u?e.sn-u.sn:0)===1||this.reduceMaxBufferLength(c,e.duration))&&n.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===Qu.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const r=e.details;return r?.live&&r.type!=="EVENT"&&(this.levelLastLoaded!==e||r.expired)}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger(Le.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{const i=n?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{frag:a,payload:o}=n,c=a.decryptdata;if(o&&o.byteLength>0&&c!=null&&c.key&&c.iv&&Nb(c.method)){const u=self.performance.now();return this.decrypter.decrypt(new Uint8Array(o),c.key.buffer,c.iv.buffer,ZF(c.method)).catch(l=>{throw i.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:a}),l}).then(l=>{const d=self.performance.now();return i.trigger(Le.FRAG_DECRYPTED,{frag:a,payload:l,stats:{tstart:u,tdecrypt:d}}),n.payload=l,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===Xr.STOPPED||this.state===Xr.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:r}=this;if(!r)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state!==Xr.STOPPED&&(this.state=Xr.IDLE),e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}unhandledEncryptionError(e,r){var n,i;const a=e.tracks;if(a&&!r.encrypted&&((n=a.audio)!=null&&n.encrypted||(i=a.video)!=null&&i.encrypted)&&(!this.config.emeEnabled||!this.keyLoader.emeController)){const o=this.media,c=new Error(`Encrypted track with no key in ${this.fragInfo(r)} (media ${o?"attached mediaKeys: "+o.mediaKeys:"detached"})`);return this.warn(c.message),!o||o.mediaKeys?!1:(this.hls.trigger(Le.ERROR,{type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_NO_KEYS,fatal:!1,error:c,frag:r}),this.resetTransmuxer(),!0)}return!1}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.sn!==r.sn||e.level!==r.level}fragBufferedComplete(e,r){const n=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)} > buffer:${n?N9e.toString(Hs.getBuffered(n)):"(detached)"})`),ru(e)){var i;if(e.type!==mi.SUBTITLE){const o=e.elementaryStreams;if(!Object.keys(o).some(c=>!!o[c])){this.state=Xr.IDLE;return}}const a=(i=this.levels)==null?void 0:i[e.level];a!=null&&a.fragmentError&&(this.log(`Resetting level fragment error count of ${a.fragmentError} on frag buffered`),a.fragmentError=0)}this.state=Xr.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:a}=e,o=!a||a.length===0||a.some(u=>!u),c=new XF(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!o);r.flush(c)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var a;this.fragCurrent=e;const o=r.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let c=null;if(e.encrypted&&!((a=e.decryptdata)!=null&&a.key)){if(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=Xr.KEY_LOADING,this.fragCurrent=e,c=this.keyLoader.load(e).then(m=>{if(!this.fragContextChanged(m.frag))return this.hls.trigger(Le.KEY_LOADED,m),this.state===Xr.KEY_LOADING&&(this.state=Xr.IDLE),m}),this.hls.trigger(Le.KEY_LOADING,{frag:e}),this.fragCurrent===null)return this.log("context changed in KEY_LOADING"),Promise.resolve(null)}else e.encrypted||(c=this.keyLoader.loadClear(e,o.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const u=this.fragPrevious;if(ru(e)&&(!u||e.sn!==u.sn)){const m=this.shouldLoadParts(r.details,e.end);m!==this.loadingParts&&(this.log(`LL-Part loading ${m?"ON":"OFF"} loading sn ${u?.sn}->${e.sn}`),this.loadingParts=m)}if(n=Math.max(e.start,n||0),this.loadingParts&&ru(e)){const m=o.partList;if(m&&i){n>o.fragmentEnd&&o.fragmentHint&&(e=o.fragmentHint);const p=this.getNextPart(m,e,n);if(p>-1){const g=m[p];e=this.fragCurrent=g.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${g.index} (${p}/${m.length-1}) of ${this.fragInfo(e,!1,g)}) cc: ${e.cc} [${o.startSN}-${o.endSN}], target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=g.start+g.duration,this.state=Xr.FRAG_LOADING;let x;return c?x=c.then(y=>!y||this.fragContextChanged(y.frag)?null:this.doFragPartsLoad(e,g,r,i)).catch(y=>this.handleFragLoadError(y)):x=this.doFragPartsLoad(e,g,r,i).catch(y=>this.handleFragLoadError(y)),this.hls.trigger(Le.FRAG_LOADING,{frag:e,part:g,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):x}else if(!e.url||this.loadedEndOfParts(m,n))return Promise.resolve(null)}}if(ru(e)&&this.loadingParts){var l;this.log(`LL-Part loading OFF after next part miss @${n.toFixed(2)} Check buffer at sn: ${e.sn} loaded parts: ${(l=o.partList)==null?void 0:l.filter(m=>m.loaded).map(m=>`[${m.start}-${m.end}]`)}`),this.loadingParts=!1}else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${"["+o.startSN+"-"+o.endSN+"]"}, target: ${parseFloat(n.toFixed(3))}`),Jn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Xr.FRAG_LOADING;const d=this.config.progressive&&e.type!==mi.SUBTITLE;let f;return d&&c?f=c.then(m=>!m||this.fragContextChanged(m.frag)?null:this.fragmentLoader.load(e,i)).catch(m=>this.handleFragLoadError(m)):f=Promise.all([this.fragmentLoader.load(e,d?i:void 0),c]).then(([m])=>(!d&&i&&i(m),m)).catch(m=>this.handleFragLoadError(m)),this.hls.trigger(Le.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f}doFragPartsLoad(e,r,n,i){return new Promise((a,o)=>{var c;const u=[],l=(c=n.details)==null?void 0:c.partList,d=f=>{this.fragmentLoader.loadPart(e,f,i).then(m=>{u[f.index]=m;const p=m.part;this.hls.trigger(Le.FRAG_LOADED,m);const g=bG(n.details,e.sn,f.index+1)||wse(l,e.sn,f.index+1);if(g)d(g);else return a({frag:e,part:p,partsLoaded:u})}).catch(o)};d(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;r.frag&&r.details===wr.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):r.frag&&r.type===Oi.KEY_SYSTEM_ERROR?(r.frag.abortRequests(),this.resetStartWhenNotLoaded(),this.resetFragmentLoading(r.frag)):this.hls.trigger(Le.ERROR,r)}else this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==Xr.PARSING){!this.fragCurrent&&this.state!==Xr.STOPPED&&this.state!==Xr.ERROR&&(this.state=Xr.IDLE);return}const{frag:n,part:i,level:a}=r,o=self.performance.now();n.stats.parsing.end=o,i&&(i.stats.parsing.end=o);const c=this.getLevelDetails(),l=c&&n.sn>c.endSN||this.shouldLoadParts(c,n.end);l!==this.loadingParts&&(this.log(`LL-Part loading ${l?"ON":"OFF"} after parsing segment ending @${n.end.toFixed(2)}`),this.loadingParts=l),this.updateLevelTiming(n,i,a,e.partial)}shouldLoadParts(e,r){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e.partList){var n;const a=e.partList[0];if(a.fragment.type===mi.SUBTITLE)return!1;const o=a.end+(((n=e.fragmentHint)==null?void 0:n.duration)||0);if(r>=o){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>a.start-a.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:a,part:o}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${a} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const c=r[i],u=c.details,l=o>-1?bG(u,a,o):null,d=l?l.fragment:bse(u,a,n);return d?(n&&n!==d&&(d.stats=n.stats),{frag:d,part:l,level:c}):null}bufferFragmentData(e,r,n,i,a){if(this.state!==Xr.PARSING)return;const{data1:o,data2:c}=e;let u=o;if(c&&(u=am(o,c)),!u.length)return;const l=this.initPTS[r.cc],d=l?-l.baseTime/l.timescale:void 0,f={type:e.type,frag:r,part:n,chunkMeta:i,offset:d,parent:r.type,data:u};if(this.hls.trigger(Le.BUFFER_APPENDING,f),e.dropped&&e.independent&&!n){if(a)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!Hs.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=Hs.bufferInfo(r,n,0),a=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),c=Math.max(Math.min(e.start-o,i.end-o),n+o);e.start-c>o&&this.flushMainBuffer(c,e.start)}getFwdBufferInfo(e,r){var n;const i=this.getLoadPosition();if(!Jn(i))return null;const o=this.lastCurrentTime>i||(n=this.media)!=null&&n.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,r,o)}getFwdBufferInfoAtPos(e,r,n,i){const a=Hs.bufferInfo(e,r,i);if(a.len===0&&a.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(r,n);if(o&&(a.nextStart<=o.end||o.gap)){const c=Math.max(Math.min(a.nextStart,o.end)-r,i);return Hs.bufferInfo(e,r,c)}}return a}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e,r){const n=this.config,i=Math.max(Math.min(e-r,n.maxBufferLength),r),a=Math.max(e-r*3,n.maxMaxBufferLength/2,i);return a>=i?(n.maxMaxBufferLength=a,this.warn(`Reduce max buffer length to ${a}s`),!0):!1}getAppendedFrag(e,r=mi.MAIN){const n=this.fragmentTracker?this.fragmentTracker.getAppendedFrag(e,r):null;return n&&"fragment"in n?n.fragment:n}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:a}=this,o=n[0].start,c=a.lowLatencyMode&&!!r.partList;let u=null;if(r.live){const f=a.initialLiveManifestSize;if(i<f)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${f})`),null;if(!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o){var l;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),u=this.getInitialLiveFragment(r);const m=this.hls.startPosition,p=this.hls.liveSyncPosition,g=u?(m!==-1&&m>=o?m:p)||u.start:e;this.log(`Setting startPosition to ${g} to match start frag at live edge. mainStart: ${m} liveSyncPosition: ${p} frag.start: ${(l=u)==null?void 0:l.start}`),this.startPosition=this.nextLoadPosition=g}}else e<=o&&(u=n[0]);if(!u){const f=this.loadingParts?r.partEnd:r.fragmentEnd;u=this.getFragmentAtPosition(e,f,r)}let d=this.filterReplacedPrimary(u,r);if(!d&&u){const f=u.sn-r.startSN;d=this.filterReplacedPrimary(n[f+1]||null,r)}return this.mapToInitFragWhenRequired(d)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===Qu.OK||n===Qu.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,a){let o=null;if(e.gap&&(o=this.getNextFragment(this.nextLoadPosition,r),o&&!o.gap&&n.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i,0);if(c!==null&&n.len+c.len>=a){const u=o.sn;return this.loopSn!==u&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${u}`),this.loopSn=u),null}}return this.loopSn=void 0,o}get primaryPrefetch(){if(_G(this.config)){var e;if((e=this.hls.interstitialsManager)==null||(e=e.playingItem)==null?void 0:e.event)return!0}return!1}filterReplacedPrimary(e,r){if(!e)return e;if(_G(this.config)&&e.type!==mi.SUBTITLE){const n=this.hls.interstitialsManager,i=n?.bufferingItem;if(i){const o=i.event;if(o){if(o.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&r?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const a=n?.playerQueue;if(a)for(let o=a.length;o--;){const c=a[o].interstitial;if(c.appendInPlace&&e.start>=c.startTime&&e.end<=c.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!e.initSegment.data&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,a=!1,o=!0;for(let c=0,u=e.length;c<u;c++){const l=e[c];if(o=o&&!l.independent,i>-1&&n<l.start)break;const d=l.loaded;d?i=-1:(a||(l.independent||o)&&l.fragment===r)&&(l.fragment!==r&&this.warn(`Need buffer at ${n} but next unloaded part starts at ${l.start}`),i=c),a=d}return i}loadedEndOfParts(e,r){let n;for(let i=e.length;i--;){if(n=e[i],!n.loaded)return!1;if(r>n.start)return!0}return!1}getInitialLiveFragment(e){const r=e.fragments,n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=V$e(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){const o=r[a-e.startSN];n.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=ose(e,n.cc,n.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(i=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:a}=this,{fragments:o,endSN:c}=n;const{fragmentHint:u}=n,{maxFragLookUpTolerance:l}=i,d=n.partList,f=!!(this.loadingParts&&d!=null&&d.length&&u);f&&!this.bitrateTest&&d[d.length-1].fragment.sn===u.sn&&(o=o.concat(u),c=u.sn);let m;if(e<r){var p;const x=e<this.lastCurrentTime||e>r-l||(p=this.media)!=null&&p.paused||!this.startFragRequested?0:l;m=Lx(a,o,e,x)}else m=o[o.length-1];if(m){const g=m.sn-n.startSN,x=this.fragmentTracker.getState(m);if((x===Qu.OK||x===Qu.PARTIAL&&m.gap)&&(a=m),a&&m.sn===a.sn&&(!f||d[0].fragment.sn>m.sn||!n.live)&&m.level===a.level){const w=o[g+1];m.sn<c&&this.fragmentTracker.getState(w)!==Qu.OK?m=w:m=null}}return m}alignPlaylists(e,r,n){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const a=e.fragmentStart,o=!r,c=e.alignedSliding&&Jn(a);if(o||!c&&!a){C9e(n,e);const u=e.fragmentStart;return this.log(`Live playlist sliding: ${u.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} fragments: ${i}`),u}return a}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;n<r&&(n=-1);const i=this.timelineOffset;if(n===-1){const a=this.startTimeOffset!==null,o=a?this.startTimeOffset:e.startTimeOffset;o!==null&&Jn(o)?(n=r+o,o<0&&(n+=e.edge),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Setting startPosition to ${n} for start time offset ${o} found in ${a?"multivariant":"media"} playlist`),this.startPosition=n):e.live?(n=this.hls.liveSyncPosition||r,this.log(`Setting startPosition to -1 to start at live edge ${n}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=n=0),this.lastCurrentTime=n+i}this.nextLoadPosition=n+i}getLoadPosition(){var e;const{media:r}=this;let n=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&r?n=r.currentTime:this.nextLoadPosition>=0&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,r){this.transmuxer&&e.type===this.playlistType&&ru(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${r?" part "+r.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Xr.FRAG_LOADING_WAITING_RETRY)&&(this.state=Xr.IDLE)}onFragmentOrKeyLoadError(e,r){var n;if(r.chunkMeta&&!r.frag){const w=this.getCurrentContext(r.chunkMeta);w&&(r.frag=w.frag)}const i=r.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var a;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(a=this.fragCurrent)==null?void 0:a.url}`);return}const o=r.details===wr.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(i,!0);const c=r.errorAction;if(!c){this.state=Xr.ERROR;return}const{action:u,flags:l,retryCount:d=0,retryConfig:f}=c,m=!!f,p=m&&u===Hd.RetryRequest,g=m&&!c.resolved&&l===ff.MoveAllAlternatesMatchingHost,x=(n=this.hls.latestLevelDetails)==null?void 0:n.live;if(!p&&g&&ru(i)&&!i.endList&&x&&!cse(r))this.resetFragmentErrors(e),this.treatAsGap(i),c.resolved=!0;else if((p||g)&&d<f.maxNumRetry){var y;const w=PO((y=r.response)==null?void 0:y.code),E=YF(f,d);if(this.resetStartWhenNotLoaded(),this.retryDate=self.performance.now()+E,this.state=Xr.FRAG_LOADING_WAITING_RETRY,c.resolved=!0,w){this.log("Waiting for connection (offline)"),this.retryDate=1/0,r.reason="offline";return}this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${r.details}, retrying loading ${d+1}/${f.maxNumRetry} in ${E}ms`)}else if(f)if(this.resetFragmentErrors(e),d<f.maxNumRetry)!o&&u!==Hd.RemoveAlternatePermanently&&(c.resolved=!0);else{this.warn(`${r.details} reached or exceeded max retry (${d})`);return}else u===Hd.SendAlternateToPenaltyBox?this.state=Xr.WAITING_LEVEL:this.state=Xr.ERROR;this.tickImmediate()}checkRetryDate(){const e=self.performance.now(),r=this.retryDate,n=r===1/0;(!r||e>=r||n&&!PO(0))&&(n&&this.log("Connection restored (online)"),this.resetStartWhenNotLoaded(),this.state=Xr.IDLE)}reduceLengthAndFlushBuffer(e){if(this.state===Xr.PARSING||this.state===Xr.PARSED){const r=e.frag,n=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,n),a=i&&i.len>.5;a&&this.reduceMaxBufferLength(i.len,r?.duration||10);const o=!a;return o&&this.warn(`Buffer full error while media.currentTime (${this.getLoadPosition()}) is not buffered, flush ${n} buffer`),r&&(this.fragmentTracker.removeFragment(r),this.nextLoadPosition=r.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===mi.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Xr.STOPPED&&(this.state=Xr.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=Hs.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===Xr.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Xr.STOPPED&&(this.state=Xr.IDLE)}resetStartWhenNotLoaded(){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const e=this.levelLastLoaded,r=e?e.details:null;r!=null&&r.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(r,r.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.log(`Loading context changed while buffering sn ${e.sn} of ${this.playlistLabel()} ${e.level===-1?"<removed>":e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){const a=n.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((u,l)=>{const d=e.elementaryStreams[l];if(d){const f=d.endPTS-d.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${l} duration reliably (${f})`),u||!1;const m=i?0:vse(a,e,d.startPTS,d.endPTS,d.startDTS,d.endDTS,this);return this.hls.trigger(Le.LEVEL_PTS_UPDATED,{details:a,level:n,drift:m,type:l,frag:e,start:d.startPTS,end:d.endPTS}),!0}return u},!1)){var c;const u=((c=this.transmuxer)==null?void 0:c.error)===null;if((n.fragmentError===0||u&&(n.fragmentError<2||e.endList))&&this.treatAsGap(e,n),u){const l=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(l.message),this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=Xr.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.fragInfo(e,!1,r)})`),this.hls.trigger(Le.FRAG_PARSED,{frag:e,part:r})}playlistLabel(){return this.playlistType===mi.MAIN?"level":"track"}fragInfo(e,r=!0,n){var i,a;return`${this.playlistLabel()} ${e.level} (${n?"part":"frag"}:[${((i=r&&!n?e.startPTS:(n||e).start)!=null?i:NaN).toFixed(3)}-${((a=r&&!n?e.endPTS:(n||e).end)!=null?a:NaN).toFixed(3)}]${n&&e.type==="main"?"INDEPENDENT="+(n.independent?"YES":"NO"):""}`}treatAsGap(e,r){r&&r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function _G(t){return!!t.interstitialsController&&t.enableInterstitialPlayback!==!1}class jse{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=k9e(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function k9e(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const a=t[i];r.set(a,n),n+=a.length}return r}var zI={exports:{}},SG;function L9e(){return SG||(SG=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,l,d){this.fn=u,this.context=l,this.once=d||!1}function a(u,l,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||u,m),g=r?r+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function o(u,l){--u._eventsCount===0?u._events=new n:delete u._events[l]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var l=[],d,f;if(this._eventsCount===0)return l;for(f in d=this._events)e.call(d,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},c.prototype.listeners=function(l){var d=r?r+l:l,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,g=new Array(p);m<p;m++)g[m]=f[m].fn;return g},c.prototype.listenerCount=function(l){var d=r?r+l:l,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(l,d,f,m,p,g){var x=r?r+l:l;if(!this._events[x])return!1;var y=this._events[x],w=arguments.length,E,_;if(y.fn){switch(y.once&&this.removeListener(l,y.fn,void 0,!0),w){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,m),!0;case 5:return y.fn.call(y.context,d,f,m,p),!0;case 6:return y.fn.call(y.context,d,f,m,p,g),!0}for(_=1,E=new Array(w-1);_<w;_++)E[_-1]=arguments[_];y.fn.apply(y.context,E)}else{var N=y.length,C;for(_=0;_<N;_++)switch(y[_].once&&this.removeListener(l,y[_].fn,void 0,!0),w){case 1:y[_].fn.call(y[_].context);break;case 2:y[_].fn.call(y[_].context,d);break;case 3:y[_].fn.call(y[_].context,d,f);break;case 4:y[_].fn.call(y[_].context,d,f,m);break;default:if(!E)for(C=1,E=new Array(w-1);C<w;C++)E[C-1]=arguments[C];y[_].fn.apply(y[_].context,E)}}return!0},c.prototype.on=function(l,d,f){return a(this,l,d,f,!1)},c.prototype.once=function(l,d,f){return a(this,l,d,f,!0)},c.prototype.removeListener=function(l,d,f,m){var p=r?r+l:l;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var x=0,y=[],w=g.length;x<w;x++)(g[x].fn!==d||m&&!g[x].once||f&&g[x].context!==f)&&y.push(g[x]);y.length?this._events[p]=y.length===1?y[0]:y:o(this,p)}return this},c.prototype.removeAllListeners=function(l){var d;return l?(d=r?r+l:l,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(zI)),zI.exports}var I9e=L9e(),tU=n$e(I9e);const g2="1.6.15",s1={};function B9e(){return typeof __HLS_WORKER_BUNDLE__=="function"}function P9e(){const t=s1[g2];if(t)return t.clientCount++,t;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),r=self.URL.createObjectURL(e),i={worker:new self.Worker(r),objectURL:r,clientCount:1};return s1[g2]=i,i}function O9e(t){const e=s1[t];if(e)return e.clientCount++,e;const r=new self.URL(t,self.location.href).href,i={worker:new self.Worker(r),scriptURL:r,clientCount:1};return s1[t]=i,i}function R9e(t){const e=s1[t||g2];if(e&&e.clientCount--===1){const{worker:n,objectURL:i}=e;delete s1[t||g2],i&&self.URL.revokeObjectURL(i),n.terminate()}}function Tse(t,e){return e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function rU(t,e){return e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function n5(t,e){let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r}function v2(t,e){const r=e;let n=0;for(;rU(t,e);){n+=10;const i=n5(t,e+6);n+=i,Tse(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)}function D9e(t,e,r,n){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=e[r+2],o=a>>2&15;if(o>12){const p=new Error(`invalid ADTS sampling index:${o}`);t.emit(Le.ERROR,Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_PARSING_ERROR,fatal:!0,error:p,reason:p.message});return}const c=(a>>6&3)+1,u=e[r+3]>>6&3|(a&1)<<2,l="mp4a.40."+c,d=i[o];let f=o;(c===5||c===29)&&(f-=3);const m=[c<<3|(f&14)>>1,(f&1)<<7|u<<3];return Ho.log(`manifest codec:${n}, parsed codec:${l}, channels:${u}, rate:${d} (ADTS object type:${c} sampling index:${o})`),{config:m,samplerate:d,channelCount:u,codec:l,parsedCodec:l,manifestCodec:n}}function Cse(t,e){return t[e]===255&&(t[e+1]&246)===240}function Nse(t,e){return t[e+1]&1?7:9}function nU(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function M9e(t,e){return e+5<t.length}function pN(t,e){return e+1<t.length&&Cse(t,e)}function F9e(t,e){return M9e(t,e)&&Cse(t,e)&&nU(t,e)<=t.length-e}function U9e(t,e){if(pN(t,e)){const r=Nse(t,e);if(e+r>=t.length)return!1;const n=nU(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||pN(t,i)}return!1}function kse(t,e,r,n,i){if(!t.samplerate){const a=D9e(e,r,n,i);if(!a)return;nl(t,a)}}function Lse(t){return 1024*9e4/t}function $9e(t,e){const r=Nse(t,e);if(e+r<=t.length){const n=nU(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function Ise(t,e,r,n,i){const a=Lse(t.samplerate),o=n+i*a,c=$9e(e,r);let u;if(c){const{frameLength:f,headerLength:m}=c,p=m+f,g=Math.max(0,r+p-e.length);g?(u=new Uint8Array(p-m),u.set(e.subarray(r+m,e.length),0)):u=e.subarray(r+m,r+p);const x={unit:u,pts:o};return g||t.samples.push(x),{sample:x,length:p,missing:g}}const l=e.length-r;return u=new Uint8Array(l),u.set(e.subarray(r,e.length),0),{sample:{unit:u,pts:o},length:l,missing:-1}}function H9e(t,e){return rU(t,e)&&n5(t,e+6)+10<=t.length-e}function Q9e(t){return t instanceof ArrayBuffer?t:t.byteOffset==0&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function VI(t,e=0,r=1/0){return z9e(t,e,r,Uint8Array)}function z9e(t,e,r,n){const i=V9e(t);let a=1;"BYTES_PER_ELEMENT"in n&&(a=n.BYTES_PER_ELEMENT);const o=K9e(t)?t.byteOffset:0,c=(o+t.byteLength)/a,u=(o+e)/a,l=Math.floor(Math.max(0,Math.min(u,c))),d=Math.floor(Math.min(l+Math.max(r,0),c));return new n(i,l,d-l)}function V9e(t){return t instanceof ArrayBuffer?t:t.buffer}function K9e(t){return t&&t.buffer instanceof ArrayBuffer&&t.byteLength!==void 0&&t.byteOffset!==void 0}function G9e(t){const e={key:t.type,description:"",data:"",mimeType:null,pictureType:null},r=3;if(t.size<2)return;if(t.data[0]!==r){console.log("Ignore frame with unrecognized character encoding");return}const n=t.data.subarray(1).indexOf(0);if(n===-1)return;const i=_f(VI(t.data,1,n)),a=t.data[2+n],o=t.data.subarray(3+n).indexOf(0);if(o===-1)return;const c=_f(VI(t.data,3+n,o));let u;return i==="-->"?u=_f(VI(t.data,4+n+o)):u=Q9e(t.data.subarray(4+n+o)),e.mimeType=i,e.pictureType=a,e.description=c,e.data=u,e}function W9e(t){if(t.size<2)return;const e=_f(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}}function Y9e(t){if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=_f(t.data.subarray(r),!0);r+=n.length+1;const i=_f(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=_f(t.data.subarray(1));return{key:t.type,info:"",data:e}}function q9e(t){if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=_f(t.data.subarray(r),!0);r+=n.length+1;const i=_f(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=_f(t.data);return{key:t.type,info:"",data:e}}function X9e(t){return t.type==="PRIV"?W9e(t):t.type[0]==="W"?q9e(t):t.type==="APIC"?G9e(t):Y9e(t)}function Z9e(t){const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=n5(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}}const CS=10,J9e=10;function Bse(t){let e=0;const r=[];for(;rU(t,e);){const n=n5(t,e+6);t[e+5]>>6&1&&(e+=CS),e+=CS;const i=e+n;for(;e+J9e<i;){const a=Z9e(t.subarray(e)),o=X9e(a);o&&r.push(o),e+=a.size+CS}Tse(t,e)&&(e+=CS)}return r}function Pse(t){return t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp"}function eHe(t){if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}}function iU(t){const e=Bse(t);for(let r=0;r<e.length;r++){const n=e[r];if(Pse(n))return eHe(n)}}let vf=(function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t})({});function BA(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class sU{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=am(this.cachedData,e),this.cachedData=null);let n=v2(e,0),i=n?n.length:0,a;const o=this._audioTrack,c=this._id3Track,u=n?iU(n):void 0,l=e.length;for((this.basePTS===null||this.frameIndex===0&&Jn(u))&&(this.basePTS=tHe(u,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:vf.audioId3,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const d=this.appendFrame(o,e,i);d?(this.frameIndex++,this.lastPTS=d.sample.pts,i+=d.length,a=i):i=l}else H9e(e,i)?(n=v2(e,i),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:vf.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,a=i):i++;if(i===l&&a!==l){const d=e.slice(a);this.cachedData?this.cachedData=am(this.cachedData,d):this.cachedData=d}}return{audioTrack:o,videoTrack:BA(),id3Track:c,textTrack:BA()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:BA(),id3Track:this._id3Track,textTrack:BA()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const tHe=(t,e,r)=>{if(Jn(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};let NS=null;const rHe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],nHe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],iHe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],sHe=[0,1,1,4];function Ose(t,e,r,n,i){if(r+24>e.length)return;const a=Rse(e,r);if(a&&r+a.frameLength<=e.length){const o=a.samplesPerFrame*9e4/a.sampleRate,c=n+i*o,u={unit:e.subarray(r,r+a.frameLength),pts:c,dts:c};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(u),{sample:u,length:a.frameLength,missing:0}}}function Rse(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&a!==3){const o=t[e+2]>>1&1,c=t[e+3]>>6,u=r===3?3-n:n===3?3:4,l=rHe[u*14+i-1]*1e3,f=nHe[(r===3?0:r===2?1:2)*3+a],m=c===3?1:2,p=iHe[r][n],g=sHe[n],x=p*8*g,y=Math.floor(p*l/f+o)*g;if(NS===null){const _=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);NS=_?parseInt(_[1]):0}return NS&&NS<=87&&n===2&&l>=224e3&&c===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:m,frameLength:y,samplesPerFrame:x}}}function aU(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function Dse(t,e){return e+1<t.length&&aU(t,e)}function aHe(t,e){return aU(t,e)&&4<=t.length-e}function Mse(t,e){if(e+1<t.length&&aU(t,e)){const n=Rse(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const a=e+i;return a===t.length||Dse(t,a)}return!1}class oHe extends sU{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,r){if(!e)return!1;const n=v2(e,0);let i=n?.length||0;if(Mse(e,i))return!1;for(let a=e.length;i<a;i++)if(U9e(e,i))return r.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return F9e(e,r)}appendFrame(e,r,n){kse(e,this.observer,r,n,e.manifestCodec);const i=Ise(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const Fse=(t,e)=>{let r=0,n=5;e+=n;const i=new Uint32Array(1),a=new Uint32Array(1),o=new Uint8Array(1);for(;n>0;){o[0]=t[e];const c=Math.min(n,8),u=8-c;a[0]=4278190080>>>24+u<<u,i[0]=(o[0]&a[0])>>u,r=r?r<<c|i[0]:i[0],e+=1,n-=c}return r};class lHe extends sU{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,r){return r+64<e.length}appendFrame(e,r,n){const i=Use(e,r,n,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const r=v2(e,0);if(!r)return!1;const n=r.length;return e[n]===11&&e[n+1]===119&&iU(r)!==void 0&&Fse(e,n)<16}}function Use(t,e,r,n,i){if(r+8>e.length||e[r]!==11||e[r+1]!==119)return-1;const a=e[r+4]>>6;if(a>=3)return-1;const c=[48e3,44100,32e3][a],u=e[r+4]&63,d=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][u*3+a]*2;if(r+d>e.length)return-1;const f=e[r+6]>>5;let m=0;f===2?m+=2:(f&1&&f!==1&&(m+=2),f&4&&(m+=2));const p=(e[r+6]<<8|e[r+7])>>12-m&1,x=[2,1,2,3,3,4,4,5][f]+p,y=e[r+5]>>3,w=e[r+5]&7,E=new Uint8Array([a<<6|y<<1|w>>2,(w&3)<<6|f<<3|p<<2|u>>4,u<<4&224]),_=1536/c*9e4,N=n+i*_,C=e.subarray(r,r+d);return t.config=E,t.channelCount=x,t.samplerate=c,t.samples.push({unit:C,pts:N}),d}class cHe extends sU{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const r=v2(e,0);let n=r?.length||0;if(r&&e[n]===11&&e[n+1]===119&&iU(r)!==void 0&&Fse(e,n)<=16)return!1;for(let i=e.length;n<i;n++)if(Mse(e,n))return Ho.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return aHe(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return Ose(e,r,n,this.basePTS,this.frameIndex)}}const uHe=/\/emsg[-/]ID3/i;class dHe{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const a=this.videoTrack=BA("video",1),o=this.audioTrack=BA("audio",1),c=this.txtTrack=BA("text",1);if(this.id3Track=BA("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const u=qie(e);if(u.video){const{id:l,timescale:d,codec:f,supplemental:m}=u.video;a.id=l,a.timescale=c.timescale=d,a.codec=f,a.supplemental=m}if(u.audio){const{id:l,timescale:d,codec:f}=u.audio;o.id=l,o.timescale=d,o.codec=f}c.id=Gie.text,a.sampleDuration=0,a.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return l$e(e)}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=am(this.remainderData,e));const c=A$e(n);this.remainderData=c.remainder,i.samples=c.valid||new Uint8Array}else i.samples=n;const o=this.extractID3Track(i,r);return a.samples=QK(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=QK(e,r),{videoTrack:r,audioTrack:BA(),id3Track:i,textTrack:BA()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=pa(e.samples,["emsg"]);i&&i.forEach(a=>{const o=g$e(a);if(uHe.test(o.schemeIdUri)){const c=jG(o,r);let u=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);const l=o.payload;n.samples.push({data:l,len:l.byteLength,dts:c,pts:c,type:vf.emsg,duration:u})}else if(this.config.enableEmsgKLVMetadata&&o.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=jG(o,r);n.samples.push({data:o.payload,len:o.payload.byteLength,dts:c,pts:c,type:vf.misbklv,duration:Number.POSITIVE_INFINITY})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function jG(t,e){return Jn(t.presentationTime)?t.presentationTime/t.timeScale:e+t.presentationTimeDelta/t.timeScale}class hHe{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new qF(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,K0.cbc)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const a=i.subarray(16,i.length-i.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(o).then(c=>{const u=new Uint8Array(c);i.set(u,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)}).catch(n)}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)e.set(n.subarray(i,i+16),a);return e}decryptAvcSample(e,r,n,i,a){const o=Jie(a.data),c=this.getAvcEncryptedData(o);this.decryptBuffer(c.buffer).then(u=>{a.data=this.getAvcDecryptedUnit(o,u),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)}).catch(i)}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const a=e[r].units;for(;!(n>=a.length);n++){const o=a[n];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,r,n,i,o),!this.decrypter.isSync()))return}}}}class $se{constructor(){this.VideoSample=null}createVideoSample(e,r,n){return{key:e,frame:!1,pts:r,dts:n,units:[],length:0}}getLastNalUnit(e){var r;let n=this.VideoSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const a=n.units;i=a[a.length-1]}return i}pushAccessUnit(e,r){if(e.units.length&&e.frame){if(e.pts===void 0){const n=r.samples,i=n.length;if(i){const a=n[i-1];e.pts=a.pts,e.dts=a.dts}else{r.dropped++;return}}r.samples.push(e)}}parseNALu(e,r,n){const i=r.byteLength;let a=e.naluState||0;const o=a,c=[];let u=0,l,d,f,m=-1,p=0;for(a===-1&&(m=0,p=this.getNALuType(r,0),a=0,u=1);u<i;){if(l=r[u++],!a){a=l?0:1;continue}if(a===1){a=l?0:2;continue}if(!l)a=3;else if(l===1){if(d=u-a-1,m>=0){const g={data:r.subarray(m,d),type:p};c.push(g)}else{const g=this.getLastNalUnit(e.samples);g&&(o&&u<=4-o&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-o)),d>0&&(g.data=am(g.data,r.subarray(0,d)),g.state=0))}u<i?(f=this.getNALuType(r,u),m=u,p=f,a=0):a=-1}else a=0}if(m>=0&&a>=0){const g={data:r.subarray(m,i),type:p,state:a};c.push(g)}if(c.length===0){const g=this.getLastNalUnit(e.samples);g&&(g.data=am(g.data,r))}return e.naluState=a,c}}class EE{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),a=Math.min(4,r);if(a===0)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&Ho.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class fHe extends $se{parsePES(e,r,n,i){const a=this.parseNALu(e,n.data,i);let o=this.VideoSample,c,u=!1;n.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.forEach(l=>{var d,f;switch(l.type){case 1:{let x=!1;c=!0;const y=l.data;if(u&&y.length>4){const w=this.readSliceType(y);(w===2||w===4||w===7||w===9)&&(x=!0)}if(x){var m;(m=o)!=null&&m.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),o.frame=!0,o.key=x;break}case 5:c=!0,(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),o.key=!0,o.frame=!0;break;case 6:{c=!0,KF(l.data,1,n.pts,r.samples);break}case 7:{var p,g;c=!0,u=!0;const x=l.data,y=this.readSPS(x);if(!e.sps||e.width!==y.width||e.height!==y.height||((p=e.pixelRatio)==null?void 0:p[0])!==y.pixelRatio[0]||((g=e.pixelRatio)==null?void 0:g[1])!==y.pixelRatio[1]){e.width=y.width,e.height=y.height,e.pixelRatio=y.pixelRatio,e.sps=[x];const w=x.subarray(1,4);let E="avc1.";for(let _=0;_<3;_++){let N=w[_].toString(16);N.length<2&&(N="0"+N),E+=N}e.codec=E}break}case 8:c=!0,e.pps=[l.data];break;case 9:c=!0,e.audFound=!0,(f=o)!=null&&f.frame&&(this.pushAccessUnit(o,e),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;case 12:c=!0;break;default:c=!1;break}o&&c&&o.units.push(l)}),i&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}getNALuType(e,r){return e[r]&31}readSliceType(e){const r=new EE(e);return r.readUByte(),r.readUEG(),r.readUEG()}skipScalingList(e,r){let n=8,i=8,a;for(let o=0;o<e;o++)i!==0&&(a=r.readEG(),i=(n+a+256)%256),n=i===0?n:i}readSPS(e){const r=new EE(e);let n=0,i=0,a=0,o=0,c,u,l;const d=r.readUByte.bind(r),f=r.readBits.bind(r),m=r.readUEG.bind(r),p=r.readBoolean.bind(r),g=r.skipBits.bind(r),x=r.skipEG.bind(r),y=r.skipUEG.bind(r),w=this.skipScalingList.bind(this);d();const E=d();if(f(5),g(3),d(),y(),E===100||E===110||E===122||E===244||E===44||E===83||E===86||E===118||E===128){const M=m();if(M===3&&g(1),y(),y(),g(1),p())for(u=M!==3?8:12,l=0;l<u;l++)p()&&(l<6?w(16,r):w(64,r))}y();const _=m();if(_===0)m();else if(_===1)for(g(1),x(),x(),c=m(),l=0;l<c;l++)x();y(),g(1);const N=m(),C=m(),I=f(1);I===0&&g(1),g(1),p()&&(n=m(),i=m(),a=m(),o=m());let D=[1,1];if(p()&&p())switch(d()){case 1:D=[1,1];break;case 2:D=[12,11];break;case 3:D=[10,11];break;case 4:D=[16,11];break;case 5:D=[40,33];break;case 6:D=[24,11];break;case 7:D=[20,11];break;case 8:D=[32,11];break;case 9:D=[80,33];break;case 10:D=[18,11];break;case 11:D=[15,11];break;case 12:D=[64,33];break;case 13:D=[160,99];break;case 14:D=[4,3];break;case 15:D=[3,2];break;case 16:D=[2,1];break;case 255:{D=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil((N+1)*16-n*2-i*2),height:(2-I)*(C+1)*16-(I?2:4)*(a+o),pixelRatio:D}}}class mHe extends $se{constructor(...e){super(...e),this.initVPS=null}parsePES(e,r,n,i){const a=this.parseNALu(e,n.data,i);let o=this.VideoSample,c,u=!1;n.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),a.forEach(l=>{var d,f;switch(l.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:o||(o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts)),o.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,u){var m;(m=o)!=null&&m.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),o.key=!0,o.frame=!0;break;case 19:case 20:c=!0,(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),o.key=!0,o.frame=!0;break;case 39:c=!0,KF(l.data,2,n.pts,r.samples);break;case 32:c=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=nl(e.params,this.readVPS(l.data)),this.initVPS=l.data),e.vps=[l.data];break;case 33:if(c=!0,u=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],l.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const p=this.readSPS(l.data);e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.codec=p.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const g in p.params)e.params[g]=p.params[g]}this.pushParameterSet(e.sps,l.data,e.vps),o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts)),o.key=!0;break;case 34:if(c=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const p=this.readPPS(l.data);for(const g in p)e.params[g]=p[g]}this.pushParameterSet(e.pps,l.data,e.vps)}break;case 35:c=!0,e.audFound=!0,(f=o)!=null&&f.frame&&(this.pushAccessUnit(o,e),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts));break;default:c=!1;break}o&&c&&o.units.push(l)}),i&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}pushParameterSet(e,r,n){(n&&n[0]===this.initVPS||!n&&!e.length)&&e.push(r)}getNALuType(e,r){return(e[r]&126)>>>1}ebsp2rbsp(e){const r=new Uint8Array(e.byteLength);let n=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(r[n]=e[i],n++);return new Uint8Array(r.buffer,0,n)}pushAccessUnit(e,r){super.pushAccessUnit(e,r),this.initVPS&&(this.initVPS=null)}readVPS(e){const r=new EE(e);r.readUByte(),r.readUByte(),r.readBits(4),r.skipBits(2),r.readBits(6);const n=r.readBits(3),i=r.readBoolean();return{numTemporalLayers:n+1,temporalIdNested:i}}readSPS(e){const r=new EE(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.readBits(4);const n=r.readBits(3);r.readBoolean();const i=r.readBits(2),a=r.readBoolean(),o=r.readBits(5),c=r.readUByte(),u=r.readUByte(),l=r.readUByte(),d=r.readUByte(),f=r.readUByte(),m=r.readUByte(),p=r.readUByte(),g=r.readUByte(),x=r.readUByte(),y=r.readUByte(),w=r.readUByte(),E=[],_=[];for(let bt=0;bt<n;bt++)E.push(r.readBoolean()),_.push(r.readBoolean());if(n>0)for(let bt=n;bt<8;bt++)r.readBits(2);for(let bt=0;bt<n;bt++)E[bt]&&(r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte(),r.readUByte()),_[bt]&&r.readUByte();r.readUEG();const N=r.readUEG();N==3&&r.skipBits(1);const C=r.readUEG(),I=r.readUEG(),D=r.readBoolean();let M=0,Y=0,X=0,te=0;D&&(M+=r.readUEG(),Y+=r.readUEG(),X+=r.readUEG(),te+=r.readUEG());const de=r.readUEG(),ye=r.readUEG(),we=r.readUEG(),ve=r.readBoolean();for(let bt=ve?0:n;bt<=n;bt++)r.skipUEG(),r.skipUEG(),r.skipUEG();if(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG(),r.readBoolean()&&r.readBoolean())for(let gt=0;gt<4;gt++)for(let wt=0;wt<(gt===3?2:6);wt++)if(!r.readBoolean())r.readUEG();else{const Jt=Math.min(64,1<<4+(gt<<1));gt>1&&r.readEG();for(let ar=0;ar<Jt;ar++)r.readEG()}r.readBoolean(),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.skipUEG(),r.skipUEG(),r.readBoolean());const oe=r.readUEG();let Re=0;for(let bt=0;bt<oe;bt++){let gt=!1;if(bt!==0&&(gt=r.readBoolean()),gt){bt===oe&&r.readUEG(),r.readBoolean(),r.readUEG();let wt=0;for(let rr=0;rr<=Re;rr++){const Jt=r.readBoolean();let ar=!1;Jt||(ar=r.readBoolean()),(Jt||ar)&&wt++}Re=wt}else{const wt=r.readUEG(),rr=r.readUEG();Re=wt+rr;for(let Jt=0;Jt<wt;Jt++)r.readUEG(),r.readBoolean();for(let Jt=0;Jt<rr;Jt++)r.readUEG(),r.readBoolean()}}if(r.readBoolean()){const bt=r.readUEG();for(let gt=0;gt<bt;gt++){for(let wt=0;wt<we+4;wt++)r.readBits(1);r.readBits(1)}}let be=0,he=1,Ie=1,Oe=!0,$e=1,De=0;r.readBoolean(),r.readBoolean();let ct=!1;if(r.readBoolean()){if(r.readBoolean()){const Dr=r.readUByte(),mn=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],$r=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Dr>0&&Dr<16?(he=mn[Dr-1],Ie=$r[Dr-1]):Dr===255&&(he=r.readBits(16),Ie=r.readBits(16))}if(r.readBoolean()&&r.readBoolean(),r.readBoolean()&&(r.readBits(3),r.readBoolean(),r.readBoolean()&&(r.readUByte(),r.readUByte(),r.readUByte())),r.readBoolean()&&(r.readUEG(),r.readUEG()),r.readBoolean(),r.readBoolean(),r.readBoolean(),ct=r.readBoolean(),ct&&(r.skipUEG(),r.skipUEG(),r.skipUEG(),r.skipUEG()),r.readBoolean()&&($e=r.readBits(32),De=r.readBits(32),r.readBoolean()&&r.readUEG(),r.readBoolean())){const $r=r.readBoolean(),or=r.readBoolean();let vr=!1;($r||or)&&(vr=r.readBoolean(),vr&&(r.readUByte(),r.readBits(5),r.readBoolean(),r.readBits(5)),r.readBits(4),r.readBits(4),vr&&r.readBits(4),r.readBits(5),r.readBits(5),r.readBits(5));for(let cn=0;cn<=n;cn++){Oe=r.readBoolean();const bn=Oe||r.readBoolean();let Un=!1;bn?r.readEG():Un=r.readBoolean();const st=Un?1:r.readUEG()+1;if($r)for(let Ht=0;Ht<st;Ht++)r.readUEG(),r.readUEG(),vr&&(r.readUEG(),r.readUEG()),r.skipBits(1);if(or)for(let Ht=0;Ht<st;Ht++)r.readUEG(),r.readUEG(),vr&&(r.readUEG(),r.readUEG()),r.skipBits(1)}}r.readBoolean()&&(r.readBoolean(),r.readBoolean(),r.readBoolean(),be=r.readUEG())}let Ue=C,He=I;if(D){let bt=1,gt=1;N===1?bt=gt=2:N==2&&(bt=2),Ue=C-bt*Y-bt*M,He=I-gt*te-gt*X}const Ye=i?["A","B","C"][i]:"",Se=c<<24|u<<16|l<<8|d;let mt=0;for(let bt=0;bt<32;bt++)mt=(mt|(Se>>bt&1)<<31-bt)>>>0;let qe=mt.toString(16);return o===1&&qe==="2"&&(qe="6"),{codecString:`hvc1.${Ye}${o}.${qe}.${a?"H":"L"}${w}.B0`,params:{general_tier_flag:a,general_profile_idc:o,general_profile_space:i,general_profile_compatibility_flags:[c,u,l,d],general_constraint_indicator_flags:[f,m,p,g,x,y],general_level_idc:w,bit_depth:de+8,bit_depth_luma_minus8:de,bit_depth_chroma_minus8:ye,min_spatial_segmentation_idc:be,chroma_format_idc:N,frame_rate:{fixed:Oe,fps:De/$e}},width:Ue,height:He,pixelRatio:[he,Ie]}}readPPS(e){const r=new EE(this.ebsp2rbsp(e));r.readUByte(),r.readUByte(),r.skipUEG(),r.skipUEG(),r.skipBits(2),r.skipBits(3),r.skipBits(2),r.skipUEG(),r.skipUEG(),r.skipEG(),r.skipBits(2),r.readBoolean()&&r.skipUEG(),r.skipEG(),r.skipEG(),r.skipBits(4);const i=r.readBoolean(),a=r.readBoolean();let o=1;return a&&i?o=0:a?o=3:i&&(o=2),{parallelismType:o}}matchSPS(e,r){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,r).substr(3)}}const ld=188;class x0{constructor(e,r,n,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.logger=i,this.videoParser=null}static probe(e,r){const n=x0.syncOffset(e);return n>0&&r.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const r=e.length;let n=Math.min(ld*5,r-ld)+1,i=0;for(;i<n;){let a=!1,o=-1,c=0;for(let u=i;u<r;u+=ld)if(e[u]===71&&(r-u===ld||e[u+ld]===71)){if(c++,o===-1&&(o=u,o!==0&&(n=Math.min(o+ld*99,e.length-ld)+1)),a||(a=FO(e,u)===0),a&&c>1&&(o===0&&c>2||u+ld>n))return o}else{if(c)return-1;break}i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:Gie[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=x0.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=x0.createTrack("audio",i),this._id3Track=x0.createTrack("id3"),this._txtTrack=x0.createTrack("text"),this._audioTrack.segmentCodec="aac",this.videoParser=null,this.aacOverFlow=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let a;const o=this._videoTrack,c=this._audioTrack,u=this._id3Track,l=this._txtTrack;let d=o.pid,f=o.pesData,m=c.pid,p=u.pid,g=c.pesData,x=u.pesData,y=null,w=this.pmtParsed,E=this._pmtId,_=e.length;if(this.remainderData&&(e=am(this.remainderData,e),_=e.length,this.remainderData=null),_<ld&&!i)return this.remainderData=e,{audioTrack:c,videoTrack:o,id3Track:u,textTrack:l};const N=Math.max(0,x0.syncOffset(e));_-=(_-N)%ld,_<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,_,e.buffer.byteLength-_));let C=0;for(let D=N;D<_;D+=ld)if(e[D]===71){const M=!!(e[D+1]&64),Y=FO(e,D),X=(e[D+3]&48)>>4;let te;if(X>1){if(te=D+5+e[D+4],te===D+ld)continue}else te=D+4;switch(Y){case d:M&&(f&&(a=yy(f,this.logger))&&(this.readyVideoParser(o.segmentCodec),this.videoParser!==null&&this.videoParser.parsePES(o,l,a,!1)),f={data:[],size:0}),f&&(f.data.push(e.subarray(te,D+ld)),f.size+=D+ld-te);break;case m:if(M){if(g&&(a=yy(g,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,a);break;case"mp3":this.parseMPEGPES(c,a);break;case"ac3":this.parseAC3PES(c,a);break}g={data:[],size:0}}g&&(g.data.push(e.subarray(te,D+ld)),g.size+=D+ld-te);break;case p:M&&(x&&(a=yy(x,this.logger))&&this.parseID3PES(u,a),x={data:[],size:0}),x&&(x.data.push(e.subarray(te,D+ld)),x.size+=D+ld-te);break;case 0:M&&(te+=e[te]+1),E=this._pmtId=AHe(e,te);break;case E:{M&&(te+=e[te]+1);const de=pHe(e,te,this.typeSupported,n,this.observer,this.logger);d=de.videoPid,d>0&&(o.pid=d,o.segmentCodec=de.segmentVideoCodec),m=de.audioPid,m>0&&(c.pid=m,c.segmentCodec=de.segmentAudioCodec),p=de.id3Pid,p>0&&(u.pid=p),y!==null&&!w&&(this.logger.warn(`MPEG-TS PMT found at ${D} after unknown PID '${y}'. Backtracking to sync byte @${N} to parse all TS packets.`),y=null,D=N-188),w=this.pmtParsed=!0;break}case 17:case 8191:break;default:y=Y;break}}else C++;C>0&&UO(this.observer,new Error(`Found ${C} TS packet/s that do not start with 0x47`),void 0,this.logger),o.pesData=f,c.pesData=g,u.pesData=x;const I={audioTrack:c,videoTrack:o,id3Track:u,textTrack:l};return i&&this.extractRemainingSamples(I),I}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:a}=e,o=n.pesData,c=r.pesData,u=i.pesData;let l;if(o&&(l=yy(o,this.logger))?(this.readyVideoParser(n.segmentCodec),this.videoParser!==null&&(this.videoParser.parsePES(n,a,l,!0),n.pesData=null)):n.pesData=o,c&&(l=yy(c,this.logger))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,l);break;case"mp3":this.parseMPEGPES(r,l);break;case"ac3":this.parseAC3PES(r,l);break}r.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=c;u&&(l=yy(u,this.logger))?(this.parseID3PES(i,l),i.pesData=null):i.pesData=u}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),a=this.sampleAes=new hHe(this.observer,this.config,r);return this.decrypt(i,a)}readyVideoParser(e){this.videoParser===null&&(e==="avc"?this.videoParser=new fHe:e==="hevc"&&(this.videoParser=new mHe))}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:a}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{a.samples?r.decryptAvcSamples(a.samples,0,0,()=>{n(e)}):n(e)}):a.samples&&r.decryptAvcSamples(a.samples,0,0,()=>{n(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let a=r.data;if(i){this.aacOverFlow=null;const f=i.missing,m=i.sample.unit.byteLength;if(f===-1)a=am(i.sample.unit,a);else{const p=m-f;i.sample.unit.set(a.subarray(0,f),p),e.samples.push(i.sample),n=i.missing}}let o,c;for(o=n,c=a.length;o<c-1&&!pN(a,o);o++);if(o!==n){let f;const m=o<c-1;if(m?f=`AAC PES did not start with ADTS header,offset:${o}`:f="No ADTS header found in AAC PES",UO(this.observer,new Error(f),m,this.logger),!m)return}kse(e,this.observer,a,o,this.audioCodec);let u;if(r.pts!==void 0)u=r.pts;else if(i){const f=Lse(e.samplerate);u=i.sample.pts+f}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let l=0,d;for(;o<c;)if(d=Ise(e,a,o,u,l),o+=d.length,d.missing){this.aacOverFlow=d;break}else for(l++;o<c-1&&!pN(a,o);o++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let a=0,o=0;const c=r.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(Dse(n,o)){const u=Ose(e,n,o,c,a);if(u)o+=u.length,a++;else break}else o++}parseAC3PES(e,r){{const n=r.data,i=r.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const a=n.length;let o=0,c=0,u;for(;c<a&&(u=Use(e,n,c,i,o++))>0;)c+=u}}parseID3PES(e,r){if(r.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=nl({},r,{type:this._videoTrack?vf.emsg:vf.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function FO(t,e){return((t[e+1]&31)<<8)+t[e+2]}function AHe(t,e){return(t[e+10]&31)<<8|t[e+11]}function pHe(t,e,r,n,i,a){const o={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(t[e+1]&15)<<8|t[e+2],u=e+3+c-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<u;){const d=FO(t,e),f=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){KI("ADTS AAC",a);break}case 15:o.audioPid===-1&&(o.audioPid=d);break;case 21:o.id3Pid===-1&&(o.id3Pid=d);break;case 219:if(!n){KI("H.264",a);break}case 27:o.videoPid===-1&&(o.videoPid=d);break;case 3:case 4:!r.mpeg&&!r.mp3?a.log("MPEG audio found, not supported in this browser"):o.audioPid===-1&&(o.audioPid=d,o.segmentAudioCodec="mp3");break;case 193:if(!n){KI("AC-3",a);break}case 129:r.ac3?o.audioPid===-1&&(o.audioPid=d,o.segmentAudioCodec="ac3"):a.log("AC-3 audio found, not supported in this browser");break;case 6:if(o.audioPid===-1&&f>0){let m=e+5,p=f;for(;p>2;){t[m]===106&&(r.ac3!==!0?a.log("AC-3 audio found, not supported in this browser for now"):(o.audioPid=d,o.segmentAudioCodec="ac3"));const x=t[m+1]+2;m+=x,p-=x}}break;case 194:case 135:return UO(i,new Error("Unsupported EC-3 in M2TS found"),void 0,a),o;case 36:o.videoPid===-1&&(o.videoPid=d,o.segmentVideoCodec="hevc",a.log("HEVC in M2TS found"));break}e+=f+5}return o}function UO(t,e,r,n){n.warn(`parsing error: ${e.message}`),t.emit(Le.ERROR,Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_PARSING_ERROR,fatal:!1,levelRetry:r,error:e,reason:e.message})}function KI(t,e){e.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function yy(t,e){let r=0,n,i,a,o,c;const u=t.data;if(!t||t.size===0)return null;for(;u[0].length<19&&u.length>1;)u[0]=am(u[0],u[1]),u.splice(1,1);if(n=u[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const d=n[7];d&192&&(o=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,d&64?(c=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,o-c>60*9e4&&(e.warn(`${Math.round((o-c)/9e4)}s delta between PTS and DTS, align them`),o=c)):c=o),a=n[8];let f=a+9;if(t.size<=f)return null;t.size-=f;const m=new Uint8Array(t.size);for(let p=0,g=u.length;p<g;p++){n=u[p];let x=n.byteLength;if(f)if(f>x){f-=x;continue}else n=n.subarray(f),x-=f,f=0;m.set(n,r),r+=x}return i&&(i-=a+3),{data:m,pts:o,dts:c,len:i}}return null}class gHe{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Zg=Math.pow(2,32)-1;class gr{static init(){gr.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in gr.types)gr.types.hasOwnProperty(e)&&(gr.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);gr.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);gr.STTS=gr.STSC=gr.STCO=a,gr.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),gr.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),gr.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),gr.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);gr.FTYP=gr.box(gr.types.ftyp,o,u,o,c),gr.DINF=gr.box(gr.types.dinf,gr.box(gr.types.dref,i))}static box(e,...r){let n=8,i=r.length;const a=i;for(;i--;)n+=r[i].byteLength;const o=new Uint8Array(n);for(o[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=n&255,o.set(e,4),i=0,n=8;i<a;i++)o.set(r[i],n),n+=r[i].byteLength;return o}static hdlr(e){return gr.box(gr.types.hdlr,gr.HDLR_TYPES[e])}static mdat(e){return gr.box(gr.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(Zg+1)),i=Math.floor(r%(Zg+1));return gr.box(gr.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return gr.box(gr.types.mdia,gr.mdhd(e.timescale||0,e.duration||0),gr.hdlr(e.type),gr.minf(e))}static mfhd(e){return gr.box(gr.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?gr.box(gr.types.minf,gr.box(gr.types.smhd,gr.SMHD),gr.DINF,gr.stbl(e)):gr.box(gr.types.minf,gr.box(gr.types.vmhd,gr.VMHD),gr.DINF,gr.stbl(e))}static moof(e,r,n){return gr.box(gr.types.moof,gr.mfhd(e),gr.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=gr.trak(e[r]);return gr.box.apply(null,[gr.types.moov,gr.mvhd(e[0].timescale||0,e[0].duration||0)].concat(n).concat(gr.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=gr.trex(e[r]);return gr.box.apply(null,[gr.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(Zg+1)),i=Math.floor(r%(Zg+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return gr.box(gr.types.mvhd,a)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,a;for(i=0;i<r.length;i++)a=r[i].flags,n[i+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return gr.box(gr.types.sdtp,n)}static stbl(e){return gr.box(gr.types.stbl,gr.stsd(e),gr.box(gr.types.stts,gr.STTS),gr.box(gr.types.stsc,gr.STSC),gr.box(gr.types.stsz,gr.STSZ),gr.box(gr.types.stco,gr.STCO))}static avc1(e){let r=[],n=[],i,a,o;for(i=0;i<e.sps.length;i++)a=e.sps[i],o=a.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(a));for(i=0;i<e.pps.length;i++)a=e.pps[i],o=a.byteLength,n.push(o>>>8&255),n.push(o&255),n=n.concat(Array.prototype.slice.call(a));const c=gr.box(gr.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),u=e.width,l=e.height,d=e.pixelRatio[0],f=e.pixelRatio[1];return gr.box(gr.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,l>>8&255,l&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,gr.box(gr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),gr.box(gr.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,d&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...r,6,1,2])}static audioStsd(e){const r=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,r>>8&255,r&255,0,0])}static mp4a(e){return gr.box(gr.types.mp4a,gr.audioStsd(e),gr.box(gr.types.esds,gr.esds(e)))}static mp3(e){return gr.box(gr.types[".mp3"],gr.audioStsd(e))}static ac3(e){return gr.box(gr.types["ac-3"],gr.audioStsd(e),gr.box(gr.types.dac3,e.config))}static stsd(e){const{segmentCodec:r}=e;if(e.type==="audio"){if(r==="aac")return gr.box(gr.types.stsd,gr.STSD,gr.mp4a(e));if(r==="ac3"&&e.config)return gr.box(gr.types.stsd,gr.STSD,gr.ac3(e));if(r==="mp3"&&e.codec==="mp3")return gr.box(gr.types.stsd,gr.STSD,gr.mp3(e))}else if(e.pps&&e.sps){if(r==="avc")return gr.box(gr.types.stsd,gr.STSD,gr.avc1(e));if(r==="hevc"&&e.vps)return gr.box(gr.types.stsd,gr.STSD,gr.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${r}/${e.codec})`)}static tkhd(e){const r=e.id,n=(e.duration||0)*(e.timescale||0),i=e.width||0,a=e.height||0,o=Math.floor(n/(Zg+1)),c=Math.floor(n%(Zg+1));return gr.box(gr.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,r){const n=gr.sdtp(e),i=e.id,a=Math.floor(r/(Zg+1)),o=Math.floor(r%(Zg+1));return gr.box(gr.types.traf,gr.box(gr.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),gr.box(gr.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,o>>24,o>>16&255,o>>8&255,o&255])),gr.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,gr.box(gr.types.trak,gr.tkhd(e),gr.mdia(e))}static trex(e){const r=e.id;return gr.box(gr.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,a=12+16*i,o=new Uint8Array(a);let c,u,l,d,f,m;for(r+=8+a,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),c=0;c<i;c++)u=n[c],l=u.duration,d=u.size,f=u.flags,m=u.cts,o.set([l>>>24&255,l>>>16&255,l>>>8&255,l&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&61440,f.degradPrio&15,m>>>24&255,m>>>16&255,m>>>8&255,m&255],12+16*c);return gr.box(gr.types.trun,o)}static initSegment(e){gr.types||gr.init();const r=gr.moov(e);return am(gr.FTYP,r)}static hvc1(e){const r=e.params,n=[e.vps,e.sps,e.pps],i=4,a=new Uint8Array([1,r.general_profile_space<<6|(r.general_tier_flag?32:0)|r.general_profile_idc,r.general_profile_compatibility_flags[0],r.general_profile_compatibility_flags[1],r.general_profile_compatibility_flags[2],r.general_profile_compatibility_flags[3],r.general_constraint_indicator_flags[0],r.general_constraint_indicator_flags[1],r.general_constraint_indicator_flags[2],r.general_constraint_indicator_flags[3],r.general_constraint_indicator_flags[4],r.general_constraint_indicator_flags[5],r.general_level_idc,240|r.min_spatial_segmentation_idc>>8,255&r.min_spatial_segmentation_idc,252|r.parallelismType,252|r.chroma_format_idc,248|r.bit_depth_luma_minus8,248|r.bit_depth_chroma_minus8,0,parseInt(r.frame_rate.fps),i-1|r.temporal_id_nested<<2|r.num_temporal_layers<<3|(r.frame_rate.fixed?64:0),n.length]);let o=a.length;for(let g=0;g<n.length;g+=1){o+=3;for(let x=0;x<n[g].length;x+=1)o+=2+n[g][x].length}const c=new Uint8Array(o);c.set(a,0),o=a.length;const u=n.length-1;for(let g=0;g<n.length;g+=1){c.set(new Uint8Array([32+g|(g===u?128:0),0,n[g].length]),o),o+=3;for(let x=0;x<n[g].length;x+=1)c.set(new Uint8Array([n[g][x].length>>8,n[g][x].length&255]),o),o+=2,c.set(n[g][x],o),o+=n[g][x].length}const l=gr.box(gr.types.hvcC,c),d=e.width,f=e.height,m=e.pixelRatio[0],p=e.pixelRatio[1];return gr.box(gr.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,f>>8&255,f&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,gr.box(gr.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),gr.box(gr.types.pasp,new Uint8Array([m>>24,m>>16&255,m>>8&255,m&255,p>>24,p>>16&255,p>>8&255,p&255])))}}gr.types=void 0;gr.HDLR_TYPES=void 0;gr.STTS=void 0;gr.STSC=void 0;gr.STCO=void 0;gr.STSZ=void 0;gr.VMHD=void 0;gr.SMHD=void 0;gr.STSD=void 0;gr.FTYP=void 0;gr.DINF=void 0;const Hse=9e4;function oU(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function vHe(t,e,r=1,n=!1){return oU(t,e,1/r,n)}function vw(t,e=!1){return oU(t,1e3,1/Hse,e)}function xHe(t,e=1){return oU(t,Hse,1/e)}function TG(t){const{baseTime:e,timescale:r,trackId:n}=t;return`${e/r} (${e}/${r}) trackId: ${n}`}const yHe=10*1e3,bHe=1024,wHe=1152,EHe=1536;let by=null,GI=null;function CG(t,e,r,n){return{duration:e,size:r,cts:n,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}class Ej extends cm{constructor(e,r,n,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,by===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);by=o?parseInt(o[1]):0}if(GI===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);GI=a?parseInt(a[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){const r=this._initPTS;(!r||!e||e.trackId!==r.trackId||e.baseTime!==r.baseTime||e.timescale!==r.timescale)&&this.log(`Reset initPTS: ${r&&TG(r)} > ${e&&TG(e)}`),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let r=!1;const n=e[0].pts,i=e.reduce((a,o)=>{let c=o.pts,u=c-a;return u<-4294967296&&(r=!0,c=Af(c,n),u=c-a),u>0?a:c},n);return r&&this.debug("PTS rollover detected"),i}remux(e,r,n,i,a,o,c,u){let l,d,f,m,p,g,x=a,y=a;const w=e.pid>-1,E=r.pid>-1,_=r.samples.length,N=e.samples.length>0,C=c&&_>0||_>1;if((!w||N)&&(!E||C)||this.ISGenerated||c){if(this.ISGenerated){var D,M,Y,X;const we=this.videoTrackConfig;(we&&(r.width!==we.width||r.height!==we.height||((D=r.pixelRatio)==null?void 0:D[0])!==((M=we.pixelRatio)==null?void 0:M[0])||((Y=r.pixelRatio)==null?void 0:Y[1])!==((X=we.pixelRatio)==null?void 0:X[1]))||!we&&C||this.nextAudioTs===null&&N)&&this.resetInitSegment()}this.ISGenerated||(f=this.generateIS(e,r,a,o));const te=this.isVideoContiguous;let de=-1,ye;if(C&&(de=_He(r.samples),!te&&this.config.forceKeyFrameOnDiscontinuity))if(g=!0,de>0){this.warn(`Dropped ${de} out of ${_} video samples due to a missing keyframe`);const we=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(de),r.dropped+=de,y+=(r.samples[0].pts-we)/r.inputTimeScale,ye=y}else de===-1&&(this.warn(`No keyframe found out of ${_} video samples`),g=!1);if(this.ISGenerated){if(N&&C){const we=this.getVideoStartPts(r.samples),ne=(Af(e.samples[0].pts,we)-we)/r.inputTimeScale;x+=Math.max(0,ne),y+=Math.max(0,-ne)}if(N){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),f=this.generateIS(e,r,a,o)),d=this.remuxAudio(e,x,this.isAudioContiguous,o,E||C||u===mi.AUDIO?y:void 0),C){const we=d?d.endPTS-d.startPTS:0;r.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),f=this.generateIS(e,r,a,o)),l=this.remuxVideo(r,y,te,we)}}else C&&(l=this.remuxVideo(r,y,te,0));l&&(l.firstKeyFrame=de,l.independent=de!==-1,l.firstKeyFramePTS=ye)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(p=Qse(n,a,this._initPTS,this._initDTS)),i.samples.length&&(m=zse(i,a,this._initPTS))),{audio:d,video:l,initSegment:f,independent:g,text:m,id3:p}}computeInitPts(e,r,n,i){const a=Math.round(n*r);let o=Af(e,a);if(o<a+r)for(this.log(`Adjusting PTS for rollover in timeline near ${(a-o)/r} ${i}`);o<a+r;)o+=8589934592;return o-a}generateIS(e,r,n,i){const a=e.samples,o=r.samples,c=this.typeSupported,u={},l=this._initPTS;let d=!l||i,f="audio/mp4",m,p,g,x=-1;if(d&&(m=p=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":c.mpeg?(f="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}u.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):gr.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(x=e.id,g=e.inputTimeScale,!l||g!==l.timescale?m=p=this.computeInitPts(a[0].pts,g,n,"audio"):d=!1)}if(r.sps&&r.pps&&o.length){if(r.timescale=r.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:gr.initSegment([r]),metadata:{width:r.width,height:r.height}},d)if(x=r.id,g=r.inputTimeScale,!l||g!==l.timescale){const y=this.getVideoStartPts(o),w=Af(o[0].dts,y),E=this.computeInitPts(w,g,n,"video"),_=this.computeInitPts(y,g,n,"video");p=Math.min(p,E),m=Math.min(m,_)}else d=!1;this.videoTrackConfig={width:r.width,height:r.height,pixelRatio:r.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,d?(l&&this.warn(`Timestamps at playlist time: ${i?"":"~"}${n} ${m/g} != initPTS: ${l.baseTime/l.timescale} (${l.baseTime}/${l.timescale}) trackId: ${l.trackId}`),this.log(`Found initPTS at playlist time: ${n} offset: ${m/g} (${m}/${g}) trackId: ${x}`),this._initPTS={baseTime:m,timescale:g,trackId:x},this._initDTS={baseTime:p,timescale:g,trackId:x}):m=g=void 0,{tracks:u,initPTS:m,timescale:g,trackId:x}}remuxVideo(e,r,n,i){const a=e.inputTimeScale,o=e.samples,c=[],u=o.length,l=this._initPTS,d=l.baseTime*a/l.timescale;let f=this.nextVideoTs,m=8,p=this.videoSampleDuration,g,x,y=Number.POSITIVE_INFINITY,w=Number.NEGATIVE_INFINITY,E=!1;if(!n||f===null){const be=d+r*a,he=o[0].pts-Af(o[0].dts,o[0].pts);by&&f!==null&&Math.abs(be-he-(f+d))<15e3?n=!0:f=be-he-d}const _=f+d;for(let be=0;be<u;be++){const he=o[be];he.pts=Af(he.pts,_),he.dts=Af(he.dts,_),he.dts<o[be>0?be-1:be].dts&&(E=!0)}E&&o.sort(function(be,he){const Ie=be.dts-he.dts,Oe=be.pts-he.pts;return Ie||Oe}),g=o[0].dts,x=o[o.length-1].dts;const N=x-g,C=N?Math.round(N/(u-1)):p||e.inputTimeScale/30;if(n){const be=g-_,he=be>C,Ie=be<-1;if((he||Ie)&&(he?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${vw(be,!0)} ms (${be}dts) hole between fragments detected at ${r.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${vw(-be,!0)} ms (${be}dts) overlapping between fragments detected at ${r.toFixed(3)}`),!Ie||_>=o[0].pts||by)){g=_;const Oe=o[0].pts-be;if(he)o[0].dts=g,o[0].pts=Oe;else{let $e=!0;for(let De=0;De<o.length&&!(o[De].dts>Oe&&$e);De++){const ct=o[De].pts;if(o[De].dts-=be,o[De].pts-=be,De<o.length-1){const pt=o[De+1].pts,Ue=o[De].pts,He=pt<=Ue,Ye=pt<=ct;$e=He==Ye}}}this.log(`Video: Initial PTS/DTS adjusted: ${vw(Oe,!0)}/${vw(g,!0)}, delta: ${vw(be,!0)} ms`)}}g=Math.max(0,g);let I=0,D=0,M=g;for(let be=0;be<u;be++){const he=o[be],Ie=he.units,Oe=Ie.length;let $e=0;for(let De=0;De<Oe;De++)$e+=Ie[De].data.length;D+=$e,I+=Oe,he.length=$e,he.dts<M?(he.dts=M,M+=C/4|0||1):M=he.dts,y=Math.min(he.pts,y),w=Math.max(he.pts,w)}x=o[u-1].dts;const Y=D+4*I+8;let X;try{X=new Uint8Array(Y)}catch(be){this.observer.emit(Le.ERROR,Le.ERROR,{type:Oi.MUX_ERROR,details:wr.REMUX_ALLOC_ERROR,fatal:!1,error:be,bytes:Y,reason:`fail allocating video mdat ${Y}`});return}const te=new DataView(X.buffer);te.setUint32(0,Y),X.set(gr.types.mdat,4);let de=!1,ye=Number.POSITIVE_INFINITY,we=Number.POSITIVE_INFINITY,ve=Number.NEGATIVE_INFINITY,ne=Number.NEGATIVE_INFINITY;for(let be=0;be<u;be++){const he=o[be],Ie=he.units;let Oe=0;for(let ct=0,pt=Ie.length;ct<pt;ct++){const Ue=Ie[ct],He=Ue.data,Ye=Ue.data.byteLength;te.setUint32(m,Ye),m+=4,X.set(He,m),m+=Ye,Oe+=4+Ye}let $e;if(be<u-1)p=o[be+1].dts-he.dts,$e=o[be+1].pts-he.pts;else{const ct=this.config,pt=be>0?he.dts-o[be-1].dts:C;if($e=be>0?he.pts-o[be-1].pts:C,ct.stretchShortVideoTrack&&this.nextAudioTs!==null){const Ue=Math.floor(ct.maxBufferHole*a),He=(i?y+i*a:this.nextAudioTs+d)-he.pts;He>Ue?(p=He-pt,p<0?p=pt:de=!0,this.log(`It is approximately ${He/90} ms to the next segment; using duration ${p/90} ms for the last video frame.`)):p=pt}else p=pt}const De=Math.round(he.pts-he.dts);ye=Math.min(ye,p),ve=Math.max(ve,p),we=Math.min(we,$e),ne=Math.max(ne,$e),c.push(CG(he.key,p,Oe,De))}if(c.length){if(by){if(by<70){const be=c[0].flags;be.dependsOn=2,be.isNonSync=0}}else if(GI&&ne-we<ve-ye&&C/ve<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let be=g;for(let he=0,Ie=c.length;he<Ie;he++){const Oe=be+c[he].duration,$e=be+c[he].cts;if(he<Ie-1){const De=Oe+c[he+1].cts;c[he].duration=De-$e}else c[he].duration=he?c[he-1].duration:C;c[he].cts=0,be=Oe}}}p=de||!p?C:p;const ae=x+p;this.nextVideoTs=f=ae-d,this.videoSampleDuration=p,this.isVideoContiguous=!0;const Pe={data1:gr.moof(e.sequenceNumber++,g,nl(e,{samples:c})),data2:X,startPTS:(y-d)/a,endPTS:(w+p-d)/a,startDTS:(g-d)/a,endDTS:f/a,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:e.dropped};return e.samples=[],e.dropped=0,Pe}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return wHe;case"ac3":return EHe;default:return bHe}}remuxAudio(e,r,n,i,a){const o=e.inputTimeScale,c=e.samplerate?e.samplerate:o,u=o/c,l=this.getSamplesPerFrame(e),d=l*u,f=this._initPTS,m=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,p=[],g=a!==void 0;let x=e.samples,y=m?0:8,w=this.nextAudioTs||-1;const E=f.baseTime*o/f.timescale,_=E+r*o;if(this.isAudioContiguous=n=n||x.length&&w>0&&(i&&Math.abs(_-(w+E))<9e3||Math.abs(Af(x[0].pts,_)-(w+E))<20*d),x.forEach(function(ne){ne.pts=Af(ne.pts,_)}),!n||w<0){const ne=x.length;if(x=x.filter(ae=>ae.pts>=0),ne!==x.length&&this.warn(`Removed ${x.length-ne} of ${ne} samples (initPTS ${E} / ${o})`),!x.length)return;a===0?w=0:i&&!g?w=Math.max(0,_-E):w=x[0].pts-E}if(e.segmentCodec==="aac"){const ne=this.config.maxAudioFramesDrift;for(let ae=0,oe=w+E;ae<x.length;ae++){const Re=x[ae],Pe=Re.pts,be=Pe-oe,he=Math.abs(1e3*be/o);if(be<=-ne*d&&g)ae===0&&(this.warn(`Audio frame @ ${(Pe/o).toFixed(3)}s overlaps marker by ${Math.round(1e3*be/o)} ms.`),this.nextAudioTs=w=Pe-E,oe=Pe);else if(be>=ne*d&&he<yHe&&g){let Ie=Math.round(be/d);for(oe=Pe-Ie*d;oe<0&&Ie&&d;)Ie--,oe+=d;ae===0&&(this.nextAudioTs=w=oe-E),this.warn(`Injecting ${Ie} audio frames @ ${((oe-E)/o).toFixed(3)}s due to ${Math.round(1e3*be/o)} ms gap.`);for(let Oe=0;Oe<Ie;Oe++){let $e=gHe.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);$e||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),$e=Re.unit.subarray()),x.splice(ae,0,{unit:$e,pts:oe}),oe+=d,ae++}}Re.pts=oe,oe+=d}}let N=null,C=null,I,D=0,M=x.length;for(;M--;)D+=x[M].unit.byteLength;for(let ne=0,ae=x.length;ne<ae;ne++){const oe=x[ne],Re=oe.unit;let Pe=oe.pts;if(C!==null){const he=p[ne-1];he.duration=Math.round((Pe-C)/u)}else if(n&&e.segmentCodec==="aac"&&(Pe=w+E),N=Pe,D>0){D+=y;try{I=new Uint8Array(D)}catch(he){this.observer.emit(Le.ERROR,Le.ERROR,{type:Oi.MUX_ERROR,details:wr.REMUX_ALLOC_ERROR,fatal:!1,error:he,bytes:D,reason:`fail allocating audio mdat ${D}`});return}m||(new DataView(I.buffer).setUint32(0,D),I.set(gr.types.mdat,4))}else return;I.set(Re,y);const be=Re.byteLength;y+=be,p.push(CG(!0,l,be,0)),C=Pe}const Y=p.length;if(!Y)return;const X=p[p.length-1];w=C-E,this.nextAudioTs=w+u*X.duration;const te=m?new Uint8Array(0):gr.moof(e.sequenceNumber++,N/u,nl({},e,{samples:p}));e.samples=[];const de=(N-E)/o,ye=this.nextAudioTs/o,ve={data1:te,data2:I,startPTS:de,endPTS:ye,startDTS:de,endDTS:ye,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.isAudioContiguous=!0,ve}}function Af(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function _He(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function Qse(t,e,r,n){const i=t.samples.length;if(!i)return;const a=t.inputTimeScale;for(let c=0;c<i;c++){const u=t.samples[c];u.pts=Af(u.pts-r.baseTime*a/r.timescale,e*a)/a,u.dts=Af(u.dts-n.baseTime*a/n.timescale,e*a)/a}const o=t.samples;return t.samples=[],{samples:o}}function zse(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let o=0;o<n;o++){const c=t.samples[o];c.pts=Af(c.pts-r.baseTime*i/r.timescale,e*i)/i}t.samples.sort((o,c)=>o.pts-c.pts);const a=t.samples;return t.samples=[],{samples:a}}class SHe extends cm{constructor(e,r,n,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const r=this.initPTS;r&&e&&r.baseTime===e.baseTime&&r.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(e,i),this.emitInitSegment=!0}generateInitSegment(e,r){let{audioCodec:n,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const{audio:a,video:o}=this.initData=qie(e);if(r)h$e(e,r);else{const u=a||o;u!=null&&u.encrypted&&this.warn(`Init segment with encrypted track with has no key ("${u.codec}")!`)}a&&(n=NG(a,ul.AUDIO,this)),o&&(i=NG(o,ul.VIDEO,this));const c={};a&&o?c.audiovideo={container:"video/mp4",codec:n+","+i,supplemental:o.supplemental,encrypted:o.encrypted,initSegment:e,id:"main"}:a?c.audio={container:"audio/mp4",codec:n,encrypted:a.encrypted,initSegment:e,id:"audio"}:o?c.video={container:"video/mp4",codec:i,supplemental:o.supplemental,encrypted:o.encrypted,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=c}remux(e,r,n,i,a,o){var c,u;let{initPTS:l,lastEndTime:d}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};Jn(d)||(d=this.lastEndTime=a||0);const m=r.samples;if(!m.length)return f;const p={initPTS:void 0,timescale:void 0,trackId:void 0};let g=this.initData;if((c=g)!=null&&c.length||(this.generateInitSegment(m),g=this.initData),!((u=g)!=null&&u.length))return this.warn("Failed to generate initSegment."),f;this.emitInitSegment&&(p.tracks=this.initTracks,this.emitInitSegment=!1);const x=m$e(m,g,this),y=g.audio?x[g.audio.id]:null,w=g.video?x[g.video.id]:null,E=kS(w,1/0),_=kS(y,1/0),N=kS(w,0,!0),C=kS(y,0,!0);let I=a,D=0;const M=y&&(!w||!l&&_<E||l&&l.trackId===g.audio.id),Y=M?y:w;if(Y){const oe=Y.timescale,Re=Y.start-a*oe,Pe=M?g.audio.id:g.video.id;I=Y.start/oe,D=M?C-_:N-E,(o||!l)&&(jHe(l,I,a,D)||oe!==l.timescale)&&(l&&this.warn(`Timestamps at playlist time: ${o?"":"~"}${a} ${Re/oe} != initPTS: ${l.baseTime/l.timescale} (${l.baseTime}/${l.timescale}) trackId: ${l.trackId}`),this.log(`Found initPTS at playlist time: ${a} offset: ${I-a} (${Re}/${oe}) trackId: ${Pe}`),l=null,p.initPTS=Re,p.timescale=oe,p.trackId=Pe)}else this.warn(`No audio or video samples found for initPTS at playlist time: ${a}`);l?(p.initPTS=l.baseTime,p.timescale=l.timescale,p.trackId=l.trackId):((!p.timescale||p.trackId===void 0||p.initPTS===void 0)&&(this.warn("Could not set initPTS"),p.initPTS=I,p.timescale=1,p.trackId=-1),this.initPTS=l={baseTime:p.initPTS,timescale:p.timescale,trackId:p.trackId});const X=I-l.baseTime/l.timescale,te=X+D;D>0?this.lastEndTime=te:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const de=!!g.audio,ye=!!g.video;let we="";de&&(we+="audio"),ye&&(we+="video");const ve=(g.audio?g.audio.encrypted:!1)||(g.video?g.video.encrypted:!1),ne={data1:m,startPTS:X,startDTS:X,endPTS:te,endDTS:te,type:we,hasAudio:de,hasVideo:ye,nb:1,dropped:0,encrypted:ve};f.audio=de&&!ye?ne:void 0,f.video=ye?ne:void 0;const ae=w?.sampleCount;if(ae){const oe=w.keyFrameIndex,Re=oe!==-1;ne.nb=ae,ne.dropped=oe===0||this.isVideoContiguous?0:Re?oe:ae,ne.independent=Re,ne.firstKeyFrame=oe,Re&&w.keyFrameStart&&(ne.firstKeyFramePTS=(w.keyFrameStart-l.baseTime)/l.timescale),this.isVideoContiguous||(f.independent=Re),this.isVideoContiguous||(this.isVideoContiguous=Re),ne.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${oe}/${ae} dropped: ${ne.dropped} start: ${ne.firstKeyFramePTS||"NA"}`)}return f.initSegment=p,f.id3=Qse(n,a,l,l),i.samples.length&&(f.text=zse(i,a,l)),f}}function kS(t,e,r=!1){return t?.start!==void 0?(t.start+(r?t.duration:0))/t.timescale:e}function jHe(t,e,r,n){if(t===null)return!0;const i=Math.max(n,1),a=e-t.baseTime/t.timescale;return Math.abs(a-r)>i}function NG(t,e,r){const n=t.codec;return n&&n.length>4?n:e===ul.AUDIO?n==="ec-3"||n==="ac-3"||n==="alac"?n:n==="fLaC"||n==="Opus"?lN(n,!1):(r.warn(`Unhandled audio codec "${n}" in mp4 MAP`),n||"mp4a"):(r.warn(`Unhandled video codec "${n}" in mp4 MAP`),n||"avc1")}let Pp;try{Pp=self.performance.now.bind(self.performance)}catch{Pp=Date.now}const _j=[{demux:dHe,remux:SHe},{demux:x0,remux:Ej},{demux:oHe,remux:Ej},{demux:cHe,remux:Ej}];_j.splice(2,0,{demux:lHe,remux:Ej});class kG{constructor(e,r,n,i,a,o){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.id=a,this.logger=o}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const a=n.transmuxing;a.executeStart=Pp();let o=new Uint8Array(e);const{currentTransmuxState:c,transmuxConfig:u}=this;i&&(this.currentTransmuxState=i);const{contiguous:l,discontinuity:d,trackSwitch:f,accurateTimeOffset:m,timeOffset:p,initSegmentChange:g}=i||c,{audioCodec:x,videoCodec:y,defaultInitPts:w,duration:E,initSegmentData:_}=u,N=THe(o,r);if(N&&Nb(N.method)){const M=this.getDecrypter(),Y=ZF(N.method);if(M.isSync()){let X=M.softwareDecrypt(o,N.key.buffer,N.iv.buffer,Y);if(n.part>-1){const de=M.flush();X=de&&de.buffer}if(!X)return a.executeEnd=Pp(),WI(n);o=new Uint8Array(X)}else return this.asyncResult=!0,this.decryptionPromise=M.webCryptoDecrypt(o,N.key.buffer,N.iv.buffer,Y).then(X=>{const te=this.push(X,null,n);return this.decryptionPromise=null,te}),this.decryptionPromise}const C=this.needsProbing(d,f);if(C){const M=this.configureTransmuxer(o);if(M)return this.logger.warn(`[transmuxer] ${M.message}`),this.observer.emit(Le.ERROR,Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_PARSING_ERROR,fatal:!1,error:M,reason:M.message}),a.executeEnd=Pp(),WI(n)}(d||f||g||C)&&this.resetInitSegment(_,x,y,E,r),(d||g||C)&&this.resetInitialTimestamp(w),l||this.resetContiguity();const I=this.transmux(o,N,p,m,n);this.asyncResult=x2(I);const D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,a.executeEnd=Pp(),I}flush(e){const r=e.transmuxing;r.executeStart=Pp();const{decrypter:n,currentTransmuxState:i,decryptionPromise:a}=this;if(a)return this.asyncResult=!0,a.then(()=>this.flush(e));const o=[],{timeOffset:c}=i;if(n){const f=n.flush();f&&o.push(this.push(f.buffer,null,e))}const{demuxer:u,remuxer:l}=this;if(!u||!l){r.executeEnd=Pp();const f=[WI(e)];return this.asyncResult?Promise.resolve(f):f}const d=u.flush(c);return x2(d)?(this.asyncResult=!0,d.then(f=>(this.flushRemux(o,f,e),o))):(this.flushRemux(o,d,e),this.asyncResult?Promise.resolve(o):o)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:a,id3Track:o,textTrack:c}=r,{accurateTimeOffset:u,timeOffset:l}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${n.sn}${n.part>-1?" part: "+n.part:""} of ${this.id===mi.MAIN?"level":"track"} ${n.level}`);const d=this.remuxer.remux(i,a,o,c,l,u,!0,this.id);e.push({remuxResult:d,chunkMeta:n}),n.transmuxing.executeEnd=Pp()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,a){const{demuxer:o,remuxer:c}=this;!o||!c||(o.resetInitSegment(e,r,n,i),c.resetInitSegment(e,r,n,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,a){let o;return r&&r.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,r,n,i,a):o=this.transmuxUnencrypted(e,n,i,a),o}transmuxUnencrypted(e,r,n,i){const{audioTrack:a,videoTrack:o,id3Track:c,textTrack:u}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,o,c,u,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,a){return this.demuxer.demuxSampleAes(e,r,n).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,n,i,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i}=this;let a;for(let f=0,m=_j.length;f<m;f++){var o;if((o=_j[f].demux)!=null&&o.probe(e,this.logger)){a=_j[f];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,u=this.remuxer,l=a.remux,d=a.demux;(!u||!(u instanceof l))&&(this.remuxer=new l(n,r,i,this.logger)),(!c||!(c instanceof d))&&(this.demuxer=new d(n,r,i,this.logger),this.probe=d.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new qF(this.config)),e}}function THe(t,e){let r=null;return t.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const WI=t=>({remuxResult:{},chunkMeta:t});function x2(t){return"then"in t&&t.then instanceof Function}class CHe{constructor(e,r,n,i,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null}}class NHe{constructor(e,r,n,i,a,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=o}}let LG=0;class Vse{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=LG++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=u=>{const l=u.data,d=this.hls;if(!(!d||!(l!=null&&l.event)||l.instanceNo!==this.instanceNo))switch(l.event){case"init":{var f;const m=(f=this.workerContext)==null?void 0:f.objectURL;m&&self.URL.revokeObjectURL(m);break}case"transmuxComplete":{this.handleTransmuxComplete(l.data);break}case"flush":{this.onFlush(l.data);break}case"workerLog":{d.logger[l.data.logType]&&d.logger[l.data.logType](l.data.message);break}default:{l.data=l.data||{},l.data.frag=this.frag,l.data.part=this.part,l.data.id=this.id,d.trigger(l.event,l.data);break}}},this.onWorkerError=u=>{if(!this.hls)return;const l=new Error(`${u.message}  (${u.filename}:${u.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:l})};const a=e.config;this.hls=e,this.id=r,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const o=(u,l)=>{l=l||{},l.frag=this.frag||void 0,u===Le.ERROR&&(l=l,l.parent=this.id,l.part=this.part,this.error=l.error),this.hls.trigger(u,l)};this.observer=new tU,this.observer.on(Le.FRAG_DECRYPTED,o),this.observer.on(Le.ERROR,o);const c=KK(a.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const u=this.hls.logger;if(a.workerPath||B9e()){try{a.workerPath?(u.log(`loading Web Worker ${a.workerPath} for "${r}"`),this.workerContext=O9e(a.workerPath)):(u.log(`injecting Web Worker for "${r}"`),this.workerContext=P9e());const{worker:d}=this.workerContext;d.addEventListener("message",this.onWorkerMessage),d.addEventListener("error",this.onWorkerError),d.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:r,config:ml(a)})}catch(d){u.warn(`Error setting up "${r}" Web Worker, fallback to inline`,d),this.terminateWorker(),this.error=null,this.transmuxer=new kG(this.observer,c,a,"",r,e.logger)}return}}this.transmuxer=new kG(this.observer,c,a,"",r,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=LG++;const r=this.hls.config,n=KK(r.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:n,id:this.id,config:ml(r)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),R9e(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,r,n,i,a,o,c,u,l,d){var f,m;l.transmuxing.start=self.performance.now();const{instanceNo:p,transmuxer:g}=this,x=o?o.start:a.start,y=a.decryptdata,w=this.frag,E=!(w&&a.cc===w.cc),_=!(w&&l.level===w.level),N=w?l.sn-w.sn:-1,C=this.part?l.part-this.part.index:-1,I=N===0&&l.id>1&&l.id===w?.stats.chunkCount,D=!_&&(N===1||N===0&&(C===1||I&&C<=0)),M=self.performance.now();(_||N||a.stats.parsing.start===0)&&(a.stats.parsing.start=M),o&&(C||!D)&&(o.stats.parsing.start=M);const Y=!(w&&((f=a.initSegment)==null?void 0:f.url)===((m=w.initSegment)==null?void 0:m.url)),X=new NHe(E,D,u,_,x,Y);if(!D||E||Y){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${a.type} sn: ${l.sn}${l.part>-1?" part: "+l.part:""} ${this.id===mi.MAIN?"level":"track"}: ${l.level} id: ${l.id}
        discontinuity: ${E}
        trackSwitch: ${_}
        contiguous: ${D}
        accurateTimeOffset: ${u}
        timeOffset: ${x}
        initSegmentChange: ${Y}`);const te=new CHe(n,i,r,c,d);this.configureTransmuxer(te)}if(this.frag=a,this.part=o,this.workerContext)this.workerContext.worker.postMessage({instanceNo:p,cmd:"demux",data:e,decryptdata:y,chunkMeta:l,state:X},e instanceof ArrayBuffer?[e]:[]);else if(g){const te=g.push(e,y,l,X);x2(te)?te.then(de=>{this.handleTransmuxComplete(de)}).catch(de=>{this.transmuxerError(de,l,"transmuxer-interface push error")}):this.handleTransmuxComplete(te)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:r,transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:r,cmd:"flush",chunkMeta:e});else if(n){const i=n.flush(e);x2(i)?i.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_PARSING_ERROR,chunkMeta:r,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}configureTransmuxer(e){const{instanceNo:r,transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:r,cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const IG=100;class kHe extends eU{constructor(e,r,n){super(e,r,n,"audio-stream-controller",mi.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Le.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(Le.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Le.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Le.BUFFER_RESET,this.onBufferReset,this),e.on(Le.BUFFER_CREATED,this.onBufferCreated,this),e.on(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Le.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Le.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Le.FRAG_LOADING,this.onFragLoading,this),e.on(Le.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Le.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(Le.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Le.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Le.BUFFER_RESET,this.onBufferReset,this),e.off(Le.BUFFER_CREATED,this.onBufferCreated,this),e.off(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Le.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Le.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Le.FRAG_LOADING,this.onFragLoading,this),e.off(Le.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a,trackId:o}){if(n===mi.MAIN){const c=r.cc,u=this.fragCurrent;if(this.initPTS[c]={baseTime:i,timescale:a,trackId:o},this.log(`InitPTS for cc: ${c} found from main: ${i/a} (${i}/${a}) trackId: ${o}`),this.mainAnchor=r,this.state===Xr.WAITING_INIT_PTS){const l=this.waitingData;(!l&&!this.loadingParts||l&&l.frag.cc!==c)&&this.syncWithAnchor(r,l?.frag)}else!this.hls.hasEnoughToStart&&u&&u.cc!==c?(u.abortRequests(),this.syncWithAnchor(r,u)):this.state===Xr.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,r){var n;const i=((n=this.mainFragLoading)==null?void 0:n.frag)||null;if(r&&i?.cc===r.cc)return;const a=(i||e).cc,o=this.getLevelDetails(),c=this.getLoadPosition(),u=ose(o,a,c);u&&(this.log(`Syncing with main frag at ${u.start} cc ${u.cc}`),this.startFragRequested=!1,this.nextLoadPosition=u.start,this.resetLoadingState(),this.state===Xr.IDLE&&this.doTickIdle())}startLoad(e,r){if(!this.levels){this.startPosition=e,this.state=Xr.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(IG),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=Xr.IDLE):this.state=Xr.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}doTick(){switch(this.state){case Xr.IDLE:this.doTickIdle();break;case Xr.WAITING_TRACK:{const{levels:e,trackId:r}=this,n=e?.[r],i=n?.details;if(i&&!this.waitForLive(n)){if(this.waitForCdnTuneIn(i))break;this.state=Xr.WAITING_INIT_PTS}break}case Xr.FRAG_LOADING_WAITING_RETRY:{this.checkRetryDate();break}case Xr.WAITING_INIT_PTS:{const e=this.waitingData;if(e){const{frag:r,part:n,cache:i,complete:a}=e,o=this.mainAnchor;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.state=Xr.FRAG_LOADING;const c=i.flush().buffer,u={frag:r,part:n,payload:c,networkDetails:null};this._handleFragmentLoadProgress(u),a&&super._handleFragmentLoadComplete(u)}else o&&o.cc!==e.frag.cc&&this.syncWithAnchor(o,e.frag)}else this.state=Xr.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:r,levels:n,media:i,trackId:a}=this,o=r.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!o.startFragPrefetch)||!(n!=null&&n[a]))return;const c=n[a],u=c.details;if(!u||this.waitForLive(c)||this.waitForCdnTuneIn(u)){this.state=Xr.WAITING_TRACK,this.startFragRequested=!1;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,ul.AUDIO,mi.AUDIO));const d=this.getFwdBufferInfo(l,mi.AUDIO);if(d===null)return;if(!this.switchingTrack&&this._streamEnded(d,u)){r.trigger(Le.BUFFER_EOS,{type:"audio"}),this.state=Xr.ENDED;return}const f=d.len,m=r.maxBufferLength,p=u.fragments,g=p[0].start,x=this.getLoadPosition(),y=this.flushing?x:d.end;if(this.switchingTrack&&i){const _=x;u.PTSKnown&&_<g&&(d.end>g||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=g+.05)}if(f>=m&&!this.switchingTrack&&y<p[p.length-1].start)return;let w=this.getNextFragment(y,u);if(w&&this.isLoopLoading(w,y)&&(w=this.getNextFragmentLoopLoading(w,u,d,mi.MAIN,m)),!w){this.bufferFlushed=!0;return}let E=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&E&&ru(w)&&!w.endList&&(!u.live||!this.loadingParts&&y<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(E)===Qu.OK&&(this.mainFragLoading=E=null),E&&ru(E))){if(w.start>E.end){const N=this.fragmentTracker.getFragAtPos(y,mi.MAIN);N&&N.end>E.end&&(E=N,this.mainFragLoading={frag:N,targetBufferTime:null})}if(w.start>E.end)return}this.loadFragment(w,c,y)}onMediaDetaching(e,r){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,r)}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new p2(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?(this.switchingTrack=r,this.flushAudioIfNeeded(r),this.state!==Xr.STOPPED&&(this.setInterval(IG),this.state=Xr.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=r,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,r){this.mainDetails=r.details;const n=this.cachedTrackLoadedData;n&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(Le.AUDIO_TRACK_LOADED,n))}onAudioTrackLoaded(e,r){var n;const{levels:i}=this,{details:a,id:o,groupId:c,track:u}=r;if(!i){this.warn(`Audio tracks reset while loading track ${o} "${u.name}" of "${c}"`);return}const l=this.mainDetails;if(!l||a.endCC>l.endCC||l.expired){this.cachedTrackLoadedData=r,this.state!==Xr.STOPPED&&(this.state=Xr.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${o} "${u.name}" of "${c}" loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`);const d=i[o];let f=0;if(a.live||(n=d.details)!=null&&n.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;if(d.details){var m;f=this.alignPlaylists(a,d.details,(m=this.levelLastLoaded)==null?void 0:m.details)}a.alignedSliding||(Sse(a,l),a.alignedSliding||AN(a,l),f=a.fragmentStart)}d.details=a,this.levelLastLoaded=d,this.startFragRequested||this.setStartPosition(l,f),this.hls.trigger(Le.AUDIO_TRACK_UPDATED,{details:a,id:o,groupId:r.groupId}),this.state===Xr.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=Xr.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:a}=e,{config:o,trackId:c,levels:u}=this;if(!u){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const l=u[c];if(!l){this.warn("Audio track is undefined on fragment load progress");return}const d=l.details;if(!d){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=o.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let m=this.transmuxer;m||(m=this.transmuxer=new Vse(this.hls,mi.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const p=this.initPTS[n.cc],g=(r=n.initSegment)==null?void 0:r.data;if(p!==void 0){const y=i?i.index:-1,w=y!==-1,E=new XF(n.level,n.sn,n.stats.chunkCount,a.byteLength,y,w);m.push(a,g,f,"",n,i,d.totalduration,!1,E,p)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${d.startSN} ,${d.endSN}],track ${c}`);const{cache:x}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new jse,complete:!1};x.push(new Uint8Array(a)),this.state!==Xr.STOPPED&&(this.state=Xr.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,r){this.bufferFlushed=this.flushing=!1;const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null)}onFragLoading(e,r){!this.audioOnly&&r.frag.type===mi.MAIN&&ru(r.frag)&&(this.mainFragLoading=r,this.state===Xr.IDLE&&this.tick())}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==mi.AUDIO){!this.audioOnly&&n.type===mi.MAIN&&!n.elementaryStreams.video&&!n.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(ru(n)){this.fragPrevious=n;const a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(Le.AUDIO_TRACK_SWITCHED,Uo({},a)))}this.fragBufferedComplete(n,i),this.media&&this.tick()}onError(e,r){var n;if(r.fatal){this.state=Xr.ERROR;return}switch(r.details){case wr.FRAG_GAP:case wr.FRAG_PARSING_ERROR:case wr.FRAG_DECRYPT_ERROR:case wr.FRAG_LOAD_ERROR:case wr.FRAG_LOAD_TIMEOUT:case wr.KEY_LOAD_ERROR:case wr.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(mi.AUDIO,r);break;case wr.AUDIO_TRACK_LOAD_ERROR:case wr.AUDIO_TRACK_LOAD_TIMEOUT:case wr.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===Xr.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===ya.AUDIO_TRACK&&(this.state=Xr.IDLE);break;case wr.BUFFER_ADD_CODEC_ERROR:case wr.BUFFER_APPEND_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)||this.resetLoadingState();break;case wr.BUFFER_FULL_ERROR:if(r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case wr.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushing(e,{type:r}){r!==ul.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:r}){if(r!==ul.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Xr.ENDED&&(this.state=Xr.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,r,mi.AUDIO),this.tick())}}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:a,chunkMeta:o}=e,c=this.getCurrentContext(o);if(!c){this.resetWhenMissingContext(o);return}const{frag:u,part:l,level:d}=c,{details:f}=d,{audio:m,text:p,id3:g,initSegment:x}=a;if(this.fragContextChanged(u)||!f){this.fragmentTracker.removeFragment(u);return}if(this.state=Xr.PARSING,this.switchingTrack&&m&&this.completeAudioSwitch(this.switchingTrack),x!=null&&x.tracks){const y=u.initSegment||u;if(this.unhandledEncryptionError(x,u))return;this._bufferInitSegment(d,x.tracks,y,o),i.trigger(Le.FRAG_PARSING_INIT_SEGMENT,{frag:y,id:n,tracks:x.tracks})}if(m){const{startPTS:y,endPTS:w,startDTS:E,endDTS:_}=m;l&&(l.elementaryStreams[ul.AUDIO]={startPTS:y,endPTS:w,startDTS:E,endDTS:_}),u.setElementaryStreamInfo(ul.AUDIO,y,w,E,_),this.bufferFragmentData(m,u,l,o)}if(g!=null&&(r=g.samples)!=null&&r.length){const y=nl({id:n,frag:u,details:f},g);i.trigger(Le.FRAG_PARSING_METADATA,y)}if(p){const y=nl({id:n,frag:u,details:f},p);i.trigger(Le.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,r,n,i){if(this.state!==Xr.PARSING||(r.video&&delete r.video,r.audiovideo&&delete r.audiovideo,!r.audio))return;const a=r.audio;a.id=mi.AUDIO;const o=e.audioCodec;this.log(`Init audio buffer, container:${a.container}, codecs[level/parsed]=[${o}/${a.codec}]`),o&&o.split(",").length===1&&(a.levelCodec=o),this.hls.trigger(Le.BUFFER_CODECS,r);const c=a.initSegment;if(c!=null&&c.byteLength){const u={type:"audio",frag:n,part:null,chunkMeta:i,parent:n.type,data:c};this.hls.trigger(Le.BUFFER_APPENDING,u)}this.tickImmediate()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===Qu.NOT_LOADED||i===Qu.PARTIAL){var a;if(!ru(e))this._loadInitSegment(e,r);else if((a=r.details)!=null&&a.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Xr.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragmentStart!==r.details.fragmentStart&&AN(r.details,o)}else super.loadFragment(e,r,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:r,lang:n,assocLang:i,characteristics:a,audioCodec:o,channels:c}=this.bufferedTrack;lx({name:r,lang:n,assocLang:i,characteristics:a,audioCodec:o,channels:c},e,kv)||(uN(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:r}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(Le.AUDIO_TRACK_SWITCHED,Uo({},e))}}class lU extends cm{constructor(e,r){super(r,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r,n){const i=r?.renditionReports;if(i){let a=-1;for(let o=0;o<i.length;o++){const c=i[o];let u;try{u=new self.URL(c.URI,r.url).href}catch(l){this.warn(`Could not construct new URL for Rendition Report: ${l}`),u=c.URI||""}if(u===e){a=o;break}else u===e.substring(0,u.length)&&(a=o)}if(a!==-1){const o=i[a],c=parseInt(o["LAST-MSN"])||r.lastPartSn;let u=parseInt(o["LAST-PART"])||r.lastPartIndex;if(this.hls.config.lowLatencyMode){const d=Math.min(r.age-r.partTarget,r.targetduration);u>=0&&d>r.partTarget&&(u+=1)}const l=n&&GK(n);return new WK(c,u>=0?u:void 0,l)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,r){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,r){if(r)try{return r.addDirectives(e)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}return e}playlistLoaded(e,r,n){const{details:i,stats:a}=r,o=self.performance.now(),c=a.loading.first?Math.max(0,o-a.loading.first):0;i.advancedDateTime=Date.now()-c;const u=this.hls.config.timelineOffset;if(u!==i.appliedTimelineOffset){const d=Math.max(u||0,0);i.appliedTimelineOffset=d,i.fragments.forEach(f=>{f.setStart(f.playlistOffset+d)})}if(i.live||n!=null&&n.live){const d="levelInfo"in r?r.levelInfo:r.track;if(i.reloaded(n),n&&i.fragments.length>0){w9e(n,i,this);const E=i.playlistParsingError;if(E){this.warn(E);const _=this.hls;if(!_.config.ignorePlaylistParsingErrors){var l;const{networkDetails:N}=r;_.trigger(Le.ERROR,{type:Oi.NETWORK_ERROR,details:wr.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:E,reason:E.message,level:r.level||void 0,parent:(l=i.fragments[0])==null?void 0:l.type,networkDetails:N,stats:a});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=a.loading.start);const f=this.hls.mainForwardBufferInfo,m=f?f.end-f.len:0,p=(i.edge-m)*1e3,g=yse(i,p);if(i.requestScheduled+g<o?i.requestScheduled=o:i.requestScheduled+=g,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let x,y,w;if(i.canBlockReload&&i.endSN&&i.advanced){const E=this.hls.config.lowLatencyMode,_=i.lastPartSn,N=i.endSN,C=i.lastPartIndex,I=C!==-1,D=_===N;I?D?(y=N+1,w=E?0:C):(y=_,w=E?C+1:i.maxPartIndex):y=N+1;const M=i.age,Y=M+i.ageHeader;let X=Math.min(Y-i.partTarget,i.targetduration*1.5);if(X>0){if(Y>i.targetduration*3)this.log(`Playlist last advanced ${M.toFixed(2)}s ago. Omitting segment and part directives.`),y=void 0,w=void 0;else if(n!=null&&n.tuneInGoal&&Y-i.partTarget>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${X} with playlist age: ${i.age}`),X=0;else{const te=Math.floor(X/i.targetduration);if(y+=te,w!==void 0){const de=Math.round(X%i.targetduration/i.partTarget);w+=de}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${M.toFixed(2)}s goal: ${X} skip sn ${te} to part ${w}`)}i.tuneInGoal=X}if(x=this.getDeliveryDirectives(i,r.deliveryDirectives,y,w),E||!D){i.requestScheduled=o,this.loadingPlaylist(d,x);return}}else(i.canBlockReload||i.canSkipUntil)&&(x=this.getDeliveryDirectives(i,r.deliveryDirectives,y,w));x&&y!==void 0&&i.canBlockReload&&(i.requestScheduled=a.loading.first+Math.max(g-c*2,g/2)),this.scheduleLoading(d,x,i)}else this.clearTimer()}scheduleLoading(e,r,n){const i=n||e.details;if(!i){this.loadingPlaylist(e,r);return}const a=self.performance.now(),o=i.requestScheduled;if(a>=o){this.loadingPlaylist(e,r);return}const c=o-a;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,r),c)}getDeliveryDirectives(e,r,n,i){let a=GK(e);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,a=bj.No),new WK(n,i,a)}checkRetry(e){const r=e.details,n=dN(e),i=e.errorAction,{action:a,retryCount:o=0,retryConfig:c}=i||{},u=!!i&&!!c&&(a===Hd.RetryRequest||!i.resolved&&a===Hd.SendAlternateToPenaltyBox);if(u){var l;if(o>=c.maxNumRetry)return!1;if(n&&(l=e.context)!=null&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${c.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const d=YF(c,o);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),d),this.warn(`Retrying playlist loading ${o+1}/${c.maxNumRetry} after "${r}" in ${d}ms`)}e.levelRetry=!0,i.resolved=!0}return u}}function Kse(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!y2(t[r].attrs,e[r].attrs))return!1;return!0}function y2(t,e,r){const n=t["STABLE-RENDITION-ID"];return n&&!r?n===e["STABLE-RENDITION-ID"]:!(r||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>t[i]!==e[i])}function $O(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class LHe extends lU{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Le.LEVEL_LOADING,this.onLevelLoading,this),e.on(Le.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Le.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(Le.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Le.LEVEL_LOADING,this.onLevelLoading,this),e.off(Le.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Le.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(Le.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,o=this.tracksInGroup[n];if(!o||o.groupId!==i){this.warn(`Audio track with id:${n} and group:${i} not found in active group ${o?.groupId}`);return}const c=o.details;o.details=r.details,this.log(`Audio track ${n} "${o.name}" lang:${o.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,c)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.audioGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(c=>i?.indexOf(c)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(m=>!n||n.indexOf(m.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(m=>m.default)&&(this.selectDefaultTrack=!1),c.forEach((m,p)=>{m.id=p});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const u=this.hls.config.audioPreference;if(!a&&u){const m=FA(u,c,kv);if(m>-1)a=c[m];else{const p=FA(u,this.tracks);a=this.tracks[p]}}let l=this.findTrackId(a);l===-1&&a&&(l=this.findTrackId(null));const d={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${n?.join(",")}`),this.hls.trigger(Le.AUDIO_TRACKS_UPDATED,d);const f=this.trackId;if(l!==-1&&f===-1)this.setAudioTrack(l);else if(c.length&&f===-1){var o;const m=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${c.length}`);this.warn(m.message),this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:m})}}}onError(e,r){r.fatal||!r.context||r.context.type===ya.AUDIO_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const r=this.hls;if(r.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&lx(e,i,kv))return i;const a=FA(e,this.tracksInGroup,kv);if(a>-1){const o=this.tracksInGroup[a];return this.setAudioTrack(a),o}else if(i){let o=r.loadLevel;o===-1&&(o=r.firstAutoLevel);const c=Q$e(e,r.levels,n,o,kv);if(c===-1)return null;r.nextLoadLevel=c}if(e.channels||e.audioCodec){const o=FA(e,n);if(o>-1)return n[o]}}}return null}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e],a=i.details&&!i.details.live;if(e===this.trackId&&i===n&&a||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(Le.AUDIO_TRACK_SWITCHING,Uo({},i)),a))return;const o=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(o)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if(!(this.selectDefaultTrack&&!i.default)&&(!e||lx(e,i,kv)))return n}if(e){const{name:n,lang:i,assocLang:a,characteristics:o,audioCodec:c,channels:u}=e;for(let l=0;l<r.length;l++){const d=r[l];if(lx({name:n,lang:i,assocLang:a,characteristics:o,audioCodec:c,channels:u},d,kv))return l}for(let l=0;l<r.length;l++){const d=r[l];if(y2(e.attrs,d.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<r.length;l++){const d=r[l];if(y2(e.attrs,d.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.currentTrack;this.shouldLoadPlaylist(r)&&uN(r.url,this.hls)&&this.scheduleLoading(r,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,a=this.getUrlWithDirectives(e.url,r),o=e.details,c=o?.age;this.log(`Loading audio-track ${n} "${e.name}" lang:${e.lang} group:${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${c&&o.live?" age "+c.toFixed(1)+(o.type&&" "+o.type||""):""} ${a}`),this.hls.trigger(Le.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:r||null,track:e})}}class IHe{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,r,n){if(this.queues===null||this.tracks===null)return;const i=this.queues[r];i.push(e),i.length===1&&!n&&this.executeNext(r)}appendBlocker(e){return new Promise(r=>{const n={label:"async-blocker",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(n,e)})}prependBlocker(e){return new Promise(r=>{if(this.queues){const n={label:"async-blocker-prepend",execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(n)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var r;const n=(r=e[0])==null?void 0:r.label;(n==="async-blocker"||n==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const r=this.queues[e];if(r.length){const i=r[0];try{i.execute()}catch(a){var n;if(i.onError(a),this.queues===null||this.tracks===null)return;const o=(n=this.tracks[e])==null?void 0:n.buffer;o!=null&&o.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var r;return((r=this.queues)==null?void 0:r[e][0])||null}toString(){const{queues:e,tracks:r}=this;return e===null||r===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var r,n;return(r=this.queues)!=null&&r[e]||(n=this.tracks)!=null&&n[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var r;const n=(r=this.tracks)==null?void 0:r[e],i=n?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${n.ended?" ended":""}${n.ending?" ending":""}`:"none"}listOps(e){var r;return((r=this.queues)==null?void 0:r[e].map(n=>n.label).join(", "))||""}}const BG=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Gse="HlsJsTrackRemovedError";class BHe extends Error{constructor(e){super(e),this.name=Gse}}class PHe extends cm{constructor(e,r){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=n=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=n=>{const{media:i,mediaSource:a}=this;n&&this.log("Media source opened"),!(!i||!a)&&(a.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(Le.MEDIA_ATTACHED,{media:i,mediaSource:a}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:i}=this;n!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${n})`)},this.hls=e,this.fragmentTracker=r,this.appendSource=r$e(V0(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Le.BUFFER_RESET,this.onBufferReset,this),e.on(Le.BUFFER_APPENDING,this.onBufferAppending,this),e.on(Le.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Le.BUFFER_EOS,this.onBufferEos,this),e.on(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Le.FRAG_PARSED,this.onFragParsed,this),e.on(Le.FRAG_CHANGED,this.onFragChanged,this),e.on(Le.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Le.BUFFER_RESET,this.onBufferReset,this),e.off(Le.BUFFER_APPENDING,this.onBufferAppending,this),e.off(Le.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Le.BUFFER_EOS,this.onBufferEos,this),e.off(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Le.FRAG_PARSED,this.onFragParsed,this),e.off(Le.FRAG_CHANGED,this.onFragChanged,this),e.off(Le.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:r}=this;if(!e)return null;const n={};if(this.operationQueue){const a=this.isUpdating();a||this.operationQueue.removeBlockers();const o=this.isQueued();(a||o)&&this.warn(`Transfering MediaSource with${o?" operations in queue":""}${a?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===r?nl(n,i.tracks):this.sourceBuffers.forEach(a=>{const[o]=a;o&&(n[o]=nl({},this.tracks[o]),this.removeBuffer(o)),a[0]=a[1]=null}),{media:e,mediaSource:r,tracks:n}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){var n;let i=2;(r.audio&&!r.video||!r.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(n=this.transferData)!=null&&n.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,r){const n=this.media=r.media;this.transferData=this.overrides=void 0;const i=V0(this.appendSource);if(i){const a=!!r.mediaSource;(a||r.overrides)&&(this.transferData=r,this.overrides=r.overrides);const o=this.mediaSource=r.mediaSource||new i;if(this.assignMediaSource(o),a)this._objectUrl=n.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{n.removeAttribute("src");const u=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||u&&o instanceof u,PG(n),OHe(n,c),n.load()}catch{n.src=c}else n.src=c}n.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var r,n;this.log(`${((r=this.transferData)==null?void 0:r.mediaSource)===e?"transferred":"created"} media source: ${(n=e.constructor)==null?void 0:n.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,r=this.transferData;if(!r||!e)return;const n=this.tracks,i=r.tracks,a=i?Object.keys(i):null,o=a?a.length:0,c=()=>{Promise.resolve().then(()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()})};if(i&&a&&o){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${ml(n,(u,l)=>u==="initSegment"?void 0:l)};
transfer tracks: ${ml(i,(u,l)=>u==="initSegment"?void 0:l)}}`),!Qie(i,n)){r.mediaSource=null,r.tracks=void 0;const u=e.currentTime,l=this.details,d=Math.max(u,l?.fragments[0].start||0);if(d-u>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${u} -> ${d}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(n)}") start time: ${d} currentTime: ${u}`),this.onMediaDetaching(Le.MEDIA_DETACHING,{}),this.onMediaAttaching(Le.MEDIA_ATTACHING,r),e.currentTime=d;return}this.transferData=void 0,a.forEach(u=>{const l=u,d=i[l];if(d){const f=d.buffer;if(f){const m=this.fragmentTracker,p=d.id;if(m.hasFragments(p)||m.hasParts(p)){const y=Hs.getBuffered(f);m.detectEvictedFragments(l,y,p,null,!0)}const g=YI(l),x=[l,f];this.sourceBuffers[g]=x,f.updating&&this.operationQueue&&this.operationQueue.prependBlocker(l),this.trackSourceBuffer(l,d)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var e;const r=(e=this.mediaSource)==null?void 0:e.readyState;return r==="open"||r==="ended"}onMediaDetaching(e,r){const n=!!r.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:a,_objectUrl:o}=this;if(a){if(this.log(`media source ${n?"transferring":"detaching"}`),n)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=a.readyState==="open";try{const u=a.sourceBuffers;for(let l=u.length;l--;)c&&u[l].abort(),a.removeSourceBuffer(u[l]);c&&a.endOfStream()}catch(u){this.warn(`onMediaDetaching: ${u.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}a.removeEventListener("sourceopen",this._onMediaSourceOpen),a.removeEventListener("sourceended",this._onMediaSourceEnded),a.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.removeEventListener("startstreaming",this._onStartStreaming),a.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),n||(o&&self.URL.revokeObjectURL(o),this.mediaSrc===o?(i.removeAttribute("src"),this.appendSource&&PG(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(Le.MEDIA_DETACHED,r)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var r;const n=(r=this.tracks[e])==null?void 0:r.buffer;if(this.removeBuffer(e),n)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}catch(a){this.warn(`onBufferReset ${e}`,a)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[YI(e)]=[null,null];const r=this.tracks[e];r&&(r.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new IHe(this.tracks)}onBufferCodecs(e,r){var n;const i=this.tracks,a=Object.keys(r);this.log(`BUFFER_CODECS: "${a}" (current SB count ${this.sourceBufferCount})`);const o="audiovideo"in r&&(i.audio||i.video)||i.audiovideo&&("audio"in r||"video"in r),c=!o&&this.sourceBufferCount&&this.media&&a.some(u=>!i[u]);if(o||c){this.warn(`Unsupported transition between "${Object.keys(i)}" and "${a}" SourceBuffers`);return}a.forEach(u=>{var l,d;const f=r[u],{id:m,codec:p,levelCodec:g,container:x,metadata:y,supplemental:w}=f;let E=i[u];const _=(l=this.transferData)==null||(l=l.tracks)==null?void 0:l[u],N=_!=null&&_.buffer?_:E,C=N?.pendingCodec||N?.codec,I=N?.levelCodec;E||(E=i[u]={buffer:void 0,listeners:[],codec:p,supplemental:w,container:x,levelCodec:g,metadata:y,id:m});const D=yj(C,I),M=D?.replace(BG,"$1");let Y=yj(p,g);const X=(d=Y)==null?void 0:d.replace(BG,"$1");Y&&D&&M!==X&&(u.slice(0,5)==="audio"&&(Y=lN(Y,this.appendSource)),this.log(`switching codec ${C} to ${Y}`),Y!==(E.pendingCodec||E.codec)&&(E.pendingCodec=Y),E.container=x,this.appendChangeType(u,x,Y))}),(this.tracksReady||this.sourceBufferCount)&&(r.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&(this.bufferCodecEventsTotal>1&&!this.tracks.video&&!r.video&&((n=r.audio)==null?void 0:n.id)==="main"&&(this.log("Main audio-only"),this.bufferCodecEventsTotal=1),this.mediaSourceOpenOrEnded&&this.checkPendingTracks())}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,r)=>{const n=this.tracks[r];return e[r]={id:n.id,container:n.container,codec:n.codec,levelCodec:n.levelCodec},e},{})}appendChangeType(e,r,n){const i=`${r};codecs=${n}`,a={label:`change-type=${i}`,execute:()=>{const o=this.tracks[e];if(o){const c=o.buffer;c!=null&&c.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),c.changeType(i),o.codec=n,o.container=r)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:o=>{this.warn(`Failed to change ${e} SourceBuffer type`,o)}};this.append(a,e,this.isPending(this.tracks[e]))}blockAudio(e){var r;const n=e.start,i=n+e.duration*.05;if(((r=this.fragmentTracker.getAppendedFrag(n,mi.MAIN))==null?void 0:r.gap)===!0)return;const o={label:"block-audio",execute:()=>{var c;const u=this.tracks.video;(this.lastVideoAppendEnd>i||u!=null&&u.buffer&&Hs.isBuffered(u.buffer,i)||((c=this.fragmentTracker.getAppendedFrag(i,mi.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:o,frag:e},this.append(o,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:r}=this;e&&r&&(this.blockedAudioAppend=null,r.unblockAudio(e.op))}onBufferAppending(e,r){const{tracks:n}=this,{data:i,type:a,parent:o,frag:c,part:u,chunkMeta:l,offset:d}=r,f=l.buffering[a],{sn:m,cc:p}=c,g=self.performance.now();f.start=g;const x=c.stats.buffering,y=u?u.stats.buffering:null;x.start===0&&(x.start=g),y&&y.start===0&&(y.start=g);const w=n.audio;let E=!1;a==="audio"&&w?.container==="audio/mpeg"&&(E=!this.lastMpegAudioChunk||l.id===1||this.lastMpegAudioChunk.sn!==l.sn,this.lastMpegAudioChunk=l);const _=n.video,N=_?.buffer;if(N&&m!=="initSegment"){const D=u||c,M=this.blockedAudioAppend;if(a==="audio"&&o!=="main"&&!this.blockedAudioAppend&&!(_.ending||_.ended)){const X=D.start+D.duration*.05,te=N.buffered,de=this.currentOp("video");!te.length&&!de?this.blockAudio(D):!de&&!Hs.isBuffered(N,X)&&this.lastVideoAppendEnd<X&&this.blockAudio(D)}else if(a==="video"){const Y=D.end;if(M){const X=M.frag.start;(Y>X||Y<this.lastVideoAppendEnd||Hs.isBuffered(N,X))&&this.unblockAudio()}this.lastVideoAppendEnd=Y}}const C=(u||c).start,I={label:`append-${a}`,execute:()=>{var D;f.executeStart=self.performance.now();const M=(D=this.tracks[a])==null?void 0:D.buffer;M&&(E?this.updateTimestampOffset(M,C,.1,a,m,p):d!==void 0&&Jn(d)&&this.updateTimestampOffset(M,d,1e-6,a,m,p)),this.appendExecutor(i,a)},onStart:()=>{},onComplete:()=>{const D=self.performance.now();f.executeEnd=f.end=D,x.first===0&&(x.first=D),y&&y.first===0&&(y.first=D);const M={};this.sourceBuffers.forEach(([Y,X])=>{Y&&(M[Y]=Hs.getBuffered(X))}),this.appendErrors[a]=0,a==="audio"||a==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(Le.BUFFER_APPENDED,{type:a,frag:c,part:u,chunkMeta:l,parent:c.type,timeRanges:M})},onError:D=>{var M;const Y={type:Oi.MEDIA_ERROR,parent:c.type,details:wr.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:c,part:u,chunkMeta:l,error:D,err:D,fatal:!1},X=(M=this.media)==null?void 0:M.error;if(D.code===DOMException.QUOTA_EXCEEDED_ERR||D.name=="QuotaExceededError"||"quota"in D)Y.details=wr.BUFFER_FULL_ERROR;else if(D.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!X)Y.errorAction=Cb(!0);else if(D.name===Gse&&this.sourceBufferCount===0)Y.errorAction=Cb(!0);else{const te=++this.appendErrors[a];this.warn(`Failed ${te}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer (${X||"no media error"})`),(te>=this.hls.config.appendErrorMaxRetry||X)&&(Y.fatal=!0)}this.hls.trigger(Le.ERROR,Y)}};this.log(`queuing "${a}" append sn: ${m}${u?" p: "+u.index:""} of ${c.type===mi.MAIN?"level":"track"} ${c.level} cc: ${p}`),this.append(I,a,this.isPending(this.tracks[a]))}getFlushOp(e,r,n){return this.log(`queuing "${e}" remove ${r}-${n}`),{label:"remove",execute:()=>{this.removeExecutor(e,r,n)},onStart:()=>{},onComplete:()=>{this.hls.trigger(Le.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${r}-${n} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,r){const{type:n,startOffset:i,endOffset:a}=r;n?this.append(this.getFlushOp(n,i,a),n):this.sourceBuffers.forEach(([o])=>{o&&this.append(this.getFlushOp(o,i,a),o)})}onFragParsed(e,r){const{frag:n,part:i}=r,a=[],o=i?i.elementaryStreams:n.elementaryStreams;o[ul.AUDIOVIDEO]?a.push("audiovideo"):(o[ul.AUDIO]&&a.push("audio"),o[ul.VIDEO]&&a.push("video"));const c=()=>{const u=self.performance.now();n.stats.buffering.end=u,i&&(i.stats.buffering.end=u);const l=i?i.stats:n.stats;this.hls.trigger(Le.FRAG_BUFFERED,{frag:n,part:i,stats:l,id:n.type})};a.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(c,a).catch(u=>{this.warn(`Fragment buffered callback ${u}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,r){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{if(e){const r=this.tracks[e];if(r)return!r.ended||r.ending}return!1})}onBufferEos(e,r){var n;this.sourceBuffers.forEach(([o])=>{if(o){const c=this.tracks[o];(!r.type||r.type===o)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${o} buffer reached EOS`)))}});const i=((n=this.overrides)==null?void 0:n.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([o])=>{var c;return o&&!((c=this.tracks[o])!=null&&c.ended)})?i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:o}=this;if(!o||o.readyState!=="open"){o&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),o.endOfStream(),this.hls.trigger(Le.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(Le.BUFFERED_TO_END,void 0)):r.type==="video"&&this.unblockAudio()}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const r=this.tracks[e];r&&(r.ending=!1)}})}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,r){if(r.details===wr.BUFFER_APPEND_ERROR&&r.frag){var n;const i=(n=r.errorAction)==null?void 0:n.nextAutoLevel;Jn(i)&&i!==r.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:r,media:n}=this;if(!n||r===null||!this.sourceBufferCount)return;const i=e.config,a=n.currentTime,o=r.levelTargetDuration,c=r.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(Jn(c)&&c>=0){const l=Math.max(c,o),d=Math.floor(a/o)*o-l;this.flushBackBuffer(a,o,d)}const u=i.frontBufferFlushThreshold;if(Jn(u)&&u>0){const l=Math.max(i.maxBufferLength,u),d=Math.max(l,o),f=Math.floor(a/o)*o+d;this.flushFrontBuffer(a,o,f)}}flushBackBuffer(e,r,n){this.sourceBuffers.forEach(([i,a])=>{if(a){const c=Hs.getBuffered(a);if(c.length>0&&n>c.start(0)){var o;this.hls.trigger(Le.BACK_BUFFER_REACHED,{bufferEnd:n});const u=this.tracks[i];if((o=this.details)!=null&&o.live)this.hls.trigger(Le.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(u!=null&&u.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(Le.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:i})}}})}flushFrontBuffer(e,r,n){this.sourceBuffers.forEach(([i,a])=>{if(a){const o=Hs.getBuffered(a),c=o.length;if(c<2)return;const u=o.start(c-1),l=o.end(c-1);if(n>u||e>=u&&e<=l)return;this.hls.trigger(Le.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:r,mediaSource:n}=this;if(!r||!this.media||n?.readyState!=="open")return null;const i=r.edge;if(r.live&&this.hls.config.liveDurationInfinity){if(r.fragments.length&&n.setLiveSeekableRange){const l=Math.max(0,r.fragmentStart),d=Math.max(l,i);return{duration:1/0,start:l,end:d}}return{duration:1/0}}const a=(e=this.overrides)==null?void 0:e.duration;if(a)return Jn(a)?{duration:a}:null;const o=this.media.duration,c=Jn(n.duration)?n.duration:0;return i>c&&i>o||!Jn(o)?{duration:i}:null}updateMediaSource({duration:e,start:r,end:n}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(Jn(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),r!==void 0&&n!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${r}-${n}.`),i.setLiveSeekableRange(r,n)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:r,tracks:n}=this;if(this.log(`checkPendingTracks (pending: ${r} codec events expected: ${e}) ${ml(n)}`),this.tracksReady){var i;const a=(i=this.transferData)==null?void 0:i.tracks;a&&Object.keys(a).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([r,n])=>{if(r){const i=this.tracks[r];e[r]={buffer:n,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(Le.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([r])=>{this.executeNext(r)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:r,mediaSource:n}=this;if(!n)throw new Error("createSourceBuffers called when mediaSource was null");for(const a in e){const o=a,c=e[o];if(this.isPending(c)){const u=this.getTrackCodec(c,o),l=`${c.container};codecs=${u}`;c.codec=u,this.log(`creating sourceBuffer(${l})${this.currentOp(o)?" Queued":""} ${ml(c)}`);try{const d=n.addSourceBuffer(l),f=YI(o),m=[o,d];r[f]=m,c.buffer=d}catch(d){var i;this.error(`error while trying to add sourceBuffer: ${d.message}`),this.shiftAndExecuteNext(o),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[o],this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:d,sourceBufferName:o,mimeType:l,parent:c.id});return}this.trackSourceBuffer(o,c)}}this.bufferCreated()}getTrackCodec(e,r){const n=e.supplemental;let i=e.codec;n&&(r==="video"||r==="audiovideo")&&m2(n,"video")&&(i=_$e(i,n));const a=yj(i,e.levelCodec);return a?r.slice(0,5)==="audio"?lN(a,this.appendSource):a:""}trackSourceBuffer(e,r){const n=r.buffer;if(!n)return;const i=this.getTrackCodec(r,e);this.tracks[e]={buffer:n,codec:i,container:r.container,levelCodec:r.levelCodec,supplemental:r.supplemental,metadata:r.metadata,id:r.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(a,o)=>{const c=o.removedRanges;c!=null&&c.length&&this.hls.trigger(Le.BUFFER_FLUSHED,{type:a})})}get mediaSrc(){var e,r;const n=((e=this.media)==null||(r=e.querySelector)==null?void 0:r.call(e,"source"))||this.media;return n?.src}onSBUpdateStart(e){const r=this.currentOp(e);r&&r.onStart()}onSBUpdateEnd(e){var r;if(((r=this.mediaSource)==null?void 0:r.readyState)==="closed"){this.resetBuffer(e);return}const n=this.currentOp(e);n&&(n.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,r){var n;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${i}`,r),this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const a=this.currentOp(e);a&&a.onError(i)}updateTimestampOffset(e,r,n,i,a,o){const c=r-e.timestampOffset;Math.abs(c)>=n&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${r} (sn: ${a} cc: ${o})`),e.timestampOffset=r)}removeExecutor(e,r,n){const{media:i,mediaSource:a}=this,o=this.tracks[e],c=o?.buffer;if(!i||!a||!c){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const u=Jn(i.duration)?i.duration:1/0,l=Jn(a.duration)?a.duration:1/0,d=Math.max(0,r),f=Math.min(n,u,l);f>d&&(!o.ending||o.ended)?(o.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),c.remove(d,f)):this.shiftAndExecuteNext(e)}appendExecutor(e,r){const n=this.tracks[r],i=n?.buffer;if(!i)throw new BHe(`Attempting to append to the ${r} SourceBuffer, but it does not exist`);n.ending=!1,n.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(r=>{this.warn(`SourceBuffer blocked callback ${r}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(r){this.warn(`Callback run without blocking ${this.operationQueue} ${r}`)}}isUpdating(){return this.sourceBuffers.some(([e,r])=>e&&r.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,r=this.sourceBufferTypes){if(!r.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:n}=this,i=r.map(o=>this.appendBlocker(o));return r.length>1&&this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(o=>{n===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(r=>{var n;const i=(n=this.tracks[r])==null?void 0:n.buffer;!i||i.updating||this.shiftAndExecuteNext(r)})}append(e,r,n){this.operationQueue&&this.operationQueue.append(e,r,n)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,r)=>e+(this.isPending(this.tracks[r])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[r])=>e+(r?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,r,n){const i=this.tracks[e];if(!i)return;const a=i.buffer;if(!a)return;const o=n.bind(this,e);i.listeners.push({event:r,listener:o}),a.addEventListener(r,o)}removeBufferListeners(e){const r=this.tracks[e];if(!r)return;const n=r.buffer;n&&(r.listeners.forEach(i=>{n.removeEventListener(i.event,i.listener)}),r.listeners.length=0)}}function PG(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(r=>{t.removeChild(r)})}function OHe(t,e){const r=self.document.createElement("source");r.type="video/mp4",r.src=e,t.appendChild(r)}function YI(t){return t==="audio"?1:0}class i5{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(Le.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Le.BUFFER_CODECS,this.onBufferCodecs,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(Le.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Le.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onLevelsUpdated(e,r){this.timer&&Jn(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const r=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&r.logger.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),r.autoLevelCapping=n,r.autoLevelEnabled&&r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,a)=>this.isLevelAllowed(i)&&a<=e);return this.clientRect=null,i5.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(c,u)=>u?c.width!==u.width||c.height!==u.height:!0;let a=e.length-1;const o=Math.max(r,n);for(let c=0;c<e.length;c+=1){const u=e[c];if((u.width>=o||u.height>=o)&&i(u,e[c+1])){a=c;break}}return a}}const RHe={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},Dh=RHe,DHe={HLS:"h"},MHe=DHe;class JA{constructor(e,r){Array.isArray(e)&&(e=e.map(n=>n instanceof JA?n:new JA(n))),this.value=e,this.params=r}}const FHe="Dict";function UHe(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function $He(t,e,r,n){return new Error(`failed to ${t} "${UHe(e)}" as ${r}`,{cause:n})}function ep(t,e,r){return $He("serialize",t,e,r)}class Wse{constructor(e){this.description=e}}const OG="Bare Item",HHe="Boolean";function QHe(t){if(typeof t!="boolean")throw ep(t,HHe);return t?"?1":"?0"}function zHe(t){return btoa(String.fromCharCode(...t))}const VHe="Byte Sequence";function KHe(t){if(ArrayBuffer.isView(t)===!1)throw ep(t,VHe);return`:${zHe(t)}:`}const GHe="Integer";function WHe(t){return t<-999999999999999||999999999999999<t}function Yse(t){if(WHe(t))throw ep(t,GHe);return t.toString()}function YHe(t){return`@${Yse(t.getTime()/1e3)}`}function qse(t,e){if(t<0)return-qse(-t,e);const r=Math.pow(10,e);if(Math.abs(t*r%1-.5)<Number.EPSILON){const i=Math.floor(t*r);return(i%2===0?i:i+1)/r}else return Math.round(t*r)/r}const qHe="Decimal";function XHe(t){const e=qse(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw ep(t,qHe);const r=e.toString();return r.includes(".")?r:`${r}.0`}const ZHe="String",JHe=/[\x00-\x1f\x7f]+/;function eQe(t){if(JHe.test(t))throw ep(t,ZHe);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function tQe(t){return t.description||t.toString().slice(7,-1)}const rQe="Token";function RG(t){const e=tQe(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw ep(e,rQe);return e}function HO(t){switch(typeof t){case"number":if(!Jn(t))throw ep(t,OG);return Number.isInteger(t)?Yse(t):XHe(t);case"string":return eQe(t);case"symbol":return RG(t);case"boolean":return QHe(t);case"object":if(t instanceof Date)return YHe(t);if(t instanceof Uint8Array)return KHe(t);if(t instanceof Wse)return RG(t);default:throw ep(t,OG)}}const nQe="Key";function QO(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw ep(t,nQe);return t}function cU(t){return t==null?"":Object.entries(t).map(([e,r])=>r===!0?`;${QO(e)}`:`;${QO(e)}=${HO(r)}`).join("")}function Xse(t){return t instanceof JA?`${HO(t.value)}${cU(t.params)}`:HO(t)}function iQe(t){return`(${t.value.map(Xse).join(" ")})${cU(t.params)}`}function sQe(t,e={whitespace:!0}){if(typeof t!="object"||t==null)throw ep(t,FHe);const r=t instanceof Map?t.entries():Object.entries(t),n=e?.whitespace?" ":"";return Array.from(r).map(([i,a])=>{a instanceof JA||(a=new JA(a));let o=QO(i);return a.value===!0?o+=cU(a.params):(o+="=",Array.isArray(a.value)?o+=iQe(a):o+=Xse(a)),o}).join(`,${n}`)}function Zse(t,e){return sQe(t,e)}const mA="CMCD-Object",kc="CMCD-Request",yv="CMCD-Session",Jg="CMCD-Status",aQe={br:mA,ab:mA,d:mA,ot:mA,tb:mA,tpb:mA,lb:mA,tab:mA,lab:mA,url:mA,pb:kc,bl:kc,tbl:kc,dl:kc,ltc:kc,mtp:kc,nor:kc,nrr:kc,rc:kc,sn:kc,sta:kc,su:kc,ttfb:kc,ttfbb:kc,ttlb:kc,cmsdd:kc,cmsds:kc,smrt:kc,df:kc,cs:kc,ts:kc,cid:yv,pr:yv,sf:yv,sid:yv,st:yv,v:yv,msd:yv,bs:Jg,bsd:Jg,cdn:Jg,rtp:Jg,bg:Jg,pt:Jg,ec:Jg,e:Jg},oQe={REQUEST:kc};function lQe(t){return Object.keys(t).reduce((e,r)=>{var n;return(n=t[r])===null||n===void 0||n.forEach(i=>e[i]=r),e},{})}function cQe(t,e){const r={};if(!t)return r;const n=Object.keys(t),i=e?lQe(e):{};return n.reduce((a,o)=>{var c;const u=aQe[o]||i[o]||oQe.REQUEST,l=(c=a[u])!==null&&c!==void 0?c:a[u]={};return l[o]=t[o],a},r)}function uQe(t){return["ot","sf","st","e","sta"].includes(t)}function dQe(t){return typeof t=="number"?Jn(t):t!=null&&t!==""&&t!==!1}const Jse="event";function hQe(t,e){const r=new URL(t),n=new URL(e);if(r.origin!==n.origin)return t;const i=r.pathname.split("/").slice(1),a=n.pathname.split("/").slice(1,-1);for(;i[0]===a[0];)i.shift(),a.shift();for(;a.length;)a.shift(),i.unshift("..");return i.join("/")+r.search+r.hash}const Sj=t=>Math.round(t),zO=(t,e)=>Array.isArray(t)?t.map(r=>zO(r,e)):t instanceof JA&&typeof t.value=="string"?new JA(zO(t.value,e),t.params):(e.baseUrl&&(t=hQe(t,e.baseUrl)),e.version===1?encodeURIComponent(t):t),LS=t=>Sj(t/100)*100,fQe=(t,e)=>{let r=t;return e.version>=2&&(t instanceof JA&&typeof t.value=="string"?r=new JA([t]):typeof t=="string"&&(r=[t])),zO(r,e)},mQe={br:Sj,d:Sj,bl:LS,dl:LS,mtp:LS,nor:fQe,rtp:LS,tb:Sj},eae="request",tae="response",uU=["ab","bg","bl","br","bs","bsd","cdn","cid","cs","df","ec","lab","lb","ltc","msd","mtp","pb","pr","pt","sf","sid","sn","st","sta","tab","tb","tbl","tpb","ts","v"],AQe=["e"],pQe=/^[a-zA-Z0-9-.]+-[a-zA-Z0-9-.]+$/;function s5(t){return pQe.test(t)}function gQe(t){return uU.includes(t)||AQe.includes(t)||s5(t)}const rae=["d","dl","nor","ot","rtp","su"];function vQe(t){return uU.includes(t)||rae.includes(t)||s5(t)}const xQe=["cmsdd","cmsds","rc","smrt","ttfb","ttfbb","ttlb","url"];function yQe(t){return uU.includes(t)||rae.includes(t)||xQe.includes(t)||s5(t)}const bQe=["bl","br","bs","cid","d","dl","mtp","nor","nrr","ot","pr","rtp","sf","sid","st","su","tb","v"];function wQe(t){return bQe.includes(t)||s5(t)}const EQe={[tae]:yQe,[Jse]:gQe,[eae]:vQe};function nae(t,e={}){const r={};if(t==null||typeof t!="object")return r;const n=e.version||t.v||1,i=e.reportingMode||eae,a=n===1?wQe:EQe[i];let o=Object.keys(t).filter(a);const c=e.filter;typeof c=="function"&&(o=o.filter(c));const u=i===tae||i===Jse;u&&!o.includes("ts")&&o.push("ts"),n>1&&!o.includes("v")&&o.push("v");const l=nl({},mQe,e.formatters),d={version:n,reportingMode:i,baseUrl:e.baseUrl};return o.sort().forEach(f=>{let m=t[f];const p=l[f];if(typeof p=="function"&&(m=p(m,d)),f==="v"){if(n===1)return;m=n}f=="pr"&&m===1||(u&&f==="ts"&&!Jn(m)&&(m=Date.now()),dQe(m)&&(uQe(f)&&typeof m=="string"&&(m=new Wse(m)),r[f]=m))}),r}function _Qe(t,e={}){const r={};if(!t)return r;const n=nae(t,e),i=cQe(n,e?.customHeaderMap);return Object.entries(i).reduce((a,[o,c])=>{const u=Zse(c,{whitespace:!1});return u&&(a[o]=u),a},r)}function SQe(t,e,r){return nl(t,_Qe(e,r))}const jQe="CMCD";function TQe(t,e={}){return t?Zse(nae(t,e),{whitespace:!1}):""}function CQe(t,e={}){if(!t)return"";const r=TQe(t,e);return encodeURIComponent(r)}function NQe(t,e={}){if(!t)return"";const r=CQe(t,e);return`${jQe}=${r}`}const DG=/CMCD=[^&#]+/;function kQe(t,e,r){const n=NQe(e,r);if(!n)return t;if(DG.test(t))return t.replace(DG,n);const i=t.includes("?")?"&":"?";return`${t}${i}${n}`}class LQe{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Dh.MANIFEST,su:!this.initialized})}catch(a){this.hls.logger.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=i=>{try{const{frag:a,part:o}=i,c=this.hls.levels[a.level],u=this.getObjectType(a),l={d:(o||a).duration*1e3,ot:u};(u===Dh.VIDEO||u===Dh.AUDIO||u==Dh.MUXED)&&(l.br=c.bitrate/1e3,l.tb=this.getTopBandwidth(u)/1e3,l.bl=this.getBufferLength(u));const d=o?this.getNextPart(o):this.getNextFrag(a);d!=null&&d.url&&d.url!==a.url&&(l.nor=d.url),this.apply(i,l)}catch(a){this.hls.logger.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||e.sessionId,this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHED,this.onMediaDetached,this),e.on(Le.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHED,this.onMediaDetached,this),e.off(Le.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:MHe.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){nl(r,this.createData());const n=r.ot===Dh.INIT||r.ot===Dh.VIDEO||r.ot===Dh.MUXED;this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering);const{includeKeys:i}=this;i&&(r=Object.keys(r).reduce((o,c)=>(i.includes(c)&&(o[c]=r[c]),o),{}));const a={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),SQe(e.headers,r,a)):e.url=kQe(e.url,r,a)}getNextFrag(e){var r;const n=(r=this.hls.levels[e.level])==null?void 0:r.details;if(n){const i=e.sn-n.startSN;return n.fragments[i+1]}}getNextPart(e){var r;const{index:n,fragment:i}=e,a=(r=this.hls.levels[i.level])==null||(r=r.details)==null?void 0:r.partList;if(a){const{sn:o}=i;for(let c=a.length-1;c>=0;c--){const u=a[c];if(u.index===n&&u.fragment.sn===o)return a[c+1]}}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return Dh.TIMED_TEXT;if(e.sn==="initSegment")return Dh.INIT;if(r==="audio")return Dh.AUDIO;if(r==="main")return this.hls.audioTracks.length?Dh.VIDEO:Dh.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===Dh.AUDIO)n=i.audioTracks;else{const a=i.maxAutoLevel,o=a>-1?a+1:i.levels.length;n=i.levels.slice(0,o)}return n.forEach(a=>{a.bitrate>r&&(r=a.bitrate)}),r>0?r:NaN}getBufferLength(e){const r=this.media,n=e===Dh.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:Hs.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,o,c){r(a),this.loader.load(a,o,c)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,o,c){r(a),this.loader.load(a,o,c)}}}}const IQe=3e5;class BQe extends cm{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Le.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Le.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,r)=>(e.indexOf(r.pathwayId)===-1&&e.push(r.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if(n?.action===Hd.SendAlternateToPenaltyBox&&n.flags===ff.MoveAllAlternatesMatchingHost){const i=this.levels;let a=this._pathwayPriority,o=this.pathwayId;if(r.context){const{groupId:c,pathwayId:u,type:l}=r.context;c&&i?o=this.getPathwayForGroupId(c,l,o):u&&(o=u)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!a&&i&&(a=this.pathways()),a&&a.length>1&&(this.updatePathwayPriority(a),n.resolved=this.pathwayId!==o),r.details===wr.BUFFER_APPEND_ERROR&&!r.fatal?n.resolved=!0:n.resolved||this.warn(`Could not resolve ${r.details} ("${r.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${ml(a)} penalized: ${ml(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length&&this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(a=>{i-n[a]>IQe&&delete n[a]});for(let a=0;a<e.length;a++){const o=e[a];if(o in n)continue;if(o===this.pathwayId)return;const c=this.hls.nextLoadLevel,u=this.hls.levels[c];if(r=this.getLevelsForPathway(o),r.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,Ese(r),this.hls.trigger(Le.LEVELS_UPDATED,{levels:r});const l=this.hls.levels[c];u&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==u.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==u.bitrate&&this.log(`Unstable Pathways change from bitrate ${u.bitrate} to ${l.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(e,r,n){const i=this.getLevelsForPathway(n).concat(this.levels||[]);for(let a=0;a<i.length;a++)if(r===ya.AUDIO_TRACK&&i[a].hasAudioGroup(e)||r===ya.SUBTITLE_TRACK&&i[a].hasSubtitleGroup(e))return i[a].pathwayId;return n}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(a=>{const{ID:o,"BASE-ID":c,"URI-REPLACEMENT":u}=a;if(r.some(d=>d.pathwayId===o))return;const l=this.getLevelsForPathway(c).map(d=>{const f=new dc(d.attrs);f["PATHWAY-ID"]=o;const m=f.AUDIO&&`${f.AUDIO}_clone_${o}`,p=f.SUBTITLES&&`${f.SUBTITLES}_clone_${o}`;m&&(n[f.AUDIO]=m,f.AUDIO=m),p&&(i[f.SUBTITLES]=p,f.SUBTITLES=p);const g=iae(d.uri,f["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u),x=new p2({attrs:f,audioCodec:d.audioCodec,bitrate:d.bitrate,height:d.height,name:d.name,url:g,videoCodec:d.videoCodec,width:d.width});if(d.audioGroups)for(let y=1;y<d.audioGroups.length;y++)x.addGroupId("audio",`${d.audioGroups[y]}_clone_${o}`);if(d.subtitleGroups)for(let y=1;y<d.subtitleGroups.length;y++)x.addGroupId("text",`${d.subtitleGroups[y]}_clone_${o}`);return x});r.push(...l),MG(this.audioTracks,n,u,o),MG(this.subtitleTracks,i,u,o)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const d=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+d)}const a={responseType:"json",url:i.href},o=r.steeringManifestLoadPolicy.default,c=o.errorRetry||o.timeoutRetry||{},u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},l={onSuccess:(d,f,m,p)=>{this.log(`Loaded steering manifest: "${i}"`);const g=d.data;if(g?.VERSION!==1){this.log(`Steering VERSION ${g.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=g.TTL;const{"RELOAD-URI":x,"PATHWAY-CLONES":y,"PATHWAY-PRIORITY":w}=g;if(x)try{this.uri=new self.URL(x,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${x}`);return}this.scheduleRefresh(this.uri||m.url),y&&this.clonePathways(y);const E={steeringManifest:g,url:i.toString()};this.hls.trigger(Le.STEERING_MANIFEST_LOADED,E),w&&this.updatePathwayPriority(w)},onError:(d,f,m,p)=>{if(this.log(`Error loading steering manifest: ${d.code} ${d.text} (${f.url})`),this.stopLoad(),d.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let g=this.timeToLoad*1e3;if(d.code===429){const x=this.loader;if(typeof x?.getResponseHeader=="function"){const y=x.getResponseHeader("Retry-After");y&&(g=parseFloat(y)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,g)},onTimeout:(d,f,m)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(a,u,l)}scheduleRefresh(e,r=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const i=(n=this.hls)==null?void 0:n.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},r)}}function MG(t,e,r,n){t&&Object.keys(e).forEach(i=>{const a=t.filter(o=>o.groupId===i).map(o=>{const c=nl({},o);return c.details=void 0,c.attrs=new dc(c.attrs),c.url=c.attrs.URI=iae(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),c.groupId=c.attrs["GROUP-ID"]=e[i],c.attrs["PATHWAY-ID"]=n,c});t.push(...a)})}function iae(t,e,r,n){const{HOST:i,PARAMS:a,[r]:o}=n;let c;e&&(c=o?.[e],c&&(t=c));const u=new self.URL(t);return i&&!c&&(u.host=i),a&&Object.keys(a).sort().forEach(l=>{l&&u.searchParams.set(l,a[l])}),u.href}class kb extends cm{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.mediaResolved=void 0,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=kb.CDMCleanupPromise?[kb.CDMCleanupPromise]:[],this.bannedKeyIds={},this.onMediaEncrypted=r=>{const{initDataType:n,initData:i}=r,a=`"${r.type}" event: init data type: "${n}"`;if(this.debug(a),i!==null){if(!this.keyFormatPromise){let o=Object.keys(this.keySystemAccessPromises);o.length||(o=Dw(this.config));const c=o.map($I).filter(u=>!!u);this.keyFormatPromise=this.getKeyFormatPromise(c)}this.keyFormatPromise.then(o=>{const c=wj(o);if(n!=="sinf"||c!==mc.FAIRPLAY){this.log(`Ignoring "${r.type}" event with init data type: "${n}" for selected key-system ${c}`);return}let u;try{const p=Uu(new Uint8Array(i)),g=JF(JSON.parse(p).sinf),x=Zie(g);if(!x)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");u=new Uint8Array(x.subarray(8,24))}catch(p){this.warn(`${a} Failed to parse sinf: ${p}`);return}const l=Qd(u),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let m=d[l];for(let p=0;p<f.length;p++){const g=f[p],x=g.decryptdata;if(!x.keyId)continue;const y=Qd(x.keyId);if(fN(u,x.keyId)||x.uri.replace(/-/g,"").indexOf(l)!==-1){if(m=d[y],!m)continue;if(x.pssh)break;delete d[y],x.pssh=new Uint8Array(i),x.keyId=u,m=d[l]=m.then(()=>this.generateRequestWithPreferredKeySession(g,n,i,"encrypted-event-key-match")),m.catch(w=>this.handleError(w));break}}m||this.handleError(new Error(`Key ID ${l} not encountered in playlist. Key-system sessions ${f.length}.`))}).catch(o=>this.handleError(o))}},this.onWaitingForKey=r=>{this.log(`"${r.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(Le.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(Le.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(Le.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(Le.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(Le.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(Le.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r?.[e];if(i)return i.licenseUrl;if(e===mc.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const r=this.getLicenseServerUrl(e);if(r===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return r}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r?.[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(o,c,u)=>!!o&&u.indexOf(o)===c,i=r.map(o=>o.audioCodec).filter(n),a=r.map(o=>o.videoCodec).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((o,c)=>{const u=l=>{const d=l.shift();this.getMediaKeysPromise(d,i,a).then(f=>o({keySystem:d,mediaKeys:f})).catch(f=>{l.length?u(l):f instanceof uf?c(f):c(new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};u(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return Ase===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){var i;const a=f9e(e,r,n,this.config.drmSystemOptions||{});let o=this.keySystemAccessPromises[e],c=(i=o)==null?void 0:i.keySystemAccess;if(!c){this.log(`Requesting encrypted media "${e}" key-system access with config: ${ml(a)}`),c=this.requestMediaKeySystemAccess(e,a);const u=o=this.keySystemAccessPromises[e]={keySystemAccess:c};return c.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),c.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const d=this.fetchServerCertificate(e);this.log(`Create media-keys for "${e}"`);const f=u.mediaKeys=l.createMediaKeys().then(m=>(this.log(`Media-keys created for "${e}"`),u.hasMediaKeys=!0,d.then(p=>p?this.setMediaKeysServerCertificate(m,e,p):m)));return f.catch(m=>{this.error(`Failed to create media-keys for "${e}"}: ${m}`)}),f})}return c.then(()=>o.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${Qd(e.keyId||[])} keyUri: ${e.uri}`);const i=n.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=IS(r),a="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,a,r.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}updateKeySession(e,r){const n=e.mediaKeysSession;return this.log(`Updating key-session "${n.sessionId}" for keyId ${Qd(e.decryptdata.keyId||[])}
      } (data length: ${r.byteLength})`),n.update(r)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>$I(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:r,mediaKeys:n})=>this.attemptSetMediaKeys(r,n))}selectKeySystem(e){return new Promise((r,n)=>{this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const a=$I(i);a?r(a):n(new Error(`Unable to find format for key-system "${i}"`))}).catch(n)})}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){const r=Dw(this.config),n=e.map(wj).filter(i=>!!i&&r.indexOf(i)!==-1);return this.selectKeySystem(n)}getKeyStatus(e){const{mediaKeySessions:r}=this;for(let n=0;n<r.length;n++){const i=PQe(e,r[n]);if(i)return i}}loadKey(e){const r=e.keyInfo.decryptdata,n=IS(r),i=this.bannedKeyIds[n];if(i||this.getKeyStatus(r)==="internal-error"){const c=FG(i||"internal-error",r);return this.handleError(c,e.frag),Promise.reject(c)}const a=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${a}`);const o=this.keyIdToKeySessionPromise[n];if(!o){const c=this.getKeySystemForKeyPromise(r).then(({keySystem:u,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${a}`),this.attemptSetMediaKeys(u,l).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:u,mediaKeys:l,decryptdata:r}))))).then(u=>{const l="cenc",d=r.pssh?r.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(u,l,d,"playlist-key")});return c.catch(u=>this.handleError(u,e.frag)),this.keyIdToKeySessionPromise[n]=c,c}return o.catch(c=>{if(c instanceof uf){const u=Uo({},c.data);this.getKeyStatus(r)==="internal-error"&&(u.decryptdata=r);const l=new uf(u,c.message);this.handleError(l,e.frag)}}),o}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e,r){if(this.hls)if(e instanceof uf){r&&(e.data.frag=r);const n=e.data.decryptdata;this.error(`${e.message}${n?` (${Qd(n.keyId||[])})`:""}`),this.hls.trigger(Le.ERROR,e.data)}else this.error(e.message),this.hls.trigger(Le.ERROR,{type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0})}getKeySystemForKeyPromise(e){const r=IS(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=wj(e.keyFormat),a=i?[i]:Dw(this.config);return this.attemptKeySystemAccess(a)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=Dw(this.config)),e.length===0)throw new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${ml({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,r){if(this.mediaResolved=void 0,this.mediaKeys===r)return Promise.resolve();const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>this.media?this.media.setMediaKeys(r):new Promise((a,o)=>{this.mediaResolved=()=>{if(this.mediaResolved=void 0,!this.media)return o(new Error("Attempted to set mediaKeys without media element attached"));this.mediaKeys=r,this.media.setMediaKeys(r).then(a).catch(o)}}));return this.mediaKeys=r,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>n.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var a;const o=(a=this.config.drmSystems)==null||(a=a[e.keySystem])==null?void 0:a.generateRequest;if(o)try{const g=o.call(this.hls,r,n,e);if(!g)throw new Error("Invalid response from configured generateRequest filter");r=g.initDataType,n=g.initData?g.initData:null,e.decryptdata.pssh=n?new Uint8Array(n):null}catch(g){if(this.warn(g.message),this.hls&&this.hls.config.debug)throw g}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const c=IS(e.decryptdata),u=e.decryptdata.uri;this.log(`Generating key-session request for "${i}" keyId: ${c} URI: ${u} (init data type: ${r} length: ${n.byteLength})`);const l=new tU,d=e._onmessage=g=>{const x=e.mediaKeysSession;if(!x){l.emit("error",new Error("invalid state"));return}const{messageType:y,message:w}=g;this.log(`"${y}" message event for session "${x.sessionId}" message size: ${w.byteLength}`),y==="license-request"||y==="license-renewal"?this.renewLicense(e,w).catch(E=>{l.eventNames().length?l.emit("error",E):this.handleError(E)}):y==="license-release"?e.keySystem===mc.FAIRPLAY&&this.updateKeySession(e,RO("acknowledged")).then(()=>this.removeSession(e)).catch(E=>this.handleError(E)):this.warn(`unhandled media key message type "${y}"`)},f=(g,x)=>{x.keyStatus=g;let y;g.startsWith("usable")?l.emit("resolved"):g==="internal-error"||g==="output-restricted"||g==="output-downscaled"?y=FG(g,x.decryptdata):g==="expired"?y=new Error(`key expired (keyId: ${c})`):g==="released"?y=new Error("key released"):g==="status-pending"||this.warn(`unhandled key status change "${g}" (keyId: ${c})`),y&&(l.eventNames().length?l.emit("error",y):this.handleError(y))},m=e._onkeystatuseschange=g=>{if(!e.mediaKeysSession){l.emit("error",new Error("invalid state"));return}const y=this.getKeyStatuses(e);if(!Object.keys(y).some(N=>y[N]!=="status-pending"))return;if(y[c]==="expired"){this.log(`Expired key ${ml(y)} in key-session "${e.mediaKeysSession.sessionId}"`),this.renewKeySession(e);return}let E=y[c];if(E)f(E,e);else{var _;e.keyStatusTimeouts||(e.keyStatusTimeouts={}),(_=e.keyStatusTimeouts)[c]||(_[c]=self.setTimeout(()=>{if(!e.mediaKeysSession||!this.mediaKeys)return;const C=this.getKeyStatus(e.decryptdata);if(C&&C!=="status-pending")return this.log(`No status for keyId ${c} in key-session "${e.mediaKeysSession.sessionId}". Using session key-status ${C} from other session.`),f(C,e);this.log(`key status for ${c} in key-session "${e.mediaKeysSession.sessionId}" timed out after 1000ms`),E="internal-error",f(E,e)},1e3)),this.log(`No status for keyId ${c} (${ml(y)}).`)}};wh(e.mediaKeysSession,"message",d),wh(e.mediaKeysSession,"keystatuseschange",m);const p=new Promise((g,x)=>{l.on("error",x),l.on("resolved",g)});return e.mediaKeysSession.generateRequest(r,n).then(()=>{this.log(`Request generated for key-session "${e.mediaKeysSession.sessionId}" keyId: ${c} URI: ${u}`)}).catch(g=>{throw new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_NO_SESSION,error:g,decryptdata:e.decryptdata,fatal:!1},`Error generating key-session request: ${g}`)}).then(()=>p).catch(g=>(l.removeAllListeners(),this.removeSession(e).then(()=>{throw g}))).then(()=>(l.removeAllListeners(),e))}getKeyStatuses(e){const r={};return e.mediaKeysSession.keyStatuses.forEach((n,i)=>{if(typeof i=="string"&&typeof n=="object"){const c=i;i=n,n=c}const a="buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i);if(e.keySystem===mc.PLAYREADY&&a.length===16){const c=Qd(a);r[c]=n,fse(a)}const o=Qd(a);n==="internal-error"&&(this.bannedKeyIds[o]=n),this.log(`key status change "${n}" for keyStatuses keyId: ${o} key-session "${e.mediaKeysSession.sessionId}"`),r[o]=n}),r}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,c)=>{const u={responseType:"arraybuffer",url:a},l=r.certLoadPolicy.default,d={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(m,p,g,x)=>{o(m.data)},onError:(m,p,g,x)=>{c(new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:Uo({url:u.url,data:void 0},m)},`"${e}" certificate request failed (${a}). Status: ${m.code} (${m.text})`))},onTimeout:(m,p,g)=>{c(new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:g,response:{url:u.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(m,p,g)=>{c(new Error("aborted"))}};i.load(u,d,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,a)=>{e.setServerCertificate(n).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${n.byteLength}) on "${r}"`),i(e)}).catch(o=>{a(new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_SESSION_UPDATE_FAILED,decryptdata:e.decryptdata,error:i,fatal:!1},i.message)}))}unpackPlayReadyKeyMessage(e,r){const n=String.fromCharCode.apply(null,new Uint16Array(r.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),r;const i=new DOMParser().parseFromString(n,"application/xml"),a=i.querySelectorAll("HttpHeader");if(a.length>0){let d;for(let f=0,m=a.length;f<m;f++){var o,c;d=a[f];const p=(o=d.querySelector("name"))==null?void 0:o.textContent,g=(c=d.querySelector("value"))==null?void 0:c.textContent;p&&g&&e.setRequestHeader(p,g)}}const u=i.querySelector("Challenge"),l=u?.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return RO(atob(l))}setupLicenseXHR(e,r,n,i){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,r,n,i)}).catch(o=>{if(!n.decryptdata)throw o;return e.open("POST",r,!0),a.call(this.hls,e,r,n,i)}).then(o=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,a)=>{const o=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${o}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let u=c.response;this.log(`License received ${u instanceof ArrayBuffer?u.byteLength:u}`);const l=this.config.licenseResponseCallback;if(l)try{u=l.call(this.hls,c,o,e)}catch(d){this.error(d)}i(u)}else{const u=n.errorRetry,l=u?u.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||c.status>=400&&c.status<500)a(new uf({type:Oi.KEY_SYSTEM_ERROR,details:wr.KEY_SYSTEM_LICENSE_REQUEST_FAILED,decryptdata:e.decryptdata,fatal:!0,networkDetails:c,response:{url:o,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${o}). Status: ${c.status} (${c.statusText})`));else{const d=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${d} attempts left`),this.requestLicense(e,r).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=c,this.setupLicenseXHR(c,o,e,r).then(({xhr:u,licenseChallenge:l})=>{e.keySystem==mc.PLAYREADY&&(l=this.unpackPlayReadyKeyMessage(u,l)),u.send(l)}).catch(a)})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,wh(n,"encrypted",this.onMediaEncrypted),wh(n,"waitingforkey",this.onWaitingForKey);const i=this.mediaResolved;i?i():this.mediaKeys=n.mediaKeys}onMediaDetached(){const e=this.media;e&&(Vh(e,"encrypted",this.onMediaEncrypted),Vh(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},this.bannedKeyIds={};const r=this.mediaResolved;if(r&&r(),!this.mediaKeys&&!this.mediaKeySessions.length)return;const n=this.media,i=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,R0.clearKeyUriToKeyIdMap();const a=i.length;kb.CDMCleanupPromise=Promise.all(i.map(o=>this.removeSession(o)).concat((n==null||(e=n.setMediaKeys(null))==null?void 0:e.catch(o=>{this.log(`Could not clear media keys: ${o}`),this.hls&&this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${o}`)})}))||Promise.resolve())).catch(o=>{this.log(`Could not close sessions and clear media keys: ${o}`),this.hls&&this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${o}`)})}).then(()=>{a&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this._clear()}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,a)=>(i.indexOf(a.keyFormat)===-1&&i.push(a.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n,decryptdata:i}=e;if(r){this.log(`Remove licenses and keys and close session "${r.sessionId}" keyId: ${Qd(i?.keyId||[])}`),e._onmessage&&(r.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(r.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const a=this.mediaKeySessions.indexOf(e);a>-1&&this.mediaKeySessions.splice(a,1);const{keyStatusTimeouts:o}=e;o&&Object.keys(o).forEach(l=>self.clearTimeout(o[l]));const{drmSystemOptions:c}=this.config;return(A9e(c)?new Promise((l,d)=>{self.setTimeout(()=>d(new Error("MediaKeySession.remove() timeout")),8e3),r.remove().then(l).catch(d)}):Promise.resolve()).catch(l=>{this.log(`Could not remove session: ${l}`),this.hls&&this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${l}`)})}).then(()=>r.close()).catch(l=>{this.log(`Could not close session: ${l}`),this.hls&&this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${l}`)})})}return Promise.resolve()}}kb.CDMCleanupPromise=void 0;function IS(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(t.keyId===null)throw new Error("keyId is null");return Qd(t.keyId)}function PQe(t,e){if(t.keyId&&e.mediaKeysSession.keyStatuses.has(t.keyId))return e.mediaKeysSession.keyStatuses.get(t.keyId);if(t.matches(e.decryptdata))return e.keyStatus}class uf extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}function FG(t,e){const r=t==="output-restricted",n=r?wr.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:wr.KEY_SYSTEM_STATUS_INTERNAL_ERROR;return new uf({type:Oi.KEY_SYSTEM_ERROR,details:n,fatal:!1,decryptdata:e},r?"HDCP level output restricted":`key status changed to "${t}"`)}class OQe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const a=i-this.lastTime,o=n-this.lastDroppedFrames,c=r-this.lastDecodedFrames,u=1e3*o/a,l=this.hls;if(l.trigger(Le.FPS_DROP,{currentDropped:o,currentDecoded:c,totalDroppedFrames:n}),u>0&&o>l.config.fpsDroppedMonitoringThreshold*c){let d=l.currentLevel;l.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(l.autoLevelCapping===-1||l.autoLevelCapping>=d)&&(d=d-1,l.trigger(Le.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function sae(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function aae(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){Ho.debug(`[texttrack-utils]: ${n}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}catch(i){Ho.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}r==="disabled"&&(t.mode=r)}function Ab(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)e&&t.cues[n].removeEventListener("enter",e),t.removeCue(t.cues[n]);r==="disabled"&&(t.mode=r)}function VO(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const a=DQe(t.cues,e,r);for(let o=0;o<a.length;o++)(!n||n(a[o]))&&t.removeCue(a[o])}i==="disabled"&&(t.mode=i)}function RQe(t,e){if(e<=t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r,a;for(;n<=i;)if(a=Math.floor((i+n)/2),e<t[a].startTime)i=a-1;else if(e>t[a].startTime&&n<r)n=a+1;else return a;return t[n].startTime-e<e-t[i].startTime?n:i}function DQe(t,e,r){const n=[],i=RQe(t,e);if(i>-1)for(let a=i,o=t.length;a<o;a++){const c=t[a];if(c.startTime>=e&&c.endTime<=r)n.push(c);else if(c.startTime>r)return n}return n}function jj(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class MQe extends lU{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let r=null;const n=jj(this.media.textTracks);for(let a=0;a<n.length;a++)if(n[a].mode==="hidden")r=n[a];else if(n[a].mode==="showing"){r=n[a];break}const i=this.findTrackForTextTrack(r);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Le.LEVEL_LOADING,this.onLevelLoading,this),e.on(Le.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(Le.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Le.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Le.LEVEL_LOADING,this.onLevelLoading,this),e.off(Le.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(Le.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Le.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,r){const n=this.media;if(!n)return;const i=!!r.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||n.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;jj(n.textTracks).forEach(o=>{Ab(o)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,o=this.tracksInGroup[n];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${n} and group:${i} not found in active group ${o?.groupId}`);return}const c=o.details;o.details=r.details,this.log(`Subtitle track ${n} "${o.name}" lang:${o.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,c)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!r)return;const n=r.subtitleGroups||null,i=this.groupIds;let a=this.currentTrack;if(!n||i?.length!==n?.length||n!=null&&n.some(o=>i?.indexOf(o)===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(d=>!n||n.indexOf(d.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(d=>d.default)&&(this.selectDefaultTrack=!1),o.forEach((d,f)=>{d.id=f});else if(!a&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const c=this.hls.config.subtitlePreference;if(!a&&c){this.selectDefaultTrack=!1;const d=FA(c,o);if(d>-1)a=o[d];else{const f=FA(c,this.tracks);a=this.tracks[f]}}let u=this.findTrackId(a);u===-1&&a&&(u=this.findTrackId(null));const l={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${n?.join(",")}" group-id`),this.hls.trigger(Le.SUBTITLE_TRACKS_UPDATED,l),u!==-1&&this.trackId===-1&&this.setSubtitleTrack(u)}}findTrackId(e){const r=this.tracksInGroup,n=this.selectDefaultTrack;for(let i=0;i<r.length;i++){const a=r[i];if(!(n&&!a.default||!n&&!e)&&(!e||lx(a,e)))return i}if(e){for(let i=0;i<r.length;i++){const a=r[i];if(y2(e.attrs,a.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<r.length;i++){const a=r[i];if(y2(e.attrs,a.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if($O(i,e))return n}}return-1}onError(e,r){r.fatal||!r.context||r.context.type===ya.SUBTITLE_TRACK&&r.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(r.context.groupId)!==-1)&&this.checkRetry(r)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const r=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,r.length){const n=this.currentTrack;if(n&&lx(e,n))return n;const i=FA(e,this.tracksInGroup);if(i>-1){const a=this.tracksInGroup[i];return this.setSubtitleTrack(i),a}else{if(n)return null;{const a=FA(e,r);if(a>-1)return r[a]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=e.id,i=e.groupId,a=this.getUrlWithDirectives(e.url,r),o=e.details,c=o?.age;this.log(`Loading subtitle ${n} "${e.name}" lang:${e.lang} group:${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${c&&o.live?" age "+c.toFixed(1)+(o.type&&" "+o.type||""):""} ${a}`),this.hls.trigger(Le.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:r||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const r=jj(e.textTracks),n=this.currentTrack;let i;if(n&&(i=r.filter(a=>$O(n,a))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(r).forEach(a=>{a.mode!=="disabled"&&a!==i&&(a.mode="disabled")}),i){const a=this.subtitleDisplay?"showing":"hidden";i.mode!==a&&(i.mode=a)}}setSubtitleTrack(e){const r=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=r.length||!Jn(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const n=this.currentTrack,i=r[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(Le.SUBTITLE_TRACK_SWITCH,{id:e});return}const a=!!i.details&&!i.details.live;if(e===this.trackId&&i===n&&a)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:c="",name:u,type:l,url:d}=i;this.hls.trigger(Le.SUBTITLE_TRACK_SWITCH,{id:o,groupId:c,name:u,type:l,url:d});const f=this.switchParams(i.url,n?.details,i.details);this.loadPlaylist(f)}}function FQe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}catch{let r=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const a=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(i=="x"?a:a&3|8).toString(16)})}}}function _E(t){let e=5381,r=t.length;for(;r;)e=e*33^t.charCodeAt(--r);return(e>>>0).toString()}const Lb=.025;let gN=(function(t){return t[t.Point=0]="Point",t[t.Range=1]="Range",t})({});function UQe(t,e,r){return`${t.identifier}-${r+1}-${_E(e)}`}class $Qe{constructor(e,r){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=r,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var r;if(e>0&&e>=this.assetList.length)return!0;const n=this.playoutLimit;return e<=0||isNaN(n)?!1:n===0?!0:(((r=this.assetList[e])==null?void 0:r.startOffset)||0)>n}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const r=this.dateRange.tagAnchor;if(r)return qI(e,r)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const r=this.dateRange.startTime,n=qI(r,e);return r-n<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,r=Jn(e)?e:this.duration;return this.cumulativeDuration+r}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const r=this.resumeAnchor;if(r)return qI(e,r)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<Lb))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let r;return this._duration!==null?r=this._duration:this.dateRange.duration?r=this.dateRange.duration:r=this.dateRange.plannedDuration||0,!isNaN(e)&&e<r&&(r=e),r}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?gN.Range:gN.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return HQe(this)}}function qI(t,e){return t-e.start<e.duration/2&&!(Math.abs(t-(e.start+e.duration))<Lb)?e.start:e.start+e.duration}function oae(t,e,r){const n=new self.URL(t,r);return n.protocol!=="data:"&&n.searchParams.set("_HLS_primary_id",e),n}function XI(t,e){for(;(r=t.assetList[++e])!=null&&r.error;)var r;return e}function HQe(t){return`["${t.identifier}" ${t.cue.pre?"<pre>":t.cue.post?"<post>":""}${t.timelineStart.toFixed(2)}-${t.resumeTime.toFixed(2)}]`}function Py(t){const e=t.timelineStart,r=t.duration||0;return`["${t.identifier}" ${e.toFixed(2)}-${(e+r).toFixed(2)}]`}class QQe{constructor(e,r,n,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls&&this.hls.trigger(Le.PLAYOUT_LIMIT_REACHED,{})};const a=this.hls=new e(r);this.interstitial=n,this.assetItem=i;const o=()=>{this.hasDetails=!0};a.once(Le.LEVEL_LOADED,o),a.once(Le.AUDIO_TRACK_LOADED,o),a.once(Le.SUBTITLE_TRACK_LOADED,o),a.on(Le.MEDIA_ATTACHING,(c,{media:u})=>{this.removeMediaListeners(),this.mediaAttached=u,this.interstitial.playoutLimit&&(u.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&a.on(Le.BUFFER_APPENDED,()=>{const d=this.bufferedEnd;this.reachedPlayout(d)&&(this._bufferedEosTime=d,a.trigger(Le.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){return this.interstitial.appendInPlace}loadSource(){const e=this.hls;if(e)if(e.url)e.levels.length&&!e.started&&e.startLoad(-1,!0);else{let r=this.assetItem.uri;try{r=oae(r,e.config.primarySessionId||"").href}catch{}e.loadSource(r)}}bufferedInPlaceToEnd(e){var r;if(!this.appendInPlace)return!1;if((r=this.hls)!=null&&r.bufferedToEnd)return!0;if(!e)return!1;const n=Math.min(this._bufferedEosTime||1/0,this.duration),i=this.timelineOffset,a=Hs.bufferInfo(e,i,0);return this.getAssetTime(a.end)>=n-.02}reachedPlayout(e){const n=this.interstitial.playoutLimit;return this.startOffset+e>=n}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const r=Hs.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(r.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;if(!e)return 0;const r=this.interstitial.playoutLimit;if(r){const n=r-this.startOffset;if(n>0&&n<e)return n}return e}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const r=this.timelineOffset;if(e!==r){const n=e-r;if(Math.abs(n)>1/9e4&&this.hls){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const r=this.timelineOffset,n=this.duration;return Math.min(Math.max(0,e-r),n)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls&&this.hls.destroy(),this.hls=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){var r;this.loadSource(),(r=this.hls)==null||r.attachMedia(e)}detachMedia(){var e;this.removeMediaListeners(),this.mediaAttached=null,(e=this.hls)==null||e.detachMedia()}resumeBuffering(){var e;(e=this.hls)==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.hls)==null||e.pauseBuffering()}transferMedia(){var e;return this.bufferSnapShot(),((e=this.hls)==null?void 0:e.transferMedia())||null}resetDetails(){const e=this.hls;if(e&&this.hasDetails){e.stopLoad();const r=n=>delete n.details;e.levels.forEach(r),e.allAudioTracks.forEach(r),e.allSubtitleTracks.forEach(r),this.hasDetails=!1}}on(e,r,n){var i;(i=this.hls)==null||i.on(e,r)}once(e,r,n){var i;(i=this.hls)==null||i.once(e,r)}off(e,r,n){var i;(i=this.hls)==null||i.off(e,r)}toString(){var e;return`HlsAssetPlayer: ${Py(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const UG=.033;class zQe extends cm{constructor(e,r){super("interstitials-sched",r),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,r){return this.events?this.events.reduce((n,i)=>e<=i.startOffset&&r>i.startOffset?(delete i.error,n+1):n,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,r){if(e.event)return this.findEventIndex(e.event.identifier);let n=-1;e.nextEvent?n=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(n=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[n]||(r===void 0&&(r=e.start),n=this.findItemIndexAtTime(r));n>=0&&(a=i[n])!=null&&a.event;){var a;n--}return n}findItemIndexAtTime(e,r){const n=this.items;if(n)for(let i=0;i<n.length;i++){let a=n[i];if(r&&r!=="primary"&&(a=a[r]),e===a.start||e>a.start&&e<a.end)return i}return-1}findJumpRestrictedIndex(e,r){const n=this.items;if(n)for(let i=e;i<=r&&n[i];i++){const a=n[i].event;if(a!=null&&a.restrictions.jump&&!a.appendInPlace)return i}return-1}findEventIndex(e){const r=this.items;if(r)for(let i=r.length;i--;){var n;if(((n=r[i].event)==null?void 0:n.identifier)===e)return i}return-1}findAssetIndex(e,r){const n=e.assetList,i=n.length;if(i>1)for(let a=0;a<i;a++){const o=n[a];if(!o.error){const c=o.timelineStart;if(r===c||r>c&&(r<c+(o.duration||0)||a===i-1))return a}}return 0}get assetIdAtEnd(){var e;const r=(e=this.items)==null||(e=e[this.length-1])==null?void 0:e.event;if(r){const n=r.assetList,i=n[n.length-1];if(i)return i.identifier}return null}parseInterstitialDateRanges(e,r){const n=e.main.details,{dateRanges:i}=n,a=this.events,o=this.parseDateRanges(i,{url:n.url},r),c=Object.keys(i),u=a?a.filter(l=>!c.includes(l.identifier)):[];o.length&&o.sort((l,d)=>{const f=l.cue.pre,m=l.cue.post,p=d.cue.pre,g=d.cue.post;if(f&&!p)return-1;if(p&&!f||m&&!g)return 1;if(g&&!m)return-1;if(!f&&!p&&!m&&!g){const x=l.startTime,y=d.startTime;if(x!==y)return x-y}return l.dateRange.tagOrder-d.dateRange.tagOrder}),this.events=o,u.forEach(l=>{this.removeEvent(l)}),this.updateSchedule(e,u)}updateSchedule(e,r=[],n=!1){const i=this.events||[];if(i.length||r.length||this.length<2){const a=this.items,o=this.parseSchedule(i,e);(n||r.length||a?.length!==o.length||o.some((u,l)=>Math.abs(u.playout.start-a[l].playout.start)>.005||Math.abs(u.playout.end-a[l].playout.end)>.005))&&(this.items=o,this.onScheduleUpdate(r,a))}}parseDateRanges(e,r,n){const i=[],a=Object.keys(e);for(let o=0;o<a.length;o++){const c=a[o],u=e[c];if(u.isInterstitial){let l=this.eventMap[c];l?l.setDateRange(u):(l=new $Qe(u,r),this.eventMap[c]=l,n===!1&&(l.appendInPlace=n)),i.push(l)}}return i}parseSchedule(e,r){const n=[],i=r.main.details,a=i.live?1/0:i.edge;let o=0;if(e=e.filter(u=>!u.error&&!(u.cue.once&&u.hasPlayed)),e.length){this.resolveOffsets(e,r);let u=0,l=0;if(e.forEach((d,f)=>{const m=d.cue.pre,p=d.cue.post,g=e[f-1]||null,x=d.appendInPlace,y=p?a:d.startOffset,w=d.duration,E=d.timelineOccupancy===gN.Range?w:0,_=d.resumptionOffset,N=g?.startTime===y,C=y+d.cumulativeDuration;let I=x?C+w:y+_;if(m||!p&&y<=0){const M=l;l+=E,d.timelineStart=C;const Y=o;o+=w,n.push({event:d,start:C,end:I,playout:{start:Y,end:o},integrated:{start:M,end:l}})}else if(y<=a){if(!N){const X=y-u;if(X>UG){const te=u,de=l;l+=X;const ye=o;o+=X;const we={previousEvent:e[f-1]||null,nextEvent:d,start:te,end:te+X,playout:{start:ye,end:o},integrated:{start:de,end:l}};n.push(we)}else X>0&&g&&(g.cumulativeDuration+=X,n[n.length-1].end=y)}p&&(I=C),d.timelineStart=C;const M=l;l+=E;const Y=o;o+=w,n.push({event:d,start:C,end:I,playout:{start:Y,end:o},integrated:{start:M,end:l}})}else return;const D=d.resumeTime;p||D>a?u=a:u=D}),u<a){var c;const d=u,f=l,m=a-u;l+=m;const p=o;o+=m,n.push({previousEvent:((c=n[n.length-1])==null?void 0:c.event)||null,nextEvent:null,start:u,end:d+m,playout:{start:p,end:o},integrated:{start:f,end:l}})}this.setDurations(a,o,l)}else n.push({previousEvent:null,nextEvent:null,start:0,end:a,playout:{start:0,end:a},integrated:{start:0,end:a}}),this.setDurations(a,a,a);return n}setDurations(e,r,n){this.durations={primary:e,playout:r,integrated:n}}resolveOffsets(e,r){const n=r.main.details,i=n.live?1/0:n.edge;let a=0,o=-1;e.forEach((c,u)=>{const l=c.cue.pre,d=c.cue.post,f=l?0:d?i:c.startTime;this.updateAssetDurations(c),o===f?c.cumulativeDuration=a:(a=0,o=f),!d&&c.snapOptions.in&&(c.resumeAnchor=Lx(null,n.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,r)||(c.appendInPlace=!1)),!c.appendInPlace&&u+1<e.length&&e[u+1].startTime-e[u].resumeTime<UG&&(e[u+1].appendInPlace=!1,e[u+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const p=Jn(c.resumeOffset)?c.resumeOffset:c.duration;a+=p})}primaryCanResumeInPlaceAt(e,r){const n=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(n-i)>Lb?(this.log(`"${e.identifier}" resumption ${n} not aligned with estimated timeline end ${i}`),!1):!Object.keys(r).some(o=>{const c=r[o].details,u=c.edge;if(n>=u)return this.log(`"${e.identifier}" resumption ${n} past ${o} playlist end ${u}`),!1;const l=Lx(null,c.fragments,n);if(!l)return this.log(`"${e.identifier}" resumption ${n} does not align with any fragments in ${o} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const d=o==="audio"?.175:0;return Math.abs(l.start-n)<Lb+d||Math.abs(l.end-n)<Lb+d?!1:(this.log(`"${e.identifier}" resumption ${n} not aligned with ${o} fragment bounds (${l.start}-${l.end} sn: ${l.sn} cc: ${l.cc})`),!0)})}updateAssetDurations(e){if(!e.assetListLoaded)return;const r=e.timelineStart;let n=0,i=!1,a=!1;for(let o=0;o<e.assetList.length;o++){const c=e.assetList[o],u=r+n;c.startOffset=n,c.timelineStart=u,i||(i=c.duration===null),a||(a=!!c.error);const l=c.error?0:c.duration||0;n+=l}i&&!a?e.duration=Math.max(n,e.duration):e.duration=n}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function wm(t){return`[${t.event?'"'+t.event.identifier+'"':"primary"}: ${t.start.toFixed(2)}-${t.end.toFixed(2)}]`}class VQe{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,r){const n=e.assetListUrl;let i;try{i=oae(n,this.hls.sessionId,e.baseUrl)}catch(m){const p=this.assignAssetListError(e,wr.ASSET_LIST_LOAD_ERROR,m,n);this.hls.trigger(Le.ERROR,p);return}r&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+r);const a=this.hls.config,o=a.loader,c=new o(a),u={responseType:"json",url:i.href},l=a.interstitialAssetListLoadPolicy.default,d={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(m,p,g,x)=>{const y=m.data,w=y?.ASSETS;if(!Array.isArray(w)){const E=this.assignAssetListError(e,wr.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),g.url,p,x);this.hls.trigger(Le.ERROR,E);return}e.assetListResponse=y,this.hls.trigger(Le.ASSET_LIST_LOADED,{event:e,assetListResponse:y,networkDetails:x})},onError:(m,p,g,x)=>{const y=this.assignAssetListError(e,wr.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${m.code} ${m.text} (${p.url})`),p.url,x,g);this.hls.trigger(Le.ERROR,y)},onTimeout:(m,p,g)=>{const x=this.assignAssetListError(e,wr.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${p.url})`),p.url,m,g);this.hls.trigger(Le.ERROR,x)}};return c.load(u,d,f),this.hls.trigger(Le.ASSET_LIST_LOADING,{event:e}),c}assignAssetListError(e,r,n,i,a,o){return e.error=n,{type:Oi.NETWORK_ERROR,details:r,fatal:!1,interstitial:e,url:i,error:n,networkDetails:o,stats:a}}}function $G(t){var e;t==null||(e=t.play())==null||e.catch(()=>{})}function BS(t,e){return`[${t}] Advancing timeline position to ${e}`}class KQe extends cm{constructor(e,r){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled||!this.schedule)return;const i=n-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const o=i<=-.01;this.timelinePos=n,this.bufferedPos=n;const c=this.playingItem;if(!c){this.checkBuffer();return}if(o&&this.schedule.resetErrorsInRange(n,n-i)&&this.updateSchedule(!0),this.checkBuffer(),o&&n<c.start||n>=c.end){var u;const p=this.findItemIndex(c);let g=this.schedule.findItemIndexAtTime(n);if(g===-1&&(g=p+(o?-1:1),this.log(`seeked ${o?"back ":""}to position not covered by schedule ${n} (resolving from ${p} to ${g})`)),!this.isInterstitial(c)&&(u=this.media)!=null&&u.paused&&(this.shouldPlay=!1),!o&&g>p){const x=this.schedule.findJumpRestrictedIndex(p+1,g);if(x>p){this.setSchedulePosition(x);return}}this.setSchedulePosition(g);return}const l=this.playingAsset;if(!l){if(this.playingLastItem&&this.isInterstitial(c)){const p=c.event.assetList[0];p&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(n,p))}return}const d=l.timelineStart,f=l.duration||0;if(o&&n<d||n>=d+f){var m;(m=c.event)!=null&&m.appendInPlace&&(this.clearAssetPlayers(c.event,c),this.flushFrontBuffer(n)),this.setScheduleToAssetAtTime(n,l)}},this.onTimeupdate=()=>{const n=this.currentTime;if(n===void 0||this.playbackDisabled)return;if(n>this.timelinePos)this.timelinePos=n,n>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(n>=i.end){this.timelinePos=i.end;const c=this.findItemIndex(i);this.setSchedulePosition(c+1)}const a=this.playingAsset;if(!a)return;const o=a.timelineStart+(a.duration||0);n>=o&&this.setScheduleToAssetAtTime(n,a)},this.onScheduleUpdate=(n,i)=>{const a=this.schedule;if(!a)return;const o=this.playingItem,c=a.events||[],u=a.items||[],l=a.durations,d=n.map(x=>x.identifier),f=!!(c.length||d.length);(f||i)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${u.map(x=>wm(x))} pos: ${this.timelinePos}`),d.length&&this.log(`Removed events ${d}`);let m=null,p=null;o&&(m=this.updateItem(o,this.timelinePos),this.itemsMatch(o,m)?this.playingItem=m:this.waitingItem=this.endedItem=null),this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const g=this.bufferingItem;if(g&&(p=this.updateItem(g,this.bufferedPos),this.itemsMatch(g,p)?this.bufferingItem=p:g.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(g.event,null))),n.forEach(x=>{x.assetList.forEach(y=>{this.clearAssetPlayer(y.identifier,null)})}),this.playerQueue.forEach(x=>{if(x.interstitial.appendInPlace){const y=x.assetItem.timelineStart,w=x.timelineOffset-y;if(w)try{x.timelineOffset=y}catch(E){Math.abs(w)>Lb&&this.warn(`${E} ("${x.assetId}" ${x.timelineOffset}->${y})`)}}}),f||i){if(this.hls.trigger(Le.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:u.slice(0),durations:l,removedIds:d}),this.isInterstitial(o)&&d.includes(o.event.identifier)){this.warn(`Interstitial "${o.event.identifier}" removed while playing`),this.primaryFallback(o.event);return}o&&this.trimInPlace(m,o),g&&p!==m&&this.trimInPlace(p,g),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=r,this.assetListLoader=new VQe(e),this.schedule=new zQe(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e&&(e.on(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Le.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Le.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(Le.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Le.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(Le.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(Le.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(Le.BUFFER_APPENDED,this.onBufferAppended,this),e.on(Le.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Le.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(Le.MEDIA_ENDED,this.onMediaEnded,this),e.on(Le.ERROR,this.onError,this),e.on(Le.DESTROYING,this.onDestroying,this))}unregisterListeners(){const e=this.hls;e&&(e.off(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Le.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Le.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(Le.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Le.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(Le.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(Le.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(Le.BUFFER_CODECS,this.onBufferCodecs,this),e.off(Le.BUFFER_APPENDED,this.onBufferAppended,this),e.off(Le.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Le.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(Le.MEDIA_ENDED,this.onMediaEnded,this),e.off(Le.ERROR,this.onError,this),e.off(Le.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.schedule=this.manager=null,this.hls=this.HlsPlayerClass=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){Vh(e,"play",this.onPlay),Vh(e,"pause",this.onPause),Vh(e,"seeking",this.onSeeking),Vh(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,r){const n=this.media=r.media;wh(n,"seeking",this.onSeeking),wh(n,"timeupdate",this.onTimeupdate),wh(n,"play",this.onPlay),wh(n,"pause",this.onPause)}onMediaAttached(e,r){const n=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,n===null)this.checkStart();else if(!i){this.clearScheduleState();const a=this.findItemIndex(n);this.setSchedulePosition(a)}}clearScheduleState(){this.log("clear schedule state"),this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,r){const n=!!r.transferMedia,i=this.media;if(this.media=null,!n&&(i&&this.removeMediaListeners(i),this.detachedData)){const a=this.getBufferingPlayer();a&&(this.log(`Removing schedule state for detachedData and ${a}`),this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,a.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.hls)return null;if(this.manager)return this.manager;const e=this,r=()=>e.bufferingItem||e.waitingItem,n=f=>f&&e.getAssetPlayer(f.identifier),i=(f,m,p,g,x)=>{if(f){let y=f[m].start;const w=f.event;if(w){if(m==="playout"||w.timelineOccupancy!==gN.Point){const E=n(p);E?.interstitial===w&&(y+=E.assetItem.startOffset+E[x])}}else{const E=g==="bufferedPos"?o():e[g];y+=E-f.start}return y}return 0},a=(f,m)=>{var p;if(f!==0&&m!=="primary"&&(p=e.schedule)!=null&&p.length){var g;const x=e.schedule.findItemIndexAtTime(f),y=(g=e.schedule.items)==null?void 0:g[x];if(y){const w=y[m].start-y.start;return f+w}}return f},o=()=>{const f=e.bufferedPos;return f===Number.MAX_VALUE?c("primary"):Math.max(f,0)},c=f=>{var m,p;return(m=e.primaryDetails)!=null&&m.live?e.primaryDetails.edge:((p=e.schedule)==null?void 0:p.durations[f])||0},u=(f,m)=>{var p,g;const x=e.effectivePlayingItem;if(x!=null&&(p=x.event)!=null&&p.restrictions.skip||!e.schedule)return;e.log(`seek to ${f} "${m}"`);const y=e.effectivePlayingItem,w=e.schedule.findItemIndexAtTime(f,m),E=(g=e.schedule.items)==null?void 0:g[w],_=e.getBufferingPlayer(),N=_?.interstitial,C=N?.appendInPlace,I=y&&e.itemsMatch(y,E);if(y&&(C||I)){const D=n(e.playingAsset),M=D?.media||e.primaryMedia;if(M){const Y=m==="primary"?M.currentTime:i(y,m,e.playingAsset,"timelinePos","currentTime"),X=f-Y,te=(C?Y:M.currentTime)+X;if(te>=0&&(!D||C||te<=D.duration)){M.currentTime=te;return}}}if(E){let D=f;if(m!=="primary"){const Y=E[m].start,X=f-Y;D=E.start+X}const M=!e.isInterstitial(E);if((!e.isInterstitial(y)||y.event.appendInPlace)&&(M||E.event.appendInPlace)){const Y=e.media||(C?_?.media:null);Y&&(Y.currentTime=D)}else if(y){const Y=e.findItemIndex(y);if(w>Y){const te=e.schedule.findJumpRestrictedIndex(Y+1,w);if(te>Y){e.setSchedulePosition(te);return}}let X=0;if(M)e.timelinePos=D,e.checkBuffer();else{const te=E.event.assetList,de=f-(E[m]||E).start;for(let ye=te.length;ye--;){const we=te[ye];if(we.duration&&de>=we.startOffset&&de<we.startOffset+we.duration){X=ye;break}}}e.setSchedulePosition(w,X)}}},l=()=>{const f=e.effectivePlayingItem;if(e.isInterstitial(f))return f;const m=r();return e.isInterstitial(m)?m:null},d={get bufferedEnd(){const f=r(),m=e.bufferingItem;if(m&&m===f){var p;return i(m,"playout",e.bufferingAsset,"bufferedPos","bufferedEnd")-m.playout.start||((p=e.bufferingAsset)==null?void 0:p.startOffset)||0}return 0},get currentTime(){const f=l(),m=e.effectivePlayingItem;return m&&m===f?i(m,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-m.playout.start:0},set currentTime(f){const m=l(),p=e.effectivePlayingItem;p&&p===m&&u(f+p.playout.start,"playout")},get duration(){const f=l();return f?f.playout.end-f.playout.start:0},get assetPlayers(){var f;const m=(f=l())==null?void 0:f.event.assetList;return m?m.map(p=>e.getAssetPlayer(p.identifier)):[]},get playingIndex(){var f;const m=(f=l())==null?void 0:f.event;return m&&e.effectivePlayingAsset?m.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return l()}};return this.manager={get events(){var f;return((f=e.schedule)==null||(f=f.events)==null?void 0:f.slice(0))||[]},get schedule(){var f;return((f=e.schedule)==null||(f=f.items)==null?void 0:f.slice(0))||[]},get interstitialPlayer(){return l()?d:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return r()},get bufferingIndex(){const f=r();return e.findItemIndex(f)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const f=e.effectivePlayingItem;return e.findItemIndex(f)},primary:{get bufferedEnd(){return o()},get currentTime(){const f=e.timelinePos;return f>0?f:0},set currentTime(f){u(f,"primary")},get duration(){return c("primary")},get seekableStart(){var f;return((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(r(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(f){u(f,"integrated")},get duration(){return c("integrated")},get seekableStart(){var f;return a(((f=e.primaryDetails)==null?void 0:f.fragmentStart)||0,"integrated")}},skip:()=>{const f=e.effectivePlayingItem,m=f?.event;if(m&&!m.restrictions.skip){const p=e.findItemIndex(f);if(m.appendInPlace){const g=f.playout.start+f.event.duration;u(g+.001,"playout")}else e.advanceAfterAssetEnded(m,p,1/0)}}}}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const r=this.playingItem,n=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!r||!n?!1:this.findItemIndex(r)===n.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,r;if(this.mediaSelection===null)return;const n=this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&!n.event.appendInPlace)return;let i=this.media;!i&&(e=this.bufferingItem)!=null&&(e=e.event)!=null&&e.appendInPlace&&(i=this.primaryMedia);const a=(r=i)==null?void 0:r.currentTime;if(!(a===void 0||!Jn(a)))return a}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,r){const n=this.getAssetPlayer(e);n&&this.transferMediaFromPlayer(n,r)}transferMediaFromPlayer(e,r){const n=e.interstitial.appendInPlace,i=e.media;if(n&&i===this.primaryMedia){if(this.bufferingAsset=null,(!r||this.isInterstitial(r)&&!r.event.appendInPlace)&&r&&i){this.detachedData={media:i};return}const a=e.transferMedia();this.log(`transfer MediaSource from ${e} ${ml(a)}`),this.detachedData=a}else r&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,r){var n,i;if(e.media===r)return;let a=null;const o=this.hls,c=e!==o,u=c&&e.interstitial.appendInPlace,l=(n=this.detachedData)==null?void 0:n.mediaSource;let d;if(o.media)u&&(a=o.transferMedia(),this.detachedData=a),d="Primary";else if(l){const g=this.getBufferingPlayer();g?(a=g.transferMedia(),d=`${g}`):d="detached MediaSource"}else d="detached media";if(!a){if(l)a=this.detachedData,this.log(`using detachedData: MediaSource ${ml(a)}`);else if(!this.detachedData||o.media===r){const g=this.playerQueue;g.length>1&&g.forEach(x=>{if(c&&x.interstitial.appendInPlace!==u){const y=x.interstitial;this.clearInterstitial(x.interstitial,null),y.appendInPlace=!1,y.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${y}`)}}),this.hls.detachMedia(),this.detachedData={media:r}}}const f=a&&"mediaSource"in a&&((i=a.mediaSource)==null?void 0:i.readyState)!=="closed",m=f&&a?a:r;this.log(`${f?"transfering MediaSource":"attaching media"} to ${c?e:"Primary"} from ${d} (media.currentTime: ${r.currentTime})`);const p=this.schedule;if(m===a&&p){const g=c&&e.assetId===p.assetIdAtEnd;m.overrides={duration:p.duration,endOfStream:!c||g,cueRemoval:!c}}e.attachMedia(m)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,r=e?.events;if(!r||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const n=this.timelinePos,i=this.effectivePlayingItem;if(n===-1){const a=this.hls.startPosition;if(this.log(BS("checkStart",a)),this.timelinePos=a,r.length&&r[0].cue.pre){const o=e.findEventIndex(r[0].identifier);this.setSchedulePosition(o)}else if(a>=0||!this.primaryLive){const o=this.timelinePos=a>0?a:0,c=e.findItemIndexAtTime(o);this.setSchedulePosition(c)}}else if(i&&!this.playingItem){const a=e.findItemIndex(i);this.setSchedulePosition(a)}}advanceAssetBuffering(e,r){const n=e.event,i=n.findAssetIndex(r),a=XI(n,i);if(!n.isAssetPastPlayoutLimit(a))this.bufferedToEvent(e,a);else if(this.schedule){var o;const c=(o=this.schedule.items)==null?void 0:o[this.findItemIndex(e)+1];c&&this.bufferedToItem(c)}}advanceAfterAssetEnded(e,r,n){const i=XI(e,n);if(e.isAssetPastPlayoutLimit(i)){if(this.schedule){const a=this.schedule.items;if(a){const o=r+1,c=a.length;if(o>=c){this.setSchedulePosition(-1);return}const u=e.resumeTime;this.timelinePos<u&&(this.log(BS("advanceAfterAssetEnded",u)),this.timelinePos=u,e.appendInPlace&&this.advanceInPlace(u),this.checkBuffer(this.bufferedPos<u)),this.setSchedulePosition(o)}}}else{if(e.appendInPlace){const a=e.assetList[i];a&&this.advanceInPlace(a.timelineStart)}this.setSchedulePosition(r,i)}}setScheduleToAssetAtTime(e,r){const n=this.schedule;if(!n)return;const i=r.parentIdentifier,a=n.getEvent(i);if(a){const o=n.findEventIndex(i),c=n.findAssetIndex(a,e);this.advanceAfterAssetEnded(a,o,c-1)}}setSchedulePosition(e,r){var n;const i=(n=this.schedule)==null?void 0:n.items;if(!i||this.playbackDisabled)return;const a=e>=0?i[e]:null;this.log(`setSchedulePosition ${e}, ${r} (${a&&wm(a)}) pos: ${this.timelinePos}`);const o=this.waitingItem||this.playingItem,c=this.playingLastItem;if(this.isInterstitial(o)){const d=o.event,f=this.playingAsset,m=f?.identifier,p=m?this.getAssetPlayer(m):null;if(p&&m&&(!this.eventItemsMatch(o,a)||r!==void 0&&m!==d.assetList[r].identifier)){var u;const g=d.findAssetIndex(f);if(this.log(`INTERSTITIAL_ASSET_ENDED ${g+1}/${d.assetList.length} ${Py(f)}`),this.endedAsset=f,this.playingAsset=null,this.hls.trigger(Le.INTERSTITIAL_ASSET_ENDED,{asset:f,assetListIndex:g,event:d,schedule:i.slice(0),scheduleIndex:e,player:p}),o!==this.playingItem){this.itemsMatch(o,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(d,this.findItemIndex(this.playingItem),g);return}this.retreiveMediaSource(m,a),p.media&&!((u=this.detachedData)!=null&&u.mediaSource)&&p.detachMedia()}if(!this.eventItemsMatch(o,a)&&(this.endedItem=o,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${d} ${wm(o)}`),d.hasPlayed=!0,this.hls.trigger(Le.INTERSTITIAL_ENDED,{event:d,schedule:i.slice(0),scheduleIndex:e}),d.cue.once)){var l;this.updateSchedule();const g=(l=this.schedule)==null?void 0:l.items;if(a&&g){const x=this.findItemIndex(a);this.advanceSchedule(x,g,r,o,c)}return}}this.advanceSchedule(e,i,r,o,c)}advanceSchedule(e,r,n,i,a){const o=this.schedule;if(!o)return;const c=r[e]||null,u=this.primaryMedia,l=this.playerQueue;if(l.length&&l.forEach(d=>{const f=d.interstitial,m=o.findEventIndex(f.identifier);(m<e||m>e+1)&&this.clearInterstitial(f,c)}),this.isInterstitial(c)){this.timelinePos=Math.min(Math.max(this.timelinePos,c.start),c.end);const d=c.event;if(n===void 0){n=o.findAssetIndex(d,this.timelinePos);const g=XI(d,n-1);if(d.isAssetPastPlayoutLimit(g)||d.appendInPlace&&this.timelinePos===c.end){this.advanceAfterAssetEnded(d,e,n);return}n=g}const f=this.waitingItem;this.assetsBuffered(c,u)||this.setBufferingItem(c);let m=this.preloadAssets(d,n);if(this.eventItemsMatch(c,f||i)||(this.waitingItem=c,this.log(`INTERSTITIAL_STARTED ${wm(c)} ${d.appendInPlace?"append in place":""}`),this.hls.trigger(Le.INTERSTITIAL_STARTED,{event:d,schedule:r.slice(0),scheduleIndex:e})),!d.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${d}`);return}if(d.assetListLoader&&(d.assetListLoader.destroy(),d.assetListLoader=void 0),!u){this.log(`Waiting for attachMedia to start Interstitial ${d}`);return}this.waitingItem=this.endedItem=null,this.playingItem=c;const p=d.assetList[n];if(!p){this.advanceAfterAssetEnded(d,e,n||0);return}if(m||(m=this.getAssetPlayer(p.identifier)),m===null||m.destroyed){const g=d.assetList.length;this.warn(`asset ${n+1}/${g} player destroyed ${d}`),m=this.createAssetPlayer(d,p,n),m.loadSource()}if(!this.eventItemsMatch(c,this.bufferingItem)&&d.appendInPlace&&this.isAssetBuffered(p))return;this.startAssetPlayer(m,n,r,e,u),this.shouldPlay&&$G(m.media)}else c?(this.resumePrimary(c,e,i),this.shouldPlay&&$G(this.hls.media)):a&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(o.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e;return(e=this.mediaSelection)==null?void 0:e.main.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,r,n){var i,a;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${wm(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let c=this.timelinePos;(c<e.start||c>=e.end)&&(c=this.getPrimaryResumption(e,r),this.log(BS("resumePrimary",c)),this.timelinePos=c),this.attachPrimary(c,e)}if(!n)return;const o=(a=this.schedule)==null?void 0:a.items;o&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${wm(e)}`),this.hls.trigger(Le.INTERSTITIALS_PRIMARY_RESUMED,{schedule:o.slice(0),scheduleIndex:r}),this.checkBuffer())}getPrimaryResumption(e,r){const n=e.start;if(this.primaryLive){const i=this.primaryDetails;if(r===0)return this.hls.startPosition;if(i&&(n<i.fragmentStart||n>i.edge))return this.hls.liveSyncPosition||-1}return n}isAssetBuffered(e){const r=this.getAssetPlayer(e.identifier);return r!=null&&r.hls?r.hls.bufferedToEnd:Hs.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,r,n){r?this.setBufferingItem(r):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const a=this.hls;a.media?this.checkBuffer():(this.transferMediaTo(a,i),n&&this.startLoadingPrimaryAt(e,n)),n||(this.log(BS("attachPrimary",e)),this.timelinePos=e,this.startLoadingPrimaryAt(e,n))}startLoadingPrimaryAt(e,r){var n;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((n=i.mainForwardBufferInfo)==null?void 0:n.start)||i.media.currentTime)-e)>.5?i.startLoad(e,r):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){var e;this.stopLoad(),(e=this.schedule)==null||e.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(Le.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(Le.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,r){if(r.level===-1||!this.schedule)return;const n=this.hls.levels[r.level];if(!n.details)return;const i=Uo(Uo({},this.mediaSelection||this.altSelection),{},{main:n});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,r){const n=this.hls.audioTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=Uo(Uo({},this.altSelection),{},{audio:n});return}const a=Uo(Uo({},i),{},{audio:n});this.mediaSelection=a}onSubtitleTrackUpdated(e,r){const n=this.hls.subtitleTracks[r.id],i=this.mediaSelection;if(!i){this.altSelection=Uo(Uo({},this.altSelection),{},{subtitles:n});return}const a=Uo(Uo({},i),{},{subtitles:n});this.mediaSelection=a}onAudioTrackSwitching(e,r){const n=qK(r);this.playerQueue.forEach(({hls:i})=>i&&(i.setAudioOption(r)||i.setAudioOption(n)))}onSubtitleTrackSwitch(e,r){const n=qK(r);this.playerQueue.forEach(({hls:i})=>i&&(i.setSubtitleOption(r)||r.id!==-1&&i.setSubtitleOption(n)))}onBufferCodecs(e,r){const n=r.tracks;n&&(this.requiredTracks=n)}onBufferAppended(e,r){this.checkBuffer()}onBufferFlushed(e,r){const n=this.playingItem;if(n&&!this.itemsMatch(n,this.bufferingItem)&&!this.isInterstitial(n)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){if(!this.schedule)return;const r=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&r){for(let i=0;i<r.length;i++){const a=r[i];if(a.cue.post){var n;const o=this.schedule.findEventIndex(a.identifier),c=(n=this.schedule.items)==null?void 0:n[o];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const r=this.playingItem;if(!this.playingLastItem&&r){const n=this.findItemIndex(r);this.setSchedulePosition(n+1)}else this.shouldPlay=!1}updateItem(e,r){var n;const i=(n=this.schedule)==null?void 0:n.items;if(e&&i){const a=this.findItemIndex(e,r);return i[a]||null}return null}trimInPlace(e,r){if(this.isInterstitial(e)&&e.event.appendInPlace&&r.end-e.end>.25){e.event.assetList.forEach((a,o)=>{e.event.isAssetPastPlayoutLimit(o)&&this.clearAssetPlayer(a.identifier,null)});const n=e.end+.25,i=Hs.bufferInfo(this.primaryMedia,n,0);(i.end>n||(i.nextStart||0)>n)&&(this.log(`trim buffered interstitial ${wm(e)} (was ${wm(r)})`),this.attachPrimary(n,null,!0),this.flushFrontBuffer(n))}}itemsMatch(e,r){return!!r&&(e===r||e.event&&r.event&&this.eventItemsMatch(e,r)||!e.event&&!r.event&&this.findItemIndex(e)===this.findItemIndex(r))}eventItemsMatch(e,r){var n;return!!r&&(e===r||e.event.identifier===((n=r.event)==null?void 0:n.identifier))}findItemIndex(e,r){return e&&this.schedule?this.schedule.findItemIndex(e,r):-1}updateSchedule(e=!1){var r;const n=this.mediaSelection;n&&((r=this.schedule)==null||r.updateSchedule(n,[],e))}checkBuffer(e){var r;const n=(r=this.schedule)==null?void 0:r.items;if(!n)return;const i=Hs.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=i.len<1),this.updateBufferedPos(i.end,n,e)}updateBufferedPos(e,r,n){const i=this.schedule,a=this.bufferingItem;if(this.bufferedPos>e||!i)return;if(r.length===1&&this.itemsMatch(r[0],a)){this.bufferedPos=e;return}const o=this.playingItem,c=this.findItemIndex(o);let u=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var l;const d=this.findItemIndex(a),f=Math.min(d+1,r.length-1),m=r[f];if((u===-1&&a&&e>=a.end||(l=m.event)!=null&&l.appendInPlace&&e+.01>=m.start)&&(u=f),this.isInterstitial(a)){const p=a.event;if(f-c>1&&p.appendInPlace===!1||p.assetList.length===0&&p.assetListLoader)return}if(this.bufferedPos=e,u>d&&u>c)this.bufferedToItem(m);else{const p=this.primaryDetails;this.primaryLive&&p&&e>p.edge-p.targetduration&&m.start<p.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(m)&&this.preloadAssets(m.event,0)}}else n&&o&&!this.itemsMatch(o,a)&&(u===c?this.bufferedToItem(o):u===c+1&&this.bufferedToItem(r[u]))}assetsBuffered(e,r){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const a=this.getAssetPlayer(i.identifier);return!(a!=null&&a.bufferedInPlaceToEnd(r))})}setBufferingItem(e){const r=this.bufferingItem,n=this.schedule;if(!this.itemsMatch(e,r)&&n){const{items:i,events:a}=n;if(!i||!a)return r;const o=this.isInterstitial(e),c=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const u=c?c.remaining:r?r.end-this.timelinePos:0;if(this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${wm(e)}`+(r?` (${u.toFixed(2)} remaining)`:"")),!this.playbackDisabled)if(o){const l=n.findAssetIndex(e.event,this.bufferedPos);e.event.assetList.forEach((d,f)=>{const m=this.getAssetPlayer(d.identifier);m&&(f===l&&m.loadSource(),m.resumeBuffering())})}else this.hls.resumeBuffering(),this.playerQueue.forEach(l=>l.pauseBuffering());this.hls.trigger(Le.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:a.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}else this.bufferingItem!==e&&(this.bufferingItem=e);return r}bufferedToItem(e,r=0){const n=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,r);else if(n!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const r=this.findItemIndex(e),n=this.getPrimaryResumption(e,r);this.startLoadingPrimaryAt(n)}bufferedToEvent(e,r){const n=e.event,i=n.assetList.length===0&&!n.assetListLoader,a=n.cue.once;if(i||!a){const o=this.preloadAssets(n,r);if(o!=null&&o.interstitial.appendInPlace){const c=this.primaryMedia;c&&this.bufferAssetPlayer(o,c)}}}preloadAssets(e,r){const n=e.assetUrl,i=e.assetList.length,a=i===0&&!e.assetListLoader,o=e.cue.once;if(a){const u=e.timelineStart;if(e.appendInPlace){var c;const m=this.playingItem;!this.isInterstitial(m)&&(m==null||(c=m.nextEvent)==null?void 0:c.identifier)===e.identifier&&this.flushFrontBuffer(u+.25)}let l,d=0;if(!this.playingItem&&this.primaryLive&&(d=this.hls.startPosition,d===-1&&(d=this.hls.liveSyncPosition||0)),d&&!(e.cue.pre||e.cue.post)){const m=d-u;m>0&&(l=Math.round(m*1e3)/1e3)}if(this.log(`Load interstitial asset ${r+1}/${n?1:i} ${e}${l?` live-start: ${d} start-offset: ${l}`:""}`),n)return this.createAsset(e,0,0,u,e.duration,n);const f=this.assetListLoader.loadAssetList(e,l);f&&(e.assetListLoader=f)}else if(!o&&i){for(let l=r;l<i;l++){const d=e.assetList[l],f=this.getAssetPlayerQueueIndex(d.identifier);(f===-1||this.playerQueue[f].destroyed)&&!d.error&&this.createAssetPlayer(e,d,l)}const u=e.assetList[r];if(u){const l=this.getAssetPlayer(u.identifier);return l&&l.loadSource(),l}}return null}flushFrontBuffer(e){const r=this.requiredTracks;if(!r)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(r).forEach(i=>{this.hls.trigger(Le.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const r=this.playerQueue;for(let n=0;n<r.length;n++)if(e===r[n].assetId)return n;return-1}getAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);return this.playerQueue[r]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:r}=this;if(r){for(let n=0;n<e.length;n++)if(e[n].media===r)return e[n]}return null}createAsset(e,r,n,i,a,o){const c={parentIdentifier:e.identifier,identifier:UQe(e,o,r),duration:a,startOffset:n,timelineStart:i,uri:o};return this.createAssetPlayer(e,c,r)}createAssetPlayer(e,r,n){const i=this.hls,a=i.userConfig;let o=a.videoPreference;const c=i.loadLevelObj||i.levels[i.currentLevel];(o||c)&&(o=nl({},o),c.videoCodec&&(o.videoCodec=c.videoCodec),c.videoRange&&(o.allowedVideoRanges=[c.videoRange]));const u=i.audioTracks[i.audioTrack],l=i.subtitleTracks[i.subtitleTrack];let d=0;if(this.primaryLive||e.appendInPlace){const N=this.timelinePos-r.timelineStart;if(N>1){const C=r.duration;C&&N<C&&(d=N)}}const f=r.identifier,m=Uo(Uo({},a),{},{maxMaxBufferLength:Math.min(180,i.config.maxMaxBufferLength),autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:f,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:d,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:o,audioPreference:u||a.audioPreference,subtitlePreference:l||a.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,r.timelineStart&&(m.timelineOffset=r.timelineStart));const p=m.cmcd;p!=null&&p.sessionId&&p.contentId&&(m.cmcd=nl({},p,{contentId:_E(r.uri)})),this.getAssetPlayer(f)&&this.warn(`Duplicate date range identifier ${e} and asset ${f}`);const g=new QQe(this.HlsPlayerClass,m,e,r);this.playerQueue.push(g),e.assetList[n]=r;let x=!0;const y=N=>{if(N.live){var C;const M=new Error(`Interstitials MUST be VOD assets ${e}`),Y={fatal:!0,type:Oi.OTHER_ERROR,details:wr.INTERSTITIAL_ASSET_ITEM_ERROR,error:M},X=((C=this.schedule)==null?void 0:C.findEventIndex(e.identifier))||-1;this.handleAssetItemError(Y,e,X,n,M.message);return}const I=N.edge-N.fragmentStart,D=r.duration;(x||D===null||I>D)&&(x=!1,this.log(`Interstitial asset "${f}" duration change ${D} > ${I}`),r.duration=I,this.updateSchedule())};g.on(Le.LEVEL_UPDATED,(N,{details:C})=>y(C)),g.on(Le.LEVEL_PTS_UPDATED,(N,{details:C})=>y(C)),g.on(Le.EVENT_CUE_ENTER,()=>this.onInterstitialCueEnter());const w=(N,C)=>{const I=this.getAssetPlayer(f);if(I&&C.tracks){I.off(Le.BUFFER_CODECS,w),I.tracks=C.tracks;const D=this.primaryMedia;this.bufferingAsset===I.assetItem&&D&&!I.media&&this.bufferAssetPlayer(I,D)}};g.on(Le.BUFFER_CODECS,w);const E=()=>{var N;const C=this.getAssetPlayer(f);if(this.log(`buffered to end of asset ${C}`),!C||!this.schedule)return;const I=this.schedule.findEventIndex(e.identifier),D=(N=this.schedule.items)==null?void 0:N[I];this.isInterstitial(D)&&this.advanceAssetBuffering(D,r)};g.on(Le.BUFFERED_TO_END,E);const _=N=>()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;this.shouldPlay=!0;const I=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,I,N)};return g.once(Le.MEDIA_ENDED,_(n)),g.once(Le.PLAYOUT_LIMIT_REACHED,_(1/0)),g.on(Le.ERROR,(N,C)=>{if(!this.schedule)return;const I=this.getAssetPlayer(f);if(C.details===wr.BUFFER_STALLED_ERROR){if(I!=null&&I.appendInPlace){this.handleInPlaceStall(e);return}this.onTimeupdate(),this.checkBuffer(!0);return}this.handleAssetItemError(C,e,this.schedule.findEventIndex(e.identifier),n,`Asset player error ${C.error} ${e}`)}),g.on(Le.DESTROYING,()=>{if(!this.getAssetPlayer(f)||!this.schedule)return;const C=new Error(`Asset player destroyed unexpectedly ${f}`),I={fatal:!0,type:Oi.OTHER_ERROR,details:wr.INTERSTITIAL_ASSET_ITEM_ERROR,error:C};this.handleAssetItemError(I,e,this.schedule.findEventIndex(e.identifier),n,C.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${Py(r)}`),this.hls.trigger(Le.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:r,assetListIndex:n,event:e,player:g}),g}clearInterstitial(e,r){this.clearAssetPlayers(e,r),e.reset()}clearAssetPlayers(e,r){e.assetList.forEach(n=>{this.clearAssetPlayer(n.identifier,r)})}resetAssetPlayer(e){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`reset asset player "${e}" after error`);const n=this.playerQueue[r];this.transferMediaFromPlayer(n,null),n.resetDetails()}}clearAssetPlayer(e,r){const n=this.getAssetPlayerQueueIndex(e);if(n!==-1){const i=this.playerQueue[n];this.log(`clear ${i} toSegment: ${r&&wm(r)}`),this.transferMediaFromPlayer(i,r),this.playerQueue.splice(n,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,r,n,i,a){const{interstitial:o,assetItem:c,assetId:u}=e,l=o.assetList.length,d=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!d||d.identifier!==u)&&(d&&(this.clearAssetPlayer(d.identifier,n[i]),delete d.error),this.log(`INTERSTITIAL_ASSET_STARTED ${r+1}/${l} ${Py(c)}`),this.hls.trigger(Le.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:r,event:o,schedule:n.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,a)}bufferAssetPlayer(e,r){var n,i;if(!this.schedule)return;const{interstitial:a,assetItem:o}=e,c=this.schedule.findEventIndex(a.identifier),u=(n=this.schedule.items)==null?void 0:n[c];if(!u)return;e.loadSource(),this.setBufferingItem(u),this.bufferingAsset=o;const l=this.getBufferingPlayer();if(l===e)return;const d=a.appendInPlace;if(d&&l?.interstitial.appendInPlace===!1)return;const f=l?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(d&&o!==this.playingAsset){if(!e.tracks){this.log(`Waiting for track info before buffering ${e}`);return}if(f&&!Qie(f,e.tracks)){const m=new Error(`Asset ${Py(o)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(f)}')`),p={fatal:!0,type:Oi.OTHER_ERROR,details:wr.INTERSTITIAL_ASSET_ITEM_ERROR,error:m},g=a.findAssetIndex(o);this.handleAssetItemError(p,a,c,g,m.message);return}}this.transferMediaTo(e,r)}handleInPlaceStall(e){const r=this.schedule,n=this.primaryMedia;if(!r||!n)return;const i=n.currentTime,a=r.findAssetIndex(e,i),o=e.assetList[a];if(o){const c=this.getAssetPlayer(o.identifier);if(c){const u=c.currentTime||i-o.timelineStart,l=c.duration-u;if(this.warn(`Stalled at ${u} of ${u+l} in ${c} ${e} (media.currentTime: ${i})`),u&&(l/n.playbackRate<.5||c.bufferedInPlaceToEnd(n))&&c.hls){const d=r.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,d,a)}}}}advanceInPlace(e){const r=this.primaryMedia;r&&r.currentTime<e&&(r.currentTime=e)}handleAssetItemError(e,r,n,i,a){if(e.details===wr.BUFFER_STALLED_ERROR)return;const o=r.assetList[i]||null;if(this.warn(`INTERSTITIAL_ASSET_ERROR ${o&&Py(o)} ${e.error}`),!this.schedule)return;const c=o?.identifier||"",u=this.getAssetPlayerQueueIndex(c),l=this.playerQueue[u]||null,d=this.schedule.items,f=nl({},e,{fatal:!1,errorAction:Cb(!0),asset:o,assetListIndex:i,event:r,schedule:d,scheduleIndex:n,player:l});if(this.hls.trigger(Le.INTERSTITIAL_ASSET_ERROR,f),!e.fatal)return;const m=this.playingAsset,p=this.bufferingAsset,g=new Error(a);if(o&&(this.clearAssetPlayer(c,null),o.error=g),!r.assetList.some(x=>!x.error))r.error=g;else for(let x=i;x<r.assetList.length;x++)this.resetAssetPlayer(r.assetList[x].identifier);this.updateSchedule(!0),r.error?this.primaryFallback(r):m&&m.identifier===c?this.advanceAfterAssetEnded(r,n,i):p&&p.identifier===c&&this.isInterstitial(this.bufferingItem)&&this.advanceAssetBuffering(this.bufferingItem,p)}primaryFallback(e){const r=e.timelineStart,n=this.effectivePlayingItem;let i=this.timelinePos;if(n){this.log(`Fallback to primary from event "${e.identifier}" start: ${r} pos: ${i} playing: ${wm(n)} error: ${e.error}`),i===-1&&(i=this.hls.startPosition);const o=this.updateItem(n,i);this.itemsMatch(n,o)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(r,null),this.flushFrontBuffer(r))}else if(i===-1){this.checkStart();return}if(!this.schedule)return;const a=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(a)}onAssetListLoaded(e,r){var n,i;const a=r.event,o=a.identifier,c=r.assetListResponse.ASSETS;if(!((n=this.schedule)!=null&&n.hasEvent(o)))return;const u=a.timelineStart,l=a.duration;let d=0;c.forEach((x,y)=>{const w=parseFloat(x.DURATION);this.createAsset(a,y,d,u+d,w,x.URI),d+=w}),a.duration=d,this.log(`Loaded asset-list with duration: ${d} (was: ${l}) ${a}`);const f=this.waitingItem,m=f?.event.identifier===o;this.updateSchedule();const p=(i=this.bufferingItem)==null?void 0:i.event;if(m){var g;const x=this.schedule.findEventIndex(o),y=(g=this.schedule.items)==null?void 0:g[x];if(y){if(!this.playingItem&&this.timelinePos>y.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==x){a.error=new Error(`Interstitial ${c.length?"no longer within playback range":"asset-list is empty"} ${this.timelinePos} ${a}`),this.log(a.error.message),this.updateSchedule(!0),this.primaryFallback(a);return}this.setBufferingItem(y)}this.setSchedulePosition(x)}else if(p?.identifier===o){const x=a.assetList[0];if(x){const y=this.getAssetPlayer(x.identifier);if(p.appendInPlace){const w=this.primaryMedia;y&&w&&this.bufferAssetPlayer(y,w)}else y&&y.loadSource()}}}onError(e,r){if(this.schedule)switch(r.details){case wr.ASSET_LIST_PARSING_ERROR:case wr.ASSET_LIST_LOAD_ERROR:case wr.ASSET_LIST_LOAD_TIMEOUT:{const n=r.interstitial;n&&(this.updateSchedule(!0),this.primaryFallback(n));break}case wr.BUFFER_STALLED_ERROR:{const n=this.endedItem||this.waitingItem||this.playingItem;if(this.isInterstitial(n)&&n.event.appendInPlace){this.handleInPlaceStall(n.event);return}this.log(`Primary player stall @${this.timelinePos} bufferedPos: ${this.bufferedPos}`),this.onTimeupdate(),this.checkBuffer(!0);break}}}}const HG=500;class GQe extends eU{constructor(e,r,n){super(e,r,n,"subtitle-stream-controller",mi.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Le.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Le.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(Le.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(Le.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(Le.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Le.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Le.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(Le.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(Le.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(Le.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,r){this.stopLoad(),this.state=Xr.IDLE,this.setInterval(HG),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,r){this.tracksBuffered=[],super.onMediaDetaching(e,r)}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragContextChanged(n)||(ru(n)&&(this.fragPrevious=n),this.state=Xr.IDLE),!i)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let o;const c=n.start;for(let l=0;l<a.length;l++)if(c>=a[l].start&&c<=a[l].end){o=a[l];break}const u=n.start+n.duration;o?o.end=u:(o={start:c,end:u},a.push(o)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null),this.media&&this.tick()}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const a=i-1;if(a<=0)return;r.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach(o=>{for(let c=0;c<o.length;){if(o[c].end<=a){o.shift();continue}else if(o[c].start<a)o[c].start=a;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(n,a,mi.SUBTITLE)}}onError(e,r){const n=r.frag;n?.type===mi.SUBTITLE&&(r.details===wr.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Xr.STOPPED&&(this.state=Xr.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(this.levels&&Kse(this.levels,r)){this.levels=r.map(n=>new p2(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new p2(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,mi.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){var n;if(this.currentTrackId=r.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==Xr.STOPPED&&this.setInterval(HG)}onSubtitleTrackLoaded(e,r){var n;const{currentTrackId:i,levels:a}=this,{details:o,id:c}=r;if(!a){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const u=a[c];if(c>=a.length||!u)return;this.log(`Subtitle track ${c} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(o.live||(n=u.details)!=null&&n.live){if(o.deltaUpdateFailed)return;const f=this.mainDetails;if(!f){this.startFragRequested=!1;return}const m=f.fragments[0];if(!u.details)o.hasProgramDateTime&&f.hasProgramDateTime?(AN(o,f),l=o.fragmentStart):m&&(l=m.start,MO(o,l));else{var d;l=this.alignPlaylists(o,u.details,(d=this.levelLastLoaded)==null?void 0:d.details),l===0&&m&&(l=m.start,MO(o,l))}f&&!this.startFragRequested&&this.setStartPosition(f,l)}u.details=o,this.levelLastLoaded=u,c===i&&(this.hls.trigger(Le.SUBTITLE_TRACK_UPDATED,{details:o,id:c,groupId:r.groupId}),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===Xr.IDLE&&(Lx(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i!=null&&i.key&&i.iv&&Nb(i.method)){const o=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer,ZF(i.method)).catch(c=>{throw a.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:r}),c}).then(c=>{const u=performance.now();a.trigger(Le.FRAG_DECRYPTED,{frag:r,payload:c,stats:{tstart:o,tdecrypt:u}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=Xr.IDLE})}}doTick(){if(!this.media){this.state=Xr.IDLE;return}if(this.state===Xr.IDLE){const{currentTrackId:e,levels:r}=this,n=r?.[e];if(!n||!r.length||!n.details||this.waitForLive(n))return;const{config:i}=this,a=this.getLoadPosition(),o=Hs.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],a,i.maxBufferHole),{end:c,len:u}=o,l=n.details,d=this.hls.maxBufferLength+l.levelTargetDuration;if(u>d)return;const f=l.fragments,m=f.length,p=l.edge;let g=null;const x=this.fragPrevious;if(c<p){const E=i.maxFragLookUpTolerance,_=c>p-E?0:E;g=Lx(x,f,Math.max(f[0].start,c),_),!g&&x&&x.start<f[0].start&&(g=f[0])}else g=f[m-1];if(g=this.filterReplacedPrimary(g,n.details),!g)return;const y=g.sn-l.startSN,w=f[y-1];if(w&&w.cc===g.cc&&this.fragmentTracker.getState(w)===Qu.NOT_LOADED&&(g=w),this.fragmentTracker.getState(g)===Qu.NOT_LOADED){const E=this.mapToInitFragWhenRequired(g);E&&this.loadFragment(E,n,c)}}}loadFragment(e,r,n){ru(e)?super.loadFragment(e,r,n):this._loadInitSegment(e,r)}get mediaBufferTimeRanges(){return new WQe(this.tracksBuffered[this.currentTrackId]||[])}}class WQe{constructor(e){this.buffered=void 0;const r=(n,i,a)=>{if(i=i>>>0,i>a-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}const YQe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},lae=t=>String.fromCharCode(YQe[t]||t),Cm=15,Tp=100,qQe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},XQe={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ZQe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},JQe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},eze=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class tze{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;Ho.log(`${this.time} [${e}] ${n}`)}}}const bv=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class cae{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class rze{constructor(){this.uchar=" ",this.penState=new cae}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class nze{constructor(e){this.chars=[],this.pos=0,this.currPenState=new cae,this.cueStartTime=null,this.logger=void 0;for(let r=0;r<Tp;r++)this.chars.push(new rze);this.logger=e}equals(e){for(let r=0;r<Tp;r++)if(!this.chars[r].equals(e.chars[r]))return!1;return!0}copy(e){for(let r=0;r<Tp;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<Tp;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Tp&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Tp)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=lae(e);if(this.pos>=Tp){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<Tp;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<Tp;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class ZI{constructor(e){this.rows=[],this.currRow=Cm-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let r=0;r<Cm;r++)this.rows.push(new nze(e));this.logger=e}reset(){for(let e=0;e<Cm;e++)this.rows[e].clear();this.currRow=Cm-1}equals(e){let r=!0;for(let n=0;n<Cm;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<Cm;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<Cm;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+ml(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let c=0;c<Cm;c++)this.rows[c].clear();const a=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const c=o.rows[a].cueStartTime,u=this.logger.time;if(c!==null&&u!==null&&c<u)for(let l=0;l<this.nrRollUpRows;l++)this.rows[r-this.nrRollUpRows+l+1].copy(o.rows[a+l])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,o=Math.max(a-1,0);n.setCursor(e.indent),e.color=n.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+ml(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let a=0;a<Cm;a++){const o=this.rows[a].getTextString();o&&(i=a+1,e?r.push("Row "+i+": '"+o+"'"):r.push(o.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class QG{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new ZI(n),this.nonDisplayedMemory=new ZI(n),this.lastOutputScreen=new ZI(n),this.currRollUpRow=this.displayedMemory.rows[Cm-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Cm-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+ml(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class zG{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=sze(),this.logger=void 0;const i=this.logger=new tze;this.channels=[null,new QG(e,r,i),new QG(e+1,n,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){this.logger.time=e;for(let n=0;n<r.length;n+=2){const i=r[n]&127,a=r[n+1]&127;let o=!1,c=null;if(i===0&&a===0)continue;this.logger.log(3,()=>"["+bv([r[n],r[n+1]])+"] -> ("+bv([i,a])+")");const u=this.cmdHistory;if(i>=16&&i<=31){if(ize(i,a,u)){PS(null,null,u),this.logger.log(3,()=>"Repeated command ("+bv([i,a])+") is dropped");continue}PS(i,a,this.cmdHistory),o=this.parseCmd(i,a),o||(o=this.parseMidrow(i,a)),o||(o=this.parsePAC(i,a)),o||(o=this.parseBackgroundAttributes(i,a))}else PS(null,null,u);if(!o&&(c=this.parseChars(i,a),c)){const d=this.currentChannel;d&&d>0?this.channels[d].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+bv([i,a])+" orig: "+bv([r[n],r[n+1]]))}}parseCmd(e,r){const n=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=33&&r<=35;if(!(n||i))return!1;const a=e===20||e===21||e===23?1:2,o=this.channels[a];return e===20||e===21||e===28||e===29?r===32?o.ccRCL():r===33?o.ccBS():r===34?o.ccAOF():r===35?o.ccAON():r===36?o.ccDER():r===37?o.ccRU(2):r===38?o.ccRU(3):r===39?o.ccRU(4):r===40?o.ccFON():r===41?o.ccRDC():r===42?o.ccTR():r===43?o.ccRTD():r===44?o.ccEDM():r===45?o.ccCR():r===46?o.ccENM():r===47&&o.ccEOC():o.ccTO(r-32),this.currentChannel=a,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,()=>"MIDROW ("+bv([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,a=(e===16||e===24)&&r>=64&&r<=95;if(!(i||a))return!1;const o=e<=23?1:2;r>=64&&r<=95?n=o===1?qQe[e]:ZQe[e]:n=o===1?XQe[e]:JQe[e];const c=this.channels[o];return c?(c.setPAC(this.interpretPAC(n,r)),this.currentChannel=o,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){let o;a===17?o=r+80:a===18?o=r+112:o=r+144,this.logger.log(2,()=>"Special char '"+lae(o)+"' in channel "+n),i=[o]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);return i&&this.logger.log(3,()=>"Char codes =  "+bv(i).join(",")),i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let a;const o={};e===16||e===24?(a=Math.floor((r-32)/2),o.background=eze[a],r%2===1&&(o.background=o.background+"_semi")):r===45?o.background="transparent":(o.foreground="black",r===47&&(o.underline=!0));const c=e<=23?1:2;return this.channels[c].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}PS(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function PS(t,e,r){r.a=t,r.b=e}function ize(t,e,r){return r.a===t&&r.b===e}function sze(){return{a:null,b:null}}var dU=(function(){if(mN!=null&&mN.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(c,u){if(typeof u!="string"||!Array.isArray(c))return!1;const l=u.toLowerCase();return~c.indexOf(l)?l:!1}function n(c){return r(t,c)}function i(c){return r(e,c)}function a(c,...u){let l=1;for(;l<arguments.length;l++){const d=arguments[l];for(const f in d)c[f]=d[f]}return c}function o(c,u,l){const d=this,f={enumerable:!0};d.hasBeenReset=!1;let m="",p=!1,g=c,x=u,y=l,w=null,E="",_=!0,N="auto",C="start",I=50,D="middle",M=50,Y="middle";Object.defineProperty(d,"id",a({},f,{get:function(){return m},set:function(X){m=""+X}})),Object.defineProperty(d,"pauseOnExit",a({},f,{get:function(){return p},set:function(X){p=!!X}})),Object.defineProperty(d,"startTime",a({},f,{get:function(){return g},set:function(X){if(typeof X!="number")throw new TypeError("Start time must be set to a number.");g=X,this.hasBeenReset=!0}})),Object.defineProperty(d,"endTime",a({},f,{get:function(){return x},set:function(X){if(typeof X!="number")throw new TypeError("End time must be set to a number.");x=X,this.hasBeenReset=!0}})),Object.defineProperty(d,"text",a({},f,{get:function(){return y},set:function(X){y=""+X,this.hasBeenReset=!0}})),Object.defineProperty(d,"region",a({},f,{get:function(){return w},set:function(X){w=X,this.hasBeenReset=!0}})),Object.defineProperty(d,"vertical",a({},f,{get:function(){return E},set:function(X){const te=n(X);if(te===!1)throw new SyntaxError("An invalid or illegal string was specified.");E=te,this.hasBeenReset=!0}})),Object.defineProperty(d,"snapToLines",a({},f,{get:function(){return _},set:function(X){_=!!X,this.hasBeenReset=!0}})),Object.defineProperty(d,"line",a({},f,{get:function(){return N},set:function(X){if(typeof X!="number"&&X!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");N=X,this.hasBeenReset=!0}})),Object.defineProperty(d,"lineAlign",a({},f,{get:function(){return C},set:function(X){const te=i(X);if(!te)throw new SyntaxError("An invalid or illegal string was specified.");C=te,this.hasBeenReset=!0}})),Object.defineProperty(d,"position",a({},f,{get:function(){return I},set:function(X){if(X<0||X>100)throw new Error("Position must be between 0 and 100.");I=X,this.hasBeenReset=!0}})),Object.defineProperty(d,"positionAlign",a({},f,{get:function(){return D},set:function(X){const te=i(X);if(!te)throw new SyntaxError("An invalid or illegal string was specified.");D=te,this.hasBeenReset=!0}})),Object.defineProperty(d,"size",a({},f,{get:function(){return M},set:function(X){if(X<0||X>100)throw new Error("Size must be between 0 and 100.");M=X,this.hasBeenReset=!0}})),Object.defineProperty(d,"align",a({},f,{get:function(){return Y},set:function(X){const te=i(X);if(!te)throw new SyntaxError("An invalid or illegal string was specified.");Y=te,this.hasBeenReset=!0}})),d.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o})();class aze{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function uae(t){function e(n,i,a,o){return(n|0)*3600+(i|0)*60+(a|0)+parseFloat(o||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class oze{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function dae(t,e,r,n){const i=n?t.split(n):[t];for(const a in i){if(typeof i[a]!="string")continue;const o=i[a].split(r);if(o.length!==2)continue;const c=o[0],u=o[1];e(c,u)}}const KO=new dU(0,0,""),OS=KO.align==="middle"?"middle":"center";function lze(t,e,r){const n=t;function i(){const c=uae(t);if(c===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),c}function a(c,u){const l=new oze;dae(c,function(m,p){let g;switch(m){case"region":for(let x=r.length-1;x>=0;x--)if(r[x].id===p){l.set(m,r[x].region);break}break;case"vertical":l.alt(m,p,["rl","lr"]);break;case"line":g=p.split(","),l.integer(m,g[0]),l.percent(m,g[0])&&l.set("snapToLines",!1),l.alt(m,g[0],["auto"]),g.length===2&&l.alt("lineAlign",g[1],["start",OS,"end"]);break;case"position":g=p.split(","),l.percent(m,g[0]),g.length===2&&l.alt("positionAlign",g[1],["start",OS,"end","line-left","line-right","auto"]);break;case"size":l.percent(m,p);break;case"align":l.alt(m,p,["start",OS,"end","left","right"]);break}},/:/,/\s/),u.region=l.get("region",null),u.vertical=l.get("vertical","");let d=l.get("line","auto");d==="auto"&&KO.line===-1&&(d=-1),u.line=d,u.lineAlign=l.get("lineAlign","start"),u.snapToLines=l.get("snapToLines",!0),u.size=l.get("size",100),u.align=l.get("align",OS);let f=l.get("position","auto");f==="auto"&&KO.position===50&&(f=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=f}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),o(),e.endTime=i(),o(),a(t,e)}function hae(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class cze{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new aze,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let a=r.buffer,o=0;for(a=hae(a);o<a.length&&a[o]!=="\r"&&a[o]!==`
`;)++o;const c=a.slice(0,o);return a[o]==="\r"&&++o,a[o]===`
`&&++o,r.buffer=a.slice(o),c}function i(a){dae(a,function(o,c){},/:/)}try{let a="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;a=n();const c=a.match(/^()?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let o=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(o?o=!1:a=n(),r.state){case"HEADER":/:/.test(a)?i(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new dU(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{lze(a,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const c=a.indexOf("-->")!==-1;if(!a||c&&(o=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a}continue;case"BADCUE":a||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const uze=/\r\n|\n\r|\n|\r/g,JI=function(e,r,n=0){return e.slice(n,n+r.length)===r},dze=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Jn(r)||!Jn(n)||!Jn(i)||!Jn(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=3600*1e3*a,r};function hU(t,e,r){return _E(t.toString())+_E(e.toString())+_E(r)}const hze=function(e,r,n){let i=e[r],a=e[i.prevCC];if(!a||!a.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=a)!=null&&o.new;){var o;e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC]}e.presentationOffset=n};function fze(t,e,r,n,i,a,o){const c=new cze,u=_f(new Uint8Array(t)).trim().replace(uze,`
`).split(`
`),l=[],d=e?xHe(e.baseTime,e.timescale):0;let f="00:00.000",m=0,p=0,g,x=!0;c.oncue=function(y){const w=r[n];let E=r.ccOffset;const _=(m-d)/9e4;if(w!=null&&w.new&&(p!==void 0?E=r.ccOffset=w.start:hze(r,n,_)),_){if(!e){g=new Error("Missing initPTS for VTT MPEGTS");return}E=_-r.presentationOffset}const N=y.endTime-y.startTime,C=Af((y.startTime+E-p)*9e4,i*9e4)/9e4;y.startTime=Math.max(C,0),y.endTime=Math.max(C+N,0);const I=y.text.trim();y.text=decodeURIComponent(encodeURIComponent(I)),y.id||(y.id=hU(y.startTime,y.endTime,I)),y.endTime>0&&l.push(y)},c.onparsingerror=function(y){g=y},c.onflush=function(){if(g){o(g);return}a(l)},u.forEach(y=>{if(x)if(JI(y,"X-TIMESTAMP-MAP=")){x=!1,y.slice(16).split(",").forEach(w=>{JI(w,"LOCAL:")?f=w.slice(6):JI(w,"MPEGTS:")&&(m=parseInt(w.slice(7)))});try{p=dze(f)/1e3}catch(w){g=w}return}else y===""&&(x=!1);c.parse(y+`
`)}),c.flush()}const eB="stpp.ttml.im1t",fae=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,mae=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,mze={left:"start",center:"center",right:"end",start:"start",end:"end"};function VG(t,e,r,n){const i=pa(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const a=i.map(c=>_f(c)),o=vHe(e.baseTime,1,e.timescale);try{a.forEach(c=>r(Aze(c,o)))}catch(c){n(c)}}function Aze(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(a).reduce((f,m)=>(f[m]=i.getAttribute(`ttp:${m}`)||a[m],f),{}),c=i.getAttribute("xml:space")!=="preserve",u=KG(tB(i,"styling","style")),l=KG(tB(i,"layout","region")),d=tB(i,"body","[begin]");return[].map.call(d,f=>{const m=Aae(f,c);if(!m||!f.hasAttribute("begin"))return null;const p=nB(f.getAttribute("begin"),o),g=nB(f.getAttribute("dur"),o);let x=nB(f.getAttribute("end"),o);if(p===null)throw GG(f);if(x===null){if(g===null)throw GG(f);x=p+g}const y=new dU(p-e,x-e,m);y.id=hU(y.startTime,y.endTime,y.text);const w=l[f.getAttribute("region")],E=u[f.getAttribute("style")],_=pze(w,E,u),{textAlign:N}=_;if(N){const C=mze[N];C&&(y.lineAlign=C),y.align=N}return nl(y,_),y}).filter(f=>f!==null)}function tB(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function KG(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function Aae(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var a;return n.nodeName==="br"&&i?r+`
`:(a=n.childNodes)!=null&&a.length?Aae(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function pze(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return o&&r.hasOwnProperty(o)&&(i=r[o]),a.reduce((c,u)=>{const l=rB(e,n,u)||rB(t,n,u)||rB(i,n,u);return l&&(c[u]=l),c},{})}function rB(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function GG(t){return new Error(`Could not parse ttml timestamp ${t}`)}function nB(t,e){if(!t)return null;let r=uae(t);return r===null&&(fae.test(t)?r=gze(t,e):mae.test(t)&&(r=vze(t,e))),r}function gze(t,e){const r=fae.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function vze(t,e){const r=mae.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class RS{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class xze{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=YG(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Le.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(Le.FRAG_LOADING,this.onFragLoading,this),e.on(Le.FRAG_LOADED,this.onFragLoaded,this),e.on(Le.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(Le.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(Le.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(Le.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(Le.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Le.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(Le.FRAG_LOADING,this.onFragLoading,this),e.off(Le.FRAG_LOADED,this.onFragLoaded,this),e.off(Le.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(Le.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(Le.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(Le.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new RS(this,"textTrack1"),r=new RS(this,"textTrack2"),n=new RS(this,"textTrack3"),i=new RS(this,"textTrack4");this.cea608Parser1=new zG(1,e,r),this.cea608Parser2=new zG(3,n,i)}addCues(e,r,n,i,a){let o=!1;for(let c=a.length;c--;){const u=a[c],l=yze(u[0],u[1],r,n);if(l>=0&&(u[0]=Math.min(u[0],r),u[1]=Math.max(u[1],n),o=!0,l/(n-r)>.5))return}if(o||a.push([r,n]),this.config.renderTextTracksNatively){const c=this.captionsTracks[e];this.Cues.newCue(c,r,n,i)}else{const c=this.Cues.newCue(null,r,n,i);this.hls.trigger(Le.CUES_PARSED,{type:"captions",cues:c,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a,trackId:o}){const{unparsedVttFrags:c}=this;n===mi.MAIN&&(this.initPTS[r.cc]={baseTime:i,timescale:a,trackId:o}),c.length&&(this.unparsedVttFrags=[],c.forEach(u=>{this.initPTS[u.frag.cc]?this.onFragLoaded(Le.FRAG_LOADED,u):this.hls.trigger(Le.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,r){const{media:n}=this;if(n)for(let i=0;i<n.textTracks.length;i++){const a=n.textTracks[i];if(WG(a,{name:e,lang:r,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return a}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:a,languageCode:o}=r[e],c=this.getExistingTrack(a,o);if(c)n[e]=c,Ab(n[e]),sae(n[e],i);else{const u=this.createTextTrack("captions",a,o);u&&(u[e]=!0,n[e]=u)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(Le.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,r.mediaSource||this._cleanTracks()}onMediaDetaching(e,r){const n=!!r.transferMedia;if(this.media=null,n)return;const{captionsTracks:i}=this;Object.keys(i).forEach(a=>{Ab(i[a]),delete i[a]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=YG(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)Ab(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(a=>a.textCodec===eB);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(Kse(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const o=this.media,c=o?jj(o.textTracks):null;if(this.tracks.forEach((u,l)=>{let d;if(c){let f=null;for(let m=0;m<c.length;m++)if(c[m]&&WG(c[m],u)){f=c[m],c[m]=null;break}f&&(d=f)}if(d)Ab(d);else{const f=pae(u);d=this.createTextTrack(f,u.name,u.lang),d&&(d.mode="disabled")}d&&this.textTracks.push(d)}),c!=null&&c.length){const u=c.filter(l=>l!==null).map(l=>l.label);u.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${u.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(Le.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const a=`textTrack${i[1]}`,o=this.captionsProperties[a];o&&(o.label=n.name,n.lang&&(o.languageCode=n.lang),o.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){if(this.enabled&&r.frag.type===mi.MAIN){var n,i;const{cea608Parser1:a,cea608Parser2:o,lastSn:c}=this,{cc:u,sn:l}=r.frag,d=(n=(i=r.part)==null?void 0:i.index)!=null?n:-1;a&&o&&(l!==c+1||l===c&&d!==this.lastPartIndex+1||u!==this.lastCc)&&(a.reset(),o.reset()),this.lastCc=u,this.lastSn=l,this.lastPartIndex=d}}onFragLoaded(e,r){const{frag:n,payload:i}=r;if(n.type===mi.SUBTITLE)if(i.byteLength){const a=n.decryptdata,o="stats"in r;if(a==null||!a.encrypted||o){const c=this.tracks[n.level],u=this.vttCCs;u[n.cc]||(u[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),c&&c.textCodec===eB?this._parseIMSC1(n,i):this._parseVTTs(r)}}else this.hls.trigger(Le.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;VG(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger(Le.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{n.logger.log(`Failed to parse IMSC1: ${i}`),n.trigger(Le.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var r;const{frag:n,payload:i}=e,{initPTS:a,unparsedVttFrags:o}=this,c=a.length-1;if(!a[n.cc]&&c===-1){o.push(e);return}const u=this.hls,l=(r=n.initSegment)!=null&&r.data?am(n.initSegment.data,new Uint8Array(i)).buffer:i;fze(l,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,d=>{this._appendCues(d,n.level),u.trigger(Le.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},d=>{const f=d.message==="Missing initPTS for VTT MPEGTS";f?o.push(e):this._fallbackToIMSC1(n,i),u.logger.log(`Failed to parse VTT cue: ${d}`),!(f&&c>n.cc)&&u.trigger(Le.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:d})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||VG(r,this.initPTS[e.cc],()=>{n.textCodec=eB,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(a=>aae(i,a))}else{const i=this.tracks[r];if(!i)return;const a=i.default?"default":"subtitles"+r;n.trigger(Le.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,r){const{frag:n}=r;n.type===mi.SUBTITLE&&this.onFragLoaded(Le.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:n,samples:i}=r;if(!(n.type===mi.MAIN&&this.closedCaptionsForLevel(n)==="NONE"))for(let a=0;a<i.length;a++){const o=i[a].bytes;if(o){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(o);this.cea608Parser1.addData(i[a].pts,c[0]),this.cea608Parser2.addData(i[a].pts,c[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:a}){const{media:o}=this;if(!(!o||o.currentTime<n)){if(!a||a==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(u=>VO(c[u],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(u=>VO(c[u],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let a=0;a<n;a++){const o=e[i++],c=127&e[i++],u=127&e[i++];if(c===0&&u===0)continue;if((4&o)!==0){const d=3&o;(d===0||d===1)&&(r[d].push(c),r[d].push(u))}}return r}}function pae(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function WG(t,e){return!!t&&t.kind===pae(e)&&$O(e,t)}function yze(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function YG(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const bze=/\s/,wze={newCue(t,e,r,n){const i=[];let a,o,c,u,l;const d=self.VTTCue||self.TextTrackCue;for(let m=0;m<n.rows.length;m++)if(a=n.rows[m],c=!0,u=0,l="",!a.isEmpty()){var f;for(let x=0;x<a.chars.length;x++)bze.test(a.chars[x].uchar)&&c?u++:(l+=a.chars[x].uchar,c=!1);a.cueStartTime=e,e===r&&(r+=1e-4),u>=16?u--:u++;const p=hae(l.trim()),g=hU(e,r,p);t!=null&&(f=t.cues)!=null&&f.getCueById(g)||(o=new d(e,r,p),o.id=g,o.line=m+1,o.align="left",o.position=10+Math.min(80,Math.floor(u*8/32)*10),i.push(o))}return t&&i.length&&(i.sort((m,p)=>m.line==="auto"||p.line==="auto"?0:m.line>8&&p.line>8?p.line-m.line:m.line-p.line),i.forEach(m=>aae(t,m))),i}};function Eze(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const _ze=/(\d+)-(\d+)\/(\d+)/;class qG{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||Cze,this.controller=new self.AbortController,this.stats=new VF}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const a=Sze(e,this.controller.signal),o=e.responseType==="arraybuffer",c=o?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:l}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),r.timeout=u&&Jn(u)?u:l,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},r.timeout),(x2(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(f=>{var m;this.response=this.loader=f;const p=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=l,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},l-(p-i.loading.start)),!f.ok){const{status:x,statusText:y}=f;throw new Nze(y||"fetch, bad network response",x,f)}i.loading.first=p,i.total=Tze(f.headers)||i.total;const g=(m=this.callbacks)==null?void 0:m.onProgress;return g&&Jn(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,g):o?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{var m,p;const g=this.response;if(!g)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const x=f[c];x&&(i.loaded=i.total=x);const y={url:g.url,data:f,code:g.status},w=(m=this.callbacks)==null?void 0:m.onProgress;w&&!Jn(r.highWaterMark)&&w(i,e,f,g),(p=this.callbacks)==null||p.onSuccess(y,i,e,g)}).catch(f=>{var m;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const p=f&&f.code||0,g=f?f.message:null;(m=this.callbacks)==null||m.onError({code:p,text:g},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,a){const o=new jse,c=e.body.getReader(),u=()=>c.read().then(l=>{if(l.done)return o.dataLength&&a(r,n,o.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const d=l.value,f=d.length;return r.loaded+=f,f<i||o.dataLength?(o.push(d),o.dataLength>=i&&a(r,n,o.flush().buffer,e)):a(r,n,d.buffer,e),u()}).catch(()=>Promise.reject());return u()}}function Sze(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(nl({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function jze(t){const e=_ze.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function Tze(t){const e=t.get("Content-Range");if(e){const n=jze(e);if(Jn(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function Cze(t,e){return new self.Request(t.url,e)}class Nze extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const kze=/^age:\s*[\d.]+\s*$/im;class gae{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new VF,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e||!r)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return a(n,r.url)}).catch(o=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",r.url,!0),a(n,r.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(o=>{var c;(c=this.callbacks)==null||c.onError({code:n.status,text:o.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=r.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:o}=n.loadPolicy;if(i)for(const c in i)e.setRequestHeader(c,i[c]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&Jn(a)?a:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,a=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const l=r.status,d=r.responseType==="text"?r.responseText:null;if(l>=200&&l<300){const g=d??r.response;if(g!=null){var o,c;n.loading.end=Math.max(self.performance.now(),n.loading.first);const x=r.responseType==="arraybuffer"?g.byteLength:g.length;n.loaded=n.total=x,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first);const y=(o=this.callbacks)==null?void 0:o.onProgress;y&&y(n,e,g,r);const w={url:r.responseURL,data:g,code:l};(c=this.callbacks)==null||c.onSuccess(w,n,e,r);return}}const f=a.loadPolicy.errorRetry,m=n.retry,p={url:e.url,data:void 0,code:l};if(hN(f,m,!1,p))this.retry(f);else{var u;Ho.error(`${l} while loading ${e.url}`),(u=this.callbacks)==null||u.onError({code:l,text:r.statusText},e,r,n)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,r=this.stats.retry;if(hN(e,r,!0))this.retry(e);else{var n;Ho.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=YF(e,n.retry),n.retry++,Ho.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r?.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&kze.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const Lze={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},Ize=Uo(Uo({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:gae,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:z$e,bufferController:PHe,capLevelController:i5,errorController:Y$e,fpsController:OQe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Ase,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:Lze},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},Bze()),{},{subtitleStreamController:GQe,subtitleTrackController:MQe,timelineController:xze,audioStreamController:kHe,audioTrackController:LHe,emeController:kb,cmcdController:LQe,contentSteeringController:BQe,interstitialsController:KQe});function Bze(){return{cueHandler:wze,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Pze(t,e,r){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=GO(t),i=["manifest","level","frag"],a=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(o=>{const c=`${o==="level"?"playlist":o}LoadPolicy`,u=e[c]===void 0,l=[];a.forEach(d=>{const f=`${o}Loading${d}`,m=e[f];if(m!==void 0&&u){l.push(f);const p=n[c].default;switch(e[c]={default:p},d){case"TimeOut":p.maxLoadTimeMs=m,p.maxTimeToFirstByteMs=m;break;case"MaxRetry":p.errorRetry.maxNumRetry=m,p.timeoutRetry.maxNumRetry=m;break;case"RetryDelay":p.errorRetry.retryDelayMs=m,p.timeoutRetry.retryDelayMs=m;break;case"MaxRetryTimeout":p.errorRetry.maxRetryDelayMs=m,p.timeoutRetry.maxRetryDelayMs=m;break}}}),l.length&&r.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${c}": ${ml(e[c])}`)}),Uo(Uo({},n),e)}function GO(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(GO):Object.keys(t).reduce((e,r)=>(e[r]=GO(t[r]),e),{}):t}function Oze(t,e){const r=t.loader;r!==qG&&r!==gae?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Eze()&&(t.loader=qG,t.progressive=!0,t.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const Tj=2,Rze=.1,Dze=.05,Mze=100;class Fze extends use{constructor(e,r){super("gap-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var n;(n=this.media)!=null&&n.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var n;this.ended=((n=this.media)==null?void 0:n.currentTime)||1,this.hls.trigger(Le.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=r,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,r){this.setInterval(Mze),this.mediaSource=r.mediaSource;const n=this.media=r.media;wh(n,"playing",this.onMediaPlaying),wh(n,"waiting",this.onMediaWaiting),wh(n,"ended",this.onMediaEnded)}onMediaDetaching(e,r){this.clearInterval();const{media:n}=this;n&&(Vh(n,"playing",this.onMediaPlaying),Vh(n,"waiting",this.onMediaWaiting),Vh(n,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,r){this.buffered=r.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const r=this.media.currentTime;this.poll(r,this.lastCurrentTime),this.lastCurrentTime=r}poll(e,r){var n,i;const a=(n=this.hls)==null?void 0:n.config;if(!a)return;const o=this.media;if(!o)return;const{seeking:c}=o,u=this.seeking&&!c,l=!this.seeking&&c,d=o.paused&&!c||o.ended||o.playbackRate===0;if(this.seeking=c,e!==r){r&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,a.nudgeOnVideoHole&&!d&&e>r&&this.nudgeOnVideoHole(e,r)),this.waiting===0&&this.stallResolved(e);return}if(l||u){u&&this.stallResolved(e);return}if(d){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&o.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(Le.MEDIA_ENDED,{stalled:!1}));return}if(!Hs.getBuffered(o).length){this.nudgeRetry=0;return}const f=Hs.bufferInfo(o,e,0),m=f.nextStart||0,p=this.fragmentTracker;if(c&&p&&this.hls){const I=XG(this.hls.inFlightFragments,e),D=f.len>Tj,M=!m||I||m-e>Tj&&!p.getPartialFragment(e);if(D||M)return;this.moved=!1}const g=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&p){if(!(f.len>0)&&!m)return;const D=Math.max(m,f.start||0)-e,Y=!!(g!=null&&g.live)?g.targetduration*2:Tj,X=DS(e,p);if(D>0&&(D<=Y||X)){o.paused||this._trySkipBufferHole(X);return}}const x=a.detectStallWithCurrentTimeMs,y=self.performance.now(),w=this.waiting;let E=this.stalled;if(E===null)if(w>0&&y-w<x)E=this.stalled=w;else{this.stalled=y;return}const _=y-E;if(!c&&(_>=x||w)&&this.hls){var N;if(((N=this.mediaSource)==null?void 0:N.readyState)==="ended"&&!(g!=null&&g.live)&&Math.abs(e-(g?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(Le.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(f),!this.media||!this.hls)return}const C=Hs.bufferInfo(o,e,a.maxBufferHole);this._tryFixBufferStall(C,_,e)}stallResolved(e){const r=this.stalled;if(r&&this.hls&&(this.stalled=null,this.stallReported)){const n=self.performance.now()-r;this.log(`playback not stuck anymore @${e}, after ${Math.round(n)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(Le.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,r){var n;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(n=this.buffered.audio)!=null&&n.length&&i&&i.length>1&&e>i.end(0)){const a=Hs.bufferedInfo(Hs.timeRangesToArray(this.buffered.audio),e,0);if(a.len>1&&r>=a.start){const o=Hs.timeRangesToArray(i),c=Hs.bufferedInfo(o,r,0).bufferedIndex;if(c>-1&&c<o.length-1){const u=Hs.bufferedInfo(o,e,0).bufferedIndex,l=o[c].end,d=o[c+1].start;if((u===-1||u>c)&&d-l<1&&e-l<2){const f=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${l} -> ${d} buffered index: ${u}`);this.warn(f.message),this.media.currentTime+=1e-6;let m=DS(e,this.fragmentTracker);m&&"fragment"in m?m=m.fragment:m||(m=void 0);const p=Hs.bufferInfo(this.media,e,0);this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:m,buffer:p.len,bufferInfo:p})}}}}}_tryFixBufferStall(e,r,n){var i,a;const{fragmentTracker:o,media:c}=this,u=(i=this.hls)==null?void 0:i.config;if(!c||!o||!u)return;const l=(a=this.hls)==null?void 0:a.latestLevelDetails,d=DS(n,o);if((d||l!=null&&l.live&&n<l.fragmentStart)&&(this._trySkipBufferHole(d)||!this.media))return;const f=e.buffered,m=this.adjacentTraversal(e,n);(f&&f.length>1&&e.len>u.maxBufferHole||e.nextStart&&(e.nextStart-n<u.maxBufferHole||m))&&(r>u.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,r){const n=this.fragmentTracker,i=e.nextStart;if(n&&i){const a=n.getFragAtPos(r,mi.MAIN),o=n.getFragAtPos(i,mi.MAIN);if(a&&o)return o.sn-a.sn<2}return!1}_reportStall(e){const{hls:r,media:n,stallReported:i,stalled:a}=this;if(!i&&a!==null&&n&&r){this.stallReported=!0;const o=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${ml(e)})`);this.warn(o.message),r.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_STALLED_ERROR,fatal:!1,error:o,buffer:e.len,bufferInfo:e,stalled:{start:a}})}}_trySkipBufferHole(e){var r;const{fragmentTracker:n,media:i}=this,a=(r=this.hls)==null?void 0:r.config;if(!i||!n||!a)return 0;const o=i.currentTime,c=Hs.bufferInfo(i,o,0),u=o<c.start?c.start:c.nextStart;if(u&&this.hls){const d=c.len<=a.maxBufferHole,f=c.len>0&&c.len<1&&i.readyState<3,m=u-o;if(m>0&&(d||f)){if(m>a.maxBufferHole){let g=!1;if(o===0){const x=n.getAppendedFrag(0,mi.MAIN);x&&u<x.end&&(g=!0)}if(!g&&e){var l;if(!((l=this.hls.loadLevelObj)!=null&&l.details)||XG(this.hls.inFlightFragments,u))return 0;let y=!1,w=e.end;for(;w<u;){const E=DS(w,n);if(E)w+=E.duration;else{y=!0;break}}if(y)return 0}}const p=Math.max(u+Dze,o+Rze);if(this.warn(`skipping hole, adjusting currentTime from ${o} to ${p}`),this.moved=!0,i.currentTime=p,!(e!=null&&e.gap)){const g=new Error(`fragment loaded with buffer holes, seeking from ${o} to ${p}`),x={type:Oi.MEDIA_ERROR,details:wr.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:g,reason:g.message,buffer:c.len,bufferInfo:c};e&&("fragment"in e?x.part=e:x.frag=e),this.hls.trigger(Le.ERROR,x)}return p}}return 0}_tryNudgeBuffer(e){const{hls:r,media:n,nudgeRetry:i}=this,a=r?.config;if(!n||!a)return 0;const o=n.currentTime;if(this.nudgeRetry++,i<a.nudgeMaxRetry){const c=o+(i+1)*a.nudgeOffset,u=new Error(`Nudging 'currentTime' from ${o} to ${c}`);this.warn(u.message),n.currentTime=c,r.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_NUDGE_ON_STALL,error:u,fatal:!1,buffer:e.len,bufferInfo:e})}else{const c=new Error(`Playhead still not moving while enough data buffered @${o} after ${a.nudgeMaxRetry} nudges`);this.error(c.message),r.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:e.len,bufferInfo:e})}}}function XG(t,e){const r=ZG(t.main);if(r&&r.start<=e)return r;const n=ZG(t.audio);return n&&n.start<=e?n:null}function ZG(t){if(!t)return null;switch(t.state){case Xr.IDLE:case Xr.STOPPED:case Xr.ENDED:case Xr.ERROR:return null}return t.frag}function DS(t,e){return e.getAppendedFrag(t,mi.MAIN)||e.getPartialFragment(t)}const Uze=.25;function WO(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function iB(t,e,r,n,i){let a=new t(e,r,"");try{a.value=n,i&&(a.type=i)}catch{a=new t(e,r,ml(i?Uo({type:i},n):n))}return a}const MS=(()=>{const t=WO();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class $ze{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.assetCue=void 0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(Le.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e&&(e.on(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Le.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}_unregisterListeners(){const{hls:e}=this;e&&(e.off(Le.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(Le.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Le.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this))}onMediaAttaching(e,r){var n;this.media=r.media,((n=r.overrides)==null?void 0:n.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){var e;const r=(e=this.hls)==null?void 0:e.latestLevelDetails;r&&this.updateDateRangeCues(r)}onMediaDetaching(e,r){this.media=null,!r.transferMedia&&(this.id3Track&&(this.removeCues&&Ab(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return sae(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media||!this.hls)return;const{enableEmsgMetadataCues:n,enableID3MetadataCues:i}=this.hls.config;if(!n&&!i)return;const{samples:a}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=WO();if(o)for(let c=0;c<a.length;c++){const u=a[c].type;if(u===vf.emsg&&!n||!i)continue;const l=Bse(a[c].data),d=a[c].pts;let f=d+a[c].duration;f>MS&&(f=MS),f-d<=0&&(f=d+Uze);for(let p=0;p<l.length;p++){const g=l[p];if(!Pse(g)){this.updateId3CueEnds(d,u);const x=iB(o,d,f,g,u);x&&this.id3Track.addCue(x)}}}}updateId3CueEnds(e,r){var n;const i=(n=this.id3Track)==null?void 0:n.cues;if(i)for(let a=i.length;a--;){const o=i[a];o.type===r&&o.startTime<e&&o.endTime===MS&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:a,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:u}}=o;if(a&&(c||u)){let l;i==="audio"?l=d=>d.type===vf.audioId3&&u:i==="video"?l=d=>d.type===vf.emsg&&c:l=d=>d.type===vf.audioId3&&u||d.type===vf.emsg&&c,VO(a,r,n,l)}}onLevelUpdated(e,{details:r}){this.updateDateRangeCues(r,!0)}onLevelPtsUpdated(e,r){Math.abs(r.drift)>.01&&this.updateDateRangeCues(r.details)}updateDateRangeCues(e,r){if(!this.hls||!this.media)return;const{assetPlayerId:n,timelineOffset:i,enableDateRangeMetadataCues:a,interstitialsController:o}=this.hls.config;if(!a)return;const c=WO();if(n&&i&&!o){const{fragmentStart:x,fragmentEnd:y}=e;let w=this.assetCue;w?(w.startTime=x,w.endTime=y):c&&(w=this.assetCue=iB(c,x,y,{assetPlayerId:this.hls.config.assetPlayerId},"hlsjs.interstitial.asset"),w&&(w.id=n,this.id3Track||(this.id3Track=this.createTrack(this.media)),this.id3Track.addCue(w),w.addEventListener("enter",this.onEventCueEnter)))}if(!e.hasProgramDateTime)return;const{id3Track:u}=this,{dateRanges:l}=e,d=Object.keys(l);let f=this.dateRangeCuesAppended;if(u&&r){var m;if((m=u.cues)!=null&&m.length){const x=Object.keys(f).filter(y=>!d.includes(y));for(let y=x.length;y--;){var p;const w=x[y],E=(p=f[w])==null?void 0:p.cues;delete f[w],E&&Object.keys(E).forEach(_=>{const N=E[_];if(N){N.removeEventListener("enter",this.onEventCueEnter);try{u.removeCue(N)}catch{}}})}}else f=this.dateRangeCuesAppended={}}const g=e.fragments[e.fragments.length-1];if(!(d.length===0||!Jn(g?.programDateTime))){this.id3Track||(this.id3Track=this.createTrack(this.media));for(let x=0;x<d.length;x++){const y=d[x],w=l[y],E=w.startTime,_=f[y],N=_?.cues||{};let C=_?.durationKnown||!1,I=MS;const{duration:D,endDate:M}=w;if(M&&D!==null)I=E+D,C=!0;else if(w.endOnNext&&!C){const X=d.reduce((te,de)=>{if(de!==w.id){const ye=l[de];if(ye.class===w.class&&ye.startDate>w.startDate&&(!te||w.startDate<te.startDate))return ye}return te},null);X&&(I=X.startTime,C=!0)}const Y=Object.keys(w.attr);for(let X=0;X<Y.length;X++){const te=Y[X];if(!l9e(te))continue;const de=N[te];if(de)C&&!(_!=null&&_.durationKnown)?de.endTime=I:Math.abs(de.startTime-E)>.01&&(de.startTime=E,de.endTime=I);else if(c){let ye=w.attr[te];c9e(te)&&(ye=zie(ye));const ve=iB(c,E,I,{key:te,data:ye},vf.dateRange);ve&&(ve.id=y,this.id3Track.addCue(ve),N[te]=ve,o&&(te==="X-ASSET-LIST"||te==="X-ASSET-URL")&&ve.addEventListener("enter",this.onEventCueEnter))}}f[y]={cues:N,dateRange:w,durationKnown:C}}}}}class Hze{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:r}=this,n=this.levelDetails;if(!r||!n)return;this.currentTime=r.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:a,maxLiveSyncPlaybackRate:o}=this.config;if(!a||o===1||!n.live)return;const c=this.targetLatency;if(c===null)return;const u=i-c,l=Math.min(this.maxLatency,c+n.targetduration);if(u<l&&u>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,o)),m=Math.round(2/(1+Math.exp(-.75*u-this.edgeStalled))*20)/20,p=Math.min(f,Math.max(1,m));this.changeMediaPlaybackRate(r,p)}else r.playbackRate!==1&&r.playbackRate!==0&&this.changeMediaPlaybackRate(r,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const r=this.levelDetails;return r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:a,liveSyncDurationCount:o,lowLatencyMode:c}=this.config,u=this.hls.userConfig;let l=c&&n||r;(this._targetLatencyUpdated||u.liveSyncDuration||u.liveSyncDurationCount||l===0)&&(l=a!==void 0?a:o*i);const d=i;return l+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,d)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency;if(e===null||r===null)return null;const n=this.levelDetails;if(n===null)return null;const i=n.edge,a=e-r-this.edgeStalled,o=i-n.totalduration,c=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,a),c)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e}=this,r=this.levelDetails;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(Le.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(Le.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(Le.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(Le.ERROR,this.onError,this))}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){r.advanced&&this.onTimeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,r){var n;r.details===wr.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(n=this.levelDetails)!=null&&n.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,r){var n,i;e.playbackRate!==r&&((n=this.hls)==null||n.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${r}`),e.playbackRate=r)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class Qze extends lU{constructor(e,r){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Le.FRAG_BUFFERED,this.onFragBuffered,this),e.on(Le.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Le.FRAG_BUFFERED,this.onFragBuffered,this),e.off(Le.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=this.hls.config.preferManagedMediaSource,i=[],a={},o={};let c=!1,u=!1,l=!1;r.levels.forEach(d=>{const f=d.attrs;let{audioCodec:m,videoCodec:p}=d;m&&(d.audioCodec=m=lN(m,n)||void 0),p&&(p=d.videoCodec=S$e(p));const{width:g,height:x,unknownCodecs:y}=d,w=y?.length||0;if(c||(c=!!(g&&x)),u||(u=!!p),l||(l=!!m),w||m&&!this.isAudioSupported(m)||p&&!this.isVideoSupported(p)){this.log(`Some or all CODECS not supported "${f.CODECS}"`);return}const{CODECS:E,"FRAME-RATE":_,"HDCP-LEVEL":N,"PATHWAY-ID":C,RESOLUTION:I,"VIDEO-RANGE":D}=f,Y=`${`${C||"."}-`}${d.bitrate}-${I}-${_}-${E}-${D}-${N}`;if(a[Y])if(a[Y].uri!==d.url&&!d.attrs["PATHWAY-ID"]){const X=o[Y]+=1;d.attrs["PATHWAY-ID"]=new Array(X+1).join(".");const te=this.createLevel(d);a[Y]=te,i.push(te)}else a[Y].addGroupId("audio",f.AUDIO),a[Y].addGroupId("text",f.SUBTITLES);else{const X=this.createLevel(d);a[Y]=X,o[Y]=1,i.push(X)}}),this.filterAndSortMediaOptions(i,r,c,u,l)}createLevel(e){const r=new p2(e),n=e.supplemental;if(n!=null&&n.videoCodec&&!this.isVideoSupported(n.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${n.videoCodec}"`);this.log(i.message),r.supportedResult=rse(i,[])}return r}isAudioSupported(e){return m2(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return m2(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,r,n,i,a){var o;let c=[],u=[],l=e;const d=((o=r.stats)==null?void 0:o.parsing)||{};if((n||i)&&a&&(l=l.filter(({videoCodec:E,videoRange:_,width:N,height:C})=>(!!E||!!(N&&C))&&O$e(_))),l.length===0){Promise.resolve().then(()=>{if(this.hls){let E="no level with compatible codecs found in manifest",_=E;r.levels.length&&(_=`one or more CODECS in variant not supported: ${ml(r.levels.map(C=>C.attrs.CODECS).filter((C,I,D)=>D.indexOf(C)===I))}`,this.warn(_),E+=` (${_})`);const N=new Error(E);this.hls.trigger(Le.ERROR,{type:Oi.MEDIA_ERROR,details:wr.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:N,reason:_})}}),d.end=performance.now();return}r.audioTracks&&(c=r.audioTracks.filter(E=>!E.audioCodec||this.isAudioSupported(E.audioCodec)),JG(c)),r.subtitles&&(u=r.subtitles,JG(u));const f=l.slice(0);l.sort((E,_)=>{if(E.attrs["HDCP-LEVEL"]!==_.attrs["HDCP-LEVEL"])return(E.attrs["HDCP-LEVEL"]||"")>(_.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&E.height!==_.height)return E.height-_.height;if(E.frameRate!==_.frameRate)return E.frameRate-_.frameRate;if(E.videoRange!==_.videoRange)return cN.indexOf(E.videoRange)-cN.indexOf(_.videoRange);if(E.videoCodec!==_.videoCodec){const N=zK(E.videoCodec),C=zK(_.videoCodec);if(N!==C)return C-N}if(E.uri===_.uri&&E.codecSet!==_.codecSet){const N=oN(E.codecSet),C=oN(_.codecSet);if(N!==C)return C-N}return E.averageBitrate!==_.averageBitrate?E.averageBitrate-_.averageBitrate:0});let m=f[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==f.length)){for(let E=0;E<f.length;E++)if(f[E].pathwayId===l[0].pathwayId){m=f[E];break}}this._levels=l;for(let E=0;E<l.length;E++)if(l[E]===m){var p;this._firstLevel=E;const _=m.bitrate,N=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${_}`),((p=this.hls.userConfig)==null?void 0:p.abrEwmaDefaultEstimate)===void 0){const C=Math.min(_,this.hls.config.abrEwmaDefaultEstimateMax);C>N&&N===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=C)}break}const g=a&&!i,x=this.hls.config,y=!!(x.audioStreamController&&x.audioTrackController),w={levels:l,audioTracks:c,subtitleTracks:u,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:a,video:i,altAudio:y&&!g&&c.some(E=>!!E.url)};d.end=performance.now(),this.hls.trigger(Le.MANIFEST_PARSED,w)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const d=new Error("invalid level idx"),f=e<0;if(this.hls.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:d,reason:d.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,a=i?i.attrs["PATHWAY-ID"]:void 0,o=r[e],c=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,n===e&&i&&a===c)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${c?" with Pathway "+c:""} from level ${n}${a?" with Pathway "+a:""}`);const u={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(Le.LEVEL_SWITCHING,u);const l=o.details;if(!l||l.live){const d=this.switchParams(o.uri,i?.details,l);this.loadPlaylist(d)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const r=this.steering.pathways(),n=e.filter(i=>r.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${r}`);return}this.steering.pathwayPriority=n}}onError(e,r){r.fatal||!r.context||r.context.type===ya.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragBuffered(e,{frag:r}){if(r!==void 0&&r.type===mi.MAIN){const n=r.elementaryStreams;if(!Object.keys(n).some(a=>!!n[a]))return;const i=this._levels[r.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:a}=r,o=r.levelInfo;if(!o){var c;this.warn(`Invalid level index ${i}`),(c=r.deliveryDirectives)!=null&&c.skip&&(a.deltaUpdateFailed=!0);return}if(o===this.currentLevel||r.withoutMultiVariant){o.fragmentError===0&&(o.loadError=0);let u=o.details;u===r.details&&u.advanced&&(u=void 0),this.playlistLoaded(i,r,u)}else(n=r.deliveryDirectives)!=null&&n.skip&&(a.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,r){super.loadingPlaylist(e,r);const n=this.getUrlWithDirectives(e.uri,r),i=this.currentLevelIndex,a=e.attrs["PATHWAY-ID"],o=e.details,c=o?.age;this.log(`Loading level index ${i}${r?.msn!==void 0?" at sn "+r.msn+" part "+r.part:""}${a?" Pathway "+a:""}${c&&o.live?" age "+c.toFixed(1)+(o.type&&" "+o.type||""):""} ${n}`),this.hls.trigger(Le.LEVEL_LOADING,{url:n,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:r||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var r;if(this._levels.length===1)return;const n=this._levels.filter((a,o)=>o!==e?!0:(this.steering&&this.steering.removeLevel(a),a===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,a.details&&a.details.fragments.forEach(c=>c.level=-1)),!1));Ese(n),this._levels=n,this.currentLevelIndex>-1&&(r=this.currentLevel)!=null&&r.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=n.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(Le.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:r}){this._levels=r}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:r,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==r&&(this._maxAutoLevel=r,this.hls.trigger(Le.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:r,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function JG(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}function vae(){return self.SourceBuffer||self.WebKitSourceBuffer}function xae(){if(!V0())return!1;const e=vae();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function zze(){if(!xae())return!1;const t=V0();return typeof t?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(A2(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(A2(e,"audio"))))}function Vze(){var t;const e=vae();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const Kze=100;class Gze extends eU{constructor(e,r,n){super(e,r,n,"stream-controller",mi.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,a=i?i.currentTime:null;if(a===null||!Jn(a)||(this.log(`Media seeked to ${a.toFixed(3)}`),!this.getBufferedFrag(a)))return;const o=this.getFwdBufferInfoAtPos(i,a,mi.MAIN,0);if(o===null||o.len===0){this.warn(`Main forward buffer length at ${a} on "seeked" event ${o?o.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.on(Le.LEVEL_LOADING,this.onLevelLoading,this),e.on(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.on(Le.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(Le.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(Le.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(Le.BUFFER_CREATED,this.onBufferCreated,this),e.on(Le.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(Le.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(Le.MANIFEST_PARSED,this.onManifestParsed,this),e.off(Le.LEVEL_LOADED,this.onLevelLoaded,this),e.off(Le.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(Le.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(Le.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(Le.BUFFER_CREATED,this.onBufferCreated,this),e.off(Le.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(Le.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(Le.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,r){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(Kze),this.level=-1,!this.startFragRequested){let a=i.startLevel;a===-1&&(i.config.testBandwidth&&this.levels.length>1?(a=0,this.bitrateTest=!0):a=i.firstAutoLevel),i.nextLoadLevel=a,this.level=i.loadLevel,this._hasEnoughToStart=!!r}n>0&&e===-1&&!r&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=Xr.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=r?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=Xr.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Xr.WAITING_LEVEL:{const{levels:e,level:r}=this,n=e?.[r],i=n?.details;if(i&&(!i.live||this.levelLastLoaded===n&&!this.waitForLive(n))){if(this.waitForCdnTuneIn(i))break;this.state=Xr.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Xr.IDLE;break}break}case Xr.FRAG_LOADING_WAITING_RETRY:this.checkRetryDate();break}this.state===Xr.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this;if(r===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const a=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[a]))return;const o=n[a],c=this.getMainFwdBufferInfo();if(c===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(c,u)){const x={};this.altAudio===2&&(x.type="video"),this.hls.trigger(Le.BUFFER_EOS,x),this.state=Xr.ENDED;return}if(!this.buffering)return;e.loadLevel!==a&&e.manualLevel===-1&&this.log(`Adapting to level ${a} from level ${this.level}`),this.level=e.nextLoadLevel=a;const l=o.details;if(!l||this.state===Xr.WAITING_LEVEL||this.waitForLive(o)){this.level=a,this.state=Xr.WAITING_LEVEL,this.startFragRequested=!1;return}const d=c.len,f=this.getMaxBufferLength(o.maxBitrate);if(d>=f)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const m=this.backtrackFragment?this.backtrackFragment.start:c.end;let p=this.getNextFragment(m,l);if(this.couldBacktrack&&!this.fragPrevious&&p&&ru(p)&&this.fragmentTracker.getState(p)!==Qu.OK){var g;const y=((g=this.backtrackFragment)!=null?g:p).sn-l.startSN,w=l.fragments[y-1];w&&p.cc===w.cc&&(p=w,this.fragmentTracker.removeFragment(w))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,m)){if(!p.gap){const y=this.audioOnly&&!this.altAudio?ul.AUDIO:ul.VIDEO,w=(y===ul.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;w&&this.afterBufferFlushed(w,y,mi.MAIN)}p=this.getNextFragmentLoopLoading(p,l,c,mi.MAIN,f)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,o,m))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);i===Qu.NOT_LOADED||i===Qu.PARTIAL?ru(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):super.loadFragment(e,r,n):this._loadInitSegment(e,r):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,mi.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const a=this.getLevelDetails();if(a!=null&&a.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<a.targetduration*2)return}if(!r.paused&&e){const c=this.hls.nextLoadLevel,u=e[c],l=this.fragLastKbps;l&&this.fragCurrent?n=this.fragCurrent.duration*u.maxBitrate/(1e3*l)+1:n=0}else n=0;const o=this.getBufferedFrag(r.currentTime+n);if(o){const c=this.followingBufferedFrag(o);if(c){this.abortCurrentFrag();const u=c.maxStartPTS?c.maxStartPTS:c.start,l=c.duration,d=Math.max(o.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,l*(this.couldBacktrack?.5:.125)),l*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(d,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Xr.KEY_LOADING:case Xr.FRAG_LOADING:case Xr.FRAG_LOADING_WAITING_RETRY:case Xr.PARSING:case Xr.PARSED:this.state=Xr.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio===2?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;wh(n,"playing",this.onMediaPlaying),wh(n,"seeked",this.onMediaSeeked)}onMediaDetaching(e,r){const{media:n}=this;n&&(Vh(n,"playing",this.onMediaPlaying),Vh(n,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,r),!r.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(Le.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,r){let n=!1,i=!1;for(let a=0;a<r.levels.length;a++){const o=r.levels[a].audioCodec;o&&(n=n||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}this.audioCodecSwitch=n&&i&&!Vze(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==Xr.IDLE)return;const i=r.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=Xr.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i,startFragRequested:a}=this,o=r.level,c=r.details,u=c.totalduration;if(!i){this.warn(`Levels were reset while loading level ${o}`);return}this.log(`Level ${o} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${u}`);const l=r.levelInfo,d=this.fragCurrent;d&&(this.state===Xr.FRAG_LOADING||this.state===Xr.FRAG_LOADING_WAITING_RETRY)&&d.level!==r.level&&d.loader&&this.abortCurrentFrag();let f=0;if(c.live||(n=l.details)!=null&&n.live){var m;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;f=this.alignPlaylists(c,l.details,(m=this.levelLastLoaded)==null?void 0:m.details)}if(l.details=c,this.levelLastLoaded=l,a||this.setStartPosition(c,f),this.hls.trigger(Le.LEVEL_UPDATED,{details:c,level:o}),this.state===Xr.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=Xr.IDLE}a&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,a=this.getLoadPosition(),o=e.fragmentStart,c=e.edge,u=a>=o-r.maxFragLookUpTolerance&&a<=c;if(i!==null&&n.duration>i&&(a<i||!u)){const d=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;if((!u&&n.readyState<4||a<c-d)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),n.readyState))if(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var l;const f=Hs.bufferInfo(n,i,0);if(!((l=f.buffered)!=null&&l.length)){n.currentTime=i;return}if(f.start<=a){n.currentTime=i;return}const{nextStart:p}=Hs.bufferedInfo(f.buffered,a,0);p&&(n.currentTime=p)}else n.currentTime=i}}_handleFragmentLoadProgress(e){var r;const n=e.frag,{part:i,payload:a}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const c=o[n.level];if(!c){this.warn(`Level ${n.level} not found on progress`);return}const u=c.details;if(!u){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const l=c.videoCodec,d=u.PTSKnown||!u.live,f=(r=n.initSegment)==null?void 0:r.data,m=this._getAudioCodec(c),p=this.transmuxer=this.transmuxer||new Vse(this.hls,mi.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=i?i.index:-1,x=g!==-1,y=new XF(n.level,n.sn,n.stats.chunkCount,a.byteLength,g,x),w=this.initPTS[n.cc];p.push(a,f,m,l,n,i,u.totalduration,d,y,w)}onAudioTrackSwitching(e,r){const n=this.hls,i=this.altAudio!==0;if(uN(r.url,n))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.altAudio=0,this.fragmentTracker.removeAllFragments(),n.once(Le.BUFFER_FLUSHED,()=>{this.hls&&this.hls.trigger(Le.AUDIO_TRACK_SWITCHED,r)}),n.trigger(Le.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}n.trigger(Le.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=uN(r.url,this.hls);if(n){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n?2:0,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,a,o=!1;for(const c in n){const u=n[c];if(u.id==="main"){if(a=c,i=u,c==="video"){const l=n[c];l&&(this.videoBuffer=l.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r,a=n.type===mi.MAIN;if(a){if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Xr.PARSED&&(this.state=Xr.IDLE);return}const c=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),ru(n)&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}const o=this.media;o&&(!this._hasEnoughToStart&&Hs.getBuffered(o).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),a&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,r){var n;if(r.fatal){this.state=Xr.ERROR;return}switch(r.details){case wr.FRAG_GAP:case wr.FRAG_PARSING_ERROR:case wr.FRAG_DECRYPT_ERROR:case wr.FRAG_LOAD_ERROR:case wr.FRAG_LOAD_TIMEOUT:case wr.KEY_LOAD_ERROR:case wr.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(mi.MAIN,r);break;case wr.LEVEL_LOAD_ERROR:case wr.LEVEL_LOAD_TIMEOUT:case wr.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===Xr.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===ya.LEVEL&&(this.state=Xr.IDLE);break;case wr.BUFFER_ADD_CODEC_ERROR:case wr.BUFFER_APPEND_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.resetLoadingState();break;case wr.BUFFER_FULL_ERROR:if(r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&(!this.config.interstitialsController&&this.config.assetPlayerId?this._hasEnoughToStart=!0:this.flushMainBuffer(0,Number.POSITIVE_INFINITY));break;case wr.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onFragLoadEmergencyAborted(){this.state=Xr.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==ul.AUDIO||!this.altAudio){const n=(r===ul.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;n&&(this.afterBufferFlushed(n,r,mi.MAIN),this.tick())}}onLevelsUpdated(e,r){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=this.timelineOffset;i&&n&&(n+=i);const a=this.getLevelDetails(),o=Hs.getBuffered(e),c=o.length?o.start(0):0,u=c-n,l=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||u>0&&(u<l||this.loadingParts&&u<2*(a?.partTarget||0)))&&(this.log(`adjusting start position by ${u} to match buffer start`),n+=u,this.startPosition=n),r<n&&(this.log(`seek to target start position ${n} from current time ${r} buffer start ${c}`),e.currentTime=n)}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this,a=n?.frag;if(!a||this.fragContextChanged(a))return;r.fragmentError=0,this.state=Xr.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const o=a.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),i.trigger(Le.FRAG_LOADED,n),a.bitrateTest=!1}).catch(n=>{this.state===Xr.STOPPED||this.state===Xr.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}_handleTransmuxComplete(e){const r=this.playlistType,{hls:n}=this,{remuxResult:i,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:c,part:u,level:l}=o,{video:d,text:f,id3:m,initSegment:p}=i,{details:g}=l,x=this.altAudio?void 0:i.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=Xr.PARSING,p){const y=p.tracks;if(y){const N=c.initSegment||c;if(this.unhandledEncryptionError(p,c))return;this._bufferInitSegment(l,y,N,a),n.trigger(Le.FRAG_PARSING_INIT_SEGMENT,{frag:N,id:r,tracks:y})}const w=p.initPTS,E=p.timescale,_=this.initPTS[c.cc];if(Jn(w)&&(!_||_.baseTime!==w||_.timescale!==E)){const N=p.trackId;this.initPTS[c.cc]={baseTime:w,timescale:E,trackId:N},n.trigger(Le.INIT_PTS_FOUND,{frag:c,id:r,initPTS:w,timescale:E,trackId:N})}}if(d&&g){x&&d.type==="audiovideo"&&this.logMuxedErr(c);const y=g.fragments[c.sn-1-g.startSN],w=c.sn===g.startSN,E=!y||c.cc>y.cc;if(i.independent!==!1){const{startPTS:_,endPTS:N,startDTS:C,endDTS:I}=d;if(u)u.elementaryStreams[d.type]={startPTS:_,endPTS:N,startDTS:C,endDTS:I};else if(d.firstKeyFrame&&d.independent&&a.id===1&&!E&&(this.couldBacktrack=!0),d.dropped&&d.independent){const D=this.getMainFwdBufferInfo(),M=(D?D.end:this.getLoadPosition())+this.config.maxBufferHole,Y=d.firstKeyFramePTS?d.firstKeyFramePTS:_;if(!w&&M<Y-this.config.maxBufferHole&&!E){this.backtrack(c);return}else E&&(c.gap=!0);c.setElementaryStreamInfo(d.type,c.start,N,c.start,I,!0)}else w&&_-(g.appliedTimelineOffset||0)>Tj&&(c.gap=!0);c.setElementaryStreamInfo(d.type,_,N,C,I),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(d,c,u,a,w||E)}else if(w||E)c.gap=!0;else{this.backtrack(c);return}}if(x){const{startPTS:y,endPTS:w,startDTS:E,endDTS:_}=x;u&&(u.elementaryStreams[ul.AUDIO]={startPTS:y,endPTS:w,startDTS:E,endDTS:_}),c.setElementaryStreamInfo(ul.AUDIO,y,w,E,_),this.bufferFragmentData(x,c,u,a)}if(g&&m!=null&&m.samples.length){const y={id:r,frag:c,details:g,samples:m.samples};n.trigger(Le.FRAG_PARSING_METADATA,y)}if(g&&f){const y={id:r,frag:c,details:g,samples:f.samples};n.trigger(Le.FRAG_PARSING_USERDATA,y)}}logMuxedErr(e){this.warn(`${ru(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,r,n,i){if(this.state!==Xr.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&(delete r.audio,r.audiovideo&&this.logMuxedErr(n));const{audio:a,video:o,audiovideo:c}=r;if(a){const l=e.audioCodec;let d=yj(a.codec,l);d==="mp4a"&&(d="mp4a.40.5");const f=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){d&&(d.indexOf("mp4a.40.5")!==-1?d="mp4a.40.2":d="mp4a.40.5");const m=a.metadata;m&&"channelCount"in m&&(m.channelCount||1)!==1&&f.indexOf("firefox")===-1&&(d="mp4a.40.5")}d&&d.indexOf("mp4a.40.5")!==-1&&f.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(d="mp4a.40.2",this.log(`Android: force audio codec to ${d}`)),l&&l!==d&&this.log(`Swapping manifest audio codec "${l}" for "${d}"`),a.levelCodec=d,a.id=mi.MAIN,this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${d||""}/${l||""}/${a.codec}]`),delete r.audiovideo}if(o){o.levelCodec=e.videoCodec,o.id=mi.MAIN;const l=o.codec;if(l?.length===4)switch(l){case"hvc1":case"hev1":o.codec="hvc1.1.6.L120.90";break;case"av01":o.codec="av01.0.04M.08";break;case"avc1":o.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${l}]${o.codec!==l?" parsed-corrected="+o.codec:""}${o.supplemental?" supplemental="+o.supplemental:""}`),delete r.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${e.codecs}/${c.codec}]`),delete r.video,delete r.audio);const u=Object.keys(r);if(u.length){if(this.hls.trigger(Le.BUFFER_CODECS,r),!this.hls)return;u.forEach(l=>{const f=r[l].initSegment;f!=null&&f.byteLength&&this.hls.trigger(Le.BUFFER_APPENDING,{type:l,data:f,frag:n,part:null,chunkMeta:i,parent:n.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,mi.MAIN)}get maxBufferLength(){const{levels:e,level:r}=this,n=e?.[r];return n?this.getMaxBufferLength(n.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Xr.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Hs.isBuffered(e,n)?r=this.getAppendedFrag(n):Hs.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,a=r.level;(!i||r.sn!==i.sn||i.level!==a)&&(this.fragPlaying=r,this.hls.trigger(Le.FRAG_CHANGED,{frag:r}),(!i||i.level!==a)&&this.hls.trigger(Le.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return Jn(r)?this.getAppendedFrag(r):null}get currentProgramDateTime(){var e;const r=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(Jn(r)){const n=this.getLevelDetails(),i=this.currentFrag||(n?Lx(null,n.fragments,r):null);if(i){const a=i.programDateTime;if(a!==null){const o=a+(r-i.start)*1e3;return new Date(o)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Wze extends cm{constructor(e,r){super("key-loader",r),this.config=void 0,this.keyIdToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyIdToKeyInfo){const i=this.keyIdToKeyInfo[n].loader;if(i){var r;if(e&&e!==((r=i.context)==null?void 0:r.frag.type))return;i.abort()}}}detach(){for(const e in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyIdToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyIdToKeyInfo){const r=this.keyIdToKeyInfo[e].loader;r&&r.destroy()}this.keyIdToKeyInfo={}}createKeyLoadError(e,r=wr.KEY_LOAD_ERROR,n,i,a){return new Bp({type:Oi.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:a,error:n,networkDetails:i})}loadClear(e,r,n){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(r.length)for(let i=0,a=r.length;i<a;i++){const o=r[i];if(e.cc<=o.cc&&(!ru(e)||!ru(o)||e.sn<o.sn)||!n&&i==a-1)return this.emeController.selectKeySystemFormat(o).then(c=>{if(!this.emeController)return;o.setKeyFormat(c);const u=wj(c);if(u)return this.emeController.getKeySystemAccess([u])})}if(this.config.requireKeySystemAccessOnStart){const i=Dw(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const a=e.decryptdata;if(!a){const l=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:`Missing decryption data on fragment in onKeyLoading (emeEnabled with controller: ${this.emeController&&this.config.emeEnabled})`);return Promise.reject(this.createKeyLoadError(e,wr.KEY_LOAD_ERROR,l))}const o=a.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,wr.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));const c=sB(a);let u=this.keyIdToKeyInfo[c];if((n=u)!=null&&n.decryptdata.key)return a.key=u.decryptdata.key,Promise.resolve({frag:e,keyInfo:u});if(this.emeController&&(i=u)!=null&&i.keyLoadPromise)switch(this.emeController.getKeyStatus(u.decryptdata)){case"usable":case"usable-in-future":return u.keyLoadPromise.then(d=>{const{keyInfo:f}=d;return a.key=f.decryptdata.key,{frag:e,keyInfo:f}})}switch(this.log(`${this.keyIdToKeyInfo[c]?"Rel":"L"}oading${a.keyId?" keyId: "+Qd(a.keyId):""} URI: ${a.uri} from ${e.type} ${e.level}`),u=this.keyIdToKeyInfo[c]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(u,e):this.loadKeyEME(u,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(u,e);default:return Promise.reject(this.createKeyLoadError(e,wr.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var i;if(!e.decryptdata.keyId&&(i=r.initSegment)!=null&&i.data){const o=f$e(r.initSegment.data);if(o.length){let c=o[0];c.some(u=>u!==0)?(this.log(`Using keyId found in init segment ${Qd(c)}`),R0.setKeyIdForUri(e.decryptdata.uri,c)):(c=R0.addKeyIdForUri(e.decryptdata.uri),this.log(`Generating keyId to patch media ${Qd(c)}`)),e.decryptdata.keyId=c}}if(!e.decryptdata.keyId&&!ru(r))return Promise.resolve(n);const a=this.emeController.loadKey(n);return(e.keyLoadPromise=a.then(o=>(e.mediaKeySessionContext=o,n))).catch(o=>{throw e.keyLoadPromise=null,"data"in o&&(o.data.frag=r),o})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,a=new i(n);return r.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((o,c)=>{const u={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},l=n.keyLoadPolicy.default,d={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(m,p,g,x)=>{const{frag:y,keyInfo:w}=g,E=sB(w.decryptdata);if(!y.decryptdata||w!==this.keyIdToKeyInfo[E])return c(this.createKeyLoadError(y,wr.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),x));w.decryptdata.key=y.decryptdata.key=new Uint8Array(m.data),y.keyLoader=null,w.loader=null,o({frag:y,keyInfo:w})},onError:(m,p,g,x)=>{this.resetLoader(p),c(this.createKeyLoadError(r,wr.KEY_LOAD_ERROR,new Error(`HTTP Error ${m.code} loading key ${m.text}`),g,Uo({url:u.url,data:void 0},m)))},onTimeout:(m,p,g)=>{this.resetLoader(p),c(this.createKeyLoadError(r,wr.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),g))},onAbort:(m,p,g)=>{this.resetLoader(p),c(this.createKeyLoadError(r,wr.INTERNAL_ABORTED,new Error("key loading aborted"),g))}};a.load(u,d,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,a=n.loader;r.keyLoader===a&&(r.keyLoader=null,n.loader=null);const o=sB(n.decryptdata)||i;delete this.keyIdToKeyInfo[o],a&&a.destroy()}}function sB(t){if(t.keyFormat!==zd.FAIRPLAY){const e=t.keyId;if(e)return Qd(e)}return t.uri}function eW(t){const{type:e}=t;switch(e){case ya.AUDIO_TRACK:return mi.AUDIO;case ya.SUBTITLE_TRACK:return mi.SUBTITLE;default:return mi.MAIN}}function aB(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class Yze{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.on(Le.LEVEL_LOADING,this.onLevelLoading,this),e.on(Le.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(Le.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(Le.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(Le.MANIFEST_LOADING,this.onManifestLoading,this),e.off(Le.LEVEL_LOADING,this.onLevelLoading,this),e.off(Le.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(Le.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(Le.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,a=n||i,o=new a(r);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:ya.MANIFEST,url:n,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,r){const{id:n,level:i,pathwayId:a,url:o,deliveryDirectives:c,levelInfo:u}=r;this.load({id:n,level:i,pathwayId:a,responseType:"text",type:ya.LEVEL,url:o,deliveryDirectives:c,levelOrTrack:u})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:o,track:c}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:ya.AUDIO_TRACK,url:a,deliveryDirectives:o,levelOrTrack:c})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:o,track:c}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:ya.SUBTITLE_TRACK,url:a,deliveryDirectives:o,levelOrTrack:c})}onLevelsUpdated(e,r){const n=this.loaders[ya.LEVEL];if(n){const i=n.context;i&&!r.levels.some(a=>a===i.levelOrTrack)&&(n.abort(),delete this.loaders[ya.LEVEL])}}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const l=this.hls.logger,d=i.context;if(d&&d.levelOrTrack===e.levelOrTrack&&(d.url===e.url||d.deliveryDirectives&&!e.deliveryDirectives)){d.url===e.url?l.log(`[playlist-loader]: ignore ${e.url} ongoing request`):l.log(`[playlist-loader]: ignore ${e.url} in favor of ${d.url}`);return}l.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let a;if(e.type===ya.MANIFEST?a=n.manifestLoadPolicy.default:a=nl({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),Jn((r=e.deliveryDirectives)==null?void 0:r.part)){let l;if(e.type===ya.LEVEL&&e.level!==null?l=this.hls.levels[e.level].details:e.type===ya.AUDIO_TRACK&&e.id!==null?l=this.hls.audioTracks[e.id].details:e.type===ya.SUBTITLE_TRACK&&e.id!==null&&(l=this.hls.subtitleTracks[e.id].details),l){const d=l.partTarget,f=l.targetduration;if(d&&f){const m=Math.max(d*3,f*.8)*1e3;a=nl({},a,{maxTimeToFirstByteMs:Math.min(m,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(m,a.maxTimeToFirstByteMs)})}}}const o=a.errorRetry||a.timeoutRetry||{},c={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},u={onSuccess:(l,d,f,m)=>{const p=this.getInternalLoader(f);this.resetInternalLoader(f.type);const g=l.data;d.parsing.start=performance.now(),UA.isMediaPlaylist(g)||f.type!==ya.MANIFEST?this.handleTrackOrLevelPlaylist(l,d,f,m||null,p):this.handleMasterPlaylist(l,d,f,m)},onError:(l,d,f,m)=>{this.handleNetworkError(d,f,!1,l,m)},onTimeout:(l,d,f)=>{this.handleNetworkError(d,f,!0,void 0,l)}};i.load(e,c,u)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:r},forceStartLoad:n}=this.hls;(e||n)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${r}`),this.hls.startLoad(r))}handleMasterPlaylist(e,r,n,i){const a=this.hls,o=e.data,c=aB(e,n),u=UA.parseMasterPlaylist(o,c);if(u.playlistParsingError){r.parsing.end=performance.now(),this.handleManifestParsingError(e,n,u.playlistParsingError,i,r);return}const{contentSteering:l,levels:d,sessionData:f,sessionKeys:m,startTimeOffset:p,variableList:g}=u;this.variableList=g,d.forEach(E=>{const{unknownCodecs:_}=E;if(_){const{preferManagedMediaSource:N}=this.hls.config;let{audioCodec:C,videoCodec:I}=E;for(let D=_.length;D--;){const M=_[D];m2(M,"audio",N)?(E.audioCodec=C=C?`${C},${M}`:M,i1.audio[C.substring(0,4)]=2,_.splice(D,1)):m2(M,"video",N)&&(E.videoCodec=I=I?`${I},${M}`:M,i1.video[I.substring(0,4)]=2,_.splice(D,1))}}});const{AUDIO:x=[],SUBTITLES:y,"CLOSED-CAPTIONS":w}=UA.parseMasterPlaylistMedia(o,c,u);x.length&&!x.some(_=>!_.url)&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),x.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new dc({}),bitrate:0,url:""})),a.trigger(Le.MANIFEST_LOADED,{levels:d,audioTracks:x,subtitles:y,captions:w,contentSteering:l,url:c,stats:r,networkDetails:i,sessionData:f,sessionKeys:m,startTimeOffset:p,variableList:g})}handleTrackOrLevelPlaylist(e,r,n,i,a){const o=this.hls,{id:c,level:u,type:l}=n,d=aB(e,n),f=Jn(u)?u:Jn(c)?c:0,m=eW(n),p=UA.parseLevelPlaylist(e.data,d,f,m,0,this.variableList);if(l===ya.MANIFEST){const g={attrs:new dc({}),bitrate:0,details:p,name:"",url:d};p.requestScheduled=r.loading.start+yse(p,0),o.trigger(Le.MANIFEST_LOADED,{levels:[g],audioTracks:[],url:d,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,r,n,i,a)}handleManifestParsingError(e,r,n,i,a){this.hls.trigger(Le.ERROR,{type:Oi.NETWORK_ERROR,details:wr.MANIFEST_PARSING_ERROR,fatal:r.type===ya.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:a})}handleNetworkError(e,r,n=!1,i,a){let o=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===ya.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===ya.AUDIO_TRACK||e.type===ya.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const c=new Error(o);this.hls.logger.warn(`[playlist-loader]: ${o}`);let u=wr.UNKNOWN,l=!1;const d=this.getInternalLoader(e);switch(e.type){case ya.MANIFEST:u=n?wr.MANIFEST_LOAD_TIMEOUT:wr.MANIFEST_LOAD_ERROR,l=!0;break;case ya.LEVEL:u=n?wr.LEVEL_LOAD_TIMEOUT:wr.LEVEL_LOAD_ERROR,l=!1;break;case ya.AUDIO_TRACK:u=n?wr.AUDIO_TRACK_LOAD_TIMEOUT:wr.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case ya.SUBTITLE_TRACK:u=n?wr.SUBTITLE_TRACK_LOAD_TIMEOUT:wr.SUBTITLE_LOAD_ERROR,l=!1;break}d&&this.resetInternalLoader(e.type);const f={type:Oi.NETWORK_ERROR,details:u,fatal:l,url:e.url,loader:d,context:e,error:c,networkDetails:r,stats:a};if(i){const m=r?.url||e.url;f.response=Uo({url:m,data:void 0},i)}this.hls.trigger(Le.ERROR,f)}handlePlaylistLoaded(e,r,n,i,a,o){const c=this.hls,{type:u,level:l,levelOrTrack:d,id:f,groupId:m,deliveryDirectives:p}=i,g=aB(r,i),x=eW(i);let y=typeof i.level=="number"&&x===mi.MAIN?l:void 0;const w=e.playlistParsingError;if(w){if(this.hls.logger.warn(`${w} ${e.url}`),!c.config.ignorePlaylistParsingErrors){c.trigger(Le.ERROR,{type:Oi.NETWORK_ERROR,details:wr.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:w,reason:w.message,response:r,context:i,level:y,parent:x,networkDetails:a,stats:n});return}e.playlistParsingError=null}if(!e.fragments.length){const E=e.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(Le.ERROR,{type:Oi.NETWORK_ERROR,details:wr.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:E,reason:E.message,response:r,context:i,level:y,parent:x,networkDetails:a,stats:n});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),u){case ya.MANIFEST:case ya.LEVEL:if(y){if(!d)y=0;else if(d!==c.levels[y]){const E=c.levels.indexOf(d);E>-1&&(y=E)}}c.trigger(Le.LEVEL_LOADED,{details:e,levelInfo:d||c.levels[0],level:y||0,id:f||0,stats:n,networkDetails:a,deliveryDirectives:p,withoutMultiVariant:u===ya.MANIFEST});break;case ya.AUDIO_TRACK:c.trigger(Le.AUDIO_TRACK_LOADED,{details:e,track:d,id:f||0,groupId:m||"",stats:n,networkDetails:a,deliveryDirectives:p});break;case ya.SUBTITLE_TRACK:c.trigger(Le.SUBTITLE_TRACK_LOADED,{details:e,track:d,id:f||0,groupId:m||"",stats:n,networkDetails:a,deliveryDirectives:p});break}}}class E0{static get version(){return g2}static isMSESupported(){return xae()}static isSupported(){return zze()}static getMediaSource(){return V0()}static get Events(){return Le}static get MetadataSchema(){return vf}static get ErrorTypes(){return Oi}static get ErrorDetails(){return wr}static get DefaultConfig(){return E0.defaultConfig?E0.defaultConfig:Ize}static set DefaultConfig(e){E0.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new tU,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const r=this.logger=t$e(e.debug||!1,"Hls instance",e.assetPlayerId),n=this.config=Pze(E0.DefaultConfig,e,r);this.userConfig=e,n.progressive&&Oze(n,r);const{abrController:i,bufferController:a,capLevelController:o,errorController:c,fpsController:u}=n,l=new c(this),d=this.abrController=new i(this),f=new q$e(this),m=n.interstitialsController,p=m?this.interstitialsController=new m(this,E0):null,g=this.bufferController=new a(this,f),x=this.capLevelController=new o(this),y=new u(this),w=new Yze(this),E=n.contentSteeringController,_=E?new E(this):null,N=this.levelController=new Qze(this,_),C=new $ze(this),I=new Wze(this.config,this.logger),D=this.streamController=new Gze(this,f,I),M=this.gapController=new Fze(this,f);x.setStreamController(D),y.setStreamController(D);const Y=[w,N,D];p&&Y.splice(1,0,p),_&&Y.splice(1,0,_),this.networkControllers=Y;const X=[d,g,M,x,y,C,f];this.audioTrackController=this.createController(n.audioTrackController,Y);const te=n.audioStreamController;te&&Y.push(this.audioStreamController=new te(this,f,I)),this.subtitleTrackController=this.createController(n.subtitleTrackController,Y);const de=n.subtitleStreamController;de&&Y.push(this.subtititleStreamController=new de(this,f,I)),this.createController(n.timelineController,X),I.emeController=this.emeController=this.createController(n.emeController,X),this.cmcdController=this.createController(n.cmcdController,X),this.latencyController=this.createController(Hze,X),this.coreComponents=X,Y.push(l);const ye=l.onErrorOut;typeof ye=="function"&&this.on(Le.ERROR,ye,l),this.on(Le.MANIFEST_LOADED,w.onManifestLoaded,w)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const i=e===Le.ERROR;this.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.INTERNAL_EXCEPTION,fatal:i,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(Le.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const a=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(Le.ERROR,{type:Oi.OTHER_ERROR,details:wr.ATTACH_MEDIA_ERROR,fatal:!0,error:a});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const r="media"in e,n=r?e.media:e,i=r?e:{media:n};this._media=n,this.trigger(Le.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(Le.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(Le.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const r=this.media,n=this._url,i=this._url=zF.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),r&&n&&(n!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(Le.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,r){this.logger.log(`startLoad(${e+(r?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e,r),!(!this.started||!this.networkControllers));n++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[mi.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[mi.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[mi.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,r=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),r&&this.startLoad(r))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=FQe()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){P$e(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e!=null&&e.length?i=e.length-1:i=r,n)for(let a=i;a--;){const o=e[a].attrs["HDCP-LEVEL"];if(o&&o<=n)return a}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var r;return((r=this.audioTrackController)==null?void 0:r.setAudioOption(e))||null}setSubtitleOption(e){var r;return((r=this.subtitleTrackController)==null?void 0:r.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,r=this.allAudioTracks){const n=sse(r);return nse(e,n,navigator.mediaCapabilities)}}E0.defaultConfig=void 0;var Ba=E0,jl={VIDEO:"video",THUMBNAIL:"thumbnail",STORYBOARD:"storyboard",DRM:"drm"},ts={NOT_AN_ERROR:0,NETWORK_OFFLINE:2000002,NETWORK_UNKNOWN_ERROR:2e6,NETWORK_NO_STATUS:2000001,NETWORK_INVALID_URL:24e5,NETWORK_NOT_FOUND:2404e3,NETWORK_NOT_READY:2412e3,NETWORK_GENERIC_SERVER_FAIL:25e5,NETWORK_TOKEN_MISSING:2403201,NETWORK_TOKEN_MALFORMED:2412202,NETWORK_TOKEN_EXPIRED:2403210,NETWORK_TOKEN_AUD_MISSING:2403221,NETWORK_TOKEN_AUD_MISMATCH:2403222,NETWORK_TOKEN_SUB_MISMATCH:2403232,ENCRYPTED_ERROR:5e6,ENCRYPTED_UNSUPPORTED_KEY_SYSTEM:5000001,ENCRYPTED_GENERATE_REQUEST_FAILED:5000002,ENCRYPTED_UPDATE_LICENSE_FAILED:5000003,ENCRYPTED_UPDATE_SERVER_CERT_FAILED:5000004,ENCRYPTED_CDM_ERROR:5000005,ENCRYPTED_OUTPUT_RESTRICTED:5000006,ENCRYPTED_MISSING_TOKEN:5000002},a5=t=>t===jl.VIDEO?"playback":t,a0=class Mw extends Error{constructor(e,r=Mw.MEDIA_ERR_CUSTOM,n,i){var a;super(e),this.name="MediaError",this.code=r,this.context=i,this.fatal=n??(r>=Mw.MEDIA_ERR_NETWORK&&r<=Mw.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(a=Mw.defaultMessages[this.code])!=null?a:"")}};a0.MEDIA_ERR_ABORTED=1,a0.MEDIA_ERR_NETWORK=2,a0.MEDIA_ERR_DECODE=3,a0.MEDIA_ERR_SRC_NOT_SUPPORTED=4,a0.MEDIA_ERR_ENCRYPTED=5,a0.MEDIA_ERR_CUSTOM=100,a0.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var si=a0,qze=t=>t==null,fU=(t,e)=>qze(e)?!1:t in e,YO={ANY:"any",MUTED:"muted"},Lo={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},$A={MSE:"mse",NATIVE:"native"},Fw={HEADER:"header",QUERY:"query",NONE:"none"},vN=Object.values(Fw),Yp={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},tW={HLS:Yp.M3U8};[...Object.values(Yp)];var Xze="en",qO={code:Xze},vu=(t,e,r,n,i=t)=>{i.addEventListener(e,r,n),t.addEventListener("teardown",()=>{i.removeEventListener(e,r)},{once:!0})};function Zze(t,e,r){e&&r>e&&(r=e);for(let n=0;n<t.length;n++)if(t.start(n)<=r&&t.end(n)>=r)return!0;return!1}var mU=t=>{let e=t.indexOf("?");if(e<0)return[t];let r=t.slice(0,e),n=t.slice(e);return[r,n]},o5=t=>{let{type:e}=t;if(e){let r=e.toUpperCase();return fU(r,tW)?tW[r]:e}return Jze(t)},yae=t=>t==="VOD"?Lo.ON_DEMAND:Lo.LIVE,bae=t=>t==="EVENT"?Number.POSITIVE_INFINITY:t==="VOD"?Number.NaN:0,Jze=t=>{let{src:e}=t;if(!e)return"";let r="";try{r=new URL(e).pathname}catch{console.error("invalid url")}let n=r.lastIndexOf(".");if(n<0)return tVe(t)?Yp.M3U8:"";let i=r.slice(n+1).toUpperCase();return fU(i,Yp)?Yp[i]:""},eVe="mux.com",tVe=({src:t,customDomain:e=eVe})=>{let r;try{r=new URL(`${t}`)}catch{return!1}let n=r.protocol==="https:",i=r.hostname===`stream.${e}`.toLowerCase(),a=r.pathname.split("/"),o=a.length===2,c=!(a!=null&&a[1].includes("."));return n&&i&&o&&c},Ib=t=>{let e=(t??"").split(".")[1];if(e)try{let r=e.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(r).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}catch{return}},rVe=({exp:t},e=Date.now())=>!t||t*1e3<e,nVe=({sub:t},e)=>t!==e,iVe=({aud:t},e)=>!t,sVe=({aud:t},e)=>t!==e,wae="en";function Ki(t,e=!0){var r,n;let i=e&&(n=(r=qO)==null?void 0:r[t])!=null?n:t,a=e?qO.code:wae;return new aVe(i,a)}var aVe=class{constructor(t,e=(r=>(r=qO)!=null?r:wae)()){this.message=t,this.locale=e}format(t){return this.message.replace(/\{(\w+)\}/g,(e,r)=>{var n;return(n=t[r])!=null?n:""})}toString(){return this.message}},oVe=Object.values(YO),rW=t=>typeof t=="boolean"||typeof t=="string"&&oVe.includes(t),lVe=(t,e,r)=>{let{autoplay:n}=t,i=!1,a=!1,o=rW(n)?n:!!n,c=()=>{i||vu(e,"playing",()=>{i=!0},{once:!0})};if(c(),vu(e,"loadstart",()=>{i=!1,c(),oB(e,o)},{once:!0}),vu(e,"loadstart",()=>{r||(t.streamType&&t.streamType!==Lo.UNKNOWN?a=t.streamType===Lo.LIVE:a=!Number.isFinite(e.duration)),oB(e,o)},{once:!0}),r&&r.once(Ba.Events.LEVEL_LOADED,(u,l)=>{var d;t.streamType&&t.streamType!==Lo.UNKNOWN?a=t.streamType===Lo.LIVE:a=(d=l.details.live)!=null?d:!1}),!o){let u=()=>{!a||Number.isFinite(t.startTime)||(r!=null&&r.liveSyncPosition?e.currentTime=r.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};r&&vu(e,"play",()=>{e.preload==="metadata"?r.once(Ba.Events.LEVEL_UPDATED,u):u()},{once:!0})}return u=>{i||(o=rW(u)?u:!!u,oB(e,o))}},oB=(t,e)=>{if(!e)return;let r=t.muted,n=()=>t.muted=r;switch(e){case YO.ANY:t.play().catch(()=>{t.muted=!0,t.play().catch(n)});break;case YO.MUTED:t.muted=!0,t.play().catch(n);break;default:t.play().catch(()=>{});break}},cVe=({preload:t,src:e},r,n)=>{let i=f=>{f!=null&&["","none","metadata","auto"].includes(f)?r.setAttribute("preload",f):r.removeAttribute("preload")};if(!n)return i(t),i;let a=!1,o=!1,c=n.config.maxBufferLength,u=n.config.maxBufferSize,l=f=>{i(f);let m=f??r.preload;o||m==="none"||(m==="metadata"?(n.config.maxBufferLength=1,n.config.maxBufferSize=1):(n.config.maxBufferLength=c,n.config.maxBufferSize=u),d())},d=()=>{!a&&e&&(a=!0,n.loadSource(e))};return vu(r,"play",()=>{o=!0,n.config.maxBufferLength=c,n.config.maxBufferSize=u,d()},{once:!0}),l(t),l};function uVe(t,e){var r;if(!("videoTracks"in t))return;let n=new WeakMap;e.on(Ba.Events.MANIFEST_PARSED,function(u,l){c();let d=t.addVideoTrack("main");d.selected=!0;for(let[f,m]of l.levels.entries()){let p=d.addRendition(m.url[0],m.width,m.height,m.videoCodec,m.bitrate);n.set(m,`${f}`),p.id=`${f}`}}),e.on(Ba.Events.AUDIO_TRACKS_UPDATED,function(u,l){o();for(let d of l.audioTracks){let f=d.default?"main":"alternative",m=t.addAudioTrack(f,d.name,d.lang);m.id=`${d.id}`,d.default&&(m.enabled=!0)}}),t.audioTracks.addEventListener("change",()=>{var u;let l=+((u=[...t.audioTracks].find(f=>f.enabled))==null?void 0:u.id),d=e.audioTracks.map(f=>f.id);l!=e.audioTrack&&d.includes(l)&&(e.audioTrack=l)}),e.on(Ba.Events.LEVELS_UPDATED,function(u,l){var d;let f=t.videoTracks[(d=t.videoTracks.selectedIndex)!=null?d:0];if(!f)return;let m=l.levels.map(p=>n.get(p));for(let p of t.videoRenditions)p.id&&!m.includes(p.id)&&f.removeRendition(p)});let i=u=>{let l=u.target.selectedIndex;l!=e.nextLevel&&(e.nextLevel=l)};(r=t.videoRenditions)==null||r.addEventListener("change",i);let a=()=>{for(let u of t.videoTracks)t.removeVideoTrack(u)},o=()=>{for(let u of t.audioTracks)t.removeAudioTrack(u)},c=()=>{a(),o()};e.once(Ba.Events.DESTROYING,c)}var lB=t=>"time"in t?t.time:t.startTime;function dVe(t,e){e.on(Ba.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(i,{tracks:a})=>{a.forEach(o=>{var c,u;let l=(c=o.subtitleTrack)!=null?c:o.closedCaptions,d=e.subtitleTracks.findIndex(({lang:m,name:p,type:g})=>m==l?.lang&&p===o.label&&g.toLowerCase()===o.kind),f=((u=o._id)!=null?u:o.default)?"default":`${o.kind}${d}`;AU(t,o.kind,o.label,l?.lang,f,o.default)})});let r=()=>{if(!e.subtitleTracks.length)return;let i=Array.from(t.textTracks).find(c=>c.id&&c.mode==="showing"&&["subtitles","captions"].includes(c.kind));if(!i)return;let a=e.subtitleTracks[e.subtitleTrack],o=a?a.default?"default":`${e.subtitleTracks[e.subtitleTrack].type.toLowerCase()}${e.subtitleTrack}`:void 0;if(e.subtitleTrack<0||i?.id!==o){let c=e.subtitleTracks.findIndex(({lang:u,name:l,type:d,default:f})=>i.id==="default"&&f||u==i.language&&l===i.label&&d.toLowerCase()===i.kind);e.subtitleTrack=c}i?.id===o&&i.cues&&Array.from(i.cues).forEach(c=>{i.addCue(c)})};t.textTracks.addEventListener("change",r),e.on(Ba.Events.CUES_PARSED,(i,{track:a,cues:o})=>{let c=t.textTracks.getTrackById(a);if(!c)return;let u=c.mode==="disabled";u&&(c.mode="hidden"),o.forEach(l=>{var d;(d=c.cues)!=null&&d.getCueById(l.id)||c.addCue(l)}),u&&(c.mode="disabled")}),e.once(Ba.Events.DESTROYING,()=>{t.textTracks.removeEventListener("change",r),t.querySelectorAll("track[data-removeondestroy]").forEach(i=>{i.remove()})});let n=()=>{Array.from(t.textTracks).forEach(i=>{var a,o;if(!["subtitles","caption"].includes(i.kind)&&(i.label==="thumbnails"||i.kind==="chapters")){if(!((a=i.cues)!=null&&a.length)){let c="track";i.kind&&(c+=`[kind="${i.kind}"]`),i.label&&(c+=`[label="${i.label}"]`);let u=t.querySelector(c),l=(o=u?.getAttribute("src"))!=null?o:"";u?.removeAttribute("src"),setTimeout(()=>{u?.setAttribute("src",l)},0)}i.mode!=="hidden"&&(i.mode="hidden")}})};e.once(Ba.Events.MANIFEST_LOADED,n),e.once(Ba.Events.MEDIA_ATTACHED,n)}function AU(t,e,r,n,i,a){let o=document.createElement("track");return o.kind=e,o.label=r,n&&(o.srclang=n),i&&(o.id=i),a&&(o.default=!0),o.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",o.setAttribute("data-removeondestroy",""),t.append(o),o.track}function hVe(t,e){let r=Array.prototype.find.call(t.querySelectorAll("track"),n=>n.track===e);r?.remove()}function j_(t,e,r){var n;return(n=Array.from(t.querySelectorAll("track")).find(i=>i.track.label===e&&i.track.kind===r))==null?void 0:n.track}async function Eae(t,e,r,n){let i=j_(t,r,n);return i||(i=AU(t,n,r),i.mode="hidden",await new Promise(a=>setTimeout(()=>a(void 0),0))),i.mode!=="hidden"&&(i.mode="hidden"),[...e].sort((a,o)=>lB(o)-lB(a)).forEach(a=>{var o,c;let u=a.value,l=lB(a);if("endTime"in a&&a.endTime!=null)i?.addCue(new VTTCue(l,a.endTime,n==="chapters"?u:JSON.stringify(u??null)));else{let d=Array.prototype.findIndex.call(i?.cues,g=>g.startTime>=l),f=(o=i?.cues)==null?void 0:o[d],m=f?f.startTime:Number.isFinite(t.duration)?t.duration:Number.MAX_SAFE_INTEGER,p=(c=i?.cues)==null?void 0:c[d-1];p&&(p.endTime=l),i?.addCue(new VTTCue(l,m,n==="chapters"?u:JSON.stringify(u??null)))}}),t.textTracks.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),i}var pU="cuepoints",_ae=Object.freeze({label:pU});async function Sae(t,e,r=_ae){return Eae(t,e,r.label,"metadata")}var XO=t=>({time:t.startTime,value:JSON.parse(t.text)});function fVe(t,e={label:pU}){let r=j_(t,e.label,"metadata");return r!=null&&r.cues?Array.from(r.cues,n=>XO(n)):[]}function jae(t,e={label:pU}){var r,n;let i=j_(t,e.label,"metadata");if(!((r=i?.activeCues)!=null&&r.length))return;if(i.activeCues.length===1)return XO(i.activeCues[0]);let{currentTime:a}=t,o=Array.prototype.find.call((n=i.activeCues)!=null?n:[],({startTime:c,endTime:u})=>c<=a&&u>a);return XO(o||i.activeCues[0])}async function mVe(t,e=_ae){return new Promise(r=>{vu(t,"loadstart",async()=>{let n=await Sae(t,[],e);vu(t,"cuechange",()=>{let i=jae(t);if(i){let a=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(a)}},{},n),r(n)})})}var gU="chapters",Tae=Object.freeze({label:gU}),ZO=t=>({startTime:t.startTime,endTime:t.endTime,value:t.text});async function Cae(t,e,r=Tae){return Eae(t,e,r.label,"chapters")}function AVe(t,e={label:gU}){var r;let n=j_(t,e.label,"chapters");return(r=n?.cues)!=null&&r.length?Array.from(n.cues,i=>ZO(i)):[]}function Nae(t,e={label:gU}){var r,n;let i=j_(t,e.label,"chapters");if(!((r=i?.activeCues)!=null&&r.length))return;if(i.activeCues.length===1)return ZO(i.activeCues[0]);let{currentTime:a}=t,o=Array.prototype.find.call((n=i.activeCues)!=null?n:[],({startTime:c,endTime:u})=>c<=a&&u>a);return ZO(o||i.activeCues[0])}async function pVe(t,e=Tae){return new Promise(r=>{vu(t,"loadstart",async()=>{let n=await Cae(t,[],e);vu(t,"cuechange",()=>{let i=Nae(t);if(i){let a=new CustomEvent("chapterchange",{composed:!0,bubbles:!0,detail:i});t.dispatchEvent(a)}},{},n),r(n)})})}function gVe(t,e){if(e){let r=e.playingDate;if(r!=null)return new Date(r.getTime()-t.currentTime*1e3)}return typeof t.getStartDate=="function"?t.getStartDate():new Date(NaN)}function vVe(t,e){if(e&&e.playingDate)return e.playingDate;if(typeof t.getStartDate=="function"){let r=t.getStartDate();return new Date(r.getTime()+t.currentTime*1e3)}return new Date(NaN)}var SE={VIDEO:"v",THUMBNAIL:"t",STORYBOARD:"s",DRM:"d"},xVe=t=>{if(t===jl.VIDEO)return SE.VIDEO;if(t===jl.DRM)return SE.DRM},yVe=(t,e)=>{var r,n;let i=a5(t),a=`${i}Token`;return(r=e.tokens)!=null&&r[i]?(n=e.tokens)==null?void 0:n[i]:fU(a,e)?e[a]:void 0},xN=(t,e,r,n,i=!1,a=!(o=>(o=globalThis.navigator)==null?void 0:o.onLine)())=>{var o,c;if(a){let w=Ki("Your device appears to be offline",i),E,_=si.MEDIA_ERR_NETWORK,N=new si(w,_,!1,E);return N.errorCategory=e,N.muxCode=ts.NETWORK_OFFLINE,N.data=t,N}let u="status"in t?t.status:t.code,l=Date.now(),d=si.MEDIA_ERR_NETWORK;if(u===200)return;let f=a5(e),m=yVe(e,r),p=xVe(e),[g]=mU((o=r.playbackId)!=null?o:"");if(!u||!g)return;let x=Ib(m);if(m&&!x){let w=Ki("The {tokenNamePrefix}-token provided is invalid or malformed.",i).format({tokenNamePrefix:f}),E=Ki("Compact JWT string: {token}",i).format({token:m}),_=new si(w,d,!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_TOKEN_MALFORMED,_.data=t,_}if(u>=500){let w=new si("",d,n??!0);return w.errorCategory=e,w.muxCode=ts.NETWORK_UNKNOWN_ERROR,w}if(u===403)if(x){if(rVe(x,l)){let w={timeStyle:"medium",dateStyle:"medium"},E=Ki("The videos secured {tokenNamePrefix}-token has expired.",i).format({tokenNamePrefix:f}),_=Ki("Expired at: {expiredDate}. Current time: {currentDate}.",i).format({expiredDate:new Intl.DateTimeFormat("en",w).format((c=x.exp)!=null?c:0*1e3),currentDate:new Intl.DateTimeFormat("en",w).format(l)}),N=new si(E,d,!0,_);return N.errorCategory=e,N.muxCode=ts.NETWORK_TOKEN_EXPIRED,N.data=t,N}if(nVe(x,g)){let w=Ki("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f}),E=Ki("Specified playback ID: {playbackId} and the playback ID encoded in the {tokenNamePrefix}-token: {tokenPlaybackId}",i).format({tokenNamePrefix:f,playbackId:g,tokenPlaybackId:x.sub}),_=new si(w,d,!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_TOKEN_SUB_MISMATCH,_.data=t,_}if(iVe(x)){let w=Ki("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),E=Ki("The {tokenNamePrefix}-token has no aud value. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:p}),_=new si(w,d,!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_TOKEN_AUD_MISSING,_.data=t,_}if(sVe(x,p)){let w=Ki("The {tokenNamePrefix}-token is formatted with incorrect information.",i).format({tokenNamePrefix:f}),E=Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.",i).format({tokenNamePrefix:f,expectedAud:p,aud:x.aud}),_=new si(w,d,!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_TOKEN_AUD_MISMATCH,_.data=t,_}}else{let w=Ki("Authorization error trying to access this {category} URL. If this is a signed URL, you might need to provide a {tokenNamePrefix}-token.",i).format({tokenNamePrefix:f,category:e}),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:g}),_=new si(w,d,n??!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_TOKEN_MISSING,_.data=t,_}if(u===412){let w=Ki("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",i),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:g}),_=new si(w,d,n??!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_NOT_READY,_.streamType=r.streamType===Lo.LIVE?"live":r.streamType===Lo.ON_DEMAND?"on-demand":"unknown",_.data=t,_}if(u===404){let w=Ki("This URL or playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",i),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:g}),_=new si(w,d,n??!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_NOT_FOUND,_.data=t,_}if(u===400){let w=Ki("The URL or playback-id was invalid. You may have used an invalid value as a playback-id."),E=Ki("Specified playback ID: {playbackId}",i).format({playbackId:g}),_=new si(w,d,n??!0,E);return _.errorCategory=e,_.muxCode=ts.NETWORK_INVALID_URL,_.data=t,_}let y=new si("",d,n??!0);return y.errorCategory=e,y.muxCode=ts.NETWORK_UNKNOWN_ERROR,y.data=t,y},nW=Ba.DefaultConfig.capLevelController,bVe={"720p":921600,"1080p":2073600,"1440p":4194304,"2160p":8294400};function wVe(t){let e=t.toLowerCase().trim();return bVe[e]}var JO=class Uw extends nW{constructor(e){super(e)}static setMaxAutoResolution(e,r){r?Uw.maxAutoResolution.set(e,r):Uw.maxAutoResolution.delete(e)}getMaxAutoResolution(){var e;let r=this.hls;return(e=Uw.maxAutoResolution.get(r))!=null?e:void 0}get levels(){var e;return(e=this.hls.levels)!=null?e:[]}getValidLevels(e){return this.levels.filter((r,n)=>this.isLevelAllowed(r)&&n<=e)}getMaxLevelCapped(e){let r=this.getValidLevels(e),n=this.getMaxAutoResolution();if(!n)return super.getMaxLevel(e);let i=wVe(n);if(!i)return super.getMaxLevel(e);let a=r.filter(u=>u.width*u.height<=i),o=a.findIndex(u=>u.width*u.height===i);if(o!==-1){let u=a[o];return r.findIndex(l=>l===u)}if(a.length===0)return 0;let c=a[a.length-1];return r.findIndex(u=>u===c)}getMaxLevel(e){if(this.getMaxAutoResolution()!==void 0)return this.getMaxLevelCapped(e);let r=super.getMaxLevel(e),n=this.getValidLevels(e);if(!n[r])return r;let i=Math.min(n[r].width,n[r].height),a=Uw.minMaxResolution;return i>=a?r:nW.getMaxLevelByMediaSize(n,a*(16/9),a)}};JO.minMaxResolution=720,JO.maxAutoResolution=new WeakMap;var EVe=JO,eR=EVe,Cj={FAIRPLAY:"fairplay",PLAYREADY:"playready",WIDEVINE:"widevine"},_Ve=t=>{if(t.includes("fps"))return Cj.FAIRPLAY;if(t.includes("playready"))return Cj.PLAYREADY;if(t.includes("widevine"))return Cj.WIDEVINE},SVe=t=>{let e=t.split(`
`).find((r,n,i)=>n&&i[n-1].startsWith("#EXT-X-STREAM-INF"));return fetch(e).then(r=>r.status!==200?Promise.reject(r):r.text())},jVe=t=>{let e=t.split(`
`).filter(n=>n.startsWith("#EXT-X-SESSION-DATA"));if(!e.length)return{};let r={};for(let n of e){let i=CVe(n),a=i["DATA-ID"];a&&(r[a]={...i})}return{sessionData:r}},TVe=/([A-Z0-9-]+)="?(.*?)"?(?:,|$)/g;function CVe(t){let e=[...t.matchAll(TVe)];return Object.fromEntries(e.map(([,r,n])=>[r,n]))}var NVe=t=>{var e,r,n;let i=t.split(`
`),a=(r=((e=i.find(l=>l.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:r.trim(),o=yae(a),c=bae(a),u;if(o===Lo.LIVE){let l=i.find(d=>d.startsWith("#EXT-X-PART-INF"));if(l)u=+l.split(":")[1].split("=")[1]*2;else{let d=i.find(m=>m.startsWith("#EXT-X-TARGETDURATION")),f=(n=d?.split(":"))==null?void 0:n[1];u=+(f??6)*3}}return{streamType:o,targetLiveWindow:c,liveEdgeStartOffset:u}},kVe=async(t,e)=>{if(e===Yp.MP4)return{streamType:Lo.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0,sessionData:void 0};if(e===Yp.M3U8){let r=await fetch(t);if(!r.ok)return Promise.reject(r);let n=await r.text(),i=await SVe(n);return{...jVe(n),...NVe(i)}}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${t}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0,sessionData:void 0}},LVe=async(t,e,r=o5({src:t}))=>{var n,i,a,o;let{streamType:c,targetLiveWindow:u,liveEdgeStartOffset:l,sessionData:d}=await kVe(t,r),f=d?.["com.apple.hls.chapters"];(f!=null&&f.URI||f!=null&&f.VALUE.toLocaleLowerCase().startsWith("http"))&&vU((n=f.URI)!=null?n:f.VALUE,e),((i=Mc.get(e))!=null?i:{}).liveEdgeStartOffset=l,((a=Mc.get(e))!=null?a:{}).targetLiveWindow=u,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((o=Mc.get(e))!=null?o:{}).streamType=c,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},vU=async(t,e)=>{var r,n;try{let i=await fetch(t);if(!i.ok)throw new Error(`Failed to fetch Mux metadata: ${i.status} ${i.statusText}`);let a=await i.json(),o={};if(!((r=a?.[0])!=null&&r.metadata))return;for(let u of a[0].metadata)u.key&&u.value&&(o[u.key]=u.value);((n=Mc.get(e))!=null?n:{}).metadata=o;let c=new CustomEvent("muxmetadata");e.dispatchEvent(c)}catch(i){console.error(i)}},IVe=t=>{var e;let r=t.type,n=yae(r),i=bae(r),a,o=!!((e=t.partList)!=null&&e.length);return n===Lo.LIVE&&(a=o?t.partTarget*2:t.targetduration*3),{streamType:n,targetLiveWindow:i,liveEdgeStartOffset:a,lowLatency:o}},BVe=(t,e,r)=>{var n,i,a,o,c,u,l,d;let{streamType:f,targetLiveWindow:m,liveEdgeStartOffset:p,lowLatency:g}=IVe(t);if(f===Lo.LIVE){g?(r.config.backBufferLength=(n=r.userConfig.backBufferLength)!=null?n:4,r.config.maxFragLookUpTolerance=(i=r.userConfig.maxFragLookUpTolerance)!=null?i:.001,r.config.abrBandWidthUpFactor=(a=r.userConfig.abrBandWidthUpFactor)!=null?a:r.config.abrBandWidthFactor):r.config.backBufferLength=(o=r.userConfig.backBufferLength)!=null?o:8;let x=Object.freeze({get length(){return e.seekable.length},start(y){return e.seekable.start(y)},end(y){var w;return y>this.length||y<0||Number.isFinite(e.duration)?e.seekable.end(y):(w=r.liveSyncPosition)!=null?w:e.seekable.end(y)}});((c=Mc.get(e))!=null?c:{}).seekable=x}((u=Mc.get(e))!=null?u:{}).liveEdgeStartOffset=p,((l=Mc.get(e))!=null?l:{}).targetLiveWindow=m,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((d=Mc.get(e))!=null?d:{}).streamType=f,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},iW,sW,kae=(sW=(iW=globalThis?.navigator)==null?void 0:iW.userAgent)!=null?sW:"",aW,oW,lW,PVe=(lW=(oW=(aW=globalThis?.navigator)==null?void 0:aW.userAgentData)==null?void 0:oW.platform)!=null?lW:"",OVe=kae.toLowerCase().includes("android")||["x11","android"].some(t=>PVe.toLowerCase().includes(t)),RVe=t=>/^((?!chrome|android).)*safari/i.test(kae)&&!!t.canPlayType("application/vnd.apple.mpegurl"),Mc=new WeakMap,qp="mux.com",cW,uW,Lae=(uW=(cW=Ba).isSupported)==null?void 0:uW.call(cW),DVe=t=>OVe||!RVe(t),xU=()=>{if(typeof window<"u")return QF.utils.now()},MVe=QF.utils.generateUUID,tR=({playbackId:t,customDomain:e=qp,maxResolution:r,minResolution:n,renditionOrder:i,programStartTime:a,programEndTime:o,assetStartTime:c,assetEndTime:u,playbackToken:l,tokens:{playback:d=l}={},extraSourceParams:f={}}={})=>{if(!t)return;let[m,p=""]=mU(t),g=new URL(`https://stream.${e}/${m}.m3u8${p}`);return d||g.searchParams.has("token")?(g.searchParams.forEach((x,y)=>{y!="token"&&g.searchParams.delete(y)}),d&&g.searchParams.set("token",d)):(r&&g.searchParams.set("max_resolution",r),n&&(g.searchParams.set("min_resolution",n),r&&+r.slice(0,-1)<+n.slice(0,-1)&&console.error("minResolution must be <= maxResolution","minResolution",n,"maxResolution",r)),i&&g.searchParams.set("rendition_order",i),a&&g.searchParams.set("program_start_time",`${a}`),o&&g.searchParams.set("program_end_time",`${o}`),c&&g.searchParams.set("asset_start_time",`${c}`),u&&g.searchParams.set("asset_end_time",`${u}`),Object.entries(f).forEach(([x,y])=>{y!=null&&g.searchParams.set(x,y)})),g.toString()},l5=t=>{if(!t)return;let[e]=t.split("?");return e||void 0},yU=t=>{if(!t||!t.startsWith("https://stream."))return;let[e]=new URL(t).pathname.slice(1).split(/\.m3u8|\//);return e||void 0},FVe=t=>{var e,r,n;return(e=t?.metadata)!=null&&e.video_id?t.metadata.video_id:Fae(t)&&(n=(r=l5(t.playbackId))!=null?r:yU(t.src))!=null?n:t.src},Iae=t=>{var e;return(e=Mc.get(t))==null?void 0:e.error},UVe=t=>{var e;return(e=Mc.get(t))==null?void 0:e.metadata},rR=t=>{var e,r;return(r=(e=Mc.get(t))==null?void 0:e.streamType)!=null?r:Lo.UNKNOWN},$Ve=t=>{var e,r;return(r=(e=Mc.get(t))==null?void 0:e.targetLiveWindow)!=null?r:Number.NaN},bU=t=>{var e,r;return(r=(e=Mc.get(t))==null?void 0:e.seekable)!=null?r:t.seekable},HVe=t=>{var e;let r=(e=Mc.get(t))==null?void 0:e.liveEdgeStartOffset;if(typeof r!="number")return Number.NaN;let n=bU(t);return n.length?n.end(n.length-1)-r:Number.NaN},wU=.034,QVe=(t,e,r=wU)=>Math.abs(t-e)<=r,Bae=(t,e,r=wU)=>t>e||QVe(t,e,r),zVe=(t,e=wU)=>t.paused&&Bae(t.currentTime,t.duration,e),Pae=(t,e)=>{var r,n,i;if(!e||!t.buffered.length)return;if(t.readyState>2)return!1;let a=e.currentLevel>=0?(n=(r=e.levels)==null?void 0:r[e.currentLevel])==null?void 0:n.details:(i=e.levels.find(f=>!!f.details))==null?void 0:i.details;if(!a||a.live)return;let{fragments:o}=a;if(!(o!=null&&o.length))return;if(t.currentTime<t.duration-(a.targetduration+.5))return!1;let c=o[o.length-1];if(t.currentTime<=c.start)return!1;let u=c.start+c.duration/2,l=t.buffered.start(t.buffered.length-1),d=t.buffered.end(t.buffered.length-1);return u>l&&u<d},Oae=(t,e)=>t.ended||t.loop?t.ended:e&&Pae(t,e)?!0:zVe(t),VVe=(t,e,r)=>{Rae(e,r,t);let{metadata:n={}}=t,{view_session_id:i=MVe()}=n,a=FVe(t);n.view_session_id=i,n.video_id=a,t.metadata=n;let o=d=>{var f;(f=e.mux)==null||f.emit("hb",{view_drm_type:d})};t.drmTypeCb=o,Mc.set(e,{retryCount:0});let c=KVe(t,e),u=cVe(t,e,c);t!=null&&t.muxDataKeepSession&&e!=null&&e.mux&&!e.mux.deleted?c&&e.mux.addHLSJS({hlsjs:c,Hls:c?Ba:void 0}):JVe(t,e,c),eKe(t,e,c),mVe(e),pVe(e);let l=lVe(t,e,c);return{engine:c,setAutoplay:l,setPreload:u}},Rae=(t,e,r)=>{let n=e?.engine;t!=null&&t.mux&&!t.mux.deleted&&(r!=null&&r.muxDataKeepSession?n&&t.mux.removeHLSJS():(t.mux.destroy(),delete t.mux)),n&&(n.detachMedia(),n.destroy()),t&&(t.hasAttribute("src")&&(t.removeAttribute("src"),t.load()),t.removeEventListener("error",$ae),t.removeEventListener("error",nR),t.removeEventListener("durationchange",Uae),Mc.delete(t),t.dispatchEvent(new Event("teardown")))};function Dae(t,e){var r;let n=o5(t);if(n!==Yp.M3U8)return!0;let i=!n||((r=e.canPlayType(n))!=null?r:!0),{preferPlayback:a}=t,o=a===$A.MSE,c=a===$A.NATIVE,u=Lae&&(o||DVe(e));return i&&(c||!u)}var KVe=(t,e)=>{let{debug:r,streamType:n,startTime:i=-1,metadata:a,preferCmcd:o,_hlsConfig:c={},maxAutoResolution:u}=t,l=o5(t)===Yp.M3U8,d=Dae(t,e);if(l&&!d&&Lae){let f={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelOnFPSDrop:!0},m=GVe(n),p=WVe(t),g=[Fw.QUERY,Fw.HEADER].includes(o)?{useHeaders:o===Fw.HEADER,sessionId:a?.view_session_id,contentId:a?.video_id}:void 0,x=ZVe(t),y=new Ba({debug:r,startPosition:i,cmcd:g,xhrSetup:(w,E)=>{var _,N;if(o&&o!==Fw.QUERY)return;let C=new URL(E);if(!C.searchParams.has("CMCD"))return;let I=((N=(_=C.searchParams.get("CMCD"))==null?void 0:_.split(","))!=null?N:[]).filter(D=>D.startsWith("sid")||D.startsWith("cid")).join(",");C.searchParams.set("CMCD",I),w.open("GET",C)},...f,...x,...m,...p,...c});return x.capLevelController===eR&&u!==void 0&&eR.setMaxAutoResolution(y,u),y.on(Ba.Events.MANIFEST_PARSED,async function(w,E){var _,N;let C=(_=E.sessionData)==null?void 0:_["com.apple.hls.chapters"];(C!=null&&C.URI||C!=null&&C.VALUE.toLocaleLowerCase().startsWith("http"))&&vU((N=C?.URI)!=null?N:C?.VALUE,e)}),y}},GVe=t=>t===Lo.LIVE?{backBufferLength:8}:{},WVe=t=>{let{tokens:{drm:e}={},playbackId:r,drmTypeCb:n}=t,i=l5(r);return!e||!i?{}:{emeEnabled:!0,drmSystems:{"com.apple.fps":{licenseUrl:Nj(t,"fairplay"),serverCertificateUrl:Mae(t,"fairplay")},"com.widevine.alpha":{licenseUrl:Nj(t,"widevine")},"com.microsoft.playready":{licenseUrl:Nj(t,"playready")}},requestMediaKeySystemAccessFunc:(a,o)=>(a==="com.widevine.alpha"&&(o=[...o.map(c=>{var u;let l=(u=c.videoCapabilities)==null?void 0:u.map(d=>({...d,robustness:"HW_SECURE_ALL"}));return{...c,videoCapabilities:l}}),...o]),navigator.requestMediaKeySystemAccess(a,o).then(c=>{let u=_Ve(a);return n?.(u),c}))}},YVe=async t=>{let e=await fetch(t);return e.status!==200?Promise.reject(e):await e.arrayBuffer()},qVe=async(t,e)=>{let r=await fetch(e,{method:"POST",headers:{"Content-type":"application/octet-stream"},body:t});if(r.status!==200)return Promise.reject(r);let n=await r.arrayBuffer();return new Uint8Array(n)},XVe=(t,e)=>{let r=async a=>{let o=await navigator.requestMediaKeySystemAccess("com.apple.fps",[{initDataTypes:[a],videoCapabilities:[{contentType:"application/vnd.apple.mpegurl",robustness:""}],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]}]).then(u=>{var l;return(l=t.drmTypeCb)==null||l.call(t,Cj.FAIRPLAY),u}).catch(()=>{let u=Ki("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser."),l=new si(u,si.MEDIA_ERR_ENCRYPTED,!0);l.errorCategory=jl.DRM,l.muxCode=ts.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM,xf(e,l)});if(!o)return;let c=await o.createMediaKeys();try{let u=await YVe(Mae(t,"fairplay")).catch(l=>{if(l instanceof Response){let d=xN(l,jl.DRM,t);return console.error("mediaError",d?.message,d?.context),d?Promise.reject(d):Promise.reject(new Error("Unexpected error in app cert request"))}return Promise.reject(l)});await c.setServerCertificate(u).catch(()=>{let l=Ki("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate."),d=new si(l,si.MEDIA_ERR_ENCRYPTED,!0);return d.errorCategory=jl.DRM,d.muxCode=ts.ENCRYPTED_UPDATE_SERVER_CERT_FAILED,Promise.reject(d)})}catch(u){xf(e,u);return}await e.setMediaKeys(c)},n=a=>{let o;if(a==="internal-error"){let c=Ki("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");o=new si(c,si.MEDIA_ERR_ENCRYPTED,!0),o.errorCategory=jl.DRM,o.muxCode=ts.ENCRYPTED_CDM_ERROR}else if(a==="output-restricted"||a==="output-downscaled"){let c=Ki("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");o=new si(c,si.MEDIA_ERR_ENCRYPTED,!1),o.errorCategory=jl.DRM,o.muxCode=ts.ENCRYPTED_OUTPUT_RESTRICTED}o&&xf(e,o)},i=async(a,o)=>{let c=e.mediaKeys.createSession(),u=()=>{c.keyStatuses.forEach(d=>n(d))},l=async d=>{let f=d.message;try{let m=await qVe(f,Nj(t,"fairplay"));try{await c.update(m)}catch{let p=Ki("Failed to update DRM license. This may be an issue with the player or your protected content."),g=new si(p,si.MEDIA_ERR_ENCRYPTED,!0);g.errorCategory=jl.DRM,g.muxCode=ts.ENCRYPTED_UPDATE_LICENSE_FAILED,xf(e,g)}}catch(m){if(m instanceof Response){let p=xN(m,jl.DRM,t);if(console.error("mediaError",p?.message,p?.context),p){xf(e,p);return}console.error("Unexpected error in license key request",m);return}console.error(m)}};c.addEventListener("keystatuseschange",u),c.addEventListener("message",l),e.addEventListener("teardown",()=>{c.removeEventListener("keystatuseschange",u),c.removeEventListener("message",l),c.close()},{once:!0}),await c.generateRequest(a,o).catch(d=>{console.error("Failed to generate license request",d);let f=Ki("Failed to generate a DRM license request. This may be an issue with the player or your protected content."),m=new si(f,si.MEDIA_ERR_ENCRYPTED,!0);return m.errorCategory=jl.DRM,m.muxCode=ts.ENCRYPTED_GENERATE_REQUEST_FAILED,Promise.reject(m)})};vu(e,"encrypted",async a=>{try{let o=a.initDataType;if(o!=="skd"){console.error(`Received unexpected initialization data type "${o}"`);return}e.mediaKeys||await r(o);let c=a.initData;if(c==null){console.error(`Could not start encrypted playback due to missing initData in ${a.type} event`);return}await i(o,c)}catch(o){xf(e,o);return}})},Nj=({playbackId:t,tokens:{drm:e}={},customDomain:r=qp},n)=>{let i=l5(t);return`https://license.${r.toLocaleLowerCase().endsWith(qp)?r:qp}/license/${n}/${i}?token=${e}`},Mae=({playbackId:t,tokens:{drm:e}={},customDomain:r=qp},n)=>{let i=l5(t);return`https://license.${r.toLocaleLowerCase().endsWith(qp)?r:qp}/appcert/${n}/${i}?token=${e}`},Fae=({playbackId:t,src:e,customDomain:r})=>{if(t)return!0;if(typeof e!="string")return!1;let n=window?.location.href,i=new URL(e,n).hostname.toLocaleLowerCase();return i.includes(qp)||!!r&&i.includes(r.toLocaleLowerCase())},ZVe=(t,e)=>{let r={};return r.capLevelToPlayerSize=t.capRenditionToPlayerSize,r.capLevelToPlayerSize==null?(r.capLevelController=eR,r.capLevelToPlayerSize=!0):r.capLevelController=i5,r},JVe=(t,e,r)=>{var n;let{envKey:i,disableTracking:a,muxDataSDK:o=QF,muxDataSDKOptions:c={}}=t,u=Fae(t);if(!a&&(i||u)){let{playerInitTime:l,playerSoftwareName:d,playerSoftwareVersion:f,beaconCollectionDomain:m,debug:p,disableCookies:g}=t,x={...t.metadata,video_title:((n=t?.metadata)==null?void 0:n.video_title)||void 0},y=w=>typeof w.player_error_code=="string"?!1:typeof t.errorTranslator=="function"?t.errorTranslator(w):w;o.monitor(e,{debug:p,beaconCollectionDomain:m,hlsjs:r,Hls:r?Ba:void 0,automaticErrorTracking:!1,errorTranslator:y,disableCookies:g,...c,data:{...i?{env_key:i}:{},player_software_name:d,player_software:d,player_software_version:f,player_init_time:l,...x}})}},eKe=(t,e,r)=>{var n,i;let a=Dae(t,e),{src:o,customDomain:c=qp}=t,u=()=>{e.ended||t.disablePseudoEnded||!Oae(e,r)||(Pae(e,r)?e.currentTime=e.buffered.end(e.buffered.length-1):e.dispatchEvent(new Event("ended")))},l,d,f=()=>{let m=bU(e),p,g;m.length>0&&(p=m.start(0),g=m.end(0)),(d!==g||l!==p)&&e.dispatchEvent(new CustomEvent("seekablechange",{composed:!0})),l=p,d=g};if(vu(e,"durationchange",f),e&&a){let m=o5(t);if(typeof o=="string"){if(o.endsWith(".mp4")&&o.includes(c)){let x=yU(o),y=new URL(`https://stream.${c}/${x}/metadata.json`);vU(y.toString(),e)}let p=()=>{if(rR(e)!==Lo.LIVE||Number.isFinite(e.duration))return;let x=setInterval(f,1e3);e.addEventListener("teardown",()=>{clearInterval(x)},{once:!0}),vu(e,"durationchange",()=>{Number.isFinite(e.duration)&&clearInterval(x)})},g=async()=>LVe(o,e,m).then(p).catch(x=>{if(x instanceof Response){let y=xN(x,jl.VIDEO,t);if(y){xf(e,y);return}}});if(e.preload==="none"){let x=()=>{g(),e.removeEventListener("loadedmetadata",y)},y=()=>{g(),e.removeEventListener("play",x)};vu(e,"play",x,{once:!0}),vu(e,"loadedmetadata",y,{once:!0})}else g();(n=t.tokens)!=null&&n.drm?XVe(t,e):vu(e,"encrypted",()=>{let x=Ki("Attempting to play DRM-protected content without providing a DRM token."),y=new si(x,si.MEDIA_ERR_ENCRYPTED,!0);y.errorCategory=jl.DRM,y.muxCode=ts.ENCRYPTED_MISSING_TOKEN,xf(e,y)},{once:!0}),e.setAttribute("src",o),t.startTime&&(((i=Mc.get(e))!=null?i:{}).startTime=t.startTime,e.addEventListener("durationchange",Uae,{once:!0}))}else e.removeAttribute("src");e.addEventListener("error",$ae),e.addEventListener("error",nR),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(p=>{p.remove()})},{once:!0}),vu(e,"pause",u),vu(e,"seeked",u),vu(e,"play",()=>{e.ended||Bae(e.currentTime,e.duration)&&(e.currentTime=e.seekable.length?e.seekable.start(0):0)})}else r&&o?(r.once(Ba.Events.LEVEL_LOADED,(m,p)=>{BVe(p.details,e,r),f(),rR(e)===Lo.LIVE&&!Number.isFinite(e.duration)&&(r.on(Ba.Events.LEVEL_UPDATED,f),vu(e,"durationchange",()=>{Number.isFinite(e.duration)&&r.off(Ba.Events.LEVELS_UPDATED,f)}))}),r.on(Ba.Events.ERROR,(m,p)=>{var g,x;let y=tKe(p,t);if(y.muxCode===ts.NETWORK_NOT_READY){let w=(g=Mc.get(e))!=null?g:{},E=(x=w.retryCount)!=null?x:0;if(E<6){let _=E===0?5e3:6e4,N=new si(`Retrying in ${_/1e3} seconds...`,y.code,y.fatal);Object.assign(N,y),xf(e,N),setTimeout(()=>{w.retryCount=E+1,p.details==="manifestLoadError"&&p.url&&r.loadSource(p.url)},_);return}else{w.retryCount=0;let _=new si('Try again later or <a href="#" onclick="window.location.reload(); return false;" style="color: #4a90e2;">click here to retry</a>',y.code,y.fatal);Object.assign(_,y),xf(e,_);return}}xf(e,y)}),r.on(Ba.Events.MANIFEST_LOADED,()=>{let m=Mc.get(e);m&&m.error&&(m.error=null,m.retryCount=0,e.dispatchEvent(new Event("emptied")),e.dispatchEvent(new Event("loadstart")))}),e.addEventListener("error",nR),vu(e,"waiting",u),uVe(t,r),dVe(e,r),r.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function Uae(t){var e;let r=t.target,n=(e=Mc.get(r))==null?void 0:e.startTime;if(n&&Zze(r.seekable,r.duration,n)){let i=r.preload==="auto";i&&(r.preload="none"),r.currentTime=n,i&&(r.preload="auto")}}async function $ae(t){if(!t.isTrusted)return;t.stopImmediatePropagation();let e=t.target;if(!(e!=null&&e.error))return;let{message:r,code:n}=e.error,i=new si(r,n);if(e.src&&n===si.MEDIA_ERR_SRC_NOT_SUPPORTED&&e.readyState===HTMLMediaElement.HAVE_NOTHING){setTimeout(()=>{var a;let o=(a=Iae(e))!=null?a:e.error;o?.code===si.MEDIA_ERR_SRC_NOT_SUPPORTED&&xf(e,i)},500);return}if(e.src&&(n!==si.MEDIA_ERR_DECODE||n!==void 0))try{let{status:a}=await fetch(e.src);i.data={response:{code:a}}}catch{}xf(e,i)}function xf(t,e){var r;e.fatal&&(((r=Mc.get(t))!=null?r:{}).error=e,t.dispatchEvent(new CustomEvent("error",{detail:e})))}function nR(t){var e,r;if(!(t instanceof CustomEvent)||!(t.detail instanceof si))return;let n=t.target,i=t.detail;!i||!i.fatal||(((e=Mc.get(n))!=null?e:{}).error=i,(r=n.mux)==null||r.emit("error",{player_error_code:i.code,player_error_message:i.message,player_error_context:i.context}))}var tKe=(t,e)=>{var r,n,i;t.fatal?console.error("getErrorFromHlsErrorData()",t):e.debug&&console.warn("getErrorFromHlsErrorData() (non-fatal)",t);let a={[Ba.ErrorTypes.NETWORK_ERROR]:si.MEDIA_ERR_NETWORK,[Ba.ErrorTypes.MEDIA_ERROR]:si.MEDIA_ERR_DECODE,[Ba.ErrorTypes.KEY_SYSTEM_ERROR]:si.MEDIA_ERR_ENCRYPTED},o=d=>[Ba.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,Ba.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED].includes(d.details)?si.MEDIA_ERR_NETWORK:a[d.type],c=d=>{if(d.type===Ba.ErrorTypes.KEY_SYSTEM_ERROR)return jl.DRM;if(d.type===Ba.ErrorTypes.NETWORK_ERROR)return jl.VIDEO},u,l=o(t);if(l===si.MEDIA_ERR_NETWORK&&t.response){let d=(r=c(t))!=null?r:jl.VIDEO;u=(n=xN(t.response,d,e,t.fatal))!=null?n:new si("",l,t.fatal)}else if(l===si.MEDIA_ERR_ENCRYPTED)if(t.details===Ba.ErrorDetails.KEY_SYSTEM_NO_CONFIGURED_LICENSE){let d=Ki("Attempting to play DRM-protected content without providing a DRM token.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_MISSING_TOKEN}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_NO_ACCESS){let d=Ki("Cannot play DRM-protected content with current security configuration on this browser. Try playing in another browser.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_UNSUPPORTED_KEY_SYSTEM}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_NO_SESSION){let d=Ki("Failed to generate a DRM license request. This may be an issue with the player or your protected content.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,!0),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_GENERATE_REQUEST_FAILED}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_SESSION_UPDATE_FAILED){let d=Ki("Failed to update DRM license. This may be an issue with the player or your protected content.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_UPDATE_LICENSE_FAILED}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED){let d=Ki("Your server certificate failed when attempting to set it. This may be an issue with a no longer valid certificate.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_UPDATE_SERVER_CERT_FAILED}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_STATUS_INTERNAL_ERROR){let d=Ki("The DRM Content Decryption Module system had an internal failure. Try reloading the page, upading your browser, or playing in another browser.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_CDM_ERROR}else if(t.details===Ba.ErrorDetails.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED){let d=Ki("DRM playback is being attempted in an environment that is not sufficiently secure. User may see black screen.");u=new si(d,si.MEDIA_ERR_ENCRYPTED,!1),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_OUTPUT_RESTRICTED}else u=new si(t.error.message,si.MEDIA_ERR_ENCRYPTED,t.fatal),u.errorCategory=jl.DRM,u.muxCode=ts.ENCRYPTED_ERROR;else u=new si("",l,t.fatal);return u.context||(u.context=`${t.url?`url: ${t.url}
`:""}${t.response&&(t.response.code||t.response.text)?`response: ${t.response.code}, ${t.response.text}
`:""}${t.reason?`failure reason: ${t.reason}
`:""}${t.level?`level: ${t.level}
`:""}${t.parent?`parent stream controller: ${t.parent}
`:""}${t.buffer?`buffer length: ${t.buffer}
`:""}${t.error?`error: ${t.error}
`:""}${t.event?`event: ${t.event}
`:""}${t.err?`error message: ${(i=t.err)==null?void 0:i.message}
`:""}`),u.data=t,u};const rKe=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],Hae=["autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"];function nKe(t){return`
    <style>
      :host {
        display: inline-flex;
        line-height: 0;
        flex-direction: column;
        justify-content: end;
      }

      audio {
        width: 100%;
      }
    </style>
    <slot name="media">
      <audio${zae(t)}></audio>
    </slot>
    <slot></slot>
  `}function iKe(t){return`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot name="media">
      <video${zae(t)}></video>
    </slot>
    <slot></slot>
  `}function Qae(t,{tag:e,is:r}){const n=globalThis.document?.createElement?.(e,{is:r}),i=n?sKe(n):[];return class iR extends t{static getTemplateHTML=e.endsWith("audio")?nKe:iKe;static shadowRootOptions={mode:"open"};static Events=rKe;static#e=!1;static get observedAttributes(){return iR.#n(),[...n?.constructor?.observedAttributes??[],...Hae]}static#n(){if(this.#e)return;this.#e=!0;const o=new Set(this.observedAttributes);o.delete("muted");for(const c of i)if(!(c in this.prototype))if(typeof n[c]=="function")this.prototype[c]=function(...u){return this.#s(),this.call?this.call(c,...u):this.nativeEl?.[c]?.apply(this.nativeEl,u)};else{const u={get(){this.#s();const l=c.toLowerCase();if(o.has(l)){const d=this.getAttribute(l);return d===null?!1:d===""?!0:d}return this.get?.(c)??this.nativeEl?.[c]}};c!==c.toUpperCase()&&(u.set=function(l){this.#s();const d=c.toLowerCase();if(o.has(d)){l===!0||l===!1||l==null?this.toggleAttribute(d,!!l):this.setAttribute(d,l);return}if(this.set){this.set(c,l);return}this.nativeEl&&(this.nativeEl[c]=l)}),Object.defineProperty(this.prototype,c,u)}}#r=!1;#i=null;#t=new Map;#a;get;set;call;get nativeEl(){return this.#s(),this.#i??this.querySelector(":scope > [slot=media]")??this.querySelector(e)??this.shadowRoot?.querySelector(e)??null}set nativeEl(o){this.#i=o}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(o){this.toggleAttribute("muted",o)}get src(){return this.getAttribute("src")}set src(o){this.setAttribute("src",`${o}`)}get preload(){return this.getAttribute("preload")??this.nativeEl?.preload}set preload(o){this.setAttribute("preload",`${o}`)}#s(){this.#r||(this.#r=!0,this.init())}init(){if(!this.shadowRoot){this.attachShadow({mode:"open"});const o=aKe(this.attributes);r&&(o.is=r),e&&(o.part=e),this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(o)}this.nativeEl.muted=this.hasAttribute("muted");for(const o of i)this.#d(o);this.#a=new MutationObserver(this.#o.bind(this)),this.shadowRoot.addEventListener("slotchange",()=>this.#l()),this.#l();for(const o of this.constructor.Events)this.shadowRoot.addEventListener(o,this,!0)}handleEvent(o){o.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(o.type,{detail:o.detail}))}#l(){const o=new Map(this.#t);(this.shadowRoot?.querySelector("slot:not([name])")?.assignedElements({flatten:!0}).filter(l=>["track","source"].includes(l.localName))).forEach(l=>{o.delete(l);let d=this.#t.get(l);d||(d=l.cloneNode(),this.#t.set(l,d),this.#a?.observe(l,{attributes:!0})),this.nativeEl?.append(d),this.#c(d)}),o.forEach((l,d)=>{l.remove(),this.#t.delete(d)})}#o(o){for(const c of o)if(c.type==="attributes"){const{target:u,attributeName:l}=c,d=this.#t.get(u);d&&l&&(d.setAttribute(l,u.getAttribute(l)??""),this.#c(d))}}#c(o){o&&o.localName==="track"&&o.default&&(o.kind==="chapters"||o.kind==="metadata")&&o.track.mode==="disabled"&&(o.track.mode="hidden")}#d(o){if(Object.prototype.hasOwnProperty.call(this,o)){const c=this[o];delete this[o],this[o]=c}}attributeChangedCallback(o,c,u){this.#s(),this.#u(o,c,u)}#u(o,c,u){["id","class"].includes(o)||!iR.observedAttributes.includes(o)&&this.constructor.observedAttributes.includes(o)||(u===null?this.nativeEl?.removeAttribute(o):this.nativeEl?.getAttribute(o)!==u&&this.nativeEl?.setAttribute(o,u))}connectedCallback(){this.#s()}}}function sKe(t){const e=[];for(let r=Object.getPrototypeOf(t);r&&r!==HTMLElement.prototype;r=Object.getPrototypeOf(r)){const n=Object.getOwnPropertyNames(r);e.push(...n)}return e}function zae(t){let e="";for(const r in t){if(!Hae.includes(r))continue;const n=t[r];n===""?e+=` ${r}`:e+=` ${r}="${n}"`}return e}function aKe(t){const e={};for(const r of t)e[r.name]=r.value;return e}const FS=Qae(globalThis.HTMLElement??class{},{tag:"video"});Qae(globalThis.HTMLElement??class{},{tag:"audio"});var Vae=t=>{throw TypeError(t)},EU=(t,e,r)=>e.has(t)||Vae("Cannot "+r),cd=(t,e,r)=>(EU(t,e,"read from private field"),r?r.call(t):e.get(t)),Qf=(t,e,r)=>e.has(t)?Vae("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),hf=(t,e,r,n)=>(EU(t,e,"write to private field"),e.set(t,r),r),US=(t,e,r)=>(EU(t,e,"access private method"),r),oKe=()=>{try{return"0.30.2"}catch{}return"UNKNOWN"},lKe=oKe(),cKe=()=>lKe,uKe=`
<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" part="logo" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 1600 500"><g fill="#fff"><path d="M994.287 93.486c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m0-93.486c-34.509 0-62.484 27.976-62.484 62.486v187.511c0 68.943-56.09 125.033-125.032 125.033s-125.03-56.09-125.03-125.033V62.486C681.741 27.976 653.765 0 619.256 0s-62.484 27.976-62.484 62.486v187.511C556.772 387.85 668.921 500 806.771 500c137.851 0 250.001-112.15 250.001-250.003V62.486c0-34.51-27.976-62.486-62.485-62.486M1537.51 468.511c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31m-275.883-218.509-143.33 143.329c-24.402 24.402-24.402 63.966 0 88.368 24.402 24.402 63.967 24.402 88.369 0l143.33-143.329 143.328 143.329c24.402 24.4 63.967 24.402 88.369 0 24.403-24.402 24.403-63.966.001-88.368l-143.33-143.329.001-.004 143.329-143.329c24.402-24.402 24.402-63.965 0-88.367s-63.967-24.402-88.369 0L1349.996 161.63 1206.667 18.302c-24.402-24.401-63.967-24.402-88.369 0s-24.402 63.965 0 88.367l143.329 143.329v.004ZM437.511 468.521c-17.121 0-31-13.879-31-31 0-17.121 13.879-31 31-31 17.121 0 31 13.879 31 31 0 17.121-13.879 31-31 31M461.426 4.759C438.078-4.913 411.2.432 393.33 18.303L249.999 161.632 106.669 18.303C88.798.432 61.922-4.913 38.573 4.759 15.224 14.43-.001 37.214-.001 62.488v375.026c0 34.51 27.977 62.486 62.487 62.486 34.51 0 62.486-27.976 62.486-62.486V213.341l80.843 80.844c24.404 24.402 63.965 24.402 88.369 0l80.843-80.844v224.173c0 34.51 27.976 62.486 62.486 62.486s62.486-27.976 62.486-62.486V62.488c0-25.274-15.224-48.058-38.573-57.729" style="fill-rule:nonzero"/></g></svg>`,Ar={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_TRACKING:"disable-tracking",DISABLE_COOKIES:"disable-cookies",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended",DRM_TOKEN:"drm-token",PLAYBACK_TOKEN:"playback-token",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",MIN_RESOLUTION:"min-resolution",MAX_AUTO_RESOLUTION:"max-auto-resolution",RENDITION_ORDER:"rendition-order",PROGRAM_START_TIME:"program-start-time",PROGRAM_END_TIME:"program-end-time",ASSET_START_TIME:"asset-start-time",ASSET_END_TIME:"asset-end-time",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PLAYER_INIT_TIME:"player-init-time",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type",LOGO:"logo",CAP_RENDITION_TO_PLAYER_SIZE:"cap-rendition-to-player-size"},dKe=Object.values(Ar),dW=cKe(),hW="mux-video",yA,$w,kj,Hw,Lj,Ij,Bj,Pj,Oj,Qw,Rj,Oy,zw,hKe=class extends FS{constructor(){super(),Qf(this,Oy),Qf(this,yA),Qf(this,$w),Qf(this,kj),Qf(this,Hw,{}),Qf(this,Lj,{}),Qf(this,Ij),Qf(this,Bj),Qf(this,Pj),Qf(this,Oj),Qf(this,Qw,""),Qf(this,Rj),hf(this,kj,xU()),this.nativeEl.addEventListener("muxmetadata",e=>{var r;let n=UVe(this.nativeEl),i=(r=this.metadata)!=null?r:{};this.metadata={...n,...i},n?.["com.mux.video.branding"]==="mux-free-plan"&&(hf(this,Qw,"default"),this.updateLogo())})}static get NAME(){return hW}static get VERSION(){return dW}static get observedAttributes(){var e;return[...dKe,...(e=FS.observedAttributes)!=null?e:[]]}static getLogoHTML(e){return!e||e==="false"?"":e==="default"?uKe:`<img part="logo" src="${e}" />`}static getTemplateHTML(e={}){var r;return`
      ${FS.getTemplateHTML(e)}
      <style>
        :host {
          position: relative;
        }
        slot[name="logo"] {
          display: flex;
          justify-content: end;
          position: absolute;
          top: 1rem;
          right: 1rem;
          opacity: 0;
          transition: opacity 0.25s ease-in-out;
          z-index: 1;
        }
        slot[name="logo"]:has([part="logo"]) {
          opacity: 1;
        }
        slot[name="logo"] [part="logo"] {
          width: 5rem;
          pointer-events: none;
          user-select: none;
        }
      </style>
      <slot name="logo">
        ${this.getLogoHTML((r=e[Ar.LOGO])!=null?r:"")}
      </slot>
    `}get preferCmcd(){var e;return(e=this.getAttribute(Ar.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?vN.includes(e)?this.setAttribute(Ar.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${vN.join()}`):this.removeAttribute(Ar.PREFER_CMCD))}get playerInitTime(){return this.hasAttribute(Ar.PLAYER_INIT_TIME)?+this.getAttribute(Ar.PLAYER_INIT_TIME):cd(this,kj)}set playerInitTime(e){e!=this.playerInitTime&&(e==null?this.removeAttribute(Ar.PLAYER_INIT_TIME):this.setAttribute(Ar.PLAYER_INIT_TIME,`${+e}`))}get playerSoftwareName(){var e;return(e=cd(this,Pj))!=null?e:hW}set playerSoftwareName(e){hf(this,Pj,e)}get playerSoftwareVersion(){var e;return(e=cd(this,Bj))!=null?e:dW}set playerSoftwareVersion(e){hf(this,Bj,e)}get _hls(){var e;return(e=cd(this,yA))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=Iae(this.nativeEl))!=null?e:null}get errorTranslator(){return cd(this,Oj)}set errorTranslator(e){hf(this,Oj,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(Ar.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(Ar.TYPE,e):this.removeAttribute(Ar.TYPE))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(Ar.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(Ar.DEBUG,""):this.removeAttribute(Ar.DEBUG))}get disableTracking(){return this.hasAttribute(Ar.DISABLE_TRACKING)}set disableTracking(e){e!==this.disableTracking&&this.toggleAttribute(Ar.DISABLE_TRACKING,!!e)}get disableCookies(){return this.hasAttribute(Ar.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(Ar.DISABLE_COOKIES,""):this.removeAttribute(Ar.DISABLE_COOKIES))}get disablePseudoEnded(){return this.hasAttribute(Ar.DISABLE_PSEUDO_ENDED)}set disablePseudoEnded(e){e!==this.disablePseudoEnded&&(e?this.setAttribute(Ar.DISABLE_PSEUDO_ENDED,""):this.removeAttribute(Ar.DISABLE_PSEUDO_ENDED))}get startTime(){let e=this.getAttribute(Ar.START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(Ar.START_TIME):this.setAttribute(Ar.START_TIME,`${e}`))}get playbackId(){var e;return this.hasAttribute(Ar.PLAYBACK_ID)?this.getAttribute(Ar.PLAYBACK_ID):(e=yU(this.src))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(Ar.PLAYBACK_ID,e):this.removeAttribute(Ar.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(Ar.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(Ar.MAX_RESOLUTION,e):this.removeAttribute(Ar.MAX_RESOLUTION))}get minResolution(){var e;return(e=this.getAttribute(Ar.MIN_RESOLUTION))!=null?e:void 0}set minResolution(e){e!==this.minResolution&&(e?this.setAttribute(Ar.MIN_RESOLUTION,e):this.removeAttribute(Ar.MIN_RESOLUTION))}get maxAutoResolution(){var e;return(e=this.getAttribute(Ar.MAX_AUTO_RESOLUTION))!=null?e:void 0}set maxAutoResolution(e){e==null?this.removeAttribute(Ar.MAX_AUTO_RESOLUTION):this.setAttribute(Ar.MAX_AUTO_RESOLUTION,e)}get renditionOrder(){var e;return(e=this.getAttribute(Ar.RENDITION_ORDER))!=null?e:void 0}set renditionOrder(e){e!==this.renditionOrder&&(e?this.setAttribute(Ar.RENDITION_ORDER,e):this.removeAttribute(Ar.RENDITION_ORDER))}get programStartTime(){let e=this.getAttribute(Ar.PROGRAM_START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set programStartTime(e){e==null?this.removeAttribute(Ar.PROGRAM_START_TIME):this.setAttribute(Ar.PROGRAM_START_TIME,`${e}`)}get programEndTime(){let e=this.getAttribute(Ar.PROGRAM_END_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set programEndTime(e){e==null?this.removeAttribute(Ar.PROGRAM_END_TIME):this.setAttribute(Ar.PROGRAM_END_TIME,`${e}`)}get assetStartTime(){let e=this.getAttribute(Ar.ASSET_START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set assetStartTime(e){e==null?this.removeAttribute(Ar.ASSET_START_TIME):this.setAttribute(Ar.ASSET_START_TIME,`${e}`)}get assetEndTime(){let e=this.getAttribute(Ar.ASSET_END_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set assetEndTime(e){e==null?this.removeAttribute(Ar.ASSET_END_TIME):this.setAttribute(Ar.ASSET_END_TIME,`${e}`)}get customDomain(){var e;return(e=this.getAttribute(Ar.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(Ar.CUSTOM_DOMAIN,e):this.removeAttribute(Ar.CUSTOM_DOMAIN))}get capRenditionToPlayerSize(){var e;return((e=this._hlsConfig)==null?void 0:e.capLevelToPlayerSize)!=null?this._hlsConfig.capLevelToPlayerSize:cd(this,Rj)}set capRenditionToPlayerSize(e){hf(this,Rj,e)}get drmToken(){var e;return(e=this.getAttribute(Ar.DRM_TOKEN))!=null?e:void 0}set drmToken(e){e!==this.drmToken&&(e?this.setAttribute(Ar.DRM_TOKEN,e):this.removeAttribute(Ar.DRM_TOKEN))}get playbackToken(){var e,r,n,i;if(this.hasAttribute(Ar.PLAYBACK_TOKEN))return(e=this.getAttribute(Ar.PLAYBACK_TOKEN))!=null?e:void 0;if(this.hasAttribute(Ar.PLAYBACK_ID)){let[,a]=mU((r=this.playbackId)!=null?r:"");return(n=new URLSearchParams(a).get("token"))!=null?n:void 0}if(this.src)return(i=new URLSearchParams(this.src).get("token"))!=null?i:void 0}set playbackToken(e){e!==this.playbackToken&&(e?this.setAttribute(Ar.PLAYBACK_TOKEN,e):this.removeAttribute(Ar.PLAYBACK_TOKEN))}get tokens(){let e=this.getAttribute(Ar.PLAYBACK_TOKEN),r=this.getAttribute(Ar.DRM_TOKEN);return{...cd(this,Lj),...e!=null?{playback:e}:{},...r!=null?{drm:r}:{}}}set tokens(e){hf(this,Lj,e??{})}get ended(){return Oae(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(Ar.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(Ar.ENV_KEY,e):this.removeAttribute(Ar.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(Ar.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(Ar.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(Ar.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(Ar.STREAM_TYPE))!=null?e:rR(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(Ar.STREAM_TYPE,e):this.removeAttribute(Ar.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(Ar.TARGET_LIVE_WINDOW)?+this.getAttribute(Ar.TARGET_LIVE_WINDOW):$Ve(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(Ar.TARGET_LIVE_WINDOW):this.setAttribute(Ar.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,r;if(this.hasAttribute(Ar.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:n}=this,i=(e=this.nativeEl.seekable.end(0))!=null?e:0,a=(r=this.nativeEl.seekable.start(0))!=null?r:0;return Math.max(a,i-n)}return HVe(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(Ar.LIVE_EDGE_OFFSET))return+this.getAttribute(Ar.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.liveEdgeOffset&&(e==null?this.removeAttribute(Ar.LIVE_EDGE_OFFSET):this.setAttribute(Ar.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return bU(this.nativeEl)}async addCuePoints(e){return Sae(this.nativeEl,e)}get activeCuePoint(){return jae(this.nativeEl)}get cuePoints(){return fVe(this.nativeEl)}async addChapters(e){return Cae(this.nativeEl,e)}get activeChapter(){return Nae(this.nativeEl)}get chapters(){return AVe(this.nativeEl)}getStartDate(){return gVe(this.nativeEl,this._hls)}get currentPdt(){return vVe(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(Ar.PREFER_PLAYBACK);if(e===$A.MSE||e===$A.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===$A.MSE||e===$A.NATIVE?this.setAttribute(Ar.PREFER_PLAYBACK,e):this.removeAttribute(Ar.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![Ar.METADATA_URL].includes(e)).reduce((e,r)=>{let n=this.getAttribute(r);return n!=null&&(e[r.replace(/^metadata-/,"").replace(/-/g,"_")]=n),e},{}),...cd(this,Hw)}}set metadata(e){hf(this,Hw,e??{}),this.mux&&this.mux.emit("hb",cd(this,Hw))}get _hlsConfig(){return cd(this,Ij)}set _hlsConfig(e){hf(this,Ij,e)}get logo(){var e;return(e=this.getAttribute(Ar.LOGO))!=null?e:cd(this,Qw)}set logo(e){e?this.setAttribute(Ar.LOGO,e):this.removeAttribute(Ar.LOGO)}load(){hf(this,yA,VVe(this,this.nativeEl,cd(this,yA)))}unload(){Rae(this.nativeEl,cd(this,yA),this),hf(this,yA,void 0)}attributeChangedCallback(e,r,n){var i,a;switch(FS.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,r,n),e){case Ar.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=n??void 0;break;case Ar.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=n??void 0;break;case"src":{let o=!!r,c=!!n;!o&&c?US(this,Oy,zw).call(this):o&&!c?this.unload():o&&c&&(this.unload(),US(this,Oy,zw).call(this));break}case"autoplay":if(n===r)break;(i=cd(this,yA))==null||i.setAutoplay(this.autoplay);break;case"preload":if(n===r)break;(a=cd(this,yA))==null||a.setPreload(n);break;case Ar.PLAYBACK_ID:this.src=tR(this);break;case Ar.DEBUG:{let o=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=o);break}case Ar.METADATA_URL:n&&fetch(n).then(o=>o.json()).then(o=>this.metadata=o).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${n}!`));break;case Ar.STREAM_TYPE:(n==null||n!==r)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case Ar.TARGET_LIVE_WINDOW:(n==null||n!==r)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break;case Ar.LOGO:(n==null||n!==r)&&this.updateLogo();break;case Ar.DISABLE_TRACKING:{if(n==null||n!==r){let o=this.currentTime,c=this.paused;this.unload(),US(this,Oy,zw).call(this).then(()=>{this.currentTime=o,c||this.play()})}break}case Ar.DISABLE_COOKIES:{(n==null||n!==r)&&this.disableCookies&&document.cookie.split(";").forEach(o=>{o.trim().startsWith("muxData")&&(document.cookie=o.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/"))});break}case Ar.CAP_RENDITION_TO_PLAYER_SIZE:(n==null||n!==r)&&(this.capRenditionToPlayerSize=n!=null?!0:void 0)}}updateLogo(){if(!this.shadowRoot)return;let e=this.shadowRoot.querySelector('slot[name="logo"]');if(!e)return;let r=this.constructor.getLogoHTML(cd(this,Qw)||this.logo);e.innerHTML=r}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!cd(this,yA)&&US(this,Oy,zw).call(this)}disconnectedCallback(){this.unload()}handleEvent(e){e.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(e.type,{composed:!0,detail:e.detail}))}};yA=new WeakMap,$w=new WeakMap,kj=new WeakMap,Hw=new WeakMap,Lj=new WeakMap,Ij=new WeakMap,Bj=new WeakMap,Pj=new WeakMap,Oj=new WeakMap,Qw=new WeakMap,Rj=new WeakMap,Oy=new WeakSet,zw=async function(){cd(this,$w)||(await hf(this,$w,Promise.resolve()),hf(this,$w,null),this.load())};const cx=new WeakMap;class cB extends Error{}class fKe extends Error{}const mKe=["application/x-mpegURL","application/vnd.apple.mpegurl","audio/mpegurl"],AKe=globalThis.WeakRef?class extends Set{add(t){super.add(new WeakRef(t))}forEach(t){super.forEach(e=>{const r=e.deref();r&&t(r)})}}:Set;function pKe(t){globalThis.chrome?.cast?.isAvailable?globalThis.cast?.framework?t():customElements.whenDefined("google-cast-button").then(t):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(t)}}function gKe(){return globalThis.chrome}function vKe(){const t="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1";if(globalThis.chrome?.cast||document.querySelector(`script[src="${t}"]`))return;const e=document.createElement("script");e.src=t,document.head.append(e)}function k0(){return globalThis.cast?.framework?.CastContext.getInstance()}function _U(){return k0()?.getCurrentSession()}function SU(){return _U()?.getSessionObj().media[0]}function xKe(t){return new Promise((e,r)=>{SU().editTracksInfo(t,e,r)})}function yKe(t){return new Promise((e,r)=>{SU().getStatus(t,e,r)})}function fW(t){return k0().setOptions({...Kae(),...t})}function Kae(){return{receiverApplicationId:"CC1AD845",autoJoinPolicy:"origin_scoped",androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0}}function bKe(t){if(!t)return;const e=/\.([a-zA-Z0-9]+)(?:\?.*)?$/,r=t.match(e);return r?r[1]:null}function wKe(t){const e=t.split(`
`),r=[];for(let n=0;n<e.length;n++)if(e[n].trim().startsWith("#EXT-X-STREAM-INF")){const a=e[n+1]?e[n+1].trim():"";a&&!a.startsWith("#")&&r.push(a)}return r}function EKe(t){return t.split(`
`).find(n=>!n.trim().startsWith("#")&&n.trim()!=="")}async function _Ke(t){try{const r=(await fetch(t,{method:"HEAD"})).headers.get("Content-Type");return mKe.some(n=>r===n)}catch(e){return console.error("Error while trying to get the Content-Type of the manifest",e),!1}}async function SKe(t){try{const e=await(await fetch(t)).text();let r=e;const n=wKe(e);if(n.length>0){const o=new URL(n[0],t).toString();r=await(await fetch(o)).text()}const i=EKe(r);return bKe(i)}catch(e){console.error("Error while trying to parse the manifest playlist",e);return}}const Dj=new AKe,e0=new WeakSet;let Mu;pKe(()=>{if(!globalThis.chrome?.cast?.isAvailable){console.debug("chrome.cast.isAvailable",globalThis.chrome?.cast?.isAvailable);return}Mu||(Mu=cast.framework,k0().addEventListener(Mu.CastContextEventType.CAST_STATE_CHANGED,t=>{Dj.forEach(e=>cx.get(e).onCastStateChanged?.(t))}),k0().addEventListener(Mu.CastContextEventType.SESSION_STATE_CHANGED,t=>{Dj.forEach(e=>cx.get(e).onSessionStateChanged?.(t))}),Dj.forEach(t=>cx.get(t).init?.()))});let mW=0;class jKe extends EventTarget{#e;#n;#r;#i;#t="disconnected";#a=!1;#s=new Set;#l=new WeakMap;constructor(e){super(),this.#e=e,Dj.add(this),cx.set(this,{init:()=>this.#h(),onCastStateChanged:()=>this.#u(),onSessionStateChanged:()=>this.#m(),getCastPlayer:()=>this.#o}),this.#h()}get#o(){if(e0.has(this.#e))return this.#r}get state(){return this.#t}async watchAvailability(e){if(this.#e.disableRemotePlayback)throw new cB("disableRemotePlayback attribute is present.");return this.#l.set(e,++mW),this.#s.add(e),queueMicrotask(()=>e(this.#d())),mW}async cancelWatchAvailability(e){if(this.#e.disableRemotePlayback)throw new cB("disableRemotePlayback attribute is present.");e?this.#s.delete(e):this.#s.clear()}async prompt(){if(this.#e.disableRemotePlayback)throw new cB("disableRemotePlayback attribute is present.");if(!globalThis.chrome?.cast?.isAvailable)throw new fKe("The RemotePlayback API is disabled on this platform.");const e=e0.has(this.#e);e0.add(this.#e),fW(this.#e.castOptions),Object.entries(this.#i).forEach(([r,n])=>{this.#r.controller.addEventListener(r,n)});try{await k0().requestSession()}catch(r){if(e||e0.delete(this.#e),r==="cancel")return;throw new Error(r)}cx.get(this.#e)?.loadOnPrompt?.()}#c(){e0.has(this.#e)&&(Object.entries(this.#i).forEach(([e,r])=>{this.#r.controller.removeEventListener(e,r)}),e0.delete(this.#e),this.#e.muted=this.#r.isMuted,this.#e.currentTime=this.#r.savedPlayerState.currentTime,this.#r.savedPlayerState.isPaused===!1&&this.#e.play())}#d(){const e=k0()?.getCastState();return e&&e!=="NO_DEVICES_AVAILABLE"}#u(){const e=k0().getCastState();if(e0.has(this.#e)&&e==="CONNECTING"&&(this.#t="connecting",this.dispatchEvent(new Event("connecting"))),!this.#a&&e?.includes("CONNECT")){this.#a=!0;for(let r of this.#s)r(!0)}else if(this.#a&&(!e||e==="NO_DEVICES_AVAILABLE")){this.#a=!1;for(let r of this.#s)r(!1)}}async#m(){const{SESSION_RESUMED:e}=Mu.SessionState;if(k0().getSessionState()===e&&this.#e.castSrc===SU()?.media.contentId){e0.add(this.#e),Object.entries(this.#i).forEach(([r,n])=>{this.#r.controller.addEventListener(r,n)});try{await yKe(new chrome.cast.media.GetStatusRequest)}catch(r){console.error(r)}this.#i[Mu.RemotePlayerEventType.IS_PAUSED_CHANGED](),this.#i[Mu.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}}#h(){!Mu||this.#n||(this.#n=!0,fW(this.#e.castOptions),this.#e.textTracks.addEventListener("change",()=>this.#f()),this.#u(),this.#r=new Mu.RemotePlayer,new Mu.RemotePlayerController(this.#r),this.#i={[Mu.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:e})=>{e===!0?(this.#t="connected",this.dispatchEvent(new Event("connect"))):(this.#c(),this.#t="disconnected",this.dispatchEvent(new Event("disconnect")))},[Mu.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.#e.dispatchEvent(new Event("durationchange"))},[Mu.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[Mu.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.#e.dispatchEvent(new Event("volumechange"))},[Mu.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{this.#o?.isMediaLoaded&&this.#e.dispatchEvent(new Event("timeupdate"))},[Mu.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.#e.dispatchEvent(new Event("resize"))},[Mu.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.#e.dispatchEvent(new Event(this.paused?"pause":"play"))},[Mu.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{this.#o?.playerState!==chrome.cast.media.PlayerState.PAUSED&&this.#e.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[this.#o?.playerState]))},[Mu.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{this.#o?.isMediaLoaded&&(await Promise.resolve(),this.#A())}})}#A(){this.#f()}async#f(){if(!this.#o)return;const r=(this.#r.mediaInfo?.tracks??[]).filter(({type:f})=>f===chrome.cast.media.TrackType.TEXT),n=[...this.#e.textTracks].filter(({kind:f})=>f==="subtitles"||f==="captions"),i=r.map(({language:f,name:m,trackId:p})=>{const{mode:g}=n.find(x=>x.language===f&&x.label===m)??{};return g?{mode:g,trackId:p}:!1}).filter(Boolean),o=i.filter(({mode:f})=>f!=="showing").map(({trackId:f})=>f),c=i.find(({mode:f})=>f==="showing"),u=_U()?.getSessionObj().media[0]?.activeTrackIds??[];let l=u;if(u.length&&(l=l.filter(f=>!o.includes(f))),c?.trackId&&(l=[...l,c.trackId]),l=[...new Set(l)],!((f,m)=>f.length===m.length&&f.every(p=>m.includes(p)))(u,l))try{const f=new chrome.cast.media.EditTracksInfoRequest(l);await xKe(f)}catch(f){console.error(f)}}}const TKe=t=>class extends t{static observedAttributes=[...t.observedAttributes??[],"cast-src","cast-content-type","cast-stream-type","cast-receiver"];#e={paused:!1};#n=Kae();#r;#i;get remote(){return this.#i?this.#i:gKe()?(this.disableRemotePlayback||vKe(),cx.set(this,{loadOnPrompt:()=>this.#a()}),this.#i=new jKe(this)):super.remote}get#t(){return cx.get(this.remote)?.getCastPlayer?.()}attributeChangedCallback(r,n,i){if(super.attributeChangedCallback(r,n,i),r==="cast-receiver"&&i){this.#n.receiverApplicationId=i;return}if(this.#t)switch(r){case"cast-stream-type":case"cast-src":this.load();break}}async#a(){this.#e.paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(r){console.error(r)}}async load(){if(!this.#t)return super.load();const r=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType);r.customData=this.castCustomData;const n=[...this.querySelectorAll("track")].filter(({kind:c,src:u})=>u&&(c==="subtitles"||c==="captions")),i=[];let a=0;if(n.length&&(r.tracks=n.map(c=>{const u=++a;i.length===0&&c.track.mode==="showing"&&i.push(u);const l=new chrome.cast.media.Track(u,chrome.cast.media.TrackType.TEXT);return l.trackContentId=c.src,l.trackContentType="text/vtt",l.subtype=c.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,l.name=c.label,l.language=c.srclang,l})),this.castStreamType==="live"?r.streamType=chrome.cast.media.StreamType.LIVE:r.streamType=chrome.cast.media.StreamType.BUFFERED,r.metadata=new chrome.cast.media.GenericMediaMetadata,r.metadata.title=this.title,r.metadata.images=[{url:this.poster}],_Ke(this.castSrc)){const c=await SKe(this.castSrc);c?.includes("m4s")||c?.includes("mp4")?(r.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.FMP4,r.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.FMP4):c?.includes("ts")&&(r.hlsSegmentFormat=chrome.cast.media.HlsSegmentFormat.TS,r.hlsVideoSegmentFormat=chrome.cast.media.HlsVideoSegmentFormat.TS)}const o=new chrome.cast.media.LoadRequest(r);o.currentTime=super.currentTime??0,o.autoplay=!this.#e.paused,o.activeTrackIds=i,await _U()?.loadMedia(o),this.dispatchEvent(new Event("volumechange"))}play(){if(this.#t){this.#t.isPaused&&this.#t.controller?.playOrPause();return}return super.play()}pause(){if(this.#t){this.#t.isPaused||this.#t.controller?.playOrPause();return}super.pause()}get castOptions(){return this.#n}get castReceiver(){return this.getAttribute("cast-receiver")??void 0}set castReceiver(r){this.castReceiver!=r&&this.setAttribute("cast-receiver",`${r}`)}get castSrc(){return this.getAttribute("cast-src")??this.querySelector("source")?.src??this.currentSrc}set castSrc(r){this.castSrc!=r&&this.setAttribute("cast-src",`${r}`)}get castContentType(){return this.getAttribute("cast-content-type")??void 0}set castContentType(r){this.setAttribute("cast-content-type",`${r}`)}get castStreamType(){return this.getAttribute("cast-stream-type")??this.streamType??void 0}set castStreamType(r){this.setAttribute("cast-stream-type",`${r}`)}get castCustomData(){return this.#r}set castCustomData(r){const n=typeof r;if(!["object","undefined"].includes(n)){console.error(`castCustomData must be nullish or an object but value was of type ${n}`);return}this.#r=r}get readyState(){if(this.#t)switch(this.#t.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.#t?this.#t.isPaused:super.paused}get muted(){return this.#t?this.#t?.isMuted:super.muted}set muted(r){if(this.#t){(r&&!this.#t.isMuted||!r&&this.#t.isMuted)&&this.#t.controller?.muteOrUnmute();return}super.muted=r}get volume(){return this.#t?this.#t?.volumeLevel??1:super.volume}set volume(r){if(this.#t){this.#t.volumeLevel=+r,this.#t.controller?.setVolumeLevel();return}super.volume=r}get duration(){return this.#t&&this.#t?.isMediaLoaded?this.#t?.duration??NaN:super.duration}get currentTime(){return this.#t&&this.#t?.isMediaLoaded?this.#t?.currentTime??0:super.currentTime}set currentTime(r){if(this.#t){this.#t.currentTime=r,this.#t.controller?.seek();return}super.currentTime=r}};class c5 extends Event{track;constructor(e,r){super(e),this.track=r.track}}const sR=new WeakMap;function Ai(t){return sR.get(t)??CKe(t,{})}function CKe(t,e){let r=sR.get(t);return r||sR.set(t,r={}),Object.assign(r,e)}function aR(t,e){const r=t.videoTracks;Ai(e).media=t,Ai(e).renditionSet||(Ai(e).renditionSet=new Set);const n=Ai(r).trackSet;n.add(e);const i=n.size-1;i in lR.prototype||Object.defineProperty(lR.prototype,i,{get(){return[...Ai(this).trackSet][i]}}),queueMicrotask(()=>{r.dispatchEvent(new c5("addtrack",{track:e}))})}function oR(t){const e=Ai(t).media?.videoTracks;if(!e)return;Ai(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new c5("removetrack",{track:t}))})}function NKe(t){const e=Ai(t).media.videoTracks??[];let r=!1;for(const n of e)n!==t&&(n.selected=!1,r=!0);if(r){if(Ai(e).changeRequested)return;Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,e.dispatchEvent(new Event("change"))})}}class lR extends EventTarget{#e;#n;#r;constructor(){super(),Ai(this).trackSet=new Set}get#i(){return Ai(this).trackSet}[Symbol.iterator](){return this.#i.values()}get length(){return this.#i.size}getTrackById(e){return[...this.#i].find(r=>r.id===e)??null}get selectedIndex(){return[...this.#i].findIndex(e=>e.selected)}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#n}set onremovetrack(e){this.#n&&(this.removeEventListener("removetrack",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class u5 extends Event{rendition;constructor(e,r){super(e),this.rendition=r.rendition}}function kKe(t,e){const r=Ai(t).media.videoRenditions;Ai(e).media=Ai(t).media,Ai(e).track=t;const n=Ai(t).renditionSet;n.add(e);const i=n.size-1;i in cR.prototype||Object.defineProperty(cR.prototype,i,{get(){return Ry(this)[i]}}),queueMicrotask(()=>{t.selected&&r.dispatchEvent(new u5("addrendition",{rendition:e}))})}function LKe(t){const e=Ai(t).media.videoRenditions,r=Ai(t).track;Ai(r).renditionSet.delete(t),queueMicrotask(()=>{Ai(t).track.selected&&e.dispatchEvent(new u5("removerendition",{rendition:t}))})}function IKe(t){const e=Ai(t).media.videoRenditions;!e||Ai(e).changeRequested||(Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,Ai(t).track.selected&&e.dispatchEvent(new Event("change"))}))}function Ry(t){return[...Ai(t).media.videoTracks].filter(r=>r.selected).flatMap(r=>[...Ai(r).renditionSet])}class cR extends EventTarget{#e;#n;#r;[Symbol.iterator](){return Ry(this).values()}get length(){return Ry(this).length}getRenditionById(e){return Ry(this).find(r=>`${r.id}`==`${e}`)??null}get selectedIndex(){return Ry(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[r,n]of Ry(this).entries())n.selected=r===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#n}set onremoverendition(e){this.#n&&(this.removeEventListener("removerendition",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class BKe{src;id;width;height;bitrate;frameRate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,IKe(this))}}class Gae{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,r,n,i,a,o){const c=new BKe;return c.src=e,c.width=r,c.height=n,c.frameRate=o,c.bitrate=a,c.codec=i,kKe(this,c),c}removeRendition(e){LKe(e)}get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,e===!0&&NKe(this))}}function PKe(t,e){const r=Ai(t).media.audioRenditions;Ai(e).media=Ai(t).media,Ai(e).track=t;const n=Ai(t).renditionSet;n.add(e);const i=n.size-1;i in uR.prototype||Object.defineProperty(uR.prototype,i,{get(){return Dy(this)[i]}}),queueMicrotask(()=>{t.enabled&&r.dispatchEvent(new u5("addrendition",{rendition:e}))})}function OKe(t){const e=Ai(t).media.audioRenditions,r=Ai(t).track;Ai(r).renditionSet.delete(t),queueMicrotask(()=>{Ai(t).track.enabled&&e.dispatchEvent(new u5("removerendition",{rendition:t}))})}function RKe(t){const e=Ai(t).media.audioRenditions;!e||Ai(e).changeRequested||(Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,Ai(t).track.enabled&&e.dispatchEvent(new Event("change"))}))}function Dy(t){return[...Ai(t).media.audioTracks].filter(r=>r.enabled).flatMap(r=>[...Ai(r).renditionSet])}class uR extends EventTarget{#e;#n;#r;[Symbol.iterator](){return Dy(this).values()}get length(){return Dy(this).length}getRenditionById(e){return Dy(this).find(r=>`${r.id}`==`${e}`)??null}get selectedIndex(){return Dy(this).findIndex(e=>e.selected)}set selectedIndex(e){for(const[r,n]of Dy(this).entries())n.selected=r===e}get onaddrendition(){return this.#e}set onaddrendition(e){this.#e&&(this.removeEventListener("addrendition",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addrendition",e))}get onremoverendition(){return this.#n}set onremoverendition(e){this.#n&&(this.removeEventListener("removerendition",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removerendition",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class DKe{src;id;bitrate;codec;#e=!1;get selected(){return this.#e}set selected(e){this.#e!==e&&(this.#e=e,RKe(this))}}function dR(t,e){const r=t.audioTracks;Ai(e).media=t,Ai(e).renditionSet||(Ai(e).renditionSet=new Set);const n=Ai(r).trackSet;n.add(e);const i=n.size-1;i in fR.prototype||Object.defineProperty(fR.prototype,i,{get(){return[...Ai(this).trackSet][i]}}),queueMicrotask(()=>{r.dispatchEvent(new c5("addtrack",{track:e}))})}function hR(t){const e=Ai(t).media?.audioTracks;if(!e)return;Ai(e).trackSet.delete(t),queueMicrotask(()=>{e.dispatchEvent(new c5("removetrack",{track:t}))})}function MKe(t){const e=Ai(t).media.audioTracks;!e||Ai(e).changeRequested||(Ai(e).changeRequested=!0,queueMicrotask(()=>{delete Ai(e).changeRequested,e.dispatchEvent(new Event("change"))}))}class fR extends EventTarget{#e;#n;#r;constructor(){super(),Ai(this).trackSet=new Set}get#i(){return Ai(this).trackSet}[Symbol.iterator](){return this.#i.values()}get length(){return this.#i.size}getTrackById(e){return[...this.#i].find(r=>r.id===e)??null}get onaddtrack(){return this.#e}set onaddtrack(e){this.#e&&(this.removeEventListener("addtrack",this.#e),this.#e=void 0),typeof e=="function"&&(this.#e=e,this.addEventListener("addtrack",e))}get onremovetrack(){return this.#n}set onremovetrack(e){this.#n&&(this.removeEventListener("removetrack",this.#n),this.#n=void 0),typeof e=="function"&&(this.#n=e,this.addEventListener("removetrack",e))}get onchange(){return this.#r}set onchange(e){this.#r&&(this.removeEventListener("change",this.#r),this.#r=void 0),typeof e=="function"&&(this.#r=e,this.addEventListener("change",e))}}class Wae{id;kind;label="";language="";sourceBuffer;#e=!1;addRendition(e,r,n){const i=new DKe;return i.src=e,i.codec=r,i.bitrate=n,PKe(this,i),i}removeRendition(e){OKe(e)}get enabled(){return this.#e}set enabled(e){this.#e!==e&&(this.#e=e,MKe(this))}}const AW=yN(globalThis.HTMLMediaElement,"video"),pW=yN(globalThis.HTMLMediaElement,"audio");function FKe(t){if(!t?.prototype)return t;const e=yN(t,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"videoTracks",{get(){return UKe(this)}});const r=yN(t,"audio");(!r||`${r}`.includes("[native code]"))&&Object.defineProperty(t.prototype,"audioTracks",{get(){return $Ke(this)}}),"addVideoTrack"in t.prototype||(t.prototype.addVideoTrack=function(a,o="",c=""){const u=new Gae;return u.kind=a,u.label=o,u.language=c,aR(this,u),u}),"removeVideoTrack"in t.prototype||(t.prototype.removeVideoTrack=oR),"addAudioTrack"in t.prototype||(t.prototype.addAudioTrack=function(a,o="",c=""){const u=new Wae;return u.kind=a,u.label=o,u.language=c,dR(this,u),u}),"removeAudioTrack"in t.prototype||(t.prototype.removeAudioTrack=hR),"videoRenditions"in t.prototype||Object.defineProperty(t.prototype,"videoRenditions",{get(){return n(this)}});const n=a=>{let o=Ai(a).videoRenditions;return o||(o=new cR,Ai(o).media=a,Ai(a).videoRenditions=o),o};"audioRenditions"in t.prototype||Object.defineProperty(t.prototype,"audioRenditions",{get(){return i(this)}});const i=a=>{let o=Ai(a).audioRenditions;return o||(o=new uR,Ai(o).media=a,Ai(a).audioRenditions=o),o};return t}function yN(t,e){if(t?.prototype)return Object.getOwnPropertyDescriptor(t.prototype,`${e}Tracks`)?.get}function UKe(t){let e=Ai(t).videoTracks;if(!e&&(e=new lR,Ai(t).videoTracks=e,AW)){const r=AW.call(t.nativeEl??t);for(const n of r)aR(t,n);r.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",n=>{if([...e].some(i=>i instanceof Gae)){for(const i of r)oR(i);return}aR(t,n.track)}),r.addEventListener("removetrack",n=>{oR(n.track)})}return e}function $Ke(t){let e=Ai(t).audioTracks;if(!e&&(e=new fR,Ai(t).audioTracks=e,pW)){const r=pW.call(t.nativeEl??t);for(const n of r)dR(t,n);r.addEventListener("change",()=>{e.dispatchEvent(new Event("change"))}),r.addEventListener("addtrack",n=>{if([...e].some(i=>i instanceof Wae)){for(const i of r)hR(i);return}dR(t,n.track)}),r.addEventListener("removetrack",n=>{hR(n.track)})}return e}var Yae=t=>{throw TypeError(t)},qae=(t,e,r)=>e.has(t)||Yae("Cannot "+r),HKe=(t,e,r)=>(qae(t,e,"read from private field"),r?r.call(t):e.get(t)),QKe=(t,e,r)=>e.has(t)?Yae("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),zKe=(t,e,r,n)=>(qae(t,e,"write to private field"),e.set(t,r),r),Xae=class{addEventListener(){}removeEventListener(){}dispatchEvent(e){return!0}};if(typeof DocumentFragment>"u"){class t extends Xae{}globalThis.DocumentFragment=t}var VKe=class extends Xae{},KKe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(VKe)}},GKe={customElements:KKe},WKe=typeof window>"u"||typeof globalThis.customElements>"u",uB=WKe?GKe:globalThis,Mj,gW=class extends TKe(FKe(hKe)){constructor(){super(...arguments),QKe(this,Mj)}get autoplay(){let t=this.getAttribute("autoplay");return t===null?!1:t===""?!0:t}set autoplay(t){let e=this.autoplay;t!==e&&(t?this.setAttribute("autoplay",typeof t=="string"?t:""):this.removeAttribute("autoplay"))}get muxCastCustomData(){return{mux:{playbackId:this.playbackId,minResolution:this.minResolution,maxResolution:this.maxResolution,renditionOrder:this.renditionOrder,customDomain:this.customDomain,tokens:{drm:this.drmToken},envKey:this.envKey,metadata:this.metadata,disableCookies:this.disableCookies,disableTracking:this.disableTracking,beaconCollectionDomain:this.beaconCollectionDomain,startTime:this.startTime,preferCmcd:this.preferCmcd}}}get castCustomData(){var t;return(t=HKe(this,Mj))!=null?t:this.muxCastCustomData}set castCustomData(t){zKe(this,Mj,t)}};Mj=new WeakMap;uB.customElements.get("mux-video")||(uB.customElements.define("mux-video",gW),uB.MuxVideoElement=gW);const Wn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_LOOP_REQUEST:"medialooprequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},po={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},Zae={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_BUFFERED:"mediaBuffered",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_CHAPTERS_CUES:"mediaChaptersCues",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_ENDED:"mediaEnded",MEDIA_ERROR:"mediaError",MEDIA_ERROR_CODE:"mediaErrorCode",MEDIA_ERROR_MESSAGE:"mediaErrorMessage",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_HEIGHT:"mediaHeight",MEDIA_IS_AIRPLAYING:"mediaIsAirplaying",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_IS_PIP:"mediaIsPip",MEDIA_LOADING:"mediaLoading",MEDIA_MUTED:"mediaMuted",MEDIA_LOOP:"mediaLoop",MEDIA_PAUSED:"mediaPaused",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_PREVIEW_CHAPTER:"mediaPreviewChapter",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_LANG:"mediaLang",MEDIA_WIDTH:"mediaWidth"},Jae=Object.entries(Zae),ft=Jae.reduce((t,[e,r])=>(t[e]=r.toLowerCase(),t),{}),YKe={USER_INACTIVE_CHANGE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"},dg=Jae.reduce((t,[e,r])=>(t[e]=r.toLowerCase(),t),{...YKe});Object.entries(dg).reduce((t,[e,r])=>{const n=ft[e];return n&&(t[r]=n),t},{userinactivechange:"userinactive"});const qKe=Object.entries(ft).reduce((t,[e,r])=>{const n=dg[e];return n&&(t[r]=n),t},{userinactive:"userinactivechange"}),KA={SUBTITLES:"subtitles",CAPTIONS:"captions",CHAPTERS:"chapters",METADATA:"metadata"},Bb={DISABLED:"disabled",SHOWING:"showing"},dB={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},of={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},Op={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},XKe={FULLSCREEN:"fullscreen"};function ZKe(t){return t?.map(eGe).join(" ")}function JKe(t){return t?.split(/\s+/).map(tGe)}function eGe(t){if(t){const{id:e,width:r,height:n}=t;return[e,r,n].filter(i=>i!=null).join(":")}}function tGe(t){if(t){const[e,r,n]=t.split(":");return{id:e,width:+r,height:+n}}}function rGe(t){return t?.map(iGe).join(" ")}function nGe(t){return t?.split(/\s+/).map(sGe)}function iGe(t){if(t){const{id:e,kind:r,language:n,label:i}=t;return[e,r,n,i].filter(a=>a!=null).join(":")}}function sGe(t){if(t){const[e,r,n,i]=t.split(":");return{id:e,kind:r,language:n,label:i}}}function aGe(t){return t.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function jU(t){return typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t)}function eoe(t){return typeof t!="string"?!1:!isNaN(t)&&!isNaN(parseFloat(t))}const toe=t=>new Promise(e=>setTimeout(e,t)),vW=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],oGe=(t,e)=>{const r=t===1?vW[e].singular:vW[e].plural;return`${t} ${r}`},jE=t=>{if(!jU(t))return"";const e=Math.abs(t),r=e!==t,n=new Date(0,0,0,0,0,e,0);return`${[n.getHours(),n.getMinutes(),n.getSeconds()].map((c,u)=>c&&oGe(c,u)).filter(c=>c).join(", ")}${r?" remaining":""}`};function D0(t,e){let r=!1;t<0&&(r=!0,t=0-t),t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),a=Math.floor(t/3600);const o=Math.floor(e/60%60),c=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(a=i=n="0"),a=a>0||c>0?a+":":"",i=((a||o>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,(r?"-":"")+a+i+n}const lGe={"Start airplay":"Start airplay","Stop airplay":"Stop airplay",Audio:"Audio",Captions:"Captions","Enable captions":"Enable captions","Disable captions":"Disable captions","Start casting":"Start casting","Stop casting":"Stop casting","Enter fullscreen mode":"Enter fullscreen mode","Exit fullscreen mode":"Exit fullscreen mode",Mute:"Mute",Unmute:"Unmute",Loop:"Loop","Enter picture in picture mode":"Enter picture in picture mode","Exit picture in picture mode":"Exit picture in picture mode",Play:"Play",Pause:"Pause","Playback rate":"Playback rate","Playback rate {playbackRate}":"Playback rate {playbackRate}",Quality:"Quality","Seek backward":"Seek backward","Seek forward":"Seek forward",Settings:"Settings",Auto:"Auto","audio player":"audio player","video player":"video player",volume:"volume",seek:"seek","closed captions":"closed captions","current playback rate":"current playback rate","playback time":"playback time","media loading":"media loading",settings:"settings","audio tracks":"audio tracks",quality:"quality",play:"play",pause:"pause",mute:"mute",unmute:"unmute","chapter: {chapterName}":"chapter: {chapterName}",live:"live",Off:"Off","start airplay":"start airplay","stop airplay":"stop airplay","start casting":"start casting","stop casting":"stop casting","enter fullscreen mode":"enter fullscreen mode","exit fullscreen mode":"exit fullscreen mode","enter picture in picture mode":"enter picture in picture mode","exit picture in picture mode":"exit picture in picture mode","seek to live":"seek to live","playing live":"playing live","seek back {seekOffset} seconds":"seek back {seekOffset} seconds","seek forward {seekOffset} seconds":"seek forward {seekOffset} seconds","Network Error":"Network Error","Decode Error":"Decode Error","Source Not Supported":"Source Not Supported","Encryption Error":"Encryption Error","A network error caused the media download to fail.":"A network error caused the media download to fail.","A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.":"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.","An unsupported error occurred. The server or network failed, or your browser does not support this format.":"An unsupported error occurred. The server or network failed, or your browser does not support this format.","The media is encrypted and there are no keys to decrypt it.":"The media is encrypted and there are no keys to decrypt it."};var xW;const hB={en:lGe};let mR=((xW=globalThis.navigator)==null?void 0:xW.language)||"en";const cGe=t=>{mR=t},uGe=t=>{var e,r,n;const[i]=mR.split("-");return((e=hB[mR])==null?void 0:e[t])||((r=hB[i])==null?void 0:r[t])||((n=hB.en)==null?void 0:n[t])||t},pi=(t,e={})=>uGe(t).replace(/\{(\w+)\}/g,(r,n)=>n in e?String(e[n]):`{${n}}`);let roe=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},noe=class extends roe{},yW=class extends noe{constructor(){super(...arguments),this.role=null}},dGe=class{observe(){}unobserve(){}disconnect(){}};const ioe={createElement:function(){return new b2.HTMLElement},createElementNS:function(){return new b2.HTMLElement},addEventListener(){},removeEventListener(){},dispatchEvent(t){return!1}},b2={ResizeObserver:dGe,document:ioe,Node:noe,Element:yW,HTMLElement:class extends yW{constructor(){super(...arguments),this.innerHTML=""}get content(){return new b2.DocumentFragment}},DocumentFragment:class extends roe{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},localStorage:{getItem(t){return null},setItem(t,e){},removeItem(t){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[],get userAgent(){return""}},matchMedia(t){return{matches:!1,media:t}},DOMParser:class{parseFromString(e,r){return{body:{textContent:e}}}}},soe="global"in globalThis&&globalThis?.global===globalThis||typeof window>"u"||typeof window.customElements>"u",aoe=Object.keys(b2).every(t=>t in globalThis),sr=soe&&!aoe?b2:globalThis,bu=soe&&!aoe?ioe:globalThis.document,bW=new WeakMap,TU=t=>{let e=bW.get(t);return e||bW.set(t,e=new Set),e},ooe=new sr.ResizeObserver(t=>{for(const e of t)for(const r of TU(e.target))r(e)});function a1(t,e){TU(t).add(e),ooe.observe(t)}function o1(t,e){const r=TU(t);r.delete(e),r.size||ooe.unobserve(t)}function If(t){const e={};for(const r of t)e[r.name]=r.value;return e}function Kh(t){var e;return(e=AR(t))!=null?e:R1(t,"media-controller")}function AR(t){var e;const{MEDIA_CONTROLLER:r}=po,n=t.getAttribute(r);if(n)return(e=d5(t))==null?void 0:e.getElementById(n)}const loe=(t,e,r=".value")=>{const n=t.querySelector(r);n&&(n.textContent=e)},hGe=(t,e)=>{const r=`slot[name="${e}"]`,n=t.shadowRoot.querySelector(r);return n?n.children:[]},coe=(t,e)=>hGe(t,e)[0],wg=(t,e)=>!t||!e?!1:t?.contains(e)?!0:wg(t,e.getRootNode().host),R1=(t,e)=>{if(!t)return null;const r=t.closest(e);return r||R1(t.getRootNode().host,e)};function CU(t=document){var e;const r=t?.activeElement;return r?(e=CU(r.shadowRoot))!=null?e:r:null}function d5(t){var e;const r=(e=t?.getRootNode)==null?void 0:e.call(t);return r instanceof ShadowRoot||r instanceof Document?r:null}function uoe(t,{depth:e=3,checkOpacity:r=!0,checkVisibilityCSS:n=!0}={}){if(t.checkVisibility)return t.checkVisibility({checkOpacity:r,checkVisibilityCSS:n});let i=t;for(;i&&e>0;){const a=getComputedStyle(i);if(r&&a.opacity==="0"||n&&a.visibility==="hidden"||a.display==="none")return!1;i=i.parentElement,e--}return!0}function fGe(t,e,r,n){const i=n.x-r.x,a=n.y-r.y,o=i*i+a*a;if(o===0)return 0;const c=((t-r.x)*i+(e-r.y)*a)/o;return Math.max(0,Math.min(1,c))}function zu(t,e){const r=mGe(t,n=>n===e);return r||NU(t,e)}function mGe(t,e){var r,n;let i;for(i of(r=t.querySelectorAll("style:not([media])"))!=null?r:[]){let a;try{a=(n=i.sheet)==null?void 0:n.cssRules}catch{continue}for(const o of a??[])if(e(o.selectorText))return o}}function NU(t,e){var r,n;const i=(r=t.querySelectorAll("style:not([media])"))!=null?r:[],a=i?.[i.length-1];return a?.sheet?(a?.sheet.insertRule(`${e}{}`,a.sheet.cssRules.length),(n=a.sheet.cssRules)==null?void 0:n[a.sheet.cssRules.length-1]):(console.warn("Media Chrome: No style sheet found on style tag of",t),{style:{setProperty:()=>{},removeProperty:()=>"",getPropertyValue:()=>""}})}function Tl(t,e,r=Number.NaN){const n=t.getAttribute(e);return n!=null?+n:r}function Fc(t,e,r){const n=+r;if(r==null||Number.isNaN(n)){t.hasAttribute(e)&&t.removeAttribute(e);return}Tl(t,e,void 0)!==n&&t.setAttribute(e,`${n}`)}function Pa(t,e){return t.hasAttribute(e)}function Oa(t,e,r){if(r==null){t.hasAttribute(e)&&t.removeAttribute(e);return}Pa(t,e)!=r&&t.toggleAttribute(e,r)}function Nl(t,e,r=null){var n;return(n=t.getAttribute(e))!=null?n:r}function kl(t,e,r){if(r==null){t.hasAttribute(e)&&t.removeAttribute(e);return}const n=`${r}`;Nl(t,e,void 0)!==n&&t.setAttribute(e,n)}var doe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},t0=(t,e,r)=>(doe(t,e,"read from private field"),r?r.call(t):e.get(t)),AGe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$S=(t,e,r,n)=>(doe(t,e,"write to private field"),e.set(t,r),r),Mh;function pGe(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
        box-sizing: border-box;
      }
    </style>
  `}class h5 extends sr.HTMLElement{constructor(){if(super(),AGe(this,Mh,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[po.MEDIA_CONTROLLER,ft.MEDIA_PAUSED]}attributeChangedCallback(e,r,n){var i,a,o,c,u;e===po.MEDIA_CONTROLLER&&(r&&((a=(i=t0(this,Mh))==null?void 0:i.unassociateElement)==null||a.call(i,this),$S(this,Mh,null)),n&&this.isConnected&&($S(this,Mh,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=t0(this,Mh))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n,i;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),$S(this,Mh,gGe(this)),this.getAttribute(po.MEDIA_CONTROLLER)&&((r=(e=t0(this,Mh))==null?void 0:e.associateElement)==null||r.call(e,this)),(n=t0(this,Mh))==null||n.addEventListener("pointerdown",this),(i=t0(this,Mh))==null||i.addEventListener("click",this)}disconnectedCallback(){var e,r,n,i;this.getAttribute(po.MEDIA_CONTROLLER)&&((r=(e=t0(this,Mh))==null?void 0:e.unassociateElement)==null||r.call(e,this)),(n=t0(this,Mh))==null||n.removeEventListener("pointerdown",this),(i=t0(this,Mh))==null||i.removeEventListener("click",this),$S(this,Mh,null)}handleEvent(e){var r;const n=(r=e.composedPath())==null?void 0:r[0];if(["video","media-controller"].includes(n?.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:a,clientY:o}=e,{left:c,top:u,width:l,height:d}=this.getBoundingClientRect(),f=a-c,m=o-u;if(f<0||m<0||f>l||m>d||l===0&&d===0)return;const p=this._pointerType||"mouse";if(this._pointerType=void 0,p===dB.TOUCH){this.handleTap(e);return}else if(p===dB.MOUSE||p===dB.PEN){this.handleMouseClick(e);return}}}}get mediaPaused(){return Pa(this,ft.MEDIA_PAUSED)}set mediaPaused(e){Oa(this,ft.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const r=this.mediaPaused?Wn.MEDIA_PLAY_REQUEST:Wn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new sr.CustomEvent(r,{composed:!0,bubbles:!0}))}}Mh=new WeakMap;h5.shadowRootOptions={mode:"open"};h5.getTemplateHTML=pGe;function gGe(t){var e;const r=t.getAttribute(po.MEDIA_CONTROLLER);return r?(e=t.getRootNode())==null?void 0:e.getElementById(r):R1(t,"media-controller")}sr.customElements.get("media-gesture-receiver")||sr.customElements.define("media-gesture-receiver",h5);var wW=h5,kU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},pf=(t,e,r)=>(kU(t,e,"read from private field"),r?r.call(t):e.get(t)),lf=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Lv=(t,e,r,n)=>(kU(t,e,"write to private field"),e.set(t,r),r),Jf=(t,e,r)=>(kU(t,e,"access private method"),r),bN,My,w2,pb,Fj,pR,hoe,Vw,Uj,gR,foe,vR,moe,E2,f5,m5,LU,l1,_2;const es={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive",AUTOHIDE_OVER_CONTROLS:"autohideovercontrols"};function vGe(t){return`
    <style>
      
      :host([${ft.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
        outline: none;
      }

      :host {
        box-sizing: border-box;
        position: relative;
        display: inline-block;
        line-height: 0;
        background-color: var(--media-background-color, #000);
        overflow: hidden;
      }

      :host(:not([${es.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        display: flex;
        flex-flow: column nowrap;
        align-items: start;
        pointer-events: none;
        background: none;
      }

      slot[name=media] {
        display: var(--media-slot-display, contents);
      }

      
      :host([${es.AUDIO}]) slot[name=media] {
        display: var(--media-slot-display, none);
      }

      
      :host([${es.AUDIO}]) [part~=layer][part~=gesture-layer] {
        height: 0;
        display: block;
      }

      
      :host(:not([${es.AUDIO}])[${es.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
          :host(:not([${es.AUDIO}])[${es.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
        display: none;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator):not([role=dialog]):not([hidden])) {
        pointer-events: auto;
      }

      :host(:not([${es.AUDIO}])) *[part~=layer][part~=centered-layer] {
        align-items: center;
        justify-content: center;
      }

      :host(:not([${es.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
      :host(:not([${es.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
        align-self: stretch;
        flex-grow: 1;
      }

      slot[name=middle-chrome] {
        display: inline;
        flex-grow: 1;
        pointer-events: none;
        background: none;
      }

      
      ::slotted([slot=media]),
      ::slotted([slot=poster]) {
        width: 100%;
        height: 100%;
      }

      
      :host(:not([${es.AUDIO}])) .spacer {
        flex-grow: 1;
      }

      
      :host(:-webkit-full-screen) {
        
        width: 100% !important;
        height: 100% !important;
      }

      
      ::slotted(:not([slot=media]):not([slot=poster]):not([${es.NO_AUTOHIDE}]):not([hidden]):not([role=dialog])) {
        opacity: 1;
        transition: var(--media-control-transition-in, opacity 0.25s);
      }

      
      :host([${es.USER_INACTIVE}]:not([${ft.MEDIA_PAUSED}]):not([${ft.MEDIA_IS_AIRPLAYING}]):not([${ft.MEDIA_IS_CASTING}]):not([${es.AUDIO}])) ::slotted(:not([slot=media]):not([slot=poster]):not([${es.NO_AUTOHIDE}]):not([role=dialog])) {
        opacity: 0;
        transition: var(--media-control-transition-out, opacity 1s);
      }

      :host([${es.USER_INACTIVE}]:not([${es.NO_AUTOHIDE}]):not([${ft.MEDIA_PAUSED}]):not([${ft.MEDIA_IS_CASTING}]):not([${es.AUDIO}])) ::slotted([slot=media]) {
        cursor: none;
      }

      :host([${es.USER_INACTIVE}][${es.AUTOHIDE_OVER_CONTROLS}]:not([${es.NO_AUTOHIDE}]):not([${ft.MEDIA_PAUSED}]):not([${ft.MEDIA_IS_CASTING}]):not([${es.AUDIO}])) * {
        --media-cursor: none;
        cursor: none;
      }


      ::slotted(media-control-bar)  {
        align-self: stretch;
      }

      
      :host(:not([${es.AUDIO}])[${ft.MEDIA_HAS_PLAYED}]) slot[name=poster] {
        display: none;
      }

      ::slotted([role=dialog]) {
        width: 100%;
        height: 100%;
        align-self: center;
      }

      ::slotted([role=menu]) {
        align-self: end;
      }
    </style>

    <slot name="media" part="layer media-layer"></slot>
    <slot name="poster" part="layer poster-layer"></slot>
    <slot name="gestures-chrome" part="layer gesture-layer">
      <media-gesture-receiver slot="gestures-chrome">
        <template shadowrootmode="${wW.shadowRootOptions.mode}">
          ${wW.getTemplateHTML({})}
        </template>
      </media-gesture-receiver>
    </slot>
    <span part="layer vertical-layer">
      <slot name="top-chrome" part="top chrome"></slot>
      <slot name="middle-chrome" part="middle chrome"></slot>
      <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
      
      <slot part="bottom chrome"></slot>
    </span>
    <slot name="dialog" part="layer dialog-layer"></slot>
  `}const xGe=Object.values(ft),yGe="sm:384 md:576 lg:768 xl:960";function bGe(t){Aoe(t.target,t.contentRect.width)}function Aoe(t,e){var r;if(!t.isConnected)return;const n=(r=t.getAttribute(es.BREAKPOINTS))!=null?r:yGe,i=wGe(n),a=EGe(i,e);let o=!1;if(Object.keys(i).forEach(c=>{if(a.includes(c)){t.hasAttribute(`breakpoint${c}`)||(t.setAttribute(`breakpoint${c}`,""),o=!0);return}t.hasAttribute(`breakpoint${c}`)&&(t.removeAttribute(`breakpoint${c}`),o=!0)}),o){const c=new CustomEvent(dg.BREAKPOINTS_CHANGE,{detail:a});t.dispatchEvent(c)}t.breakpointsComputed||(t.breakpointsComputed=!0,t.dispatchEvent(new CustomEvent(dg.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))}function wGe(t){const e=t.split(/\s+/);return Object.fromEntries(e.map(r=>r.split(":")))}function EGe(t,e){return Object.keys(t).filter(r=>e>=parseInt(t[r]))}class A5 extends sr.HTMLElement{constructor(){if(super(),lf(this,pR),lf(this,gR),lf(this,vR),lf(this,E2),lf(this,m5),lf(this,l1),lf(this,bN,0),lf(this,My,null),lf(this,w2,null),lf(this,pb,void 0),this.breakpointsComputed=!1,lf(this,Fj,new MutationObserver(Jf(this,pR,hoe).bind(this))),lf(this,Vw,!1),lf(this,Uj,r=>{pf(this,Vw)||(setTimeout(()=>{bGe(r),Lv(this,Vw,!1)},0),Lv(this,Vw,!0))}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const r=If(this.attributes),n=this.constructor.getTemplateHTML(r);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(n):this.shadowRoot.innerHTML=n}const e=this.querySelector(":scope > slot[slot=media]");e&&e.addEventListener("slotchange",()=>{if(!e.assignedElements({flatten:!0}).length){pf(this,My)&&this.mediaUnsetCallback(pf(this,My));return}this.handleMediaUpdated(this.media)})}static get observedAttributes(){return[es.AUTOHIDE,es.GESTURES_DISABLED].concat(xGe).filter(e=>![ft.MEDIA_RENDITION_LIST,ft.MEDIA_AUDIO_TRACK_LIST,ft.MEDIA_CHAPTERS_CUES,ft.MEDIA_WIDTH,ft.MEDIA_HEIGHT,ft.MEDIA_ERROR,ft.MEDIA_ERROR_MESSAGE].includes(e))}attributeChangedCallback(e,r,n){e.toLowerCase()==es.AUTOHIDE&&(this.autohide=n)}get media(){let e=this.querySelector(":scope > [slot=media]");return e?.nodeName=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){e&&(Lv(this,My,e),e.localName.includes("-")&&await sr.customElements.whenDefined(e.localName),this.mediaSetCallback(e))}connectedCallback(){var e;pf(this,Fj).observe(this,{childList:!0,subtree:!0}),a1(this,pf(this,Uj));const r=this.getAttribute(es.AUDIO)!=null,n=pi(r?"audio player":"video player");this.setAttribute("role","region"),this.setAttribute("aria-label",n),this.handleMediaUpdated(this.media),this.setAttribute(es.USER_INACTIVE,""),Aoe(this,this.getBoundingClientRect().width),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=sr.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;pf(this,Fj).disconnect(),o1(this,pf(this,Uj)),this.media&&this.mediaUnsetCallback(this.media),(e=sr.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){Lv(this,My,null)}handleEvent(e){switch(e.type){case"pointerdown":Lv(this,bN,e.timeStamp);break;case"pointermove":Jf(this,gR,foe).call(this,e);break;case"pointerup":Jf(this,vR,moe).call(this,e);break;case"mouseleave":Jf(this,E2,f5).call(this);break;case"mouseup":this.removeAttribute(es.KEYBOARD_CONTROL);break;case"keyup":Jf(this,l1,_2).call(this),this.setAttribute(es.KEYBOARD_CONTROL,"");break}}set autohide(e){const r=Number(e);Lv(this,pb,isNaN(r)?0:r)}get autohide(){return(pf(this,pb)===void 0?2:pf(this,pb)).toString()}get breakpoints(){return Nl(this,es.BREAKPOINTS)}set breakpoints(e){kl(this,es.BREAKPOINTS,e)}get audio(){return Pa(this,es.AUDIO)}set audio(e){Oa(this,es.AUDIO,e)}get gesturesDisabled(){return Pa(this,es.GESTURES_DISABLED)}set gesturesDisabled(e){Oa(this,es.GESTURES_DISABLED,e)}get keyboardControl(){return Pa(this,es.KEYBOARD_CONTROL)}set keyboardControl(e){Oa(this,es.KEYBOARD_CONTROL,e)}get noAutohide(){return Pa(this,es.NO_AUTOHIDE)}set noAutohide(e){Oa(this,es.NO_AUTOHIDE,e)}get autohideOverControls(){return Pa(this,es.AUTOHIDE_OVER_CONTROLS)}set autohideOverControls(e){Oa(this,es.AUTOHIDE_OVER_CONTROLS,e)}get userInteractive(){return Pa(this,es.USER_INACTIVE)}set userInteractive(e){Oa(this,es.USER_INACTIVE,e)}}bN=new WeakMap;My=new WeakMap;w2=new WeakMap;pb=new WeakMap;Fj=new WeakMap;pR=new WeakSet;hoe=function(t){const e=this.media;for(const r of t){if(r.type!=="childList")continue;const n=r.removedNodes;for(const i of n){if(i.slot!="media"||r.target!=this)continue;let a=r.previousSibling&&r.previousSibling.previousElementSibling;if(!a||!e)this.mediaUnsetCallback(i);else{let o=a.slot!=="media";for(;(a=a.previousSibling)!==null;)a.slot=="media"&&(o=!1);o&&this.mediaUnsetCallback(i)}}if(e)for(const i of r.addedNodes)i===e&&this.handleMediaUpdated(e)}};Vw=new WeakMap;Uj=new WeakMap;gR=new WeakSet;foe=function(t){if(t.pointerType!=="mouse"&&t.timeStamp-pf(this,bN)<250)return;Jf(this,m5,LU).call(this),clearTimeout(pf(this,w2));const e=this.hasAttribute(es.AUTOHIDE_OVER_CONTROLS);([this,this.media].includes(t.target)||e)&&Jf(this,l1,_2).call(this)};vR=new WeakSet;moe=function(t){if(t.pointerType==="touch"){const e=!this.hasAttribute(es.USER_INACTIVE);[this,this.media].includes(t.target)&&e?Jf(this,E2,f5).call(this):Jf(this,l1,_2).call(this)}else t.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e?.localName))&&Jf(this,l1,_2).call(this)};E2=new WeakSet;f5=function(){if(pf(this,pb)<0||this.hasAttribute(es.USER_INACTIVE))return;this.setAttribute(es.USER_INACTIVE,"");const t=new sr.CustomEvent(dg.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(t)};m5=new WeakSet;LU=function(){if(!this.hasAttribute(es.USER_INACTIVE))return;this.removeAttribute(es.USER_INACTIVE);const t=new sr.CustomEvent(dg.USER_INACTIVE_CHANGE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(t)};l1=new WeakSet;_2=function(){Jf(this,m5,LU).call(this),clearTimeout(pf(this,w2));const t=parseInt(this.autohide);t<0||Lv(this,w2,setTimeout(()=>{Jf(this,E2,f5).call(this)},t*1e3))};A5.shadowRootOptions={mode:"open"};A5.getTemplateHTML=vGe;sr.customElements.get("media-container")||sr.customElements.define("media-container",A5);var poe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},fd=(t,e,r)=>(poe(t,e,"read from private field"),r?r.call(t):e.get(t)),xw=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},HS=(t,e,r,n)=>(poe(t,e,"write to private field"),e.set(t,r),r),Fy,Uy,wN,Jv,kp,o0;class IU{constructor(e,r,{defaultValue:n}={defaultValue:void 0}){xw(this,kp),xw(this,Fy,void 0),xw(this,Uy,void 0),xw(this,wN,void 0),xw(this,Jv,new Set),HS(this,Fy,e),HS(this,Uy,r),HS(this,wN,new Set(n))}[Symbol.iterator](){return fd(this,kp,o0).values()}get length(){return fd(this,kp,o0).size}get value(){var e;return(e=[...fd(this,kp,o0)].join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(HS(this,Jv,new Set),this.add(...(r=e?.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return[...fd(this,kp,o0)][e]}values(){return fd(this,kp,o0).values()}forEach(e,r){fd(this,kp,o0).forEach(e,r)}add(...e){var r,n;e.forEach(i=>fd(this,Jv).add(i)),!(this.value===""&&!((r=fd(this,Fy))!=null&&r.hasAttribute(`${fd(this,Uy)}`)))&&((n=fd(this,Fy))==null||n.setAttribute(`${fd(this,Uy)}`,`${this.value}`))}remove(...e){var r;e.forEach(n=>fd(this,Jv).delete(n)),(r=fd(this,Fy))==null||r.setAttribute(`${fd(this,Uy)}`,`${this.value}`)}contains(e){return fd(this,kp,o0).has(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){return this.remove(e),this.add(r),e===r}}Fy=new WeakMap;Uy=new WeakMap;wN=new WeakMap;Jv=new WeakMap;kp=new WeakSet;o0=function(){return fd(this,Jv).size?fd(this,Jv):fd(this,wN)};const _Ge=(t="")=>t.split(/\s+/),goe=(t="")=>{const[e,r,n]=t.split(":"),i=n?decodeURIComponent(n):void 0;return{kind:e==="cc"?KA.CAPTIONS:KA.SUBTITLES,language:r,label:i}},p5=(t="",e={})=>_Ge(t).map(r=>{const n=goe(r);return{...e,...n}}),voe=t=>t?Array.isArray(t)?t.map(e=>typeof e=="string"?goe(e):e):typeof t=="string"?p5(t):[t]:[],xR=({kind:t,label:e,language:r}={kind:"subtitles"})=>e?`${t==="captions"?"cc":"sb"}:${r}:${encodeURIComponent(e)}`:r,S2=(t=[])=>Array.prototype.map.call(t,xR).join(" "),SGe=(t,e)=>r=>r[t]===e,xoe=t=>{const e=Object.entries(t).map(([r,n])=>SGe(r,n));return r=>e.every(n=>n(r))},TE=(t,e=[],r=[])=>{const n=voe(r).map(xoe),i=a=>n.some(o=>o(a));Array.from(e).filter(i).forEach(a=>{a.mode=t})},g5=(t,e=()=>!0)=>{if(!t?.textTracks)return[];const r=typeof e=="function"?e:xoe(e);return Array.from(t.textTracks).filter(r)},yoe=t=>{var e;return!!((e=t.mediaSubtitlesShowing)!=null&&e.length)||t.hasAttribute(ft.MEDIA_SUBTITLES_SHOWING)},jGe=t=>{var e;const{media:r,fullscreenElement:n}=t;try{const i=n&&"requestFullscreen"in n?"requestFullscreen":n&&"webkitRequestFullScreen"in n?"webkitRequestFullScreen":void 0;if(i){const a=(e=n[i])==null?void 0:e.call(n);if(a instanceof Promise)return a.catch(()=>{})}else r?.webkitEnterFullscreen?r.webkitEnterFullscreen():r?.requestFullscreen&&r.requestFullscreen()}catch(i){console.error(i)}},EW="exitFullscreen"in bu?"exitFullscreen":"webkitExitFullscreen"in bu?"webkitExitFullscreen":"webkitCancelFullScreen"in bu?"webkitCancelFullScreen":void 0,TGe=t=>{var e;const{documentElement:r}=t;if(EW){const n=(e=r?.[EW])==null?void 0:e.call(r);if(n instanceof Promise)return n.catch(()=>{})}},Kw="fullscreenElement"in bu?"fullscreenElement":"webkitFullscreenElement"in bu?"webkitFullscreenElement":void 0,CGe=t=>{const{documentElement:e,media:r}=t,n=e?.[Kw];return!n&&"webkitDisplayingFullscreen"in r&&"webkitPresentationMode"in r&&r.webkitDisplayingFullscreen&&r.webkitPresentationMode===XKe.FULLSCREEN?r:n},NGe=t=>{var e;const{media:r,documentElement:n,fullscreenElement:i=r}=t;if(!r||!n)return!1;const a=CGe(t);if(!a)return!1;if(a===i||a===r)return!0;if(a.localName.includes("-")){let o=a.shadowRoot;if(!(Kw in o))return wg(a,i);for(;o?.[Kw];){if(o[Kw]===i)return!0;o=(e=o[Kw])==null?void 0:e.shadowRoot}}return!1},kGe="fullscreenEnabled"in bu?"fullscreenEnabled":"webkitFullscreenEnabled"in bu?"webkitFullscreenEnabled":void 0,LGe=t=>{const{documentElement:e,media:r}=t;return!!e?.[kGe]||r&&"webkitSupportsFullscreen"in r};let QS;const BU=()=>{var t,e;return QS||(QS=(e=(t=bu)==null?void 0:t.createElement)==null?void 0:e.call(t,"video"),QS)},IGe=async(t=BU())=>{if(!t)return!1;const e=t.volume;t.volume=e/2+.1;const r=new AbortController,n=await Promise.race([BGe(t,r.signal),PGe(t,e)]);return r.abort(),n},BGe=(t,e)=>new Promise(r=>{t.addEventListener("volumechange",()=>r(!0),{signal:e})}),PGe=async(t,e)=>{for(let r=0;r<10;r++){if(t.volume===e)return!1;await toe(10)}return t.volume!==e},OGe=/.*Version\/.*Safari\/.*/.test(sr.navigator.userAgent),boe=(t=BU())=>sr.matchMedia("(display-mode: standalone)").matches&&OGe?!1:typeof t?.requestPictureInPicture=="function",woe=(t=BU())=>LGe({documentElement:bu,media:t}),RGe=woe(),DGe=boe(),MGe=!!sr.WebKitPlaybackTargetAvailabilityEvent,FGe=!!sr.chrome,EN=t=>g5(t.media,e=>[KA.SUBTITLES,KA.CAPTIONS].includes(e.kind)).sort((e,r)=>e.kind>=r.kind?1:-1),Eoe=t=>g5(t.media,e=>e.mode===Bb.SHOWING&&[KA.SUBTITLES,KA.CAPTIONS].includes(e.kind)),_oe=(t,e)=>{const r=EN(t),n=Eoe(t),i=!!n.length;if(r.length){if(e===!1||i&&e!==!0)TE(Bb.DISABLED,r,n);else if(e===!0||!i&&e!==!1){let a=r[0];const{options:o}=t;if(!o?.noSubtitlesLangPref){const d=globalThis.localStorage.getItem("media-chrome-pref-subtitles-lang"),f=d?[d,...globalThis.navigator.languages]:globalThis.navigator.languages,m=r.filter(p=>f.some(g=>p.language.toLowerCase().startsWith(g.split("-")[0]))).sort((p,g)=>{const x=f.findIndex(w=>p.language.toLowerCase().startsWith(w.split("-")[0])),y=f.findIndex(w=>g.language.toLowerCase().startsWith(w.split("-")[0]));return x-y});m[0]&&(a=m[0])}const{language:c,label:u,kind:l}=a;TE(Bb.DISABLED,r,n),TE(Bb.SHOWING,r,[{language:c,label:u,kind:l}])}}},PU=(t,e)=>t===e?!0:t==null||e==null||typeof t!=typeof e?!1:typeof t=="number"&&Number.isNaN(t)&&Number.isNaN(e)?!0:typeof t!="object"?!1:Array.isArray(t)?UGe(t,e):Object.entries(t).every(([r,n])=>r in e&&PU(n,e[r])),UGe=(t,e)=>{const r=Array.isArray(t),n=Array.isArray(e);return r!==n?!1:r||n?t.length!==e.length?!1:t.every((i,a)=>PU(i,e[a])):!0},$Ge=Object.values(Op);let _N;const HGe=IGe().then(t=>(_N=t,_N)),QGe=async(...t)=>{await Promise.all(t.filter(e=>e).map(async e=>{if(!("localName"in e&&e instanceof sr.HTMLElement))return;const r=e.localName;if(!r.includes("-"))return;const n=sr.customElements.get(r);n&&e instanceof n||(await sr.customElements.whenDefined(r),sr.customElements.upgrade(e))}))},zGe=new sr.DOMParser,VGe=t=>t&&(zGe.parseFromString(t,"text/html").body.textContent||t),Gw={mediaError:{get(t,e){const{media:r}=t;if(e?.type!=="playing")return r?.error},mediaEvents:["emptied","error","playing"]},mediaErrorCode:{get(t,e){var r;const{media:n}=t;if(e?.type!=="playing")return(r=n?.error)==null?void 0:r.code},mediaEvents:["emptied","error","playing"]},mediaErrorMessage:{get(t,e){var r,n;const{media:i}=t;if(e?.type!=="playing")return(n=(r=i?.error)==null?void 0:r.message)!=null?n:""},mediaEvents:["emptied","error","playing"]},mediaWidth:{get(t){var e;const{media:r}=t;return(e=r?.videoWidth)!=null?e:0},mediaEvents:["resize"]},mediaHeight:{get(t){var e;const{media:r}=t;return(e=r?.videoHeight)!=null?e:0},mediaEvents:["resize"]},mediaPaused:{get(t){var e;const{media:r}=t;return(e=r?.paused)!=null?e:!0},set(t,e){var r;const{media:n}=e;n&&(t?n.pause():(r=n.play())==null||r.catch(()=>{}))},mediaEvents:["play","playing","pause","emptied"]},mediaHasPlayed:{get(t,e){const{media:r}=t;return r?e?e.type==="playing":!r.paused:!1},mediaEvents:["playing","emptied"]},mediaEnded:{get(t){var e;const{media:r}=t;return(e=r?.ended)!=null?e:!1},mediaEvents:["seeked","ended","emptied"]},mediaPlaybackRate:{get(t){var e;const{media:r}=t;return(e=r?.playbackRate)!=null?e:1},set(t,e){const{media:r}=e;r&&Number.isFinite(+t)&&(r.playbackRate=+t)},mediaEvents:["ratechange","loadstart"]},mediaMuted:{get(t){var e;const{media:r}=t;return(e=r?.muted)!=null?e:!1},set(t,e){const{media:r,options:{noMutedPref:n}={}}=e;if(r){r.muted=t;try{const i=sr.localStorage.getItem("media-chrome-pref-muted")!==null,a=r.hasAttribute("muted");if(n){i&&sr.localStorage.removeItem("media-chrome-pref-muted");return}if(a&&!i)return;sr.localStorage.setItem("media-chrome-pref-muted",t?"true":"false")}catch(i){console.debug("Error setting muted pref",i)}}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noMutedPref:r}}=e,{media:n}=e;if(!(!n||n.muted||r))try{const i=sr.localStorage.getItem("media-chrome-pref-muted")==="true";Gw.mediaMuted.set(i,e),t(i)}catch(i){console.debug("Error getting muted pref",i)}}]},mediaLoop:{get(t){const{media:e}=t;return e?.loop},set(t,e){const{media:r}=e;r&&(r.loop=t)},mediaEvents:["medialooprequest"]},mediaVolume:{get(t){var e;const{media:r}=t;return(e=r?.volume)!=null?e:1},set(t,e){const{media:r,options:{noVolumePref:n}={}}=e;if(r){try{t==null?sr.localStorage.removeItem("media-chrome-pref-volume"):!r.hasAttribute("muted")&&!n&&sr.localStorage.setItem("media-chrome-pref-volume",t.toString())}catch(i){console.debug("Error setting volume pref",i)}Number.isFinite(+t)&&(r.volume=+t)}},mediaEvents:["volumechange"],stateOwnersUpdateHandlers:[(t,e)=>{const{options:{noVolumePref:r}}=e;if(!r)try{const{media:n}=e;if(!n)return;const i=sr.localStorage.getItem("media-chrome-pref-volume");if(i==null)return;Gw.mediaVolume.set(+i,e),t(+i)}catch(n){console.debug("Error getting volume pref",n)}}]},mediaVolumeLevel:{get(t){const{media:e}=t;return typeof e?.volume>"u"?"high":e.muted||e.volume===0?"off":e.volume<.5?"low":e.volume<.75?"medium":"high"},mediaEvents:["volumechange"]},mediaCurrentTime:{get(t){var e;const{media:r}=t;return(e=r?.currentTime)!=null?e:0},set(t,e){const{media:r}=e;!r||!jU(t)||(r.currentTime=t)},mediaEvents:["timeupdate","loadedmetadata"]},mediaDuration:{get(t){const{media:e,options:{defaultDuration:r}={}}=t;return r&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?r:Number.isFinite(e?.duration)?e.duration:Number.NaN},mediaEvents:["durationchange","loadedmetadata","emptied"]},mediaLoading:{get(t){const{media:e}=t;return e?.readyState<3},mediaEvents:["waiting","playing","emptied"]},mediaSeekable:{get(t){var e;const{media:r}=t;if(!((e=r?.seekable)!=null&&e.length))return;const n=r.seekable.start(0),i=r.seekable.end(r.seekable.length-1);if(!(!n&&!i))return[Number(n.toFixed(3)),Number(i.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress","seekablechange"]},mediaBuffered:{get(t){var e;const{media:r}=t,n=(e=r?.buffered)!=null?e:[];return Array.from(n).map((i,a)=>[Number(n.start(a).toFixed(3)),Number(n.end(a).toFixed(3))])},mediaEvents:["progress","emptied"]},mediaStreamType:{get(t){const{media:e,options:{defaultStreamType:r}={}}=t,n=[Op.LIVE,Op.ON_DEMAND].includes(r)?r:void 0;if(!e)return n;const{streamType:i}=e;if($Ge.includes(i))return i===Op.UNKNOWN?n:i;const a=e.duration;return a===1/0?Op.LIVE:Number.isFinite(a)?Op.ON_DEMAND:n},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},mediaTargetLiveWindow:{get(t){const{media:e}=t;if(!e)return Number.NaN;const{targetLiveWindow:r}=e,n=Gw.mediaStreamType.get(t);return(r==null||Number.isNaN(r))&&n===Op.LIVE?0:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},mediaTimeIsLive:{get(t){const{media:e,options:{liveEdgeOffset:r=10}={}}=t;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(Gw.mediaStreamType.get(t)===Op.LIVE))return!1;const i=e.seekable;if(!i)return!0;if(!i.length)return!1;const a=i.end(i.length-1)-r;return e.currentTime>=a},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},mediaSubtitlesList:{get(t){return EN(t).map(({kind:e,label:r,language:n})=>({kind:e,label:r,language:n}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},mediaSubtitlesShowing:{get(t){return Eoe(t).map(({kind:e,label:r,language:n})=>({kind:e,label:r,language:n}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var r,n;const{media:i,options:a}=e;if(!i)return;const o=c=>{var u;!a.defaultSubtitles||c&&![KA.CAPTIONS,KA.SUBTITLES].includes((u=c?.track)==null?void 0:u.kind)||_oe(e,!0)};return i.addEventListener("loadstart",o),(r=i.textTracks)==null||r.addEventListener("addtrack",o),(n=i.textTracks)==null||n.addEventListener("removetrack",o),()=>{var c,u;i.removeEventListener("loadstart",o),(c=i.textTracks)==null||c.removeEventListener("addtrack",o),(u=i.textTracks)==null||u.removeEventListener("removetrack",o)}}]},mediaChaptersCues:{get(t){var e;const{media:r}=t;if(!r)return[];const[n]=g5(r,{kind:KA.CHAPTERS});return Array.from((e=n?.cues)!=null?e:[]).map(({text:i,startTime:a,endTime:o})=>({text:VGe(i),startTime:a,endTime:o}))},mediaEvents:["loadstart","loadedmetadata"],textTracksEvents:["addtrack","removetrack","change"],stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;if(!n)return;const i=n.querySelector('track[kind="chapters"][default][src]'),a=(r=n.shadowRoot)==null?void 0:r.querySelector(':is(video,audio) > track[kind="chapters"][default][src]');return i?.addEventListener("load",t),a?.addEventListener("load",t),()=>{i?.removeEventListener("load",t),a?.removeEventListener("load",t)}}]},mediaIsPip:{get(t){var e,r;const{media:n,documentElement:i}=t;if(!n||!i||!i.pictureInPictureElement)return!1;if(i.pictureInPictureElement===n)return!0;if(i.pictureInPictureElement instanceof HTMLMediaElement)return(e=n.localName)!=null&&e.includes("-")?wg(n,i.pictureInPictureElement):!1;if(i.pictureInPictureElement.localName.includes("-")){let a=i.pictureInPictureElement.shadowRoot;for(;a?.pictureInPictureElement;){if(a.pictureInPictureElement===n)return!0;a=(r=a.pictureInPictureElement)==null?void 0:r.shadowRoot}}return!1},set(t,e){const{media:r}=e;if(r)if(t){if(!bu.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!r.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}const n=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};r.requestPictureInPicture().catch(i=>{if(i.code===11){if(!r.src){console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a src set.");return}if(r.readyState===0&&r.preload==="none"){const a=()=>{r.removeEventListener("loadedmetadata",o),r.preload="none"},o=()=>{r.requestPictureInPicture().catch(n),a()};r.addEventListener("loadedmetadata",o),r.preload="metadata",setTimeout(()=>{r.readyState===0&&n(),a()},1e3)}else throw i}else throw i})}else bu.pictureInPictureElement&&bu.exitPictureInPicture()},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},mediaRenditionList:{get(t){var e;const{media:r}=t;return[...(e=r?.videoRenditions)!=null?e:[]].map(n=>({...n}))},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaRenditionSelected:{get(t){var e,r,n;const{media:i}=t;return(n=(r=i?.videoRenditions)==null?void 0:r[(e=i.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:n.id},set(t,e){const{media:r}=e;if(!r?.videoRenditions){console.warn("MediaController: Rendition selection not supported by this media.");return}const n=t,i=Array.prototype.findIndex.call(r.videoRenditions,a=>a.id==n);r.videoRenditions.selectedIndex!=i&&(r.videoRenditions.selectedIndex=i)},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},mediaAudioTrackList:{get(t){var e;const{media:r}=t;return[...(e=r?.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaAudioTrackEnabled:{get(t){var e,r;const{media:n}=t;return(r=[...(e=n?.audioTracks)!=null?e:[]].find(i=>i.enabled))==null?void 0:r.id},set(t,e){const{media:r}=e;if(!r?.audioTracks){console.warn("MediaChrome: Audio track selection not supported by this media.");return}const n=t;for(const i of r.audioTracks)i.enabled=n==i.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]},mediaIsFullscreen:{get(t){return NGe(t)},set(t,e,r){var n;t?(jGe(e),r.detail&&((n=e.media)==null||n.focus())):TGe(e)},rootEvents:["fullscreenchange","webkitfullscreenchange"],mediaEvents:["webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"]},mediaIsCasting:{get(t){var e;const{media:r}=t;return!r?.remote||((e=r.remote)==null?void 0:e.state)==="disconnected"?!1:!!r.remote.state},set(t,e){var r,n;const{media:i}=e;if(i&&!(t&&((r=i.remote)==null?void 0:r.state)!=="disconnected")&&!(!t&&((n=i.remote)==null?void 0:n.state)!=="connected")){if(typeof i.remote.prompt!="function"){console.warn("MediaChrome: Casting is not supported in this environment");return}i.remote.prompt().catch(()=>{})}},remoteEvents:["connect","connecting","disconnect"]},mediaIsAirplaying:{get(){return!1},set(t,e){const{media:r}=e;if(r){if(!(r.webkitShowPlaybackTargetPicker&&sr.WebKitPlaybackTargetAvailabilityEvent)){console.error("MediaChrome: received a request to select AirPlay but AirPlay is not supported in this environment");return}r.webkitShowPlaybackTargetPicker()}},mediaEvents:["webkitcurrentplaybacktargetiswirelesschanged"]},mediaFullscreenUnavailable:{get(t){const{media:e}=t;if(!RGe||!woe(e))return of.UNSUPPORTED}},mediaPipUnavailable:{get(t){const{media:e}=t;if(!DGe||!boe(e))return of.UNSUPPORTED;if(e?.disablePictureInPicture)return of.UNAVAILABLE}},mediaVolumeUnavailable:{get(t){const{media:e}=t;if(_N===!1||e?.volume==null)return of.UNSUPPORTED},stateOwnersUpdateHandlers:[t=>{_N==null&&HGe.then(e=>t(e?void 0:of.UNSUPPORTED))}]},mediaCastUnavailable:{get(t,{availability:e="not-available"}={}){var r;const{media:n}=t;if(!FGe||!((r=n?.remote)!=null&&r.state))return of.UNSUPPORTED;if(!(e==null||e==="available"))return of.UNAVAILABLE},stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;return n?(n.disableRemotePlayback||n.hasAttribute("disableremoteplayback")||(r=n?.remote)==null||r.watchAvailability(a=>{t({availability:a?"available":"not-available"})}).catch(a=>{a.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var a;(a=n?.remote)==null||a.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaAirplayUnavailable:{get(t,e){if(!MGe)return of.UNSUPPORTED;if(e?.availability==="not-available")return of.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"],stateOwnersUpdateHandlers:[(t,e)=>{var r;const{media:n}=e;return n?(n.disableRemotePlayback||n.hasAttribute("disableremoteplayback")||(r=n?.remote)==null||r.watchAvailability(a=>{t({availability:a?"available":"not-available"})}).catch(a=>{a.name==="NotSupportedError"?t({availability:null}):t({availability:"not-available"})}),()=>{var a;(a=n?.remote)==null||a.cancelWatchAvailability().catch(()=>{})}):void 0}]},mediaRenditionUnavailable:{get(t){var e;const{media:r}=t;if(!r?.videoRenditions)return of.UNSUPPORTED;if(!((e=r.videoRenditions)!=null&&e.length))return of.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},mediaAudioTrackUnavailable:{get(t){var e,r;const{media:n}=t;if(!n?.audioTracks)return of.UNSUPPORTED;if(((r=(e=n.audioTracks)==null?void 0:e.length)!=null?r:0)<=1)return of.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},mediaLang:{get(t){const{options:{mediaLang:e}={}}=t;return e??"en"}}},KGe={[Wn.MEDIA_PREVIEW_REQUEST](t,e,{detail:r}){var n,i,a;const{media:o}=e,c=r??void 0;let u,l;if(o&&c!=null){const[p]=g5(o,{kind:KA.METADATA,label:"thumbnails"}),g=Array.prototype.find.call((n=p?.cues)!=null?n:[],(x,y,w)=>y===0?x.endTime>c:y===w.length-1?x.startTime<=c:x.startTime<=c&&x.endTime>c);if(g){const x=/'^(?:[a-z]+:)?\/\//i.test(g.text)||(i=o?.querySelector('track[label="thumbnails"]'))==null?void 0:i.src,y=new URL(g.text,x);l=new URLSearchParams(y.hash).get("#xywh").split(",").map(E=>+E),u=y.href}}const d=t.mediaDuration.get(e);let m=(a=t.mediaChaptersCues.get(e).find((p,g,x)=>g===x.length-1&&d===p.endTime?p.startTime<=c&&p.endTime>=c:p.startTime<=c&&p.endTime>c))==null?void 0:a.text;return r!=null&&m==null&&(m=""),{mediaPreviewTime:c,mediaPreviewImage:u,mediaPreviewCoords:l,mediaPreviewChapter:m}},[Wn.MEDIA_PAUSE_REQUEST](t,e){t["mediaPaused"].set(!0,e)},[Wn.MEDIA_PLAY_REQUEST](t,e){var r,n,i,a;const o="mediaPaused",u=t.mediaStreamType.get(e)===Op.LIVE,l=!((r=e.options)!=null&&r.noAutoSeekToLive),d=t.mediaTargetLiveWindow.get(e)>0;if(u&&l&&!d){const f=(n=t.mediaSeekable.get(e))==null?void 0:n[1];if(f){const m=(a=(i=e.options)==null?void 0:i.seekToLiveOffset)!=null?a:0,p=f-m;t.mediaCurrentTime.set(p,e)}}t[o].set(!1,e)},[Wn.MEDIA_PLAYBACK_RATE_REQUEST](t,e,{detail:r}){const n="mediaPlaybackRate",i=r;t[n].set(i,e)},[Wn.MEDIA_MUTE_REQUEST](t,e){t["mediaMuted"].set(!0,e)},[Wn.MEDIA_UNMUTE_REQUEST](t,e){const r="mediaMuted";t.mediaVolume.get(e)||t.mediaVolume.set(.25,e),t[r].set(!1,e)},[Wn.MEDIA_LOOP_REQUEST](t,e,{detail:r}){const n="mediaLoop",i=!!r;return t[n].set(i,e),{mediaLoop:i}},[Wn.MEDIA_VOLUME_REQUEST](t,e,{detail:r}){const n="mediaVolume",i=r;i&&t.mediaMuted.get(e)&&t.mediaMuted.set(!1,e),t[n].set(i,e)},[Wn.MEDIA_SEEK_REQUEST](t,e,{detail:r}){const n="mediaCurrentTime",i=r;t[n].set(i,e)},[Wn.MEDIA_SEEK_TO_LIVE_REQUEST](t,e){var r,n,i;const a="mediaCurrentTime",o=(r=t.mediaSeekable.get(e))==null?void 0:r[1];if(Number.isNaN(Number(o)))return;const c=(i=(n=e.options)==null?void 0:n.seekToLiveOffset)!=null?i:0,u=o-c;t[a].set(u,e)},[Wn.MEDIA_SHOW_SUBTITLES_REQUEST](t,e,{detail:r}){var n;const{options:i}=e,a=EN(e),o=voe(r),c=(n=o[0])==null?void 0:n.language;c&&!i.noSubtitlesLangPref&&sr.localStorage.setItem("media-chrome-pref-subtitles-lang",c),TE(Bb.SHOWING,a,o)},[Wn.MEDIA_DISABLE_SUBTITLES_REQUEST](t,e,{detail:r}){const n=EN(e),i=r??[];TE(Bb.DISABLED,n,i)},[Wn.MEDIA_TOGGLE_SUBTITLES_REQUEST](t,e,{detail:r}){_oe(e,r)},[Wn.MEDIA_RENDITION_REQUEST](t,e,{detail:r}){const n="mediaRenditionSelected",i=r;t[n].set(i,e)},[Wn.MEDIA_AUDIO_TRACK_REQUEST](t,e,{detail:r}){const n="mediaAudioTrackEnabled",i=r;t[n].set(i,e)},[Wn.MEDIA_ENTER_PIP_REQUEST](t,e){const r="mediaIsPip";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[r].set(!0,e)},[Wn.MEDIA_EXIT_PIP_REQUEST](t,e){t["mediaIsPip"].set(!1,e)},[Wn.MEDIA_ENTER_FULLSCREEN_REQUEST](t,e,r){const n="mediaIsFullscreen";t.mediaIsPip.get(e)&&t.mediaIsPip.set(!1,e),t[n].set(!0,e,r)},[Wn.MEDIA_EXIT_FULLSCREEN_REQUEST](t,e){t["mediaIsFullscreen"].set(!1,e)},[Wn.MEDIA_ENTER_CAST_REQUEST](t,e){const r="mediaIsCasting";t.mediaIsFullscreen.get(e)&&t.mediaIsFullscreen.set(!1,e),t[r].set(!0,e)},[Wn.MEDIA_EXIT_CAST_REQUEST](t,e){t["mediaIsCasting"].set(!1,e)},[Wn.MEDIA_AIRPLAY_REQUEST](t,e){t["mediaIsAirplaying"].set(!0,e)}},GGe=({media:t,fullscreenElement:e,documentElement:r,stateMediator:n=Gw,requestMap:i=KGe,options:a={},monitorStateOwnersOnlyWithSubscriptions:o=!0})=>{const c=[],u={options:{...a}};let l=Object.freeze({mediaPreviewTime:void 0,mediaPreviewImage:void 0,mediaPreviewCoords:void 0,mediaPreviewChapter:void 0});const d=x=>{x!=null&&(PU(x,l)||(l=Object.freeze({...l,...x}),c.forEach(y=>y(l))))},f=()=>{const x=Object.entries(n).reduce((y,[w,{get:E}])=>(y[w]=E(u),y),{});d(x)},m={};let p;const g=async(x,y)=>{var w,E,_,N,C,I,D,M,Y,X,te,de,ye,we,ve,ne;const ae=!!p;if(p={...u,...p??{},...x},ae)return;await QGe(...Object.values(x));const oe=c.length>0&&y===0&&o,Re=u.media!==p.media,Pe=((w=u.media)==null?void 0:w.textTracks)!==((E=p.media)==null?void 0:E.textTracks),be=((_=u.media)==null?void 0:_.videoRenditions)!==((N=p.media)==null?void 0:N.videoRenditions),he=((C=u.media)==null?void 0:C.audioTracks)!==((I=p.media)==null?void 0:I.audioTracks),Ie=((D=u.media)==null?void 0:D.remote)!==((M=p.media)==null?void 0:M.remote),Oe=u.documentElement!==p.documentElement,$e=!!u.media&&(Re||oe),De=!!((Y=u.media)!=null&&Y.textTracks)&&(Pe||oe),ct=!!((X=u.media)!=null&&X.videoRenditions)&&(be||oe),pt=!!((te=u.media)!=null&&te.audioTracks)&&(he||oe),Ue=!!((de=u.media)!=null&&de.remote)&&(Ie||oe),He=!!u.documentElement&&(Oe||oe),Ye=$e||De||ct||pt||Ue||He,Se=c.length===0&&y===1&&o,mt=!!p.media&&(Re||Se),qe=!!((ye=p.media)!=null&&ye.textTracks)&&(Pe||Se),Tt=!!((we=p.media)!=null&&we.videoRenditions)&&(be||Se),bt=!!((ve=p.media)!=null&&ve.audioTracks)&&(he||Se),gt=!!((ne=p.media)!=null&&ne.remote)&&(Ie||Se),wt=!!p.documentElement&&(Oe||Se),rr=mt||qe||Tt||bt||gt||wt;if(!(Ye||rr)){Object.entries(p).forEach(([ar,Dr])=>{u[ar]=Dr}),f(),p=void 0;return}Object.entries(n).forEach(([ar,{get:Dr,mediaEvents:mn=[],textTracksEvents:$r=[],videoRenditionsEvents:or=[],audioTracksEvents:vr=[],remoteEvents:cn=[],rootEvents:bn=[],stateOwnersUpdateHandlers:Un=[]}])=>{m[ar]||(m[ar]={});const st=tr=>{const Qt=Dr(u,tr);d({[ar]:Qt})};let Ht;Ht=m[ar].mediaEvents,mn.forEach(tr=>{Ht&&$e&&(u.media.removeEventListener(tr,Ht),m[ar].mediaEvents=void 0),mt&&(p.media.addEventListener(tr,st),m[ar].mediaEvents=st)}),Ht=m[ar].textTracksEvents,$r.forEach(tr=>{var Qt,dr;Ht&&De&&((Qt=u.media.textTracks)==null||Qt.removeEventListener(tr,Ht),m[ar].textTracksEvents=void 0),qe&&((dr=p.media.textTracks)==null||dr.addEventListener(tr,st),m[ar].textTracksEvents=st)}),Ht=m[ar].videoRenditionsEvents,or.forEach(tr=>{var Qt,dr;Ht&&ct&&((Qt=u.media.videoRenditions)==null||Qt.removeEventListener(tr,Ht),m[ar].videoRenditionsEvents=void 0),Tt&&((dr=p.media.videoRenditions)==null||dr.addEventListener(tr,st),m[ar].videoRenditionsEvents=st)}),Ht=m[ar].audioTracksEvents,vr.forEach(tr=>{var Qt,dr;Ht&&pt&&((Qt=u.media.audioTracks)==null||Qt.removeEventListener(tr,Ht),m[ar].audioTracksEvents=void 0),bt&&((dr=p.media.audioTracks)==null||dr.addEventListener(tr,st),m[ar].audioTracksEvents=st)}),Ht=m[ar].remoteEvents,cn.forEach(tr=>{var Qt,dr;Ht&&Ue&&((Qt=u.media.remote)==null||Qt.removeEventListener(tr,Ht),m[ar].remoteEvents=void 0),gt&&((dr=p.media.remote)==null||dr.addEventListener(tr,st),m[ar].remoteEvents=st)}),Ht=m[ar].rootEvents,bn.forEach(tr=>{Ht&&He&&(u.documentElement.removeEventListener(tr,Ht),m[ar].rootEvents=void 0),wt&&(p.documentElement.addEventListener(tr,st),m[ar].rootEvents=st)});const Lr=m[ar].stateOwnersUpdateHandlers;if(Lr&&Ye&&(Array.isArray(Lr)?Lr:[Lr]).forEach(Qt=>{typeof Qt=="function"&&Qt()}),rr){const tr=Un.map(Qt=>Qt(st,p)).filter(Qt=>typeof Qt=="function");m[ar].stateOwnersUpdateHandlers=tr.length===1?tr[0]:tr}else Ye&&(m[ar].stateOwnersUpdateHandlers=void 0)}),Object.entries(p).forEach(([ar,Dr])=>{u[ar]=Dr}),f(),p=void 0};return g({media:t,fullscreenElement:e,documentElement:r,options:a}),{dispatch(x){const{type:y,detail:w}=x;if(i[y]&&l.mediaErrorCode==null){d(i[y](n,u,x));return}y==="mediaelementchangerequest"?g({media:w}):y==="fullscreenelementchangerequest"?g({fullscreenElement:w}):y==="documentelementchangerequest"?g({documentElement:w}):y==="optionschangerequest"&&(Object.entries(w??{}).forEach(([E,_])=>{u.options[E]=_}),f())},getState(){return l},subscribe(x){return g({},c.length+1),c.push(x),x(l),()=>{const y=c.indexOf(x);y>=0&&(g({},c.length-1),c.splice(y,1))}}}};var OU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ls=(t,e,r)=>(OU(t,e,"read from private field"),r?r.call(t):e.get(t)),zf=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},bA=(t,e,r,n)=>(OU(t,e,"write to private field"),e.set(t,r),r),PA=(t,e,r)=>(OU(t,e,"access private method"),r),_0,Ww,Ga,ex,Yw,wA,$j,qw,Hj,yR,ux,Pb,Qj,bR,wR,Soe;const joe=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Enter"," ","f","m","k","c","l","j",">","<","p"],_W=10,SW=.025,jW=.25,WGe=.25,YGe=2,Pn={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYBOARD_BACKWARD_SEEK_OFFSET:"keyboardbackwardseekoffset",KEYBOARD_FORWARD_SEEK_OFFSET:"keyboardforwardseekoffset",KEYBOARD_DOWN_VOLUME_STEP:"keyboarddownvolumestep",KEYBOARD_UP_VOLUME_STEP:"keyboardupvolumestep",KEYS_USED:"keysused",LANG:"lang",LOOP:"loop",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_DEFAULT_STORE:"nodefaultstore",NO_HOTKEYS:"nohotkeys",NO_MUTED_PREF:"nomutedpref",NO_SUBTITLES_LANG_PREF:"nosubtitleslangpref",NO_VOLUME_PREF:"novolumepref",SEEK_TO_LIVE_OFFSET:"seektoliveoffset"};class Toe extends A5{constructor(){super(),zf(this,Hj),zf(this,ux),zf(this,Qj),zf(this,wR),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,zf(this,_0,new IU(this,Pn.HOTKEYS)),zf(this,Ww,void 0),zf(this,Ga,void 0),zf(this,ex,null),zf(this,Yw,void 0),zf(this,wA,void 0),zf(this,$j,r=>{var n;(n=ls(this,Ga))==null||n.dispatch(r)}),zf(this,qw,void 0),this.associateElement(this);let e={};bA(this,Yw,r=>{Object.entries(r).forEach(([n,i])=>{if(n in e&&e[n]===i)return;this.propagateMediaState(n,i);const a=n.toLowerCase(),o=new sr.CustomEvent(qKe[a],{composed:!0,detail:i});this.dispatchEvent(o)}),e=r}),this.hasAttribute(Pn.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}static get observedAttributes(){return super.observedAttributes.concat(Pn.NO_HOTKEYS,Pn.HOTKEYS,Pn.DEFAULT_STREAM_TYPE,Pn.DEFAULT_SUBTITLES,Pn.DEFAULT_DURATION,Pn.NO_MUTED_PREF,Pn.NO_VOLUME_PREF,Pn.LANG,Pn.LOOP)}get mediaStore(){return ls(this,Ga)}set mediaStore(e){var r,n;if(ls(this,Ga)&&((r=ls(this,wA))==null||r.call(this),bA(this,wA,void 0)),bA(this,Ga,e),!ls(this,Ga)&&!this.hasAttribute(Pn.NO_DEFAULT_STORE)){PA(this,Hj,yR).call(this);return}bA(this,wA,(n=ls(this,Ga))==null?void 0:n.subscribe(ls(this,Yw)))}get fullscreenElement(){var e;return(e=ls(this,Ww))!=null?e:this}set fullscreenElement(e){var r;this.hasAttribute(Pn.FULLSCREEN_ELEMENT)&&this.removeAttribute(Pn.FULLSCREEN_ELEMENT),bA(this,Ww,e),(r=ls(this,Ga))==null||r.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}get defaultSubtitles(){return Pa(this,Pn.DEFAULT_SUBTITLES)}set defaultSubtitles(e){Oa(this,Pn.DEFAULT_SUBTITLES,e)}get defaultStreamType(){return Nl(this,Pn.DEFAULT_STREAM_TYPE)}set defaultStreamType(e){kl(this,Pn.DEFAULT_STREAM_TYPE,e)}get defaultDuration(){return Tl(this,Pn.DEFAULT_DURATION)}set defaultDuration(e){Fc(this,Pn.DEFAULT_DURATION,e)}get noHotkeys(){return Pa(this,Pn.NO_HOTKEYS)}set noHotkeys(e){Oa(this,Pn.NO_HOTKEYS,e)}get keysUsed(){return Nl(this,Pn.KEYS_USED)}set keysUsed(e){kl(this,Pn.KEYS_USED,e)}get liveEdgeOffset(){return Tl(this,Pn.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){Fc(this,Pn.LIVE_EDGE_OFFSET,e)}get noAutoSeekToLive(){return Pa(this,Pn.NO_AUTO_SEEK_TO_LIVE)}set noAutoSeekToLive(e){Oa(this,Pn.NO_AUTO_SEEK_TO_LIVE,e)}get noVolumePref(){return Pa(this,Pn.NO_VOLUME_PREF)}set noVolumePref(e){Oa(this,Pn.NO_VOLUME_PREF,e)}get noMutedPref(){return Pa(this,Pn.NO_MUTED_PREF)}set noMutedPref(e){Oa(this,Pn.NO_MUTED_PREF,e)}get noSubtitlesLangPref(){return Pa(this,Pn.NO_SUBTITLES_LANG_PREF)}set noSubtitlesLangPref(e){Oa(this,Pn.NO_SUBTITLES_LANG_PREF,e)}get noDefaultStore(){return Pa(this,Pn.NO_DEFAULT_STORE)}set noDefaultStore(e){Oa(this,Pn.NO_DEFAULT_STORE,e)}attributeChangedCallback(e,r,n){var i,a,o,c,u,l,d,f,m,p,g,x;if(super.attributeChangedCallback(e,r,n),e===Pn.NO_HOTKEYS)n!==r&&n===""?(this.hasAttribute(Pn.HOTKEYS)&&console.warn("Media Chrome: Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):n!==r&&n===null&&this.enableHotkeys();else if(e===Pn.HOTKEYS)ls(this,_0).value=n;else if(e===Pn.DEFAULT_SUBTITLES&&n!==r)(i=ls(this,Ga))==null||i.dispatch({type:"optionschangerequest",detail:{defaultSubtitles:this.hasAttribute(Pn.DEFAULT_SUBTITLES)}});else if(e===Pn.DEFAULT_STREAM_TYPE)(o=ls(this,Ga))==null||o.dispatch({type:"optionschangerequest",detail:{defaultStreamType:(a=this.getAttribute(Pn.DEFAULT_STREAM_TYPE))!=null?a:void 0}});else if(e===Pn.LIVE_EDGE_OFFSET)(c=ls(this,Ga))==null||c.dispatch({type:"optionschangerequest",detail:{liveEdgeOffset:this.hasAttribute(Pn.LIVE_EDGE_OFFSET)?+this.getAttribute(Pn.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(Pn.SEEK_TO_LIVE_OFFSET)?void 0:+this.getAttribute(Pn.LIVE_EDGE_OFFSET)}});else if(e===Pn.SEEK_TO_LIVE_OFFSET)(u=ls(this,Ga))==null||u.dispatch({type:"optionschangerequest",detail:{seekToLiveOffset:this.hasAttribute(Pn.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(Pn.SEEK_TO_LIVE_OFFSET):void 0}});else if(e===Pn.NO_AUTO_SEEK_TO_LIVE)(l=ls(this,Ga))==null||l.dispatch({type:"optionschangerequest",detail:{noAutoSeekToLive:this.hasAttribute(Pn.NO_AUTO_SEEK_TO_LIVE)}});else if(e===Pn.FULLSCREEN_ELEMENT){const y=n?(d=this.getRootNode())==null?void 0:d.getElementById(n):void 0;bA(this,Ww,y),(f=ls(this,Ga))==null||f.dispatch({type:"fullscreenelementchangerequest",detail:this.fullscreenElement})}else e===Pn.LANG&&n!==r?(cGe(n),(m=ls(this,Ga))==null||m.dispatch({type:"optionschangerequest",detail:{mediaLang:n}})):e===Pn.LOOP&&n!==r?(p=ls(this,Ga))==null||p.dispatch({type:Wn.MEDIA_LOOP_REQUEST,detail:n!=null}):e===Pn.NO_VOLUME_PREF&&n!==r?(g=ls(this,Ga))==null||g.dispatch({type:"optionschangerequest",detail:{noVolumePref:this.hasAttribute(Pn.NO_VOLUME_PREF)}}):e===Pn.NO_MUTED_PREF&&n!==r&&((x=ls(this,Ga))==null||x.dispatch({type:"optionschangerequest",detail:{noMutedPref:this.hasAttribute(Pn.NO_MUTED_PREF)}}))}connectedCallback(){var e,r;!ls(this,Ga)&&!this.hasAttribute(Pn.NO_DEFAULT_STORE)&&PA(this,Hj,yR).call(this),(e=ls(this,Ga))==null||e.dispatch({type:"documentelementchangerequest",detail:bu}),super.connectedCallback(),ls(this,Ga)&&!ls(this,wA)&&bA(this,wA,(r=ls(this,Ga))==null?void 0:r.subscribe(ls(this,Yw))),ls(this,qw)!==void 0&&ls(this,Ga)&&this.media&&setTimeout(()=>{var n,i,a;(i=(n=this.media)==null?void 0:n.textTracks)!=null&&i.length&&((a=ls(this,Ga))==null||a.dispatch({type:Wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:ls(this,qw)}))},0),this.hasAttribute(Pn.NO_HOTKEYS)?this.disableHotkeys():this.enableHotkeys()}disconnectedCallback(){var e,r,n,i,a;if((e=super.disconnectedCallback)==null||e.call(this),ls(this,Ga)){const o=ls(this,Ga).getState();bA(this,qw,!!((r=o.mediaSubtitlesShowing)!=null&&r.length)),(n=ls(this,Ga))==null||n.dispatch({type:"documentelementchangerequest",detail:void 0}),(i=ls(this,Ga))==null||i.dispatch({type:Wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,detail:!1})}ls(this,wA)&&((a=ls(this,wA))==null||a.call(this),bA(this,wA,void 0))}mediaSetCallback(e){var r;super.mediaSetCallback(e),(r=ls(this,Ga))==null||r.dispatch({type:"mediaelementchangerequest",detail:e}),e.hasAttribute("tabindex")||(e.tabIndex=-1)}mediaUnsetCallback(e){var r;super.mediaUnsetCallback(e),(r=ls(this,Ga))==null||r.dispatch({type:"mediaelementchangerequest",detail:void 0})}propagateMediaState(e,r){NW(this.mediaStateReceivers,e,r)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(r.has(e))return;const n=this.registerMediaStateReceiver.bind(this),i=this.unregisterMediaStateReceiver.bind(this),a=tWe(e,n,i);Object.values(Wn).forEach(o=>{e.addEventListener(o,ls(this,$j))}),r.set(e,a)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(!r.has(e))return;r.get(e)(),r.delete(e),Object.values(Wn).forEach(i=>{e.removeEventListener(i,ls(this,$j))})}registerMediaStateReceiver(e){if(!e)return;const r=this.mediaStateReceivers;r.indexOf(e)>-1||(r.push(e),ls(this,Ga)&&Object.entries(ls(this,Ga).getState()).forEach(([i,a])=>{NW([e],i,a)}))}unregisterMediaStateReceiver(e){const r=this.mediaStateReceivers,n=r.indexOf(e);n<0||r.splice(n,1)}enableHotkeys(){this.addEventListener("keydown",PA(this,Qj,bR))}disableHotkeys(){this.removeEventListener("keydown",PA(this,Qj,bR)),this.removeEventListener("keyup",PA(this,ux,Pb))}get hotkeys(){return Nl(this,Pn.HOTKEYS)}set hotkeys(e){kl(this,Pn.HOTKEYS,e)}keyboardShortcutHandler(e){var r,n,i,a,o,c,u,l,d;const f=e.target;if(((i=(n=(r=f.getAttribute(Pn.KEYS_USED))==null?void 0:r.split(" "))!=null?n:f?.keysUsed)!=null?i:[]).map(w=>w==="Space"?" ":w).filter(Boolean).includes(e.key))return;let p,g,x;if(!(ls(this,_0).contains(`no${e.key.toLowerCase()}`)||e.key===" "&&ls(this,_0).contains("nospace")||e.shiftKey&&(e.key==="/"||e.key==="?")&&ls(this,_0).contains("noshift+/")))switch(e.key){case" ":case"k":p=ls(this,Ga).getState().mediaPaused?Wn.MEDIA_PLAY_REQUEST:Wn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new sr.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"m":p=this.mediaStore.getState().mediaVolumeLevel==="off"?Wn.MEDIA_UNMUTE_REQUEST:Wn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new sr.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"f":p=this.mediaStore.getState().mediaIsFullscreen?Wn.MEDIA_EXIT_FULLSCREEN_REQUEST:Wn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new sr.CustomEvent(p,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new sr.CustomEvent(Wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":case"j":{const w=this.hasAttribute(Pn.KEYBOARD_BACKWARD_SEEK_OFFSET)?+this.getAttribute(Pn.KEYBOARD_BACKWARD_SEEK_OFFSET):_W;g=Math.max(((a=this.mediaStore.getState().mediaCurrentTime)!=null?a:0)-w,0),x=new sr.CustomEvent(Wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(x);break}case"ArrowRight":case"l":{const w=this.hasAttribute(Pn.KEYBOARD_FORWARD_SEEK_OFFSET)?+this.getAttribute(Pn.KEYBOARD_FORWARD_SEEK_OFFSET):_W;g=Math.max(((o=this.mediaStore.getState().mediaCurrentTime)!=null?o:0)+w,0),x=new sr.CustomEvent(Wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(x);break}case"ArrowUp":{const w=this.hasAttribute(Pn.KEYBOARD_UP_VOLUME_STEP)?+this.getAttribute(Pn.KEYBOARD_UP_VOLUME_STEP):SW;g=Math.min(((c=this.mediaStore.getState().mediaVolume)!=null?c:1)+w,1),x=new sr.CustomEvent(Wn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(x);break}case"ArrowDown":{const w=this.hasAttribute(Pn.KEYBOARD_DOWN_VOLUME_STEP)?+this.getAttribute(Pn.KEYBOARD_DOWN_VOLUME_STEP):SW;g=Math.max(((u=this.mediaStore.getState().mediaVolume)!=null?u:1)-w,0),x=new sr.CustomEvent(Wn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(x);break}case"<":{const w=(l=this.mediaStore.getState().mediaPlaybackRate)!=null?l:1;g=Math.max(w-jW,WGe).toFixed(2),x=new sr.CustomEvent(Wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(x);break}case">":{const w=(d=this.mediaStore.getState().mediaPlaybackRate)!=null?d:1;g=Math.min(w+jW,YGe).toFixed(2),x=new sr.CustomEvent(Wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:g}),this.dispatchEvent(x);break}case"/":case"?":{e.shiftKey&&PA(this,wR,Soe).call(this);break}case"p":{p=this.mediaStore.getState().mediaIsPip?Wn.MEDIA_EXIT_PIP_REQUEST:Wn.MEDIA_ENTER_PIP_REQUEST,x=new sr.CustomEvent(p,{composed:!0,bubbles:!0}),this.dispatchEvent(x);break}}}}_0=new WeakMap;Ww=new WeakMap;Ga=new WeakMap;ex=new WeakMap;Yw=new WeakMap;wA=new WeakMap;$j=new WeakMap;qw=new WeakMap;Hj=new WeakSet;yR=function(){var t;this.mediaStore=GGe({media:this.media,fullscreenElement:this.fullscreenElement,options:{defaultSubtitles:this.hasAttribute(Pn.DEFAULT_SUBTITLES),defaultDuration:this.hasAttribute(Pn.DEFAULT_DURATION)?+this.getAttribute(Pn.DEFAULT_DURATION):void 0,defaultStreamType:(t=this.getAttribute(Pn.DEFAULT_STREAM_TYPE))!=null?t:void 0,liveEdgeOffset:this.hasAttribute(Pn.LIVE_EDGE_OFFSET)?+this.getAttribute(Pn.LIVE_EDGE_OFFSET):void 0,seekToLiveOffset:this.hasAttribute(Pn.SEEK_TO_LIVE_OFFSET)?+this.getAttribute(Pn.SEEK_TO_LIVE_OFFSET):this.hasAttribute(Pn.LIVE_EDGE_OFFSET)?+this.getAttribute(Pn.LIVE_EDGE_OFFSET):void 0,noAutoSeekToLive:this.hasAttribute(Pn.NO_AUTO_SEEK_TO_LIVE),noVolumePref:this.hasAttribute(Pn.NO_VOLUME_PREF),noMutedPref:this.hasAttribute(Pn.NO_MUTED_PREF),noSubtitlesLangPref:this.hasAttribute(Pn.NO_SUBTITLES_LANG_PREF)}})};ux=new WeakSet;Pb=function(t){const{key:e,shiftKey:r}=t;if(!(r&&(e==="/"||e==="?")||joe.includes(e))){this.removeEventListener("keyup",PA(this,ux,Pb));return}this.keyboardShortcutHandler(t)};Qj=new WeakSet;bR=function(t){var e;const{metaKey:r,altKey:n,key:i,shiftKey:a}=t,o=a&&(i==="/"||i==="?");if(o&&((e=ls(this,ex))!=null&&e.open)){this.removeEventListener("keyup",PA(this,ux,Pb));return}if(r||n||!o&&!joe.includes(i)){this.removeEventListener("keyup",PA(this,ux,Pb));return}const c=t.target,u=c instanceof HTMLElement&&(c.tagName.toLowerCase()==="media-volume-range"||c.tagName.toLowerCase()==="media-time-range");[" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i)&&!(ls(this,_0).contains(`no${i.toLowerCase()}`)||i===" "&&ls(this,_0).contains("nospace"))&&!u&&t.preventDefault(),this.addEventListener("keyup",PA(this,ux,Pb),{once:!0})};wR=new WeakSet;Soe=function(){ls(this,ex)||(bA(this,ex,bu.createElement("media-keyboard-shortcuts-dialog")),this.appendChild(ls(this,ex))),ls(this,ex).open=!0};const qGe=Object.values(ft),XGe=Object.values(Zae),Coe=t=>{var e,r,n,i;let{observedAttributes:a}=t.constructor;!a&&((e=t.nodeName)!=null&&e.includes("-"))&&(sr.customElements.upgrade(t),{observedAttributes:a}=t.constructor);const o=(i=(n=(r=t?.getAttribute)==null?void 0:r.call(t,po.MEDIA_CHROME_ATTRIBUTES))==null?void 0:n.split)==null?void 0:i.call(n,/\s+/);return Array.isArray(a||o)?(a||o).filter(c=>qGe.includes(c)):[]},ZGe=t=>{var e,r;return(e=t.nodeName)!=null&&e.includes("-")&&sr.customElements.get((r=t.nodeName)==null?void 0:r.toLowerCase())&&!(t instanceof sr.customElements.get(t.nodeName.toLowerCase()))&&sr.customElements.upgrade(t),XGe.some(n=>n in t)},ER=t=>ZGe(t)||!!Coe(t).length,TW=t=>{var e;return(e=t?.join)==null?void 0:e.call(t,":")},CW={[ft.MEDIA_SUBTITLES_LIST]:S2,[ft.MEDIA_SUBTITLES_SHOWING]:S2,[ft.MEDIA_SEEKABLE]:TW,[ft.MEDIA_BUFFERED]:t=>t?.map(TW).join(" "),[ft.MEDIA_PREVIEW_COORDS]:t=>t?.join(" "),[ft.MEDIA_RENDITION_LIST]:ZKe,[ft.MEDIA_AUDIO_TRACK_LIST]:rGe},JGe=async(t,e,r)=>{var n,i;if(t.isConnected||await toe(0),typeof r=="boolean"||r==null)return Oa(t,e,r);if(typeof r=="number")return Fc(t,e,r);if(typeof r=="string")return kl(t,e,r);if(Array.isArray(r)&&!r.length)return t.removeAttribute(e);const a=(i=(n=CW[e])==null?void 0:n.call(CW,r))!=null?i:r;return t.setAttribute(e,a)},eWe=t=>{var e;return!!((e=t.closest)!=null&&e.call(t,'*[slot="media"]'))},Iv=(t,e)=>{if(eWe(t))return;const r=(i,a)=>{var o,c;ER(i)&&a(i);const{children:u=[]}=i??{},l=(c=(o=i?.shadowRoot)==null?void 0:o.children)!=null?c:[];[...u,...l].forEach(f=>Iv(f,a))},n=t?.nodeName.toLowerCase();if(n.includes("-")&&!ER(t)){sr.customElements.whenDefined(n).then(()=>{r(t,e)});return}r(t,e)},NW=(t,e,r)=>{t.forEach(n=>{if(e in n){n[e]=r;return}const i=Coe(n),a=e.toLowerCase();i.includes(a)&&JGe(n,a,r)})},tWe=(t,e,r)=>{Iv(t,e);const n=d=>{var f;const m=(f=d?.composedPath()[0])!=null?f:d.target;e(m)},i=d=>{var f;const m=(f=d?.composedPath()[0])!=null?f:d.target;r(m)};t.addEventListener(Wn.REGISTER_MEDIA_STATE_RECEIVER,n),t.addEventListener(Wn.UNREGISTER_MEDIA_STATE_RECEIVER,i);const a=d=>{d.forEach(f=>{const{addedNodes:m=[],removedNodes:p=[],type:g,target:x,attributeName:y}=f;g==="childList"?(Array.prototype.forEach.call(m,w=>Iv(w,e)),Array.prototype.forEach.call(p,w=>Iv(w,r))):g==="attributes"&&y===po.MEDIA_CHROME_ATTRIBUTES&&(ER(x)?e(x):r(x))})};let o=[];const c=d=>{const f=d.target;f.name!=="media"&&(o.forEach(m=>Iv(m,r)),o=[...f.assignedElements({flatten:!0})],o.forEach(m=>Iv(m,e)))};t.addEventListener("slotchange",c);const u=new MutationObserver(a);return u.observe(t,{childList:!0,attributes:!0,subtree:!0}),()=>{Iv(t,r),t.removeEventListener("slotchange",c),u.disconnect(),t.removeEventListener(Wn.REGISTER_MEDIA_STATE_RECEIVER,n),t.removeEventListener(Wn.UNREGISTER_MEDIA_STATE_RECEIVER,i)}};sr.customElements.get("media-controller")||sr.customElements.define("media-controller",Toe);var rWe=Toe;const wy={PLACEMENT:"placement",BOUNDS:"bounds"};function nWe(t){return`
    <style>
      :host {
        --_tooltip-background-color: var(--media-tooltip-background-color, var(--media-secondary-color, rgba(20, 20, 30, .7)));
        --_tooltip-background: var(--media-tooltip-background, var(--_tooltip-background-color));
        --_tooltip-arrow-half-width: calc(var(--media-tooltip-arrow-width, 12px) / 2);
        --_tooltip-arrow-height: var(--media-tooltip-arrow-height, 5px);
        --_tooltip-arrow-background: var(--media-tooltip-arrow-color, var(--_tooltip-background-color));
        position: relative;
        pointer-events: none;
        display: var(--media-tooltip-display, inline-flex);
        justify-content: center;
        align-items: center;
        box-sizing: border-box;
        z-index: var(--media-tooltip-z-index, 1);
        background: var(--_tooltip-background);
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        font: var(--media-font,
          var(--media-font-weight, 400)
          var(--media-font-size, 13px) /
          var(--media-text-content-height, var(--media-control-height, 18px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        padding: var(--media-tooltip-padding, .35em .7em);
        border: var(--media-tooltip-border, none);
        border-radius: var(--media-tooltip-border-radius, 5px);
        filter: var(--media-tooltip-filter, drop-shadow(0 0 4px rgba(0, 0, 0, .2)));
        white-space: var(--media-tooltip-white-space, nowrap);
      }

      :host([hidden]) {
        display: none;
      }

      img, svg {
        display: inline-block;
      }

      #arrow {
        position: absolute;
        width: 0px;
        height: 0px;
        border-style: solid;
        display: var(--media-tooltip-arrow-display, block);
      }

      :host(:not([placement])),
      :host([placement="top"]) {
        position: absolute;
        bottom: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host(:not([placement])) #arrow,
      :host([placement="top"]) #arrow {
        top: 100%;
        left: 50%;
        border-width: var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width);
        border-color: var(--_tooltip-arrow-background) transparent transparent transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="right"]) {
        position: absolute;
        left: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="right"]) #arrow {
        top: 50%;
        right: 100%;
        border-width: var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width) 0;
        border-color: transparent var(--_tooltip-arrow-background) transparent transparent;
        transform: translate(0, -50%);
      }

      :host([placement="bottom"]) {
        position: absolute;
        top: calc(100% + var(--media-tooltip-distance, 12px));
        left: 50%;
        transform: translate(calc(-50% - var(--media-tooltip-offset-x, 0px)), 0);
      }
      :host([placement="bottom"]) #arrow {
        bottom: 100%;
        left: 50%;
        border-width: 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height) var(--_tooltip-arrow-half-width);
        border-color: transparent transparent var(--_tooltip-arrow-background) transparent;
        transform: translate(calc(-50% + var(--media-tooltip-offset-x, 0px)), 0);
      }

      :host([placement="left"]) {
        position: absolute;
        right: calc(100% + var(--media-tooltip-distance, 12px));
        top: 50%;
        transform: translate(0, -50%);
      }
      :host([placement="left"]) #arrow {
        top: 50%;
        left: 100%;
        border-width: var(--_tooltip-arrow-half-width) 0 var(--_tooltip-arrow-half-width) var(--_tooltip-arrow-height);
        border-color: transparent transparent transparent var(--_tooltip-arrow-background);
        transform: translate(0, -50%);
      }
      
      :host([placement="none"]) #arrow {
        display: none;
      }
    </style>
    <slot></slot>
    <div id="arrow"></div>
  `}class v5 extends sr.HTMLElement{constructor(){if(super(),this.updateXOffset=()=>{var e;if(!uoe(this,{checkOpacity:!1,checkVisibilityCSS:!1}))return;const r=this.placement;if(r==="left"||r==="right"){this.style.removeProperty("--media-tooltip-offset-x");return}const n=getComputedStyle(this),i=(e=R1(this,"#"+this.bounds))!=null?e:Kh(this);if(!i)return;const{x:a,width:o}=i.getBoundingClientRect(),{x:c,width:u}=this.getBoundingClientRect(),l=c+u,d=a+o,f=n.getPropertyValue("--media-tooltip-offset-x"),m=f?parseFloat(f.replace("px","")):0,p=n.getPropertyValue("--media-tooltip-container-margin"),g=p?parseFloat(p.replace("px","")):0,x=c-a+m-g,y=l-d+m+g;if(x<0){this.style.setProperty("--media-tooltip-offset-x",`${x}px`);return}if(y>0){this.style.setProperty("--media-tooltip-offset-x",`${y}px`);return}this.style.removeProperty("--media-tooltip-offset-x")},!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}if(this.arrowEl=this.shadowRoot.querySelector("#arrow"),Object.prototype.hasOwnProperty.call(this,"placement")){const e=this.placement;delete this.placement,this.placement=e}}static get observedAttributes(){return[wy.PLACEMENT,wy.BOUNDS]}get placement(){return Nl(this,wy.PLACEMENT)}set placement(e){kl(this,wy.PLACEMENT,e)}get bounds(){return Nl(this,wy.BOUNDS)}set bounds(e){kl(this,wy.BOUNDS,e)}}v5.shadowRootOptions={mode:"open"};v5.getTemplateHTML=nWe;sr.customElements.get("media-tooltip")||sr.customElements.define("media-tooltip",v5);var kW=v5,RU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Au=(t,e,r)=>(RU(t,e,"read from private field"),r?r.call(t):e.get(t)),Ey=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},zS=(t,e,r,n)=>(RU(t,e,"write to private field"),e.set(t,r),r),iWe=(t,e,r)=>(RU(t,e,"access private method"),r),EA,gb,S0,$y,zj,_R,Noe;const r0={TOOLTIP_PLACEMENT:"tooltipplacement",DISABLED:"disabled",NO_TOOLTIP:"notooltip"};function sWe(t,e={}){return`
    <style>
      :host {
        position: relative;
        font: var(--media-font,
          var(--media-font-weight, bold)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        padding: var(--media-button-padding, var(--media-control-padding, 10px));
        justify-content: var(--media-button-justify-content, center);
        display: inline-flex;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        transition: background .15s linear;
        pointer-events: auto;
        cursor: var(--media-cursor, pointer);
        -webkit-tap-highlight-color: transparent;
      }

      
      :host(:focus-visible) {
        box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: 0;
      }
      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgba(50 50 70 / .7));
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-button-icon-width);
        height: var(--media-button-icon-height, var(--media-control-height, 24px));
        transform: var(--media-button-icon-transform);
        transition: var(--media-button-icon-transition);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
      }

      media-tooltip {
        
        max-width: 0;
        overflow-x: clip;
        opacity: 0;
        transition: opacity .3s, max-width 0s 9s;
      }

      :host(:hover) media-tooltip,
      :host(:focus-visible) media-tooltip {
        max-width: 100vw;
        opacity: 1;
        transition: opacity .3s;
      }

      :host([notooltip]) slot[name="tooltip"] {
        display: none;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}

    <slot name="tooltip">
      <media-tooltip part="tooltip" aria-hidden="true">
        <template shadowrootmode="${kW.shadowRootOptions.mode}">
          ${kW.getTemplateHTML({})}
        </template>
        <slot name="tooltip-content">
          ${this.getTooltipContentHTML(t)}
        </slot>
      </media-tooltip>
    </slot>
  `}function aWe(t,e){return`
    <slot></slot>
  `}function oWe(){return""}class wd extends sr.HTMLElement{constructor(){if(super(),Ey(this,_R),Ey(this,EA,void 0),this.preventClick=!1,this.tooltipEl=null,Ey(this,gb,e=>{this.preventClick||this.handleClick(e),setTimeout(Au(this,S0),0)}),Ey(this,S0,()=>{var e,r;(r=(e=this.tooltipEl)==null?void 0:e.updateXOffset)==null||r.call(e)}),Ey(this,$y,e=>{const{key:r}=e;if(!this.keysUsed.includes(r)){this.removeEventListener("keyup",Au(this,$y));return}this.preventClick||this.handleClick(e)}),Ey(this,zj,e=>{const{metaKey:r,altKey:n,key:i}=e;if(r||n||!this.keysUsed.includes(i)){this.removeEventListener("keyup",Au(this,$y));return}this.addEventListener("keyup",Au(this,$y),{once:!0})}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes),r=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}this.tooltipEl=this.shadowRoot.querySelector("media-tooltip")}static get observedAttributes(){return["disabled",r0.TOOLTIP_PLACEMENT,po.MEDIA_CONTROLLER,ft.MEDIA_LANG]}enable(){this.addEventListener("click",Au(this,gb)),this.addEventListener("keydown",Au(this,zj)),this.tabIndex=0}disable(){this.removeEventListener("click",Au(this,gb)),this.removeEventListener("keydown",Au(this,zj)),this.removeEventListener("keyup",Au(this,$y)),this.tabIndex=-1}attributeChangedCallback(e,r,n){var i,a,o,c,u;e===po.MEDIA_CONTROLLER?(r&&((a=(i=Au(this,EA))==null?void 0:i.unassociateElement)==null||a.call(i,this),zS(this,EA,null)),n&&this.isConnected&&(zS(this,EA,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=Au(this,EA))==null?void 0:c.associateElement)==null||u.call(c,this))):e==="disabled"&&n!==r?n==null?this.enable():this.disable():e===r0.TOOLTIP_PLACEMENT&&this.tooltipEl&&n!==r?this.tooltipEl.placement=n:e===ft.MEDIA_LANG&&(this.shadowRoot.querySelector('slot[name="tooltip-content"]').innerHTML=this.constructor.getTooltipContentHTML()),Au(this,S0).call(this)}connectedCallback(){var e,r,n;const{style:i}=zu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.hasAttribute("disabled")?this.disable():this.enable(),this.setAttribute("role","button");const a=this.getAttribute(po.MEDIA_CONTROLLER);a&&(zS(this,EA,(e=this.getRootNode())==null?void 0:e.getElementById(a)),(n=(r=Au(this,EA))==null?void 0:r.associateElement)==null||n.call(r,this)),sr.customElements.whenDefined("media-tooltip").then(()=>iWe(this,_R,Noe).call(this))}disconnectedCallback(){var e,r;this.disable(),(r=(e=Au(this,EA))==null?void 0:e.unassociateElement)==null||r.call(e,this),zS(this,EA,null),this.removeEventListener("mouseenter",Au(this,S0)),this.removeEventListener("focus",Au(this,S0)),this.removeEventListener("click",Au(this,gb))}get keysUsed(){return["Enter"," "]}get tooltipPlacement(){return Nl(this,r0.TOOLTIP_PLACEMENT)}set tooltipPlacement(e){kl(this,r0.TOOLTIP_PLACEMENT,e)}get mediaController(){return Nl(this,po.MEDIA_CONTROLLER)}set mediaController(e){kl(this,po.MEDIA_CONTROLLER,e)}get disabled(){return Pa(this,r0.DISABLED)}set disabled(e){Oa(this,r0.DISABLED,e)}get noTooltip(){return Pa(this,r0.NO_TOOLTIP)}set noTooltip(e){Oa(this,r0.NO_TOOLTIP,e)}handleClick(e){}}EA=new WeakMap;gb=new WeakMap;S0=new WeakMap;$y=new WeakMap;zj=new WeakMap;_R=new WeakSet;Noe=function(){this.addEventListener("mouseenter",Au(this,S0)),this.addEventListener("focus",Au(this,S0)),this.addEventListener("click",Au(this,gb));const t=this.tooltipPlacement;t&&this.tooltipEl&&(this.tooltipEl.placement=t)};wd.shadowRootOptions={mode:"open"};wd.getTemplateHTML=sWe;wd.getSlotTemplateHTML=aWe;wd.getTooltipContentHTML=oWe;sr.customElements.get("media-chrome-button")||sr.customElements.define("media-chrome-button",wd);const LW=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`;function lWe(t){return`
    <style>
      :host([${ft.MEDIA_IS_AIRPLAYING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${ft.MEDIA_IS_AIRPLAYING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ft.MEDIA_IS_AIRPLAYING}]) slot[name=tooltip-enter],
      :host(:not([${ft.MEDIA_IS_AIRPLAYING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${LW}</slot>
      <slot name="exit">${LW}</slot>
    </slot>
  `}function cWe(){return`
    <slot name="tooltip-enter">${pi("start airplay")}</slot>
    <slot name="tooltip-exit">${pi("stop airplay")}</slot>
  `}const IW=t=>{const e=t.mediaIsAirplaying?pi("stop airplay"):pi("start airplay");t.setAttribute("aria-label",e)};class DU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_IS_AIRPLAYING,ft.MEDIA_AIRPLAY_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),IW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_IS_AIRPLAYING&&IW(this)}get mediaIsAirplaying(){return Pa(this,ft.MEDIA_IS_AIRPLAYING)}set mediaIsAirplaying(e){Oa(this,ft.MEDIA_IS_AIRPLAYING,e)}get mediaAirplayUnavailable(){return Nl(this,ft.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){kl(this,ft.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new sr.CustomEvent(Wn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}DU.getSlotTemplateHTML=lWe;DU.getTooltipContentHTML=cWe;sr.customElements.get("media-airplay-button")||sr.customElements.define("media-airplay-button",DU);const uWe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,dWe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function hWe(t){return`
    <style>
      :host([aria-checked="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([aria-checked="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-checked="true"]) slot[name=tooltip-enable],
      :host(:not([aria-checked="true"])) slot[name=tooltip-disable] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${uWe}</slot>
      <slot name="off">${dWe}</slot>
    </slot>
  `}function fWe(){return`
    <slot name="tooltip-enable">${pi("Enable captions")}</slot>
    <slot name="tooltip-disable">${pi("Disable captions")}</slot>
  `}const BW=t=>{t.setAttribute("aria-checked",yoe(t).toString())};class MU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_SUBTITLES_LIST,ft.MEDIA_SUBTITLES_SHOWING]}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",pi("closed captions")),BW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_SUBTITLES_SHOWING&&BW(this)}get mediaSubtitlesList(){return PW(this,ft.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){OW(this,ft.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return PW(this,ft.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){OW(this,ft.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new sr.CustomEvent(Wn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}MU.getSlotTemplateHTML=hWe;MU.getTooltipContentHTML=fWe;const PW=(t,e)=>{const r=t.getAttribute(e);return r?p5(r):[]},OW=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=S2(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};sr.customElements.get("media-captions-button")||sr.customElements.define("media-captions-button",MU);const mWe='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',AWe='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>';function pWe(t){return`
    <style>
      :host([${ft.MEDIA_IS_CASTING}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${ft.MEDIA_IS_CASTING}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ft.MEDIA_IS_CASTING}]) slot[name=tooltip-enter],
      :host(:not([${ft.MEDIA_IS_CASTING}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${mWe}</slot>
      <slot name="exit">${AWe}</slot>
    </slot>
  `}function gWe(){return`
    <slot name="tooltip-enter">${pi("Start casting")}</slot>
    <slot name="tooltip-exit">${pi("Stop casting")}</slot>
  `}const RW=t=>{const e=t.mediaIsCasting?pi("stop casting"):pi("start casting");t.setAttribute("aria-label",e)};class FU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_IS_CASTING,ft.MEDIA_CAST_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),RW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_IS_CASTING&&RW(this)}get mediaIsCasting(){return Pa(this,ft.MEDIA_IS_CASTING)}set mediaIsCasting(e){Oa(this,ft.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return Nl(this,ft.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){kl(this,ft.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?Wn.MEDIA_EXIT_CAST_REQUEST:Wn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new sr.CustomEvent(e,{composed:!0,bubbles:!0}))}}FU.getSlotTemplateHTML=pWe;FU.getTooltipContentHTML=gWe;sr.customElements.get("media-cast-button")||sr.customElements.define("media-cast-button",FU);var UU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},dx=(t,e,r)=>(UU(t,e,"read from private field"),e.get(t)),Cp=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$U=(t,e,r,n)=>(UU(t,e,"write to private field"),e.set(t,r),r),wv=(t,e,r)=>(UU(t,e,"access private method"),r),SN,j2,Ix,Vj,SR,jR,koe,TR,Loe,CR,Ioe,NR,Boe,kR,Poe;function vWe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        display: var(--media-dialog-display, inline-flex);
        justify-content: center;
        align-items: center;
        
        transition-behavior: allow-discrete;
        visibility: hidden;
        opacity: 0;
        transform: translateY(2px) scale(.99);
        pointer-events: none;
      }

      :host([open]) {
        transition: display .2s, visibility 0s, opacity .2s ease-out, transform .15s ease-out;
        visibility: visible;
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: auto;
      }

      #content {
        display: flex;
        position: relative;
        box-sizing: border-box;
        width: min(320px, 100%);
        word-wrap: break-word;
        max-height: 100%;
        overflow: auto;
        text-align: center;
        line-height: 1.4;
      }
    </style>
    ${this.getSlotTemplateHTML(t)}
  `}function xWe(t){return`
    <slot id="content"></slot>
  `}const yw={OPEN:"open",ANCHOR:"anchor"};class D1 extends sr.HTMLElement{constructor(){super(),Cp(this,Vj),Cp(this,jR),Cp(this,TR),Cp(this,CR),Cp(this,NR),Cp(this,kR),Cp(this,SN,!1),Cp(this,j2,null),Cp(this,Ix,null),this.addEventListener("invoke",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this)}static get observedAttributes(){return[yw.OPEN,yw.ANCHOR]}get open(){return Pa(this,yw.OPEN)}set open(e){Oa(this,yw.OPEN,e)}handleEvent(e){switch(e.type){case"invoke":wv(this,CR,Ioe).call(this,e);break;case"focusout":wv(this,NR,Boe).call(this,e);break;case"keydown":wv(this,kR,Poe).call(this,e);break}}connectedCallback(){wv(this,Vj,SR).call(this),this.role||(this.role="dialog")}attributeChangedCallback(e,r,n){wv(this,Vj,SR).call(this),e===yw.OPEN&&n!==r&&(this.open?wv(this,jR,koe).call(this):wv(this,TR,Loe).call(this))}focus(){$U(this,j2,CU());const e=!this.dispatchEvent(new Event("focus",{composed:!0,cancelable:!0})),r=!this.dispatchEvent(new Event("focusin",{composed:!0,bubbles:!0,cancelable:!0}));if(e||r)return;const n=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');n?.focus()}get keysUsed(){return["Escape","Tab"]}}SN=new WeakMap;j2=new WeakMap;Ix=new WeakMap;Vj=new WeakSet;SR=function(){if(!dx(this,SN)&&($U(this,SN,!0),!this.shadowRoot)){this.attachShadow(this.constructor.shadowRootOptions);const t=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(t),queueMicrotask(()=>{const{style:e}=zu(this.shadowRoot,":host");e.setProperty("transition","display .15s, visibility .15s, opacity .15s ease-in, transform .15s ease-in")})}};jR=new WeakSet;koe=function(){var t;(t=dx(this,Ix))==null||t.setAttribute("aria-expanded","true"),this.dispatchEvent(new Event("open",{composed:!0,bubbles:!0})),this.addEventListener("transitionend",()=>this.focus(),{once:!0})};TR=new WeakSet;Loe=function(){var t;(t=dx(this,Ix))==null||t.setAttribute("aria-expanded","false"),this.dispatchEvent(new Event("close",{composed:!0,bubbles:!0}))};CR=new WeakSet;Ioe=function(t){$U(this,Ix,t.relatedTarget),wg(this,t.relatedTarget)||(this.open=!this.open)};NR=new WeakSet;Boe=function(t){var e;wg(this,t.relatedTarget)||((e=dx(this,j2))==null||e.focus(),dx(this,Ix)&&dx(this,Ix)!==t.relatedTarget&&this.open&&(this.open=!1))};kR=new WeakSet;Poe=function(t){var e,r,n,i,a;const{key:o,ctrlKey:c,altKey:u,metaKey:l}=t;c||u||l||this.keysUsed.includes(o)&&(t.preventDefault(),t.stopPropagation(),o==="Tab"?(t.shiftKey?(r=(e=this.previousElementSibling)==null?void 0:e.focus)==null||r.call(e):(i=(n=this.nextElementSibling)==null?void 0:n.focus)==null||i.call(n),this.blur()):o==="Escape"&&((a=dx(this,j2))==null||a.focus(),this.open=!1))};D1.shadowRootOptions={mode:"open"};D1.getTemplateHTML=vWe;D1.getSlotTemplateHTML=xWe;sr.customElements.get("media-chrome-dialog")||sr.customElements.define("media-chrome-dialog",D1);var HU=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},uc=(t,e,r)=>(HU(t,e,"read from private field"),r?r.call(t):e.get(t)),Dd=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},l0=(t,e,r,n)=>(HU(t,e,"write to private field"),e.set(t,r),r),Nm=(t,e,r)=>(HU(t,e,"access private method"),r),_A,x5,Kj,Gj,Lm,jN,Wj,Yj,qj,QU,Ooe,Xj,LR,Zj,IR,TN,zU,BR,Roe,PR,Doe,OR,Moe,RR,Foe;function yWe(t){return`
    <style>
      :host {
        --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

        box-shadow: var(--_focus-visible-box-shadow, none);
        background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
        display: inline-flex;
        align-items: center;
        
        vertical-align: middle;
        box-sizing: border-box;
        position: relative;
        width: 100px;
        transition: background .15s linear;
        cursor: var(--media-cursor, pointer);
        pointer-events: auto;
        touch-action: none; 
      }

      
      input[type=range]:focus {
        outline: 0;
      }
      input[type=range]:focus::-webkit-slider-runnable-track {
        outline: 0;
      }

      :host(:hover) {
        background: var(--media-control-hover-background, rgb(50 50 70 / .7));
      }

      #leftgap {
        padding-left: var(--media-range-padding-left, var(--_media-range-padding));
      }

      #rightgap {
        padding-right: var(--media-range-padding-right, var(--_media-range-padding));
      }

      #startpoint,
      #endpoint {
        position: absolute;
      }

      #endpoint {
        right: 0;
      }

      #container {
        
        width: var(--media-range-track-width, 100%);
        transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
        position: relative;
        height: 100%;
        display: flex;
        align-items: center;
        min-width: 40px;
      }

      #range {
        
        display: var(--media-time-range-hover-display, block);
        bottom: var(--media-time-range-hover-bottom, -7px);
        height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
        width: 100%;
        position: absolute;
        cursor: var(--media-cursor, pointer);

        -webkit-appearance: none; 
        -webkit-tap-highlight-color: transparent;
        background: transparent; 
        margin: 0;
        z-index: 1;
      }

      @media (hover: hover) {
        #range {
          bottom: var(--media-time-range-hover-bottom, -5px);
          height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
        }
      }

      
      
      #range::-webkit-slider-thumb {
        -webkit-appearance: none;
        background: transparent;
        width: .1px;
        height: .1px;
      }

      
      #range::-moz-range-thumb {
        background: transparent;
        border: transparent;
        width: .1px;
        height: .1px;
      }

      #appearance {
        height: var(--media-range-track-height, 4px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        width: 100%;
        position: absolute;
        
        will-change: transform;
      }

      #track {
        background: var(--media-range-track-background, rgb(255 255 255 / .2));
        border-radius: var(--media-range-track-border-radius, 1px);
        border: var(--media-range-track-border, none);
        outline: var(--media-range-track-outline);
        outline-offset: var(--media-range-track-outline-offset);
        backdrop-filter: var(--media-range-track-backdrop-filter);
        -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
        box-shadow: var(--media-range-track-box-shadow, none);
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      #progress,
      #pointer {
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #progress {
        background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
        transition: var(--media-range-track-transition);
      }

      #pointer {
        background: var(--media-range-track-pointer-background);
        border-right: var(--media-range-track-pointer-border-right);
        transition: visibility .25s, opacity .25s;
        visibility: hidden;
        opacity: 0;
      }

      @media (hover: hover) {
        :host(:hover) #pointer {
          transition: visibility .5s, opacity .5s;
          visibility: visible;
          opacity: 1;
        }
      }

      #thumb,
      ::slotted([slot=thumb]) {
        width: var(--media-range-thumb-width, 10px);
        height: var(--media-range-thumb-height, 10px);
        transition: var(--media-range-thumb-transition);
        transform: var(--media-range-thumb-transform, none);
        opacity: var(--media-range-thumb-opacity, 1);
        translate: -50%;
        position: absolute;
        left: 0;
        cursor: var(--media-cursor, pointer);
      }

      #thumb {
        border-radius: var(--media-range-thumb-border-radius, 10px);
        background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
        box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
        border: var(--media-range-thumb-border, none);
      }

      :host([disabled]) #thumb {
        background-color: #777;
      }

      .segments #appearance {
        height: var(--media-range-segment-hover-height, 7px);
      }

      #track {
        clip-path: url(#segments-clipping);
      }

      #segments {
        --segments-gap: var(--media-range-segments-gap, 2px);
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #segments-clipping {
        transform: translateX(calc(var(--segments-gap) / 2));
      }

      #segments-clipping:empty {
        display: none;
      }

      #segments-clipping rect {
        height: var(--media-range-track-height, 4px);
        y: calc((var(--media-range-segment-hover-height, 7px) - var(--media-range-track-height, 4px)) / 2);
        transition: var(--media-range-segment-transition, transform .1s ease-in-out);
        transform: var(--media-range-segment-transform, scaleY(1));
        transform-origin: center;
      }
    </style>
    <div id="leftgap"></div>
    <div id="container">
      <div id="startpoint"></div>
      <div id="endpoint"></div>
      <div id="appearance">
        <div id="track" part="track">
          <div id="pointer"></div>
          <div id="progress" part="progress"></div>
        </div>
        <slot name="thumb">
          <div id="thumb" part="thumb"></div>
        </slot>
        <svg id="segments"><clipPath id="segments-clipping"></clipPath></svg>
      </div>
      <input id="range" type="range" min="0" max="1" step="any" value="0">

      ${this.getContainerTemplateHTML(t)}
    </div>
    <div id="rightgap"></div>
  `}function bWe(t){return""}class M1 extends sr.HTMLElement{constructor(){if(super(),Dd(this,QU),Dd(this,Xj),Dd(this,Zj),Dd(this,TN),Dd(this,BR),Dd(this,PR),Dd(this,OR),Dd(this,RR),Dd(this,_A,void 0),Dd(this,x5,void 0),Dd(this,Kj,void 0),Dd(this,Gj,void 0),Dd(this,Lm,{}),Dd(this,jN,[]),Dd(this,Wj,()=>{if(this.range.matches(":focus-visible")){const{style:e}=zu(this.shadowRoot,":host");e.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),Dd(this,Yj,()=>{const{style:e}=zu(this.shadowRoot,":host");e.removeProperty("--_focus-visible-box-shadow")}),Dd(this,qj,()=>{const e=this.shadowRoot.querySelector("#segments-clipping");e&&e.parentNode.append(e)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes),r=this.constructor.getTemplateHTML(e);this.shadowRoot.setHTMLUnsafe?this.shadowRoot.setHTMLUnsafe(r):this.shadowRoot.innerHTML=r}this.container=this.shadowRoot.querySelector("#container"),l0(this,Kj,this.shadowRoot.querySelector("#startpoint")),l0(this,Gj,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range"),this.appearance=this.shadowRoot.querySelector("#appearance")}static get observedAttributes(){return["disabled","aria-disabled",po.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,a,o,c,u;e===po.MEDIA_CONTROLLER?(r&&((a=(i=uc(this,_A))==null?void 0:i.unassociateElement)==null||a.call(i,this),l0(this,_A,null)),n&&this.isConnected&&(l0(this,_A,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=uc(this,_A))==null?void 0:c.associateElement)==null||u.call(c,this))):(e==="disabled"||e==="aria-disabled"&&r!==n)&&(n==null?(this.range.removeAttribute(e),Nm(this,Xj,LR).call(this)):(this.range.setAttribute(e,n),Nm(this,Zj,IR).call(this)))}connectedCallback(){var e,r,n;const{style:i}=zu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),uc(this,Lm).pointer=zu(this.shadowRoot,"#pointer"),uc(this,Lm).progress=zu(this.shadowRoot,"#progress"),uc(this,Lm).thumb=zu(this.shadowRoot,'#thumb, ::slotted([slot="thumb"])'),uc(this,Lm).activeSegment=zu(this.shadowRoot,"#segments-clipping rect:nth-child(0)");const a=this.getAttribute(po.MEDIA_CONTROLLER);a&&(l0(this,_A,(e=this.getRootNode())==null?void 0:e.getElementById(a)),(n=(r=uc(this,_A))==null?void 0:r.associateElement)==null||n.call(r,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",uc(this,Wj)),this.shadowRoot.addEventListener("focusout",uc(this,Yj)),Nm(this,Xj,LR).call(this),a1(this.container,uc(this,qj))}disconnectedCallback(){var e,r;Nm(this,Zj,IR).call(this),(r=(e=uc(this,_A))==null?void 0:e.unassociateElement)==null||r.call(e,this),l0(this,_A,null),this.shadowRoot.removeEventListener("focusin",uc(this,Wj)),this.shadowRoot.removeEventListener("focusout",uc(this,Yj)),o1(this.container,uc(this,qj))}updatePointerBar(e){var r;(r=uc(this,Lm).pointer)==null||r.style.setProperty("width",`${this.getPointerRatio(e)*100}%`)}updateBar(){var e,r;const n=this.range.valueAsNumber*100;(e=uc(this,Lm).progress)==null||e.style.setProperty("width",`${n}%`),(r=uc(this,Lm).thumb)==null||r.style.setProperty("left",`${n}%`)}updateSegments(e){const r=this.shadowRoot.querySelector("#segments-clipping");if(r.textContent="",this.container.classList.toggle("segments",!!e?.length),!e?.length)return;const n=[...new Set([+this.range.min,...e.flatMap(a=>[a.start,a.end]),+this.range.max])];l0(this,jN,[...n]);const i=n.pop();for(const[a,o]of n.entries()){const[c,u]=[a===0,a===n.length-1],l=c?"calc(var(--segments-gap) / -1)":`${o*100}%`,f=`calc(${((u?i:n[a+1])-o)*100}%${c||u?"":" - var(--segments-gap)"})`,m=bu.createElementNS("http://www.w3.org/2000/svg","rect"),p=NU(this.shadowRoot,`#segments-clipping rect:nth-child(${a+1})`);p.style.setProperty("x",l),p.style.setProperty("width",f),r.append(m)}}getPointerRatio(e){return fGe(e.clientX,e.clientY,uc(this,Kj).getBoundingClientRect(),uc(this,Gj).getBoundingClientRect())}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"pointermove":Nm(this,RR,Foe).call(this,e);break;case"input":this.updateBar();break;case"pointerenter":Nm(this,BR,Roe).call(this,e);break;case"pointerdown":Nm(this,TN,zU).call(this,e);break;case"pointerup":Nm(this,PR,Doe).call(this);break;case"pointerleave":Nm(this,OR,Moe).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}_A=new WeakMap;x5=new WeakMap;Kj=new WeakMap;Gj=new WeakMap;Lm=new WeakMap;jN=new WeakMap;Wj=new WeakMap;Yj=new WeakMap;qj=new WeakMap;QU=new WeakSet;Ooe=function(t){const e=uc(this,Lm).activeSegment;if(!e)return;const r=this.getPointerRatio(t),i=`#segments-clipping rect:nth-child(${uc(this,jN).findIndex((a,o,c)=>{const u=c[o+1];return u!=null&&r>=a&&r<=u})+1})`;(e.selectorText!=i||!e.style.transform)&&(e.selectorText=i,e.style.setProperty("transform","var(--media-range-segment-hover-transform, scaleY(2))"))};Xj=new WeakSet;LR=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};Zj=new WeakSet;IR=function(){var t,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(t=sr.window)==null||t.removeEventListener("pointerup",this),(e=sr.window)==null||e.removeEventListener("pointermove",this)};TN=new WeakSet;zU=function(t){var e;l0(this,x5,t.composedPath().includes(this.range)),(e=sr.window)==null||e.addEventListener("pointerup",this)};BR=new WeakSet;Roe=function(t){var e;t.pointerType!=="mouse"&&Nm(this,TN,zU).call(this,t),this.addEventListener("pointerleave",this),(e=sr.window)==null||e.addEventListener("pointermove",this)};PR=new WeakSet;Doe=function(){var t;(t=sr.window)==null||t.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};OR=new WeakSet;Moe=function(){var t,e;this.removeEventListener("pointerleave",this),(t=sr.window)==null||t.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled"),(e=uc(this,Lm).activeSegment)==null||e.style.removeProperty("transform")};RR=new WeakSet;Foe=function(t){t.pointerType==="pen"&&t.buttons===0||(this.toggleAttribute("dragging",t.buttons===1||t.pointerType!=="mouse"),this.updatePointerBar(t),Nm(this,QU,Ooe).call(this,t),this.dragging&&(t.pointerType!=="mouse"||!uc(this,x5))&&(this.range.disabled=!0,this.range.valueAsNumber=this.getPointerRatio(t),this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0}))))};M1.shadowRootOptions={mode:"open"};M1.getTemplateHTML=yWe;M1.getContainerTemplateHTML=bWe;sr.customElements.get("media-chrome-range")||sr.customElements.define("media-chrome-range",M1);var Uoe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},VS=(t,e,r)=>(Uoe(t,e,"read from private field"),r?r.call(t):e.get(t)),wWe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},KS=(t,e,r,n)=>(Uoe(t,e,"write to private field"),e.set(t,r),r),SA;function EWe(t){return`
    <style>
      :host {
        
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --media-loading-indicator-icon-height: 44px;
      }

      ::slotted(media-time-range),
      ::slotted(media-volume-range) {
        min-height: 100%;
      }

      ::slotted(media-time-range),
      ::slotted(media-clip-selector) {
        flex-grow: 1;
      }

      ::slotted([role="menu"]) {
        position: absolute;
      }
    </style>

    <slot></slot>
  `}class VU extends sr.HTMLElement{constructor(){if(super(),wWe(this,SA,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[po.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,a,o,c,u;e===po.MEDIA_CONTROLLER&&(r&&((a=(i=VS(this,SA))==null?void 0:i.unassociateElement)==null||a.call(i,this),KS(this,SA,null)),n&&this.isConnected&&(KS(this,SA,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=VS(this,SA))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const i=this.getAttribute(po.MEDIA_CONTROLLER);i&&(KS(this,SA,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=VS(this,SA))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=VS(this,SA))==null?void 0:e.unassociateElement)==null||r.call(e,this),KS(this,SA,null)}}SA=new WeakMap;VU.shadowRootOptions={mode:"open"};VU.getTemplateHTML=EWe;sr.customElements.get("media-control-bar")||sr.customElements.define("media-control-bar",VU);var $oe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},GS=(t,e,r)=>($oe(t,e,"read from private field"),r?r.call(t):e.get(t)),_We=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},WS=(t,e,r,n)=>($oe(t,e,"write to private field"),e.set(t,r),r),jA;function SWe(t,e={}){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
        padding: var(--media-control-padding, 10px);
        display: inline-flex;
        justify-content: center;
        align-items: center;
        vertical-align: middle;
        box-sizing: border-box;
        text-align: center;
        pointer-events: auto;
      }

      
      :host(:focus-visible) {
        box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
        outline: 0;
      }

      
      :host(:where(:focus)) {
        box-shadow: none;
        outline: 0;
      }
    </style>

    ${this.getSlotTemplateHTML(t,e)}
  `}function jWe(t,e){return`
    <slot></slot>
  `}class tv extends sr.HTMLElement{constructor(){if(super(),_We(this,jA,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[po.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,n){var i,a,o,c,u;e===po.MEDIA_CONTROLLER&&(r&&((a=(i=GS(this,jA))==null?void 0:i.unassociateElement)==null||a.call(i,this),WS(this,jA,null)),n&&this.isConnected&&(WS(this,jA,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=GS(this,jA))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const{style:i}=zu(this.shadowRoot,":host");i.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`);const a=this.getAttribute(po.MEDIA_CONTROLLER);a&&(WS(this,jA,(e=this.getRootNode())==null?void 0:e.getElementById(a)),(n=(r=GS(this,jA))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=GS(this,jA))==null?void 0:e.unassociateElement)==null||r.call(e,this),WS(this,jA,null)}}jA=new WeakMap;tv.shadowRootOptions={mode:"open"};tv.getTemplateHTML=SWe;tv.getSlotTemplateHTML=jWe;sr.customElements.get("media-text-display")||sr.customElements.define("media-text-display",tv);var Hoe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},DW=(t,e,r)=>(Hoe(t,e,"read from private field"),r?r.call(t):e.get(t)),TWe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},CWe=(t,e,r,n)=>(Hoe(t,e,"write to private field"),e.set(t,r),r),Xw;function NWe(t,e){return`
    <slot>${D0(e.mediaDuration)}</slot>
  `}class Qoe extends tv{constructor(){var e;super(),TWe(this,Xw,void 0),CWe(this,Xw,this.shadowRoot.querySelector("slot")),DW(this,Xw).textContent=D0((e=this.mediaDuration)!=null?e:0)}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_DURATION]}attributeChangedCallback(e,r,n){e===ft.MEDIA_DURATION&&(DW(this,Xw).textContent=D0(+n)),super.attributeChangedCallback(e,r,n)}get mediaDuration(){return Tl(this,ft.MEDIA_DURATION)}set mediaDuration(e){Fc(this,ft.MEDIA_DURATION,e)}}Xw=new WeakMap;Qoe.getSlotTemplateHTML=NWe;sr.customElements.get("media-duration-display")||sr.customElements.define("media-duration-display",Qoe);const kWe={2:pi("Network Error"),3:pi("Decode Error"),4:pi("Source Not Supported"),5:pi("Encryption Error")},LWe={2:pi("A network error caused the media download to fail."),3:pi("A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format."),4:pi("An unsupported error occurred. The server or network failed, or your browser does not support this format."),5:pi("The media is encrypted and there are no keys to decrypt it.")},zoe=t=>{var e,r;return t.code===1?null:{title:(e=kWe[t.code])!=null?e:`Error ${t.code}`,message:(r=LWe[t.code])!=null?r:t.message}};var Voe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},IWe=(t,e,r)=>(Voe(t,e,"read from private field"),r?r.call(t):e.get(t)),BWe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},PWe=(t,e,r,n)=>(Voe(t,e,"write to private field"),e.set(t,r),r),Jj;function OWe(t){return`
    <style>
      :host {
        background: rgb(20 20 30 / .8);
      }

      #content {
        display: block;
        padding: 1.2em 1.5em;
      }

      h3,
      p {
        margin-block: 0 .3em;
      }
    </style>
    <slot name="error-${t.mediaerrorcode}" id="content">
      ${Koe({code:+t.mediaerrorcode,message:t.mediaerrormessage})}
    </slot>
  `}function RWe(t){return t.code&&zoe(t)!==null}function Koe(t){var e;const{title:r,message:n}=(e=zoe(t))!=null?e:{};let i="";return r&&(i+=`<slot name="error-${t.code}-title"><h3>${r}</h3></slot>`),n&&(i+=`<slot name="error-${t.code}-message"><p>${n}</p></slot>`),i}const MW=[ft.MEDIA_ERROR_CODE,ft.MEDIA_ERROR_MESSAGE];class y5 extends D1{constructor(){super(...arguments),BWe(this,Jj,null)}static get observedAttributes(){return[...super.observedAttributes,...MW]}formatErrorMessage(e){return this.constructor.formatErrorMessage(e)}attributeChangedCallback(e,r,n){var i;if(super.attributeChangedCallback(e,r,n),!MW.includes(e))return;const a=(i=this.mediaError)!=null?i:{code:this.mediaErrorCode,message:this.mediaErrorMessage};this.open=RWe(a),this.open&&(this.shadowRoot.querySelector("slot").name=`error-${this.mediaErrorCode}`,this.shadowRoot.querySelector("#content").innerHTML=this.formatErrorMessage(a))}get mediaError(){return IWe(this,Jj)}set mediaError(e){PWe(this,Jj,e)}get mediaErrorCode(){return Tl(this,"mediaerrorcode")}set mediaErrorCode(e){Fc(this,"mediaerrorcode",e)}get mediaErrorMessage(){return Nl(this,"mediaerrormessage")}set mediaErrorMessage(e){kl(this,"mediaerrormessage",e)}}Jj=new WeakMap;y5.getSlotTemplateHTML=OWe;y5.formatErrorMessage=Koe;sr.customElements.get("media-error-dialog")||sr.customElements.define("media-error-dialog",y5);var Goe=y5,DWe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},n0=(t,e,r)=>(DWe(t,e,"read from private field"),r?r.call(t):e.get(t)),FW=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Hy,Qy;function MWe(t){return`
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        background: rgb(20 20 30 / .8);
        backdrop-filter: blur(10px);
      }

      #content {
        display: block;
        width: clamp(400px, 40vw, 700px);
        max-width: 90vw;
        text-align: left;
      }

      h2 {
        margin: 0 0 1.5rem 0;
        font-size: 1.5rem;
        font-weight: 500;
        text-align: center;
      }

      .shortcuts-table {
        width: 100%;
        border-collapse: collapse;
      }

      .shortcuts-table tr {
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .shortcuts-table tr:last-child {
        border-bottom: none;
      }

      .shortcuts-table td {
        padding: 0.75rem 0.5rem;
      }

      .shortcuts-table td:first-child {
        text-align: right;
        padding-right: 1rem;
        width: 40%;
        min-width: 120px;
      }

      .shortcuts-table td:last-child {
        padding-left: 1rem;
      }

      .key {
        display: inline-block;
        background: rgba(255, 255, 255, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        padding: 0.25rem 0.5rem;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        font-weight: 500;
        min-width: 1.5rem;
        text-align: center;
        margin: 0 0.2rem;
      }

      .description {
        color: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
      }

      .key-combo {
        display: flex;
        align-items: center;
        justify-content: flex-end;
        gap: 0.3rem;
      }

      .key-separator {
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.9rem;
      }
    </style>
    <slot id="content">
      ${FWe()}
    </slot>
  `}function FWe(){return`
    <h2>Keyboard Shortcuts</h2>
    <table class="shortcuts-table">${[{keys:["Space","k"],description:"Toggle Playback"},{keys:["m"],description:"Toggle mute"},{keys:["f"],description:"Toggle fullscreen"},{keys:["c"],description:"Toggle captions or subtitles, if available"},{keys:["p"],description:"Toggle Picture in Picture"},{keys:["","j"],description:"Seek back 10s"},{keys:["","l"],description:"Seek forward 10s"},{keys:[""],description:"Turn volume up"},{keys:[""],description:"Turn volume down"},{keys:["< (SHIFT+,)"],description:"Decrease playback rate"},{keys:["> (SHIFT+.)"],description:"Increase playback rate"}].map(({keys:r,description:n})=>`
      <tr>
        <td>
          <div class="key-combo">${r.map((a,o)=>o>0?`<span class="key-separator">or</span><span class="key">${a}</span>`:`<span class="key">${a}</span>`).join("")}</div>
        </td>
        <td class="description">${n}</td>
      </tr>
    `).join("")}</table>
  `}class Woe extends D1{constructor(){super(...arguments),FW(this,Hy,e=>{var r;if(!this.open)return;const n=(r=this.shadowRoot)==null?void 0:r.querySelector("#content");if(!n)return;const i=e.composedPath(),a=i[0]===this||i.includes(this),o=i.includes(n);a&&!o&&(this.open=!1)}),FW(this,Qy,e=>{if(!this.open)return;const r=e.shiftKey&&(e.key==="/"||e.key==="?");(e.key==="Escape"||r)&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(this.open=!1,e.preventDefault(),e.stopPropagation())})}connectedCallback(){super.connectedCallback(),this.open&&(this.addEventListener("click",n0(this,Hy)),document.addEventListener("keydown",n0(this,Qy)))}disconnectedCallback(){this.removeEventListener("click",n0(this,Hy)),document.removeEventListener("keydown",n0(this,Qy))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e==="open"&&(this.open?(this.addEventListener("click",n0(this,Hy)),document.addEventListener("keydown",n0(this,Qy))):(this.removeEventListener("click",n0(this,Hy)),document.removeEventListener("keydown",n0(this,Qy))))}}Hy=new WeakMap;Qy=new WeakMap;Woe.getSlotTemplateHTML=MWe;sr.customElements.get("media-keyboard-shortcuts-dialog")||sr.customElements.define("media-keyboard-shortcuts-dialog",Woe);var Yoe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},UWe=(t,e,r)=>(Yoe(t,e,"read from private field"),e.get(t)),$We=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},HWe=(t,e,r,n)=>(Yoe(t,e,"write to private field"),e.set(t,r),r),eT;const QWe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,zWe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`;function VWe(t){return`
    <style>
      :host([${ft.MEDIA_IS_FULLSCREEN}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      
      :host(:not([${ft.MEDIA_IS_FULLSCREEN}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ft.MEDIA_IS_FULLSCREEN}]) slot[name=tooltip-enter],
      :host(:not([${ft.MEDIA_IS_FULLSCREEN}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${QWe}</slot>
      <slot name="exit">${zWe}</slot>
    </slot>
  `}function KWe(){return`
    <slot name="tooltip-enter">${pi("Enter fullscreen mode")}</slot>
    <slot name="tooltip-exit">${pi("Exit fullscreen mode")}</slot>
  `}const UW=t=>{const e=t.mediaIsFullscreen?pi("exit fullscreen mode"):pi("enter fullscreen mode");t.setAttribute("aria-label",e)};class KU extends wd{constructor(){super(...arguments),$We(this,eT,null)}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_IS_FULLSCREEN,ft.MEDIA_FULLSCREEN_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),UW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_IS_FULLSCREEN&&UW(this)}get mediaFullscreenUnavailable(){return Nl(this,ft.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){kl(this,ft.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return Pa(this,ft.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){Oa(this,ft.MEDIA_IS_FULLSCREEN,e)}handleClick(e){HWe(this,eT,e);const r=UWe(this,eT)instanceof PointerEvent,n=this.mediaIsFullscreen?new sr.CustomEvent(Wn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0}):new sr.CustomEvent(Wn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0,detail:r});this.dispatchEvent(n)}}eT=new WeakMap;KU.getSlotTemplateHTML=VWe;KU.getTooltipContentHTML=KWe;sr.customElements.get("media-fullscreen-button")||sr.customElements.define("media-fullscreen-button",KU);const{MEDIA_TIME_IS_LIVE:tT,MEDIA_PAUSED:CE}=ft,{MEDIA_SEEK_TO_LIVE_REQUEST:GWe,MEDIA_PLAY_REQUEST:WWe}=Wn,YWe='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>';function qWe(t){return`
    <style>
      :host { --media-tooltip-display: none; }
      
      slot[name=indicator] > *,
      :host ::slotted([slot=indicator]) {
        
        min-width: auto;
        fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
        color: var(--media-live-button-icon-color, rgb(140, 140, 140));
      }

      :host([${tT}]:not([${CE}])) slot[name=indicator] > *,
      :host([${tT}]:not([${CE}])) ::slotted([slot=indicator]) {
        fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
        color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
      }

      :host([${tT}]:not([${CE}])) {
        cursor: var(--media-cursor, not-allowed);
      }

      slot[name=text]{
        text-transform: uppercase;
      }

    </style>

    <slot name="indicator">${YWe}</slot>
    
    <slot name="spacer">&nbsp;</slot><slot name="text">${pi("live")}</slot>
  `}const $W=t=>{var e;const r=t.mediaPaused||!t.mediaTimeIsLive,n=pi(r?"seek to live":"playing live");t.setAttribute("aria-label",n);const i=(e=t.shadowRoot)==null?void 0:e.querySelector('slot[name="text"]');i&&(i.textContent=pi("live")),r?t.removeAttribute("aria-disabled"):t.setAttribute("aria-disabled","true")};class qoe extends wd{static get observedAttributes(){return[...super.observedAttributes,tT,CE]}connectedCallback(){super.connectedCallback(),$W(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),$W(this)}get mediaPaused(){return Pa(this,ft.MEDIA_PAUSED)}set mediaPaused(e){Oa(this,ft.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return Pa(this,ft.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){Oa(this,ft.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new sr.CustomEvent(GWe,{composed:!0,bubbles:!0})),this.hasAttribute(CE)&&this.dispatchEvent(new sr.CustomEvent(WWe,{composed:!0,bubbles:!0})))}}qoe.getSlotTemplateHTML=qWe;sr.customElements.get("media-live-button")||sr.customElements.define("media-live-button",qoe);var Xoe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},bw=(t,e,r)=>(Xoe(t,e,"read from private field"),r?r.call(t):e.get(t)),HW=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ww=(t,e,r,n)=>(Xoe(t,e,"write to private field"),e.set(t,r),r),TA,rT;const YS={LOADING_DELAY:"loadingdelay",NO_AUTOHIDE:"noautohide"},Zoe=500,XWe=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;function ZWe(t){return`
    <style>
      :host {
        display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
        vertical-align: middle;
        box-sizing: border-box;
        --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${Zoe}ms);
      }

      #status {
        color: rgba(0,0,0,0);
        width: 0px;
        height: 0px;
      }

      :host slot[name=icon] > *,
      :host ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 0);
        transition: opacity 0.15s;
      }

      :host([${ft.MEDIA_LOADING}]:not([${ft.MEDIA_PAUSED}])) slot[name=icon] > *,
      :host([${ft.MEDIA_LOADING}]:not([${ft.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
        opacity: var(--media-loading-indicator-opacity, 1);
        transition: opacity 0.15s var(--_loading-indicator-delay);
      }

      :host #status {
        visibility: var(--media-loading-indicator-opacity, hidden);
        transition: visibility 0.15s;
      }

      :host([${ft.MEDIA_LOADING}]:not([${ft.MEDIA_PAUSED}])) #status {
        visibility: var(--media-loading-indicator-opacity, visible);
        transition: visibility 0.15s var(--_loading-indicator-delay);
      }

      svg, img, ::slotted(svg), ::slotted(img) {
        width: var(--media-loading-indicator-icon-width);
        height: var(--media-loading-indicator-icon-height, 100px);
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        vertical-align: middle;
      }
    </style>

    <slot name="icon">${XWe}</slot>
    <div id="status" role="status" aria-live="polite">${pi("media loading")}</div>
  `}class GU extends sr.HTMLElement{constructor(){if(super(),HW(this,TA,void 0),HW(this,rT,Zoe),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[po.MEDIA_CONTROLLER,ft.MEDIA_PAUSED,ft.MEDIA_LOADING,YS.LOADING_DELAY]}attributeChangedCallback(e,r,n){var i,a,o,c,u;e===YS.LOADING_DELAY&&r!==n?this.loadingDelay=Number(n):e===po.MEDIA_CONTROLLER&&(r&&((a=(i=bw(this,TA))==null?void 0:i.unassociateElement)==null||a.call(i,this),ww(this,TA,null)),n&&this.isConnected&&(ww(this,TA,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=bw(this,TA))==null?void 0:c.associateElement)==null||u.call(c,this)))}connectedCallback(){var e,r,n;const i=this.getAttribute(po.MEDIA_CONTROLLER);i&&(ww(this,TA,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=bw(this,TA))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=bw(this,TA))==null?void 0:e.unassociateElement)==null||r.call(e,this),ww(this,TA,null)}get loadingDelay(){return bw(this,rT)}set loadingDelay(e){ww(this,rT,e);const{style:r}=zu(this.shadowRoot,":host");r.setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return Pa(this,ft.MEDIA_PAUSED)}set mediaPaused(e){Oa(this,ft.MEDIA_PAUSED,e)}get mediaLoading(){return Pa(this,ft.MEDIA_LOADING)}set mediaLoading(e){Oa(this,ft.MEDIA_LOADING,e)}get mediaController(){return Nl(this,po.MEDIA_CONTROLLER)}set mediaController(e){kl(this,po.MEDIA_CONTROLLER,e)}get noAutohide(){return Pa(this,YS.NO_AUTOHIDE)}set noAutohide(e){Oa(this,YS.NO_AUTOHIDE,e)}}TA=new WeakMap;rT=new WeakMap;GU.shadowRootOptions={mode:"open"};GU.getTemplateHTML=ZWe;sr.customElements.get("media-loading-indicator")||sr.customElements.define("media-loading-indicator",GU);const JWe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,QW=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,eYe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`;function tYe(t){return`
    <style>
      :host(:not([${ft.MEDIA_VOLUME_LEVEL}])) slot[name=icon] slot:not([name=high]),
      :host([${ft.MEDIA_VOLUME_LEVEL}=high]) slot[name=icon] slot:not([name=high]) {
        display: none !important;
      }

      :host([${ft.MEDIA_VOLUME_LEVEL}=off]) slot[name=icon] slot:not([name=off]) {
        display: none !important;
      }

      :host([${ft.MEDIA_VOLUME_LEVEL}=low]) slot[name=icon] slot:not([name=low]) {
        display: none !important;
      }

      :host([${ft.MEDIA_VOLUME_LEVEL}=medium]) slot[name=icon] slot:not([name=medium]) {
        display: none !important;
      }

      :host(:not([${ft.MEDIA_VOLUME_LEVEL}=off])) slot[name=tooltip-unmute],
      :host([${ft.MEDIA_VOLUME_LEVEL}=off]) slot[name=tooltip-mute] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="off">${JWe}</slot>
      <slot name="low">${QW}</slot>
      <slot name="medium">${QW}</slot>
      <slot name="high">${eYe}</slot>
    </slot>
  `}function rYe(){return`
    <slot name="tooltip-mute">${pi("Mute")}</slot>
    <slot name="tooltip-unmute">${pi("Unmute")}</slot>
  `}const zW=t=>{const e=t.mediaVolumeLevel==="off",r=pi(e?"unmute":"mute");t.setAttribute("aria-label",r)};class WU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_VOLUME_LEVEL]}connectedCallback(){super.connectedCallback(),zW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_VOLUME_LEVEL&&zW(this)}get mediaVolumeLevel(){return Nl(this,ft.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){kl(this,ft.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?Wn.MEDIA_UNMUTE_REQUEST:Wn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new sr.CustomEvent(e,{composed:!0,bubbles:!0}))}}WU.getSlotTemplateHTML=tYe;WU.getTooltipContentHTML=rYe;sr.customElements.get("media-mute-button")||sr.customElements.define("media-mute-button",WU);const VW=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`;function nYe(t){return`
    <style>
      :host([${ft.MEDIA_IS_PIP}]) slot[name=icon] slot:not([name=exit]) {
        display: none !important;
      }

      :host(:not([${ft.MEDIA_IS_PIP}])) slot[name=icon] slot:not([name=enter]) {
        display: none !important;
      }

      :host([${ft.MEDIA_IS_PIP}]) slot[name=tooltip-enter],
      :host(:not([${ft.MEDIA_IS_PIP}])) slot[name=tooltip-exit] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="enter">${VW}</slot>
      <slot name="exit">${VW}</slot>
    </slot>
  `}function iYe(){return`
    <slot name="tooltip-enter">${pi("Enter picture in picture mode")}</slot>
    <slot name="tooltip-exit">${pi("Exit picture in picture mode")}</slot>
  `}const KW=t=>{const e=t.mediaIsPip?pi("exit picture in picture mode"):pi("enter picture in picture mode");t.setAttribute("aria-label",e)};class YU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_IS_PIP,ft.MEDIA_PIP_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),KW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_IS_PIP&&KW(this)}get mediaPipUnavailable(){return Nl(this,ft.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){kl(this,ft.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return Pa(this,ft.MEDIA_IS_PIP)}set mediaIsPip(e){Oa(this,ft.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?Wn.MEDIA_EXIT_PIP_REQUEST:Wn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new sr.CustomEvent(e,{composed:!0,bubbles:!0}))}}YU.getSlotTemplateHTML=nYe;YU.getTooltipContentHTML=iYe;sr.customElements.get("media-pip-button")||sr.customElements.define("media-pip-button",YU);var sYe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},_y=(t,e,r)=>(sYe(t,e,"read from private field"),r?r.call(t):e.get(t)),aYe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},c0;const fB={RATES:"rates"},Joe=[1,1.2,1.5,1.7,2],vb=1;function oYe(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||vb}x</slot>
  `}function lYe(){return pi("Playback rate")}class qU extends wd{constructor(){var e;super(),aYe(this,c0,new IU(this,fB.RATES,{defaultValue:Joe})),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:vb}x`}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PLAYBACK_RATE,fB.RATES]}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),e===fB.RATES&&(_y(this,c0).value=n),e===ft.MEDIA_PLAYBACK_RATE){const i=n?+n:Number.NaN,a=Number.isNaN(i)?vb:i;this.container.innerHTML=`${a}x`,this.setAttribute("aria-label",pi("Playback rate {playbackRate}",{playbackRate:a}))}}get rates(){return _y(this,c0)}set rates(e){e?Array.isArray(e)?_y(this,c0).value=e.join(" "):typeof e=="string"&&(_y(this,c0).value=e):_y(this,c0).value=""}get mediaPlaybackRate(){return Tl(this,ft.MEDIA_PLAYBACK_RATE,vb)}set mediaPlaybackRate(e){Fc(this,ft.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,r;const n=Array.from(_y(this,c0).values(),o=>+o).sort((o,c)=>o-c),i=(r=(e=n.find(o=>o>this.mediaPlaybackRate))!=null?e:n[0])!=null?r:vb,a=new sr.CustomEvent(Wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:i});this.dispatchEvent(a)}}c0=new WeakMap;qU.getSlotTemplateHTML=oYe;qU.getTooltipContentHTML=lYe;sr.customElements.get("media-playback-rate-button")||sr.customElements.define("media-playback-rate-button",qU);const cYe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,uYe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`;function dYe(t){return`
    <style>
      :host([${ft.MEDIA_PAUSED}]) slot[name=pause],
      :host(:not([${ft.MEDIA_PAUSED}])) slot[name=play] {
        display: none !important;
      }

      :host([${ft.MEDIA_PAUSED}]) slot[name=tooltip-pause],
      :host(:not([${ft.MEDIA_PAUSED}])) slot[name=tooltip-play] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="play">${cYe}</slot>
      <slot name="pause">${uYe}</slot>
    </slot>
  `}function hYe(){return`
    <slot name="tooltip-play">${pi("Play")}</slot>
    <slot name="tooltip-pause">${pi("Pause")}</slot>
  `}const GW=t=>{const e=t.mediaPaused?pi("play"):pi("pause");t.setAttribute("aria-label",e)};class XU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PAUSED,ft.MEDIA_ENDED]}connectedCallback(){super.connectedCallback(),GW(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),(e===ft.MEDIA_PAUSED||e===ft.MEDIA_LANG)&&GW(this)}get mediaPaused(){return Pa(this,ft.MEDIA_PAUSED)}set mediaPaused(e){Oa(this,ft.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?Wn.MEDIA_PLAY_REQUEST:Wn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new sr.CustomEvent(e,{composed:!0,bubbles:!0}))}}XU.getSlotTemplateHTML=dYe;XU.getTooltipContentHTML=hYe;sr.customElements.get("media-play-button")||sr.customElements.define("media-play-button",XU);const AA={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"};function fYe(t){return`
    <style>
      :host {
        pointer-events: none;
        display: var(--media-poster-image-display, inline-block);
        box-sizing: border-box;
      }

      img {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        background-repeat: no-repeat;
        background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
        background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, center);
      }
    </style>

    <img part="poster img" aria-hidden="true" id="image"/>
  `}const mYe=t=>{t.style.removeProperty("background-image")},AYe=(t,e)=>{t.style["background-image"]=`url('${e}')`};class ZU extends sr.HTMLElement{static get observedAttributes(){return[AA.PLACEHOLDER_SRC,AA.SRC]}constructor(){if(super(),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,r,n){e===AA.SRC&&(n==null?this.image.removeAttribute(AA.SRC):this.image.setAttribute(AA.SRC,n)),e===AA.PLACEHOLDER_SRC&&(n==null?mYe(this.image):AYe(this.image,n))}get placeholderSrc(){return Nl(this,AA.PLACEHOLDER_SRC)}set placeholderSrc(e){kl(this,AA.SRC,e)}get src(){return Nl(this,AA.SRC)}set src(e){kl(this,AA.SRC,e)}}ZU.shadowRootOptions={mode:"open"};ZU.getTemplateHTML=fYe;sr.customElements.get("media-poster-image")||sr.customElements.define("media-poster-image",ZU);var ele=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},pYe=(t,e,r)=>(ele(t,e,"read from private field"),r?r.call(t):e.get(t)),gYe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},vYe=(t,e,r,n)=>(ele(t,e,"write to private field"),e.set(t,r),r),nT;class xYe extends tv{constructor(){super(),gYe(this,nT,void 0),vYe(this,nT,this.shadowRoot.querySelector("slot"))}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PREVIEW_CHAPTER,ft.MEDIA_LANG]}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),(e===ft.MEDIA_PREVIEW_CHAPTER||e===ft.MEDIA_LANG)&&n!==r&&n!=null)if(pYe(this,nT).textContent=n,n!==""){const i=pi("chapter: {chapterName}",{chapterName:n});this.setAttribute("aria-valuetext",i)}else this.removeAttribute("aria-valuetext")}get mediaPreviewChapter(){return Nl(this,ft.MEDIA_PREVIEW_CHAPTER)}set mediaPreviewChapter(e){kl(this,ft.MEDIA_PREVIEW_CHAPTER,e)}}nT=new WeakMap;sr.customElements.get("media-preview-chapter-display")||sr.customElements.define("media-preview-chapter-display",xYe);var tle=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},qS=(t,e,r)=>(tle(t,e,"read from private field"),r?r.call(t):e.get(t)),yYe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},XS=(t,e,r,n)=>(tle(t,e,"write to private field"),e.set(t,r),r),CA;function bYe(t){return`
    <style>
      :host {
        box-sizing: border-box;
        display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
        overflow: hidden;
      }

      img {
        display: none;
        position: relative;
      }
    </style>
    <img crossorigin loading="eager" decoding="async">
  `}class b5 extends sr.HTMLElement{constructor(){if(super(),yYe(this,CA,void 0),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}}static get observedAttributes(){return[po.MEDIA_CONTROLLER,ft.MEDIA_PREVIEW_IMAGE,ft.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,r,n;const i=this.getAttribute(po.MEDIA_CONTROLLER);i&&(XS(this,CA,(e=this.getRootNode())==null?void 0:e.getElementById(i)),(n=(r=qS(this,CA))==null?void 0:r.associateElement)==null||n.call(r,this))}disconnectedCallback(){var e,r;(r=(e=qS(this,CA))==null?void 0:e.unassociateElement)==null||r.call(e,this),XS(this,CA,null)}attributeChangedCallback(e,r,n){var i,a,o,c,u;[ft.MEDIA_PREVIEW_IMAGE,ft.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===po.MEDIA_CONTROLLER&&(r&&((a=(i=qS(this,CA))==null?void 0:i.unassociateElement)==null||a.call(i,this),XS(this,CA,null)),n&&this.isConnected&&(XS(this,CA,(o=this.getRootNode())==null?void 0:o.getElementById(n)),(u=(c=qS(this,CA))==null?void 0:c.associateElement)==null||u.call(c,this)))}get mediaPreviewImage(){return Nl(this,ft.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){kl(this,ft.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(ft.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(r=>+r)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(ft.MEDIA_PREVIEW_COORDS);return}this.setAttribute(ft.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,r=this.mediaPreviewImage;if(!(e&&r))return;const[n,i,a,o]=e,c=r.split("#")[0],u=getComputedStyle(this),{maxWidth:l,maxHeight:d,minWidth:f,minHeight:m}=u,p=Math.min(parseInt(l)/a,parseInt(d)/o),g=Math.max(parseInt(f)/a,parseInt(m)/o),x=p<1,y=x?p:g>1?g:1,{style:w}=zu(this.shadowRoot,":host"),E=zu(this.shadowRoot,"img").style,_=this.shadowRoot.querySelector("img"),N=x?"min":"max";w.setProperty(`${N}-width`,"initial","important"),w.setProperty(`${N}-height`,"initial","important"),w.width=`${a*y}px`,w.height=`${o*y}px`;const C=()=>{E.width=`${this.imgWidth*y}px`,E.height=`${this.imgHeight*y}px`,E.display="block"};_.src!==c&&(_.onload=()=>{this.imgWidth=_.naturalWidth,this.imgHeight=_.naturalHeight,C()},_.src=c,C()),C(),E.transform=`translate(-${n*y}px, -${i*y}px)`}}CA=new WeakMap;b5.shadowRootOptions={mode:"open"};b5.getTemplateHTML=bYe;sr.customElements.get("media-preview-thumbnail")||sr.customElements.define("media-preview-thumbnail",b5);var WW=b5,rle=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},YW=(t,e,r)=>(rle(t,e,"read from private field"),r?r.call(t):e.get(t)),wYe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},EYe=(t,e,r,n)=>(rle(t,e,"write to private field"),e.set(t,r),r),Zw;class _Ye extends tv{constructor(){super(),wYe(this,Zw,void 0),EYe(this,Zw,this.shadowRoot.querySelector("slot")),YW(this,Zw).textContent=D0(0)}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_PREVIEW_TIME&&n!=null&&(YW(this,Zw).textContent=D0(parseFloat(n)))}get mediaPreviewTime(){return Tl(this,ft.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Fc(this,ft.MEDIA_PREVIEW_TIME,e)}}Zw=new WeakMap;sr.customElements.get("media-preview-time-display")||sr.customElements.define("media-preview-time-display",_Ye);const Sy={SEEK_OFFSET:"seekoffset"},mB=30,SYe=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(2.18 19.87)">${t}</text>
    <path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/>
  </svg>`;function jYe(t,e){return`
    <slot name="icon">${SYe(e.seekOffset)}</slot>
  `}function TYe(){return pi("Seek backward")}const CYe=0;class JU extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_CURRENT_TIME,Sy.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Tl(this,Sy.SEEK_OFFSET,mB)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===Sy.SEEK_OFFSET&&(this.seekOffset=Tl(this,Sy.SEEK_OFFSET,mB))}get seekOffset(){return Tl(this,Sy.SEEK_OFFSET,mB)}set seekOffset(e){Fc(this,Sy.SEEK_OFFSET,e),this.setAttribute("aria-label",pi("seek back {seekOffset} seconds",{seekOffset:this.seekOffset})),loe(coe(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Tl(this,ft.MEDIA_CURRENT_TIME,CYe)}set mediaCurrentTime(e){Fc(this,ft.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),r=new sr.CustomEvent(Wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}JU.getSlotTemplateHTML=jYe;JU.getTooltipContentHTML=TYe;sr.customElements.get("media-seek-backward-button")||sr.customElements.define("media-seek-backward-button",JU);const jy={SEEK_OFFSET:"seekoffset"},AB=30,NYe=t=>`
  <svg aria-hidden="true" viewBox="0 0 20 24">
    <defs>
      <style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style>
    </defs>
    <text class="text value" transform="translate(8.9 19.87)">${t}</text>
    <path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/>
  </svg>`;function kYe(t,e){return`
    <slot name="icon">${NYe(e.seekOffset)}</slot>
  `}function LYe(){return pi("Seek forward")}const IYe=0;class e6 extends wd{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_CURRENT_TIME,jy.SEEK_OFFSET]}connectedCallback(){super.connectedCallback(),this.seekOffset=Tl(this,jy.SEEK_OFFSET,AB)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===jy.SEEK_OFFSET&&(this.seekOffset=Tl(this,jy.SEEK_OFFSET,AB))}get seekOffset(){return Tl(this,jy.SEEK_OFFSET,AB)}set seekOffset(e){Fc(this,jy.SEEK_OFFSET,e),this.setAttribute("aria-label",pi("seek forward {seekOffset} seconds",{seekOffset:this.seekOffset})),loe(coe(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return Tl(this,ft.MEDIA_CURRENT_TIME,IYe)}set mediaCurrentTime(e){Fc(this,ft.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,r=new sr.CustomEvent(Wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}e6.getSlotTemplateHTML=kYe;e6.getTooltipContentHTML=LYe;sr.customElements.get("media-seek-forward-button")||sr.customElements.define("media-seek-forward-button",e6);var nle=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},pB=(t,e,r)=>(nle(t,e,"read from private field"),r?r.call(t):e.get(t)),BYe=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},PYe=(t,e,r,n)=>(nle(t,e,"write to private field"),e.set(t,r),r),zy;const Bv={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},qW=[...Object.values(Bv),ft.MEDIA_CURRENT_TIME,ft.MEDIA_DURATION,ft.MEDIA_SEEKABLE],XW=["Enter"," "],OYe="&nbsp;/&nbsp;",DR=(t,{timesSep:e=OYe}={})=>{var r,n;const i=(r=t.mediaCurrentTime)!=null?r:0,[,a]=(n=t.mediaSeekable)!=null?n:[];let o=0;Number.isFinite(t.mediaDuration)?o=t.mediaDuration:Number.isFinite(a)&&(o=a);const c=t.remaining?D0(0-(o-i)):D0(i);return t.showDuration?`${c}${e}${D0(o)}`:c},RYe="video not loaded, unknown time.",DYe=t=>{var e;const r=t.mediaCurrentTime,[,n]=(e=t.mediaSeekable)!=null?e:[];let i=null;if(Number.isFinite(t.mediaDuration)?i=t.mediaDuration:Number.isFinite(n)&&(i=n),r==null||i===null){t.setAttribute("aria-valuetext",RYe);return}const a=t.remaining?jE(0-(i-r)):jE(r);if(!t.showDuration){t.setAttribute("aria-valuetext",a);return}const o=jE(i),c=`${a} of ${o}`;t.setAttribute("aria-valuetext",c)};function MYe(t,e){return`
    <slot>${DR(e)}</slot>
  `}class ile extends tv{constructor(){super(),BYe(this,zy,void 0),PYe(this,zy,this.shadowRoot.querySelector("slot")),pB(this,zy).innerHTML=`${DR(this)}`}static get observedAttributes(){return[...super.observedAttributes,...qW,"disabled"]}connectedCallback(){const{style:e}=zu(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","var(--media-cursor, pointer)"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))"),this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",pi("playback time"));const r=n=>{const{key:i}=n;if(!XW.includes(i)){this.removeEventListener("keyup",r);return}this.toggleTimeDisplay()};this.addEventListener("keydown",n=>{const{metaKey:i,altKey:a,key:o}=n;if(i||a||!XW.includes(o)){this.removeEventListener("keyup",r);return}this.addEventListener("keyup",r)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,r,n){qW.includes(e)?this.update():e==="disabled"&&n!==r&&(n==null?this.enable():this.disable()),super.attributeChangedCallback(e,r,n)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return Pa(this,Bv.REMAINING)}set remaining(e){Oa(this,Bv.REMAINING,e)}get showDuration(){return Pa(this,Bv.SHOW_DURATION)}set showDuration(e){Oa(this,Bv.SHOW_DURATION,e)}get noToggle(){return Pa(this,Bv.NO_TOGGLE)}set noToggle(e){Oa(this,Bv.NO_TOGGLE,e)}get mediaDuration(){return Tl(this,ft.MEDIA_DURATION)}set mediaDuration(e){Fc(this,ft.MEDIA_DURATION,e)}get mediaCurrentTime(){return Tl(this,ft.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Fc(this,ft.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(ft.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(ft.MEDIA_SEEKABLE);return}this.setAttribute(ft.MEDIA_SEEKABLE,e.join(":"))}update(){const e=DR(this);DYe(this),e!==pB(this,zy).innerHTML&&(pB(this,zy).innerHTML=e)}}zy=new WeakMap;ile.getSlotTemplateHTML=MYe;sr.customElements.get("media-time-display")||sr.customElements.define("media-time-display",ile);var sle=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},ud=(t,e,r)=>(sle(t,e,"read from private field"),e.get(t)),pA=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},df=(t,e,r,n)=>(sle(t,e,"write to private field"),e.set(t,r),r),FYe=(t,e,r,n)=>({set _(i){df(t,e,i)},get _(){return ud(t,e)}}),Vy,iT,Ky,Jw,sT,aT,oT,Gy,Pv,lT;class UYe{constructor(e,r,n){pA(this,Vy,void 0),pA(this,iT,void 0),pA(this,Ky,void 0),pA(this,Jw,void 0),pA(this,sT,void 0),pA(this,aT,void 0),pA(this,oT,void 0),pA(this,Gy,void 0),pA(this,Pv,0),pA(this,lT,(i=performance.now())=>{df(this,Pv,requestAnimationFrame(ud(this,lT))),df(this,Jw,performance.now()-ud(this,Ky));const a=1e3/this.fps;if(ud(this,Jw)>a){df(this,Ky,i-ud(this,Jw)%a);const o=1e3/((i-ud(this,iT))/++FYe(this,sT)._),c=(i-ud(this,aT))/1e3/this.duration;let u=ud(this,oT)+c*this.playbackRate;u-ud(this,Vy).valueAsNumber>0?df(this,Gy,this.playbackRate/this.duration/o):(df(this,Gy,.995*ud(this,Gy)),u=ud(this,Vy).valueAsNumber+ud(this,Gy)),this.callback(u)}}),df(this,Vy,e),this.callback=r,this.fps=n}start(){ud(this,Pv)===0&&(df(this,Ky,performance.now()),df(this,iT,ud(this,Ky)),df(this,sT,0),ud(this,lT).call(this))}stop(){ud(this,Pv)!==0&&(cancelAnimationFrame(ud(this,Pv)),df(this,Pv,0))}update({start:e,duration:r,playbackRate:n}){const i=e-ud(this,Vy).valueAsNumber,a=Math.abs(r-this.duration);(i>0||i<-.03||a>=.5)&&this.callback(e),df(this,oT,e),df(this,aT,performance.now()),this.duration=r,this.playbackRate=n}}Vy=new WeakMap;iT=new WeakMap;Ky=new WeakMap;Jw=new WeakMap;sT=new WeakMap;aT=new WeakMap;oT=new WeakMap;Gy=new WeakMap;Pv=new WeakMap;lT=new WeakMap;var t6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},tu=(t,e,r)=>(t6(t,e,"read from private field"),r?r.call(t):e.get(t)),Ru=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Gf=(t,e,r,n)=>(t6(t,e,"write to private field"),e.set(t,r),r),nh=(t,e,r)=>(t6(t,e,"access private method"),r),Wy,hx,CN,NE,NN,cT,T2,C2,Yy,qy,Xy,eE,r6,ale,MR,kN,n6,LN,i6,IN,s6,FR,ole,N2,BN,UR,lle;const $Ye="video not loaded, unknown time.",HYe=t=>{const e=t.range,r=jE(+cle(t)),n=jE(+t.mediaSeekableEnd),i=r&&n?`${r} of ${n}`:$Ye;e.setAttribute("aria-valuetext",i)};function QYe(t){return`
    <style>
      :host {
        --media-box-border-radius: 4px;
        --media-box-padding-left: 10px;
        --media-box-padding-right: 10px;
        --media-preview-border-radius: var(--media-box-border-radius);
        --media-box-arrow-offset: var(--media-box-border-radius);
        --_control-background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
        --_preview-background: var(--media-preview-background, var(--_control-background));

        
        contain: layout;
      }

      #buffered {
        background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
        position: absolute;
        height: 100%;
        will-change: width;
      }

      #preview-rail,
      #current-rail {
        width: 100%;
        position: absolute;
        left: 0;
        bottom: 100%;
        pointer-events: none;
        will-change: transform;
      }

      [part~="box"] {
        width: min-content;
        
        position: absolute;
        bottom: 100%;
        flex-direction: column;
        align-items: center;
        transform: translateX(-50%);
      }

      [part~="current-box"] {
        display: var(--media-current-box-display, var(--media-box-display, flex));
        margin: var(--media-current-box-margin, var(--media-box-margin, 0 0 5px));
        visibility: hidden;
      }

      [part~="preview-box"] {
        display: var(--media-preview-box-display, var(--media-box-display, flex));
        margin: var(--media-preview-box-margin, var(--media-box-margin, 0 0 5px));
        transition-property: var(--media-preview-transition-property, visibility, opacity);
        transition-duration: var(--media-preview-transition-duration-out, .25s);
        transition-delay: var(--media-preview-transition-delay-out, 0s);
        visibility: hidden;
        opacity: 0;
      }

      :host(:is([${ft.MEDIA_PREVIEW_IMAGE}], [${ft.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }

      @media (hover: hover) {
        :host(:is([${ft.MEDIA_PREVIEW_IMAGE}], [${ft.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
          transition-duration: var(--media-preview-transition-duration-in, .5s);
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
          opacity: 1;
        }
      }

      media-preview-thumbnail,
      ::slotted(media-preview-thumbnail) {
        visibility: hidden;
        
        transition: visibility 0s .25s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-thumbnail-background, var(--_preview-background));
        box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
        max-width: var(--media-preview-thumbnail-max-width, 180px);
        max-height: var(--media-preview-thumbnail-max-height, 160px);
        min-width: var(--media-preview-thumbnail-min-width, 120px);
        min-height: var(--media-preview-thumbnail-min-height, 80px);
        border: var(--media-preview-thumbnail-border);
        border-radius: var(--media-preview-thumbnail-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
      }

      :host([${ft.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
      :host([${ft.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      @media (hover: hover) {
        :host([${ft.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
        :host([${ft.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
          transition-delay: var(--media-preview-transition-delay-in, .25s);
          visibility: visible;
        }

        :host([${ft.MEDIA_PREVIEW_TIME}]:hover) {
          --media-time-range-hover-display: block;
        }
      }

      media-preview-chapter-display,
      ::slotted(media-preview-chapter-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        visibility: hidden;
        
        transition: min-width 0s, border-radius 0s, margin 0s, padding 0s, visibility 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-chapter-background, var(--_preview-background));
        border-radius: var(--media-preview-chapter-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-chapter-padding, 3.5px 9px);
        margin: var(--media-preview-chapter-margin, 0 0 5px);
        text-shadow: var(--media-preview-chapter-text-shadow, 0 0 4px rgb(0 0 0 / .75));
      }

      :host([${ft.MEDIA_PREVIEW_IMAGE}]) media-preview-chapter-display,
      :host([${ft.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-chapter-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-chapter-border-radius, 0);
        padding: var(--media-preview-chapter-padding, 3.5px 9px 0);
        margin: var(--media-preview-chapter-margin, 0);
        min-width: 100%;
      }

      media-preview-chapter-display[${ft.MEDIA_PREVIEW_CHAPTER}],
      ::slotted(media-preview-chapter-display[${ft.MEDIA_PREVIEW_CHAPTER}]) {
        visibility: visible;
      }

      media-preview-chapter-display:not([aria-valuetext]),
      ::slotted(media-preview-chapter-display:not([aria-valuetext])) {
        display: none;
      }

      media-preview-time-display,
      ::slotted(media-preview-time-display),
      media-time-display,
      ::slotted(media-time-display) {
        font-size: var(--media-font-size, 13px);
        line-height: 17px;
        min-width: 0;
        
        transition: min-width 0s, border-radius 0s;
        transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
        background: var(--media-preview-time-background, var(--_preview-background));
        border-radius: var(--media-preview-time-border-radius,
          var(--media-preview-border-radius) var(--media-preview-border-radius)
          var(--media-preview-border-radius) var(--media-preview-border-radius));
        padding: var(--media-preview-time-padding, 3.5px 9px);
        margin: var(--media-preview-time-margin, 0);
        text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50%)
        ));
      }

      :host([${ft.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
      :host([${ft.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        border-radius: var(--media-preview-time-border-radius,
          0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
        min-width: 100%;
      }

      :host([${ft.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }

      [part~="arrow"],
      ::slotted([part~="arrow"]) {
        display: var(--media-box-arrow-display, inline-block);
        transform: translateX(min(
          max(calc(50% - var(--_box-width) / 2 + var(--media-box-arrow-offset)),
          calc(var(--_box-shift, 0))),
          calc(var(--_box-width) / 2 - 50% - var(--media-box-arrow-offset))
        ));
        
        border-color: transparent;
        border-top-color: var(--media-box-arrow-background, var(--_control-background));
        border-width: var(--media-box-arrow-border-width,
          var(--media-box-arrow-height, 5px) var(--media-box-arrow-width, 6px) 0);
        border-style: solid;
        justify-content: center;
        height: 0;
      }
    </style>
    <div id="preview-rail">
      <slot name="preview" part="box preview-box">
        <media-preview-thumbnail>
          <template shadowrootmode="${WW.shadowRootOptions.mode}">
            ${WW.getTemplateHTML({})}
          </template>
        </media-preview-thumbnail>
        <media-preview-chapter-display></media-preview-chapter-display>
        <media-preview-time-display></media-preview-time-display>
        <slot name="preview-arrow"><div part="arrow"></div></slot>
      </slot>
    </div>
    <div id="current-rail">
      <slot name="current" part="box current-box">
        
      </slot>
    </div>
  `}const ZS=(t,e=t.mediaCurrentTime)=>{const r=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,n=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;if(Number.isNaN(n))return 0;const i=(e-r)/(n-r);return Math.max(0,Math.min(i,1))},cle=(t,e=t.range.valueAsNumber)=>{const r=Number.isFinite(t.mediaSeekableStart)?t.mediaSeekableStart:0,n=Number.isFinite(t.mediaDuration)?t.mediaDuration:t.mediaSeekableEnd;return Number.isNaN(n)?0:e*(n-r)+r};class a6 extends M1{constructor(){super(),Ru(this,Xy),Ru(this,r6),Ru(this,kN),Ru(this,LN),Ru(this,IN),Ru(this,FR),Ru(this,N2),Ru(this,UR),Ru(this,Wy,void 0),Ru(this,hx,void 0),Ru(this,CN,void 0),Ru(this,NE,void 0),Ru(this,NN,void 0),Ru(this,cT,void 0),Ru(this,T2,void 0),Ru(this,C2,void 0),Ru(this,Yy,void 0),Ru(this,qy,void 0),Ru(this,MR,n=>{this.dragging||(jU(n)&&(this.range.valueAsNumber=n),tu(this,qy)||this.updateBar())}),this.shadowRoot.querySelector("#track").insertAdjacentHTML("afterbegin",'<div id="buffered" part="buffered"></div>'),Gf(this,CN,this.shadowRoot.querySelectorAll('[part~="box"]')),Gf(this,NN,this.shadowRoot.querySelector('[part~="preview-box"]')),Gf(this,cT,this.shadowRoot.querySelector('[part~="current-box"]'));const r=getComputedStyle(this);Gf(this,T2,parseInt(r.getPropertyValue("--media-box-padding-left"))),Gf(this,C2,parseInt(r.getPropertyValue("--media-box-padding-right"))),Gf(this,hx,new UYe(this.range,tu(this,MR),60))}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PAUSED,ft.MEDIA_DURATION,ft.MEDIA_SEEKABLE,ft.MEDIA_CURRENT_TIME,ft.MEDIA_PREVIEW_IMAGE,ft.MEDIA_PREVIEW_TIME,ft.MEDIA_PREVIEW_CHAPTER,ft.MEDIA_BUFFERED,ft.MEDIA_PLAYBACK_RATE,ft.MEDIA_LOADING,ft.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",pi("seek")),nh(this,Xy,eE).call(this),Gf(this,Wy,this.getRootNode()),(e=tu(this,Wy))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),nh(this,Xy,eE).call(this),(e=tu(this,Wy))==null||e.removeEventListener("transitionstart",this),Gf(this,Wy,null)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),r!=n&&(e===ft.MEDIA_CURRENT_TIME||e===ft.MEDIA_PAUSED||e===ft.MEDIA_ENDED||e===ft.MEDIA_LOADING||e===ft.MEDIA_DURATION||e===ft.MEDIA_SEEKABLE?(tu(this,hx).update({start:ZS(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),nh(this,Xy,eE).call(this),HYe(this)):e===ft.MEDIA_BUFFERED&&this.updateBufferedBar(),(e===ft.MEDIA_DURATION||e===ft.MEDIA_SEEKABLE)&&(this.mediaChaptersCues=tu(this,Yy),this.updateBar()))}get mediaChaptersCues(){return tu(this,Yy)}set mediaChaptersCues(e){var r;Gf(this,Yy,e),this.updateSegments((r=tu(this,Yy))==null?void 0:r.map(n=>({start:ZS(this,n.startTime),end:ZS(this,n.endTime)})))}get mediaPaused(){return Pa(this,ft.MEDIA_PAUSED)}set mediaPaused(e){Oa(this,ft.MEDIA_PAUSED,e)}get mediaLoading(){return Pa(this,ft.MEDIA_LOADING)}set mediaLoading(e){Oa(this,ft.MEDIA_LOADING,e)}get mediaDuration(){return Tl(this,ft.MEDIA_DURATION)}set mediaDuration(e){Fc(this,ft.MEDIA_DURATION,e)}get mediaCurrentTime(){return Tl(this,ft.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Fc(this,ft.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return Tl(this,ft.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Fc(this,ft.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(ft.MEDIA_BUFFERED);return e?e.split(" ").map(r=>r.split(":").map(n=>+n)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(ft.MEDIA_BUFFERED);return}const r=e.map(n=>n.join(":")).join(" ");this.setAttribute(ft.MEDIA_BUFFERED,r)}get mediaSeekable(){const e=this.getAttribute(ft.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(ft.MEDIA_SEEKABLE);return}this.setAttribute(ft.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,r=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaSeekableStart(){var e;const[r=0]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaPreviewImage(){return Nl(this,ft.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){kl(this,ft.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return Tl(this,ft.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Fc(this,ft.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return Pa(this,ft.MEDIA_ENDED)}set mediaEnded(e){Oa(this,ft.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const r=this.mediaBuffered;if(!r.length)return;let n;if(this.mediaEnded)n=1;else{const a=this.mediaCurrentTime,[,o=this.mediaSeekableStart]=(e=r.find(([c,u])=>c<=a&&a<=u))!=null?e:[];n=ZS(this,o)}const{style:i}=zu(this.shadowRoot,"#buffered");i.setProperty("width",`${n*100}%`)}updateCurrentBox(){if(!this.shadowRoot.querySelector('slot[name="current"]').assignedElements().length)return;const r=zu(this.shadowRoot,"#current-rail"),n=zu(this.shadowRoot,'[part~="current-box"]'),i=nh(this,kN,n6).call(this,tu(this,cT)),a=nh(this,LN,i6).call(this,i,this.range.valueAsNumber),o=nh(this,IN,s6).call(this,i,this.range.valueAsNumber);r.style.transform=`translateX(${a})`,r.style.setProperty("--_range-width",`${i.range.width}`),n.style.setProperty("--_box-shift",`${o}`),n.style.setProperty("--_box-width",`${i.box.width}px`),n.style.setProperty("visibility","initial")}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":nh(this,UR,lle).call(this);break;case"pointermove":nh(this,FR,ole).call(this,e);break;case"pointerup":tu(this,qy)&&Gf(this,qy,!1);break;case"pointerdown":Gf(this,qy,!0);break;case"pointerleave":nh(this,N2,BN).call(this,null);break;case"transitionstart":wg(e.target,this)&&setTimeout(()=>nh(this,Xy,eE).call(this),0);break}}}Wy=new WeakMap;hx=new WeakMap;CN=new WeakMap;NE=new WeakMap;NN=new WeakMap;cT=new WeakMap;T2=new WeakMap;C2=new WeakMap;Yy=new WeakMap;qy=new WeakMap;Xy=new WeakSet;eE=function(){nh(this,r6,ale).call(this)?tu(this,hx).start():tu(this,hx).stop()};r6=new WeakSet;ale=function(){return this.isConnected&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded&&this.mediaSeekableEnd>0&&uoe(this)};MR=new WeakMap;kN=new WeakSet;n6=function(t){var e;const n=((e=this.getAttribute("bounds")?R1(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?e:this).getBoundingClientRect(),i=this.range.getBoundingClientRect(),a=t.offsetWidth,o=-(i.left-n.left-a/2),c=n.right-i.left-a/2;return{box:{width:a,min:o,max:c},bounds:n,range:i}};LN=new WeakSet;i6=function(t,e){let r=`${e*100}%`;const{width:n,min:i,max:a}=t.box;if(!n)return r;if(Number.isNaN(i)||(r=`max(${`calc(1 / var(--_range-width) * 100 * ${i}% + var(--media-box-padding-left))`}, ${r})`),!Number.isNaN(a)){const c=`calc(1 / var(--_range-width) * 100 * ${a}% - var(--media-box-padding-right))`;r=`min(${r}, ${c})`}return r};IN=new WeakSet;s6=function(t,e){const{width:r,min:n,max:i}=t.box,a=e*t.range.width;if(a<n+tu(this,T2)){const o=t.range.left-t.bounds.left-tu(this,T2);return`${a-r/2+o}px`}if(a>i-tu(this,C2)){const o=t.bounds.right-t.range.right-tu(this,C2);return`${a+r/2-o-t.range.width}px`}return 0};FR=new WeakSet;ole=function(t){const e=[...tu(this,CN)].some(d=>t.composedPath().includes(d));if(!this.dragging&&(e||!t.composedPath().includes(this))){nh(this,N2,BN).call(this,null);return}const r=this.mediaSeekableEnd;if(!r)return;const n=zu(this.shadowRoot,"#preview-rail"),i=zu(this.shadowRoot,'[part~="preview-box"]'),a=nh(this,kN,n6).call(this,tu(this,NN));let o=(t.clientX-a.range.left)/a.range.width;o=Math.max(0,Math.min(1,o));const c=nh(this,LN,i6).call(this,a,o),u=nh(this,IN,s6).call(this,a,o);n.style.transform=`translateX(${c})`,n.style.setProperty("--_range-width",`${a.range.width}`),i.style.setProperty("--_box-shift",`${u}`),i.style.setProperty("--_box-width",`${a.box.width}px`);const l=Math.round(tu(this,NE))-Math.round(o*r);Math.abs(l)<1&&o>.01&&o<.99||(Gf(this,NE,o*r),nh(this,N2,BN).call(this,tu(this,NE)))};N2=new WeakSet;BN=function(t){this.dispatchEvent(new sr.CustomEvent(Wn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:t}))};UR=new WeakSet;lle=function(){tu(this,hx).stop();const t=cle(this);this.dispatchEvent(new sr.CustomEvent(Wn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:t}))};a6.shadowRootOptions={mode:"open"};a6.getContainerTemplateHTML=QYe;sr.customElements.get("media-time-range")||sr.customElements.define("media-time-range",a6);const zYe=1,VYe=t=>t.mediaMuted?0:t.mediaVolume,KYe=t=>`${Math.round(t*100)}%`;class GYe extends M1{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_VOLUME,ft.MEDIA_MUTED,ft.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,r=new sr.CustomEvent(Wn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",pi("volume"))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),(e===ft.MEDIA_VOLUME||e===ft.MEDIA_MUTED)&&(this.range.valueAsNumber=VYe(this),this.range.setAttribute("aria-valuetext",KYe(this.range.valueAsNumber)),this.updateBar())}get mediaVolume(){return Tl(this,ft.MEDIA_VOLUME,zYe)}set mediaVolume(e){Fc(this,ft.MEDIA_VOLUME,e)}get mediaMuted(){return Pa(this,ft.MEDIA_MUTED)}set mediaMuted(e){Oa(this,ft.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return Nl(this,ft.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){kl(this,ft.MEDIA_VOLUME_UNAVAILABLE,e)}}sr.customElements.get("media-volume-range")||sr.customElements.define("media-volume-range",GYe);function WYe(t){return`
      <style>
        :host {
          min-width: 4ch;
          padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
          width: 100%;
          display: grid;
          grid-template-columns: 1fr auto;
          gap: 1rem;
          font-weight: var(--media-button-font-weight, normal);
        }

        #checked-indicator {
          display: none;
        }

        :host([${ft.MEDIA_LOOP}]) #checked-indicator {
          display: block;
        }
      </style>
      
      <span id="icon">
     </span>

      <div id="checked-indicator">
        <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
          <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
        </svg>
      </div>
    `}function YYe(){return pi("Loop")}class o6 extends wd{constructor(){super(...arguments),this.container=null}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_LOOP]}connectedCallback(){var e;super.connectedCallback(),this.container=((e=this.shadowRoot)==null?void 0:e.querySelector("#icon"))||null,this.container&&(this.container.textContent=pi("Loop"))}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_LOOP&&this.container&&this.setAttribute("aria-checked",this.mediaLoop?"true":"false")}get mediaLoop(){return Pa(this,ft.MEDIA_LOOP)}set mediaLoop(e){Oa(this,ft.MEDIA_LOOP,e)}handleClick(){const e=!this.mediaLoop,r=new sr.CustomEvent(Wn.MEDIA_LOOP_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}o6.getSlotTemplateHTML=WYe;o6.getTooltipContentHTML=YYe;sr.customElements.get("media-loop-button")||sr.customElements.define("media-loop-button",o6);var ule=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Aa=(t,e,r)=>(ule(t,e,"read from private field"),r?r.call(t):e.get(t)),OA=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Qp=(t,e,r,n)=>(ule(t,e,"write to private field"),e.set(t,r),r),Zy,uT,Ov,tE,u0,d0,h0,Rv,Jy,dT,jm;const ZW=1,JW=0,qYe=1,XYe={processCallback(t,e,r){if(r){for(const[n,i]of e)if(n in r){const a=r[n];typeof a=="boolean"&&i instanceof Hm&&typeof i.element[i.attributeName]=="boolean"?i.booleanValue=a:typeof a=="function"&&i instanceof Hm?i.element[i.attributeName]=a:i.value=a}}}};class w5 extends sr.DocumentFragment{constructor(e,r,n=XYe){var i;super(),OA(this,Zy,void 0),OA(this,uT,void 0),this.append(e.content.cloneNode(!0)),Qp(this,Zy,dle(this)),Qp(this,uT,n),(i=n.createCallback)==null||i.call(n,this,Aa(this,Zy),r),n.processCallback(this,Aa(this,Zy),r)}update(e){Aa(this,uT).processCallback(this,Aa(this,Zy),e)}}Zy=new WeakMap;uT=new WeakMap;const dle=(t,e=[])=>{let r,n;for(const i of t.attributes||[])if(i.value.includes("{{")){const a=new JYe;for([r,n]of tY(i.value))if(!r)a.append(n);else{const o=new Hm(t,i.name,i.namespaceURI);a.append(o),e.push([n,o])}i.value=a.toString()}for(const i of t.childNodes)if(i.nodeType===ZW&&!(i instanceof HTMLTemplateElement))dle(i,e);else{const a=i.data;if(i.nodeType===ZW||a.includes("{{")){const o=[];if(a)for([r,n]of tY(a))if(!r)o.push(new Text(n));else{const c=new F1(t);o.push(c),e.push([n,c])}else if(i instanceof HTMLTemplateElement){const c=new mle(t,i);o.push(c),e.push([c.expression,c])}i.replaceWith(...o.flatMap(c=>c.replacementNodes||[c]))}}return e},eY={},tY=t=>{let e="",r=0,n=eY[t],i=0,a;if(n)return n;for(n=[];a=t[i];i++)a==="{"&&t[i+1]==="{"&&t[i-1]!=="\\"&&t[i+2]&&++r==1?(e&&n.push([JW,e]),e="",i++):a==="}"&&t[i+1]==="}"&&t[i-1]!=="\\"&&!--r?(n.push([qYe,e.trim()]),e="",i++):e+=a||"";return e&&n.push([JW,(r>0?"{{":"")+e]),eY[t]=n},ZYe=11;class hle{get value(){return""}set value(e){}toString(){return this.value}}const fle=new WeakMap;class JYe{constructor(){OA(this,Ov,[])}[Symbol.iterator](){return Aa(this,Ov).values()}get length(){return Aa(this,Ov).length}item(e){return Aa(this,Ov)[e]}append(...e){for(const r of e)r instanceof Hm&&fle.set(r,this),Aa(this,Ov).push(r)}toString(){return Aa(this,Ov).join("")}}Ov=new WeakMap;class Hm extends hle{constructor(e,r,n){super(),OA(this,Rv),OA(this,tE,""),OA(this,u0,void 0),OA(this,d0,void 0),OA(this,h0,void 0),Qp(this,u0,e),Qp(this,d0,r),Qp(this,h0,n)}get attributeName(){return Aa(this,d0)}get attributeNamespace(){return Aa(this,h0)}get element(){return Aa(this,u0)}get value(){return Aa(this,tE)}set value(e){Aa(this,tE)!==e&&(Qp(this,tE,e),!Aa(this,Rv,Jy)||Aa(this,Rv,Jy).length===1?e==null?Aa(this,u0).removeAttributeNS(Aa(this,h0),Aa(this,d0)):Aa(this,u0).setAttributeNS(Aa(this,h0),Aa(this,d0),e):Aa(this,u0).setAttributeNS(Aa(this,h0),Aa(this,d0),Aa(this,Rv,Jy).toString()))}get booleanValue(){return Aa(this,u0).hasAttributeNS(Aa(this,h0),Aa(this,d0))}set booleanValue(e){if(!Aa(this,Rv,Jy)||Aa(this,Rv,Jy).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}tE=new WeakMap;u0=new WeakMap;d0=new WeakMap;h0=new WeakMap;Rv=new WeakSet;Jy=function(){return fle.get(this)};class F1 extends hle{constructor(e,r){super(),OA(this,dT,void 0),OA(this,jm,void 0),Qp(this,dT,e),Qp(this,jm,r?[...r]:[new Text])}get replacementNodes(){return Aa(this,jm)}get parentNode(){return Aa(this,dT)}get nextSibling(){return Aa(this,jm)[Aa(this,jm).length-1].nextSibling}get previousSibling(){return Aa(this,jm)[0].previousSibling}get value(){return Aa(this,jm).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const r=e.flat().flatMap(n=>n==null?[new Text]:n.forEach?[...n]:n.nodeType===ZYe?[...n.childNodes]:n.nodeType?[n]:[new Text(n)]);r.length||r.push(new Text),Qp(this,jm,eqe(Aa(this,jm)[0].parentNode,Aa(this,jm),r,this.nextSibling))}}dT=new WeakMap;jm=new WeakMap;class mle extends F1{constructor(e,r){const n=r.getAttribute("directive")||r.getAttribute("type");let i=r.getAttribute("expression")||r.getAttribute(n)||"";i.startsWith("{{")&&(i=i.trim().slice(2,-2).trim()),super(e),this.expression=i,this.template=r,this.directive=n}}function eqe(t,e,r,n=null){let i=0,a,o,c,u=r.length,l=e.length;for(;i<u&&i<l&&e[i]==r[i];)i++;for(;i<u&&i<l&&r[u-1]==e[l-1];)n=r[--l,--u];if(i==l)for(;i<u;)t.insertBefore(r[i++],n);if(i==u)for(;i<l;)t.removeChild(e[i++]);else{for(a=e[i];i<u;)c=r[i++],o=a?a.nextSibling:n,a==c?a=o:i<u&&r[i]==o?(t.replaceChild(c,a),a=o):t.insertBefore(c,a);for(;a!=n;)o=a.nextSibling,t.removeChild(a),a=o}return r}const rY={string:t=>String(t)};class Ale{constructor(e){this.template=e,this.state=void 0}}const tx=new WeakMap,rx=new WeakMap,$R={partial:(t,e)=>{e[t.expression]=new Ale(t.template)},if:(t,e)=>{var r;if(ple(t.expression,e))if(tx.get(t)!==t.template){tx.set(t,t.template);const n=new w5(t.template,e,l6);t.replace(n),rx.set(t,n)}else(r=rx.get(t))==null||r.update(e);else t.replace(""),tx.delete(t),rx.delete(t)}},tqe=Object.keys($R),l6={processCallback(t,e,r){var n,i;if(r)for(const[a,o]of e){if(o instanceof mle){if(!o.directive){const u=tqe.find(l=>o.template.hasAttribute(l));u&&(o.directive=u,o.expression=o.template.getAttribute(u))}(n=$R[o.directive])==null||n.call($R,o,r);continue}let c=ple(a,r);if(c instanceof Ale){tx.get(o)!==c.template?(tx.set(o,c.template),c=new w5(c.template,c.state,l6),o.value=c,rx.set(o,c)):(i=rx.get(o))==null||i.update(c.state);continue}c?(o instanceof Hm&&o.attributeName.startsWith("aria-")&&(c=String(c)),o instanceof Hm?typeof c=="boolean"?o.booleanValue=c:typeof c=="function"?o.element[o.attributeName]=c:o.value=c:(o.value=c,tx.delete(o),rx.delete(o))):o instanceof Hm?o.value=void 0:(o.value=void 0,tx.delete(o),rx.delete(o))}}},nY={"!":t=>!t,"!!":t=>!!t,"==":(t,e)=>t==e,"!=":(t,e)=>t!=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,"??":(t,e)=>t??e,"|":(t,e)=>{var r;return(r=rY[e])==null?void 0:r.call(rY,t)}};function rqe(t){return nqe(t,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function ple(t,e={}){var r,n,i,a,o,c,u;const l=rqe(t);if(l.length===0||l.some(({type:d})=>!d))return Ew(t);if(((r=l[0])==null?void 0:r.token)===">"){const d=e[(n=l[1])==null?void 0:n.token];if(!d)return Ew(t);const f={...e};d.state=f;const m=l.slice(2);for(let p=0;p<m.length;p+=3){const g=(i=m[p])==null?void 0:i.token,x=(a=m[p+1])==null?void 0:a.token,y=(o=m[p+2])==null?void 0:o.token;g&&x==="="&&(f[g]=_w(y,e))}return d}if(l.length===1)return JS(l[0])?_w(l[0].token,e):Ew(t);if(l.length===2){const d=(c=l[0])==null?void 0:c.token,f=nY[d];if(!f||!JS(l[1]))return Ew(t);const m=_w(l[1].token,e);return f(m)}if(l.length===3){const d=(u=l[1])==null?void 0:u.token,f=nY[d];if(!f||!JS(l[0])||!JS(l[2]))return Ew(t);const m=_w(l[0].token,e);if(d==="|")return f(m,l[2].token);const p=_w(l[2].token,e);return f(m,p)}}function Ew(t){return console.warn(`Warning: invalid expression \`${t}\``),!1}function JS({type:t}){return["number","boolean","string","param"].includes(t)}function _w(t,e){const r=t[0],n=t.slice(-1);return t==="true"||t==="false"?t==="true":r===n&&["'",'"'].includes(r)?t.slice(1,-1):eoe(t)?parseFloat(t):e[t]}function nqe(t,e){let r,n,i;const a=[];for(;t;){i=null,r=t.length;for(const o in e)n=e[o].exec(t),n&&n.index<r&&(i={token:n[0],type:o,matches:n.slice(1)},r=n.index);r&&a.push({token:t.substr(0,r),type:void 0}),i&&a.push(i),t=t.substr(r+(i?i.token.length:0))}return a}var c6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},HR=(t,e,r)=>(c6(t,e,"read from private field"),r?r.call(t):e.get(t)),Sw=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},nx=(t,e,r,n)=>(c6(t,e,"write to private field"),e.set(t,r),r),gB=(t,e,r)=>(c6(t,e,"access private method"),r),Ob,hT,Rb,QR,gle,fT,zR;const vB={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},vle=bu.createElement("template");vle.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-captions-button:not([mediasubtitleslist]),
    media-captions-menu:not([mediasubtitleslist]),
    media-captions-menu-button:not([mediasubtitleslist]),
    media-audio-track-menu[mediaaudiotrackunavailable],
    media-audio-track-menu-button[mediaaudiotrackunavailable],
    media-rendition-menu[mediarenditionunavailable],
    media-rendition-menu-button[mediarenditionunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class E5 extends sr.HTMLElement{constructor(){super(),Sw(this,QR),Sw(this,fT),Sw(this,Ob,void 0),Sw(this,hT,void 0),Sw(this,Rb,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(r=>{var n;this.mediaController&&!((n=this.mediaController)!=null&&n.breakpointsComputed)||r.some(i=>{const a=i.target;return a===this?!0:a.localName!=="media-controller"?!1:!!(vB[i.attributeName]||i.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(dg.BREAKPOINTS_COMPUTED,this.render),gB(this,QR,gle).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=HR(this,Ob))!=null?e:this.constructor.template}set template(e){if(e===null){this.removeAttribute("template");return}typeof e=="string"?this.setAttribute("template",e):e instanceof HTMLTemplateElement&&(nx(this,Ob,e),nx(this,Rb,null),this.createRenderer())}get props(){var e,r,n;const i=[...Array.from((r=(e=this.mediaController)==null?void 0:e.attributes)!=null?r:[]).filter(({name:o})=>vB[o]||o.startsWith("breakpoint")),...Array.from(this.attributes)],a={};for(const o of i){const c=(n=vB[o.name])!=null?n:aGe(o.name);let{value:u}=o;u!=null?(eoe(u)&&(u=parseFloat(u)),a[c]=u===""?!0:u):a[c]=!1}return a}attributeChangedCallback(e,r,n){e==="template"&&r!=n&&gB(this,fT,zR).call(this)}connectedCallback(){gB(this,fT,zR).call(this)}createRenderer(){this.template instanceof HTMLTemplateElement&&this.template!==HR(this,hT)&&(nx(this,hT,this.template),this.renderer=new w5(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(vle.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}Ob=new WeakMap;hT=new WeakMap;Rb=new WeakMap;QR=new WeakSet;gle=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const e=this[t];delete this[t],this[t]=e}};fT=new WeakSet;zR=function(){var t;const e=this.getAttribute("template");if(!e||e===HR(this,Rb))return;const r=this.getRootNode(),n=(t=r?.getElementById)==null?void 0:t.call(r,e);if(n){nx(this,Rb,e),nx(this,Ob,n),this.createRenderer();return}iqe(e)&&(nx(this,Rb,e),sqe(e).then(i=>{const a=bu.createElement("template");a.innerHTML=i,nx(this,Ob,a),this.createRenderer()}).catch(console.error))};E5.observedAttributes=["template"];E5.processor=l6;function iqe(t){if(!/^(\/|\.\/|https?:\/\/)/.test(t))return!1;const e=/^https?:\/\//.test(t)?void 0:location.origin;try{new URL(t,e)}catch{return!1}return!0}async function sqe(t){const e=await fetch(t);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}sr.customElements.get("media-theme")||sr.customElements.define("media-theme",E5);function aqe({anchor:t,floating:e,placement:r}){const n=oqe({anchor:t,floating:e}),{x:i,y:a}=cqe(n,r);return{x:i,y:a}}function oqe({anchor:t,floating:e}){return{anchor:lqe(t,e.offsetParent),floating:{x:0,y:0,width:e.offsetWidth,height:e.offsetHeight}}}function lqe(t,e){var r;const n=t.getBoundingClientRect(),i=(r=e?.getBoundingClientRect())!=null?r:{x:0,y:0};return{x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}function cqe({anchor:t,floating:e},r){const n=uqe(r)==="x"?"y":"x",i=n==="y"?"height":"width",a=xle(r),o=t.x+t.width/2-e.width/2,c=t.y+t.height/2-e.height/2,u=t[i]/2-e[i]/2;let l;switch(a){case"top":l={x:o,y:t.y-e.height};break;case"bottom":l={x:o,y:t.y+t.height};break;case"right":l={x:t.x+t.width,y:c};break;case"left":l={x:t.x-e.width,y:c};break;default:l={x:t.x,y:t.y}}switch(r.split("-")[1]){case"start":l[n]-=u;break;case"end":l[n]+=u;break}return l}function xle(t){return t.split("-")[0]}function uqe(t){return["top","bottom"].includes(xle(t))?"y":"x"}class u6 extends Event{constructor({action:e="auto",relatedTarget:r,...n}){super("invoke",n),this.action=e,this.relatedTarget=r}}class dqe extends Event{constructor({newState:e,oldState:r,...n}){super("toggle",n),this.newState=e,this.oldState=r}}var d6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},mo=(t,e,r)=>(d6(t,e,"read from private field"),r?r.call(t):e.get(t)),el=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},NA=(t,e,r,n)=>(d6(t,e,"write to private field"),e.set(t,r),r),tl=(t,e,r)=>(d6(t,e,"access private method"),r),kA,fx,G0,mT,AT,mx,k2,VR,yle,PN,h6,ON,pT,KR,GR,ble,WR,wle,YR,Ele,Db,Mb,Fb,L2,RN,f6,qR,_le,m6,Sle,XR,jle,A6,Tle,ZR,Cle,JR,Nle,kE,DN,e3,kle,LE,MN,gT,t3;function c1({type:t,text:e,value:r,checked:n}){const i=bu.createElement("media-chrome-menu-item");i.type=t,i.part.add("menu-item"),i.part.add(t),i.value=r,i.checked=n;const a=bu.createElement("span");return a.textContent=e,i.append(a),i}function Ax(t,e){let r=t.querySelector(`:scope > [slot="${e}"]`);if(r?.nodeName=="SLOT"&&(r=r.assignedElements({flatten:!0})[0]),r)return r=r.cloneNode(!0),r;const n=t.shadowRoot.querySelector(`[name="${e}"] > svg`);return n?n.cloneNode(!0):""}function hqe(t){return`
    <style>
      :host {
        font: var(--media-font,
          var(--media-font-weight, normal)
          var(--media-font-size, 14px) /
          var(--media-text-content-height, var(--media-control-height, 24px))
          var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
        color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-menu-background, var(--media-control-background, var(--media-secondary-color, var(--_menu-bg))));
        border-radius: var(--media-menu-border-radius);
        border: var(--media-menu-border, none);
        display: var(--media-menu-display, inline-flex) !important;
        
        transition: var(--media-menu-transition-in,
          visibility 0s,
          opacity .2s ease-out,
          transform .15s ease-out,
          left .2s ease-in-out,
          min-width .2s ease-in-out,
          min-height .2s ease-in-out
        ) !important;
        
        visibility: var(--media-menu-visibility, visible);
        opacity: var(--media-menu-opacity, 1);
        max-height: var(--media-menu-max-height, var(--_menu-max-height, 300px));
        transform: var(--media-menu-transform-in, translateY(0) scale(1));
        flex-direction: column;
        
        min-height: 0;
        position: relative;
        bottom: var(--_menu-bottom);
        box-sizing: border-box;
      } 

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([hidden]) {
        transition: var(--media-menu-transition-out,
          visibility .15s ease-in,
          opacity .15s ease-in,
          transform .15s ease-in
        ) !important;
        visibility: var(--media-menu-hidden-visibility, hidden);
        opacity: var(--media-menu-hidden-opacity, 0);
        max-height: var(--media-menu-hidden-max-height,
          var(--media-menu-max-height, var(--_menu-max-height, 300px)));
        transform: var(--media-menu-transform-out, translateY(2px) scale(.99));
        pointer-events: none;
      }

      :host([slot="submenu"]) {
        background: none;
        width: 100%;
        min-height: 100%;
        position: absolute;
        bottom: 0;
        right: -100%;
      }

      #container {
        display: flex;
        flex-direction: column;
        min-height: 0;
        transition: transform .2s ease-out;
        transform: translate(0, 0);
      }

      #container.has-expanded {
        transition: transform .2s ease-in;
        transform: translate(-100%, 0);
      }

      button {
        background: none;
        color: inherit;
        border: none;
        padding: 0;
        font: inherit;
        outline: inherit;
        display: inline-flex;
        align-items: center;
      }

      slot[name="header"][hidden] {
        display: none;
      }

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .7em;
        border-bottom: 1px solid rgb(255 255 255 / .25);
        cursor: var(--media-cursor, default);
      }

      slot[name="header"] > button[part~="back"],
      slot[name="header"]::slotted(button[part~="back"]) {
        cursor: var(--media-cursor, pointer);
      }

      svg[part~="back"] {
        height: var(--media-menu-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
        margin-right: .5ch;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap);
        flex-direction: var(--media-menu-flex-direction, column);
        overflow: var(--media-menu-overflow, hidden auto);
        display: flex;
        min-height: 0;
      }

      :host([role="menu"]) slot:not([name]) {
        padding-block: .4em;
      }

      slot:not([name])::slotted([role="menu"]) {
        background: none;
      }

      media-chrome-menu-item > span {
        margin-right: .5ch;
        max-width: var(--media-menu-item-max-width);
        text-overflow: ellipsis;
        overflow: hidden;
      }
    </style>
    <style id="layout-row" media="width:0">

      slot[name="header"] > *,
      slot[name="header"]::slotted(*) {
        padding: .4em .5em;
      }

      slot:not([name]) {
        gap: var(--media-menu-gap, .25em);
        flex-direction: var(--media-menu-flex-direction, row);
        padding-inline: .5em;
      }

      media-chrome-menu-item {
        padding: .3em .5em;
      }

      media-chrome-menu-item[aria-checked="true"] {
        background: var(--media-menu-item-checked-background, rgb(255 255 255 / .2));
      }

      
      media-chrome-menu-item::part(checked-indicator) {
        display: var(--media-menu-item-checked-indicator-display, none);
      }
    </style>
    <div id="container" part="container">
      <slot name="header" hidden>
        <button part="back button" aria-label="Back to previous menu">
          <slot name="back-icon">
            <svg aria-hidden="true" viewBox="0 0 20 24" part="back indicator">
              <path d="m11.88 17.585.742-.669-4.2-4.665 4.2-4.666-.743-.669-4.803 5.335 4.803 5.334Z"/>
            </svg>
          </slot>
          <slot name="title"></slot>
        </button>
      </slot>
      <slot></slot>
    </div>
    <slot name="checked-indicator" hidden></slot>
  `}const Ev={STYLE:"style",HIDDEN:"hidden",DISABLED:"disabled",ANCHOR:"anchor"};class um extends sr.HTMLElement{constructor(){if(super(),el(this,VR),el(this,PN),el(this,pT),el(this,GR),el(this,WR),el(this,YR),el(this,Fb),el(this,RN),el(this,qR),el(this,m6),el(this,XR),el(this,A6),el(this,ZR),el(this,JR),el(this,kE),el(this,e3),el(this,LE),el(this,gT),el(this,kA,null),el(this,fx,null),el(this,G0,null),el(this,mT,new Set),el(this,AT,void 0),el(this,mx,!1),el(this,k2,null),el(this,ON,()=>{const e=mo(this,mT),r=new Set(this.items);for(const n of e)r.has(n)||this.dispatchEvent(new CustomEvent("removemenuitem",{detail:n}));for(const n of r)e.has(n)||this.dispatchEvent(new CustomEvent("addmenuitem",{detail:n}));NA(this,mT,r)}),el(this,Db,()=>{tl(this,Fb,L2).call(this),tl(this,RN,f6).call(this,!1)}),el(this,Mb,()=>{tl(this,Fb,L2).call(this)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.container=this.shadowRoot.querySelector("#container"),this.defaultSlot=this.shadowRoot.querySelector("slot:not([name])"),this.shadowRoot.addEventListener("slotchange",this),NA(this,AT,new MutationObserver(mo(this,ON))),mo(this,AT).observe(this.defaultSlot,{childList:!0})}static get observedAttributes(){return[Ev.DISABLED,Ev.HIDDEN,Ev.STYLE,Ev.ANCHOR,po.MEDIA_CONTROLLER]}static formatMenuItemText(e,r){return e}enable(){this.addEventListener("click",this),this.addEventListener("focusout",this),this.addEventListener("keydown",this),this.addEventListener("invoke",this),this.addEventListener("toggle",this)}disable(){this.removeEventListener("click",this),this.removeEventListener("focusout",this),this.removeEventListener("keyup",this),this.removeEventListener("invoke",this),this.removeEventListener("toggle",this)}handleEvent(e){switch(e.type){case"slotchange":tl(this,VR,yle).call(this,e);break;case"invoke":tl(this,GR,ble).call(this,e);break;case"click":tl(this,qR,_le).call(this,e);break;case"toggle":tl(this,XR,jle).call(this,e);break;case"focusout":tl(this,ZR,Cle).call(this,e);break;case"keydown":tl(this,JR,Nle).call(this,e);break}}connectedCallback(){var e,r;NA(this,k2,NU(this.shadowRoot,":host")),tl(this,pT,KR).call(this),this.hasAttribute("disabled")||this.enable(),this.role||(this.role="menu"),NA(this,kA,AR(this)),(r=(e=mo(this,kA))==null?void 0:e.associateElement)==null||r.call(e,this),this.hidden||(a1(I2(this),mo(this,Db)),a1(this,mo(this,Mb))),tl(this,PN,h6).call(this)}disconnectedCallback(){var e,r;o1(I2(this),mo(this,Db)),o1(this,mo(this,Mb)),this.disable(),(r=(e=mo(this,kA))==null?void 0:e.unassociateElement)==null||r.call(e,this),NA(this,kA,null)}attributeChangedCallback(e,r,n){var i,a,o,c;e===Ev.HIDDEN&&n!==r?(mo(this,mx)||NA(this,mx,!0),this.hidden?tl(this,YR,Ele).call(this):tl(this,WR,wle).call(this),this.dispatchEvent(new dqe({oldState:this.hidden?"open":"closed",newState:this.hidden?"closed":"open",bubbles:!0}))):e===po.MEDIA_CONTROLLER?(r&&((a=(i=mo(this,kA))==null?void 0:i.unassociateElement)==null||a.call(i,this),NA(this,kA,null)),n&&this.isConnected&&(NA(this,kA,AR(this)),(c=(o=mo(this,kA))==null?void 0:o.associateElement)==null||c.call(o,this))):e===Ev.DISABLED&&n!==r?n==null?this.enable():this.disable():e===Ev.STYLE&&n!==r&&tl(this,pT,KR).call(this)}formatMenuItemText(e,r){return this.constructor.formatMenuItemText(e,r)}get anchor(){return this.getAttribute("anchor")}set anchor(e){this.setAttribute("anchor",`${e}`)}get anchorElement(){var e;return this.anchor?(e=d5(this))==null?void 0:e.querySelector(`#${this.anchor}`):null}get items(){return this.defaultSlot.assignedElements({flatten:!0}).filter(fqe)}get radioGroupItems(){return this.items.filter(e=>e.role==="menuitemradio")}get checkedItems(){return this.items.filter(e=>e.checked)}get value(){var e,r;return(r=(e=this.checkedItems[0])==null?void 0:e.value)!=null?r:""}set value(e){const r=this.items.find(n=>n.value===e);r&&tl(this,gT,t3).call(this,r)}focus(){if(NA(this,fx,CU()),this.items.length){tl(this,LE,MN).call(this,this.items[0]),this.items[0].focus();return}const e=this.querySelector('[autofocus], [tabindex]:not([tabindex="-1"]), [role="menu"]');e?.focus()}handleSelect(e){var r;const n=tl(this,kE,DN).call(this,e);n&&(tl(this,gT,t3).call(this,n,n.type==="checkbox"),mo(this,G0)&&!this.hidden&&((r=mo(this,fx))==null||r.focus(),this.hidden=!0))}get keysUsed(){return["Enter","Escape","Tab"," ","ArrowDown","ArrowUp","Home","End"]}handleMove(e){var r,n;const{key:i}=e,a=this.items,o=(n=(r=tl(this,kE,DN).call(this,e))!=null?r:tl(this,e3,kle).call(this))!=null?n:a[0],c=a.indexOf(o);let u=Math.max(0,c);i==="ArrowDown"?u++:i==="ArrowUp"?u--:e.key==="Home"?u=0:e.key==="End"&&(u=a.length-1),u<0&&(u=a.length-1),u>a.length-1&&(u=0),tl(this,LE,MN).call(this,a[u]),a[u].focus()}}kA=new WeakMap;fx=new WeakMap;G0=new WeakMap;mT=new WeakMap;AT=new WeakMap;mx=new WeakMap;k2=new WeakMap;VR=new WeakSet;yle=function(t){const e=t.target;for(const r of e.assignedNodes({flatten:!0}))r.nodeType===3&&r.textContent.trim()===""&&r.remove();["header","title"].includes(e.name)&&tl(this,PN,h6).call(this),e.name||mo(this,ON).call(this)};PN=new WeakSet;h6=function(){const t=this.shadowRoot.querySelector('slot[name="header"]'),e=this.shadowRoot.querySelector('slot[name="title"]');t.hidden=e.assignedNodes().length===0&&t.assignedNodes().length===0};ON=new WeakMap;pT=new WeakSet;KR=function(){var t;const e=this.shadowRoot.querySelector("#layout-row"),r=(t=getComputedStyle(this).getPropertyValue("--media-menu-layout"))==null?void 0:t.trim();e.setAttribute("media",r==="row"?"":"width:0")};GR=new WeakSet;ble=function(t){NA(this,G0,t.relatedTarget),wg(this,t.relatedTarget)||(this.hidden=!this.hidden)};WR=new WeakSet;wle=function(){var t;(t=mo(this,G0))==null||t.setAttribute("aria-expanded","true"),this.addEventListener("transitionend",()=>this.focus(),{once:!0}),a1(I2(this),mo(this,Db)),a1(this,mo(this,Mb))};YR=new WeakSet;Ele=function(){var t;(t=mo(this,G0))==null||t.setAttribute("aria-expanded","false"),o1(I2(this),mo(this,Db)),o1(this,mo(this,Mb))};Db=new WeakMap;Mb=new WeakMap;Fb=new WeakSet;L2=function(t){if(this.hasAttribute("mediacontroller")&&!this.anchor||this.hidden||!this.anchorElement)return;const{x:e,y:r}=aqe({anchor:this.anchorElement,floating:this,placement:"top-start"});t??(t=this.offsetWidth);const i=I2(this).getBoundingClientRect(),a=i.width-e-t,o=i.height-r-this.offsetHeight,{style:c}=mo(this,k2);c.setProperty("position","absolute"),c.setProperty("right",`${Math.max(0,a)}px`),c.setProperty("--_menu-bottom",`${o}px`);const u=getComputedStyle(this),d=c.getPropertyValue("--_menu-bottom")===u.bottom?o:parseFloat(u.bottom),f=i.height-d-parseFloat(u.marginBottom);this.style.setProperty("--_menu-max-height",`${f}px`)};RN=new WeakSet;f6=function(t){const e=this.querySelector('[role="menuitem"][aria-haspopup][aria-expanded="true"]'),r=e?.querySelector('[role="menu"]'),{style:n}=mo(this,k2);if(t||n.setProperty("--media-menu-transition-in","none"),r){const i=r.offsetHeight,a=Math.max(r.offsetWidth,e.offsetWidth);this.style.setProperty("min-width",`${a}px`),this.style.setProperty("min-height",`${i}px`),tl(this,Fb,L2).call(this,a)}else this.style.removeProperty("min-width"),this.style.removeProperty("min-height"),tl(this,Fb,L2).call(this);n.removeProperty("--media-menu-transition-in")};qR=new WeakSet;_le=function(t){var e;if(t.stopPropagation(),t.composedPath().includes(mo(this,m6,Sle))){(e=mo(this,fx))==null||e.focus(),this.hidden=!0;return}const r=tl(this,kE,DN).call(this,t);!r||r.hasAttribute("disabled")||(tl(this,LE,MN).call(this,r),this.handleSelect(t))};m6=new WeakSet;Sle=function(){var t;return(t=this.shadowRoot.querySelector('slot[name="header"]').assignedElements({flatten:!0}))==null?void 0:t.find(r=>r.matches('button[part~="back"]'))};XR=new WeakSet;jle=function(t){if(t.target===this)return;tl(this,A6,Tle).call(this);const e=Array.from(this.querySelectorAll('[role="menuitem"][aria-haspopup]'));for(const r of e)r.invokeTargetElement!=t.target&&t.newState=="open"&&r.getAttribute("aria-expanded")=="true"&&!r.invokeTargetElement.hidden&&r.invokeTargetElement.dispatchEvent(new u6({relatedTarget:r}));for(const r of e)r.setAttribute("aria-expanded",`${!r.submenuElement.hidden}`);tl(this,RN,f6).call(this,!0)};A6=new WeakSet;Tle=function(){const e=this.querySelector('[role="menuitem"] > [role="menu"]:not([hidden])');this.container.classList.toggle("has-expanded",!!e)};ZR=new WeakSet;Cle=function(t){var e;wg(this,t.relatedTarget)||(mo(this,mx)&&((e=mo(this,fx))==null||e.focus()),mo(this,G0)&&mo(this,G0)!==t.relatedTarget&&!this.hidden&&(this.hidden=!0))};JR=new WeakSet;Nle=function(t){var e,r,n,i,a;const{key:o,ctrlKey:c,altKey:u,metaKey:l}=t;if(!(c||u||l)&&this.keysUsed.includes(o))if(t.preventDefault(),t.stopPropagation(),o==="Tab"){if(mo(this,mx)){this.hidden=!0;return}t.shiftKey?(r=(e=this.previousElementSibling)==null?void 0:e.focus)==null||r.call(e):(i=(n=this.nextElementSibling)==null?void 0:n.focus)==null||i.call(n),this.blur()}else o==="Escape"?((a=mo(this,fx))==null||a.focus(),mo(this,mx)&&(this.hidden=!0)):o==="Enter"||o===" "?this.handleSelect(t):this.handleMove(t)};kE=new WeakSet;DN=function(t){return t.composedPath().find(e=>["menuitemradio","menuitemcheckbox"].includes(e.role))};e3=new WeakSet;kle=function(){return this.items.find(t=>t.tabIndex===0)};LE=new WeakSet;MN=function(t){for(const e of this.items)e.tabIndex=e===t?0:-1};gT=new WeakSet;t3=function(t,e){const r=[...this.checkedItems];t.type==="radio"&&this.radioGroupItems.forEach(n=>n.checked=!1),e?t.checked=!t.checked:t.checked=!0,this.checkedItems.some((n,i)=>n!=r[i])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};um.shadowRootOptions={mode:"open"};um.getTemplateHTML=hqe;function fqe(t){return["menuitem","menuitemradio","menuitemcheckbox"].includes(t?.role)}function I2(t){var e;return(e=t.getAttribute("bounds")?R1(t,`#${t.getAttribute("bounds")}`):Kh(t)||t.parentElement)!=null?e:t}sr.customElements.get("media-chrome-menu")||sr.customElements.define("media-chrome-menu",um);var p6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},HA=(t,e,r)=>(p6(t,e,"read from private field"),r?r.call(t):e.get(t)),Np=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},xB=(t,e,r,n)=>(p6(t,e,"write to private field"),e.set(t,r),r),Om=(t,e,r)=>(p6(t,e,"access private method"),r),vT,IE,r3,Lle,FN,g6,v6,Ile,QA,u1,B2,n3,Ble,xT,i3;function mqe(t){return`
    <style>
      :host {
        transition: var(--media-menu-item-transition,
          background .15s linear,
          opacity .2s ease-in-out
        );
        outline: var(--media-menu-item-outline, 0);
        outline-offset: var(--media-menu-item-outline-offset, -1px);
        cursor: var(--media-cursor, pointer);
        display: flex;
        align-items: center;
        align-self: stretch;
        justify-self: stretch;
        white-space: nowrap;
        white-space-collapse: collapse;
        text-wrap: nowrap;
        padding: .4em .8em .4em 1em;
      }

      :host(:focus-visible) {
        box-shadow: var(--media-menu-item-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
        outline: var(--media-menu-item-hover-outline, 0);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host(:hover) {
        cursor: var(--media-cursor, pointer);
        background: var(--media-menu-item-hover-background, rgb(92 92 102 / .5));
        outline: var(--media-menu-item-hover-outline);
        outline-offset: var(--media-menu-item-hover-outline-offset,  var(--media-menu-item-outline-offset, -1px));
      }

      :host([aria-checked="true"]) {
        background: var(--media-menu-item-checked-background);
      }

      :host([hidden]) {
        display: none;
      }

      :host([disabled]) {
        pointer-events: none;
        color: rgba(255, 255, 255, .3);
      }

      slot:not([name]) {
        width: 100%;
      }

      slot:not([name="submenu"]) {
        display: inline-flex;
        align-items: center;
        transition: inherit;
        opacity: var(--media-menu-item-opacity, 1);
      }

      slot[name="description"] {
        justify-content: end;
      }

      slot[name="description"] > span {
        display: inline-block;
        margin-inline: 1em .2em;
        max-width: var(--media-menu-item-description-max-width, 100px);
        text-overflow: ellipsis;
        overflow: hidden;
        font-size: .8em;
        font-weight: 400;
        text-align: right;
        position: relative;
        top: .04em;
      }

      slot[name="checked-indicator"] {
        display: none;
      }

      :host(:is([role="menuitemradio"],[role="menuitemcheckbox"])) slot[name="checked-indicator"] {
        display: var(--media-menu-item-checked-indicator-display, inline-block);
      }

      
      svg, img, ::slotted(svg), ::slotted(img) {
        height: var(--media-menu-item-icon-height, var(--media-control-height, 24px));
        fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
        display: block;
      }

      
      [part~="indicator"],
      ::slotted([part~="indicator"]) {
        fill: var(--media-menu-item-indicator-fill,
          var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
        height: var(--media-menu-item-indicator-height, 1.25em);
        margin-right: .5ch;
      }

      [part~="checked-indicator"] {
        visibility: hidden;
      }

      :host([aria-checked="true"]) [part~="checked-indicator"] {
        visibility: visible;
      }
    </style>
    <slot name="checked-indicator">
      <svg aria-hidden="true" viewBox="0 1 24 24" part="checked-indicator indicator">
        <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
      </svg>
    </slot>
    <slot name="prefix"></slot>
    <slot></slot>
    <slot name="description"></slot>
    <slot name="suffix">
      ${this.getSuffixSlotInnerHTML(t)}
    </slot>
    <slot name="submenu"></slot>
  `}function Aqe(t){return""}const Vf={TYPE:"type",VALUE:"value",CHECKED:"checked",DISABLED:"disabled"};class rv extends sr.HTMLElement{constructor(){if(super(),Np(this,r3),Np(this,FN),Np(this,v6),Np(this,u1),Np(this,n3),Np(this,xT),Np(this,vT,!1),Np(this,IE,void 0),Np(this,QA,()=>{var e,r;this.submenuElement.items&&this.setAttribute("submenusize",`${this.submenuElement.items.length}`);const n=this.shadowRoot.querySelector('slot[name="description"]'),i=(e=this.submenuElement.checkedItems)==null?void 0:e[0],a=(r=i?.dataset.description)!=null?r:i?.text,o=bu.createElement("span");o.textContent=a??"",n.replaceChildren(o)}),!this.shadowRoot){this.attachShadow(this.constructor.shadowRootOptions);const e=If(this.attributes);this.shadowRoot.innerHTML=this.constructor.getTemplateHTML(e)}this.shadowRoot.addEventListener("slotchange",this)}static get observedAttributes(){return[Vf.TYPE,Vf.DISABLED,Vf.CHECKED,Vf.VALUE]}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","-1"),jw(this)&&!this.hasAttribute("aria-checked")&&this.setAttribute("aria-checked","false"),this.addEventListener("click",this),this.addEventListener("keydown",this)}disable(){this.removeAttribute("tabindex"),this.removeEventListener("click",this),this.removeEventListener("keydown",this),this.removeEventListener("keyup",this)}handleEvent(e){switch(e.type){case"slotchange":Om(this,r3,Lle).call(this,e);break;case"click":this.handleClick(e);break;case"keydown":Om(this,n3,Ble).call(this,e);break;case"keyup":Om(this,u1,B2).call(this,e);break}}attributeChangedCallback(e,r,n){e===Vf.CHECKED&&jw(this)&&!HA(this,vT)?this.setAttribute("aria-checked",n!=null?"true":"false"):e===Vf.TYPE&&n!==r?this.role="menuitem"+n:e===Vf.DISABLED&&n!==r&&(n==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(Vf.DISABLED)||this.enable(),this.role="menuitem"+this.type,xB(this,IE,s3(this,this.parentNode)),Om(this,xT,i3).call(this),this.submenuElement&&Om(this,FN,g6).call(this)}disconnectedCallback(){this.disable(),Om(this,xT,i3).call(this),xB(this,IE,null)}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=d5(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):this.submenuElement}get submenuElement(){return this.shadowRoot.querySelector('slot[name="submenu"]').assignedElements({flatten:!0})[0]}get type(){var e;return(e=this.getAttribute(Vf.TYPE))!=null?e:""}set type(e){this.setAttribute(Vf.TYPE,`${e}`)}get value(){var e;return(e=this.getAttribute(Vf.VALUE))!=null?e:this.text}set value(e){this.setAttribute(Vf.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get checked(){if(jw(this))return this.getAttribute("aria-checked")==="true"}set checked(e){jw(this)&&(xB(this,vT,!0),this.setAttribute("aria-checked",e?"true":"false"),e?this.part.add("checked"):this.part.remove("checked"))}handleClick(e){jw(this)||this.invokeTargetElement&&wg(this,e.target)&&this.invokeTargetElement.dispatchEvent(new u6({relatedTarget:this}))}get keysUsed(){return["Enter"," "]}}vT=new WeakMap;IE=new WeakMap;r3=new WeakSet;Lle=function(t){const e=t.target;if(!e?.name)for(const n of e.assignedNodes({flatten:!0}))n instanceof Text&&n.textContent.trim()===""&&n.remove();e.name==="submenu"&&(this.submenuElement?Om(this,FN,g6).call(this):Om(this,v6,Ile).call(this))};FN=new WeakSet;g6=async function(){this.setAttribute("aria-haspopup","menu"),this.setAttribute("aria-expanded",`${!this.submenuElement.hidden}`),this.submenuElement.addEventListener("change",HA(this,QA)),this.submenuElement.addEventListener("addmenuitem",HA(this,QA)),this.submenuElement.addEventListener("removemenuitem",HA(this,QA)),HA(this,QA).call(this)};v6=new WeakSet;Ile=function(){this.removeAttribute("aria-haspopup"),this.removeAttribute("aria-expanded"),this.submenuElement.removeEventListener("change",HA(this,QA)),this.submenuElement.removeEventListener("addmenuitem",HA(this,QA)),this.submenuElement.removeEventListener("removemenuitem",HA(this,QA)),HA(this,QA).call(this)};QA=new WeakMap;u1=new WeakSet;B2=function(t){const{key:e}=t;if(!this.keysUsed.includes(e)){this.removeEventListener("keyup",Om(this,u1,B2));return}this.handleClick(t)};n3=new WeakSet;Ble=function(t){const{metaKey:e,altKey:r,key:n}=t;if(e||r||!this.keysUsed.includes(n)){this.removeEventListener("keyup",Om(this,u1,B2));return}this.addEventListener("keyup",Om(this,u1,B2),{once:!0})};xT=new WeakSet;i3=function(){var t;const e=(t=HA(this,IE))==null?void 0:t.radioGroupItems;if(!e)return;let r=e.filter(n=>n.getAttribute("aria-checked")==="true").pop();r||(r=e[0]);for(const n of e)n.setAttribute("aria-checked","false");r?.setAttribute("aria-checked","true")};rv.shadowRootOptions={mode:"open"};rv.getTemplateHTML=mqe;rv.getSuffixSlotInnerHTML=Aqe;function jw(t){return t.type==="radio"||t.type==="checkbox"}function s3(t,e){if(!t)return null;const{host:r}=t.getRootNode();return!e&&r?s3(t,r):e?.items?e:s3(e,e?.parentNode)}sr.customElements.get("media-chrome-menu-item")||sr.customElements.define("media-chrome-menu-item",rv);function pqe(t){return`
    ${um.getTemplateHTML(t)}
    <style>
      :host {
        --_menu-bg: rgb(20 20 30 / .8);
        background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
        min-width: var(--media-settings-menu-min-width, 170px);
        border-radius: 2px 2px 0 0;
        overflow: hidden;
      }

      @-moz-document url-prefix() {
        :host{
          --_menu-bg: rgb(20 20 30);
        }
      }

      :host([role="menu"]) {
        
        justify-content: end;
      }

      slot:not([name]) {
        justify-content: var(--media-settings-menu-justify-content);
        flex-direction: var(--media-settings-menu-flex-direction, column);
        overflow: visible;
      }

      #container.has-expanded {
        --media-settings-menu-item-opacity: 0;
      }
    </style>
  `}class Ple extends um{get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Kh(this).querySelector("media-settings-menu-button")}}Ple.getTemplateHTML=pqe;sr.customElements.get("media-settings-menu")||sr.customElements.define("media-settings-menu",Ple);function gqe(t){return`
    ${rv.getTemplateHTML.call(this,t)}
    <style>
      slot:not([name="submenu"]) {
        opacity: var(--media-settings-menu-item-opacity, var(--media-menu-item-opacity));
      }

      :host([aria-expanded="true"]:hover) {
        background: transparent;
      }
    </style>
  `}function vqe(t){return`
    <svg aria-hidden="true" viewBox="0 0 20 24">
      <path d="m8.12 17.585-.742-.669 4.2-4.665-4.2-4.666.743-.669 4.803 5.335-4.803 5.334Z"/>
    </svg>
  `}class _5 extends rv{}_5.shadowRootOptions={mode:"open"};_5.getTemplateHTML=gqe;_5.getSuffixSlotInnerHTML=vqe;sr.customElements.get("media-settings-menu-item")||sr.customElements.define("media-settings-menu-item",_5);class U1 extends wd{connectedCallback(){super.connectedCallback(),this.invokeTargetElement&&this.setAttribute("aria-haspopup","menu")}get invokeTarget(){return this.getAttribute("invoketarget")}set invokeTarget(e){this.setAttribute("invoketarget",`${e}`)}get invokeTargetElement(){var e;return this.invokeTarget?(e=d5(this))==null?void 0:e.querySelector(`#${this.invokeTarget}`):null}handleClick(){var e;(e=this.invokeTargetElement)==null||e.dispatchEvent(new u6({relatedTarget:this}))}}sr.customElements.get("media-chrome-menu-button")||sr.customElements.define("media-chrome-menu-button",U1);function xqe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">
      <svg aria-hidden="true" viewBox="0 0 24 24">
        <path d="M4.5 14.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Zm7.5 0a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
      </svg>
    </slot>
  `}function yqe(){return pi("Settings")}class x6 extends U1{static get observedAttributes(){return[...super.observedAttributes,"target"]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",pi("settings"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Kh(this).querySelector("media-settings-menu")}}x6.getSlotTemplateHTML=xqe;x6.getTooltipContentHTML=yqe;sr.customElements.get("media-settings-menu-button")||sr.customElements.define("media-settings-menu-button",x6);var y6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Ole=(t,e,r)=>(y6(t,e,"read from private field"),r?r.call(t):e.get(t)),ej=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},a3=(t,e,r,n)=>(y6(t,e,"write to private field"),e.set(t,r),r),tj=(t,e,r)=>(y6(t,e,"access private method"),r),rE,UN,yT,o3,bT,l3;class bqe extends um{constructor(){super(...arguments),ej(this,yT),ej(this,bT),ej(this,rE,[]),ej(this,UN,void 0)}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_AUDIO_TRACK_LIST,ft.MEDIA_AUDIO_TRACK_ENABLED,ft.MEDIA_AUDIO_TRACK_UNAVAILABLE]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_AUDIO_TRACK_ENABLED&&r!==n?this.value=n:e===ft.MEDIA_AUDIO_TRACK_LIST&&r!==n&&(a3(this,rE,nGe(n??"")),tj(this,yT,o3).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",tj(this,bT,l3))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",tj(this,bT,l3))}get anchorElement(){var e;return this.anchor!=="auto"?super.anchorElement:(e=Kh(this))==null?void 0:e.querySelector("media-audio-track-menu-button")}get mediaAudioTrackList(){return Ole(this,rE)}set mediaAudioTrackList(e){a3(this,rE,e),tj(this,yT,o3).call(this)}get mediaAudioTrackEnabled(){var e;return(e=Nl(this,ft.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){kl(this,ft.MEDIA_AUDIO_TRACK_ENABLED,e)}}rE=new WeakMap;UN=new WeakMap;yT=new WeakSet;o3=function(){if(Ole(this,UN)===JSON.stringify(this.mediaAudioTrackList))return;a3(this,UN,JSON.stringify(this.mediaAudioTrackList));const t=this.mediaAudioTrackList;this.defaultSlot.textContent="",t.sort((e,r)=>e.id.localeCompare(r.id,void 0,{numeric:!0}));for(const e of t){const r=this.formatMenuItemText(e.label,e),n=c1({type:"radio",text:r,value:`${e.id}`,checked:e.enabled});n.prepend(Ax(this,"checked-indicator")),this.defaultSlot.append(n)}};bT=new WeakSet;l3=function(){if(this.value==null)return;const t=new sr.CustomEvent(Wn.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};sr.customElements.get("media-audio-track-menu")||sr.customElements.define("media-audio-track-menu",bqe);const wqe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`;function Eqe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${wqe}</slot>
  `}function _qe(){return pi("Audio")}const iY=t=>{const e=pi("Audio");t.setAttribute("aria-label",e)};class b6 extends U1{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_AUDIO_TRACK_ENABLED,ft.MEDIA_AUDIO_TRACK_UNAVAILABLE]}connectedCallback(){super.connectedCallback(),iY(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_LANG&&iY(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Kh(this))==null?void 0:e.querySelector("media-audio-track-menu")}get mediaAudioTrackEnabled(){var e;return(e=Nl(this,ft.MEDIA_AUDIO_TRACK_ENABLED))!=null?e:""}set mediaAudioTrackEnabled(e){kl(this,ft.MEDIA_AUDIO_TRACK_ENABLED,e)}}b6.getSlotTemplateHTML=Eqe;b6.getTooltipContentHTML=_qe;sr.customElements.get("media-audio-track-menu-button")||sr.customElements.define("media-audio-track-menu-button",b6);var w6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Sqe=(t,e,r)=>(w6(t,e,"read from private field"),e.get(t)),yB=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},jqe=(t,e,r,n)=>(w6(t,e,"write to private field"),e.set(t,r),r),rj=(t,e,r)=>(w6(t,e,"access private method"),r),$N,wT,c3,ET,u3;const Tqe=`
  <svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
    <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
  </svg>`;function Cqe(t){return`
    ${um.getTemplateHTML(t)}
    <slot name="captions-indicator" hidden>${Tqe}</slot>
  `}class Rle extends um{constructor(){super(...arguments),yB(this,wT),yB(this,ET),yB(this,$N,void 0)}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_SUBTITLES_LIST,ft.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_SUBTITLES_LIST&&r!==n?rj(this,wT,c3).call(this):e===ft.MEDIA_SUBTITLES_SHOWING&&r!==n&&(this.value=n||"",rj(this,wT,c3).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",rj(this,ET,u3))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",rj(this,ET,u3))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Kh(this).querySelector("media-captions-menu-button")}get mediaSubtitlesList(){return sY(this,ft.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){aY(this,ft.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return sY(this,ft.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){aY(this,ft.MEDIA_SUBTITLES_SHOWING,e)}}$N=new WeakMap;wT=new WeakSet;c3=function(){var t;const e=Sqe(this,$N)!==JSON.stringify(this.mediaSubtitlesList),r=this.value!==this.getAttribute(ft.MEDIA_SUBTITLES_SHOWING);if(!e&&!r)return;jqe(this,$N,JSON.stringify(this.mediaSubtitlesList)),this.defaultSlot.textContent="";const n=!this.value,i=c1({type:"radio",text:this.formatMenuItemText(pi("Off")),value:"off",checked:n});i.prepend(Ax(this,"checked-indicator")),this.defaultSlot.append(i);const a=this.mediaSubtitlesList;for(const o of a){const c=c1({type:"radio",text:this.formatMenuItemText(o.label,o),value:xR(o),checked:this.value==xR(o)});c.prepend(Ax(this,"checked-indicator")),((t=o.kind)!=null?t:"subs")==="captions"&&c.append(Ax(this,"captions-indicator")),this.defaultSlot.append(c)}};ET=new WeakSet;u3=function(){const t=this.mediaSubtitlesShowing,e=this.getAttribute(ft.MEDIA_SUBTITLES_SHOWING),r=this.value!==e;if(t?.length&&r&&this.dispatchEvent(new sr.CustomEvent(Wn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:t})),!this.value||!r)return;const n=new sr.CustomEvent(Wn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};Rle.getTemplateHTML=Cqe;const sY=(t,e)=>{const r=t.getAttribute(e);return r?p5(r):[]},aY=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=S2(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};sr.customElements.get("media-captions-menu")||sr.customElements.define("media-captions-menu",Rle);const Nqe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,kqe=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`;function Lqe(){return`
    <style>
      :host([data-captions-enabled="true"]) slot[name=off] {
        display: none !important;
      }

      
      :host(:not([data-captions-enabled="true"])) slot[name=on] {
        display: none !important;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>

    <slot name="icon">
      <slot name="on">${Nqe}</slot>
      <slot name="off">${kqe}</slot>
    </slot>
  `}function Iqe(){return pi("Captions")}const oY=t=>{t.setAttribute("data-captions-enabled",yoe(t).toString())},lY=t=>{t.setAttribute("aria-label",pi("closed captions"))};class E6 extends U1{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_SUBTITLES_LIST,ft.MEDIA_SUBTITLES_SHOWING,ft.MEDIA_LANG]}connectedCallback(){super.connectedCallback(),lY(this),oY(this)}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_SUBTITLES_SHOWING?oY(this):e===ft.MEDIA_LANG&&lY(this)}get invokeTargetElement(){var e;return this.invokeTarget!=null?super.invokeTargetElement:(e=Kh(this))==null?void 0:e.querySelector("media-captions-menu")}get mediaSubtitlesList(){return cY(this,ft.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){uY(this,ft.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return cY(this,ft.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){uY(this,ft.MEDIA_SUBTITLES_SHOWING,e)}}E6.getSlotTemplateHTML=Lqe;E6.getTooltipContentHTML=Iqe;const cY=(t,e)=>{const r=t.getAttribute(e);return r?p5(r):[]},uY=(t,e,r)=>{if(!r?.length){t.removeAttribute(e);return}const n=S2(r);t.getAttribute(e)!==n&&t.setAttribute(e,n)};sr.customElements.get("media-captions-menu-button")||sr.customElements.define("media-captions-menu-button",E6);var Dle=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},eb=(t,e,r)=>(Dle(t,e,"read from private field"),r?r.call(t):e.get(t)),bB=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ty=(t,e,r)=>(Dle(t,e,"access private method"),r),y0,tb,nE,_T,d3;const wB={RATES:"rates"};class Bqe extends um{constructor(){super(),bB(this,tb),bB(this,_T),bB(this,y0,new IU(this,wB.RATES,{defaultValue:Joe})),Ty(this,tb,nE).call(this)}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PLAYBACK_RATE,wB.RATES]}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_PLAYBACK_RATE&&r!=n?(this.value=n,Ty(this,tb,nE).call(this)):e===wB.RATES&&r!=n&&(eb(this,y0).value=n,Ty(this,tb,nE).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Ty(this,_T,d3))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Ty(this,_T,d3))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Kh(this).querySelector("media-playback-rate-menu-button")}get rates(){return eb(this,y0)}set rates(e){e?Array.isArray(e)?eb(this,y0).value=e.join(" "):typeof e=="string"&&(eb(this,y0).value=e):eb(this,y0).value="",Ty(this,tb,nE).call(this)}get mediaPlaybackRate(){return Tl(this,ft.MEDIA_PLAYBACK_RATE,vb)}set mediaPlaybackRate(e){Fc(this,ft.MEDIA_PLAYBACK_RATE,e)}}y0=new WeakMap;tb=new WeakSet;nE=function(){this.defaultSlot.textContent="";const t=this.mediaPlaybackRate,e=new Set(Array.from(eb(this,y0)).map(n=>Number(n)));t>0&&!e.has(t)&&e.add(t);const r=Array.from(e).sort((n,i)=>n-i);for(const n of r){const i=c1({type:"radio",text:this.formatMenuItemText(`${n}x`,n),value:n.toString(),checked:t===n});i.prepend(Ax(this,"checked-indicator")),this.defaultSlot.append(i)}};_T=new WeakSet;d3=function(){if(!this.value)return;const t=new sr.CustomEvent(Wn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};sr.customElements.get("media-playback-rate-menu")||sr.customElements.define("media-playback-rate-menu",Bqe);const ST=1;function Pqe(t){return`
    <style>
      :host {
        min-width: 5ch;
        padding: var(--media-button-padding, var(--media-control-padding, 10px 5px));
      }
      
      :host([aria-expanded="true"]) slot {
        display: block;
      }

      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${t.mediaplaybackrate||ST}x</slot>
  `}function Oqe(){return pi("Playback rate")}class _6 extends U1{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_PLAYBACK_RATE]}constructor(){var e;super(),this.container=this.shadowRoot.querySelector('slot[name="icon"]'),this.container.innerHTML=`${(e=this.mediaPlaybackRate)!=null?e:ST}x`}attributeChangedCallback(e,r,n){if(super.attributeChangedCallback(e,r,n),e===ft.MEDIA_PLAYBACK_RATE){const i=n?+n:Number.NaN,a=Number.isNaN(i)?ST:i;this.container.innerHTML=`${a}x`,this.setAttribute("aria-label",pi("Playback rate {playbackRate}",{playbackRate:a}))}}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Kh(this).querySelector("media-playback-rate-menu")}get mediaPlaybackRate(){return Tl(this,ft.MEDIA_PLAYBACK_RATE,ST)}set mediaPlaybackRate(e){Fc(this,ft.MEDIA_PLAYBACK_RATE,e)}}_6.getSlotTemplateHTML=Pqe;_6.getTooltipContentHTML=Oqe;sr.customElements.get("media-playback-rate-menu-button")||sr.customElements.define("media-playback-rate-menu-button",_6);var S6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},iE=(t,e,r)=>(S6(t,e,"read from private field"),r?r.call(t):e.get(t)),nj=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},dY=(t,e,r,n)=>(S6(t,e,"write to private field"),e.set(t,r),r),Cy=(t,e,r)=>(S6(t,e,"access private method"),r),sE,xb,rb,aE,jT,h3;class Rqe extends um{constructor(){super(...arguments),nj(this,rb),nj(this,jT),nj(this,sE,[]),nj(this,xb,{})}static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_RENDITION_LIST,ft.MEDIA_RENDITION_SELECTED,ft.MEDIA_RENDITION_UNAVAILABLE,ft.MEDIA_HEIGHT]}static formatMenuItemText(e,r){return super.formatMenuItemText(e,r)}static formatRendition(e,{showBitrate:r=!1}={}){const n=`${Math.min(e.width,e.height)}p`;if(r&&e.bitrate){const i=e.bitrate/1e6,a=`${i.toFixed(i<1?1:0)} Mbps`;return`${n} (${a})`}return this.formatMenuItemText(n,e)}static compareRendition(e,r){var n,i;return r.height===e.height?((n=r.bitrate)!=null?n:0)-((i=e.bitrate)!=null?i:0):r.height-e.height}attributeChangedCallback(e,r,n){super.attributeChangedCallback(e,r,n),e===ft.MEDIA_RENDITION_SELECTED&&r!==n?(this.value=n??"auto",Cy(this,rb,aE).call(this)):e===ft.MEDIA_RENDITION_LIST&&r!==n?(dY(this,sE,JKe(n)),Cy(this,rb,aE).call(this)):e===ft.MEDIA_HEIGHT&&r!==n&&Cy(this,rb,aE).call(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Cy(this,jT,h3))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Cy(this,jT,h3))}get anchorElement(){return this.anchor!=="auto"?super.anchorElement:Kh(this).querySelector("media-rendition-menu-button")}get mediaRenditionList(){return iE(this,sE)}set mediaRenditionList(e){dY(this,sE,e),Cy(this,rb,aE).call(this)}get mediaRenditionSelected(){return Nl(this,ft.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){kl(this,ft.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Tl(this,ft.MEDIA_HEIGHT)}set mediaHeight(e){Fc(this,ft.MEDIA_HEIGHT,e)}compareRendition(e,r){return this.constructor.compareRendition(e,r)}formatMenuItemText(e,r){return this.constructor.formatMenuItemText(e,r)}formatRendition(e,r){return this.constructor.formatRendition(e,r)}showRenditionBitrate(e){return this.mediaRenditionList.some(r=>r!==e&&r.height===e.height&&r.bitrate!==e.bitrate)}}sE=new WeakMap;xb=new WeakMap;rb=new WeakSet;aE=function(){if(iE(this,xb).mediaRenditionList===JSON.stringify(this.mediaRenditionList)&&iE(this,xb).mediaHeight===this.mediaHeight)return;iE(this,xb).mediaRenditionList=JSON.stringify(this.mediaRenditionList),iE(this,xb).mediaHeight=this.mediaHeight;const t=this.mediaRenditionList.sort(this.compareRendition.bind(this)),e=t.find(o=>o.id===this.mediaRenditionSelected);for(const o of t)o.selected=o===e;this.defaultSlot.textContent="";const r=!this.mediaRenditionSelected;for(const o of t){const c=this.formatRendition(o,{showBitrate:this.showRenditionBitrate(o)}),u=c1({type:"radio",text:c,value:`${o.id}`,checked:o.selected&&!r});u.prepend(Ax(this,"checked-indicator")),this.defaultSlot.append(u)}const n=e&&this.showRenditionBitrate(e),i=r?e?this.formatMenuItemText(`${pi("Auto")}  ${this.formatRendition(e,{showBitrate:n})}`,e):this.formatMenuItemText(`${pi("Auto")} (${this.mediaHeight}p)`):this.formatMenuItemText(pi("Auto")),a=c1({type:"radio",text:i,value:"auto",checked:r});a.dataset.description=i,a.prepend(Ax(this,"checked-indicator")),this.defaultSlot.append(a)};jT=new WeakSet;h3=function(){if(this.value==null)return;const t=new sr.CustomEvent(Wn.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(t)};sr.customElements.get("media-rendition-menu")||sr.customElements.define("media-rendition-menu",Rqe);const Dqe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`;function Mqe(){return`
    <style>
      :host([aria-expanded="true"]) slot[name=tooltip] {
        display: none;
      }
    </style>
    <slot name="icon">${Dqe}</slot>
  `}function Fqe(){return pi("Quality")}class j6 extends U1{static get observedAttributes(){return[...super.observedAttributes,ft.MEDIA_RENDITION_SELECTED,ft.MEDIA_RENDITION_UNAVAILABLE,ft.MEDIA_HEIGHT]}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-label",pi("quality"))}get invokeTargetElement(){return this.invokeTarget!=null?super.invokeTargetElement:Kh(this).querySelector("media-rendition-menu")}get mediaRenditionSelected(){return Nl(this,ft.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){kl(this,ft.MEDIA_RENDITION_SELECTED,e)}get mediaHeight(){return Tl(this,ft.MEDIA_HEIGHT)}set mediaHeight(e){Fc(this,ft.MEDIA_HEIGHT,e)}}j6.getSlotTemplateHTML=Mqe;j6.getTooltipContentHTML=Fqe;sr.customElements.get("media-rendition-menu-button")||sr.customElements.define("media-rendition-menu-button",j6);var T6=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},IA=(t,e,r)=>(T6(t,e,"read from private field"),r?r.call(t):e.get(t)),gA=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Mle=(t,e,r,n)=>(T6(t,e,"write to private field"),e.set(t,r),r),qf=(t,e,r)=>(T6(t,e,"access private method"),r),d1,P2,S5,Qv,yb,C6,Fle,TT,f3,CT,m3,Ule,HN,QN,NT;function Uqe(t){return`
      ${um.getTemplateHTML(t)}
      <style>
        :host {
          --_menu-bg: rgb(20 20 30 / .8);
          background: var(--media-settings-menu-background,
            var(--media-menu-background,
              var(--media-control-background,
                var(--media-secondary-color, var(--_menu-bg)))));
          min-width: var(--media-settings-menu-min-width, 170px);
          border-radius: 2px;
          overflow: hidden;
        }
      </style>
    `}class $le extends um{constructor(){super(),gA(this,P2),gA(this,Qv),gA(this,C6),gA(this,TT),gA(this,m3),gA(this,d1,!1),gA(this,CT,e=>{const r=e.target,n=r?.nodeName==="VIDEO",i=qf(this,TT,f3).call(this,r);(n||i)&&(IA(this,d1)?qf(this,Qv,yb).call(this):qf(this,m3,Ule).call(this,e))}),gA(this,HN,e=>{const r=e.target,n=this.contains(r),i=e.button===2,a=r?.nodeName==="VIDEO",o=qf(this,TT,f3).call(this,r);n||i&&(a||o)||qf(this,Qv,yb).call(this)}),gA(this,QN,e=>{e.key==="Escape"&&qf(this,Qv,yb).call(this)}),gA(this,NT,e=>{var r,n;const i=e.target;if((r=i.matches)!=null&&r.call(i,'button[invoke="copy"]')){const a=(n=i.closest("media-context-menu-item"))==null?void 0:n.querySelector('input[slot="copy"]');a&&navigator.clipboard.writeText(a.value)}qf(this,Qv,yb).call(this)}),this.setAttribute("noautohide",""),qf(this,P2,S5).call(this)}connectedCallback(){super.connectedCallback(),Kh(this).addEventListener("contextmenu",IA(this,CT)),this.addEventListener("click",IA(this,NT))}disconnectedCallback(){super.disconnectedCallback(),Kh(this).removeEventListener("contextmenu",IA(this,CT)),this.removeEventListener("click",IA(this,NT)),document.removeEventListener("mousedown",IA(this,HN)),document.removeEventListener("keydown",IA(this,QN))}}d1=new WeakMap;P2=new WeakSet;S5=function(){this.hidden=!IA(this,d1)};Qv=new WeakSet;yb=function(){Mle(this,d1,!1),qf(this,P2,S5).call(this)};C6=new WeakSet;Fle=function(){document.querySelectorAll("media-context-menu").forEach(e=>{var r;e!==this&&qf(r=e,Qv,yb).call(r)})};TT=new WeakSet;f3=function(t){return t?t.hasAttribute("slot")&&t.getAttribute("slot")==="media"?!0:t.nodeName.includes("-")&&t.tagName.includes("-")?t.hasAttribute("src")||t.hasAttribute("poster")||t.hasAttribute("preload")||t.hasAttribute("playsinline"):!1:!1};CT=new WeakMap;m3=new WeakSet;Ule=function(t){t.preventDefault(),qf(this,C6,Fle).call(this),Mle(this,d1,!0),this.style.position="fixed",this.style.left=`${t.clientX}px`,this.style.top=`${t.clientY}px`,qf(this,P2,S5).call(this),document.addEventListener("mousedown",IA(this,HN),{once:!0}),document.addEventListener("keydown",IA(this,QN),{once:!0})};HN=new WeakMap;QN=new WeakMap;NT=new WeakMap;$le.getTemplateHTML=Uqe;sr.customElements.get("media-context-menu")||sr.customElements.define("media-context-menu",$le);function $qe(t){return`
    ${rv.getTemplateHTML.call(this,t)}
    <style>
        ::slotted(*) {
            color: var(--media-text-color, white);
            text-decoration: none;
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;
            min-height: var(--media-control-height, 24px);
        }
    </style>
  `}class N6 extends rv{}N6.shadowRootOptions={mode:"open"};N6.getTemplateHTML=$qe;sr.customElements.get("media-context-menu-item")||sr.customElements.define("media-context-menu-item",N6);var Hle=t=>{throw TypeError(t)},k6=(t,e,r)=>e.has(t)||Hle("Cannot "+r),Fo=(t,e,r)=>(k6(t,e,"read from private field"),r?r.call(t):e.get(t)),Bm=(t,e,r)=>e.has(t)?Hle("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),GA=(t,e,r,n)=>(k6(t,e,"write to private field"),e.set(t,r),r),xu=(t,e,r)=>(k6(t,e,"access private method"),r),j5=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends j5{}globalThis.DocumentFragment=t}var L6=class extends j5{},Hqe=class extends j5{},Qqe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(L6)}},kT,zqe=class{constructor(e,r={}){Bm(this,kT),GA(this,kT,r?.detail)}get detail(){return Fo(this,kT)}initCustomEvent(){}};kT=new WeakMap;function Vqe(t,e){return new L6}var Qle={document:{createElement:Vqe},DocumentFragment,customElements:Qqe,CustomEvent:zqe,EventTarget:j5,HTMLElement:L6,HTMLVideoElement:Hqe},zle=typeof window>"u"||typeof globalThis.customElements>"u",RA=zle?Qle:globalThis,zN=zle?Qle.document:globalThis.document;function Kqe(t){let e="";return Object.entries(t).forEach(([r,n])=>{n!=null&&(e+=`${A3(r)}: ${n}; `)}),e?e.trim():void 0}function A3(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vle(t){return t.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function mf(t){if(t==null)return;let e=+t;return Number.isNaN(e)?void 0:e}function Kle(t){let e=Gqe(t).toString();return e?"?"+e:""}function Gqe(t){let e={};for(let r in t)t[r]!=null&&(e[r]=t[r]);return new URLSearchParams(e)}var Gle=(t,e)=>!t||!e?!1:t.contains(e)?!0:Gle(t,e.getRootNode().host),Wle="mux.com",Wqe=()=>{try{return"3.11.4"}catch{}return"UNKNOWN"},Yqe=Wqe(),Yle=()=>Yqe,qqe=(t,{token:e,customDomain:r=Wle,thumbnailTime:n,programTime:i}={})=>{var a;let o=e==null?n:void 0,{aud:c}=(a=Ib(e))!=null?a:{};if(!(e&&c!=="t"))return`https://image.${r}/${t}/thumbnail.webp${Kle({token:e,time:o,program_time:i})}`},Xqe=(t,{token:e,customDomain:r=Wle,programStartTime:n,programEndTime:i}={})=>{var a;let{aud:o}=(a=Ib(e))!=null?a:{};if(!(e&&o!=="s"))return`https://image.${r}/${t}/storyboard.vtt${Kle({token:e,format:"webp",program_start_time:n,program_end_time:i})}`},I6=t=>{if(t){if([Lo.LIVE,Lo.ON_DEMAND].includes(t))return t;if(t!=null&&t.includes("live"))return Lo.LIVE}},Zqe={crossorigin:"crossOrigin",playsinline:"playsInline"};function Jqe(t){var e;return(e=Zqe[t])!=null?e:Vle(t)}var nb,ib,Fh,eXe=class{constructor(e,r){Bm(this,nb),Bm(this,ib),Bm(this,Fh,[]),GA(this,nb,e),GA(this,ib,r)}[Symbol.iterator](){return Fo(this,Fh).values()}get length(){return Fo(this,Fh).length}get value(){var e;return(e=Fo(this,Fh).join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(GA(this,Fh,[]),this.add(...(r=e?.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return Fo(this,Fh)[e]}values(){return Fo(this,Fh).values()}keys(){return Fo(this,Fh).keys()}forEach(e){Fo(this,Fh).forEach(e)}add(...e){var r,n;e.forEach(i=>{this.contains(i)||Fo(this,Fh).push(i)}),!(this.value===""&&!((r=Fo(this,nb))!=null&&r.hasAttribute(`${Fo(this,ib)}`)))&&((n=Fo(this,nb))==null||n.setAttribute(`${Fo(this,ib)}`,`${this.value}`))}remove(...e){var r;e.forEach(n=>{Fo(this,Fh).splice(Fo(this,Fh).indexOf(n),1)}),(r=Fo(this,nb))==null||r.setAttribute(`${Fo(this,ib)}`,`${this.value}`)}contains(e){return Fo(this,Fh).includes(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){this.remove(e),this.add(r)}};nb=new WeakMap,ib=new WeakMap,Fh=new WeakMap;var qle=`[mux-player ${Yle()}]`;function Dp(...t){console.warn(qle,...t)}function gf(...t){console.error(qle,...t)}function Xle(t){var e;let r=(e=t.message)!=null?e:"";t.context&&(r+=` ${t.context}`),t.file&&(r+=` ${Ki("Read more: ")}
https://github.com/muxinc/elements/blob/main/errors/${t.file}`),Dp(r)}var th={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},Dv={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},hY=Object.freeze({length:0,start(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(t){let e=t>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),tXe=Object.values(th).filter(t=>th.PLAYSINLINE!==t),rXe=Object.values(Dv),nXe=[...tXe,...rXe],iXe=class extends RA.HTMLElement{static get observedAttributes(){return nXe}constructor(){super()}attributeChangedCallback(t,e,r){var n,i;switch(t){case Dv.MUTED:{this.media&&(this.media.muted=r!=null,this.media.defaultMuted=r!=null);return}case Dv.VOLUME:{let a=(n=mf(r))!=null?n:1;this.media&&(this.media.volume=a);return}case Dv.PLAYBACKRATE:{let a=(i=mf(r))!=null?i:1;this.media&&(this.media.playbackRate=a,this.media.defaultPlaybackRate=a);return}}}play(){var t,e;return(e=(t=this.media)==null?void 0:t.play())!=null?e:Promise.reject()}pause(){var t;(t=this.media)==null||t.pause()}load(){var t;(t=this.media)==null||t.load()}get media(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var t,e;return(e=(t=this.media)==null?void 0:t.paused)!=null?e:!0}get duration(){var t,e;return(e=(t=this.media)==null?void 0:t.duration)!=null?e:NaN}get ended(){var t,e;return(e=(t=this.media)==null?void 0:t.ended)!=null?e:!1}get buffered(){var t,e;return(e=(t=this.media)==null?void 0:t.buffered)!=null?e:hY}get seekable(){var t,e;return(e=(t=this.media)==null?void 0:t.seekable)!=null?e:hY}get readyState(){var t,e;return(e=(t=this.media)==null?void 0:t.readyState)!=null?e:0}get videoWidth(){var t,e;return(e=(t=this.media)==null?void 0:t.videoWidth)!=null?e:0}get videoHeight(){var t,e;return(e=(t=this.media)==null?void 0:t.videoHeight)!=null?e:0}get currentSrc(){var t,e;return(e=(t=this.media)==null?void 0:t.currentSrc)!=null?e:""}get currentTime(){var t,e;return(e=(t=this.media)==null?void 0:t.currentTime)!=null?e:0}set currentTime(t){this.media&&(this.media.currentTime=Number(t))}get volume(){var t,e;return(e=(t=this.media)==null?void 0:t.volume)!=null?e:1}set volume(t){this.media&&(this.media.volume=Number(t))}get playbackRate(){var t,e;return(e=(t=this.media)==null?void 0:t.playbackRate)!=null?e:1}set playbackRate(t){this.media&&(this.media.playbackRate=Number(t))}get defaultPlaybackRate(){var t;return(t=mf(this.getAttribute(Dv.PLAYBACKRATE)))!=null?t:1}set defaultPlaybackRate(t){t!=null?this.setAttribute(Dv.PLAYBACKRATE,`${t}`):this.removeAttribute(Dv.PLAYBACKRATE)}get crossOrigin(){return Tw(this,th.CROSSORIGIN)}set crossOrigin(t){this.setAttribute(th.CROSSORIGIN,`${t}`)}get autoplay(){return Tw(this,th.AUTOPLAY)!=null}set autoplay(t){t?this.setAttribute(th.AUTOPLAY,typeof t=="string"?t:""):this.removeAttribute(th.AUTOPLAY)}get loop(){return Tw(this,th.LOOP)!=null}set loop(t){t?this.setAttribute(th.LOOP,""):this.removeAttribute(th.LOOP)}get muted(){var t,e;return(e=(t=this.media)==null?void 0:t.muted)!=null?e:!1}set muted(t){this.media&&(this.media.muted=!!t)}get defaultMuted(){return Tw(this,th.MUTED)!=null}set defaultMuted(t){t?this.setAttribute(th.MUTED,""):this.removeAttribute(th.MUTED)}get playsInline(){return Tw(this,th.PLAYSINLINE)!=null}set playsInline(t){gf("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(t){["","none","metadata","auto"].includes(t)?this.setAttribute(th.PRELOAD,t):this.removeAttribute(th.PRELOAD)}};function Tw(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var fY=iXe,sXe=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-menu-button-display: var(--captions-menu-button, var(--media-captions-button-display));
  --media-rendition-menu-button-display: var(--rendition-menu-button);
  --media-audio-track-menu-button-display: var(--audio-track-menu-button);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button, var(--_cast-button-drm-display));
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-playback-rate-menu-button-display: var(--playback-rate-menu-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  line-height: 0;
  width: 100%;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  display: inline-block;
  line-height: 0;
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--top-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--top-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--top-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --captions-menu-button,
    var(--media-playback-rate-button-display, var(--top-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--center-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--center-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--center-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--center-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-menu-button-display: var(
    --captions-menu-button,
    var(--media-captions-button-display, var(--bottom-captions-menu-button))
  );
  --media-rendition-menu-button-display: var(--rendition-menu-button, var(--bottom-rendition-menu-button));
  --media-audio-track-menu-button-display: var(--audio-track-menu-button, var(--bottom-audio-track-menu-button));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button, var(--_cast-button-drm-display)));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-playback-rate-menu-button-display: var(
    --playback-rate-menu-button,
    var(--media-playback-rate-button-display, var(--bottom-playback-rate-menu-button))
  );
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}

:host([no-tooltips]) {
  --media-tooltip-display: none;
}
`,Cw=new WeakMap,aXe=class Zle{constructor(e,r){this.element=e,this.type=r,this.element.addEventListener(this.type,this);let n=Cw.get(this.element);n&&n.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let r=Cw.get(this.element);r&&r.delete(this.type)}}static for(e){Cw.has(e.element)||Cw.set(e.element,new Map);let r=e.attributeName.slice(2),n=Cw.get(e.element);return n&&n.has(r)?n.get(r):new Zle(e.element,r)}};function oXe(t,e){return t instanceof Hm&&t.attributeName.startsWith("on")?(aXe.for(t).set(e),t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),!0):!1}function lXe(t,e){return e instanceof Jle&&t instanceof F1?(e.renderInto(t),!0):!1}function cXe(t,e){return e instanceof DocumentFragment&&t instanceof F1?(e.childNodes.length&&t.replace(...e.childNodes),!0):!1}function uXe(t,e){if(t instanceof Hm){let r=t.attributeNamespace,n=t.element.getAttributeNS(r,t.attributeName);return String(e)!==n&&(t.value=String(e)),!0}return t.value=String(e),!0}function dXe(t,e){if(t instanceof Hm&&e instanceof Element){let r=t.element;return r[t.attributeName]!==e&&(t.element.removeAttributeNS(t.attributeNamespace,t.attributeName),r[t.attributeName]=e),!0}return!1}function hXe(t,e){if(typeof e=="boolean"&&t instanceof Hm){let r=t.attributeNamespace,n=t.element.hasAttributeNS(r,t.attributeName);return e!==n&&(t.booleanValue=e),!0}return!1}function fXe(t,e){return e===!1&&t instanceof F1?(t.replace(""),!0):!1}function mXe(t,e){dXe(t,e)||hXe(t,e)||oXe(t,e)||fXe(t,e)||lXe(t,e)||cXe(t,e)||uXe(t,e)}var EB=new Map,mY=new WeakMap,AY=new WeakMap,Jle=class{constructor(e,r,n){this.strings=e,this.values=r,this.processor=n,this.stringsKey=this.strings.join("")}get template(){if(EB.has(this.stringsKey))return EB.get(this.stringsKey);{let e=zN.createElement("template"),r=this.strings.length-1;return e.innerHTML=this.strings.reduce((n,i,a)=>n+i+(a<r?`{{ ${a} }}`:""),""),EB.set(this.stringsKey,e),e}}renderInto(e){var r;let n=this.template;if(mY.get(e)!==n){mY.set(e,n);let a=new w5(n,this.values,this.processor);AY.set(e,a),e instanceof F1?e.replace(...a.children):e.appendChild(a);return}let i=AY.get(e);(r=i?.update)==null||r.call(i,this.values)}},AXe={processCallback(t,e,r){var n;if(r){for(let[i,a]of e)if(i in r){let o=(n=r[i])!=null?n:"";mXe(a,o)}}}};function LT(t,...e){return new Jle(t,e,AXe)}function pXe(t,e){t.renderInto(e)}var gXe=t=>{let{tokens:e}=t;return e.drm?":host(:not([cast-receiver])) { --_cast-button-drm-display: none; }":""},vXe=t=>LT`
  <style>
    ${gXe(t)}
    ${sXe}
  </style>
  ${wXe(t)}
`,xXe=t=>{let e=t.hotKeys?`${t.hotKeys}`:"";return I6(t.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},yXe={TOP:"top",CENTER:"center",BOTTOM:"bottom",LAYER:"layer",MEDIA_LAYER:"media-layer",POSTER_LAYER:"poster-layer",VERTICAL_LAYER:"vertical-layer",CENTERED_LAYER:"centered-layer",GESTURE_LAYER:"gesture-layer",CONTROLLER_LAYER:"controller",BUTTON:"button",RANGE:"range",THUMB:"thumb",DISPLAY:"display",CONTROL_BAR:"control-bar",MENU_BUTTON:"menu-button",MENU:"menu",MENU_ITEM:"menu-item",OPTION:"option",POSTER:"poster",LIVE:"live",PLAY:"play",PRE_PLAY:"pre-play",SEEK_BACKWARD:"seek-backward",SEEK_FORWARD:"seek-forward",MUTE:"mute",CAPTIONS:"captions",AIRPLAY:"airplay",PIP:"pip",FULLSCREEN:"fullscreen",CAST:"cast",PLAYBACK_RATE:"playback-rate",VOLUME:"volume",TIME:"time",TITLE:"title",AUDIO_TRACK:"audio-track",RENDITION:"rendition"},bXe=Object.values(yXe).join(", "),wXe=t=>{var e,r,n,i,a,o,c,u,l,d,f,m,p,g,x,y,w,E,_,N,C,I,D,M,Y,X,te,de,ye,we,ve,ne,ae,oe,Re,Pe,be,he,Ie;return LT`
  <media-theme
    template="${t.themeTemplate||!1}"
    defaultstreamtype="${(e=t.defaultStreamType)!=null?e:!1}"
    hotkeys="${xXe(t)||!1}"
    nohotkeys="${t.noHotKeys||!t.hasSrc||!1}"
    noautoseektolive="${!!((r=t.streamType)!=null&&r.includes(Lo.LIVE))&&t.targetLiveWindow!==0}"
    novolumepref="${t.novolumepref||!1}"
    nomutedpref="${t.nomutedpref||!1}"
    disabled="${!t.hasSrc||t.isDialogOpen}"
    audio="${(n=t.audio)!=null?n:!1}"
    style="${(i=Kqe({"--media-primary-color":t.primaryColor,"--media-secondary-color":t.secondaryColor,"--media-accent-color":t.accentColor}))!=null?i:!1}"
    defaultsubtitles="${!t.defaultHiddenCaptions}"
    forwardseekoffset="${(a=t.forwardSeekOffset)!=null?a:!1}"
    backwardseekoffset="${(o=t.backwardSeekOffset)!=null?o:!1}"
    playbackrates="${(c=t.playbackRates)!=null?c:!1}"
    defaultshowremainingtime="${(u=t.defaultShowRemainingTime)!=null?u:!1}"
    defaultduration="${(l=t.defaultDuration)!=null?l:!1}"
    hideduration="${(d=t.hideDuration)!=null?d:!1}"
    title="${(f=t.title)!=null?f:!1}"
    videotitle="${(m=t.videoTitle)!=null?m:!1}"
    proudlydisplaymuxbadge="${(p=t.proudlyDisplayMuxBadge)!=null?p:!1}"
    exportparts="${bXe}"
    onclose="${t.onCloseErrorDialog}"
    onfocusin="${t.onFocusInErrorDialog}"
  >
    <mux-video
      slot="media"
      inert="${(g=t.noHotKeys)!=null?g:!1}"
      target-live-window="${(x=t.targetLiveWindow)!=null?x:!1}"
      stream-type="${(y=I6(t.streamType))!=null?y:!1}"
      crossorigin="${(w=t.crossOrigin)!=null?w:""}"
      playsinline
      autoplay="${(E=t.autoplay)!=null?E:!1}"
      muted="${(_=t.muted)!=null?_:!1}"
      loop="${(N=t.loop)!=null?N:!1}"
      preload="${(C=t.preload)!=null?C:!1}"
      debug="${(I=t.debug)!=null?I:!1}"
      prefer-cmcd="${(D=t.preferCmcd)!=null?D:!1}"
      disable-tracking="${(M=t.disableTracking)!=null?M:!1}"
      disable-cookies="${(Y=t.disableCookies)!=null?Y:!1}"
      prefer-playback="${(X=t.preferPlayback)!=null?X:!1}"
      start-time="${t.startTime!=null?t.startTime:!1}"
      beacon-collection-domain="${(te=t.beaconCollectionDomain)!=null?te:!1}"
      player-init-time="${(de=t.playerInitTime)!=null?de:!1}"
      player-software-name="${(ye=t.playerSoftwareName)!=null?ye:!1}"
      player-software-version="${(we=t.playerSoftwareVersion)!=null?we:!1}"
      env-key="${(ve=t.envKey)!=null?ve:!1}"
      custom-domain="${(ne=t.customDomain)!=null?ne:!1}"
      src="${t.src?t.src:t.playbackId?tR(t):!1}"
      cast-src="${t.src?t.src:t.playbackId?tR(t):!1}"
      cast-receiver="${(ae=t.castReceiver)!=null?ae:!1}"
      drm-token="${(Re=(oe=t.tokens)==null?void 0:oe.drm)!=null?Re:!1}"
      exportparts="video"
      disable-pseudo-ended="${(Pe=t.disablePseudoEnded)!=null?Pe:!1}"
      max-auto-resolution="${(be=t.maxAutoResolution)!=null?be:!1}"
      cap-rendition-to-player-size="${(he=t.capRenditionToPlayerSize)!=null?he:!1}"
    >
      ${t.storyboard?LT`<track label="thumbnails" default kind="metadata" src="${t.storyboard}" />`:LT``}
      <slot></slot>
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${t.poster?t.poster:!1}"
        placeholdersrc="${(Ie=t.placeholder)!=null?Ie:!1}"
      ></media-poster-image>
    </slot>
  </media-theme>
`},ece=t=>t.charAt(0).toUpperCase()+t.slice(1),EXe=(t,e=!1)=>{var r,n;if(t.muxCode){let i=ece((r=t.errorCategory)!=null?r:"video"),a=a5((n=t.errorCategory)!=null?n:jl.VIDEO);if(t.muxCode===ts.NETWORK_OFFLINE)return Ki("Your device appears to be offline",e);if(t.muxCode===ts.NETWORK_TOKEN_EXPIRED)return Ki("{category} URL has expired",e).format({category:i});if([ts.NETWORK_TOKEN_SUB_MISMATCH,ts.NETWORK_TOKEN_AUD_MISMATCH,ts.NETWORK_TOKEN_AUD_MISSING,ts.NETWORK_TOKEN_MALFORMED].includes(t.muxCode))return Ki("{category} URL is formatted incorrectly",e).format({category:i});if(t.muxCode===ts.NETWORK_TOKEN_MISSING)return Ki("Invalid {categoryName} URL",e).format({categoryName:a});if(t.muxCode===ts.NETWORK_NOT_FOUND)return Ki("{category} does not exist",e).format({category:i});if(t.muxCode===ts.NETWORK_NOT_READY){let o=t.streamType==="live"?"Live stream":"Video";return Ki("{mediaType} is not currently available",e).format({mediaType:o})}}if(t.code){if(t.code===si.MEDIA_ERR_NETWORK)return Ki("Network Error",e);if(t.code===si.MEDIA_ERR_DECODE)return Ki("Media Error",e);if(t.code===si.MEDIA_ERR_SRC_NOT_SUPPORTED)return Ki("Source Not Supported",e)}return Ki("Error",e)},_Xe=(t,e=!1)=>{var r,n;if(t.muxCode){let i=ece((r=t.errorCategory)!=null?r:"video"),a=a5((n=t.errorCategory)!=null?n:jl.VIDEO);return t.muxCode===ts.NETWORK_OFFLINE?Ki("Check your internet connection and try reloading this video.",e):t.muxCode===ts.NETWORK_TOKEN_EXPIRED?Ki("The videos secured {tokenNamePrefix}-token has expired.",e).format({tokenNamePrefix:a}):t.muxCode===ts.NETWORK_TOKEN_SUB_MISMATCH?Ki("The videos playback ID does not match the one encoded in the {tokenNamePrefix}-token.",e).format({tokenNamePrefix:a}):t.muxCode===ts.NETWORK_TOKEN_MALFORMED?Ki("{category} URL is formatted incorrectly",e).format({category:i}):[ts.NETWORK_TOKEN_AUD_MISMATCH,ts.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode)?Ki("The {tokenNamePrefix}-token is formatted with incorrect information.",e).format({tokenNamePrefix:a}):[ts.NETWORK_TOKEN_MISSING,ts.NETWORK_INVALID_URL].includes(t.muxCode)?Ki("The video URL or {tokenNamePrefix}-token are formatted with incorrect or incomplete information.",e).format({tokenNamePrefix:a}):t.muxCode===ts.NETWORK_NOT_FOUND?"":t.message}return t.code&&(t.code===si.MEDIA_ERR_NETWORK||t.code===si.MEDIA_ERR_DECODE||(t.code,si.MEDIA_ERR_SRC_NOT_SUPPORTED)),t.message},SXe=(t,e=!1)=>{let r=EXe(t,e).toString(),n=_Xe(t,e).toString();return{title:r,message:n}},jXe=t=>{if(t.muxCode){if(t.muxCode===ts.NETWORK_TOKEN_EXPIRED)return"403-expired-token.md";if(t.muxCode===ts.NETWORK_TOKEN_MALFORMED)return"403-malformatted-token.md";if([ts.NETWORK_TOKEN_AUD_MISMATCH,ts.NETWORK_TOKEN_AUD_MISSING].includes(t.muxCode))return"403-incorrect-aud-value.md";if(t.muxCode===ts.NETWORK_TOKEN_SUB_MISMATCH)return"403-playback-id-mismatch.md";if(t.muxCode===ts.NETWORK_TOKEN_MISSING)return"missing-signed-tokens.md";if(t.muxCode===ts.NETWORK_NOT_FOUND)return"404-not-found.md";if(t.muxCode===ts.NETWORK_NOT_READY)return"412-not-playable.md"}if(t.code){if(t.code===si.MEDIA_ERR_NETWORK)return"";if(t.code===si.MEDIA_ERR_DECODE)return"media-decode-error.md";if(t.code===si.MEDIA_ERR_SRC_NOT_SUPPORTED)return"media-src-not-supported.md"}return""},pY=(t,e)=>{let r=jXe(t);return{message:t.message,context:t.context,file:r}},TXe=`<template id="media-theme-gerwig">
  <style>
    @keyframes pre-play-hide {
      0% {
        transform: scale(1);
        opacity: 1;
      }

      30% {
        transform: scale(0.7);
      }

      100% {
        transform: scale(1.5);
        opacity: 0;
      }
    }

    :host {
      --_primary-color: var(--media-primary-color, #fff);
      --_secondary-color: var(--media-secondary-color, transparent);
      --_accent-color: var(--media-accent-color, #fa50b5);
      --_text-color: var(--media-text-color, #000);

      --media-icon-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_accent-color);
      --media-time-buffered-color: rgba(255, 255, 255, 0.4);
      --media-preview-time-text-shadow: none;
      --media-control-height: 14px;
      --media-control-padding: 6px;
      --media-tooltip-container-margin: 6px;
      --media-tooltip-distance: 18px;

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --_secondary-color: var(--media-secondary-color, black);
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
      background-color: var(--media-control-background);
    }

    /*
     * 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast.
     */
    media-controller {
      --media-webkit-text-track-transform: translateY(0) scale(0.98);
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused], :not([userinactive])) {
      --media-webkit-text-track-transform: translateY(-50px) scale(0.98);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    /*
     * CSS specific to iOS devices.
     * See: https://stackoverflow.com/questions/30102792/css-media-query-to-target-only-ios-devices/60220757#60220757
     */
    @supports (-webkit-touch-callout: none) {
      /* Disable subtitle adjusting for iOS Safari */
      media-controller[mediaisfullscreen] {
        --media-webkit-text-track-transform: unset;
        --media-webkit-text-track-transition: unset;
      }
    }

    media-time-range {
      --media-box-padding-left: 6px;
      --media-box-padding-right: 6px;
      --media-range-bar-color: var(--_accent-color);
      --media-time-range-buffered-color: var(--_primary-color);
      --media-range-track-color: transparent;
      --media-range-track-background: rgba(255, 255, 255, 0.4);
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_accent-color) 25%,
        var(--_accent-color)
      );
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-transform: scale(0);
      --media-range-thumb-transition: transform 0.3s;
      --media-range-thumb-opacity: 1;
      --media-preview-background: var(--_primary-color);
      --media-box-arrow-background: var(--_primary-color);
      --media-preview-thumbnail-border: 5px solid var(--_primary-color);
      --media-preview-border-radius: 5px;
      --media-text-color: var(--_text-color);
      --media-control-hover-background: transparent;
      --media-preview-chapter-text-shadow: none;
      color: var(--_accent-color);
      padding: 0 6px;
    }

    :host([audio]) media-time-range {
      --media-preview-time-padding: 1.5px 6px;
      --media-preview-box-margin: 0 0 -5px;
    }

    media-time-range:hover {
      --media-range-thumb-transform: scale(1);
    }

    media-preview-thumbnail {
      border-bottom-width: 0;
    }

    [part~='menu'] {
      border-radius: 2px;
      border: 1px solid rgba(0, 0, 0, 0.1);
      bottom: 50px;
      padding: 2.5px 10px;
    }

    [part~='menu']::part(indicator) {
      fill: var(--_accent-color);
    }

    [part~='menu']::part(menu-item) {
      box-sizing: border-box;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      min-height: 34px;
    }

    [part~='menu']::part(checked) {
      font-weight: 700;
    }

    media-captions-menu,
    media-rendition-menu,
    media-audio-track-menu,
    media-playback-rate-menu {
      position: absolute; /* ensure they don't take up space in DOM on load */
      --media-menu-background: var(--_primary-color);
      --media-menu-item-checked-background: transparent;
      --media-text-color: var(--_text-color);
      --media-menu-item-hover-background: transparent;
      --media-menu-item-hover-outline: var(--_accent-color) solid 1px;
    }

    media-rendition-menu {
      min-width: 140px;
    }

    /* The icon is a circle so make it 16px high instead of 14px for more balance. */
    media-audio-track-menu-button {
      --media-control-padding: 5px;
      --media-control-height: 16px;
    }

    media-playback-rate-menu-button {
      --media-control-padding: 6px 3px;
      min-width: 4.4ch;
    }

    media-playback-rate-menu {
      --media-menu-flex-direction: row;
      --media-menu-item-checked-background: var(--_accent-color);
      --media-menu-item-checked-indicator-display: none;
      margin-right: 6px;
      padding: 0;
      --media-menu-gap: 0.25em;
    }

    media-playback-rate-menu[part~='menu']::part(menu-item) {
      padding: 6px 6px 6px 8px;
    }

    media-playback-rate-menu[part~='menu']::part(checked) {
      color: #fff;
    }

    :host(:not([audio])) media-time-range {
      /* Adding px is required here for calc() */
      --media-range-padding: 0px;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is([part*='button'], [part*='range'], [part*='display']) {
      border-radius: 3px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot~='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    media-control-bar {
      --gradient-steps:
        hsl(0 0% 0% / 0) 0%, hsl(0 0% 0% / 0.013) 8.1%, hsl(0 0% 0% / 0.049) 15.5%, hsl(0 0% 0% / 0.104) 22.5%,
        hsl(0 0% 0% / 0.175) 29%, hsl(0 0% 0% / 0.259) 35.3%, hsl(0 0% 0% / 0.352) 41.2%, hsl(0 0% 0% / 0.45) 47.1%,
        hsl(0 0% 0% / 0.55) 52.9%, hsl(0 0% 0% / 0.648) 58.8%, hsl(0 0% 0% / 0.741) 64.7%, hsl(0 0% 0% / 0.825) 71%,
        hsl(0 0% 0% / 0.896) 77.5%, hsl(0 0% 0% / 0.951) 84.5%, hsl(0 0% 0% / 0.987) 91.9%, hsl(0 0% 0%) 100%;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before,
    :host([videotitle]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to top, var(--gradient-steps));
      opacity: 0.8;
      pointer-events: none;
    }

    :host(:not([audio])) media-control-bar[part~='bottom']::before {
      content: '';
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      padding-bottom: min(100px, 25%);
      background: linear-gradient(to bottom, var(--gradient-steps));
      opacity: 0.8;
      z-index: 1;
      pointer-events: none;
    }

    media-control-bar[part~='bottom'] > * {
      z-index: 20;
    }

    media-control-bar[part~='bottom'] {
      padding: 6px 6px;
    }

    media-control-bar[slot~='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      --media-tooltip-display: none;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      --media-control-padding: 0;
      width: 40px;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    [breakpointsm] .center-controls media-play-button {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      transition: background 0.4s;
      padding: 24px;
      --media-control-background: #000;
      --media-control-hover-background: var(--_accent-color);
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 20px;
      width: max(33px, min(8%, 40px));
      text-shadow:
        0 0 2px rgb(0 0 0 / 0.25),
        0 0 6px rgb(0 0 0 / 0.25);
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback {
      display: grid;
      align-items: initial;
      justify-content: initial;
      height: 100%;
      overflow: hidden;
    }

    [breakpointsm]:not([audio]) .center-controls.pre-playback media-play-button {
      place-self: var(--_pre-playback-place, center);
      grid-area: 1 / 1;
      margin: 16px;
    }

    /* Show and hide controls or pre-playback state */

    [breakpointsm]:is([mediahasplayed], :not([mediapaused])):not([audio])
      .center-controls.pre-playback
      media-play-button {
      /* Using \`forwards\` would lead to a laggy UI after the animation got in the end state */
      animation: 0.3s linear pre-play-hide;
      opacity: 0;
      pointer-events: none;
    }

    .autoplay-unmute {
      --media-control-hover-background: transparent;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
    }

    .autoplay-unmute-btn {
      --media-control-height: 16px;
      border-radius: 8px;
      background: #000;
      color: var(--_primary-color);
      display: flex;
      align-items: center;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
    }

    .autoplay-unmute-btn:hover {
      background: var(--_accent-color);
    }

    [breakpointsm] .autoplay-unmute-btn {
      --media-control-height: 30px;
      padding: 14px 24px;
      font-size: 26px;
    }

    .autoplay-unmute-btn svg {
      margin: 0 6px 0 0;
    }

    [breakpointsm] .autoplay-unmute-btn svg {
      margin: 0 10px 0 0;
    }

    media-controller:not([audio]):not([mediahasplayed]) *:is(media-control-bar, media-time-range) {
      display: none;
    }

    media-error-dialog:not([mediaerrorcode]) {
      opacity: 0;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
      --media-range-padding-left: 10px;
      --media-range-padding-right: 10px;
      --media-range-thumb-width: 12px;
      --media-range-thumb-height: 12px;
      --media-range-thumb-background: radial-gradient(
        circle,
        #000 0%,
        #000 25%,
        var(--_primary-color) 25%,
        var(--_primary-color)
      );
      --media-control-hover-background: none;
    }

    media-time-display {
      white-space: nowrap;
    }

    /* Generic style for explicitly disabled controls */
    media-control-bar[part~='bottom'] [disabled],
    media-control-bar[part~='bottom'] [aria-disabled='true'] {
      opacity: 60%;
      cursor: not-allowed;
    }

    media-text-display {
      --media-font-size: 16px;
      --media-control-padding: 14px;
      font-weight: 500;
    }

    media-play-button.animated *:is(g, path) {
      transition: all 0.3s;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt1 {
      opacity: 0;
    }

    media-play-button.animated[mediapaused] .pause-icon-pt2 {
      transform-origin: center center;
      transform: scaleY(0);
    }

    media-play-button.animated[mediapaused] .play-icon {
      clip-path: inset(0 0 0 0);
    }

    media-play-button.animated:not([mediapaused]) .play-icon {
      clip-path: inset(0 0 0 100%);
    }

    media-seek-forward-button,
    media-seek-backward-button {
      --media-font-weight: 400;
    }

    .mute-icon {
      display: inline-block;
    }

    .mute-icon :is(path, g) {
      transition: opacity 0.5s;
    }

    .muted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='low'] :is(.volume-medium, .volume-high),
    media-mute-button[mediavolumelevel='medium'] :is(.volume-high) {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .unmuted {
      opacity: 0;
    }

    media-mute-button[mediavolumelevel='off'] .muted {
      opacity: 1;
    }

    /**
     * Our defaults for these buttons are to hide them at small sizes
     * users can override this with CSS
     */
    media-controller:not([breakpointsm]):not([audio]) {
      --bottom-play-button: none;
      --bottom-seek-backward-button: none;
      --bottom-seek-forward-button: none;
      --bottom-time-display: none;
      --bottom-playback-rate-menu-button: none;
      --bottom-pip-button: none;
    }

    [part='mux-badge'] {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 2;
      opacity: 0.6;
      transition:
        opacity 0.2s ease-in-out,
        bottom 0.2s ease-in-out;
    }

    [part='mux-badge']:hover {
      opacity: 1;
    }

    [part='mux-badge'] a {
      font-size: 14px;
      font-family: var(--_font-family);
      color: var(--_primary-color);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    [part='mux-badge'] .mux-badge-text {
      transition: opacity 0.5s ease-in-out;
      opacity: 0;
    }

    [part='mux-badge'] .mux-badge-logo {
      width: 40px;
      height: auto;
      display: inline-block;
    }

    [part='mux-badge'] .mux-badge-logo svg {
      width: 100%;
      height: 100%;
      fill: white;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'],
    media-controller:not([userinactive]) [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      transition: bottom 0.1s ease-in-out;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      transition: bottom 0.2s ease-in-out 0.62s;
    }

    media-controller:not([userinactive]) [part='mux-badge'] .mux-badge-text,
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] .mux-badge-text {
      opacity: 1;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] .mux-badge-text {
      opacity: 0;
    }

    media-controller[userinactive]:not([mediapaused]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive]):not([mediahasplayed]) [part='mux-badge'] {
      bottom: 10px;
    }

    media-controller:not([userinactive])[mediahasplayed] [part='mux-badge'],
    media-controller[mediahasplayed][mediapaused] [part='mux-badge'] {
      bottom: calc(28px + var(--media-control-height, 0px) + var(--media-control-padding, 0px) * 2);
    }
  </style>

  <template partial="TitleDisplay">
    <template if="videotitle">
      <template if="videotitle != true">
        <media-text-display part="top title display" class="title-display">{{videotitle}}</media-text-display>
      </template>
    </template>
    <template if="!videotitle">
      <template if="title">
        <media-text-display part="top title display" class="title-display">{{title}}</media-text-display>
      </template>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      class="animated"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon">
        <g class="play-icon">
          <path
            d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
          />
        </g>
        <g class="pause-icon">
          <path
            class="pause-icon-pt1"
            d="M5.90709 0H2.96889C2.46857 0 2.06299 0.405585 2.06299 0.9059V13.0941C2.06299 13.5944 2.46857 14 2.96889 14H5.90709C6.4074 14 6.81299 13.5944 6.81299 13.0941V0.9059C6.81299 0.405585 6.4074 0 5.90709 0Z"
          />
          <path
            class="pause-icon-pt2"
            d="M15.1571 0H12.2189C11.7186 0 11.313 0.405585 11.313 0.9059V13.0941C11.313 13.5944 11.7186 14 12.2189 14H15.1571C15.6574 14 16.063 13.5944 16.063 13.0941V0.9059C16.063 0.405585 15.6574 0 15.1571 0Z"
          />
        </g>
      </svg>
    </media-play-button>
  </template>

  <template partial="PrePlayButton">
    <media-play-button
      part="{{section ?? 'center'}} play button pre-play"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="icon" style="transform: translate(3px, 0)">
        <path
          d="M15.5987 6.2911L3.45577 0.110898C2.83667 -0.204202 2.06287 0.189698 2.06287 0.819798V13.1802C2.06287 13.8103 2.83667 14.2042 3.45577 13.8891L15.5987 7.7089C16.2178 7.3938 16.2178 6.6061 15.5987 6.2911Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <path
          d="M3.65 2.07888L0.0864 6.7279C-0.0288 6.87812 -0.0288 7.12188 0.0864 7.2721L3.65 11.9211C3.7792 12.0896 4 11.9703 4 11.7321V2.26787C4 2.02968 3.7792 1.9104 3.65 2.07888Z"
        />
        <text transform="translate(6 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg viewBox="0 0 22 14" aria-hidden="true" slot="icon">
        <g>
          <text transform="translate(-1 12)" style="font-size: 14px; font-family: 'ArialMT', 'Arial'">
            {{forwardseekoffset}}
          </text>
          <path
            d="M18.35 11.9211L21.9136 7.2721C22.0288 7.12188 22.0288 6.87812 21.9136 6.7279L18.35 2.07888C18.2208 1.91041 18 2.02968 18 2.26787V11.7321C18 11.9703 18.2208 12.0896 18.35 11.9211Z"
          />
        </g>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" slot="icon" class="mute-icon" aria-hidden="true">
        <g class="unmuted">
          <path
            d="M6.76786 1.21233L3.98606 3.98924H1.19937C0.593146 3.98924 0.101743 4.51375 0.101743 5.1607V6.96412L0 6.99998L0.101743 7.03583V8.83926C0.101743 9.48633 0.593146 10.0108 1.19937 10.0108H3.98606L6.76773 12.7877C7.23561 13.2547 8 12.9007 8 12.2171V1.78301C8 1.09925 7.23574 0.745258 6.76786 1.21233Z"
          />
          <path
            class="volume-low"
            d="M10 3.54781C10.7452 4.55141 11.1393 5.74511 11.1393 6.99991C11.1393 8.25471 10.7453 9.44791 10 10.4515L10.7988 11.0496C11.6734 9.87201 12.1356 8.47161 12.1356 6.99991C12.1356 5.52821 11.6735 4.12731 10.7988 2.94971L10 3.54781Z"
          />
          <path
            class="volume-medium"
            d="M12.3778 2.40086C13.2709 3.76756 13.7428 5.35806 13.7428 7.00026C13.7428 8.64246 13.2709 10.233 12.3778 11.5992L13.2106 12.1484C14.2107 10.6185 14.739 8.83796 14.739 7.00016C14.739 5.16236 14.2107 3.38236 13.2106 1.85156L12.3778 2.40086Z"
          />
          <path
            class="volume-high"
            d="M15.5981 0.75L14.7478 1.2719C15.7937 2.9919 16.3468 4.9723 16.3468 7C16.3468 9.0277 15.7937 11.0082 14.7478 12.7281L15.5981 13.25C16.7398 11.3722 17.343 9.211 17.343 7C17.343 4.789 16.7398 2.6268 15.5981 0.75Z"
          />
        </g>
        <g class="muted">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.39976 4.98924H1.19937C1.19429 4.98924 1.17777 4.98961 1.15296 5.01609C1.1271 5.04369 1.10174 5.09245 1.10174 5.1607V8.83926C1.10174 8.90761 1.12714 8.95641 1.15299 8.984C1.17779 9.01047 1.1943 9.01084 1.19937 9.01084H4.39977L7 11.6066V2.39357L4.39976 4.98924ZM7.47434 1.92006C7.4743 1.9201 7.47439 1.92002 7.47434 1.92006V1.92006ZM6.76773 12.7877L3.98606 10.0108H1.19937C0.593146 10.0108 0.101743 9.48633 0.101743 8.83926V7.03583L0 6.99998L0.101743 6.96412V5.1607C0.101743 4.51375 0.593146 3.98924 1.19937 3.98924H3.98606L6.76786 1.21233C7.23574 0.745258 8 1.09925 8 1.78301V12.2171C8 12.9007 7.23561 13.2547 6.76773 12.7877Z"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.2677 9.30323C15.463 9.49849 15.7796 9.49849 15.9749 9.30323C16.1701 9.10796 16.1701 8.79138 15.9749 8.59612L14.2071 6.82841L15.9749 5.06066C16.1702 4.8654 16.1702 4.54882 15.9749 4.35355C15.7796 4.15829 15.4631 4.15829 15.2678 4.35355L13.5 6.1213L11.7322 4.35348C11.537 4.15822 11.2204 4.15822 11.0251 4.35348C10.8298 4.54874 10.8298 4.86532 11.0251 5.06058L12.7929 6.82841L11.0251 8.59619C10.8299 8.79146 10.8299 9.10804 11.0251 9.3033C11.2204 9.49856 11.537 9.49856 11.7323 9.3033L13.5 7.53552L15.2677 9.30323Z"
          />
        </g>
      </svg>
    </media-mute-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M15.9891 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.989C0 13.0996 0.9004 14 2.011 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0ZM17 11.9891C17 12.5465 16.5465 13 15.9891 13H2.011C1.4536 13 1.0001 12.5465 1.0001 11.9891V2.0109C1.0001 1.4535 1.4536 0.9999 2.011 0.9999H15.9891C16.5465 0.9999 17 1.4535 17 2.0109V11.9891Z"
        />
        <path
          d="M15.356 5.67822H8.19523C8.03253 5.67822 7.90063 5.81012 7.90063 5.97282V11.3836C7.90063 11.5463 8.03253 11.6782 8.19523 11.6782H15.356C15.5187 11.6782 15.6506 11.5463 15.6506 11.3836V5.97282C15.6506 5.81012 15.5187 5.67822 15.356 5.67822Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="CaptionsMenu">
    <media-captions-menu-button part="bottom captions button">
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="on">
        <path
          d="M15.989 0H2.011C0.9004 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9004 14 2.011 14H15.989C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.989 0ZM4.2292 8.7639C4.5954 9.1902 5.0935 9.4031 5.7233 9.4031C6.1852 9.4031 6.5544 9.301 6.8302 9.0969C7.1061 8.8933 7.2863 8.614 7.3702 8.26H8.4322C8.3062 8.884 8.0093 9.3733 7.5411 9.7273C7.0733 10.0813 6.4703 10.2581 5.732 10.2581C5.108 10.2581 4.5699 10.1219 4.1168 9.8489C3.6637 9.5759 3.3141 9.1946 3.0685 8.7058C2.8224 8.2165 2.6994 7.6511 2.6994 7.009C2.6994 6.3611 2.8224 5.7927 3.0685 5.3034C3.3141 4.8146 3.6637 4.4323 4.1168 4.1559C4.5699 3.88 5.108 3.7418 5.732 3.7418C6.4703 3.7418 7.0733 3.922 7.5411 4.2818C8.0094 4.6422 8.3062 5.1461 8.4322 5.794H7.3702C7.2862 5.4283 7.106 5.1368 6.8302 4.921C6.5544 4.7052 6.1852 4.5968 5.7233 4.5968C5.0934 4.5968 4.5954 4.8116 4.2292 5.2404C3.8635 5.6696 3.6804 6.259 3.6804 7.009C3.6804 7.7531 3.8635 8.3381 4.2292 8.7639ZM11.0974 8.7639C11.4636 9.1902 11.9617 9.4031 12.5915 9.4031C13.0534 9.4031 13.4226 9.301 13.6984 9.0969C13.9743 8.8933 14.1545 8.614 14.2384 8.26H15.3004C15.1744 8.884 14.8775 9.3733 14.4093 9.7273C13.9415 10.0813 13.3385 10.2581 12.6002 10.2581C11.9762 10.2581 11.4381 10.1219 10.985 9.8489C10.5319 9.5759 10.1823 9.1946 9.9367 8.7058C9.6906 8.2165 9.5676 7.6511 9.5676 7.009C9.5676 6.3611 9.6906 5.7927 9.9367 5.3034C10.1823 4.8146 10.5319 4.4323 10.985 4.1559C11.4381 3.88 11.9762 3.7418 12.6002 3.7418C13.3385 3.7418 13.9415 3.922 14.4093 4.2818C14.8776 4.6422 15.1744 5.1461 15.3004 5.794H14.2384C14.1544 5.4283 13.9742 5.1368 13.6984 4.921C13.4226 4.7052 13.0534 4.5968 12.5915 4.5968C11.9616 4.5968 11.4636 4.8116 11.0974 5.2404C10.7317 5.6696 10.5486 6.259 10.5486 7.009C10.5486 7.7531 10.7317 8.3381 11.0974 8.7639Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 18 14" slot="off">
        <path
          d="M5.73219 10.258C5.10819 10.258 4.57009 10.1218 4.11699 9.8488C3.66389 9.5758 3.31429 9.1945 3.06869 8.7057C2.82259 8.2164 2.69958 7.651 2.69958 7.0089C2.69958 6.361 2.82259 5.7926 3.06869 5.3033C3.31429 4.8145 3.66389 4.4322 4.11699 4.1558C4.57009 3.8799 5.10819 3.7417 5.73219 3.7417C6.47049 3.7417 7.07348 3.9219 7.54128 4.2817C8.00958 4.6421 8.30638 5.146 8.43238 5.7939H7.37039C7.28639 5.4282 7.10618 5.1367 6.83039 4.9209C6.55459 4.7051 6.18538 4.5967 5.72348 4.5967C5.09358 4.5967 4.59559 4.8115 4.22939 5.2403C3.86369 5.6695 3.68058 6.2589 3.68058 7.0089C3.68058 7.753 3.86369 8.338 4.22939 8.7638C4.59559 9.1901 5.09368 9.403 5.72348 9.403C6.18538 9.403 6.55459 9.3009 6.83039 9.0968C7.10629 8.8932 7.28649 8.6139 7.37039 8.2599H8.43238C8.30638 8.8839 8.00948 9.3732 7.54128 9.7272C7.07348 10.0812 6.47049 10.258 5.73219 10.258Z"
        />
        <path
          d="M12.6003 10.258C11.9763 10.258 11.4382 10.1218 10.9851 9.8488C10.532 9.5758 10.1824 9.1945 9.93685 8.7057C9.69075 8.2164 9.56775 7.651 9.56775 7.0089C9.56775 6.361 9.69075 5.7926 9.93685 5.3033C10.1824 4.8145 10.532 4.4322 10.9851 4.1558C11.4382 3.8799 11.9763 3.7417 12.6003 3.7417C13.3386 3.7417 13.9416 3.9219 14.4094 4.2817C14.8777 4.6421 15.1745 5.146 15.3005 5.7939H14.2385C14.1545 5.4282 13.9743 5.1367 13.6985 4.9209C13.4227 4.7051 13.0535 4.5967 12.5916 4.5967C11.9617 4.5967 11.4637 4.8115 11.0975 5.2403C10.7318 5.6695 10.5487 6.2589 10.5487 7.0089C10.5487 7.753 10.7318 8.338 11.0975 8.7638C11.4637 9.1901 11.9618 9.403 12.5916 9.403C13.0535 9.403 13.4227 9.3009 13.6985 9.0968C13.9744 8.8932 14.1546 8.6139 14.2385 8.2599H15.3005C15.1745 8.8839 14.8776 9.3732 14.4094 9.7272C13.9416 10.0812 13.3386 10.258 12.6003 10.258Z"
        />
        <path
          d="M15.9891 1C16.5465 1 17 1.4535 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H2.0109C1.4535 13 1 12.5465 1 11.9891V2.0109C1 1.4535 1.4535 0.9999 2.0109 0.9999L15.9891 1ZM15.9891 0H2.0109C0.9003 0 0 0.9003 0 2.0109V11.9891C0 13.0997 0.9003 14 2.0109 14H15.9891C17.0997 14 18 13.0997 18 11.9891V2.0109C18 0.9003 17.0997 0 15.9891 0Z"
        />
      </svg>
    </media-captions-menu-button>
    <media-captions-menu
      hidden
      anchor="auto"
      part="bottom captions menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg></div
    ></media-captions-menu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="icon">
        <path
          d="M16.1383 0H1.8618C0.8335 0 0 0.8335 0 1.8617V10.1382C0 11.1664 0.8335 12 1.8618 12H3.076C3.1204 11.9433 3.1503 11.8785 3.2012 11.826L4.004 11H1.8618C1.3866 11 1 10.6134 1 10.1382V1.8617C1 1.3865 1.3866 0.9999 1.8618 0.9999H16.1383C16.6135 0.9999 17.0001 1.3865 17.0001 1.8617V10.1382C17.0001 10.6134 16.6135 11 16.1383 11H13.9961L14.7989 11.826C14.8499 11.8785 14.8798 11.9432 14.9241 12H16.1383C17.1665 12 18.0001 11.1664 18.0001 10.1382V1.8617C18 0.8335 17.1665 0 16.1383 0Z"
        />
        <path
          d="M9.55061 8.21903C9.39981 8.06383 9.20001 7.98633 9.00011 7.98633C8.80021 7.98633 8.60031 8.06383 8.44951 8.21903L4.09771 12.697C3.62471 13.1838 3.96961 13.9998 4.64831 13.9998H13.3518C14.0304 13.9998 14.3754 13.1838 13.9023 12.697L9.55061 8.21903Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M1.00745 4.39539L1.01445 1.98789C1.01605 1.43049 1.47085 0.978289 2.02835 0.979989L6.39375 0.992589L6.39665 -0.007411L2.03125 -0.020011C0.920646 -0.023211 0.0176463 0.874489 0.0144463 1.98509L0.00744629 4.39539H1.00745Z"
        />
        <path
          d="M17.0144 2.03431L17.0076 4.39541H18.0076L18.0144 2.03721C18.0176 0.926712 17.1199 0.0237125 16.0093 0.0205125L11.6439 0.0078125L11.641 1.00781L16.0064 1.02041C16.5638 1.02201 17.016 1.47681 17.0144 2.03431Z"
        />
        <path
          d="M16.9925 9.60498L16.9855 12.0124C16.9839 12.5698 16.5291 13.022 15.9717 13.0204L11.6063 13.0078L11.6034 14.0078L15.9688 14.0204C17.0794 14.0236 17.9823 13.1259 17.9855 12.0153L17.9925 9.60498H16.9925Z"
        />
        <path
          d="M0.985626 11.9661L0.992426 9.60498H-0.0074737L-0.0142737 11.9632C-0.0174737 13.0738 0.880226 13.9767 1.99083 13.98L6.35623 13.9926L6.35913 12.9926L1.99373 12.98C1.43633 12.9784 0.983926 12.5236 0.985626 11.9661Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M5.39655 -0.0200195L5.38955 2.38748C5.38795 2.94488 4.93315 3.39708 4.37565 3.39538L0.0103463 3.38278L0.00744629 4.38278L4.37285 4.39538C5.48345 4.39858 6.38635 3.50088 6.38965 2.39028L6.39665 -0.0200195H5.39655Z"
        />
        <path
          d="M12.6411 2.36891L12.6479 0.0078125H11.6479L11.6411 2.36601C11.6379 3.47651 12.5356 4.37951 13.6462 4.38271L18.0116 4.39531L18.0145 3.39531L13.6491 3.38271C13.0917 3.38111 12.6395 2.92641 12.6411 2.36891Z"
        />
        <path
          d="M12.6034 14.0204L12.6104 11.613C12.612 11.0556 13.0668 10.6034 13.6242 10.605L17.9896 10.6176L17.9925 9.61759L13.6271 9.60499C12.5165 9.60179 11.6136 10.4995 11.6104 11.6101L11.6034 14.0204H12.6034Z"
        />
        <path
          d="M5.359 11.6315L5.3522 13.9926H6.3522L6.359 11.6344C6.3622 10.5238 5.4645 9.62088 4.3539 9.61758L-0.0115043 9.60498L-0.0144043 10.605L4.351 10.6176C4.9084 10.6192 5.3607 11.074 5.359 11.6315Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="enter">
        <path
          d="M16.0072 0H2.0291C0.9185 0 0.0181 0.9003 0.0181 2.011V5.5009C0.357 5.5016 0.6895 5.5275 1.0181 5.5669V2.011C1.0181 1.4536 1.4716 1 2.029 1H16.0072C16.5646 1 17.0181 1.4536 17.0181 2.011V11.9891C17.0181 12.5465 16.5646 13 16.0072 13H8.4358C8.4746 13.3286 8.4999 13.6611 8.4999 13.9999H16.0071C17.1177 13.9999 18.018 13.0996 18.018 11.989V2.011C18.0181 0.9003 17.1178 0 16.0072 0ZM0 6.4999V7.4999C3.584 7.4999 6.5 10.4159 6.5 13.9999H7.5C7.5 9.8642 4.1357 6.4999 0 6.4999ZM0 8.7499V9.7499C2.3433 9.7499 4.25 11.6566 4.25 13.9999H5.25C5.25 11.1049 2.895 8.7499 0 8.7499ZM0.0181 11V14H3.0181C3.0181 12.3431 1.675 11 0.0181 11Z"
        />
      </svg>
      <svg viewBox="0 0 18 14" aria-hidden="true" slot="exit">
        <path
          d="M15.9891 0H2.01103C0.900434 0 3.35947e-05 0.9003 3.35947e-05 2.011V5.5009C0.338934 5.5016 0.671434 5.5275 1.00003 5.5669V2.011C1.00003 1.4536 1.45353 1 2.01093 1H15.9891C16.5465 1 17 1.4536 17 2.011V11.9891C17 12.5465 16.5465 13 15.9891 13H8.41773C8.45653 13.3286 8.48183 13.6611 8.48183 13.9999H15.989C17.0996 13.9999 17.9999 13.0996 17.9999 11.989V2.011C18 0.9003 17.0997 0 15.9891 0ZM-0.0180664 6.4999V7.4999C3.56593 7.4999 6.48193 10.4159 6.48193 13.9999H7.48193C7.48193 9.8642 4.11763 6.4999 -0.0180664 6.4999ZM-0.0180664 8.7499V9.7499C2.32523 9.7499 4.23193 11.6566 4.23193 13.9999H5.23193C5.23193 11.1049 2.87693 8.7499 -0.0180664 8.7499ZM3.35947e-05 11V14H3.00003C3.00003 12.3431 1.65693 11 3.35947e-05 11Z"
        />
        <path d="M2.15002 5.634C5.18352 6.4207 7.57252 8.8151 8.35282 11.8499H15.8501V2.1499H2.15002V5.634Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="LiveButton">
    <media-live-button part="{{section ?? 'top'}} live button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <span slot="text">Live</span>
    </media-live-button>
  </template>

  <template partial="PlaybackRateMenu">
    <media-playback-rate-menu-button part="bottom playback-rate button"></media-playback-rate-menu-button>
    <media-playback-rate-menu
      hidden
      anchor="auto"
      rates="{{playbackrates}}"
      exportparts="menu-item"
      part="bottom playback-rate menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-menu>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range part="bottom time range" disabled="{{disabled}}" aria-disabled="{{disabled}}" exportparts="thumb">
      <media-preview-thumbnail slot="preview"></media-preview-thumbnail>
      <media-preview-chapter-display slot="preview"></media-preview-chapter-display>
      <media-preview-time-display slot="preview"></media-preview-time-display>
      <div slot="preview" part="arrow"></div>
    </media-time-range>
  </template>

  <template partial="AudioTrackMenu">
    <media-audio-track-menu-button part="bottom audio-track button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 16">
        <path d="M9 15A7 7 0 1 1 9 1a7 7 0 0 1 0 14Zm0 1A8 8 0 1 0 9 0a8 8 0 0 0 0 16Z" />
        <path
          d="M5.2 6.3a.5.5 0 0 1 .5.5v2.4a.5.5 0 1 1-1 0V6.8a.5.5 0 0 1 .5-.5Zm2.4-2.4a.5.5 0 0 1 .5.5v7.2a.5.5 0 0 1-1 0V4.4a.5.5 0 0 1 .5-.5ZM10 5.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.4-.8a.5.5 0 0 1 .5.5v5.6a.5.5 0 0 1-1 0V5.2a.5.5 0 0 1 .5-.5Z"
        />
      </svg>
    </media-audio-track-menu-button>
    <media-audio-track-menu
      hidden
      anchor="auto"
      part="bottom audio-track menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
      exportparts="menu-item"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            display: none;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-audio-track-menu>
  </template>

  <template partial="RenditionMenu">
    <media-rendition-menu-button part="bottom rendition button">
      <svg aria-hidden="true" slot="icon" viewBox="0 0 18 14">
        <path
          d="M2.25 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4ZM9 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"
        />
      </svg>
    </media-rendition-menu-button>
    <media-rendition-menu
      hidden
      anchor="auto"
      part="bottom rendition menu"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <div slot="checked-indicator">
        <style>
          .indicator {
            position: relative;
            top: 1px;
            width: 0.9em;
            height: auto;
            fill: var(--_accent-color);
            margin-right: 5px;
          }

          [aria-checked='false'] .indicator {
            opacity: 0;
          }
        </style>
        <svg viewBox="0 0 14 18" class="indicator">
          <path
            d="M12.252 3.48c-.115.033-.301.161-.425.291-.059.063-1.407 1.815-2.995 3.894s-2.897 3.79-2.908 3.802c-.013.014-.661-.616-1.672-1.624-.908-.905-1.702-1.681-1.765-1.723-.401-.27-.783-.211-1.176.183a1.285 1.285 0 0 0-.261.342.582.582 0 0 0-.082.35c0 .165.01.205.08.35.075.153.213.296 2.182 2.271 1.156 1.159 2.17 2.159 2.253 2.222.189.143.338.196.539.194.203-.003.412-.104.618-.299.205-.193 6.7-8.693 6.804-8.903a.716.716 0 0 0 .085-.345c.01-.179.005-.203-.062-.339-.124-.252-.45-.531-.746-.639a.784.784 0 0 0-.469-.027"
            fill-rule="evenodd"
          />
        </svg>
      </div>
    </media-rendition-menu>
  </template>

  <template partial="MuxBadge">
    <div part="mux-badge">
      <a href="https://www.mux.com/player" target="_blank">
        <span class="mux-badge-text">Powered by</span>
        <div class="mux-badge-logo">
          <svg
            viewBox="0 0 1600 500"
            style="fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2"
          >
            <g>
              <path
                d="M994.287,93.486c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m0,-93.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,68.943 -56.09,125.033 -125.032,125.033c-68.942,-0 -125.03,-56.09 -125.03,-125.033l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486c-34.509,-0 -62.484,27.976 -62.484,62.486l0,187.511c0,137.853 112.149,250.003 249.999,250.003c137.851,-0 250.001,-112.15 250.001,-250.003l0,-187.511c0,-34.51 -27.976,-62.486 -62.485,-62.486"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M1537.51,468.511c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m-275.883,-218.509l-143.33,143.329c-24.402,24.402 -24.402,63.966 0,88.368c24.402,24.402 63.967,24.402 88.369,-0l143.33,-143.329l143.328,143.329c24.402,24.4 63.967,24.402 88.369,-0c24.403,-24.402 24.403,-63.966 0.001,-88.368l-143.33,-143.329l0.001,-0.004l143.329,-143.329c24.402,-24.402 24.402,-63.965 0,-88.367c-24.402,-24.402 -63.967,-24.402 -88.369,-0l-143.329,143.328l-143.329,-143.328c-24.402,-24.401 -63.967,-24.402 -88.369,-0c-24.402,24.402 -24.402,63.965 0,88.367l143.329,143.329l0,0.004Z"
                style="fill-rule: nonzero"
              ></path>
              <path
                d="M437.511,468.521c-17.121,-0 -31,-13.879 -31,-31c0,-17.121 13.879,-31 31,-31c17.121,-0 31,13.879 31,31c0,17.121 -13.879,31 -31,31m23.915,-463.762c-23.348,-9.672 -50.226,-4.327 -68.096,13.544l-143.331,143.329l-143.33,-143.329c-17.871,-17.871 -44.747,-23.216 -68.096,-13.544c-23.349,9.671 -38.574,32.455 -38.574,57.729l0,375.026c0,34.51 27.977,62.486 62.487,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-224.173l80.843,80.844c24.404,24.402 63.965,24.402 88.369,-0l80.843,-80.844l0,224.173c0,34.51 27.976,62.486 62.486,62.486c34.51,-0 62.486,-27.976 62.486,-62.486l0,-375.026c0,-25.274 -15.224,-48.058 -38.573,-57.729"
                style="fill-rule: nonzero"
              ></path>
            </g>
          </svg>
        </div>
      </a>
    </div>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:470"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    defaultduration="{{defaultduration ?? false}}"
    keyboardforwardseekoffset="{{forwardseekoffset}}"
    keyboardbackwardseekoffset="{{backwardseekoffset}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
    style="--_pre-playback-place:{{preplaybackplace ?? 'center'}}"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>

    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="!audio">
      <media-error-dialog slot="dialog" noautohide></media-error-dialog>
      <!-- Pre-playback UI -->
      <!-- same for both on-demand and live -->
      <div slot="centered-chrome" class="center-controls pre-playback">
        <template if="!breakpointsm">{{>PlayButton section="center"}}</template>
        <template if="breakpointsm">{{>PrePlayButton section="center"}}</template>
      </div>

      <!-- Mux Badge -->
      <template if="proudlydisplaymuxbadge"> {{>MuxBadge}} </template>

      <!-- Autoplay centered unmute button -->
      <!--
        todo: figure out how show this with available state variables
        needs to show when:
        - autoplay is enabled
        - playback has been successful
        - audio is muted
        - in place / instead of the pre-plaback play button
        - not to show again after user has interacted with this button
          - OR user has interacted with the mute button in the control bar
      -->
      <!--
        There should be a >MuteButton to the left of the "Unmute" text, but a templating bug
        makes it appear even if commented out in the markup, add it back when code is un-commented
      -->
      <!-- <div slot="centered-chrome" class="autoplay-unmute">
        <div role="button" class="autoplay-unmute-btn">Unmute</div>
      </div> -->

      <template if="streamtype == 'on-demand'">
        <template if="breakpointsm">
          <media-control-bar part="control-bar top" slot="top-chrome">{{>TitleDisplay}} </media-control-bar>
        </template>
        {{>TimeRange}}
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>SeekBackwardButton}} {{>SeekForwardButton}} {{>TimeDisplay}} {{>MuteButton}}
          {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>PlaybackRateMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}}
          {{>CastButton}} {{>PipButton}} {{>FullscreenButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <media-control-bar part="control-bar top" slot="top-chrome">
          {{>LiveButton}}
          <template if="breakpointsm"> {{>TitleDisplay}} </template>
        </media-control-bar>
        <template if="targetlivewindow > 0">{{>TimeRange}}</template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="targetlivewindow > 0">{{>SeekBackwardButton}} {{>SeekForwardButton}}</template>
          {{>MuteButton}} {{>VolumeRange}}
          <div class="spacer"></div>
          {{>RenditionMenu}} {{>AudioTrackMenu}} {{>CaptionsMenu}} {{>AirplayButton}} {{>CastButton}} {{>PipButton}}
          {{>FullscreenButton}}
        </media-control-bar>
      </template>
    </template>

    <template if="audio">
      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          <template if="breakpointsm"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          {{>MuteButton}}
          <template if="breakpointsm">{{>VolumeRange}}</template>
          {{>TimeDisplay}} {{>TimeRange}}
          <template if="breakpointsm">{{>PlaybackRateMenu}}</template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}} {{>LiveButton section="bottom"}} {{>MuteButton}}
          <template if="breakpointsm">
            {{>VolumeRange}}
            <template if="targetlivewindow > 0"> {{>SeekBackwardButton}} {{>SeekForwardButton}} </template>
          </template>
          <template if="targetlivewindow > 0"> {{>TimeDisplay}} {{>TimeRange}} </template>
          <template if="!targetlivewindow"><div class="spacer"></div></template>
          {{>AirplayButton}} {{>CastButton}}
        </media-control-bar>
      </template>
    </template>

    <slot></slot>
  </media-controller>
</template>
`,p3=zN.createElement("template");"innerHTML"in p3&&(p3.innerHTML=TXe);var gY,vY,tce=class extends E5{};tce.template=(vY=(gY=p3.content)==null?void 0:gY.children)==null?void 0:vY[0];RA.customElements.get("media-theme-gerwig")||RA.customElements.define("media-theme-gerwig",tce);var CXe="gerwig",Lp={SRC:"src",POSTER:"poster"},fn={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",ACCENT_COLOR:"accent-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",FULLSCREEN_ELEMENT:"fullscreen-element",DRM_TOKEN:"drm-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",DEFAULT_DURATION:"default-duration",TITLE:"title",VIDEO_TITLE:"video-title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",EXTRA_SOURCE_PARAMS:"extra-source-params",NO_VOLUME_PREF:"no-volume-pref",NO_MUTED_PREF:"no-muted-pref",CAST_RECEIVER:"cast-receiver",NO_TOOLTIPS:"no-tooltips",PROUDLY_DISPLAY_MUX_BADGE:"proudly-display-mux-badge",DISABLE_PSEUDO_ENDED:"disable-pseudo-ended"},g3=["audio","backwardseekoffset","defaultduration","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","videotitle","novolumepref","nomutedpref","proudlydisplaymuxbadge"];function NXe(t,e){var r,n,i;return{src:!t.playbackId&&t.src,playbackId:t.playbackId,hasSrc:!!t.playbackId||!!t.src||!!t.currentSrc,poster:t.poster,storyboard:((r=t.media)==null?void 0:r.currentSrc)&&t.storyboard,storyboardSrc:t.getAttribute(fn.STORYBOARD_SRC),fullscreenElement:t.getAttribute(fn.FULLSCREEN_ELEMENT),placeholder:t.getAttribute("placeholder"),themeTemplate:LXe(t),thumbnailTime:!t.tokens.thumbnail&&t.thumbnailTime,autoplay:t.autoplay,crossOrigin:t.crossOrigin,loop:t.loop,noHotKeys:t.hasAttribute(fn.NOHOTKEYS),hotKeys:t.getAttribute(fn.HOTKEYS),muted:t.muted,paused:t.paused,preload:t.preload,envKey:t.envKey,preferCmcd:t.preferCmcd,debug:t.debug,disableTracking:t.disableTracking,disableCookies:t.disableCookies,tokens:t.tokens,beaconCollectionDomain:t.beaconCollectionDomain,maxResolution:t.maxResolution,minResolution:t.minResolution,maxAutoResolution:t.maxAutoResolution,programStartTime:t.programStartTime,programEndTime:t.programEndTime,assetStartTime:t.assetStartTime,assetEndTime:t.assetEndTime,renditionOrder:t.renditionOrder,metadata:t.metadata,playerInitTime:t.playerInitTime,playerSoftwareName:t.playerSoftwareName,playerSoftwareVersion:t.playerSoftwareVersion,startTime:t.startTime,preferPlayback:t.preferPlayback,audio:t.audio,defaultStreamType:t.defaultStreamType,targetLiveWindow:t.getAttribute(Ar.TARGET_LIVE_WINDOW),streamType:I6(t.getAttribute(Ar.STREAM_TYPE)),primaryColor:t.getAttribute(fn.PRIMARY_COLOR),secondaryColor:t.getAttribute(fn.SECONDARY_COLOR),accentColor:t.getAttribute(fn.ACCENT_COLOR),forwardSeekOffset:t.forwardSeekOffset,backwardSeekOffset:t.backwardSeekOffset,defaultHiddenCaptions:t.defaultHiddenCaptions,defaultDuration:t.defaultDuration,defaultShowRemainingTime:t.defaultShowRemainingTime,hideDuration:IXe(t),playbackRates:t.getAttribute(fn.PLAYBACK_RATES),customDomain:(n=t.getAttribute(Ar.CUSTOM_DOMAIN))!=null?n:void 0,title:t.getAttribute(fn.TITLE),videoTitle:(i=t.getAttribute(fn.VIDEO_TITLE))!=null?i:t.getAttribute(fn.TITLE),novolumepref:t.hasAttribute(fn.NO_VOLUME_PREF),nomutedpref:t.hasAttribute(fn.NO_MUTED_PREF),proudlyDisplayMuxBadge:t.hasAttribute(fn.PROUDLY_DISPLAY_MUX_BADGE),castReceiver:t.castReceiver,disablePseudoEnded:t.hasAttribute(fn.DISABLE_PSEUDO_ENDED),capRenditionToPlayerSize:t.capRenditionToPlayerSize,...e,extraSourceParams:t.extraSourceParams}}var kXe=Goe.formatErrorMessage;Goe.formatErrorMessage=t=>{var e,r;if(t instanceof si){let n=SXe(t,!1);return`
      ${n!=null&&n.title?`<h3>${n.title}</h3>`:""}
      ${n!=null&&n.message||n!=null&&n.linkUrl?`<p>
        ${n?.message}
        ${n!=null&&n.linkUrl?`<a
              href="${n.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(e=n.linkText)!=null?e:""} ${Ki("(opens in a new window)")}"
              >${(r=n.linkText)!=null?r:n.linkUrl}</a
            >`:""}
      </p>`:""}
    `}return kXe(t)};function LXe(t){var e,r;let n=t.theme;if(n){let i=(r=(e=t.getRootNode())==null?void 0:e.getElementById)==null?void 0:r.call(e,n);if(i&&i instanceof HTMLTemplateElement)return i;n.startsWith("media-theme-")||(n=`media-theme-${n}`);let a=RA.customElements.get(n);if(a!=null&&a.template)return a.template}}function IXe(t){var e;let r=(e=t.mediaController)==null?void 0:e.querySelector("media-time-display");return r&&getComputedStyle(r).getPropertyValue("--media-duration-display-display").trim()==="none"}function xY(t){let e=t.videoTitle?{video_title:t.videoTitle}:{};return t.getAttributeNames().filter(r=>r.startsWith("metadata-")).reduce((r,n)=>{let i=t.getAttribute(n);return i!==null&&(r[n.replace(/^metadata-/,"").replace(/-/g,"_")]=i),r},e)}var BXe=Object.values(Ar),PXe=Object.values(Lp),OXe=Object.values(fn),yY=Yle(),bY="mux-player",wY={isDialogOpen:!1},RXe={redundant_streams:!0},IT,BT,PT,Mv,OT,Ub,Bc,f0,rce,v3,Fv,EY,_Y,SY,jY,DXe=class extends fY{constructor(){super(),Bm(this,Bc),Bm(this,IT),Bm(this,BT,!1),Bm(this,PT,{}),Bm(this,Mv,!0),Bm(this,OT,new eXe(this,"hotkeys")),Bm(this,Ub,{...wY,onCloseErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&xu(this,Bc,v3).call(this,{isDialogOpen:!1})},onFocusInErrorDialog:t=>{var e;((e=t.composedPath()[0])==null?void 0:e.localName)==="media-error-dialog"&&(Gle(this,zN.activeElement)||t.preventDefault())}}),GA(this,IT,xU()),this.attachShadow({mode:"open"}),xu(this,Bc,rce).call(this),this.isConnected&&xu(this,Bc,f0).call(this)}static get NAME(){return bY}static get VERSION(){return yY}static get observedAttributes(){var t;return[...(t=fY.observedAttributes)!=null?t:[],...PXe,...BXe,...OXe]}get mediaTheme(){var t;return(t=this.shadowRoot)==null?void 0:t.querySelector("media-theme")}get mediaController(){var t,e;return(e=(t=this.mediaTheme)==null?void 0:t.shadowRoot)==null?void 0:e.querySelector("media-controller")}connectedCallback(){let t=this.media;t&&(t.metadata=xY(this))}attributeChangedCallback(t,e,r){switch(xu(this,Bc,f0).call(this),super.attributeChangedCallback(t,e,r),t){case fn.HOTKEYS:Fo(this,OT).value=r;break;case fn.THUMBNAIL_TIME:{r!=null&&this.tokens.thumbnail&&Dp(Ki("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").toString());break}case fn.THUMBNAIL_TOKEN:{if(r){let n=Ib(r);if(n){let{aud:i}=n,a=SE.THUMBNAIL;i!==a&&Dp(Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:a,tokenNamePrefix:"thumbnail"}))}}break}case fn.STORYBOARD_TOKEN:{if(r){let n=Ib(r);if(n){let{aud:i}=n,a=SE.STORYBOARD;i!==a&&Dp(Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:a,tokenNamePrefix:"storyboard"}))}}break}case fn.DRM_TOKEN:{if(r){let n=Ib(r);if(n){let{aud:i}=n,a=SE.DRM;i!==a&&Dp(Ki("The {tokenNamePrefix}-token has an incorrect aud value: {aud}. aud value should be {expectedAud}.").format({aud:i,expectedAud:a,tokenNamePrefix:"drm"}))}}break}case Ar.PLAYBACK_ID:{r!=null&&r.includes("?token")&&gf(Ki("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:r}));break}case Ar.STREAM_TYPE:{r&&![Lo.LIVE,Lo.ON_DEMAND,Lo.UNKNOWN].includes(r)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=r.includes("dvr")?Number.POSITIVE_INFINITY:0:Xle({file:"invalid-stream-type.md",message:Ki("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):r===Lo.LIVE?this.getAttribute(fn.TARGET_LIVE_WINDOW)==null&&(this.targetLiveWindow=0):this.targetLiveWindow=Number.NaN;break}case fn.FULLSCREEN_ELEMENT:{if(r!=null||r!==e){let n=zN.getElementById(r),i=n?.querySelector("mux-player");this.mediaController&&n&&i&&(this.mediaController.fullscreenElement=n)}break}case Ar.CAP_RENDITION_TO_PLAYER_SIZE:{(r==null||r!==e)&&(this.capRenditionToPlayerSize=r!=null?!0:void 0);break}}[Ar.PLAYBACK_ID,Lp.SRC,fn.PLAYBACK_TOKEN].includes(t)&&e!==r&&GA(this,Ub,{...Fo(this,Ub),...wY}),xu(this,Bc,Fv).call(this,{[Jqe(t)]:r})}async requestFullscreen(t){var e;if(!(!this.mediaController||this.mediaController.hasAttribute(ft.MEDIA_IS_FULLSCREEN)))return(e=this.mediaController)==null||e.dispatchEvent(new RA.CustomEvent(Wn.MEDIA_ENTER_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((r,n)=>{var i;(i=this.mediaController)==null||i.addEventListener(dg.MEDIA_IS_FULLSCREEN,()=>r(),{once:!0})})}async exitFullscreen(){var t;if(!(!this.mediaController||!this.mediaController.hasAttribute(ft.MEDIA_IS_FULLSCREEN)))return(t=this.mediaController)==null||t.dispatchEvent(new RA.CustomEvent(Wn.MEDIA_EXIT_FULLSCREEN_REQUEST,{composed:!0,bubbles:!0})),new Promise((e,r)=>{var n;(n=this.mediaController)==null||n.addEventListener(dg.MEDIA_IS_FULLSCREEN,()=>e(),{once:!0})})}get preferCmcd(){var t;return(t=this.getAttribute(Ar.PREFER_CMCD))!=null?t:void 0}set preferCmcd(t){t!==this.preferCmcd&&(t?vN.includes(t)?this.setAttribute(Ar.PREFER_CMCD,t):Dp(`Invalid value for preferCmcd. Must be one of ${vN.join()}`):this.removeAttribute(Ar.PREFER_CMCD))}get hasPlayed(){var t,e;return(e=(t=this.mediaController)==null?void 0:t.hasAttribute(ft.MEDIA_HAS_PLAYED))!=null?e:!1}get inLiveWindow(){var t;return(t=this.mediaController)==null?void 0:t.hasAttribute(ft.MEDIA_TIME_IS_LIVE)}get _hls(){var t;return(t=this.media)==null?void 0:t._hls}get mux(){var t;return(t=this.media)==null?void 0:t.mux}get theme(){var t;return(t=this.getAttribute(fn.THEME))!=null?t:CXe}set theme(t){this.setAttribute(fn.THEME,`${t}`)}get themeProps(){let t=this.mediaTheme;if(!t)return;let e={};for(let r of t.getAttributeNames()){if(g3.includes(r))continue;let n=t.getAttribute(r);e[Vle(r)]=n===""?!0:n}return e}set themeProps(t){var e,r;xu(this,Bc,f0).call(this);let n={...this.themeProps,...t};for(let i in n){if(g3.includes(i))continue;let a=t?.[i];typeof a=="boolean"||a==null?(e=this.mediaTheme)==null||e.toggleAttribute(A3(i),!!a):(r=this.mediaTheme)==null||r.setAttribute(A3(i),a)}}get playbackId(){var t;return(t=this.getAttribute(Ar.PLAYBACK_ID))!=null?t:void 0}set playbackId(t){t?this.setAttribute(Ar.PLAYBACK_ID,t):this.removeAttribute(Ar.PLAYBACK_ID)}get src(){var t,e;return this.playbackId?(t=_v(this,Lp.SRC))!=null?t:void 0:(e=this.getAttribute(Lp.SRC))!=null?e:void 0}set src(t){t?this.setAttribute(Lp.SRC,t):this.removeAttribute(Lp.SRC)}get poster(){var t;let e=this.getAttribute(Lp.POSTER);if(e!=null)return e;let{tokens:r}=this;if(r.playback&&!r.thumbnail){Dp("Missing expected thumbnail token. No poster image will be shown");return}if(this.playbackId&&!this.audio)return qqe(this.playbackId,{customDomain:this.customDomain,thumbnailTime:(t=this.thumbnailTime)!=null?t:this.startTime,programTime:this.programStartTime,token:r.thumbnail})}set poster(t){t||t===""?this.setAttribute(Lp.POSTER,t):this.removeAttribute(Lp.POSTER)}get storyboardSrc(){var t;return(t=this.getAttribute(fn.STORYBOARD_SRC))!=null?t:void 0}set storyboardSrc(t){t?this.setAttribute(fn.STORYBOARD_SRC,t):this.removeAttribute(fn.STORYBOARD_SRC)}get storyboard(){let{tokens:t}=this;if(this.storyboardSrc&&!t.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[Lo.LIVE,Lo.UNKNOWN].includes(this.streamType)||t.playback&&!t.storyboard))return Xqe(this.playbackId,{customDomain:this.customDomain,token:t.storyboard,programStartTime:this.programStartTime,programEndTime:this.programEndTime})}get audio(){return this.hasAttribute(fn.AUDIO)}set audio(t){if(!t){this.removeAttribute(fn.AUDIO);return}this.setAttribute(fn.AUDIO,"")}get hotkeys(){return Fo(this,OT)}get nohotkeys(){return this.hasAttribute(fn.NOHOTKEYS)}set nohotkeys(t){if(!t){this.removeAttribute(fn.NOHOTKEYS);return}this.setAttribute(fn.NOHOTKEYS,"")}get thumbnailTime(){return mf(this.getAttribute(fn.THUMBNAIL_TIME))}set thumbnailTime(t){this.setAttribute(fn.THUMBNAIL_TIME,`${t}`)}get videoTitle(){var t,e;return(e=(t=this.getAttribute(fn.VIDEO_TITLE))!=null?t:this.getAttribute(fn.TITLE))!=null?e:""}set videoTitle(t){t!==this.videoTitle&&(t?this.setAttribute(fn.VIDEO_TITLE,t):this.removeAttribute(fn.VIDEO_TITLE))}get placeholder(){var t;return(t=_v(this,fn.PLACEHOLDER))!=null?t:""}set placeholder(t){this.setAttribute(fn.PLACEHOLDER,`${t}`)}get primaryColor(){var t,e;let r=this.getAttribute(fn.PRIMARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=RA.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_primary-color"))==null?void 0:e.trim(),r))return r}set primaryColor(t){this.setAttribute(fn.PRIMARY_COLOR,`${t}`)}get secondaryColor(){var t,e;let r=this.getAttribute(fn.SECONDARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=RA.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_secondary-color"))==null?void 0:e.trim(),r))return r}set secondaryColor(t){this.setAttribute(fn.SECONDARY_COLOR,`${t}`)}get accentColor(){var t,e;let r=this.getAttribute(fn.ACCENT_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(t=RA.getComputedStyle(this.mediaTheme))==null?void 0:t.getPropertyValue("--_accent-color"))==null?void 0:e.trim(),r))return r}set accentColor(t){this.setAttribute(fn.ACCENT_COLOR,`${t}`)}get defaultShowRemainingTime(){return this.hasAttribute(fn.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(t){t?this.setAttribute(fn.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(fn.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(fn.PLAYBACK_RATES))return this.getAttribute(fn.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(t=>Number(t)).filter(t=>!Number.isNaN(t)).sort((t,e)=>t-e)}set playbackRates(t){if(!t){this.removeAttribute(fn.PLAYBACK_RATES);return}this.setAttribute(fn.PLAYBACK_RATES,t.join(" "))}get forwardSeekOffset(){var t;return(t=mf(this.getAttribute(fn.FORWARD_SEEK_OFFSET)))!=null?t:10}set forwardSeekOffset(t){this.setAttribute(fn.FORWARD_SEEK_OFFSET,`${t}`)}get backwardSeekOffset(){var t;return(t=mf(this.getAttribute(fn.BACKWARD_SEEK_OFFSET)))!=null?t:10}set backwardSeekOffset(t){this.setAttribute(fn.BACKWARD_SEEK_OFFSET,`${t}`)}get defaultHiddenCaptions(){return this.hasAttribute(fn.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(t){t?this.setAttribute(fn.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(fn.DEFAULT_HIDDEN_CAPTIONS)}get defaultDuration(){return mf(this.getAttribute(fn.DEFAULT_DURATION))}set defaultDuration(t){t==null?this.removeAttribute(fn.DEFAULT_DURATION):this.setAttribute(fn.DEFAULT_DURATION,`${t}`)}get playerInitTime(){return this.hasAttribute(Ar.PLAYER_INIT_TIME)?mf(this.getAttribute(Ar.PLAYER_INIT_TIME)):Fo(this,IT)}set playerInitTime(t){t!=this.playerInitTime&&(t==null?this.removeAttribute(Ar.PLAYER_INIT_TIME):this.setAttribute(Ar.PLAYER_INIT_TIME,`${+t}`))}get playerSoftwareName(){var t;return(t=this.getAttribute(Ar.PLAYER_SOFTWARE_NAME))!=null?t:bY}get playerSoftwareVersion(){var t;return(t=this.getAttribute(Ar.PLAYER_SOFTWARE_VERSION))!=null?t:yY}get beaconCollectionDomain(){var t;return(t=this.getAttribute(Ar.BEACON_COLLECTION_DOMAIN))!=null?t:void 0}set beaconCollectionDomain(t){t!==this.beaconCollectionDomain&&(t?this.setAttribute(Ar.BEACON_COLLECTION_DOMAIN,t):this.removeAttribute(Ar.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var t;return(t=this.getAttribute(Ar.MAX_RESOLUTION))!=null?t:void 0}set maxResolution(t){t!==this.maxResolution&&(t?this.setAttribute(Ar.MAX_RESOLUTION,t):this.removeAttribute(Ar.MAX_RESOLUTION))}get minResolution(){var t;return(t=this.getAttribute(Ar.MIN_RESOLUTION))!=null?t:void 0}set minResolution(t){t!==this.minResolution&&(t?this.setAttribute(Ar.MIN_RESOLUTION,t):this.removeAttribute(Ar.MIN_RESOLUTION))}get maxAutoResolution(){var t;return(t=this.getAttribute(Ar.MAX_AUTO_RESOLUTION))!=null?t:void 0}set maxAutoResolution(t){t==null?this.removeAttribute(Ar.MAX_AUTO_RESOLUTION):this.setAttribute(Ar.MAX_AUTO_RESOLUTION,t)}get renditionOrder(){var t;return(t=this.getAttribute(Ar.RENDITION_ORDER))!=null?t:void 0}set renditionOrder(t){t!==this.renditionOrder&&(t?this.setAttribute(Ar.RENDITION_ORDER,t):this.removeAttribute(Ar.RENDITION_ORDER))}get programStartTime(){return mf(this.getAttribute(Ar.PROGRAM_START_TIME))}set programStartTime(t){t==null?this.removeAttribute(Ar.PROGRAM_START_TIME):this.setAttribute(Ar.PROGRAM_START_TIME,`${t}`)}get programEndTime(){return mf(this.getAttribute(Ar.PROGRAM_END_TIME))}set programEndTime(t){t==null?this.removeAttribute(Ar.PROGRAM_END_TIME):this.setAttribute(Ar.PROGRAM_END_TIME,`${t}`)}get assetStartTime(){return mf(this.getAttribute(Ar.ASSET_START_TIME))}set assetStartTime(t){t==null?this.removeAttribute(Ar.ASSET_START_TIME):this.setAttribute(Ar.ASSET_START_TIME,`${t}`)}get assetEndTime(){return mf(this.getAttribute(Ar.ASSET_END_TIME))}set assetEndTime(t){t==null?this.removeAttribute(Ar.ASSET_END_TIME):this.setAttribute(Ar.ASSET_END_TIME,`${t}`)}get extraSourceParams(){return this.hasAttribute(fn.EXTRA_SOURCE_PARAMS)?[...new URLSearchParams(this.getAttribute(fn.EXTRA_SOURCE_PARAMS)).entries()].reduce((t,[e,r])=>(t[e]=r,t),{}):RXe}set extraSourceParams(t){t==null?this.removeAttribute(fn.EXTRA_SOURCE_PARAMS):this.setAttribute(fn.EXTRA_SOURCE_PARAMS,new URLSearchParams(t).toString())}get customDomain(){var t;return(t=this.getAttribute(Ar.CUSTOM_DOMAIN))!=null?t:void 0}set customDomain(t){t!==this.customDomain&&(t?this.setAttribute(Ar.CUSTOM_DOMAIN,t):this.removeAttribute(Ar.CUSTOM_DOMAIN))}get envKey(){var t;return(t=_v(this,Ar.ENV_KEY))!=null?t:void 0}set envKey(t){this.setAttribute(Ar.ENV_KEY,`${t}`)}get noVolumePref(){return this.hasAttribute(fn.NO_VOLUME_PREF)}set noVolumePref(t){t?this.setAttribute(fn.NO_VOLUME_PREF,""):this.removeAttribute(fn.NO_VOLUME_PREF)}get noMutedPref(){return this.hasAttribute(fn.NO_MUTED_PREF)}set noMutedPref(t){t?this.setAttribute(fn.NO_MUTED_PREF,""):this.removeAttribute(fn.NO_MUTED_PREF)}get debug(){return _v(this,Ar.DEBUG)!=null}set debug(t){t?this.setAttribute(Ar.DEBUG,""):this.removeAttribute(Ar.DEBUG)}get disableTracking(){return _v(this,Ar.DISABLE_TRACKING)!=null}set disableTracking(t){this.toggleAttribute(Ar.DISABLE_TRACKING,!!t)}get disableCookies(){return _v(this,Ar.DISABLE_COOKIES)!=null}set disableCookies(t){t?this.setAttribute(Ar.DISABLE_COOKIES,""):this.removeAttribute(Ar.DISABLE_COOKIES)}get streamType(){var t,e,r;return(r=(e=this.getAttribute(Ar.STREAM_TYPE))!=null?e:(t=this.media)==null?void 0:t.streamType)!=null?r:Lo.UNKNOWN}set streamType(t){this.setAttribute(Ar.STREAM_TYPE,`${t}`)}get defaultStreamType(){var t,e,r;return(r=(e=this.getAttribute(fn.DEFAULT_STREAM_TYPE))!=null?e:(t=this.mediaController)==null?void 0:t.getAttribute(fn.DEFAULT_STREAM_TYPE))!=null?r:Lo.ON_DEMAND}set defaultStreamType(t){t?this.setAttribute(fn.DEFAULT_STREAM_TYPE,t):this.removeAttribute(fn.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var t,e;return this.hasAttribute(fn.TARGET_LIVE_WINDOW)?+this.getAttribute(fn.TARGET_LIVE_WINDOW):(e=(t=this.media)==null?void 0:t.targetLiveWindow)!=null?e:Number.NaN}set targetLiveWindow(t){t==this.targetLiveWindow||Number.isNaN(t)&&Number.isNaN(this.targetLiveWindow)||(t==null?this.removeAttribute(fn.TARGET_LIVE_WINDOW):this.setAttribute(fn.TARGET_LIVE_WINDOW,`${+t}`))}get liveEdgeStart(){var t;return(t=this.media)==null?void 0:t.liveEdgeStart}get startTime(){return mf(_v(this,Ar.START_TIME))}set startTime(t){this.setAttribute(Ar.START_TIME,`${t}`)}get preferPlayback(){let t=this.getAttribute(Ar.PREFER_PLAYBACK);if(t===$A.MSE||t===$A.NATIVE)return t}set preferPlayback(t){t!==this.preferPlayback&&(t===$A.MSE||t===$A.NATIVE?this.setAttribute(Ar.PREFER_PLAYBACK,t):this.removeAttribute(Ar.PREFER_PLAYBACK))}get metadata(){var t;return(t=this.media)==null?void 0:t.metadata}set metadata(t){if(xu(this,Bc,f0).call(this),!this.media){gf("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...xY(this),...t}}get _hlsConfig(){var t;return(t=this.media)==null?void 0:t._hlsConfig}set _hlsConfig(t){if(xu(this,Bc,f0).call(this),!this.media){gf("underlying media element missing when trying to set _hlsConfig. _hlsConfig will not be set.");return}this.media._hlsConfig=t}async addCuePoints(t){var e;if(xu(this,Bc,f0).call(this),!this.media){gf("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(e=this.media)==null?void 0:e.addCuePoints(t)}get activeCuePoint(){var t;return(t=this.media)==null?void 0:t.activeCuePoint}get cuePoints(){var t,e;return(e=(t=this.media)==null?void 0:t.cuePoints)!=null?e:[]}addChapters(t){var e;if(xu(this,Bc,f0).call(this),!this.media){gf("underlying media element missing when trying to addChapters. chapters will not be added.");return}return(e=this.media)==null?void 0:e.addChapters(t)}get activeChapter(){var t;return(t=this.media)==null?void 0:t.activeChapter}get chapters(){var t,e;return(e=(t=this.media)==null?void 0:t.chapters)!=null?e:[]}getStartDate(){var t;return(t=this.media)==null?void 0:t.getStartDate()}get currentPdt(){var t;return(t=this.media)==null?void 0:t.currentPdt}get tokens(){let t=this.getAttribute(fn.PLAYBACK_TOKEN),e=this.getAttribute(fn.DRM_TOKEN),r=this.getAttribute(fn.THUMBNAIL_TOKEN),n=this.getAttribute(fn.STORYBOARD_TOKEN);return{...Fo(this,PT),...t!=null?{playback:t}:{},...e!=null?{drm:e}:{},...r!=null?{thumbnail:r}:{},...n!=null?{storyboard:n}:{}}}set tokens(t){GA(this,PT,t??{})}get playbackToken(){var t;return(t=this.getAttribute(fn.PLAYBACK_TOKEN))!=null?t:void 0}set playbackToken(t){this.setAttribute(fn.PLAYBACK_TOKEN,`${t}`)}get drmToken(){var t;return(t=this.getAttribute(fn.DRM_TOKEN))!=null?t:void 0}set drmToken(t){this.setAttribute(fn.DRM_TOKEN,`${t}`)}get thumbnailToken(){var t;return(t=this.getAttribute(fn.THUMBNAIL_TOKEN))!=null?t:void 0}set thumbnailToken(t){this.setAttribute(fn.THUMBNAIL_TOKEN,`${t}`)}get storyboardToken(){var t;return(t=this.getAttribute(fn.STORYBOARD_TOKEN))!=null?t:void 0}set storyboardToken(t){this.setAttribute(fn.STORYBOARD_TOKEN,`${t}`)}addTextTrack(t,e,r,n){var i;let a=(i=this.media)==null?void 0:i.nativeEl;if(a)return AU(a,t,e,r,n)}removeTextTrack(t){var e;let r=(e=this.media)==null?void 0:e.nativeEl;if(r)return hVe(r,t)}get textTracks(){var t;return(t=this.media)==null?void 0:t.textTracks}get castReceiver(){var t;return(t=this.getAttribute(fn.CAST_RECEIVER))!=null?t:void 0}set castReceiver(t){t!==this.castReceiver&&(t?this.setAttribute(fn.CAST_RECEIVER,t):this.removeAttribute(fn.CAST_RECEIVER))}get castCustomData(){var t;return(t=this.media)==null?void 0:t.castCustomData}set castCustomData(t){if(!this.media){gf("underlying media element missing when trying to set castCustomData. castCustomData will not be set.");return}this.media.castCustomData=t}get noTooltips(){return this.hasAttribute(fn.NO_TOOLTIPS)}set noTooltips(t){if(!t){this.removeAttribute(fn.NO_TOOLTIPS);return}this.setAttribute(fn.NO_TOOLTIPS,"")}get proudlyDisplayMuxBadge(){return this.hasAttribute(fn.PROUDLY_DISPLAY_MUX_BADGE)}set proudlyDisplayMuxBadge(t){t?this.setAttribute(fn.PROUDLY_DISPLAY_MUX_BADGE,""):this.removeAttribute(fn.PROUDLY_DISPLAY_MUX_BADGE)}get capRenditionToPlayerSize(){var t;return(t=this.media)==null?void 0:t.capRenditionToPlayerSize}set capRenditionToPlayerSize(t){if(!this.media){gf("underlying media element missing when trying to set capRenditionToPlayerSize");return}this.media.capRenditionToPlayerSize=t}};IT=new WeakMap,BT=new WeakMap,PT=new WeakMap,Mv=new WeakMap,OT=new WeakMap,Ub=new WeakMap,Bc=new WeakSet,f0=function(){var t,e,r,n;if(!Fo(this,BT)){GA(this,BT,!0),xu(this,Bc,Fv).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof RA.HTMLElement))throw""}catch{gf("<media-theme> failed to upgrade!")}try{customElements.upgrade(this.media)}catch{gf("underlying media element failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof rWe))throw""}catch{gf("<media-controller> failed to upgrade!")}xu(this,Bc,EY).call(this),xu(this,Bc,_Y).call(this),xu(this,Bc,SY).call(this),GA(this,Mv,(e=(t=this.mediaController)==null?void 0:t.hasAttribute(es.USER_INACTIVE))!=null?e:!0),xu(this,Bc,jY).call(this),(r=this.media)==null||r.addEventListener("streamtypechange",()=>xu(this,Bc,Fv).call(this)),(n=this.media)==null||n.addEventListener("loadstart",()=>xu(this,Bc,Fv).call(this))}},rce=function(){var t,e;try{(t=window?.CSS)==null||t.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window?.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},v3=function(t){Object.assign(Fo(this,Ub),t),xu(this,Bc,Fv).call(this)},Fv=function(t={}){pXe(vXe(NXe(this,{...Fo(this,Ub),...t})),this.shadowRoot)},EY=function(){let t=e=>{var r,n;if(!(e!=null&&e.startsWith("theme-")))return;let i=e.replace(/^theme-/,"");if(g3.includes(i))return;let a=this.getAttribute(e);a!=null?(r=this.mediaTheme)==null||r.setAttribute(i,a):(n=this.mediaTheme)==null||n.removeAttribute(i)};new MutationObserver(e=>{for(let{attributeName:r}of e)t(r)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(t)},_Y=function(){let t=e=>{var r;let n=(r=this.media)==null?void 0:r.error;if(!(n instanceof si)){let{message:a,code:o}=n??{};n=new si(a,o)}if(!(n!=null&&n.fatal)){Dp(n),n.data&&Dp(`${n.name} data:`,n.data);return}let i=pY(n);i.message&&Xle(i),gf(n),n.data&&gf(`${n.name} data:`,n.data),xu(this,Bc,v3).call(this,{isDialogOpen:!0})};this.addEventListener("error",t),this.media&&(this.media.errorTranslator=(e={})=>{var r,n,i;if(!(((r=this.media)==null?void 0:r.error)instanceof si))return e;let a=pY((n=this.media)==null?void 0:n.error);return{player_error_code:(i=this.media)==null?void 0:i.error.code,player_error_message:a.message?String(a.message):e.player_error_message,player_error_context:a.context?String(a.context):e.player_error_context}})},SY=function(){var t,e,r,n;let i=()=>xu(this,Bc,Fv).call(this);(e=(t=this.media)==null?void 0:t.textTracks)==null||e.addEventListener("addtrack",i),(n=(r=this.media)==null?void 0:r.textTracks)==null||n.addEventListener("removetrack",i)},jY=function(){var t,e;if(!/Firefox/i.test(navigator.userAgent))return;let r,n=new WeakMap,i=()=>this.streamType===Lo.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,a=(u,l,d=!1)=>{i()||Array.from(u&&u.activeCues||[]).forEach(f=>{if(!(!f.snapToLines||f.line<-5||f.line>=0&&f.line<10))if(!l||this.paused){let m=f.text.split(`
`).length,p=-3;this.streamType===Lo.LIVE&&(p=-2);let g=p-m;if(f.line===g&&!d)return;n.has(f)||n.set(f,f.line),f.line=g}else setTimeout(()=>{f.line=n.get(f)||"auto"},500)})},o=()=>{var u,l;a(r,(l=(u=this.mediaController)==null?void 0:u.hasAttribute(es.USER_INACTIVE))!=null?l:!1)},c=()=>{var u,l;let d=Array.from(((l=(u=this.mediaController)==null?void 0:u.media)==null?void 0:l.textTracks)||[]).filter(f=>["subtitles","captions"].includes(f.kind)&&f.mode==="showing")[0];d!==r&&r?.removeEventListener("cuechange",o),r=d,r?.addEventListener("cuechange",o),a(r,Fo(this,Mv))};c(),(t=this.textTracks)==null||t.addEventListener("change",c),(e=this.textTracks)==null||e.addEventListener("addtrack",c),this.addEventListener("userinactivechange",()=>{var u,l;let d=(l=(u=this.mediaController)==null?void 0:u.hasAttribute(es.USER_INACTIVE))!=null?l:!0;Fo(this,Mv)!==d&&(GA(this,Mv,d),a(r,Fo(this,Mv)))})};function _v(t,e){return t.media?t.media.getAttribute(e):t.getAttribute(e)}var TY=DXe,nce=class{addEventListener(){}removeEventListener(){}dispatchEvent(t){return!0}};if(typeof DocumentFragment>"u"){class t extends nce{}globalThis.DocumentFragment=t}var MXe=class extends nce{},FXe={get(t){},define(t,e,r){},getName(t){return null},upgrade(t){},whenDefined(t){return Promise.resolve(MXe)}},UXe={customElements:FXe},$Xe=typeof window>"u"||typeof globalThis.customElements>"u",_B=$Xe?UXe:globalThis;_B.customElements.get("mux-player")||(_B.customElements.define("mux-player",TY),_B.MuxPlayerElement=TY);var ice=parseInt(Ao.version)>=19,CY={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},HXe=t=>t==null,QXe=(t,e)=>HXe(e)?!1:t in e,zXe=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),VXe=(t,e)=>{if(!(!ice&&typeof e=="boolean"&&!e)){if(QXe(t,CY))return CY[t];if(typeof e<"u")return/[A-Z]/.test(t)?zXe(t):t}},KXe=(t,e)=>!ice&&typeof t=="boolean"?"":t,GXe=(t={})=>{let{ref:e,...r}=t;return Object.entries(r).reduce((n,[i,a])=>{let o=VXe(i,a);if(!o)return n;let c=KXe(a);return n[o]=c,n},{})};function NY(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WXe(...t){return e=>{let r=!1,n=t.map(i=>{let a=NY(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){let a=n[i];typeof a=="function"?a():NY(t[i],null)}}}}function YXe(...t){return T.useCallback(WXe(...t),t)}var qXe=Object.prototype.hasOwnProperty,XXe=(t,e)=>{if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(Array.isArray(t))return!Array.isArray(e)||t.length!==e.length?!1:t.some((i,a)=>e[a]===i);let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!qXe.call(e,r[i])||!Object.is(t[r[i]],e[r[i]]))return!1;return!0},sce=(t,e,r)=>!XXe(e,t[r]),ZXe=(t,e,r)=>{t[r]=e},JXe=(t,e,r,n=ZXe,i=sce)=>T.useEffect(()=>{let a=r?.current;a&&i(a,e,t)&&n(a,e,t)},[r?.current,e]),vA=JXe,eZe=()=>{try{return"3.11.4"}catch{}return"UNKNOWN"},tZe=eZe(),rZe=()=>tZe,Ml=(t,e,r)=>T.useEffect(()=>{let n=e?.current;if(!n||!r)return;let i=t,a=r;return n.addEventListener(i,a),()=>{n.removeEventListener(i,a)}},[e?.current,r,t]),nZe=Ao.forwardRef(({children:t,...e},r)=>Ao.createElement("mux-player",{suppressHydrationWarning:!0,...GXe(e),ref:r},t)),iZe=(t,e)=>{let{onAbort:r,onCanPlay:n,onCanPlayThrough:i,onEmptied:a,onLoadStart:o,onLoadedData:c,onLoadedMetadata:u,onProgress:l,onDurationChange:d,onVolumeChange:f,onRateChange:m,onResize:p,onWaiting:g,onPlay:x,onPlaying:y,onTimeUpdate:w,onPause:E,onSeeking:_,onSeeked:N,onStalled:C,onSuspend:I,onEnded:D,onError:M,onCuePointChange:Y,onChapterChange:X,metadata:te,tokens:de,paused:ye,playbackId:we,playbackRates:ve,currentTime:ne,themeProps:ae,extraSourceParams:oe,castCustomData:Re,_hlsConfig:Pe,...be}=e;return vA("tokens",de,t),vA("playbackId",we,t),vA("playbackRates",ve,t),vA("metadata",te,t),vA("extraSourceParams",oe,t),vA("_hlsConfig",Pe,t),vA("themeProps",ae,t),vA("castCustomData",Re,t),vA("paused",ye,t,(he,Ie)=>{Ie!=null&&(Ie?he.pause():he.play())},(he,Ie,Oe)=>he.hasAttribute("autoplay")&&!he.hasPlayed?!1:sce(he,Ie,Oe)),vA("currentTime",ne,t,(he,Ie)=>{Ie!=null&&(he.currentTime=Ie)}),Ml("abort",t,r),Ml("canplay",t,n),Ml("canplaythrough",t,i),Ml("emptied",t,a),Ml("loadstart",t,o),Ml("loadeddata",t,c),Ml("loadedmetadata",t,u),Ml("progress",t,l),Ml("durationchange",t,d),Ml("volumechange",t,f),Ml("ratechange",t,m),Ml("resize",t,p),Ml("waiting",t,g),Ml("play",t,x),Ml("playing",t,y),Ml("timeupdate",t,w),Ml("pause",t,E),Ml("seeking",t,_),Ml("seeked",t,N),Ml("stalled",t,C),Ml("suspend",t,I),Ml("ended",t,D),Ml("error",t,M),Ml("cuepointchange",t,Y),Ml("chapterchange",t,X),[be]},sZe=rZe(),aZe="mux-player-react",oZe=Ao.forwardRef((t,e)=>{var r;let n=T.useRef(null),i=YXe(n,e),[a]=iZe(n,t),[o]=T.useState((r=t.playerInitTime)!=null?r:xU());return Ao.createElement(nZe,{ref:i,defaultHiddenCaptions:t.defaultHiddenCaptions,playerSoftwareName:aZe,playerSoftwareVersion:sZe,playerInitTime:o,...a})}),lZe=oZe;function cZe({playbackId:t,title:e,poster:r,isLive:n=!1,viewerEmail:i="",onShare:a,className:o=""}){const[c,u]=T.useState(!0),[l,d]=T.useState(!1),[f,m]=T.useState(!1),[p,g]=T.useState([]),x=T.useRef(null),y=T.useRef(null);T.useEffect(()=>{const N=()=>{u(!0),clearTimeout(y.current),y.current=setTimeout(()=>{u(!1)},3e3)},C=x.current;if(C)return C.addEventListener("mousemove",N),()=>C.removeEventListener("mousemove",N)},[]),T.useEffect(()=>{const N=()=>{d(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",N),()=>document.removeEventListener("fullscreenchange",N)},[]);const w=()=>{document.fullscreenElement?document.exitFullscreen():x.current?.requestFullscreen()},E=N=>{const C=Date.now(),I={id:C,emoji:N,x:Math.random()*80+10,delay:Math.random()*.5};g(D=>[...D,I]),setTimeout(()=>{g(D=>D.filter(M=>M.id!==C))},3e3)},_=["","","","","",""];return s.jsxs("div",{ref:x,className:`relative bg-black group ${o}`,children:[s.jsx(lZe,{playbackId:t||"demo-playback-id",metadata:{video_title:e,viewer_user_id:i},streamType:n?"live":"on-demand",autoPlay:!0,poster:r,className:"w-full aspect-video"}),n&&s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-500 text-white font-bold rounded-full animate-glow",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]})}),s.jsx("div",{className:"absolute bottom-20 right-4 pointer-events-none overflow-hidden h-64 w-16",children:p.map(N=>s.jsx("div",{className:"absolute animate-float text-3xl",style:{left:`${N.x}%`,animationDelay:`${N.delay}s`,bottom:0},children:N.emoji},N.id))}),f&&s.jsx("div",{className:"absolute bottom-20 right-4 z-20 animate-scaleIn",children:s.jsx("div",{className:"bg-dark-900/90 backdrop-blur-sm rounded-2xl p-3 border border-dark-700",children:s.jsx("div",{className:"grid grid-cols-3 gap-2",children:_.map((N,C)=>s.jsx("button",{onClick:()=>E(N),className:"w-12 h-12 rounded-xl bg-dark-800 hover:bg-dark-700 flex items-center justify-center text-2xl transition-transform hover:scale-110 active:scale-95",children:N},N))})})}),s.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-colors",title:"Share",children:s.jsx(bq,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsx("button",{onClick:()=>m(!f),className:`p-2 rounded-lg transition-colors ${f?"bg-red-500 text-white":"bg-white/10 hover:bg-white/20 text-white"}`,title:"Reactions",children:s.jsx(nm,{className:"w-5 h-5"})}),s.jsx("button",{onClick:w,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-colors",title:l?"Exit Fullscreen":"Fullscreen",children:l?s.jsx(vfe,{className:"w-5 h-5"}):s.jsx(ffe,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:`absolute top-0 left-0 right-0 bg-gradient-to-b from-black/70 to-transparent p-4 transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,children:s.jsx("h2",{className:"text-white font-semibold text-lg truncate pr-20",children:e})}),s.jsx("style",{jsx:!0,children:`
        @keyframes float {
          0% {
            transform: translateY(0) scale(1);
            opacity: 1;
          }
          100% {
            transform: translateY(-200px) scale(1.5);
            opacity: 0;
          }
        }
        .animate-float {
          animation: float 3s ease-out forwards;
        }
      `})]})}function uZe({isLive:t=!1,viewerCount:e=0,showViewers:r=!0,size:n="default",className:i=""}){const[a,o]=T.useState(e),[c,u]=T.useState(!1);T.useEffect(()=>{e>a&&(u(!0),setTimeout(()=>u(!1),1e3));const f=e-a;if(Math.abs(f)>10){const m=Math.ceil(f/10),p=setInterval(()=>{o(g=>{const x=g+m;return m>0&&x>=e||m<0&&x<=e?(clearInterval(p),e):x})},50);return()=>clearInterval(p)}else o(e)},[e]);const d={small:{container:"px-2 py-1 text-xs gap-1.5",dot:"w-1.5 h-1.5",icon:"w-3 h-3"},default:{container:"px-3 py-1.5 text-sm gap-2",dot:"w-2 h-2",icon:"w-4 h-4"},large:{container:"px-4 py-2 text-base gap-2.5",dot:"w-2.5 h-2.5",icon:"w-5 h-5"}}[n];return t?s.jsxs("div",{className:`flex items-center gap-3 ${i}`,children:[s.jsxs("div",{className:`inline-flex items-center ${d.container} bg-gradient-to-r from-red-600 to-red-500 text-white font-bold rounded-full shadow-lg shadow-red-500/25`,children:[s.jsx("span",{className:`${d.dot} bg-white rounded-full animate-pulse`}),s.jsx("span",{className:"uppercase tracking-wide",children:"Live"})]}),r&&a>0&&s.jsxs("div",{className:`inline-flex items-center ${d.container} bg-dark-800/90 backdrop-blur-sm text-white rounded-full border border-dark-700`,children:[s.jsx(F0,{className:`${d.icon} text-gray-400`}),s.jsx("span",{className:`font-semibold tabular-nums ${c?"text-green-400":""}`,children:a.toLocaleString()}),c&&s.jsx(Tf,{className:`${d.icon} text-green-400 animate-bounce`})]})]}):null}function dZe({eventId:t,className:e=""}){const[r,n]=T.useState(null),[i,a]=T.useState(!0);T.useEffect(()=>{if(!t)return;o();const u=setInterval(o,3e4);return()=>clearInterval(u)},[t]);const o=async()=>{try{const u=new Date(Date.now()-12e4).toISOString(),{count:l,error:d}=await jr.from("livestream_sessions").select("*",{count:"exact",head:!0}).eq("event_id",t).gte("last_heartbeat",u);d||n(l||0)}catch(u){console.error("Failed to fetch viewer count:",u)}finally{a(!1)}};if(i||r===null)return null;const c=u=>u>=1e3?`${(u/1e3).toFixed(1)}k`:u.toString();return s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 bg-dark-800/80 backdrop-blur-sm rounded-full ${e}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(F0,{className:"w-4 h-4 text-red-500"}),r>0&&s.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),s.jsx("span",{className:"text-sm font-medium text-white",children:c(r)}),s.jsx("span",{className:"text-sm text-gray-400",children:r===1?"viewer":"viewers"})]})}function hZe({streams:t,selectedStream:e,onSelect:r,isLive:n=!1}){const[i,a]=T.useState({});if(T.useEffect(()=>{if(!t||t.length===0)return;const c=async()=>{const l=t.filter(d=>d.mux_stream_id);if(l.length!==0)try{const d=await Promise.all(l.map(async m=>{try{const{data:p,error:g}=await jr.functions.invoke("mux-stream",{body:{action:"stream-status",mux_stream_id:m.mux_stream_id}});if(!g&&p)return{id:m.id,isLive:p.isLive,status:p.status}}catch(p){console.warn("Failed to fetch stream status:",p)}return{id:m.id,isLive:!1,status:"unknown"}})),f={};d.forEach(m=>{f[m.id]=m}),a(f)}catch(d){console.error("Failed to fetch stream statuses:",d)}};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[t]),!t||t.length<=1)return null;const o=c=>i[c.id]?i[c.id].isLive:c.status==="live"||c.status==="active";return s.jsxs("div",{className:"bg-dark-900/80 backdrop-blur-sm rounded-xl border border-dark-700 p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Up,{className:"w-5 h-5 text-red-500"}),s.jsx("h3",{className:"text-white font-semibold",children:"Select Stream"}),n&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-red-500/20 text-red-500 text-xs font-medium rounded-full",children:[s.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"LIVE"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:t.map(c=>{const u=e?.id===c.id,l=o(c);return s.jsxs("button",{onClick:()=>r(c),className:`relative flex flex-col items-center justify-center p-4 rounded-lg border-2 transition-all ${u?"border-red-500 bg-red-500/10":"border-dark-600 bg-dark-800 hover:border-dark-500 hover:bg-dark-700"}`,children:[l&&s.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u&&s.jsx("div",{className:"absolute top-2 left-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:s.jsx(to,{className:"w-3 h-3 text-white"})}),s.jsx(zb,{className:`w-8 h-8 mb-2 ${u?"text-red-500":"text-gray-400"}`}),s.jsx("span",{className:`text-sm font-medium ${u?"text-white":"text-gray-300"}`,children:c.name}),s.jsx("span",{className:`text-xs mt-1 ${l?"text-red-400":"text-gray-500"}`,children:l?"Live":"Waiting"})]},c.id)})}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"You can switch between streams at any time"})]})}function fZe({streams:t,selectedStream:e,onSelect:r,liveStatuses:n={}}){const[i,a]=T.useState(!1),[o,c]=T.useState({});if(T.useEffect(()=>{if(!t||t.length===0)return;const d=async()=>{const m=t.filter(p=>p.mux_stream_id);if(m.length!==0)try{const p=await Promise.all(m.map(async x=>{try{const y=await fetch(`${STREAM_STATUS_API}/${x.mux_stream_id}`);if(y.ok){const w=await y.json();return{id:x.id,isLive:w.isLive,status:w.status}}}catch(y){console.warn("Failed to fetch stream status:",y)}return{id:x.id,isLive:!1,status:"unknown"}})),g={};p.forEach(x=>{g[x.id]=x}),c(g)}catch(p){console.error("Failed to fetch stream statuses:",p)}};d();const f=setInterval(d,3e4);return()=>clearInterval(f)},[t]),!t||t.length<=1)return null;const u={...n,...o},l=d=>u[d.id]?u[d.id].isLive:d.status==="live"||d.status==="active";return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-2 px-3 py-1.5 bg-black/60 hover:bg-black/80 text-white rounded-lg text-sm font-medium transition-colors",children:[s.jsx(Up,{className:"w-4 h-4"}),e?.name||"Select Stream"]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),s.jsx("div",{className:"absolute bottom-full left-0 mb-2 w-48 bg-dark-900 border border-dark-700 rounded-lg shadow-xl z-50",children:t.map(d=>{const f=e?.id===d.id,m=l(d);return s.jsxs("button",{onClick:()=>{r(d),a(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${f?"bg-red-500/20 text-white":"text-gray-300 hover:bg-dark-800 hover:text-white"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx(zb,{className:`w-5 h-5 ${f?"text-red-500":"text-gray-500"}`}),m&&s.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:d.name}),s.jsx("p",{className:`text-xs ${m?"text-red-400":"text-gray-500"}`,children:m?"Live":"Waiting"})]}),f&&s.jsx(to,{className:"w-4 h-4 text-red-500"})]},d.id)})})]})]})}function mZe(){const{eventId:t}=Lf(),[e]=W0(),[r,n]=T.useState(null),[i,a]=T.useState(e.get("email")||""),[o,c]=T.useState(null),[u,l]=T.useState(!1),[d,f]=T.useState(!0),[m,p]=T.useState(!1),[g,x]=T.useState(null),[y,w]=T.useState(!1),[E,_]=T.useState(null),[N,C]=T.useState(null),[I,D]=T.useState(!0),[M,Y]=T.useState(!1),[X,te]=T.useState(0),de=T.useRef(null),ye=T.useRef(null),[we,ve]=T.useState([]),[ne,ae]=T.useState(null),[oe,Re]=T.useState(!1),[Pe,be]=T.useState({}),[he,Ie]=T.useState(!1),[Oe,$e]=T.useState(!1);T.useEffect(()=>{if(!we||we.length===0)return;const ar=async()=>{const mn=we.filter($r=>$r.mux_stream_id);if(mn.length!==0)try{const $r=await Promise.all(mn.map(async vr=>{try{const{data:cn,error:bn}=await jr.functions.invoke("mux-stream",{body:{action:"stream-status",mux_stream_id:vr.mux_stream_id}});if(!bn&&cn)return{id:vr.id,isLive:cn.isLive,status:cn.status}}catch(cn){console.warn("Failed to fetch stream status:",cn)}return{id:vr.id,isLive:!1,status:"unknown"}})),or={};$r.forEach(vr=>{or[vr.id]=vr}),be(or)}catch($r){console.error("Failed to fetch stream statuses:",$r)}};ar();const Dr=setInterval(ar,3e4);return()=>clearInterval(Dr)},[we]);const De=ar=>Pe[ar.id]?Pe[ar.id].isLive:ar.status==="live"||ar.status==="active";T.useEffect(()=>(pt(),()=>{de.current&&clearInterval(de.current)}),[t]),T.useEffect(()=>{r&&(e.get("bypass")||r.geo_blocking_enabled?ct():D(!1))},[r]),T.useEffect(()=>{if(!r)return;const ar=new Date,Dr=r.end_time?new Date(r.end_time):null,mn=new Date(r.start_time),$r=new Date(mn.getTime()+480*60*1e3);if((Dr?ar>Dr:ar>$r)&&r.vod_enabled&&(Ie(!0),r.vod_available_until)){const vr=new Date(r.vod_available_until);ar>vr&&$e(!0)}},[r]);const ct=async()=>{try{const ar=e.get("bypass"),mn=await(await fetch("https://gonalgubgldgpkcekaxe.supabase.co/functions/v1/geo-check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({venue_lat:r.geo_lat,venue_lng:r.geo_lng,radius_km:r.geo_radius_km||50,event_id:t,bypass_token:ar})})).json();mn.bypass?(_(!1),C({...mn,crew_bypass:!0}),l(!0),a("crew@bypass"),r?.is_multi_stream&&Re(!0)):(_(mn.blocked),C(mn))}catch(ar){console.error("Geo check failed:",ar),_(!1)}finally{D(!1)}};T.useEffect(()=>{const ar=e.get("email");ar&&r&&!u&&Ue(ar)},[r,e]),T.useEffect(()=>(o&&u&&(de.current=setInterval(async()=>{try{await q3e(o)||(w(!0),l(!1),clearInterval(de.current))}catch(ar){console.error("Heartbeat failed:",ar),w(!0),l(!1),clearInterval(de.current)}},3e4)),()=>{de.current&&clearInterval(de.current)}),[o,u]),T.useEffect(()=>{if(!r)return;const Dr=(vr=>{if(!vr)return new Date;const cn=vr.replace(/[Z+].*$/,"").replace(/\.000$/,"");return new Date(cn)})(r.start_time),mn=r.is_live||r.status==="live",$r=new Date>=Dr,or=e.get("preview")==="player";if($r&&!mn&&!or)return Y(!0),ye.current=setInterval(async()=>{try{const vr=await gO(t);(vr?.is_live||vr?.status==="live")&&(clearInterval(ye.current),n(vr),Y(!1))}catch(vr){console.error("Failed to check event status:",vr)}},15e3),()=>{ye.current&&clearInterval(ye.current)};Y(!1)},[r,t,e]);const pt=async()=>{try{const ar=await gO(t);if(n(ar),ar?.is_multi_stream)try{const Dr=await YC(t);if(ve(Dr||[]),!e.get("bypass")){const $r=Dr?.find(or=>or.is_default)||Dr?.[0];$r&&ae($r)}}catch(Dr){console.error("Failed to load streams:",Dr)}}catch{x("Event not found")}finally{f(!1)}},Ue=async(ar=i)=>{if(!ar){x("Please enter your email");return}p(!0),x(null),w(!1);try{const Dr=e.get("session_id");let mn=await iK(t,ar);if(!mn&&Dr)try{const{data:or}=await jr.functions.invoke("verify-payment",{body:{session_id:Dr,event_id:t,email:ar}});or?.verified&&(mn=await iK(t,ar))}catch(or){console.warn("Payment verification edge function failed:",or)}if(!mn){x("No purchase found for this email. Please check your email or purchase access."),l(!1);return}const $r=await Y3e({event_id:t,order_id:mn.id,email:ar.toLowerCase()});c($r.token),l(!0),a(ar),Dr&&p6e(t,ar),localStorage.setItem(`livestream_session_${t}`,$r.token),localStorage.setItem(`livestream_email_${t}`,ar)}catch(Dr){console.error("Verify error:",Dr),x("Failed to verify access. Please try again."),l(!1)}finally{p(!1)}};if(d)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-dark-700 border-t-red-500 mx-auto"}),s.jsx(Vd,{className:"absolute inset-0 m-auto w-6 h-6 text-red-500"})]}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Loading stream..."})]})});if(g&&!r)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx(M0,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-400",children:g})]})});if(E)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 blur-2xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:s.jsx(pd,{className:"w-10 h-10 text-yellow-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Location Restricted"}),s.jsxs("p",{className:"text-gray-400 mb-4",children:["Online streaming is not available within ",r.geo_radius_km||50,"km of the venue."]}),N?.user_location&&s.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Distance from venue: ",s.jsxs("span",{className:"text-white font-semibold",children:[N.distance_km,"km"]})]}),s.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-4 mb-6 border border-dark-700/50",children:[s.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Watch live in person at:"}),s.jsx("p",{className:"text-white font-semibold",children:r.venue})]}),r.ticket_url&&s.jsxs("a",{href:r.ticket_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg shadow-red-500/25",children:[s.jsx(Vd,{className:"w-5 h-5"}),"Get Tickets"]})]})]})});if(y)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 blur-2xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-yellow-500/20 to-orange-500/20 flex items-center justify-center",children:s.jsx(M0,{className:"w-10 h-10 text-yellow-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Session Ended"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"This stream is now playing on another device. Only one active viewing session is allowed per purchase."}),s.jsxs("button",{onClick:()=>Ue(i),className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-bold rounded-xl transition-all duration-300 shadow-lg shadow-red-500/25",children:[s.jsx(U0,{className:"w-5 h-5"}),"Watch Here Instead"]})]})]})});if(I)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-dark-700 border-t-red-500 mx-auto"}),s.jsx(Qb,{className:"absolute inset-0 m-auto w-6 h-6 text-red-500"})]}),s.jsx("p",{className:"text-gray-400 mt-4",children:"Checking access..."})]})});if(!u)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/10 to-orange-500/10 blur-2xl rounded-3xl"}),s.jsxs("div",{className:"relative bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 overflow-hidden",children:[r.thumbnail_url&&s.jsxs("div",{className:"relative h-32 overflow-hidden",children:[s.jsx("img",{src:Uh(r.thumbnail_url),alt:r.title,className:"w-full h-full object-cover opacity-50"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-900 to-transparent"})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:r.title}),s.jsx("p",{className:"text-gray-400",children:r.org_display_name||r.organization})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Enter Your Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(nu,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"}),s.jsx("input",{type:"email",value:i,onChange:ar=>a(ar.target.value),placeholder:"your@email.com",className:"w-full pl-12 pr-4 py-4 bg-dark-800/50 border border-dark-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-300"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[s.jsx(Qb,{className:"w-3 h-3"}),"Use the email from your purchase"]})]}),g&&s.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg",children:s.jsx("p",{className:"text-red-400 text-sm",children:g})}),s.jsx("button",{onClick:()=>Ue(),disabled:m||!i,className:"w-full py-4 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:from-dark-700 disabled:to-dark-700 disabled:cursor-not-allowed text-white font-bold rounded-xl transition-all duration-300 flex items-center justify-center gap-2 shadow-lg shadow-red-500/25 disabled:shadow-none",children:m?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vd,{className:"w-5 h-5"}),"Watch Stream"]})}),s.jsxs("div",{className:"text-center pt-4 border-t border-dark-800",children:[s.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Don't have access?"}),s.jsxs(ss,{to:`/live/${t}`,className:"text-red-500 hover:text-red-400 font-semibold transition-colors",children:["Purchase Access  $",r.price," AUD"]})]})]})]})]})]})});const Ye=(ar=>{if(!ar)return new Date;const Dr=ar.replace(/[Z+].*$/,"").replace(/\.000$/,"");return new Date(Dr)})(r.start_time),Se=r.is_live||r.status==="live",mt=r.doors_open===!0,qe=e.get("preview")==="player",Tt=new Date>=Ye,bt=!mt&&(Se||Tt)&&!qe,gt=!mt&&!Se&&!Tt&&!qe;if(he&&Oe)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-lg mx-auto px-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gray-500/20 flex items-center justify-center",children:s.jsx(Fp,{className:"w-10 h-10 text-gray-500"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Replay No Longer Available"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"The VOD replay for this event has expired and is no longer available for viewing."}),s.jsx(ss,{to:"/live",className:"inline-flex items-center gap-2 px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-xl transition-colors",children:"Browse Other Events"})]})});if(bt)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsxs("div",{className:"max-w-lg mx-auto px-4 text-center",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-red-500/20 flex items-center justify-center",children:s.jsx(pq,{className:"w-10 h-10 text-red-500"})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Stream Temporarily Unavailable"}),s.jsx("p",{className:"text-gray-400 mb-6",children:r.doors_closed_message||"The stream is currently unavailable. Please check back shortly."}),s.jsx("p",{className:"text-sm text-gray-500",children:"If you've purchased access, you'll be able to watch once the stream resumes."})]})});if(gt)return s.jsx("div",{className:"min-h-screen bg-dark-950",children:s.jsx("div",{className:"w-full bg-gradient-to-b from-dark-900 to-dark-950",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 text-center",children:[r.thumbnail_url&&s.jsxs("div",{className:"relative max-w-2xl mx-auto mb-8 rounded-2xl overflow-hidden shadow-2xl shadow-red-500/10 group",children:[s.jsx("img",{src:Uh(r.thumbnail_url),alt:r.title,className:"w-full aspect-video object-cover opacity-80 transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-950 via-dark-950/50 to-transparent"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/20",children:s.jsx(jf,{className:"w-10 h-10 text-white"})})})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-500/20 text-yellow-500 rounded-full text-sm font-medium mb-6 border border-yellow-500/30",children:[s.jsx(nm,{className:"w-4 h-4"}),"Waiting Room"]}),s.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-white mb-3",children:r.title}),s.jsx("p",{className:"text-xl text-gray-400 mb-8",children:r.org_display_name||r.organization}),s.jsx("div",{className:"bg-dark-800/30 backdrop-blur-sm rounded-2xl p-8 max-w-xl mx-auto mb-8 border border-dark-700/50",children:s.jsx(xie,{targetDate:r.start_time,onComplete:()=>pt()})}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-6 text-gray-400 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(Cl,{className:"w-5 h-5 text-red-500"}),Ye.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(jf,{className:"w-5 h-5 text-red-500"}),Ye.toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"})," AEST"]}),s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(pd,{className:"w-5 h-5 text-red-500"}),r.venue]})]}),s.jsxs("div",{className:"bg-dark-800/30 backdrop-blur-sm rounded-2xl p-6 max-w-md mx-auto border border-dark-700/50",children:[s.jsx(ohe,{className:"w-10 h-10 text-red-500 mx-auto mb-3"}),s.jsx("p",{className:"text-white font-semibold mb-2",children:"Don't miss the start!"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Keep this tab open  it will automatically refresh when the event goes live."}),s.jsxs("p",{className:"text-gray-600 text-xs flex items-center justify-center gap-1",children:[s.jsx(sh,{className:"w-3 h-3"}),"Logged in as: ",i]})]})]})})});if(Tt&&!Se&&!qe)return s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 blur-2xl rounded-3xl animate-pulse"}),s.jsxs("div",{className:"relative bg-dark-900/95 backdrop-blur-xl rounded-2xl border border-dark-700/50 p-8 text-center",children:[r.thumbnail_url&&s.jsxs("div",{className:"relative max-w-sm mx-auto mb-6 rounded-xl overflow-hidden",children:[s.jsx("img",{src:Uh(r.thumbnail_url),alt:r.title,className:"w-full aspect-video object-cover opacity-60"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-dark-700 border-t-red-500"})})]}),s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-500/20 text-yellow-500 rounded-full text-sm font-medium mb-4 border border-yellow-500/30 animate-pulse",children:[s.jsx(nm,{className:"w-4 h-4"}),"Starting Soon"]}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),s.jsx("p",{className:"text-gray-400 mb-6",children:"The event is about to begin. The stream will start momentarily."}),s.jsx("p",{className:"text-gray-500 text-sm",children:"This page will automatically refresh when the stream goes live."}),s.jsxs("p",{className:"text-gray-600 text-xs mt-4 flex items-center justify-center gap-1",children:[s.jsx(sh,{className:"w-3 h-3"}),"Logged in as: ",i]})]})]})});const rr=he&&r.vod_playback_id?r.vod_playback_id:ne?.mux_playback_id||r.mux_playback_id||"demo-playback-id",Jt=we.length>1;return Jt&&(oe||!ne)?s.jsxs("div",{className:"min-h-screen bg-dark-950",children:[qe&&s.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-black px-4 py-2 text-center text-sm font-medium",children:" Preview Mode  This is how the player page will look. No stream is playing."}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[r.thumbnail_url&&s.jsxs("div",{className:"relative max-w-md mx-auto mb-6 rounded-xl overflow-hidden shadow-xl",children:[s.jsx("img",{src:Uh(r.thumbnail_url),alt:r.title,className:"w-full aspect-video object-cover opacity-70"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-dark-950 via-dark-950/30 to-transparent"})]}),s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:r.title}),s.jsx("p",{className:"text-gray-400",children:r.org_display_name||r.organization}),N?.crew_bypass&&s.jsxs("span",{className:"inline-flex items-center gap-1 mt-3 px-3 py-1 bg-green-500/20 text-green-400 text-sm font-medium rounded-full border border-green-500/30",children:[s.jsx(sh,{className:"w-4 h-4"}),"Crew Access"]})]}),s.jsxs("div",{className:"bg-dark-900/50 backdrop-blur-sm rounded-2xl border border-dark-700/50 p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[s.jsx(Up,{className:"w-6 h-6 text-red-500"}),s.jsx("h2",{className:"text-xl font-bold text-white",children:"Select a Stream"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:we.map(ar=>{const Dr=De(ar);return s.jsxs("button",{onClick:()=>{ae(ar),Re(!1)},className:"relative flex flex-col items-center justify-center p-6 rounded-xl border-2 border-dark-600 bg-dark-800 hover:border-red-500 hover:bg-red-500/10 transition-all duration-200 group",children:[Dr&&s.jsxs("span",{className:"absolute top-3 right-3 flex items-center gap-1 px-2 py-0.5 bg-red-500/20 text-red-500 text-xs font-medium rounded-full",children:[s.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),"LIVE"]}),s.jsx("div",{className:"w-16 h-16 rounded-full bg-dark-700 group-hover:bg-red-500/20 flex items-center justify-center mb-3 transition-colors",children:s.jsx(Up,{className:"w-8 h-8 text-gray-400 group-hover:text-red-500 transition-colors"})}),s.jsx("span",{className:"text-lg font-semibold text-white group-hover:text-red-400 transition-colors",children:ar.name}),s.jsx("span",{className:`text-sm mt-1 ${Dr?"text-red-400":"text-gray-500"}`,children:Dr?"Now Streaming":"Waiting"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500/0 group-hover:bg-red-500/10 rounded-xl transition-colors",children:s.jsxs("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-red-400 font-semibold flex items-center gap-2",children:[s.jsx(Vd,{className:"w-5 h-5"})," Watch"]})})]},ar.id)})})]}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(Cl,{className:"w-4 h-4 text-red-500"}),Ye.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(pd,{className:"w-4 h-4 text-red-500"}),r.venue]})]})]})]}):s.jsxs("div",{className:"min-h-screen bg-dark-950",children:[qe&&s.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-black px-4 py-2 text-center text-sm font-medium",children:" Preview Mode  This is how the player page will look. No stream is playing."}),Jt&&s.jsxs("button",{onClick:()=>Re(!0),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white px-4 py-2 text-center text-sm font-medium flex items-center justify-center gap-2 transition-all cursor-pointer",children:[s.jsx(Up,{className:"w-4 h-4"}),"Multiple Streams Available  Currently watching: ",s.jsx("strong",{children:ne?.name||"Stream 1"}),s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-white/20 rounded text-xs",children:"Click to switch"})]}),s.jsx("div",{className:"w-full bg-black",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[Jt&&s.jsx("div",{className:"md:hidden",children:s.jsx(hZe,{streams:we,selectedStream:ne,onSelect:ae,isLive:Se})}),s.jsxs("div",{className:"relative",children:[s.jsx(cZe,{playbackId:rr,title:ne?`${r.title} - ${ne.name}`:r.title,poster:Uh(r.thumbnail_url||r.player_poster_url),isLive:Se||ne?.status==="live",viewerEmail:i,onShare:()=>{navigator.share&&navigator.share({title:r.title,text:`Watch ${r.title} live!`,url:window.location.href})}}),Jt&&s.jsx("div",{className:"hidden md:block absolute bottom-4 left-4 z-10",children:s.jsx(fZe,{streams:we,selectedStream:ne,onSelect:ae})})]}),Jt&&s.jsx("div",{className:"bg-dark-900/80 backdrop-blur-sm border-t border-dark-700/50 px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-gray-400 text-sm mr-2",children:"Quick Switch:"}),we.map(ar=>{const Dr=ne?.id===ar.id,mn=De(ar);return s.jsxs("button",{onClick:()=>ae(ar),className:`relative flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all ${Dr?"bg-red-500 text-white shadow-lg shadow-red-500/25":"bg-dark-700 text-gray-300 hover:bg-dark-600 hover:text-white"}`,children:[mn&&!Dr&&s.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"}),s.jsx(Up,{className:"w-4 h-4"}),ar.name]},ar.id)}),s.jsx("button",{onClick:()=>Re(!0),className:"px-3 py-2 text-gray-500 hover:text-white text-sm transition-colors",children:"View All "})]})})]})}),s.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:r.title}),s.jsx(uZe,{isLive:Se,viewerCount:X}),N?.crew_bypass&&s.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-sm font-medium rounded-full border border-green-500/30",children:"Crew Access"})]}),s.jsx("p",{className:"text-gray-400",children:r.org_display_name||r.organization})]}),Se&&s.jsx(dZe,{eventId:t})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-400 mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(Cl,{className:"w-4 h-4 text-red-500"}),Ye.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-dark-800/30 px-4 py-2 rounded-xl border border-dark-700/30",children:[s.jsx(pd,{className:"w-4 h-4 text-red-500"}),r.venue]})]}),r.description&&s.jsxs("div",{className:"bg-dark-800/20 rounded-2xl p-6 border border-dark-700/30",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"About This Event"}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:r.description})]})]})]})}function AZe(){const t=$c();W0();const[e,r]=T.useState(null),[n,i]=T.useState([]),[a,o]=T.useState(!0),[c,u]=T.useState(""),[l,d]=T.useState(!1),[f,m]=T.useState(!1),[p,g]=T.useState(null);T.useEffect(()=>{x();const{data:{subscription:M}}=rDe(async(Y,X)=>{if(Y==="SIGNED_IN"&&X?.user){r(X.user);try{await aK(X.user.id,X.user.email)}catch(te){console.error("Failed to sync profile:",te)}y(X.user.email)}else Y==="SIGNED_OUT"&&(r(null),i([]))});return()=>M.unsubscribe()},[]);const x=async()=>{try{const M=await eDe();if(M?.user){r(M.user);try{await aK(M.user.id,M.user.email)}catch(Y){console.error("Failed to sync profile:",Y)}await y(M.user.email)}}catch(M){console.error("Auth check failed:",M)}finally{o(!1)}},y=async M=>{try{const Y=await nDe(M);i(Y||[])}catch(Y){console.error("Failed to load purchases:",Y),g("Failed to load your purchases")}},w=async M=>{if(M.preventDefault(),!!c){d(!0),g(null);try{await J3e(c,`${window.location.origin}/#/my-purchases`),m(!0)}catch(Y){g("Failed to send login link. Please try again."),console.error("Magic link error:",Y)}finally{d(!1)}}},E=async()=>{await tDe(),r(null),i([])},_=M=>new Date(M).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short",year:"numeric"}),N=M=>new Date(M).toLocaleTimeString("en-AU",{hour:"2-digit",minute:"2-digit"}),C=M=>{const Y=new Date,X=new Date(M.start_time),te=new Date(M.end_time);return Y>=X&&Y<=te&&M.is_live},I=M=>new Date(M.start_time)>new Date,D=M=>new Date(M.end_time)<new Date;return a?s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-500"})}):e?s.jsx("div",{className:"min-h-screen bg-dark-950",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Purchases"}),s.jsx("p",{className:"text-gray-400",children:e.email})]}),s.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(PB,{className:"w-5 h-5"}),"Sign Out"]})]}),n.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(UT,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"No Purchases Yet"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You haven't purchased any events yet."}),s.jsx("button",{onClick:()=>t("/live"),className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg transition-colors",children:"Browse Events"})]}):s.jsx("div",{className:"space-y-4",children:n.map(M=>{const Y=M.event,X=C(Y),te=I(Y),de=D(Y);return s.jsx("div",{className:"bg-dark-900 rounded-xl border border-dark-800 overflow-hidden hover:border-dark-700 transition-colors",children:s.jsxs("div",{className:"flex flex-col md:flex-row",children:[Y.thumbnail_url&&s.jsx("div",{className:"md:w-48 h-32 md:h-auto flex-shrink-0",children:s.jsx("img",{src:Y.thumbnail_url,alt:Y.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 p-5",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:Y.title}),X&&s.jsxs("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full animate-pulse"}),"LIVE"]}),te&&s.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 text-xs font-medium rounded-full",children:"Upcoming"}),de&&!Y.mux_playback_id&&s.jsx("span",{className:"px-2 py-0.5 bg-gray-500/20 text-gray-400 text-xs font-medium rounded-full",children:"Ended"}),de&&Y.mux_playback_id&&s.jsx("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs font-medium rounded-full",children:"Replay Available"})]}),s.jsx("p",{className:"text-gray-400 text-sm mb-3",children:Y.org_display_name||Y.organization}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Cl,{className:"w-4 h-4"}),_(Y.start_time)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jf,{className:"w-4 h-4"}),N(Y.start_time)]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pd,{className:"w-4 h-4"}),Y.venue]})]})]}),(X||te||Y.mux_playback_id)&&s.jsxs("button",{onClick:()=>t(`/watch/${Y.id}?email=${encodeURIComponent(e.email)}`),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors flex-shrink-0 ${X?"bg-red-500 hover:bg-red-600 text-white":"bg-dark-800 hover:bg-dark-700 text-white"}`,children:[s.jsx(Vd,{className:"w-5 h-5"}),X?"Watch Live":te?"Watch":"Replay"]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-800 flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-gray-500",children:["Purchased ",_(M.created_at)]}),s.jsxs("span",{className:"text-green-500 font-medium",children:["$",M.amount," AUD"]})]})]})]})},M.id)})})]})}):s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center px-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(UT,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"My Purchases"}),s.jsx("p",{className:"text-gray-400",children:"Enter your email to access your purchased events"})]}),f?s.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-xl p-6 text-center",children:[s.jsx(nu,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Check Your Email!"}),s.jsxs("p",{className:"text-gray-400 mb-4",children:["We've sent a login link to ",s.jsx("span",{className:"text-white font-medium",children:c})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Click the link in your email to access your purchases. The link expires in 1 hour."}),s.jsx("button",{onClick:()=>m(!1),className:"mt-4 text-red-500 hover:text-red-400 text-sm",children:"Use a different email"})]}):s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:c,onChange:M=>u(M.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 bg-dark-800 border border-dark-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-red-500",required:!0})]}),p&&s.jsx("div",{className:"text-red-500 text-sm",children:p}),s.jsx("button",{type:"submit",disabled:l||!c,className:"w-full py-3 bg-red-500 hover:bg-red-600 disabled:bg-dark-700 disabled:text-gray-500 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nu,{className:"w-5 h-5"}),"Send Login Link"]})}),s.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No password needed! We'll email you a secure login link."})]})]})})}function pZe(){return s.jsx("div",{className:"py-16 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Privacy Policy"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Last updated: February 2026"}),s.jsxs("div",{className:"prose prose-invert max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Who We Are"}),s.jsx("p",{className:"text-gray-300",children:'Fit Focus Media ABN [Your ABN] ("we", "us", "our") operates fitfocusmedia.com.au. We are committed to protecting your privacy and handling your personal information responsibly.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Information We Collect"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"We collect the following information when you purchase livestream access:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Email address"}),"  To send your access link and purchase confirmation"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment information"}),"  Processed securely by Stripe (we don't store card details)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Approximate location"}),"  To verify you're not at the venue (geo-blocking) and for analytics"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. How We Use Your Information"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"To provide access to livestream events you've purchased"}),s.jsx("li",{children:"To send purchase confirmations and event reminders"}),s.jsx("li",{children:"To enforce geo-blocking restrictions for event protection"}),s.jsx("li",{children:"To analyze where our audience is located (aggregated, anonymized)"}),s.jsx("li",{children:"To improve our services and marketing"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Location Data"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"For certain events, we require location verification to protect ticket sales at physical venues. Your approximate location (latitude/longitude) is:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"Collected once at the time of purchase"}),s.jsx("li",{children:"Used to calculate your distance from the event venue"}),s.jsx("li",{children:"Stored with your order for analytics purposes"}),s.jsx("li",{children:"Never shared with third parties"}),s.jsx("li",{children:"Never used to track you outside of the purchase process"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Data Sharing"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"We share your information only with:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Stripe"}),"  For payment processing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Postmark"}),"  For sending emails"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Event organizers"}),"  Basic purchase info (email, order ID) for their records"]})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"We do not sell your personal information to anyone."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Data Retention"}),s.jsx("p",{className:"text-gray-300",children:"We retain your purchase information for 7 years for accounting and legal purposes. You can request deletion of your data by contacting us (see below)."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Your Rights"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Under Australian privacy law, you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"Access the personal information we hold about you"}),s.jsx("li",{children:"Request correction of inaccurate information"}),s.jsx("li",{children:"Request deletion of your information"}),s.jsx("li",{children:"Complain to the OAIC if you're unsatisfied with how we handle your data"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Security"}),s.jsx("p",{className:"text-gray-300",children:"We use industry-standard security measures including SSL encryption, secure payment processing through Stripe, and access controls to protect your information."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Contact Us"}),s.jsxs("p",{className:"text-gray-300",children:["For privacy-related questions or requests, contact us at:",s.jsx("br",{}),s.jsx("strong",{children:"Email:"})," info@fitfocusmedia.com.au",s.jsx("br",{}),s.jsx("strong",{children:"Location:"})," Brisbane, Queensland, Australia"]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-gray-300",children:"We may update this policy from time to time. Changes will be posted on this page with an updated revision date."})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700",children:s.jsx(ss,{to:"/",className:"text-red-500 hover:text-red-400",children:" Back to Home"})})]})})}function gZe(){return s.jsx("div",{className:"py-16 px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Terms of Service"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Last updated: February 2026"}),s.jsxs("div",{className:"prose prose-invert max-w-none space-y-8",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-gray-300",children:"By purchasing livestream access through Fit Focus Media, you agree to these Terms of Service and our Privacy Policy. If you do not agree, please do not make a purchase."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"2. Livestream Access"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"Access is granted to the email address used at purchase"}),s.jsxs("li",{children:["Access is for ",s.jsx("strong",{children:"one device at a time"}),"  viewing on multiple devices simultaneously is not permitted"]}),s.jsx("li",{children:"Access includes the live event and replay for 7 days after the event ends"}),s.jsx("li",{children:"Access links are non-transferable"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"3. Geo-Blocking"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Some events have geographic restrictions to protect in-person ticket sales:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"You may be required to share your location to verify you're not at the venue"}),s.jsx("li",{children:"If you're within the restricted zone, online access will be blocked"}),s.jsx("li",{children:"In-person tickets may be available  check with the event organizer"}),s.jsx("li",{children:"Attempting to circumvent geo-blocking (e.g., using VPNs or fake locations) may result in access being revoked without refund"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"4. Payment"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"All prices are in Australian Dollars (AUD)"}),s.jsx("li",{children:"Payment is processed securely by Stripe"}),s.jsx("li",{children:"Your purchase confirmation and access link will be sent to your email"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"5. Refunds"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"Refunds may be issued in the following circumstances:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Event cancelled"}),"  Full refund"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Technical issues on our end"}),"  Full or partial refund at our discretion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Request before event starts"}),"  Contact us and we'll review on a case-by-case basis"]})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"Refunds are NOT provided for:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"Change of mind after the event has started"}),s.jsx("li",{children:"Issues with your own internet connection"}),s.jsx("li",{children:"Being blocked by geo-restrictions after purchase (check before buying)"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"6. Prohibited Conduct"}),s.jsx("p",{className:"text-gray-300 mb-4",children:"You agree NOT to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-300 space-y-2",children:[s.jsx("li",{children:"Record, download, or redistribute the livestream content"}),s.jsx("li",{children:"Share your access link with others"}),s.jsx("li",{children:"Use VPNs or location spoofing to bypass geo-restrictions"}),s.jsx("li",{children:"Attempt to access streams you haven't paid for"})]}),s.jsx("p",{className:"text-gray-300 mt-4",children:"Violations may result in immediate termination of access without refund."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"7. Content Ownership"}),s.jsx("p",{className:"text-gray-300",children:"All livestream content is owned by the event organizers and/or Fit Focus Media. Your purchase grants you a limited, personal, non-transferable license to view the content. No other rights are granted."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"8. Disclaimer"}),s.jsx("p",{className:"text-gray-300",children:'Livestreams are provided "as is". While we strive for a high-quality experience, we cannot guarantee uninterrupted service. Technical issues, internet outages, or other factors may affect your viewing experience.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"9. Limitation of Liability"}),s.jsx("p",{className:"text-gray-300",children:"To the maximum extent permitted by law, Fit Focus Media's liability is limited to the amount you paid for the affected purchase. We are not liable for indirect, incidental, or consequential damages."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"10. Governing Law"}),s.jsx("p",{className:"text-gray-300",children:"These terms are governed by the laws of Queensland, Australia. Any disputes will be resolved in Queensland courts."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-white mb-4",children:"11. Contact"}),s.jsxs("p",{className:"text-gray-300",children:["Questions about these terms? Contact us at:",s.jsx("br",{}),s.jsx("strong",{children:"Email:"})," info@fitfocusmedia.com.au"]})]})]}),s.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700",children:s.jsx(ss,{to:"/",className:"text-red-500 hover:text-red-400",children:" Back to Home"})})]})})}var SB={exports:{}},jB,kY;function vZe(){if(kY)return jB;kY=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jB=t,jB}var TB,LY;function xZe(){if(LY)return TB;LY=1;var t=vZe();function e(){}function r(){}return r.resetWarningCache=e,TB=function(){function n(o,c,u,l,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},TB}var IY;function yZe(){return IY||(IY=1,SB.exports=xZe()()),SB.exports}var bZe=yZe();const ol=Gh(bZe),wZe=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function h1(t,e,r){const n=EZe(t),{webkitRelativePath:i}=t,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof n.path!="string"&&BY(n,"path",a),BY(n,"relativePath",a),n}function EZe(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const n=e.split(".").pop().toLowerCase(),i=wZe.get(n);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function BY(t,e,r){Object.defineProperty(t,e,{value:r,writable:!1,configurable:!1,enumerable:!0})}const _Ze=[".DS_Store","Thumbs.db"];function SZe(t){return ev(this,void 0,void 0,function*(){return VN(t)&&jZe(t.dataTransfer)?kZe(t.dataTransfer,t.type):TZe(t)?CZe(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?NZe(t):[]})}function jZe(t){return VN(t)}function TZe(t){return VN(t)&&VN(t.target)}function VN(t){return typeof t=="object"&&t!==null}function CZe(t){return x3(t.target.files).map(e=>h1(e))}function NZe(t){return ev(this,void 0,void 0,function*(){return(yield Promise.all(t.map(r=>r.getFile()))).map(r=>h1(r))})}function kZe(t,e){return ev(this,void 0,void 0,function*(){if(t.items){const r=x3(t.items).filter(i=>i.kind==="file");if(e!=="drop")return r;const n=yield Promise.all(r.map(LZe));return PY(ace(n))}return PY(x3(t.files).map(r=>h1(r)))})}function PY(t){return t.filter(e=>_Ze.indexOf(e.name)===-1)}function x3(t){if(t===null)return[];const e=[];for(let r=0;r<t.length;r++){const n=t[r];e.push(n)}return e}function LZe(t){if(typeof t.webkitGetAsEntry!="function")return OY(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?oce(e):OY(t,e)}function ace(t){return t.reduce((e,r)=>[...e,...Array.isArray(r)?ace(r):[r]],[])}function OY(t,e){return ev(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const a=yield t.getAsFileSystemHandle();if(a===null)throw new Error(`${t} is not a File`);if(a!==void 0){const o=yield a.getFile();return o.handle=a,h1(o)}}const n=t.getAsFile();if(!n)throw new Error(`${t} is not a File`);return h1(n,(r=e?.fullPath)!==null&&r!==void 0?r:void 0)})}function IZe(t){return ev(this,void 0,void 0,function*(){return t.isDirectory?oce(t):BZe(t)})}function oce(t){const e=t.createReader();return new Promise((r,n)=>{const i=[];function a(){e.readEntries(o=>ev(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(IZe));i.push(c),a()}else try{const c=yield Promise.all(i);r(c)}catch(c){n(c)}}),o=>{n(o)})}a()})}function BZe(t){return ev(this,void 0,void 0,function*(){return new Promise((e,r)=>{t.file(n=>{const i=h1(n,t.fullPath);e(i)},n=>{r(n)})})})}var ij={},RY;function PZe(){return RY||(RY=1,ij.__esModule=!0,ij.default=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(",");if(r.length===0)return!0;var n=t.name||"",i=(t.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return r.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?n.toLowerCase().endsWith(c):c.endsWith("/*")?a===c.replace(/\/.*$/,""):i===c})}return!0}),ij}var OZe=PZe();const CB=Gh(OZe);function DY(t){return MZe(t)||DZe(t)||cce(t)||RZe()}function RZe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MZe(t){if(Array.isArray(t))return y3(t)}function MY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MY(Object(r),!0).forEach(function(n){lce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lce(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O2(t,e){return $Ze(t)||UZe(t,e)||cce(t,e)||FZe()}function FZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cce(t,e){if(t){if(typeof t=="string")return y3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y3(t,e)}}function y3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,c;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function $Ze(t){if(Array.isArray(t))return t}var HZe=typeof CB=="function"?CB:CB.default,QZe="file-invalid-type",zZe="file-too-large",VZe="file-too-small",KZe="too-many-files",GZe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.split(","),n=r.length>1?"one of ".concat(r.join(", ")):r[0];return{code:QZe,message:"File type must be ".concat(n)}},UY=function(e){return{code:zZe,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},$Y=function(e){return{code:VZe,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},WZe={code:KZe,message:"Too many files"};function YZe(t){return t.type===""&&typeof t.getAsFile=="function"}function uce(t,e){var r=t.type==="application/x-moz-file"||HZe(t,e)||YZe(t);return[r,r?null:GZe(e)]}function dce(t,e,r){if(zv(t.size))if(zv(e)&&zv(r)){if(t.size>r)return[!1,UY(r)];if(t.size<e)return[!1,$Y(e)]}else{if(zv(e)&&t.size<e)return[!1,$Y(e)];if(zv(r)&&t.size>r)return[!1,UY(r)]}return[!0,null]}function zv(t){return t!=null}function qZe(t){var e=t.files,r=t.accept,n=t.minSize,i=t.maxSize,a=t.multiple,o=t.maxFiles,c=t.validator;return!a&&e.length>1||a&&o>=1&&e.length>o?!1:e.every(function(u){var l=uce(u,r),d=O2(l,1),f=d[0],m=dce(u,n,i),p=O2(m,1),g=p[0],x=c?c(u):null;return f&&g&&!x})}function KN(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Nw(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function HY(t){t.preventDefault()}function XZe(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function ZZe(t){return t.indexOf("Edge/")!==-1}function JZe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return XZe(t)||ZZe(t)}function xA(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return e.some(function(c){return!KN(n)&&c&&c.apply(void 0,[n].concat(a)),KN(n)})}}function eJe(){return"showOpenFilePicker"in window}function tJe(t){if(zv(t)){var e=Object.entries(t).filter(function(r){var n=O2(r,2),i=n[0],a=n[1],o=!0;return hce(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(fce))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(r,n){var i=O2(n,2),a=i[0],o=i[1];return FY(FY({},r),{},lce({},a,o))},{});return[{description:"Files",accept:e}]}return t}function rJe(t){if(zv(t))return Object.entries(t).reduce(function(e,r){var n=O2(r,2),i=n[0],a=n[1];return[].concat(DY(e),[i],DY(a))},[]).filter(function(e){return hce(e)||fce(e)}).join(",")}function nJe(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function iJe(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function hce(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function fce(t){return/^.*\.[\w]+$/.test(t)}var sJe=["children"],aJe=["open"],oJe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],lJe=["refKey","onChange","onClick"];function QY(t){return dJe(t)||uJe(t)||mce(t)||cJe()}function cJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dJe(t){if(Array.isArray(t))return b3(t)}function NB(t,e){return mJe(t)||fJe(t,e)||mce(t,e)||hJe()}function hJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){if(t){if(typeof t=="string")return b3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(t,e)}}function b3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fJe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,c;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(u){a=!0,c=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw c}}return n}}function mJe(t){if(Array.isArray(t))return t}function zY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zY(Object(r),!0).forEach(function(n){w3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w3(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GN(t,e){if(t==null)return{};var r=AJe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AJe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var B6=T.forwardRef(function(t,e){var r=t.children,n=GN(t,sJe),i=pce(n),a=i.open,o=GN(i,aJe);return T.useImperativeHandle(e,function(){return{open:a}},[a]),Ao.createElement(T.Fragment,null,r(Fl(Fl({},o),{},{open:a})))});B6.displayName="Dropzone";var Ace={disabled:!1,getFilesFromEvent:SZe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};B6.defaultProps=Ace;B6.propTypes={children:ol.func,accept:ol.objectOf(ol.arrayOf(ol.string)),multiple:ol.bool,preventDropOnDocument:ol.bool,noClick:ol.bool,noKeyboard:ol.bool,noDrag:ol.bool,noDragEventsBubbling:ol.bool,minSize:ol.number,maxSize:ol.number,maxFiles:ol.number,disabled:ol.bool,getFilesFromEvent:ol.func,onFileDialogCancel:ol.func,onFileDialogOpen:ol.func,useFsAccessApi:ol.bool,autoFocus:ol.bool,onDragEnter:ol.func,onDragLeave:ol.func,onDragOver:ol.func,onDrop:ol.func,onDropAccepted:ol.func,onDropRejected:ol.func,onError:ol.func,validator:ol.func};var E3={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,isDragGlobal:!1,acceptedFiles:[],fileRejections:[]};function pce(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Fl(Fl({},Ace),t),r=e.accept,n=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,o=e.minSize,c=e.multiple,u=e.maxFiles,l=e.onDragEnter,d=e.onDragLeave,f=e.onDragOver,m=e.onDrop,p=e.onDropAccepted,g=e.onDropRejected,x=e.onFileDialogCancel,y=e.onFileDialogOpen,w=e.useFsAccessApi,E=e.autoFocus,_=e.preventDropOnDocument,N=e.noClick,C=e.noKeyboard,I=e.noDrag,D=e.noDragEventsBubbling,M=e.onError,Y=e.validator,X=T.useMemo(function(){return rJe(r)},[r]),te=T.useMemo(function(){return tJe(r)},[r]),de=T.useMemo(function(){return typeof y=="function"?y:VY},[y]),ye=T.useMemo(function(){return typeof x=="function"?x:VY},[x]),we=T.useRef(null),ve=T.useRef(null),ne=T.useReducer(pJe,E3),ae=NB(ne,2),oe=ae[0],Re=ae[1],Pe=oe.isFocused,be=oe.isFileDialogActive,he=T.useRef(typeof window<"u"&&window.isSecureContext&&w&&eJe()),Ie=function(){!he.current&&be&&setTimeout(function(){if(ve.current){var vr=ve.current.files;vr.length||(Re({type:"closeDialog"}),ye())}},300)};T.useEffect(function(){return window.addEventListener("focus",Ie,!1),function(){window.removeEventListener("focus",Ie,!1)}},[ve,be,ye,he]);var Oe=T.useRef([]),$e=T.useRef([]),De=function(vr){we.current&&we.current.contains(vr.target)||(vr.preventDefault(),Oe.current=[])};T.useEffect(function(){return _&&(document.addEventListener("dragover",HY,!1),document.addEventListener("drop",De,!1)),function(){_&&(document.removeEventListener("dragover",HY),document.removeEventListener("drop",De))}},[we,_]),T.useEffect(function(){var or=function(st){$e.current=[].concat(QY($e.current),[st.target]),Nw(st)&&Re({isDragGlobal:!0,type:"setDragGlobal"})},vr=function(st){$e.current=$e.current.filter(function(Ht){return Ht!==st.target&&Ht!==null}),!($e.current.length>0)&&Re({isDragGlobal:!1,type:"setDragGlobal"})},cn=function(){$e.current=[],Re({isDragGlobal:!1,type:"setDragGlobal"})},bn=function(){$e.current=[],Re({isDragGlobal:!1,type:"setDragGlobal"})};return document.addEventListener("dragenter",or,!1),document.addEventListener("dragleave",vr,!1),document.addEventListener("dragend",cn,!1),document.addEventListener("drop",bn,!1),function(){document.removeEventListener("dragenter",or),document.removeEventListener("dragleave",vr),document.removeEventListener("dragend",cn),document.removeEventListener("drop",bn)}},[we]),T.useEffect(function(){return!n&&E&&we.current&&we.current.focus(),function(){}},[we,E,n]);var ct=T.useCallback(function(or){M?M(or):console.error(or)},[M]),pt=T.useCallback(function(or){or.preventDefault(),or.persist(),ar(or),Oe.current=[].concat(QY(Oe.current),[or.target]),Nw(or)&&Promise.resolve(i(or)).then(function(vr){if(!(KN(or)&&!D)){var cn=vr.length,bn=cn>0&&qZe({files:vr,accept:X,minSize:o,maxSize:a,multiple:c,maxFiles:u,validator:Y}),Un=cn>0&&!bn;Re({isDragAccept:bn,isDragReject:Un,isDragActive:!0,type:"setDraggedFiles"}),l&&l(or)}}).catch(function(vr){return ct(vr)})},[i,l,ct,D,X,o,a,c,u,Y]),Ue=T.useCallback(function(or){or.preventDefault(),or.persist(),ar(or);var vr=Nw(or);if(vr&&or.dataTransfer)try{or.dataTransfer.dropEffect="copy"}catch{}return vr&&f&&f(or),!1},[f,D]),He=T.useCallback(function(or){or.preventDefault(),or.persist(),ar(or);var vr=Oe.current.filter(function(bn){return we.current&&we.current.contains(bn)}),cn=vr.indexOf(or.target);cn!==-1&&vr.splice(cn,1),Oe.current=vr,!(vr.length>0)&&(Re({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Nw(or)&&d&&d(or))},[we,d,D]),Ye=T.useCallback(function(or,vr){var cn=[],bn=[];or.forEach(function(Un){var st=uce(Un,X),Ht=NB(st,2),Lr=Ht[0],tr=Ht[1],Qt=dce(Un,o,a),dr=NB(Qt,2),Wr=dr[0],Jr=dr[1],kn=Y?Y(Un):null;if(Lr&&Wr&&!kn)cn.push(Un);else{var un=[tr,Jr];kn&&(un=un.concat(kn)),bn.push({file:Un,errors:un.filter(function(Yn){return Yn})})}}),(!c&&cn.length>1||c&&u>=1&&cn.length>u)&&(cn.forEach(function(Un){bn.push({file:Un,errors:[WZe]})}),cn.splice(0)),Re({acceptedFiles:cn,fileRejections:bn,type:"setFiles"}),m&&m(cn,bn,vr),bn.length>0&&g&&g(bn,vr),cn.length>0&&p&&p(cn,vr)},[Re,c,X,o,a,u,m,p,g,Y]),Se=T.useCallback(function(or){or.preventDefault(),or.persist(),ar(or),Oe.current=[],Nw(or)&&Promise.resolve(i(or)).then(function(vr){KN(or)&&!D||Ye(vr,or)}).catch(function(vr){return ct(vr)}),Re({type:"reset"})},[i,Ye,ct,D]),mt=T.useCallback(function(){if(he.current){Re({type:"openDialog"}),de();var or={multiple:c,types:te};window.showOpenFilePicker(or).then(function(vr){return i(vr)}).then(function(vr){Ye(vr,null),Re({type:"closeDialog"})}).catch(function(vr){nJe(vr)?(ye(vr),Re({type:"closeDialog"})):iJe(vr)?(he.current=!1,ve.current?(ve.current.value=null,ve.current.click()):ct(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ct(vr)});return}ve.current&&(Re({type:"openDialog"}),de(),ve.current.value=null,ve.current.click())},[Re,de,ye,w,Ye,ct,te,c]),qe=T.useCallback(function(or){!we.current||!we.current.isEqualNode(or.target)||(or.key===" "||or.key==="Enter"||or.keyCode===32||or.keyCode===13)&&(or.preventDefault(),mt())},[we,mt]),Tt=T.useCallback(function(){Re({type:"focus"})},[]),bt=T.useCallback(function(){Re({type:"blur"})},[]),gt=T.useCallback(function(){N||(JZe()?setTimeout(mt,0):mt())},[N,mt]),wt=function(vr){return n?null:vr},rr=function(vr){return C?null:wt(vr)},Jt=function(vr){return I?null:wt(vr)},ar=function(vr){D&&vr.stopPropagation()},Dr=T.useMemo(function(){return function(){var or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vr=or.refKey,cn=vr===void 0?"ref":vr,bn=or.role,Un=or.onKeyDown,st=or.onFocus,Ht=or.onBlur,Lr=or.onClick,tr=or.onDragEnter,Qt=or.onDragOver,dr=or.onDragLeave,Wr=or.onDrop,Jr=GN(or,oJe);return Fl(Fl(w3({onKeyDown:rr(xA(Un,qe)),onFocus:rr(xA(st,Tt)),onBlur:rr(xA(Ht,bt)),onClick:wt(xA(Lr,gt)),onDragEnter:Jt(xA(tr,pt)),onDragOver:Jt(xA(Qt,Ue)),onDragLeave:Jt(xA(dr,He)),onDrop:Jt(xA(Wr,Se)),role:typeof bn=="string"&&bn!==""?bn:"presentation"},cn,we),!n&&!C?{tabIndex:0}:{}),Jr)}},[we,qe,Tt,bt,gt,pt,Ue,He,Se,C,I,n]),mn=T.useCallback(function(or){or.stopPropagation()},[]),$r=T.useMemo(function(){return function(){var or=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},vr=or.refKey,cn=vr===void 0?"ref":vr,bn=or.onChange,Un=or.onClick,st=GN(or,lJe),Ht=w3({accept:X,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:wt(xA(bn,Se)),onClick:wt(xA(Un,mn)),tabIndex:-1},cn,ve);return Fl(Fl({},Ht),st)}},[ve,r,c,Se,n]);return Fl(Fl({},oe),{},{isFocused:Pe&&!n,getRootProps:Dr,getInputProps:$r,rootRef:we,inputRef:ve,open:wt(mt)})}function pJe(t,e){switch(e.type){case"focus":return Fl(Fl({},t),{},{isFocused:!0});case"blur":return Fl(Fl({},t),{},{isFocused:!1});case"openDialog":return Fl(Fl({},E3),{},{isFileDialogActive:!0});case"closeDialog":return Fl(Fl({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Fl(Fl({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Fl(Fl({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:!1});case"setDragGlobal":return Fl(Fl({},t),{},{isDragGlobal:e.isDragGlobal});case"reset":return Fl({},E3);default:return t}}function VY(){}const bb="http://localhost:5230";function gJe({onSelect:t}){const[e,r]=T.useState([]),[n,i]=T.useState(!0),[a,o]=T.useState(!1);T.useEffect(()=>{c()},[]);const c=async()=>{try{const d=await(await fetch(`${bb}/api/galleries`)).json();r(d.galleries||[])}catch(l){console.error("Failed to fetch galleries:",l)}finally{i(!1)}},u=async l=>{try{const f=await(await fetch(`${bb}/api/galleries`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();f.gallery&&(r([f.gallery,...e]),o(!1))}catch(d){console.error("Failed to create gallery:",d)}};return n?s.jsx("div",{className:"p-8 text-center text-white",children:"Loading galleries..."}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Photo Galleries"}),s.jsx("button",{onClick:()=>o(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"+ New Gallery"})]}),a&&s.jsx(xJe,{onClose:()=>o(!1),onCreate:u}),e.length===0?s.jsx("div",{className:"text-center py-12 text-gray-400",children:"No galleries yet. Create your first gallery!"}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>s.jsx(vJe,{gallery:l,onClick:()=>t(l)},l.id))})]})}function vJe({gallery:t,onClick:e}){const r=t.gallery_photos?.[0]?.count||0,n={draft:"bg-yellow-600",published:"bg-green-600",archived:"bg-gray-600"};return s.jsxs("div",{onClick:e,className:"bg-gray-800 rounded-lg overflow-hidden cursor-pointer hover:ring-2 hover:ring-red-500 transition-all",children:[s.jsx("div",{className:"h-40 bg-gray-700 flex items-center justify-center",children:t.cover_photo_id?s.jsx("img",{src:t.cover_url,alt:"",className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-gray-500",children:"No cover photo"})}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`${n[t.status]} px-2 py-0.5 rounded text-xs text-white`,children:t.status}),s.jsxs("span",{className:"text-gray-400 text-sm",children:[r," photos"]})]}),s.jsx("h3",{className:"text-white font-semibold",children:t.title}),t.livestream_events&&s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:t.livestream_events.title}),s.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["$",(t.price_per_photo/100).toFixed(2)," per photo"]})]})]})}function xJe({onClose:t,onCreate:e}){const[r,n]=T.useState({title:"",description:"",price_per_photo:500,package_price:"",package_enabled:!1}),i=a=>{a.preventDefault(),e({...r,price_per_photo:Math.round(parseFloat(r.price_per_photo)*100)||500,package_price:r.package_price?Math.round(parseFloat(r.package_price)*100):null})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create Gallery"}),s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-400 mb-1",children:"Title *"}),s.jsx("input",{type:"text",value:r.title,onChange:a=>n({...r,title:a.target.value}),className:"w-full bg-gray-700 text-white rounded px-3 py-2",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-400 mb-1",children:"Description"}),s.jsx("textarea",{value:r.description,onChange:a=>n({...r,description:a.target.value}),className:"w-full bg-gray-700 text-white rounded px-3 py-2",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-400 mb-1",children:"Price per Photo ($)"}),s.jsx("input",{type:"number",step:"0.01",value:r.price_per_photo/100,onChange:a=>n({...r,price_per_photo:parseFloat(a.target.value)*100}),className:"w-full bg-gray-700 text-white rounded px-3 py-2"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx("input",{type:"checkbox",checked:r.package_enabled,onChange:a=>n({...r,package_enabled:a.target.checked}),className:"rounded"}),'Enable "Buy All" Package']})}),r.package_enabled&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-gray-400 mb-1",children:"Package Price ($)"}),s.jsx("input",{type:"number",step:"0.01",value:r.package_price/100||"",onChange:a=>n({...r,package_price:parseFloat(a.target.value)*100}),className:"w-full bg-gray-700 text-white rounded px-3 py-2"})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white py-2 rounded",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 rounded",children:"Create"})]})]})]})})}function yJe({galleryId:t,onBack:e}){const[r,n]=T.useState(null),[i,a]=T.useState([]),[o,c]=T.useState(!1),[u,l]=T.useState(0);T.useEffect(()=>{d()},[t]);const d=async()=>{try{const N=await(await fetch(`${bb}/api/galleries/${t}`)).json();n(N.gallery),a(N.photos||[])}catch(_){console.error("Failed to fetch gallery:",_)}},f=T.useCallback(async _=>{if(_.length===0)return;c(!0),l(0);const N=new FormData;_.forEach(C=>{N.append("photos",C)});try{const I=await(await fetch(`${bb}/api/galleries/${t}/photos`,{method:"POST",body:N})).json();I.photos&&a([...i,...I.photos]),alert(`Uploaded ${I.uploaded} photos${I.failed>0?`, ${I.failed} failed`:""}`)}catch(C){console.error("Upload failed:",C),alert("Upload failed: "+C.message)}finally{c(!1)}},[t,i]),{getRootProps:m,getInputProps:p,isDragActive:g}=pce({onDrop:f,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/webp":[".webp"]},maxSize:50*1024*1024}),x=async _=>{if(confirm("Delete this photo?"))try{await fetch(`${bb}/api/galleries/${t}/photos/${_}`,{method:"DELETE"}),a(i.filter(N=>N.id!==_))}catch(N){console.error("Delete failed:",N)}},y=async _=>{try{const C=await(await fetch(`${bb}/api/galleries/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).json();n(C.gallery)}catch(N){console.error("Update failed:",N)}},w=()=>y({status:"published"}),E=()=>y({status:"draft"});return r?s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white",children:" Back"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:r.title}),s.jsx("span",{className:`px-2 py-1 rounded text-sm text-white ${r.status==="published"?"bg-green-600":"bg-yellow-600"}`,children:r.status})]}),s.jsxs("div",{className:"flex gap-3",children:[r.status==="draft"?s.jsx("button",{onClick:w,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Publish"}):s.jsx("button",{onClick:E,className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded",children:"Unpublish"}),r.status==="published"&&s.jsx("a",{href:`/#/gallery/${r.slug}`,target:"_blank",className:"bg-gray-600 hover:bg-gray-500 text-white px-4 py-2 rounded",children:"View Public"})]})]}),s.jsxs("div",{...m(),className:`border-2 border-dashed rounded-lg p-8 mb-6 text-center cursor-pointer transition-colors ${g?"border-red-500 bg-red-500/10":"border-gray-600 hover:border-gray-500"} ${o?"opacity-50 pointer-events-none":""}`,children:[s.jsx("input",{...p()}),o?s.jsxs("div",{children:[s.jsx("div",{className:"text-white mb-2",children:"Uploading & processing images..."}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all",style:{width:`${u}%`}})})]}):g?s.jsx("p",{className:"text-red-400",children:"Drop photos here..."}):s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-300 mb-2",children:"Drag & drop photos here, or click to select"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"JPEG, PNG, WebP up to 50MB each"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:i.map(_=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:_.thumbnail_url||_.watermarked_url,alt:_.filename,className:"w-full aspect-square object-cover rounded-lg"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center gap-2",children:s.jsx("button",{onClick:()=>x(_.id),className:"bg-red-600 hover:bg-red-700 text-white p-2 rounded",children:""})}),s.jsx("div",{className:"absolute bottom-2 left-2 right-2 text-xs text-white truncate bg-black/50 px-1 rounded",children:_.filename})]},_.id))}),i.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-400",children:"No photos yet. Upload some photos to get started!"}),s.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Gallery Settings"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Price per Photo:"}),s.jsxs("span",{className:"text-white ml-2",children:["$",(r.price_per_photo/100).toFixed(2)]})]}),r.package_enabled&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Package Price:"}),s.jsxs("span",{className:"text-white ml-2",children:["$",(r.package_price/100).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Total Photos:"}),s.jsx("span",{className:"text-white ml-2",children:i.length})]}),r.slug&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Public URL:"}),s.jsxs("span",{className:"text-white ml-2",children:["/gallery/",r.slug]})]})]})]})]}):s.jsx("div",{className:"p-8 text-center text-white",children:"Loading..."})}function bJe(){const[t,e]=T.useState(null);return t?s.jsx(yJe,{galleryId:t.id,onBack:()=>e(null)}):s.jsx(gJe,{onSelect:e})}const gce="http://localhost:5230";function wJe(){const{slug:t}=Lf(),[e]=W0(),[r,n]=T.useState(null),[i,a]=T.useState([]),[o,c]=T.useState(new Set),[u,l]=T.useState(!0),[d,f]=T.useState(null),[m,p]=T.useState(!1),[g,x]=T.useState(null);T.useEffect(()=>{y()},[t]),T.useEffect(()=>{e.get("cancelled")&&alert("Payment was cancelled. Your photos are still in the cart.")},[e]);const y=async()=>{try{const D=await fetch(`${gce}/api/public/galleries/${t}`);if(!D.ok)throw new Error("Gallery not found");const M=await D.json();n(M.gallery),a(M.photos||[])}catch(D){f(D.message)}finally{l(!1)}},w=D=>{const M=new Set(o);M.has(D)?M.delete(D):M.add(D),c(M)},E=()=>{c(new Set(i.map(D=>D.id)))},_=()=>{c(new Set)},N=()=>{let D=0;return i.forEach(M=>{o.has(M.id)&&(D+=M.price)}),D};if(u)return s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsx("div",{className:"text-white",children:"Loading gallery..."})});if(d)return s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl text-white mb-4",children:"Gallery Not Found"}),s.jsx("p",{className:"text-gray-400",children:d})]})});const C=N(),I=r.package_enabled&&r.package_price;return s.jsxs("div",{className:"min-h-screen bg-gray-900",children:[s.jsx("header",{className:"bg-gray-800 border-b border-gray-700",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:r.title}),r.description&&s.jsx("p",{className:"text-gray-400 mt-2",children:r.description}),r.livestream_events&&s.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:["Event: ",r.livestream_events.title]}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm",children:[s.jsxs("span",{className:"text-gray-400",children:[i.length," photos"]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("span",{className:"text-white",children:["$",(r.price_per_photo/100).toFixed(2)," each"]}),I&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-400",children:""}),s.jsxs("span",{className:"text-green-400",children:["Buy All: $",(r.package_price/100).toFixed(2)]})]})]})]})}),(o.size>0||I)&&s.jsx("div",{className:"sticky top-0 z-40 bg-gray-800/95 backdrop-blur border-b border-gray-700",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-white",children:[o.size," photo",o.size!==1?"s":""," selected"]}),s.jsx("button",{onClick:E,className:"text-blue-400 hover:text-blue-300 text-sm",children:"Select All"}),o.size>0&&s.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-300 text-sm",children:"Clear"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[o.size>0&&s.jsxs("span",{className:"text-white font-semibold",children:["Total: $",(C/100).toFixed(2)]}),I&&s.jsxs("button",{onClick:()=>p({isPackage:!0}),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg",children:["Buy All ($",(r.package_price/100).toFixed(2),")"]}),o.size>0&&s.jsx("button",{onClick:()=>p({isPackage:!1}),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Checkout Selected"})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:i.map(D=>s.jsx(EJe,{photo:D,selected:o.has(D.id),onToggle:()=>w(D.id),onView:()=>x(D),defaultPrice:r.price_per_photo},D.id))})}),g&&s.jsx(_Je,{photo:g,onClose:()=>x(null),onPrev:()=>{const D=i.findIndex(M=>M.id===g.id);D>0&&x(i[D-1])},onNext:()=>{const D=i.findIndex(M=>M.id===g.id);D<i.length-1&&x(i[D+1])},selected:o.has(g.id),onToggle:()=>w(g.id)}),m&&s.jsx(SJe,{gallery:r,photos:i,selectedPhotoIds:m.isPackage?i.map(D=>D.id):Array.from(o),isPackage:m.isPackage,total:m.isPackage?r.package_price:C,onClose:()=>p(!1)})]})}function EJe({photo:t,selected:e,onToggle:r,onView:n,defaultPrice:i}){const a=t.price||i;return s.jsxs("div",{className:`relative group cursor-pointer rounded-lg overflow-hidden ${e?"ring-2 ring-red-500":""}`,children:[s.jsx("img",{src:t.thumbnail_url||t.watermarked_url,alt:"",className:"w-full aspect-square object-cover",onClick:n,onContextMenu:o=>o.preventDefault(),draggable:!1}),s.jsx("button",{onClick:o=>{o.stopPropagation(),r()},className:`absolute top-2 left-2 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${e?"bg-red-600 border-red-600 text-white":"bg-black/50 border-white/50 hover:border-white"}`,children:e&&""}),s.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-sm",children:["$",(a/100).toFixed(2)]}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",onClick:n,children:s.jsx("span",{className:"text-white text-sm",children:"Click to view"})})]})}function _Je({photo:t,onClose:e,onPrev:r,onNext:n,selected:i,onToggle:a}){return T.useEffect(()=>{const o=c=>{c.key==="Escape"&&e(),c.key==="ArrowLeft"&&r(),c.key==="ArrowRight"&&n()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[e,r,n]),s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white text-2xl hover:text-gray-300",children:""}),s.jsx("button",{onClick:r,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl hover:text-gray-300",children:""}),s.jsx("button",{onClick:n,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl hover:text-gray-300",children:""}),s.jsx("img",{src:t.watermarked_url,alt:"",className:"max-w-[90vw] max-h-[85vh] object-contain",onContextMenu:o=>o.preventDefault(),draggable:!1}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex items-center gap-4",children:s.jsx("button",{onClick:a,className:`px-6 py-2 rounded-lg transition-colors ${i?"bg-red-600 text-white":"bg-white/20 text-white hover:bg-white/30"}`,children:i?" Selected":"Select Photo"})})]})}function SJe({gallery:t,photos:e,selectedPhotoIds:r,isPackage:n,total:i,onClose:a}){const[o,c]=T.useState(""),[u,l]=T.useState(""),[d,f]=T.useState(!1),[m,p]=T.useState(null),g=async()=>{if(!o){p("Email is required");return}f(!0),p(null);try{const w=await(await fetch(`${gce}/api/galleries/${t.slug}/checkout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,customer_name:u,photo_ids:r,is_package:n})})).json();if(w.checkout_url)window.location.href=w.checkout_url;else throw new Error(w.error||"Checkout failed")}catch(y){p(y.message),f(!1)}},x=e.filter(y=>r.includes(y.id));return s.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-gray-800 rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Checkout"}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white",children:""})]}),s.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Order Summary"}),n?s.jsxs("div",{className:"flex justify-between text-white",children:[s.jsxs("span",{children:["Full Package (",r.length," photos)"]}),s.jsxs("span",{children:["$",(i/100).toFixed(2)]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:[r.length," photo",r.length!==1?"s":""]}),s.jsxs("div",{className:"flex justify-between text-white font-semibold",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["$",(i/100).toFixed(2)]})]})]})]}),s.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[x.slice(0,5).map(y=>s.jsx("img",{src:y.thumbnail_url,alt:"",className:"w-16 h-16 object-cover rounded flex-shrink-0"},y.id)),r.length>5&&s.jsxs("div",{className:"w-16 h-16 bg-gray-700 rounded flex items-center justify-center text-gray-400 flex-shrink-0",children:["+",r.length-5]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:o,onChange:y=>c(y.target.value),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2",placeholder:"your@email.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name (optional)"}),s.jsx("input",{type:"text",value:u,onChange:y=>l(y.target.value),className:"w-full bg-gray-700 text-white rounded-lg px-4 py-2",placeholder:"Your name"})]})]}),m&&s.jsx("div",{className:"mt-4 text-red-400 text-sm",children:m}),s.jsx("button",{onClick:g,disabled:d,className:"w-full mt-6 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white py-3 rounded-lg font-semibold transition-colors",children:d?"Processing...":`Pay $${(i/100).toFixed(2)}`}),s.jsx("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"After payment, you'll receive download links via email."})]})})})}const KY="http://localhost:5230";function jJe(){const[t]=W0(),e=t.get("token"),[r,n]=T.useState(null),[i,a]=T.useState(!0),[o,c]=T.useState(null),[u,l]=T.useState(new Set);T.useEffect(()=>{e?d():(c("No download token provided"),a(!1))},[e]);const d=async()=>{try{const w=await fetch(`${KY}/api/galleries/download/${e}`);if(!w.ok){const _=await w.json();throw new Error(_.error||"Failed to load order")}const E=await w.json();n(E.order)}catch(w){c(w.message)}finally{a(!1)}},f=async(w,E)=>{l(_=>new Set([..._,w]));try{const _=await fetch(`${KY}/api/galleries/download/${e}/photo/${w}`);if(!_.ok){const I=await _.json();throw new Error(I.error||"Download failed")}const N=await _.json(),C=document.createElement("a");C.href=N.download_url,C.download=E,C.target="_blank",document.body.appendChild(C),C.click(),document.body.removeChild(C),n(I=>({...I,gallery_order_items:I.gallery_order_items.map(D=>D.photo_id===w?{...D,downloaded:!0,download_count:(D.download_count||0)+1}:D)}))}catch(_){alert("Download failed: "+_.message)}finally{l(_=>{const N=new Set(_);return N.delete(w),N})}},m=async()=>{const w=r.gallery_order_items||[];for(const E of w)await f(E.photo_id,E.gallery_photos.filename),await new Promise(_=>setTimeout(_,500))};if(i)return s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-red-600 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-white",children:"Loading your photos..."})]})});if(o)return s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md px-4",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl text-white mb-4",children:"Unable to Load Downloads"}),s.jsx("p",{className:"text-gray-400 mb-6",children:o}),s.jsx("p",{className:"text-sm text-gray-500",children:"If you've completed your purchase and can't access your photos, please contact us at info@fitfocusmedia.com.au"})]})});const p=r.gallery_order_items||[],g=r.galleries,x=new Date(r.token_expires_at),y=Math.max(0,Math.ceil((x-new Date)/(1e3*60*60*24)));return s.jsxs("div",{className:"min-h-screen bg-gray-900",children:[s.jsx("header",{className:"bg-gray-800 border-b border-gray-700",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center",children:[s.jsx("div",{className:"text-4xl mb-4",children:""}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Thank You for Your Purchase!"}),s.jsxs("p",{className:"text-gray-400",children:["Your photos from ",s.jsx("span",{className:"text-white",children:g?.title})," are ready to download."]})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Order ID:"}),s.jsx("span",{className:"text-white ml-2",children:r.id.slice(0,8)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Email:"}),s.jsx("span",{className:"text-white ml-2",children:r.email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Photos:"}),s.jsx("span",{className:"text-white ml-2",children:p.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Total:"}),s.jsxs("span",{className:"text-white ml-2",children:["$",(r.total_amount/100).toFixed(2)]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-700 flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsx("span",{className:"text-gray-400 ml-2",children:y>0?`Downloads expire in ${y} day${y!==1?"s":""}`:"Downloads have expired"})]}),y>0&&s.jsx("button",{onClick:m,disabled:u.size>0,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white px-6 py-2 rounded-lg",children:u.size>0?"Downloading...":"Download All"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(w=>{const E=w.gallery_photos,_=u.has(w.photo_id);return s.jsxs("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"aspect-square bg-gray-700 flex items-center justify-center",children:s.jsx("div",{className:"text-4xl",children:""})}),s.jsxs("div",{className:"p-3",children:[s.jsx("p",{className:"text-white text-sm truncate mb-2",title:E.filename,children:E.filename}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-400",children:w.downloaded?`Downloaded ${w.download_count}x`:"Not downloaded"}),y>0&&s.jsx("button",{onClick:()=>f(w.photo_id,E.filename),disabled:_,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white px-3 py-1 rounded text-sm",children:_?"...":" Download"})]})]})]},w.id)})}),s.jsxs("div",{className:"mt-8 bg-gray-800 rounded-lg p-6 text-center",children:[s.jsx("h3",{className:"text-white font-semibold mb-2",children:"Need Help?"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["If you have any issues downloading your photos, please email us at"," ",s.jsx("a",{href:"mailto:info@fitfocusmedia.com.au",className:"text-red-400 hover:underline",children:"info@fitfocusmedia.com.au"})]})]})]})]})}function TJe(){const{pathname:t}=kf();return T.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function gh({children:t}){return s.jsxs("div",{className:"min-h-screen bg-dark-950 flex flex-col",children:[s.jsx(rve,{}),s.jsx("main",{className:"flex-1",children:t}),s.jsx(nve,{})]})}function CJe(){return s.jsxs(TDe,{children:[s.jsx(TJe,{}),s.jsxs(pde,{children:[s.jsx(ps,{path:"/",element:s.jsx(gh,{children:s.jsx(c6e,{})})}),s.jsx(ps,{path:"/work-with-us",element:s.jsx(gh,{children:s.jsx(ave,{})})}),s.jsx(ps,{path:"/services",element:s.jsx(gh,{children:s.jsx(lve,{})})}),s.jsx(ps,{path:"/work",element:s.jsx(gh,{children:s.jsx(uve,{})})}),s.jsx(ps,{path:"/proposal",element:s.jsx(gh,{children:s.jsx(fDe,{})})}),s.jsx(ps,{path:"/contact",element:s.jsx(gh,{children:s.jsx(mDe,{})})}),s.jsx(ps,{path:"/book",element:s.jsx(gh,{children:s.jsx(ADe,{})})}),s.jsx(ps,{path:"/calculator",element:s.jsx(gh,{children:s.jsx(pDe,{})})}),s.jsx(ps,{path:"/order",element:s.jsx(gh,{children:s.jsx(yDe,{})})}),s.jsx(ps,{path:"/content",element:s.jsx(gh,{children:s.jsx(bDe,{})})}),s.jsx(ps,{path:"/order/:orgSlug",element:s.jsx(gh,{children:s.jsx(_De,{})})}),s.jsx(ps,{path:"/proposal/:orgSlug",element:s.jsx(gh,{children:s.jsx(jDe,{})})}),s.jsx(ps,{path:"/privacy",element:s.jsx(gh,{children:s.jsx(pZe,{})})}),s.jsx(ps,{path:"/terms",element:s.jsx(gh,{children:s.jsx(gZe,{})})}),s.jsx(ps,{path:"/live",element:s.jsx(oq,{to:"/",replace:!0})}),s.jsx(ps,{path:"/live/:eventId",element:s.jsx(gh,{children:s.jsx(E6e,{})})}),s.jsx(ps,{path:"/watch/:eventId",element:s.jsx(mZe,{})}),s.jsx(ps,{path:"/my-purchases",element:s.jsx(AZe,{})}),s.jsx(ps,{path:"/contract/:shareToken",element:s.jsx(BDe,{})}),s.jsx(ps,{path:"/proposals/:slug",element:s.jsx(s6e,{})}),s.jsx(ps,{path:"/onboarding/:token",element:s.jsx(uMe,{})}),s.jsx(ps,{path:"/gallery/:slug",element:s.jsx(wJe,{})}),s.jsx(ps,{path:"/gallery/download",element:s.jsx(jJe,{})}),s.jsx(ps,{path:"/portal",element:s.jsx(Ou,{children:s.jsx(CDe,{})})}),s.jsx(ps,{path:"/portal/contracts",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(LDe,{})})})}),s.jsx(ps,{path:"/portal/contracts/new",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(oK,{})})})}),s.jsx(ps,{path:"/portal/contracts/:id",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(IDe,{})})})}),s.jsx(ps,{path:"/portal/contracts/:id/edit",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(oK,{editMode:!0})})})}),s.jsx(ps,{path:"/portal/onboarding",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(rMe,{})})})}),s.jsx(ps,{path:"/portal/onboarding/new",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(nMe,{})})})}),s.jsx(ps,{path:"/portal/onboarding/:id",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(oMe,{})})})}),s.jsx(ps,{path:"/portal/pipeline",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(HDe,{})})})}),s.jsx(ps,{path:"/portal/pipeline/board",element:s.jsx(fu,{children:s.jsx(KDe,{})})}),s.jsx(ps,{path:"/portal/pipeline/leads/:id",element:s.jsx(fu,{children:s.jsx(GDe,{})})}),s.jsx(ps,{path:"/portal/outreach",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(WDe,{})})})}),s.jsx(ps,{path:"/portal/content",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(PMe,{})})})}),s.jsx(ps,{path:"/portal/content-admin",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(OMe,{})})})}),s.jsx(ps,{path:"/portal/galleries",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(bJe,{})})})}),s.jsx(ps,{path:"/portal/orders",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(RMe,{})})})}),s.jsx(ps,{path:"/portal/pricing",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(FMe,{})})})}),s.jsx(ps,{path:"/portal/crews",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(wUe,{})})})}),s.jsx(ps,{path:"/portal/livestream",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(KUe,{})})})}),s.jsx(ps,{path:"/portal/livestream/analytics",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(YUe,{})})})}),s.jsx(ps,{path:"/portal/proposals",element:s.jsx(fu,{children:s.jsx(Ou,{children:s.jsx(JUe,{})})})}),s.jsx(ps,{path:"/athlete",element:s.jsx(pMe,{})}),s.jsx(ps,{path:"/athlete/register",element:s.jsx(CMe,{})}),s.jsx(ps,{path:"/athlete/packages",element:s.jsx(LMe,{})}),s.jsx(ps,{path:"/athlete/dashboard",element:s.jsx(IMe,{})}),s.jsx(ps,{path:"/athlete/events/:eventId",element:s.jsx(BMe,{})})]})]})}xue.createRoot(document.getElementById("root")).render(s.jsx(Ao.StrictMode,{children:s.jsx($de,{children:s.jsx(CJe,{})})}));
