import{j as t,s as W}from"./index-XUNmPRkC.js";import{b as l,k as q,c as We}from"./vendor-react-q0iRXJvs.js";import"./vendor-supabase-DhDedaeW.js";function jn({event:e,crew:n,equipment:r,onClose:i}){if(!e)return null;const o=g=>(g||[]).map(f=>n.find(b=>b.id===f)).filter(Boolean),a=g=>(g||[]).map(f=>r.find(b=>b.id===f)).filter(Boolean);function d(g){return new Date(g).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}const c=o(e.crew_ids),u=a(e.equipment_ids),x=u.reduce((g,f)=>{const b=f.category||"Other";return g[b]||(g[b]=[]),g[b].push(f),g},{}),p={confirmed:"#10b981",tentative:"#f59e0b",completed:"#6b7280",cancelled:"#ef4444"};return t.jsxs("div",{className:"fixed inset-0 bg-black/80 flex items-start justify-center z-50 p-4 overflow-y-auto",children:[t.jsxs("div",{className:"print:hidden fixed top-4 right-4 flex items-center gap-3 z-10",children:[t.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-2 bg-orange-600 hover:bg-orange-700 rounded-lg text-white font-medium flex items-center gap-2",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Print Brief"]}),t.jsx("button",{onClick:i,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Close"})]}),t.jsxs("div",{id:"event-brief",className:"bg-white text-gray-900 w-full max-w-3xl my-4 rounded-xl overflow-hidden print:m-0 print:rounded-none print:shadow-none",style:{fontFamily:"system-ui, -apple-system, sans-serif"},children:[t.jsx("div",{style:{background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",color:"white",padding:"32px"},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"12px",textTransform:"uppercase",letterSpacing:"2px",color:"#e5383b",fontWeight:"700",marginBottom:"8px"},children:"FIT FOCUS MEDIA ‚Äî PRODUCTION BRIEF"}),t.jsx("h1",{style:{fontSize:"28px",fontWeight:"800",margin:"0 0 8px"},children:e.name}),t.jsx("p",{style:{fontSize:"16px",color:"#e5383b",margin:"0"},children:e.client})]}),t.jsx("div",{style:{textAlign:"right"},children:t.jsx("span",{style:{background:p[e.status]||"#6b7280",color:"white",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px"},children:e.status})})]})}),t.jsxs("div",{style:{padding:"32px"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px",marginBottom:"32px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"DATE"}),t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:d(e.date)})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"LOCATION"}),t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:e.location||"TBC"})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"10px",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:"CLIENT"}),t.jsx("div",{style:{fontSize:"15px",fontWeight:"600",color:"#111827"},children:e.client})]})]}),t.jsx("div",{style:{borderTop:"1px solid #e5e7eb",marginBottom:"28px"}}),t.jsxs("div",{style:{marginBottom:"28px"},children:[t.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:["üë• Crew (",c.length,")"]}),c.length>0?t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f9fafb"},children:[t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Name"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Role"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Phone"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Email"})]})}),t.jsx("tbody",{children:c.map((g,f)=>t.jsxs("tr",{style:{background:f%2===0?"white":"#f9fafb"},children:[t.jsx("td",{style:{padding:"10px 12px",fontWeight:"600",fontSize:"14px",borderBottom:"1px solid #f3f4f6"},children:g.name}),t.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",color:"#6b7280",borderBottom:"1px solid #f3f4f6"},children:g.role||"‚Äî"}),t.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:g.phone||"‚Äî"}),t.jsx("td",{style:{padding:"10px 12px",fontSize:"13px",borderBottom:"1px solid #f3f4f6"},children:g.email||"‚Äî"})]},g.id))})]}):t.jsx("p",{style:{color:"#9ca3af",fontSize:"14px",fontStyle:"italic"},children:"No crew assigned yet. Assign crew from the Crew & Logistics portal."})]}),u.length>0&&t.jsxs("div",{style:{marginBottom:"28px"},children:[t.jsxs("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:["üì∑ Equipment (",u.length," items)"]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:Object.entries(x).map(([g,f])=>t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#9ca3af",marginBottom:"6px"},children:g}),f.map(b=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px solid #f3f4f6",fontSize:"13px"},children:[t.jsx("span",{style:{color:"#111827"},children:b.name}),t.jsxs("span",{style:{color:"#6b7280"},children:["√ó",b.quantity]})]},b.id))]},g))})]}),(e.flight_links?.length||0)+(e.accommodation_links?.length||0)+(e.rental_links?.length||0)>0&&t.jsxs("div",{style:{marginBottom:"28px"},children:[t.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:"‚úàÔ∏è Travel & Logistics"}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[e.flight_links?.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Flights"}),e.flight_links.map((g,f)=>t.jsxs("a",{href:g,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:["üîó Flight ",f+1]},f))]}),e.accommodation_links?.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Accommodation"}),e.accommodation_links.map((g,f)=>t.jsxs("a",{href:g,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:["üîó Booking ",f+1]},f))]}),e.rental_links?.length>0&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:"#9ca3af",textTransform:"uppercase",marginBottom:"6px"},children:"Rental Cars"}),e.rental_links.map((g,f)=>t.jsxs("a",{href:g,style:{display:"block",color:"#2563eb",fontSize:"13px",marginBottom:"4px",wordBreak:"break-all"},children:["üîó Rental ",f+1]},f))]})]})]}),e.notes&&t.jsxs("div",{style:{marginBottom:"28px"},children:[t.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:"üìù Notes"}),t.jsx("div",{style:{background:"#f9fafb",borderLeft:"3px solid #e5383b",padding:"12px 16px",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",color:"#374151"},children:e.notes})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h2",{style:{fontSize:"14px",fontWeight:"700",textTransform:"uppercase",letterSpacing:"1px",color:"#374151",marginBottom:"12px"},children:"üé¨ Shot List / Run Sheet"}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{background:"#f9fafb"},children:[t.jsx("th",{style:{width:"60px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"#"}),t.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Time"}),t.jsx("th",{style:{padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Shot / Activity"}),t.jsx("th",{style:{width:"80px",padding:"8px 12px",textAlign:"left",fontSize:"11px",color:"#6b7280",textTransform:"uppercase",borderBottom:"1px solid #e5e7eb"},children:"Done"})]})}),t.jsx("tbody",{children:[1,2,3,4,5,6,7,8].map(g=>t.jsxs("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[t.jsx("td",{style:{padding:"12px",color:"#9ca3af",fontSize:"13px"},children:g}),t.jsx("td",{style:{padding:"12px"}}),t.jsx("td",{style:{padding:"12px"}}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:"‚òê"})]},g))})]})]}),t.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:["Generated by FIT FOCUS MEDIA Portal ¬∑ ",new Date().toLocaleDateString("en-AU",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),t.jsx("div",{style:{fontSize:"11px",color:"#9ca3af"},children:"fitfocusmedia.com.au"})]})]})]})]})}const ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Oe(e){const n=Object.prototype.toString.call(e);return n==="[object Window]"||n==="[object global]"}function Mt(e){return"nodeType"in e}function G(e){var n,r;return e?Oe(e)?e:Mt(e)&&(n=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?n:window:window}function At(e){const{Document:n}=G(e);return e instanceof n}function Ge(e){return Oe(e)?!1:e instanceof G(e).HTMLElement}function Zt(e){return e instanceof G(e).SVGElement}function ze(e){return e?Oe(e)?e.document:Mt(e)?At(e)?e:Ge(e)||Zt(e)?e.ownerDocument:document:document:document}const pe=ft?l.useLayoutEffect:l.useEffect;function mt(e){const n=l.useRef(e);return pe(()=>{n.current=e}),l.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.current==null?void 0:n.current(...i)},[])}function Nn(){const e=l.useRef(null),n=l.useCallback((i,o)=>{e.current=setInterval(i,o)},[]),r=l.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[n,r]}function Xe(e,n){n===void 0&&(n=[e]);const r=l.useRef(e);return pe(()=>{r.current!==e&&(r.current=e)},n),r}function Je(e,n){const r=l.useRef();return l.useMemo(()=>{const i=e(r.current);return r.current=i,i},[...n])}function ct(e){const n=mt(e),r=l.useRef(null),i=l.useCallback(o=>{o!==r.current&&n?.(o,r.current),r.current=o},[]);return[r,i]}function dt(e){const n=l.useRef();return l.useEffect(()=>{n.current=e},[e]),n.current}let jt={};function pt(e,n){return l.useMemo(()=>{if(n)return n;const r=jt[e]==null?0:jt[e]+1;return jt[e]=r,e+"-"+r},[e,n])}function en(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((a,d)=>{const c=Object.entries(d);for(const[u,x]of c){const p=a[u];p!=null&&(a[u]=p+e*x)}return a},{...n})}}const Be=en(1),ut=en(-1);function Cn(e){return"clientX"in e&&"clientY"in e}function Tt(e){if(!e)return!1;const{KeyboardEvent:n}=G(e.target);return n&&e instanceof n}function Sn(e){if(!e)return!1;const{TouchEvent:n}=G(e.target);return n&&e instanceof n}function gt(e){if(Sn(e)){if(e.touches&&e.touches.length){const{clientX:n,clientY:r}=e.touches[0];return{x:n,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:n,clientY:r}=e.changedTouches[0];return{x:n,y:r}}}return Cn(e)?{x:e.clientX,y:e.clientY}:null}const Ve=Object.freeze({Translate:{toString(e){if(!e)return;const{x:n,y:r}=e;return"translate3d("+(n?Math.round(n):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:n,scaleY:r}=e;return"scaleX("+n+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ve.Translate.toString(e),Ve.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:n,duration:r,easing:i}=e;return n+" "+r+"ms "+i}}}),It="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function kn(e){return e.matches(It)?e:e.querySelector(It)}const Dn={display:"none"};function En(e){let{id:n,value:r}=e;return q.createElement("div",{id:n,style:Dn},r)}function Rn(e){let{id:n,announcement:r,ariaLiveType:i="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return q.createElement("div",{id:n,style:o,role:"status","aria-live":i,"aria-atomic":!0},r)}function Mn(){const[e,n]=l.useState("");return{announce:l.useCallback(i=>{i!=null&&n(i)},[]),announcement:e}}const tn=l.createContext(null);function An(e){const n=l.useContext(tn);l.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(e)},[e,n])}function Tn(){const[e]=l.useState(()=>new Set),n=l.useCallback(i=>(e.add(i),()=>e.delete(i)),[e]);return[l.useCallback(i=>{let{type:o,event:a}=i;e.forEach(d=>{var c;return(c=d[o])==null?void 0:c.call(d,a)})},[e]),n]}const _n={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ln={onDragStart(e){let{active:n}=e;return"Picked up draggable item "+n.id+"."},onDragOver(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was moved over droppable area "+r.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(e){let{active:n,over:r}=e;return r?"Draggable item "+n.id+" was dropped over droppable area "+r.id:"Draggable item "+n.id+" was dropped."},onDragCancel(e){let{active:n}=e;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Bn(e){let{announcements:n=Ln,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=_n}=e;const{announce:a,announcement:d}=Mn(),c=pt("DndLiveRegion"),[u,x]=l.useState(!1);if(l.useEffect(()=>{x(!0)},[]),An(l.useMemo(()=>({onDragStart(g){let{active:f}=g;a(n.onDragStart({active:f}))},onDragMove(g){let{active:f,over:b}=g;n.onDragMove&&a(n.onDragMove({active:f,over:b}))},onDragOver(g){let{active:f,over:b}=g;a(n.onDragOver({active:f,over:b}))},onDragEnd(g){let{active:f,over:b}=g;a(n.onDragEnd({active:f,over:b}))},onDragCancel(g){let{active:f,over:b}=g;a(n.onDragCancel({active:f,over:b}))}}),[a,n])),!u)return null;const p=q.createElement(q.Fragment,null,q.createElement(En,{id:i,value:o.draggable}),q.createElement(Rn,{id:c,announcement:d}));return r?We.createPortal(p,r):p}var $;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})($||($={}));function xt(){}function Nt(e,n){return l.useMemo(()=>({sensor:e,options:n??{}}),[e,n])}function On(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return l.useMemo(()=>[...n].filter(i=>i!=null),[...n])}const ae=Object.freeze({x:0,y:0});function zn(e,n){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function qn(e,n){const r=gt(e);if(!r)return"0 0";const i={x:(r.x-n.left)/n.width*100,y:(r.y-n.top)/n.height*100};return i.x+"% "+i.y+"%"}function In(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return r-i}function $n(e,n){let{data:{value:r}}=e,{data:{value:i}}=n;return i-r}function Fn(e,n){if(!e||e.length===0)return null;const[r]=e;return r[n]}function $t(e,n,r){return n===void 0&&(n=e.left),r===void 0&&(r=e.top),{x:n+e.width*.5,y:r+e.height*.5}}const Pn=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const o=$t(n,n.left,n.top),a=[];for(const d of i){const{id:c}=d,u=r.get(c);if(u){const x=zn($t(u),o);a.push({id:c,data:{droppableContainer:d,value:x}})}}return a.sort(In)};function Wn(e,n){const r=Math.max(n.top,e.top),i=Math.max(n.left,e.left),o=Math.min(n.left+n.width,e.left+e.width),a=Math.min(n.top+n.height,e.top+e.height),d=o-i,c=a-r;if(i<o&&r<a){const u=n.width*n.height,x=e.width*e.height,p=d*c,g=p/(u+x-p);return Number(g.toFixed(4))}return 0}const Un=e=>{let{collisionRect:n,droppableRects:r,droppableContainers:i}=e;const o=[];for(const a of i){const{id:d}=a,c=r.get(d);if(c){const u=Wn(c,n);u>0&&o.push({id:d,data:{droppableContainer:a,value:u}})}}return o.sort($n)};function Yn(e,n,r){return{...e,scaleX:n&&r?n.width/r.width:1,scaleY:n&&r?n.height/r.height:1}}function nn(e,n){return e&&n?{x:e.left-n.left,y:e.top-n.top}:ae}function Hn(e){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.reduce((d,c)=>({...d,top:d.top+e*c.y,bottom:d.bottom+e*c.y,left:d.left+e*c.x,right:d.right+e*c.x}),{...r})}}const Xn=Hn(1);function rn(e){if(e.startsWith("matrix3d(")){const n=e.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(e.startsWith("matrix(")){const n=e.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Vn(e,n,r){const i=rn(n);if(!i)return e;const{scaleX:o,scaleY:a,x:d,y:c}=i,u=e.left-d-(1-o)*parseFloat(r),x=e.top-c-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),p=o?e.width/o:e.width,g=a?e.height/a:e.height;return{width:p,height:g,top:x,right:u+p,bottom:x+g,left:u}}const Kn={ignoreTransform:!1};function Qe(e,n){n===void 0&&(n=Kn);let r=e.getBoundingClientRect();if(n.ignoreTransform){const{transform:x,transformOrigin:p}=G(e).getComputedStyle(e);x&&(r=Vn(r,x,p))}const{top:i,left:o,width:a,height:d,bottom:c,right:u}=r;return{top:i,left:o,width:a,height:d,bottom:c,right:u}}function Ft(e){return Qe(e,{ignoreTransform:!0})}function Gn(e){const n=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:n,bottom:r,width:n,height:r}}function Jn(e,n){return n===void 0&&(n=G(e).getComputedStyle(e)),n.position==="fixed"}function Qn(e,n){n===void 0&&(n=G(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=n[o];return typeof a=="string"?r.test(a):!1})}function _t(e,n){const r=[];function i(o){if(n!=null&&r.length>=n||!o)return r;if(At(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!Ge(o)||Zt(o)||r.includes(o))return r;const a=G(e).getComputedStyle(o);return o!==e&&Qn(o,a)&&r.push(o),Jn(o,a)?r:i(o.parentNode)}return e?i(e):r}function sn(e){const[n]=_t(e,1);return n??null}function Ct(e){return!ft||!e?null:Oe(e)?e:Mt(e)?At(e)||e===ze(e).scrollingElement?window:Ge(e)?e:null:null}function on(e){return Oe(e)?e.scrollX:e.scrollLeft}function an(e){return Oe(e)?e.scrollY:e.scrollTop}function Dt(e){return{x:on(e),y:an(e)}}var U;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(U||(U={}));function ln(e){return!ft||!e?!1:e===document.scrollingElement}function cn(e){const n={x:0,y:0},r=ln(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},i={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=n.y,a=e.scrollLeft<=n.x,d=e.scrollTop>=i.y,c=e.scrollLeft>=i.x;return{isTop:o,isLeft:a,isBottom:d,isRight:c,maxScroll:i,minScroll:n}}const Zn={x:.2,y:.2};function er(e,n,r,i,o){let{top:a,left:d,right:c,bottom:u}=r;i===void 0&&(i=10),o===void 0&&(o=Zn);const{isTop:x,isBottom:p,isLeft:g,isRight:f}=cn(e),b={x:0,y:0},T={x:0,y:0},y={height:n.height*o.y,width:n.width*o.x};return!x&&a<=n.top+y.height?(b.y=U.Backward,T.y=i*Math.abs((n.top+y.height-a)/y.height)):!p&&u>=n.bottom-y.height&&(b.y=U.Forward,T.y=i*Math.abs((n.bottom-y.height-u)/y.height)),!f&&c>=n.right-y.width?(b.x=U.Forward,T.x=i*Math.abs((n.right-y.width-c)/y.width)):!g&&d<=n.left+y.width&&(b.x=U.Backward,T.x=i*Math.abs((n.left+y.width-d)/y.width)),{direction:b,speed:T}}function tr(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:d}=window;return{top:0,left:0,right:a,bottom:d,width:a,height:d}}const{top:n,left:r,right:i,bottom:o}=e.getBoundingClientRect();return{top:n,left:r,right:i,bottom:o,width:e.clientWidth,height:e.clientHeight}}function dn(e){return e.reduce((n,r)=>Be(n,Dt(r)),ae)}function nr(e){return e.reduce((n,r)=>n+on(r),0)}function rr(e){return e.reduce((n,r)=>n+an(r),0)}function un(e,n){if(n===void 0&&(n=Qe),!e)return;const{top:r,left:i,bottom:o,right:a}=n(e);sn(e)&&(o<=0||a<=0||r>=window.innerHeight||i>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const sr=[["x",["left","right"],nr],["y",["top","bottom"],rr]];class Lt{constructor(n,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=_t(r),o=dn(i);this.rect={...n},this.width=n.width,this.height=n.height;for(const[a,d,c]of sr)for(const u of d)Object.defineProperty(this,u,{get:()=>{const x=c(i),p=o[a]-x;return this.rect[u]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ue{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=n}add(n,r,i){var o;(o=this.target)==null||o.addEventListener(n,r,i),this.listeners.push([n,r,i])}}function ir(e){const{EventTarget:n}=G(e);return e instanceof n?e:ze(e)}function St(e,n){const r=Math.abs(e.x),i=Math.abs(e.y);return typeof n=="number"?Math.sqrt(r**2+i**2)>n:"x"in n&&"y"in n?r>n.x&&i>n.y:"x"in n?r>n.x:"y"in n?i>n.y:!1}var se;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(se||(se={}));function Pt(e){e.preventDefault()}function or(e){e.stopPropagation()}var B;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(B||(B={}));const gn={start:[B.Space,B.Enter],cancel:[B.Esc],end:[B.Space,B.Enter,B.Tab]},ar=(e,n)=>{let{currentCoordinates:r}=n;switch(e.code){case B.Right:return{...r,x:r.x+25};case B.Left:return{...r,x:r.x-25};case B.Down:return{...r,y:r.y+25};case B.Up:return{...r,y:r.y-25}}};class Bt{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:r}}=n;this.props=n,this.listeners=new Ue(ze(r)),this.windowListeners=new Ue(G(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(se.Resize,this.handleCancel),this.windowListeners.add(se.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(se.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:r}=this.props,i=n.node.current;i&&un(i),r(ae)}handleKeyDown(n){if(Tt(n)){const{active:r,context:i,options:o}=this.props,{keyboardCodes:a=gn,coordinateGetter:d=ar,scrollBehavior:c="smooth"}=o,{code:u}=n;if(a.end.includes(u)){this.handleEnd(n);return}if(a.cancel.includes(u)){this.handleCancel(n);return}const{collisionRect:x}=i.current,p=x?{x:x.left,y:x.top}:ae;this.referenceCoordinates||(this.referenceCoordinates=p);const g=d(n,{active:r,context:i.current,currentCoordinates:p});if(g){const f=ut(g,p),b={x:0,y:0},{scrollableAncestors:T}=i.current;for(const y of T){const S=n.code,{isTop:E,isRight:A,isLeft:R,isBottom:v,maxScroll:m,minScroll:M}=cn(y),N=tr(y),C={x:Math.min(S===B.Right?N.right-N.width/2:N.right,Math.max(S===B.Right?N.left:N.left+N.width/2,g.x)),y:Math.min(S===B.Down?N.bottom-N.height/2:N.bottom,Math.max(S===B.Down?N.top:N.top+N.height/2,g.y))},D=S===B.Right&&!A||S===B.Left&&!R,_=S===B.Down&&!v||S===B.Up&&!E;if(D&&C.x!==g.x){const L=y.scrollLeft+f.x,w=S===B.Right&&L<=m.x||S===B.Left&&L>=M.x;if(w&&!f.y){y.scrollTo({left:L,behavior:c});return}w?b.x=y.scrollLeft-L:b.x=S===B.Right?y.scrollLeft-m.x:y.scrollLeft-M.x,b.x&&y.scrollBy({left:-b.x,behavior:c});break}else if(_&&C.y!==g.y){const L=y.scrollTop+f.y,w=S===B.Down&&L<=m.y||S===B.Up&&L>=M.y;if(w&&!f.x){y.scrollTo({top:L,behavior:c});return}w?b.y=y.scrollTop-L:b.y=S===B.Down?y.scrollTop-m.y:y.scrollTop-M.y,b.y&&y.scrollBy({top:-b.y,behavior:c});break}}this.handleMove(n,Be(ut(g,this.referenceCoordinates),b))}}}handleMove(n,r){const{onMove:i}=this.props;n.preventDefault(),i(r)}handleEnd(n){const{onEnd:r}=this.props;n.preventDefault(),this.detach(),r()}handleCancel(n){const{onCancel:r}=this.props;n.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Bt.activators=[{eventName:"onKeyDown",handler:(e,n,r)=>{let{keyboardCodes:i=gn,onActivation:o}=n,{active:a}=r;const{code:d}=e.nativeEvent;if(i.start.includes(d)){const c=a.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),o?.({event:e.nativeEvent}),!0)}return!1}}];function Wt(e){return!!(e&&"distance"in e)}function Ut(e){return!!(e&&"delay"in e)}class Ot{constructor(n,r,i){var o;i===void 0&&(i=ir(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=r;const{event:a}=n,{target:d}=a;this.props=n,this.events=r,this.document=ze(d),this.documentListeners=new Ue(this.document),this.listeners=new Ue(i),this.windowListeners=new Ue(G(d)),this.initialCoordinates=(o=gt(a))!=null?o:ae,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(se.Resize,this.handleCancel),this.windowListeners.add(se.DragStart,Pt),this.windowListeners.add(se.VisibilityChange,this.handleCancel),this.windowListeners.add(se.ContextMenu,Pt),this.documentListeners.add(se.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ut(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Wt(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,r){const{active:i,onPending:o}=this.props;o(i,n,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:n}=this,{onStart:r}=this.props;n&&(this.activated=!0,this.documentListeners.add(se.Click,or,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(se.SelectionChange,this.removeTextSelection),r(n))}handleMove(n){var r;const{activated:i,initialCoordinates:o,props:a}=this,{onMove:d,options:{activationConstraint:c}}=a;if(!o)return;const u=(r=gt(n))!=null?r:ae,x=ut(o,u);if(!i&&c){if(Wt(c)){if(c.tolerance!=null&&St(x,c.tolerance))return this.handleCancel();if(St(x,c.distance))return this.handleStart()}if(Ut(c)&&St(x,c.tolerance))return this.handleCancel();this.handlePending(c,x);return}n.cancelable&&n.preventDefault(),d(u)}handleEnd(){const{onAbort:n,onEnd:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleCancel(){const{onAbort:n,onCancel:r}=this.props;this.detach(),this.activated||n(this.props.active),r()}handleKeydown(n){n.code===B.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const lr={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class zt extends Ot{constructor(n){const{event:r}=n,i=ze(r.target);super(n,lr,i)}}zt.activators=[{eventName:"onPointerDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return!r.isPrimary||r.button!==0?!1:(i?.({event:r}),!0)}}];const cr={move:{name:"mousemove"},end:{name:"mouseup"}};var Et;(function(e){e[e.RightClick=2]="RightClick"})(Et||(Et={}));class dr extends Ot{constructor(n){super(n,cr,ze(n.event.target))}}dr.activators=[{eventName:"onMouseDown",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;return r.button===Et.RightClick?!1:(i?.({event:r}),!0)}}];const kt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class xn extends Ot{constructor(n){super(n,kt)}static setup(){return window.addEventListener(kt.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(kt.move.name,n)};function n(){}}}xn.activators=[{eventName:"onTouchStart",handler:(e,n)=>{let{nativeEvent:r}=e,{onActivation:i}=n;const{touches:o}=r;return o.length>1?!1:(i?.({event:r}),!0)}}];var Ye;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ye||(Ye={}));var ht;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ht||(ht={}));function ur(e){let{acceleration:n,activator:r=Ye.Pointer,canScroll:i,draggingRect:o,enabled:a,interval:d=5,order:c=ht.TreeOrder,pointerCoordinates:u,scrollableAncestors:x,scrollableAncestorRects:p,delta:g,threshold:f}=e;const b=xr({delta:g,disabled:!a}),[T,y]=Nn(),S=l.useRef({x:0,y:0}),E=l.useRef({x:0,y:0}),A=l.useMemo(()=>{switch(r){case Ye.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ye.DraggableRect:return o}},[r,o,u]),R=l.useRef(null),v=l.useCallback(()=>{const M=R.current;if(!M)return;const N=S.current.x*E.current.x,C=S.current.y*E.current.y;M.scrollBy(N,C)},[]),m=l.useMemo(()=>c===ht.TreeOrder?[...x].reverse():x,[c,x]);l.useEffect(()=>{if(!a||!x.length||!A){y();return}for(const M of m){if(i?.(M)===!1)continue;const N=x.indexOf(M),C=p[N];if(!C)continue;const{direction:D,speed:_}=er(M,C,A,n,f);for(const L of["x","y"])b[L][D[L]]||(_[L]=0,D[L]=0);if(_.x>0||_.y>0){y(),R.current=M,T(v,d),S.current=_,E.current=D;return}}S.current={x:0,y:0},E.current={x:0,y:0},y()},[n,v,i,y,a,d,JSON.stringify(A),JSON.stringify(b),T,x,m,p,JSON.stringify(f)])}const gr={x:{[U.Backward]:!1,[U.Forward]:!1},y:{[U.Backward]:!1,[U.Forward]:!1}};function xr(e){let{delta:n,disabled:r}=e;const i=dt(n);return Je(o=>{if(r||!i||!o)return gr;const a={x:Math.sign(n.x-i.x),y:Math.sign(n.y-i.y)};return{x:{[U.Backward]:o.x[U.Backward]||a.x===-1,[U.Forward]:o.x[U.Forward]||a.x===1},y:{[U.Backward]:o.y[U.Backward]||a.y===-1,[U.Forward]:o.y[U.Forward]||a.y===1}}},[r,n,i])}function hr(e,n){const r=n!=null?e.get(n):void 0,i=r?r.node.current:null;return Je(o=>{var a;return n==null?null:(a=i??o)!=null?a:null},[i,n])}function fr(e,n){return l.useMemo(()=>e.reduce((r,i)=>{const{sensor:o}=i,a=o.activators.map(d=>({eventName:d.eventName,handler:n(d.handler,i)}));return[...r,...a]},[]),[e,n])}var Ke;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Ke||(Ke={}));var Rt;(function(e){e.Optimized="optimized"})(Rt||(Rt={}));const Yt=new Map;function mr(e,n){let{dragging:r,dependencies:i,config:o}=n;const[a,d]=l.useState(null),{frequency:c,measure:u,strategy:x}=o,p=l.useRef(e),g=S(),f=Xe(g),b=l.useCallback(function(E){E===void 0&&(E=[]),!f.current&&d(A=>A===null?E:A.concat(E.filter(R=>!A.includes(R))))},[f]),T=l.useRef(null),y=Je(E=>{if(g&&!r)return Yt;if(!E||E===Yt||p.current!==e||a!=null){const A=new Map;for(let R of e){if(!R)continue;if(a&&a.length>0&&!a.includes(R.id)&&R.rect.current){A.set(R.id,R.rect.current);continue}const v=R.node.current,m=v?new Lt(u(v),v):null;R.rect.current=m,m&&A.set(R.id,m)}return A}return E},[e,a,r,g,u]);return l.useEffect(()=>{p.current=e},[e]),l.useEffect(()=>{g||b()},[r,g]),l.useEffect(()=>{a&&a.length>0&&d(null)},[JSON.stringify(a)]),l.useEffect(()=>{g||typeof c!="number"||T.current!==null||(T.current=setTimeout(()=>{b(),T.current=null},c))},[c,g,b,...i]),{droppableRects:y,measureDroppableContainers:b,measuringScheduled:a!=null};function S(){switch(x){case Ke.Always:return!1;case Ke.BeforeDragging:return r;default:return!r}}}function qt(e,n){return Je(r=>e?r||(typeof n=="function"?n(e):e):null,[n,e])}function pr(e,n){return qt(e,n)}function br(e){let{callback:n,disabled:r}=e;const i=mt(n),o=l.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(i)},[i,r]);return l.useEffect(()=>()=>o?.disconnect(),[o]),o}function bt(e){let{callback:n,disabled:r}=e;const i=mt(n),o=l.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(i)},[r]);return l.useEffect(()=>()=>o?.disconnect(),[o]),o}function yr(e){return new Lt(Qe(e),e)}function Ht(e,n,r){n===void 0&&(n=yr);const[i,o]=l.useState(null);function a(){o(u=>{if(!e)return null;if(e.isConnected===!1){var x;return(x=u??r)!=null?x:null}const p=n(e);return JSON.stringify(u)===JSON.stringify(p)?u:p})}const d=br({callback(u){if(e)for(const x of u){const{type:p,target:g}=x;if(p==="childList"&&g instanceof HTMLElement&&g.contains(e)){a();break}}}}),c=bt({callback:a});return pe(()=>{a(),e?(c?.observe(e),d?.observe(document.body,{childList:!0,subtree:!0})):(c?.disconnect(),d?.disconnect())},[e]),i}function vr(e){const n=qt(e);return nn(e,n)}const Xt=[];function wr(e){const n=l.useRef(e),r=Je(i=>e?i&&i!==Xt&&e&&n.current&&e.parentNode===n.current.parentNode?i:_t(e):Xt,[e]);return l.useEffect(()=>{n.current=e},[e]),r}function jr(e){const[n,r]=l.useState(null),i=l.useRef(e),o=l.useCallback(a=>{const d=Ct(a.target);d&&r(c=>c?(c.set(d,Dt(d)),new Map(c)):null)},[]);return l.useEffect(()=>{const a=i.current;if(e!==a){d(a);const c=e.map(u=>{const x=Ct(u);return x?(x.addEventListener("scroll",o,{passive:!0}),[x,Dt(x)]):null}).filter(u=>u!=null);r(c.length?new Map(c):null),i.current=e}return()=>{d(e),d(a)};function d(c){c.forEach(u=>{const x=Ct(u);x?.removeEventListener("scroll",o)})}},[o,e]),l.useMemo(()=>e.length?n?Array.from(n.values()).reduce((a,d)=>Be(a,d),ae):dn(e):ae,[e,n])}function Vt(e,n){n===void 0&&(n=[]);const r=l.useRef(null);return l.useEffect(()=>{r.current=null},n),l.useEffect(()=>{const i=e!==ae;i&&!r.current&&(r.current=e),!i&&r.current&&(r.current=null)},[e]),r.current?ut(e,r.current):ae}function Nr(e){l.useEffect(()=>{if(!ft)return;const n=e.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of n)r?.()}},e.map(n=>{let{sensor:r}=n;return r}))}function Cr(e,n){return l.useMemo(()=>e.reduce((r,i)=>{let{eventName:o,handler:a}=i;return r[o]=d=>{a(d,n)},r},{}),[e,n])}function hn(e){return l.useMemo(()=>e?Gn(e):null,[e])}const Kt=[];function Sr(e,n){n===void 0&&(n=Qe);const[r]=e,i=hn(r?G(r):null),[o,a]=l.useState(Kt);function d(){a(()=>e.length?e.map(u=>ln(u)?i:new Lt(n(u),u)):Kt)}const c=bt({callback:d});return pe(()=>{c?.disconnect(),d(),e.forEach(u=>c?.observe(u))},[e]),o}function fn(e){if(!e)return null;if(e.children.length>1)return e;const n=e.children[0];return Ge(n)?n:e}function kr(e){let{measure:n}=e;const[r,i]=l.useState(null),o=l.useCallback(x=>{for(const{target:p}of x)if(Ge(p)){i(g=>{const f=n(p);return g?{...g,width:f.width,height:f.height}:f});break}},[n]),a=bt({callback:o}),d=l.useCallback(x=>{const p=fn(x);a?.disconnect(),p&&a?.observe(p),i(p?n(p):null)},[n,a]),[c,u]=ct(d);return l.useMemo(()=>({nodeRef:c,rect:r,setRef:u}),[r,c,u])}const Dr=[{sensor:zt,options:{}},{sensor:Bt,options:{}}],Er={current:{}},lt={draggable:{measure:Ft},droppable:{measure:Ft,strategy:Ke.WhileDragging,frequency:Rt.Optimized},dragOverlay:{measure:Qe}};class He extends Map{get(n){var r;return n!=null&&(r=super.get(n))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:r}=n;return!r})}getNodeFor(n){var r,i;return(r=(i=this.get(n))==null?void 0:i.node.current)!=null?r:void 0}}const Rr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new He,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:xt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:lt,measureDroppableContainers:xt,windowRect:null,measuringScheduled:!1},mn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:xt,draggableNodes:new Map,over:null,measureDroppableContainers:xt},Ze=l.createContext(mn),pn=l.createContext(Rr);function Mr(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new He}}}function Ar(e,n){switch(n.type){case $.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case $.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:n.coordinates.x-e.draggable.initialCoordinates.x,y:n.coordinates.y-e.draggable.initialCoordinates.y}}};case $.DragEnd:case $.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $.RegisterDroppable:{const{element:r}=n,{id:i}=r,o=new He(e.droppable.containers);return o.set(i,r),{...e,droppable:{...e.droppable,containers:o}}}case $.SetDroppableDisabled:{const{id:r,key:i,disabled:o}=n,a=e.droppable.containers.get(r);if(!a||i!==a.key)return e;const d=new He(e.droppable.containers);return d.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:d}}}case $.UnregisterDroppable:{const{id:r,key:i}=n,o=e.droppable.containers.get(r);if(!o||i!==o.key)return e;const a=new He(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function Tr(e){let{disabled:n}=e;const{active:r,activatorEvent:i,draggableNodes:o}=l.useContext(Ze),a=dt(i),d=dt(r?.id);return l.useEffect(()=>{if(!n&&!i&&a&&d!=null){if(!Tt(a)||document.activeElement===a.target)return;const c=o.get(d);if(!c)return;const{activatorNode:u,node:x}=c;if(!u.current&&!x.current)return;requestAnimationFrame(()=>{for(const p of[u.current,x.current]){if(!p)continue;const g=kn(p);if(g){g.focus();break}}})}},[i,n,o,d,a]),null}function bn(e,n){let{transform:r,...i}=n;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...i}),r):r}function _r(e){return l.useMemo(()=>({draggable:{...lt.draggable,...e?.draggable},droppable:{...lt.droppable,...e?.droppable},dragOverlay:{...lt.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Lr(e){let{activeNode:n,measure:r,initialRect:i,config:o=!0}=e;const a=l.useRef(!1),{x:d,y:c}=typeof o=="boolean"?{x:o,y:o}:o;pe(()=>{if(!d&&!c||!n){a.current=!1;return}if(a.current||!i)return;const x=n?.node.current;if(!x||x.isConnected===!1)return;const p=r(x),g=nn(p,i);if(d||(g.x=0),c||(g.y=0),a.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const f=sn(x);f&&f.scrollBy({top:g.y,left:g.x})}},[n,d,c,i,r])}const yt=l.createContext({...ae,scaleX:1,scaleY:1});var Ne;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ne||(Ne={}));const Br=l.memo(function(n){var r,i,o,a;let{id:d,accessibility:c,autoScroll:u=!0,children:x,sensors:p=Dr,collisionDetection:g=Un,measuring:f,modifiers:b,...T}=n;const y=l.useReducer(Ar,void 0,Mr),[S,E]=y,[A,R]=Tn(),[v,m]=l.useState(Ne.Uninitialized),M=v===Ne.Initialized,{draggable:{active:N,nodes:C,translate:D},droppable:{containers:_}}=S,L=N!=null?C.get(N):null,w=l.useRef({initial:null,translated:null}),z=l.useMemo(()=>{var K;return N!=null?{id:N,data:(K=L?.data)!=null?K:Er,rect:w}:null},[N,L]),I=l.useRef(null),[le,J]=l.useState(null),[Y,Ce]=l.useState(null),ge=Xe(T,Object.values(T)),ie=pt("DndDescribedBy",d),qe=l.useMemo(()=>_.getEnabled(),[_]),H=_r(f),{droppableRects:F,measureDroppableContainers:Se,measuringScheduled:et}=mr(qe,{dragging:M,dependencies:[D.x,D.y],config:H.droppable}),V=hr(C,N),ke=l.useMemo(()=>Y?gt(Y):null,[Y]),tt=wn(),nt=pr(V,H.draggable.measure);Lr({activeNode:N!=null?C.get(N):null,config:tt.layoutShiftCompensation,initialRect:nt,measure:H.draggable.measure});const Q=Ht(V,H.draggable.measure,nt),Ee=Ht(V?V.parentElement:null),xe=l.useRef({activatorEvent:null,active:null,activeNode:V,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),rt=_.getNodeFor((r=xe.current.over)==null?void 0:r.id),he=kr({measure:H.dragOverlay.measure}),Re=(i=he.nodeRef.current)!=null?i:V,be=M?(o=he.rect)!=null?o:Q:null,st=!!(he.nodeRef.current&&he.rect),it=vr(st?null:Q),Ie=hn(Re?G(Re):null),oe=wr(M?rt??V:null),Me=Sr(oe),Ae=bn(b,{transform:{x:D.x-it.x,y:D.y-it.y,scaleX:1,scaleY:1},activatorEvent:Y,active:z,activeNodeRect:Q,containerNodeRect:Ee,draggingNodeRect:be,over:xe.current.over,overlayNodeRect:he.rect,scrollableAncestors:oe,scrollableAncestorRects:Me,windowRect:Ie}),ot=ke?Be(ke,D):null,Te=jr(oe),_e=Vt(Te),vt=Vt(Te,[Q]),fe=Be(Ae,_e),ye=be?Xn(be,Ae):null,De=z&&ye?g({active:z,collisionRect:ye,droppableRects:F,droppableContainers:qe,pointerCoordinates:ot}):null,s=Fn(De,"id"),[h,j]=l.useState(null),k=st?Ae:Be(Ae,vt),P=Yn(k,(a=h?.rect)!=null?a:null,Q),O=l.useRef(null),ce=l.useCallback((K,ee)=>{let{sensor:te,options:ve}=ee;if(I.current==null)return;const re=C.get(I.current);if(!re)return;const ne=K.nativeEvent,de=new te({active:I.current,activeNode:re,event:ne,options:ve,context:xe,onAbort(X){if(!C.get(X))return;const{onDragAbort:ue}=ge.current,me={id:X};ue?.(me),A({type:"onDragAbort",event:me})},onPending(X,we,ue,me){if(!C.get(X))return;const{onDragPending:Fe}=ge.current,je={id:X,constraint:we,initialCoordinates:ue,offset:me};Fe?.(je),A({type:"onDragPending",event:je})},onStart(X){const we=I.current;if(we==null)return;const ue=C.get(we);if(!ue)return;const{onDragStart:me}=ge.current,$e={activatorEvent:ne,active:{id:we,data:ue.data,rect:w}};We.unstable_batchedUpdates(()=>{me?.($e),m(Ne.Initializing),E({type:$.DragStart,initialCoordinates:X,active:we}),A({type:"onDragStart",event:$e}),J(O.current),Ce(ne)})},onMove(X){E({type:$.DragMove,coordinates:X})},onEnd:Le($.DragEnd),onCancel:Le($.DragCancel)});O.current=de;function Le(X){return async function(){const{active:ue,collisions:me,over:$e,scrollAdjustedTranslate:Fe}=xe.current;let je=null;if(ue&&Fe){const{cancelDrop:Pe}=ge.current;je={activatorEvent:ne,active:ue,collisions:me,delta:Fe,over:$e},X===$.DragEnd&&typeof Pe=="function"&&await Promise.resolve(Pe(je))&&(X=$.DragCancel)}I.current=null,We.unstable_batchedUpdates(()=>{E({type:X}),m(Ne.Uninitialized),j(null),J(null),Ce(null),O.current=null;const Pe=X===$.DragEnd?"onDragEnd":"onDragCancel";if(je){const wt=ge.current[Pe];wt?.(je),A({type:Pe,event:je})}})}}},[C]),Z=l.useCallback((K,ee)=>(te,ve)=>{const re=te.nativeEvent,ne=C.get(ve);if(I.current!==null||!ne||re.dndKit||re.defaultPrevented)return;const de={active:ne};K(te,ee.options,de)===!0&&(re.dndKit={capturedBy:ee.sensor},I.current=ve,ce(te,ee))},[C,ce]),at=fr(p,Z);Nr(p),pe(()=>{Q&&v===Ne.Initializing&&m(Ne.Initialized)},[Q,v]),l.useEffect(()=>{const{onDragMove:K}=ge.current,{active:ee,activatorEvent:te,collisions:ve,over:re}=xe.current;if(!ee||!te)return;const ne={active:ee,activatorEvent:te,collisions:ve,delta:{x:fe.x,y:fe.y},over:re};We.unstable_batchedUpdates(()=>{K?.(ne),A({type:"onDragMove",event:ne})})},[fe.x,fe.y]),l.useEffect(()=>{const{active:K,activatorEvent:ee,collisions:te,droppableContainers:ve,scrollAdjustedTranslate:re}=xe.current;if(!K||I.current==null||!ee||!re)return;const{onDragOver:ne}=ge.current,de=ve.get(s),Le=de&&de.rect.current?{id:de.id,rect:de.rect.current,data:de.data,disabled:de.disabled}:null,X={active:K,activatorEvent:ee,collisions:te,delta:{x:re.x,y:re.y},over:Le};We.unstable_batchedUpdates(()=>{j(Le),ne?.(X),A({type:"onDragOver",event:X})})},[s]),pe(()=>{xe.current={activatorEvent:Y,active:z,activeNode:V,collisionRect:ye,collisions:De,droppableRects:F,draggableNodes:C,draggingNode:Re,draggingNodeRect:be,droppableContainers:_,over:h,scrollableAncestors:oe,scrollAdjustedTranslate:fe},w.current={initial:be,translated:ye}},[z,V,De,ye,C,Re,be,F,_,h,oe,fe]),ur({...tt,delta:D,draggingRect:ye,pointerCoordinates:ot,scrollableAncestors:oe,scrollableAncestorRects:Me});const yn=l.useMemo(()=>({active:z,activeNode:V,activeNodeRect:Q,activatorEvent:Y,collisions:De,containerNodeRect:Ee,dragOverlay:he,draggableNodes:C,droppableContainers:_,droppableRects:F,over:h,measureDroppableContainers:Se,scrollableAncestors:oe,scrollableAncestorRects:Me,measuringConfiguration:H,measuringScheduled:et,windowRect:Ie}),[z,V,Q,Y,De,Ee,he,C,_,F,h,Se,oe,Me,H,et,Ie]),vn=l.useMemo(()=>({activatorEvent:Y,activators:at,active:z,activeNodeRect:Q,ariaDescribedById:{draggable:ie},dispatch:E,draggableNodes:C,over:h,measureDroppableContainers:Se}),[Y,at,z,Q,E,ie,C,h,Se]);return q.createElement(tn.Provider,{value:R},q.createElement(Ze.Provider,{value:vn},q.createElement(pn.Provider,{value:yn},q.createElement(yt.Provider,{value:P},x)),q.createElement(Tr,{disabled:c?.restoreFocus===!1})),q.createElement(Bn,{...c,hiddenTextDescribedById:ie}));function wn(){const K=le?.autoScrollEnabled===!1,ee=typeof u=="object"?u.enabled===!1:u===!1,te=M&&!K&&!ee;return typeof u=="object"?{...u,enabled:te}:{enabled:te}}}),Or=l.createContext(null),Gt="button",zr="Draggable";function qr(e){let{id:n,data:r,disabled:i=!1,attributes:o}=e;const a=pt(zr),{activators:d,activatorEvent:c,active:u,activeNodeRect:x,ariaDescribedById:p,draggableNodes:g,over:f}=l.useContext(Ze),{role:b=Gt,roleDescription:T="draggable",tabIndex:y=0}=o??{},S=u?.id===n,E=l.useContext(S?yt:Or),[A,R]=ct(),[v,m]=ct(),M=Cr(d,n),N=Xe(r);pe(()=>(g.set(n,{id:n,key:a,node:A,activatorNode:v,data:N}),()=>{const D=g.get(n);D&&D.key===a&&g.delete(n)}),[g,n]);const C=l.useMemo(()=>({role:b,tabIndex:y,"aria-disabled":i,"aria-pressed":S&&b===Gt?!0:void 0,"aria-roledescription":T,"aria-describedby":p.draggable}),[i,b,y,S,T,p.draggable]);return{active:u,activatorEvent:c,activeNodeRect:x,attributes:C,isDragging:S,listeners:i?void 0:M,node:A,over:f,setNodeRef:R,setActivatorNodeRef:m,transform:E}}function Ir(){return l.useContext(pn)}const $r="Droppable",Fr={timeout:25};function Pr(e){let{data:n,disabled:r=!1,id:i,resizeObserverConfig:o}=e;const a=pt($r),{active:d,dispatch:c,over:u,measureDroppableContainers:x}=l.useContext(Ze),p=l.useRef({disabled:r}),g=l.useRef(!1),f=l.useRef(null),b=l.useRef(null),{disabled:T,updateMeasurementsFor:y,timeout:S}={...Fr,...o},E=Xe(y??i),A=l.useCallback(()=>{if(!g.current){g.current=!0;return}b.current!=null&&clearTimeout(b.current),b.current=setTimeout(()=>{x(Array.isArray(E.current)?E.current:[E.current]),b.current=null},S)},[S]),R=bt({callback:A,disabled:T||!d}),v=l.useCallback((C,D)=>{R&&(D&&(R.unobserve(D),g.current=!1),C&&R.observe(C))},[R]),[m,M]=ct(v),N=Xe(n);return l.useEffect(()=>{!R||!m.current||(R.disconnect(),g.current=!1,R.observe(m.current))},[m,R]),l.useEffect(()=>(c({type:$.RegisterDroppable,element:{id:i,key:a,disabled:r,node:m,rect:f,data:N}}),()=>c({type:$.UnregisterDroppable,key:a,id:i})),[i]),l.useEffect(()=>{r!==p.current.disabled&&(c({type:$.SetDroppableDisabled,id:i,key:a,disabled:r}),p.current.disabled=r)},[i,a,r,c]),{active:d,rect:f,isOver:u?.id===i,node:m,over:u,setNodeRef:M}}function Wr(e){let{animation:n,children:r}=e;const[i,o]=l.useState(null),[a,d]=l.useState(null),c=dt(r);return!r&&!i&&c&&o(c),pe(()=>{if(!a)return;const u=i?.key,x=i?.props.id;if(u==null||x==null){o(null);return}Promise.resolve(n(x,a)).then(()=>{o(null)})},[n,i,a]),q.createElement(q.Fragment,null,r,i?l.cloneElement(i,{ref:d}):null)}const Ur={x:0,y:0,scaleX:1,scaleY:1};function Yr(e){let{children:n}=e;return q.createElement(Ze.Provider,{value:mn},q.createElement(yt.Provider,{value:Ur},n))}const Hr={position:"fixed",touchAction:"none"},Xr=e=>Tt(e)?"transform 250ms ease":void 0,Vr=l.forwardRef((e,n)=>{let{as:r,activatorEvent:i,adjustScale:o,children:a,className:d,rect:c,style:u,transform:x,transition:p=Xr}=e;if(!c)return null;const g=o?x:{...x,scaleX:1,scaleY:1},f={...Hr,width:c.width,height:c.height,top:c.top,left:c.left,transform:Ve.Transform.toString(g),transformOrigin:o&&i?qn(i,c):void 0,transition:typeof p=="function"?p(i):p,...u};return q.createElement(r,{className:d,style:f,ref:n},a)}),Kr=e=>n=>{let{active:r,dragOverlay:i}=n;const o={},{styles:a,className:d}=e;if(a!=null&&a.active)for(const[c,u]of Object.entries(a.active))u!==void 0&&(o[c]=r.node.style.getPropertyValue(c),r.node.style.setProperty(c,u));if(a!=null&&a.dragOverlay)for(const[c,u]of Object.entries(a.dragOverlay))u!==void 0&&i.node.style.setProperty(c,u);return d!=null&&d.active&&r.node.classList.add(d.active),d!=null&&d.dragOverlay&&i.node.classList.add(d.dragOverlay),function(){for(const[u,x]of Object.entries(o))r.node.style.setProperty(u,x);d!=null&&d.active&&r.node.classList.remove(d.active)}},Gr=e=>{let{transform:{initial:n,final:r}}=e;return[{transform:Ve.Transform.toString(n)},{transform:Ve.Transform.toString(r)}]},Jr={duration:250,easing:"ease",keyframes:Gr,sideEffects:Kr({styles:{active:{opacity:"0"}}})};function Qr(e){let{config:n,draggableNodes:r,droppableContainers:i,measuringConfiguration:o}=e;return mt((a,d)=>{if(n===null)return;const c=r.get(a);if(!c)return;const u=c.node.current;if(!u)return;const x=fn(d);if(!x)return;const{transform:p}=G(d).getComputedStyle(d),g=rn(p);if(!g)return;const f=typeof n=="function"?n:Zr(n);return un(u,o.draggable.measure),f({active:{id:a,data:c.data,node:u,rect:o.draggable.measure(u)},draggableNodes:r,dragOverlay:{node:d,rect:o.dragOverlay.measure(x)},droppableContainers:i,measuringConfiguration:o,transform:g})})}function Zr(e){const{duration:n,easing:r,sideEffects:i,keyframes:o}={...Jr,...e};return a=>{let{active:d,dragOverlay:c,transform:u,...x}=a;if(!n)return;const p={x:c.rect.left-d.rect.left,y:c.rect.top-d.rect.top},g={scaleX:u.scaleX!==1?d.rect.width*u.scaleX/c.rect.width:1,scaleY:u.scaleY!==1?d.rect.height*u.scaleY/c.rect.height:1},f={x:u.x-p.x,y:u.y-p.y,...g},b=o({...x,active:d,dragOverlay:c,transform:{initial:u,final:f}}),[T]=b,y=b[b.length-1];if(JSON.stringify(T)===JSON.stringify(y))return;const S=i?.({active:d,dragOverlay:c,...x}),E=c.node.animate(b,{duration:n,easing:r,fill:"forwards"});return new Promise(A=>{E.onfinish=()=>{S?.(),A()}})}}let Jt=0;function es(e){return l.useMemo(()=>{if(e!=null)return Jt++,Jt},[e])}const ts=q.memo(e=>{let{adjustScale:n=!1,children:r,dropAnimation:i,style:o,transition:a,modifiers:d,wrapperElement:c="div",className:u,zIndex:x=999}=e;const{activatorEvent:p,active:g,activeNodeRect:f,containerNodeRect:b,draggableNodes:T,droppableContainers:y,dragOverlay:S,over:E,measuringConfiguration:A,scrollableAncestors:R,scrollableAncestorRects:v,windowRect:m}=Ir(),M=l.useContext(yt),N=es(g?.id),C=bn(d,{activatorEvent:p,active:g,activeNodeRect:f,containerNodeRect:b,draggingNodeRect:S.rect,over:E,overlayNodeRect:S.rect,scrollableAncestors:R,scrollableAncestorRects:v,transform:M,windowRect:m}),D=qt(f),_=Qr({config:i,draggableNodes:T,droppableContainers:y,measuringConfiguration:A}),L=D?S.setRef:void 0;return q.createElement(Yr,null,q.createElement(Wr,{animation:_},g&&N?q.createElement(Vr,{key:N,id:g.id,ref:L,as:c,activatorEvent:p,adjustScale:n,className:u,transition:a,rect:D,style:{zIndex:x,...o},transform:C},r):null))});function Qt({id:e,children:n,data:r}){const{attributes:i,listeners:o,setNodeRef:a,transform:d,isDragging:c}=qr({id:e,data:r}),u=d?{transform:`translate3d(${d.x}px, ${d.y}px, 0)`}:void 0;return t.jsx("div",{ref:a,style:u,...o,...i,className:`cursor-grab active:cursor-grabbing ${c?"opacity-50":""}`,children:n})}function ns({event:e,children:n,isOver:r}){const{setNodeRef:i}=Pr({id:`event-${e.id}`,data:{event:e}});return t.jsx("div",{ref:i,className:`bg-gray-800/50 rounded-xl border-2 transition-all ${r?"border-orange-500 bg-orange-500/10":"border-gray-700/50"}`,children:n})}function rs({events:e,crewMembers:n,equipment:r,onAssignCrew:i,onUnassignCrew:o,onAssignEquipment:a,onUnassignEquipment:d}){const[c,u]=l.useState(null),[x,p]=l.useState(null),[g,f]=l.useState(null),b=On(Nt(zt,{activationConstraint:{distance:8}}),Nt(xn,{activationConstraint:{delay:250,tolerance:5}}),Nt(Bt)),T=new Date;T.setHours(0,0,0,0);const y=e.filter(m=>new Date(m.date)>=T&&m.status!=="cancelled"&&m.status!=="completed").sort((m,M)=>new Date(m.date)-new Date(M.date));function S(m){u(m.active.id),p(m.active.data.current)}function E(m){f(m.over?.id||null)}function A(m){const{active:M,over:N}=m;if(N&&N.id.toString().startsWith("event-")){const C=N.id.toString().replace("event-",""),D=e.find(_=>_.id===C);if(D&&M.data.current){const{type:_,item:L}=M.data.current;_==="crew"?i(D,L):_==="equipment"&&a(D,L)}}u(null),p(null),f(null)}function R(){u(null),p(null),f(null)}function v(m){return new Date(m+"T00:00:00").toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}return new Set(y.flatMap(m=>m.crew_ids||[])),new Set(y.flatMap(m=>m.equipment_ids||[])),t.jsxs(Br,{sensors:b,collisionDetection:Pn,onDragStart:S,onDragOver:E,onDragEnd:A,onDragCancel:R,children:[t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:["üìÖ Upcoming Events",t.jsx("span",{className:"text-sm font-normal text-gray-400",children:"Drop crew & equipment here"})]}),t.jsxs("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-2",children:[y.map(m=>{const M=g===`event-${m.id}`,N=n.filter(D=>(m.crew_ids||[]).includes(D.id)),C=r.filter(D=>(m.equipment_ids||[]).includes(D.id));return t.jsx(ns,{event:m,isOver:M,children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-white",children:m.name}),t.jsx("p",{className:"text-orange-500 text-sm",children:m.client})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-400",children:v(m.date)}),t.jsx("div",{className:`text-xs px-2 py-0.5 rounded-full inline-block mt-1 ${m.status==="confirmed"?"bg-green-500/20 text-green-400":m.status==="tentative"?"bg-yellow-500/20 text-yellow-400":"bg-gray-500/20 text-gray-400"}`,children:m.status})]})]}),t.jsxs("div",{className:"mb-2",children:[t.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["üë• Crew (",N.length,")"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:N.length===0?t.jsx("span",{className:"text-xs text-gray-600 italic",children:"No crew assigned"}):N.map(D=>t.jsxs("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded flex items-center gap-1 group",children:[D.name,t.jsx("button",{onClick:()=>o(m,D),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:"√ó"})]},D.id))})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["üì∑ Equipment (",C.length,")"]}),t.jsx("div",{className:"flex flex-wrap gap-1",children:C.length===0?t.jsx("span",{className:"text-xs text-gray-600 italic",children:"No equipment assigned"}):C.map(D=>t.jsxs("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded flex items-center gap-1 group",children:[D.name,t.jsx("button",{onClick:()=>d(m,D),className:"opacity-0 group-hover:opacity-100 hover:text-red-400 transition",children:"√ó"})]},D.id))})]})]})},m.id)}),y.length===0&&t.jsx("div",{className:"text-center text-gray-500 py-12",children:"No upcoming events to assign"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:"üë• Crew Pool"}),t.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[n.map(m=>t.jsx(Qt,{id:`crew-${m.id}`,data:{type:"crew",item:m},children:t.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-green-500/50 transition",children:[t.jsx("div",{className:"font-medium text-white text-sm",children:m.name}),t.jsx("div",{className:"text-xs text-gray-400",children:m.role||"No role"})]})},m.id)),n.length===0&&t.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No crew members"})]})]}),t.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[t.jsx("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:"üì∑ Equipment Pool"}),t.jsxs("div",{className:"space-y-2 max-h-[250px] overflow-y-auto",children:[r.map(m=>t.jsx(Qt,{id:`equip-${m.id}`,data:{type:"equipment",item:m},children:t.jsxs("div",{className:"p-2 bg-gray-700/50 rounded-lg border border-gray-600/50 hover:border-blue-500/50 transition",children:[t.jsx("div",{className:"font-medium text-white text-sm",children:m.name}),t.jsxs("div",{className:"text-xs text-gray-400",children:[m.category," √ó ",m.quantity]})]})},m.id)),r.length===0&&t.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No equipment"})]})]})]})]}),t.jsx(ts,{children:c&&x&&t.jsx("div",{className:`p-2 rounded-lg border shadow-xl ${x.type==="crew"?"bg-green-600 border-green-500":"bg-blue-600 border-blue-500"}`,children:t.jsx("div",{className:"font-medium text-white text-sm",children:x.item.name})})})]})}function as(){const[e,n]=l.useState([]),[r,i]=l.useState([]),[o,a]=l.useState([]),[d,c]=l.useState(!0),[u,x]=l.useState("grid"),[p,g]=l.useState(null),[f,b]=l.useState("events"),[T,y]=l.useState(!1),[S,E]=l.useState(!1),[A,R]=l.useState(!1),[v,m]=l.useState(null),[M,N]=l.useState(null),[C,D]=l.useState(null),[_,L]=l.useState(null),[w,z]=l.useState({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""}),[I,le]=l.useState({name:"",role:"",phone:"",email:""}),[J,Y]=l.useState({name:"",category:"Camera",quantity:1,notes:""}),[Ce,ge]=l.useState("upcoming"),[ie,qe]=l.useState(new Date);l.useEffect(()=>{H()},[]);async function H(){c(!0);const[s,h,j]=await Promise.all([W.from("production_events").select("*").order("date",{ascending:!0}),W.from("crew_members").select("*").order("name"),W.from("equipment_inventory").select("*").order("category, name")]);n(s.data||[]),i(h.data||[]),a(j.data||[]),c(!1)}const F=new Date;F.setHours(0,0,0,0);const Se=e.filter(s=>new Date(s.date)>=F&&s.status!=="cancelled").length,et=e.filter(s=>{const h=new Date(s.date);return h.getMonth()===F.getMonth()&&h.getFullYear()===F.getFullYear()&&s.status!=="cancelled"}).length,V=e.filter(s=>new Date(s.date)>=F&&(!s.crew_ids||s.crew_ids.length===0)).length,ke=e.filter(s=>{const h=new Date(s.date);return Ce==="upcoming"?h>=F&&s.status!=="completed"&&s.status!=="cancelled":Ce==="completed"?s.status==="completed":Ce==="thisMonth"?h.getMonth()===F.getMonth()&&h.getFullYear()===F.getFullYear():!0});async function tt(s){s.preventDefault();const h={name:w.name,client:w.client,date:w.date,location:w.location,status:w.status,notes:w.notes,crew_ids:w.crew_ids,equipment_ids:w.equipment_ids,flight_links:w.flight_links.split(",").map(j=>j.trim()).filter(Boolean),accommodation_links:w.accommodation_links.split(",").map(j=>j.trim()).filter(Boolean),rental_links:w.rental_links.split(",").map(j=>j.trim()).filter(Boolean)};M?await W.from("production_events").update(h).eq("id",M.id):await W.from("production_events").insert([h]),y(!1),N(null),Ee(),H()}async function nt(s){confirm("Delete this event? This cannot be undone.")&&(await W.from("production_events").delete().eq("id",s),m(null),H())}function Q(s){N(s),z({name:s.name,client:s.client,date:s.date,location:s.location||"",status:s.status,notes:s.notes||"",crew_ids:s.crew_ids||[],equipment_ids:s.equipment_ids||[],flight_links:(s.flight_links||[]).join(", "),accommodation_links:(s.accommodation_links||[]).join(", "),rental_links:(s.rental_links||[]).join(", ")}),y(!0)}function Ee(){z({name:"",client:"",date:"",location:"",status:"tentative",notes:"",crew_ids:[],equipment_ids:[],flight_links:"",accommodation_links:"",rental_links:""})}async function xe(s){s.preventDefault(),C?await W.from("crew_members").update(I).eq("id",C.id):await W.from("crew_members").insert([I]),E(!1),D(null),le({name:"",role:"",phone:"",email:""}),H()}function rt(s){D(s),le({name:s.name,role:s.role||"",phone:s.phone||"",email:s.email||""}),E(!0)}async function he(s){confirm("Delete this crew member?")&&(await W.from("crew_members").delete().eq("id",s),H())}async function Re(s){s.preventDefault(),_?await W.from("equipment_inventory").update(J).eq("id",_.id):await W.from("equipment_inventory").insert([J]),R(!1),L(null),Y({name:"",category:"Camera",quantity:1,notes:""}),H()}function be(s){L(s),Y({name:s.name,category:s.category||"Camera",quantity:s.quantity||1,notes:s.notes||""}),R(!0)}async function st(s){confirm("Delete this equipment?")&&(await W.from("equipment_inventory").delete().eq("id",s),H())}async function it(s,h,j){const k=e.find(O=>O.id===s);if(!k)return;const P=j?[...k.crew_ids||[],h]:(k.crew_ids||[]).filter(O=>O!==h);await W.from("production_events").update({crew_ids:P}).eq("id",s),H(),v?.id===s&&m({...v,crew_ids:P})}async function Ie(s,h,j){const k=e.find(O=>O.id===s);if(!k)return;const P=j?[...k.equipment_ids||[],h]:(k.equipment_ids||[]).filter(O=>O!==h);await W.from("production_events").update({equipment_ids:P}).eq("id",s),H(),v?.id===s&&m({...v,equipment_ids:P})}function oe(s){return new Date(s).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"})}function Me(s){return new Date(s).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}function Ae(s){return(s||[]).map(h=>r.find(j=>j.id===h)).filter(Boolean)}function ot(s){return(s||[]).map(h=>o.find(j=>j.id===h)).filter(Boolean)}function Te(s){const[h,j,k]=s.split("-").map(Number),P=new Date(h,j-1,k),O=new Date;O.setHours(0,0,0,0);const ce=Math.round((P-O)/(1e3*60*60*24));return ce===0?"Today":ce===1?"Tomorrow":ce<0?`${Math.abs(ce)}d ago`:`${ce}d`}const _e={confirmed:"bg-green-500",tentative:"bg-yellow-500",completed:"bg-gray-500",cancelled:"bg-red-500"},vt={confirmed:"border-green-500/30",tentative:"border-yellow-500/30",completed:"border-gray-500/30",cancelled:"border-red-500/30"},fe=["Camera","Lens","Audio","Lighting","Support","Monitor","Power","Media","Transport","Other"];function ye(){const s=ie.getFullYear(),h=ie.getMonth(),j=new Date(s,h,1),k=new Date(s,h+1,0),P=j.getDay(),O=[];for(let Z=P-1;Z>=0;Z--){const at=new Date(s,h,-Z);O.push({date:at,isCurrentMonth:!1})}for(let Z=1;Z<=k.getDate();Z++)O.push({date:new Date(s,h,Z),isCurrentMonth:!0});const ce=42-O.length;for(let Z=1;Z<=ce;Z++)O.push({date:new Date(s,h+1,Z),isCurrentMonth:!1});return O}function De(s){const h=s.getFullYear(),j=String(s.getMonth()+1).padStart(2,"0"),k=String(s.getDate()).padStart(2,"0"),P=`${h}-${j}-${k}`;return e.filter(O=>O.date===P)}return d?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-pulse text-gray-400",children:"Loading..."})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Crew & Logistics"}),t.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage teams, equipment, and travel for events"})]}),f==="events"&&t.jsxs("button",{onClick:()=>{Ee(),N(null),y(!0)},className:"bg-orange-600 hover:bg-orange-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Event"]}),f==="crew"&&t.jsxs("button",{onClick:()=>{D(null),le({name:"",role:"",phone:"",email:""}),E(!0)},className:"bg-green-600 hover:bg-green-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Crew"]}),f==="equipment"&&t.jsxs("button",{onClick:()=>{L(null),Y({name:"",category:"Camera",quantity:1,notes:""}),R(!0)},className:"bg-blue-600 hover:bg-blue-700 px-4 py-2.5 rounded-lg font-medium flex items-center justify-center sm:justify-start",children:[t.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Equipment"]})]}),t.jsxs("div",{className:"flex space-x-1 bg-gray-800/50 rounded-xl p-1 border border-gray-700/50",children:[t.jsxs("button",{onClick:()=>b("events"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${f==="events"?"bg-orange-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[t.jsx("span",{children:"üìÖ"}),t.jsx("span",{children:"Events"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${f==="events"?"bg-orange-700":"bg-gray-700"}`,children:Se})]}),t.jsxs("button",{onClick:()=>b("crew"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${f==="crew"?"bg-green-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[t.jsx("span",{children:"üë•"}),t.jsx("span",{children:"Crew"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${f==="crew"?"bg-green-700":"bg-gray-700"}`,children:r.length})]}),t.jsxs("button",{onClick:()=>b("equipment"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${f==="equipment"?"bg-blue-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[t.jsx("span",{children:"üì∑"}),t.jsx("span",{children:"Equipment"}),t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${f==="equipment"?"bg-blue-700":"bg-gray-700"}`,children:o.length})]}),t.jsxs("button",{onClick:()=>b("assign"),className:`flex-1 px-4 py-3 rounded-lg font-medium transition flex items-center justify-center gap-2 ${f==="assign"?"bg-purple-600 text-white":"text-gray-400 hover:text-white hover:bg-gray-700/50"}`,children:[t.jsx("span",{children:"üéØ"}),t.jsx("span",{className:"hidden sm:inline",children:"Assign"})]})]}),f==="events"&&t.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[t.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[t.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-orange-500",children:Se}),t.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Upcoming Events"})]}),t.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[t.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-500",children:r.length}),t.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Crew Members"})]}),t.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[t.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-500",children:o.length}),t.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:"Equipment Items"})]}),t.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[t.jsx("div",{className:`text-2xl sm:text-3xl font-bold ${V>0?"text-red-500":"text-purple-500"}`,children:V>0?V:et}),t.jsx("div",{className:"text-gray-400 text-xs sm:text-sm",children:V>0?"‚ö†Ô∏è Need Crew":"This Month"})]})]}),f==="events"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[t.jsxs("div",{className:"flex items-center overflow-x-auto pb-2 sm:pb-0 -mx-1 px-1",children:[t.jsx("span",{className:"text-gray-400 text-sm mr-3 whitespace-nowrap",children:"Filter:"}),t.jsx("div",{className:"flex space-x-2",children:[{key:"upcoming",label:"Upcoming"},{key:"all",label:"All"},{key:"thisMonth",label:"This Month"},{key:"completed",label:"Completed"}].map(s=>t.jsx("button",{onClick:()=>ge(s.key),className:`px-3 py-1.5 rounded-lg text-sm whitespace-nowrap transition ${Ce===s.key?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:s.label},s.key))})]}),t.jsxs("div",{className:"flex items-center space-x-1 bg-gray-800 rounded-lg p-1",children:[t.jsx("button",{onClick:()=>x("grid"),className:`p-2 rounded ${u==="grid"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Grid View",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),t.jsx("button",{onClick:()=>x("list"),className:`p-2 rounded ${u==="list"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"List View",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})})}),t.jsx("button",{onClick:()=>x("calendar"),className:`p-2 rounded ${u==="calendar"?"bg-gray-700 text-white":"text-gray-400 hover:text-white"}`,title:"Calendar View",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})]}),u==="grid"&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:[ke.map(s=>t.jsxs("div",{onClick:()=>m(s),className:`bg-gray-800/50 rounded-xl border ${vt[s.status]} p-4 sm:p-5 hover:border-orange-500/50 transition cursor-pointer`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("span",{className:`${_e[s.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:s.status}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:"text-gray-400 text-sm",children:oe(s.date)}),t.jsx("div",{className:`text-xs ${new Date(s.date)<F?"text-gray-500":"text-orange-400"}`,children:Te(s.date)})]})]}),t.jsx("h3",{className:"font-bold text-white mb-1 line-clamp-1",children:s.name}),t.jsx("p",{className:"text-orange-500 text-sm mb-3",children:s.client}),s.location&&t.jsxs("p",{className:"text-gray-400 text-sm mb-3 flex items-center",children:[t.jsx("svg",{className:"w-4 h-4 mr-1 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"})}),t.jsx("span",{className:"truncate",children:s.location})]}),t.jsxs("div",{className:"flex items-center flex-wrap gap-2 text-xs",children:[t.jsxs("span",{className:`px-2 py-1 rounded ${(s.crew_ids?.length||0)>0?"bg-green-500/20 text-green-400":"bg-gray-700 text-gray-500"}`,children:["üë• ",s.crew_ids?.length||0," crew"]}),t.jsxs("span",{className:`px-2 py-1 rounded ${(s.equipment_ids?.length||0)>0?"bg-blue-500/20 text-blue-400":"bg-gray-700 text-gray-500"}`,children:["üì∑ ",s.equipment_ids?.length||0," items"]}),(s.flight_links?.length||0)+(s.accommodation_links?.length||0)+(s.rental_links?.length||0)>0&&t.jsx("span",{className:"px-2 py-1 rounded bg-purple-500/20 text-purple-400",children:"‚úàÔ∏è Travel"})]})]},s.id)),ke.length===0&&t.jsx("div",{className:"col-span-full text-center py-12 text-gray-500",children:t.jsx("p",{children:"No events found."})})]}),u==="list"&&t.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full min-w-[600px]",children:[t.jsx("thead",{className:"bg-gray-800/50",children:t.jsxs("tr",{className:"text-left text-gray-400 text-xs uppercase",children:[t.jsx("th",{className:"px-4 py-3",children:"Date"}),t.jsx("th",{className:"px-4 py-3",children:"Event"}),t.jsx("th",{className:"px-4 py-3 hidden sm:table-cell",children:"Client"}),t.jsx("th",{className:"px-4 py-3",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center",children:"Crew"}),t.jsx("th",{className:"px-4 py-3 text-center",children:"Gear"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-700/50",children:ke.map(s=>t.jsxs("tr",{onClick:()=>m(s),className:"hover:bg-gray-800/50 cursor-pointer transition",children:[t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"text-white text-sm",children:oe(s.date)}),t.jsx("div",{className:`text-xs ${new Date(s.date)<F?"text-gray-500":"text-orange-400"}`,children:Te(s.date)})]}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-white",children:s.name}),t.jsx("div",{className:"text-sm text-gray-400 sm:hidden",children:s.client})]}),t.jsx("td",{className:"px-4 py-3 text-orange-500 text-sm hidden sm:table-cell",children:s.client}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`${_e[s.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:s.status})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`text-sm ${(s.crew_ids?.length||0)>0?"text-green-400":"text-gray-500"}`,children:s.crew_ids?.length||0})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:`text-sm ${(s.equipment_ids?.length||0)>0?"text-blue-400":"text-gray-500"}`,children:s.equipment_ids?.length||0})})]},s.id))})]})}),ke.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500",children:"No events found."})]}),u==="calendar"&&t.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("button",{onClick:()=>qe(new Date(ie.getFullYear(),ie.getMonth()-1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("h3",{className:"text-lg font-bold text-white",children:ie.toLocaleDateString("en-AU",{month:"long",year:"numeric"})}),t.jsx("button",{onClick:()=>qe(new Date(ie.getFullYear(),ie.getMonth()+1)),className:"p-2 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),t.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(s=>t.jsx("div",{className:"text-center text-xs text-gray-500 py-2 font-medium",children:s},s)),ye().map((s,h)=>{const j=De(s.date),k=s.date.toDateString()===new Date().toDateString();return t.jsxs("div",{className:`min-h-[80px] sm:min-h-[100px] p-1 border border-gray-700/30 rounded ${s.isCurrentMonth?"bg-gray-800/30":"bg-gray-900/30"} ${k?"ring-2 ring-orange-500":""}`,children:[t.jsx("div",{className:`text-xs mb-1 ${s.isCurrentMonth?"text-gray-400":"text-gray-600"} ${k?"text-orange-500 font-bold":""}`,children:s.date.getDate()}),t.jsxs("div",{className:"space-y-1",children:[j.slice(0,2).map(P=>t.jsx("div",{onClick:O=>{O.stopPropagation(),m(P)},className:`text-xs px-1 py-0.5 rounded truncate cursor-pointer ${_e[P.status]} text-white`,children:P.name},P.id)),j.length>2&&t.jsxs("div",{className:"text-xs text-gray-500 px-1",children:["+",j.length-2," more"]})]})]},h)})]})]})]}),f==="crew"&&t.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h3",{className:"text-lg font-bold text-white",children:"üë• Crew Members"})}),t.jsxs("div",{className:"space-y-2",children:[r.map(s=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700/30 rounded-lg hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>rt(s),children:[t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("div",{className:"font-medium text-white",children:s.name}),t.jsx("div",{className:"text-sm text-gray-400 truncate",children:s.role||"No role assigned"})]}),t.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[s.phone&&t.jsx("a",{href:`tel:${s.phone}`,onClick:h=>h.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:"üìû"}),s.email&&t.jsx("a",{href:`mailto:${s.email}`,onClick:h=>h.stopPropagation(),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded",children:"‚úâÔ∏è"}),t.jsx("button",{onClick:h=>{h.stopPropagation(),he(s.id)},className:"p-2 text-red-500/50 hover:text-red-500 hover:bg-red-500/10 rounded",children:"üóëÔ∏è"})]})]},s.id)),r.length===0&&t.jsx("p",{className:"text-gray-500 text-center py-8",children:'No crew members yet. Click "Add Crew" to add one.'})]})]}),f==="equipment"&&t.jsxs("div",{className:"bg-gray-800/30 rounded-xl border border-gray-700/50 p-4 sm:p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("h3",{className:"text-lg font-bold text-white",children:"üì∑ Equipment Inventory"})}),t.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:[fe.filter(s=>o.some(h=>h.category===s)).map(s=>t.jsxs("div",{children:[t.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2 sticky top-0 bg-gray-800/90 py-1",children:s}),o.filter(h=>h.category===s).map(h=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700/30 rounded mb-1 hover:bg-gray-700/50 cursor-pointer transition",onClick:()=>be(h),children:[t.jsx("span",{className:"text-white text-sm",children:h.name}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("span",{className:"text-sm text-gray-400",children:["√ó",h.quantity]}),t.jsx("button",{onClick:j=>{j.stopPropagation(),st(h.id)},className:"text-red-500/50 hover:text-red-500 text-xs",children:"üóëÔ∏è"})]})]},h.id))]},s)),o.length===0&&t.jsx("p",{className:"text-gray-500 text-center py-8",children:'No equipment yet. Click "Add Equipment" to add some.'})]})]}),f==="assign"&&t.jsx(rs,{events:e,crewMembers:r,equipment:o,onAssignCrew:async(s,h)=>{const j=[...s.crew_ids||[],h.id];await W.from("production_events").update({crew_ids:j}).eq("id",s.id),n(e.map(k=>k.id===s.id?{...k,crew_ids:j}:k))},onUnassignCrew:async(s,h)=>{const j=(s.crew_ids||[]).filter(k=>k!==h.id);await W.from("production_events").update({crew_ids:j}).eq("id",s.id),n(e.map(k=>k.id===s.id?{...k,crew_ids:j}:k))},onAssignEquipment:async(s,h)=>{const j=[...s.equipment_ids||[],h.id];await W.from("production_events").update({equipment_ids:j}).eq("id",s.id),n(e.map(k=>k.id===s.id?{...k,equipment_ids:j}:k))},onUnassignEquipment:async(s,h)=>{const j=(s.equipment_ids||[]).filter(k=>k!==h.id);await W.from("production_events").update({equipment_ids:j}).eq("id",s.id),n(e.map(k=>k.id===s.id?{...k,equipment_ids:j}:k))}}),T&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-2xl my-4",children:[t.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:M?"Edit Event":"New Event"}),t.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:"√ó"})]}),t.jsxs("form",{onSubmit:tt,className:"p-4 sm:p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Event Name *"}),t.jsx("input",{type:"text",required:!0,value:w.name,onChange:s=>z({...w,name:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Client *"}),t.jsx("input",{type:"text",required:!0,value:w.client,onChange:s=>z({...w,client:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Date *"}),t.jsx("input",{type:"date",required:!0,value:w.date,onChange:s=>z({...w,date:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Status"}),t.jsxs("select",{value:w.status,onChange:s=>z({...w,status:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none",children:[t.jsx("option",{value:"tentative",children:"Tentative"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Location"}),t.jsx("input",{type:"text",value:w.location,onChange:s=>z({...w,location:s.target.value}),placeholder:"Venue, City",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),t.jsx("textarea",{rows:"2",value:w.notes,onChange:s=>z({...w,notes:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none resize-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Crew"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-32 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[r.map(s=>t.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[t.jsx("input",{type:"checkbox",checked:w.crew_ids.includes(s.id),onChange:h=>{const j=h.target.checked?[...w.crew_ids,s.id]:w.crew_ids.filter(k=>k!==s.id);z({...w,crew_ids:j})},className:"rounded border-gray-600 text-orange-500 focus:ring-orange-500"}),t.jsx("span",{className:"text-white text-sm",children:s.name})]},s.id)),r.length===0&&t.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No crew members to assign"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Assign Equipment"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-40 overflow-y-auto bg-gray-900/50 rounded-lg p-2",children:[o.map(s=>t.jsxs("label",{className:"flex items-center space-x-2 p-2 bg-gray-700/30 rounded cursor-pointer hover:bg-gray-700/50",children:[t.jsx("input",{type:"checkbox",checked:w.equipment_ids.includes(s.id),onChange:h=>{const j=h.target.checked?[...w.equipment_ids,s.id]:w.equipment_ids.filter(k=>k!==s.id);z({...w,equipment_ids:j})},className:"rounded border-gray-600 text-blue-500 focus:ring-blue-500"}),t.jsx("span",{className:"text-sm text-white truncate",children:s.name})]},s.id)),o.length===0&&t.jsx("p",{className:"text-gray-500 text-sm col-span-2 text-center py-2",children:"No equipment to assign"})]})]}),t.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[t.jsx("h4",{className:"font-medium text-white mb-3",children:"‚úàÔ∏è Travel & Logistics"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Flight Links"}),t.jsx("input",{type:"text",value:w.flight_links,onChange:s=>z({...w,flight_links:s.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Accommodation Links"}),t.jsx("input",{type:"text",value:w.accommodation_links,onChange:s=>z({...w,accommodation_links:s.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Rental Car Links"}),t.jsx("input",{type:"text",value:w.rental_links,onChange:s=>z({...w,rental_links:s.target.value}),placeholder:"Comma-separated URLs",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white text-sm focus:border-orange-500 focus:outline-none"})]})]})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:M?"Save Changes":"Create Event"})]})]})]})}),v&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-start sm:items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-3xl my-4",children:[t.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between sticky top-0 bg-gray-800 rounded-t-xl",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:v.name}),t.jsx("p",{className:"text-orange-500 text-sm",children:v.client})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>{g(v),m(null)},className:"px-3 py-1.5 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium flex items-center gap-1",children:"üìã Brief"}),t.jsx("button",{onClick:()=>{Q(v),m(null)},className:"px-3 py-1.5 bg-orange-600 hover:bg-orange-700 rounded text-sm font-medium",children:"Edit"}),t.jsx("button",{onClick:()=>m(null),className:"text-gray-400 hover:text-white text-2xl leading-none",children:"√ó"})]})]}),t.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Date"}),t.jsx("p",{className:"font-medium text-white",children:Me(v.date)}),t.jsx("p",{className:`text-sm ${new Date(v.date)<F?"text-gray-500":"text-orange-400"}`,children:Te(v.date)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Location"}),t.jsx("p",{className:"font-medium text-white",children:v.location||"TBD"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Status"}),t.jsx("p",{children:t.jsx("span",{className:`${_e[v.status]} px-2 py-0.5 rounded text-xs font-medium capitalize`,children:v.status})})]})]}),v.notes&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Notes"}),t.jsx("p",{className:"mt-1 text-gray-300 text-sm",children:v.notes})]}),t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("h4",{className:"font-medium text-white",children:["üë• Crew (",Ae(v.crew_ids).length,")"]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.map(s=>{const h=(v.crew_ids||[]).includes(s.id);return t.jsxs("div",{onClick:()=>it(v.id,s.id,!h),className:`p-3 rounded-lg cursor-pointer transition flex items-center justify-between ${h?"bg-green-500/20 border border-green-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-white",children:s.name}),t.jsx("span",{className:"text-gray-400 text-sm ml-2",children:s.role})]}),h?t.jsx("span",{className:"text-green-400 text-sm",children:"‚úì Assigned"}):t.jsx("span",{className:"text-gray-500 text-sm",children:"+ Add"})]},s.id)})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-3",children:t.jsxs("h4",{className:"font-medium text-white",children:["üì∑ Equipment (",ot(v.equipment_ids).length,")"]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 max-h-48 overflow-y-auto",children:o.map(s=>{const h=(v.equipment_ids||[]).includes(s.id);return t.jsxs("div",{onClick:()=>Ie(v.id,s.id,!h),className:`p-2 rounded-lg cursor-pointer transition flex items-center justify-between ${h?"bg-blue-500/20 border border-blue-500/50":"bg-gray-700/30 border border-gray-700 hover:border-gray-600"}`,children:[t.jsx("span",{className:"text-white text-sm truncate",children:s.name}),h?t.jsx("span",{className:"text-blue-400 text-xs ml-2",children:"‚úì"}):t.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"+"})]},s.id)})})]}),t.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[t.jsx("h4",{className:"font-medium text-white mb-4",children:"‚úàÔ∏è Travel & Logistics"}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Flights"}),v.flight_links?.length?v.flight_links.map((s,h)=>t.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:["üîó Flight ",h+1]},h)):t.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Accommodation"}),v.accommodation_links?.length?v.accommodation_links.map((s,h)=>t.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:["üîó Booking ",h+1]},h)):t.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 text-xs uppercase",children:"Rental Cars"}),v.rental_links?.length?v.rental_links.map((s,h)=>t.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"block text-blue-400 hover:underline text-sm truncate mt-1",children:["üîó Rental ",h+1]},h)):t.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"None added"})]})]})]}),t.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-700",children:t.jsx("button",{onClick:()=>nt(v.id),className:"px-4 py-2 text-red-500 hover:bg-red-500/10 rounded-lg text-sm",children:"üóëÔ∏è Delete Event"})})]})]})}),S&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[t.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:C?"Edit Crew Member":"Add Crew Member"}),t.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:"√ó"})]}),t.jsxs("form",{onSubmit:xe,className:"p-4 sm:p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name *"}),t.jsx("input",{type:"text",required:!0,value:I.name,onChange:s=>le({...I,name:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Role"}),t.jsx("input",{type:"text",value:I.role,onChange:s=>le({...I,role:s.target.value}),placeholder:"e.g. Camera Operator, Director, Audio",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Phone"}),t.jsx("input",{type:"tel",value:I.phone,onChange:s=>le({...I,phone:s.target.value}),placeholder:"0400 000 000",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:I.email,onChange:s=>le({...I,email:s.target.value}),placeholder:"name@email.com",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-orange-500 focus:outline-none"})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-orange-600 hover:bg-orange-700 rounded-lg font-medium text-white",children:C?"Save Changes":"Add Crew"})]})]})]})}),p&&t.jsx(jn,{event:p,crew:r,equipment:o,onClose:()=>g(null)}),A&&t.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-gray-800 rounded-xl w-full max-w-md",children:[t.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-white",children:_?"Edit Equipment":"Add Equipment"}),t.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-white text-2xl leading-none",children:"√ó"})]}),t.jsxs("form",{onSubmit:Re,className:"p-4 sm:p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Equipment Name *"}),t.jsx("input",{type:"text",required:!0,value:J.name,onChange:s=>Y({...J,name:s.target.value}),placeholder:"e.g. Sony FX6",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Category"}),t.jsx("select",{value:J.category,onChange:s=>Y({...J,category:s.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none",children:fe.map(s=>t.jsx("option",{value:s,children:s},s))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Quantity"}),t.jsx("input",{type:"number",min:"1",value:J.quantity,onChange:s=>Y({...J,quantity:parseInt(s.target.value)||1}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Notes"}),t.jsx("input",{type:"text",value:J.notes||"",onChange:s=>Y({...J,notes:s.target.value}),placeholder:"Serial number, condition, etc.",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>R(!1),className:"px-4 py-2.5 bg-gray-700 hover:bg-gray-600 rounded-lg text-white",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium text-white",children:_?"Save Changes":"Add Equipment"})]})]})]})})]})}export{as as default};
